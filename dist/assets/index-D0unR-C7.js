var G5=Object.defineProperty;var K5=(r,t,e)=>t in r?G5(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var Wi=(r,t,e)=>K5(r,typeof t!="symbol"?t+"":t,e);function X5(r,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();var Nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Wv={exports:{}},cd={},Gv={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $l=Symbol.for("react.element"),Q5=Symbol.for("react.portal"),Y5=Symbol.for("react.fragment"),Z5=Symbol.for("react.strict_mode"),J5=Symbol.for("react.profiler"),e_=Symbol.for("react.provider"),t_=Symbol.for("react.context"),r_=Symbol.for("react.forward_ref"),n_=Symbol.for("react.suspense"),i_=Symbol.for("react.memo"),s_=Symbol.for("react.lazy"),fg=Symbol.iterator;function a_(r){return r===null||typeof r!="object"?null:(r=fg&&r[fg]||r["@@iterator"],typeof r=="function"?r:null)}var Kv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xv=Object.assign,Qv={};function lo(r,t,e){this.props=r,this.context=t,this.refs=Qv,this.updater=e||Kv}lo.prototype.isReactComponent={};lo.prototype.setState=function(r,t){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,t,"setState")};lo.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function Yv(){}Yv.prototype=lo.prototype;function Pp(r,t,e){this.props=r,this.context=t,this.refs=Qv,this.updater=e||Kv}var Mp=Pp.prototype=new Yv;Mp.constructor=Pp;Xv(Mp,lo.prototype);Mp.isPureReactComponent=!0;var pg=Array.isArray,Zv=Object.prototype.hasOwnProperty,Op={current:null},Jv={key:!0,ref:!0,__self:!0,__source:!0};function ey(r,t,e){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Zv.call(t,n)&&!Jv.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(c===1)i.children=e;else if(1<c){for(var l=Array(c),o=0;o<c;o++)l[o]=arguments[o+2];i.children=l}if(r&&r.defaultProps)for(n in c=r.defaultProps,c)i[n]===void 0&&(i[n]=c[n]);return{$$typeof:$l,type:r,key:s,ref:a,props:i,_owner:Op.current}}function o_(r,t){return{$$typeof:$l,type:r.type,key:t,ref:r.ref,props:r.props,_owner:r._owner}}function Dp(r){return typeof r=="object"&&r!==null&&r.$$typeof===$l}function l_(r){var t={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(e){return t[e]})}var mg=/\/+/g;function lh(r,t){return typeof r=="object"&&r!==null&&r.key!=null?l_(""+r.key):t.toString(36)}function qc(r,t,e,n,i){var s=typeof r;(s==="undefined"||s==="boolean")&&(r=null);var a=!1;if(r===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(r.$$typeof){case $l:case Q5:a=!0}}if(a)return a=r,i=i(a),r=n===""?"."+lh(a,0):n,pg(i)?(e="",r!=null&&(e=r.replace(mg,"$&/")+"/"),qc(i,t,e,"",function(o){return o})):i!=null&&(Dp(i)&&(i=o_(i,e+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(mg,"$&/")+"/")+r)),t.push(i)),1;if(a=0,n=n===""?".":n+":",pg(r))for(var c=0;c<r.length;c++){s=r[c];var l=n+lh(s,c);a+=qc(s,t,e,l,i)}else if(l=a_(r),typeof l=="function")for(r=l.call(r),c=0;!(s=r.next()).done;)s=s.value,l=n+lh(s,c++),a+=qc(s,t,e,l,i);else if(s==="object")throw t=String(r),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function yc(r,t,e){if(r==null)return r;var n=[],i=0;return qc(r,n,"","",function(s){return t.call(e,s,i++)}),n}function c_(r){if(r._status===-1){var t=r._result;t=t(),t.then(function(e){(r._status===0||r._status===-1)&&(r._status=1,r._result=e)},function(e){(r._status===0||r._status===-1)&&(r._status=2,r._result=e)}),r._status===-1&&(r._status=0,r._result=t)}if(r._status===1)return r._result.default;throw r._result}var Zr={current:null},Wc={transition:null},u_={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:Wc,ReactCurrentOwner:Op};function ty(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:yc,forEach:function(r,t,e){yc(r,function(){t.apply(this,arguments)},e)},count:function(r){var t=0;return yc(r,function(){t++}),t},toArray:function(r){return yc(r,function(t){return t})||[]},only:function(r){if(!Dp(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};_t.Component=lo;_t.Fragment=Y5;_t.Profiler=J5;_t.PureComponent=Pp;_t.StrictMode=Z5;_t.Suspense=n_;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u_;_t.act=ty;_t.cloneElement=function(r,t,e){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=Xv({},r.props),i=r.key,s=r.ref,a=r._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Op.current),t.key!==void 0&&(i=""+t.key),r.type&&r.type.defaultProps)var c=r.type.defaultProps;for(l in t)Zv.call(t,l)&&!Jv.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&c!==void 0?c[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=e;else if(1<l){c=Array(l);for(var o=0;o<l;o++)c[o]=arguments[o+2];n.children=c}return{$$typeof:$l,type:r.type,key:i,ref:s,props:n,_owner:a}};_t.createContext=function(r){return r={$$typeof:t_,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:e_,_context:r},r.Consumer=r};_t.createElement=ey;_t.createFactory=function(r){var t=ey.bind(null,r);return t.type=r,t};_t.createRef=function(){return{current:null}};_t.forwardRef=function(r){return{$$typeof:r_,render:r}};_t.isValidElement=Dp;_t.lazy=function(r){return{$$typeof:s_,_payload:{_status:-1,_result:r},_init:c_}};_t.memo=function(r,t){return{$$typeof:i_,type:r,compare:t===void 0?null:t}};_t.startTransition=function(r){var t=Wc.transition;Wc.transition={};try{r()}finally{Wc.transition=t}};_t.unstable_act=ty;_t.useCallback=function(r,t){return Zr.current.useCallback(r,t)};_t.useContext=function(r){return Zr.current.useContext(r)};_t.useDebugValue=function(){};_t.useDeferredValue=function(r){return Zr.current.useDeferredValue(r)};_t.useEffect=function(r,t){return Zr.current.useEffect(r,t)};_t.useId=function(){return Zr.current.useId()};_t.useImperativeHandle=function(r,t,e){return Zr.current.useImperativeHandle(r,t,e)};_t.useInsertionEffect=function(r,t){return Zr.current.useInsertionEffect(r,t)};_t.useLayoutEffect=function(r,t){return Zr.current.useLayoutEffect(r,t)};_t.useMemo=function(r,t){return Zr.current.useMemo(r,t)};_t.useReducer=function(r,t,e){return Zr.current.useReducer(r,t,e)};_t.useRef=function(r){return Zr.current.useRef(r)};_t.useState=function(r){return Zr.current.useState(r)};_t.useSyncExternalStore=function(r,t,e){return Zr.current.useSyncExternalStore(r,t,e)};_t.useTransition=function(){return Zr.current.useTransition()};_t.version="18.3.1";Gv.exports=_t;var ae=Gv.exports;const Fp=qv(ae),d_=X5({__proto__:null,default:Fp},[ae]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_=ae,f_=Symbol.for("react.element"),p_=Symbol.for("react.fragment"),m_=Object.prototype.hasOwnProperty,g_=h_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b_={key:!0,ref:!0,__self:!0,__source:!0};function ry(r,t,e){var n,i={},s=null,a=null;e!==void 0&&(s=""+e),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)m_.call(t,n)&&!b_.hasOwnProperty(n)&&(i[n]=t[n]);if(r&&r.defaultProps)for(n in t=r.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:f_,type:r,key:s,ref:a,props:i,_owner:g_.current}}cd.Fragment=p_;cd.jsx=ry;cd.jsxs=ry;Wv.exports=cd;var f=Wv.exports,Jh={},ny={exports:{}},Sn={},iy={exports:{}},sy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function t(_,k){var T=_.length;_.push(k);e:for(;0<T;){var B=T-1>>>1,V=_[B];if(0<i(V,k))_[B]=k,_[T]=V,T=B;else break e}}function e(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var k=_[0],T=_.pop();if(T!==k){_[0]=T;e:for(var B=0,V=_.length,q=V>>>1;B<q;){var W=2*(B+1)-1,J=_[W],z=W+1,X=_[z];if(0>i(J,T))z<V&&0>i(X,J)?(_[B]=X,_[z]=T,B=z):(_[B]=J,_[W]=T,B=W);else if(z<V&&0>i(X,T))_[B]=X,_[z]=T,B=z;else break e}}return k}function i(_,k){var T=_.sortIndex-k.sortIndex;return T!==0?T:_.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();r.unstable_now=function(){return a.now()-c}}var l=[],o=[],u=1,p=null,d=3,h=!1,g=!1,b=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(_){for(var k=e(o);k!==null;){if(k.callback===null)n(o);else if(k.startTime<=_)n(o),k.sortIndex=k.expirationTime,t(l,k);else break;k=e(o)}}function E(_){if(b=!1,w(_),!g)if(e(l)!==null)g=!0,x(A);else{var k=e(o);k!==null&&S(E,k.startTime-_)}}function A(_,k){g=!1,b&&(b=!1,y(C),C=-1),h=!0;var T=d;try{for(w(k),p=e(l);p!==null&&(!(p.expirationTime>k)||_&&!$());){var B=p.callback;if(typeof B=="function"){p.callback=null,d=p.priorityLevel;var V=B(p.expirationTime<=k);k=r.unstable_now(),typeof V=="function"?p.callback=V:p===e(l)&&n(l),w(k)}else n(l);p=e(l)}if(p!==null)var q=!0;else{var W=e(o);W!==null&&S(E,W.startTime-k),q=!1}return q}finally{p=null,d=T,h=!1}}var D=!1,L=null,C=-1,M=5,F=-1;function $(){return!(r.unstable_now()-F<M)}function U(){if(L!==null){var _=r.unstable_now();F=_;var k=!0;try{k=L(!0,_)}finally{k?j():(D=!1,L=null)}}else D=!1}var j;if(typeof v=="function")j=function(){v(U)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,N=P.port2;P.port1.onmessage=U,j=function(){N.postMessage(null)}}else j=function(){m(U,0)};function x(_){L=_,D||(D=!0,j())}function S(_,k){C=m(function(){_(r.unstable_now())},k)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(_){_.callback=null},r.unstable_continueExecution=function(){g||h||(g=!0,x(A))},r.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<_?Math.floor(1e3/_):5},r.unstable_getCurrentPriorityLevel=function(){return d},r.unstable_getFirstCallbackNode=function(){return e(l)},r.unstable_next=function(_){switch(d){case 1:case 2:case 3:var k=3;break;default:k=d}var T=d;d=k;try{return _()}finally{d=T}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(_,k){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var T=d;d=_;try{return k()}finally{d=T}},r.unstable_scheduleCallback=function(_,k,T){var B=r.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?B+T:B):T=B,_){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=T+V,_={id:u++,callback:k,priorityLevel:_,startTime:T,expirationTime:V,sortIndex:-1},T>B?(_.sortIndex=T,t(o,_),e(l)===null&&_===e(o)&&(b?(y(C),C=-1):b=!0,S(E,T-B))):(_.sortIndex=V,t(l,_),g||h||(g=!0,x(A))),_},r.unstable_shouldYield=$,r.unstable_wrapCallback=function(_){var k=d;return function(){var T=d;d=k;try{return _.apply(this,arguments)}finally{d=T}}}})(sy);iy.exports=sy;var v_=iy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_=ae,wn=v_;function Ie(r){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+r,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+r+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ay=new Set,dl={};function na(r,t){qa(r,t),qa(r+"Capture",t)}function qa(r,t){for(dl[r]=t,r=0;r<t.length;r++)ay.add(t[r])}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ef=Object.prototype.hasOwnProperty,x_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gg={},bg={};function w_(r){return ef.call(bg,r)?!0:ef.call(gg,r)?!1:x_.test(r)?bg[r]=!0:(gg[r]=!0,!1)}function __(r,t,e,n){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:e!==null?!e.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function S_(r,t,e,n){if(t===null||typeof t>"u"||__(r,t,e,n))return!0;if(n)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jr(r,t,e,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=r,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Mr[r]=new Jr(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var t=r[0];Mr[t]=new Jr(t,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Mr[r]=new Jr(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Mr[r]=new Jr(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Mr[r]=new Jr(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Mr[r]=new Jr(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Mr[r]=new Jr(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Mr[r]=new Jr(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Mr[r]=new Jr(r,5,!1,r.toLowerCase(),null,!1,!1)});var Lp=/[\-:]([a-z])/g;function Bp(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var t=r.replace(Lp,Bp);Mr[t]=new Jr(t,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var t=r.replace(Lp,Bp);Mr[t]=new Jr(t,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var t=r.replace(Lp,Bp);Mr[t]=new Jr(t,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Mr[r]=new Jr(r,1,!1,r.toLowerCase(),null,!1,!1)});Mr.xlinkHref=new Jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Mr[r]=new Jr(r,1,!1,r.toLowerCase(),null,!0,!0)});function Vp(r,t,e,n){var i=Mr.hasOwnProperty(t)?Mr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(S_(t,e,i,n)&&(e=null),n||i===null?w_(t)&&(e===null?r.removeAttribute(t):r.setAttribute(t,""+e)):i.mustUseProperty?r[i.propertyName]=e===null?i.type===3?!1:"":e:(t=i.attributeName,n=i.attributeNamespace,e===null?r.removeAttribute(t):(i=i.type,e=i===3||i===4&&e===!0?"":""+e,n?r.setAttributeNS(n,t,e):r.setAttribute(t,e))))}var Li=y_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xc=Symbol.for("react.element"),_a=Symbol.for("react.portal"),Sa=Symbol.for("react.fragment"),zp=Symbol.for("react.strict_mode"),tf=Symbol.for("react.profiler"),oy=Symbol.for("react.provider"),ly=Symbol.for("react.context"),Up=Symbol.for("react.forward_ref"),rf=Symbol.for("react.suspense"),nf=Symbol.for("react.suspense_list"),$p=Symbol.for("react.memo"),Xi=Symbol.for("react.lazy"),cy=Symbol.for("react.offscreen"),vg=Symbol.iterator;function ko(r){return r===null||typeof r!="object"?null:(r=vg&&r[vg]||r["@@iterator"],typeof r=="function"?r:null)}var rr=Object.assign,ch;function Bo(r){if(ch===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);ch=t&&t[1]||""}return`
`+ch+r}var uh=!1;function dh(r,t){if(!r||uh)return"";uh=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(o){var n=o}Reflect.construct(r,[],t)}else{try{t.call()}catch(o){n=o}r.call(t.prototype)}else{try{throw Error()}catch(o){n=o}r()}}catch(o){if(o&&n&&typeof o.stack=="string"){for(var i=o.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,c=s.length-1;1<=a&&0<=c&&i[a]!==s[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==s[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==s[c]){var l=`
`+i[a].replace(" at new "," at ");return r.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",r.displayName)),l}while(1<=a&&0<=c);break}}}finally{uh=!1,Error.prepareStackTrace=e}return(r=r?r.displayName||r.name:"")?Bo(r):""}function k_(r){switch(r.tag){case 5:return Bo(r.type);case 16:return Bo("Lazy");case 13:return Bo("Suspense");case 19:return Bo("SuspenseList");case 0:case 2:case 15:return r=dh(r.type,!1),r;case 11:return r=dh(r.type.render,!1),r;case 1:return r=dh(r.type,!0),r;default:return""}}function sf(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Sa:return"Fragment";case _a:return"Portal";case tf:return"Profiler";case zp:return"StrictMode";case rf:return"Suspense";case nf:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ly:return(r.displayName||"Context")+".Consumer";case oy:return(r._context.displayName||"Context")+".Provider";case Up:var t=r.render;return r=r.displayName,r||(r=t.displayName||t.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case $p:return t=r.displayName||null,t!==null?t:sf(r.type)||"Memo";case Xi:t=r._payload,r=r._init;try{return sf(r(t))}catch{}}return null}function N_(r){var t=r.type;switch(r.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=t.render,r=r.displayName||r.name||"",t.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sf(t);case 8:return t===zp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ys(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function uy(r){var t=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function E_(r){var t=uy(r)?"checked":"value",e=Object.getOwnPropertyDescriptor(r.constructor.prototype,t),n=""+r[t];if(!r.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var i=e.get,s=e.set;return Object.defineProperty(r,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(r,t,{enumerable:e.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){r._valueTracker=null,delete r[t]}}}}function wc(r){r._valueTracker||(r._valueTracker=E_(r))}function dy(r){if(!r)return!1;var t=r._valueTracker;if(!t)return!0;var e=t.getValue(),n="";return r&&(n=uy(r)?r.checked?"true":"false":r.value),r=n,r!==e?(t.setValue(r),!0):!1}function mu(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function af(r,t){var e=t.checked;return rr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??r._wrapperState.initialChecked})}function yg(r,t){var e=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;e=ys(t.value!=null?t.value:e),r._wrapperState={initialChecked:n,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hy(r,t){t=t.checked,t!=null&&Vp(r,"checked",t,!1)}function of(r,t){hy(r,t);var e=ys(t.value),n=t.type;if(e!=null)n==="number"?(e===0&&r.value===""||r.value!=e)&&(r.value=""+e):r.value!==""+e&&(r.value=""+e);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}t.hasOwnProperty("value")?lf(r,t.type,e):t.hasOwnProperty("defaultValue")&&lf(r,t.type,ys(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(r.defaultChecked=!!t.defaultChecked)}function xg(r,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+r._wrapperState.initialValue,e||t===r.value||(r.value=t),r.defaultValue=t}e=r.name,e!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,e!==""&&(r.name=e)}function lf(r,t,e){(t!=="number"||mu(r.ownerDocument)!==r)&&(e==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+e&&(r.defaultValue=""+e))}var Vo=Array.isArray;function Oa(r,t,e,n){if(r=r.options,t){t={};for(var i=0;i<e.length;i++)t["$"+e[i]]=!0;for(e=0;e<r.length;e++)i=t.hasOwnProperty("$"+r[e].value),r[e].selected!==i&&(r[e].selected=i),i&&n&&(r[e].defaultSelected=!0)}else{for(e=""+ys(e),t=null,i=0;i<r.length;i++){if(r[i].value===e){r[i].selected=!0,n&&(r[i].defaultSelected=!0);return}t!==null||r[i].disabled||(t=r[i])}t!==null&&(t.selected=!0)}}function cf(r,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return rr({},t,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function wg(r,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(Ie(92));if(Vo(e)){if(1<e.length)throw Error(Ie(93));e=e[0]}t=e}t==null&&(t=""),e=t}r._wrapperState={initialValue:ys(e)}}function fy(r,t){var e=ys(t.value),n=ys(t.defaultValue);e!=null&&(e=""+e,e!==r.value&&(r.value=e),t.defaultValue==null&&r.defaultValue!==e&&(r.defaultValue=e)),n!=null&&(r.defaultValue=""+n)}function _g(r){var t=r.textContent;t===r._wrapperState.initialValue&&t!==""&&t!==null&&(r.value=t)}function py(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uf(r,t){return r==null||r==="http://www.w3.org/1999/xhtml"?py(t):r==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var _c,my=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction(function(){return r(t,e,n,i)})}:r}(function(r,t){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=t;else{for(_c=_c||document.createElement("div"),_c.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_c.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;t.firstChild;)r.appendChild(t.firstChild)}});function hl(r,t){if(t){var e=r.firstChild;if(e&&e===r.lastChild&&e.nodeType===3){e.nodeValue=t;return}}r.textContent=t}var Xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},j_=["Webkit","ms","Moz","O"];Object.keys(Xo).forEach(function(r){j_.forEach(function(t){t=t+r.charAt(0).toUpperCase()+r.substring(1),Xo[t]=Xo[r]})});function gy(r,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||Xo.hasOwnProperty(r)&&Xo[r]?(""+t).trim():t+"px"}function by(r,t){r=r.style;for(var e in t)if(t.hasOwnProperty(e)){var n=e.indexOf("--")===0,i=gy(e,t[e],n);e==="float"&&(e="cssFloat"),n?r.setProperty(e,i):r[e]=i}}var T_=rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function df(r,t){if(t){if(T_[r]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ie(137,r));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ie(62))}}function hf(r,t){if(r.indexOf("-")===-1)return typeof t.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ff=null;function Hp(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var pf=null,Da=null,Fa=null;function Sg(r){if(r=Wl(r)){if(typeof pf!="function")throw Error(Ie(280));var t=r.stateNode;t&&(t=pd(t),pf(r.stateNode,r.type,t))}}function vy(r){Da?Fa?Fa.push(r):Fa=[r]:Da=r}function yy(){if(Da){var r=Da,t=Fa;if(Fa=Da=null,Sg(r),t)for(r=0;r<t.length;r++)Sg(t[r])}}function xy(r,t){return r(t)}function wy(){}var hh=!1;function _y(r,t,e){if(hh)return r(t,e);hh=!0;try{return xy(r,t,e)}finally{hh=!1,(Da!==null||Fa!==null)&&(wy(),yy())}}function fl(r,t){var e=r.stateNode;if(e===null)return null;var n=pd(e);if(n===null)return null;e=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(e&&typeof e!="function")throw Error(Ie(231,t,typeof e));return e}var mf=!1;if(Ti)try{var No={};Object.defineProperty(No,"passive",{get:function(){mf=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{mf=!1}function C_(r,t,e,n,i,s,a,c,l){var o=Array.prototype.slice.call(arguments,3);try{t.apply(e,o)}catch(u){this.onError(u)}}var Qo=!1,gu=null,bu=!1,gf=null,A_={onError:function(r){Qo=!0,gu=r}};function I_(r,t,e,n,i,s,a,c,l){Qo=!1,gu=null,C_.apply(A_,arguments)}function R_(r,t,e,n,i,s,a,c,l){if(I_.apply(this,arguments),Qo){if(Qo){var o=gu;Qo=!1,gu=null}else throw Error(Ie(198));bu||(bu=!0,gf=o)}}function ia(r){var t=r,e=r;if(r.alternate)for(;t.return;)t=t.return;else{r=t;do t=r,t.flags&4098&&(e=t.return),r=t.return;while(r)}return t.tag===3?e:null}function Sy(r){if(r.tag===13){var t=r.memoizedState;if(t===null&&(r=r.alternate,r!==null&&(t=r.memoizedState)),t!==null)return t.dehydrated}return null}function kg(r){if(ia(r)!==r)throw Error(Ie(188))}function P_(r){var t=r.alternate;if(!t){if(t=ia(r),t===null)throw Error(Ie(188));return t!==r?null:r}for(var e=r,n=t;;){var i=e.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){e=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===e)return kg(i),r;if(s===n)return kg(i),t;s=s.sibling}throw Error(Ie(188))}if(e.return!==n.return)e=i,n=s;else{for(var a=!1,c=i.child;c;){if(c===e){a=!0,e=i,n=s;break}if(c===n){a=!0,n=i,e=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===e){a=!0,e=s,n=i;break}if(c===n){a=!0,n=s,e=i;break}c=c.sibling}if(!a)throw Error(Ie(189))}}if(e.alternate!==n)throw Error(Ie(190))}if(e.tag!==3)throw Error(Ie(188));return e.stateNode.current===e?r:t}function ky(r){return r=P_(r),r!==null?Ny(r):null}function Ny(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var t=Ny(r);if(t!==null)return t;r=r.sibling}return null}var Ey=wn.unstable_scheduleCallback,Ng=wn.unstable_cancelCallback,M_=wn.unstable_shouldYield,O_=wn.unstable_requestPaint,cr=wn.unstable_now,D_=wn.unstable_getCurrentPriorityLevel,qp=wn.unstable_ImmediatePriority,jy=wn.unstable_UserBlockingPriority,vu=wn.unstable_NormalPriority,F_=wn.unstable_LowPriority,Ty=wn.unstable_IdlePriority,ud=null,si=null;function L_(r){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(ud,r,void 0,(r.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:z_,B_=Math.log,V_=Math.LN2;function z_(r){return r>>>=0,r===0?32:31-(B_(r)/V_|0)|0}var Sc=64,kc=4194304;function zo(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function yu(r,t){var e=r.pendingLanes;if(e===0)return 0;var n=0,i=r.suspendedLanes,s=r.pingedLanes,a=e&268435455;if(a!==0){var c=a&~i;c!==0?n=zo(c):(s&=a,s!==0&&(n=zo(s)))}else a=e&~i,a!==0?n=zo(a):s!==0&&(n=zo(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=e&16),t=r.entangledLanes,t!==0)for(r=r.entanglements,t&=n;0<t;)e=31-$n(t),i=1<<e,n|=r[e],t&=~i;return n}function U_(r,t){switch(r){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $_(r,t){for(var e=r.suspendedLanes,n=r.pingedLanes,i=r.expirationTimes,s=r.pendingLanes;0<s;){var a=31-$n(s),c=1<<a,l=i[a];l===-1?(!(c&e)||c&n)&&(i[a]=U_(c,t)):l<=t&&(r.expiredLanes|=c),s&=~c}}function bf(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Cy(){var r=Sc;return Sc<<=1,!(Sc&4194240)&&(Sc=64),r}function fh(r){for(var t=[],e=0;31>e;e++)t.push(r);return t}function Hl(r,t,e){r.pendingLanes|=t,t!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,t=31-$n(t),r[t]=e}function H_(r,t){var e=r.pendingLanes&~t;r.pendingLanes=t,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=t,r.mutableReadLanes&=t,r.entangledLanes&=t,t=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<e;){var i=31-$n(e),s=1<<i;t[i]=0,n[i]=-1,r[i]=-1,e&=~s}}function Wp(r,t){var e=r.entangledLanes|=t;for(r=r.entanglements;e;){var n=31-$n(e),i=1<<n;i&t|r[n]&t&&(r[n]|=t),e&=~i}}var Ut=0;function Ay(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Iy,Gp,Ry,Py,My,vf=!1,Nc=[],os=null,ls=null,cs=null,pl=new Map,ml=new Map,Yi=[],q_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eg(r,t){switch(r){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":pl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(t.pointerId)}}function Eo(r,t,e,n,i,s){return r===null||r.nativeEvent!==s?(r={blockedOn:t,domEventName:e,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Wl(t),t!==null&&Gp(t)),r):(r.eventSystemFlags|=n,t=r.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),r)}function W_(r,t,e,n,i){switch(t){case"focusin":return os=Eo(os,r,t,e,n,i),!0;case"dragenter":return ls=Eo(ls,r,t,e,n,i),!0;case"mouseover":return cs=Eo(cs,r,t,e,n,i),!0;case"pointerover":var s=i.pointerId;return pl.set(s,Eo(pl.get(s)||null,r,t,e,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ml.set(s,Eo(ml.get(s)||null,r,t,e,n,i)),!0}return!1}function Oy(r){var t=Fs(r.target);if(t!==null){var e=ia(t);if(e!==null){if(t=e.tag,t===13){if(t=Sy(e),t!==null){r.blockedOn=t,My(r.priority,function(){Ry(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){r.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Gc(r){if(r.blockedOn!==null)return!1;for(var t=r.targetContainers;0<t.length;){var e=yf(r.domEventName,r.eventSystemFlags,t[0],r.nativeEvent);if(e===null){e=r.nativeEvent;var n=new e.constructor(e.type,e);ff=n,e.target.dispatchEvent(n),ff=null}else return t=Wl(e),t!==null&&Gp(t),r.blockedOn=e,!1;t.shift()}return!0}function jg(r,t,e){Gc(r)&&e.delete(t)}function G_(){vf=!1,os!==null&&Gc(os)&&(os=null),ls!==null&&Gc(ls)&&(ls=null),cs!==null&&Gc(cs)&&(cs=null),pl.forEach(jg),ml.forEach(jg)}function jo(r,t){r.blockedOn===t&&(r.blockedOn=null,vf||(vf=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,G_)))}function gl(r){function t(i){return jo(i,r)}if(0<Nc.length){jo(Nc[0],r);for(var e=1;e<Nc.length;e++){var n=Nc[e];n.blockedOn===r&&(n.blockedOn=null)}}for(os!==null&&jo(os,r),ls!==null&&jo(ls,r),cs!==null&&jo(cs,r),pl.forEach(t),ml.forEach(t),e=0;e<Yi.length;e++)n=Yi[e],n.blockedOn===r&&(n.blockedOn=null);for(;0<Yi.length&&(e=Yi[0],e.blockedOn===null);)Oy(e),e.blockedOn===null&&Yi.shift()}var La=Li.ReactCurrentBatchConfig,xu=!0;function K_(r,t,e,n){var i=Ut,s=La.transition;La.transition=null;try{Ut=1,Kp(r,t,e,n)}finally{Ut=i,La.transition=s}}function X_(r,t,e,n){var i=Ut,s=La.transition;La.transition=null;try{Ut=4,Kp(r,t,e,n)}finally{Ut=i,La.transition=s}}function Kp(r,t,e,n){if(xu){var i=yf(r,t,e,n);if(i===null)Sh(r,t,n,wu,e),Eg(r,n);else if(W_(i,r,t,e,n))n.stopPropagation();else if(Eg(r,n),t&4&&-1<q_.indexOf(r)){for(;i!==null;){var s=Wl(i);if(s!==null&&Iy(s),s=yf(r,t,e,n),s===null&&Sh(r,t,n,wu,e),s===i)break;i=s}i!==null&&n.stopPropagation()}else Sh(r,t,n,null,e)}}var wu=null;function yf(r,t,e,n){if(wu=null,r=Hp(n),r=Fs(r),r!==null)if(t=ia(r),t===null)r=null;else if(e=t.tag,e===13){if(r=Sy(t),r!==null)return r;r=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;r=null}else t!==r&&(r=null);return wu=r,null}function Dy(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D_()){case qp:return 1;case jy:return 4;case vu:case F_:return 16;case Ty:return 536870912;default:return 16}default:return 16}}var ns=null,Xp=null,Kc=null;function Fy(){if(Kc)return Kc;var r,t=Xp,e=t.length,n,i="value"in ns?ns.value:ns.textContent,s=i.length;for(r=0;r<e&&t[r]===i[r];r++);var a=e-r;for(n=1;n<=a&&t[e-n]===i[s-n];n++);return Kc=i.slice(r,1<n?1-n:void 0)}function Xc(r){var t=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&t===13&&(r=13)):r=t,r===10&&(r=13),32<=r||r===13?r:0}function Ec(){return!0}function Tg(){return!1}function kn(r){function t(e,n,i,s,a){this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var c in r)r.hasOwnProperty(c)&&(e=r[c],this[c]=e?e(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ec:Tg,this.isPropagationStopped=Tg,this}return rr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Ec)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Ec)},persist:function(){},isPersistent:Ec}),t}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qp=kn(co),ql=rr({},co,{view:0,detail:0}),Q_=kn(ql),ph,mh,To,dd=rr({},ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yp,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==To&&(To&&r.type==="mousemove"?(ph=r.screenX-To.screenX,mh=r.screenY-To.screenY):mh=ph=0,To=r),ph)},movementY:function(r){return"movementY"in r?r.movementY:mh}}),Cg=kn(dd),Y_=rr({},dd,{dataTransfer:0}),Z_=kn(Y_),J_=rr({},ql,{relatedTarget:0}),gh=kn(J_),e3=rr({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),t3=kn(e3),r3=rr({},co,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),n3=kn(r3),i3=rr({},co,{data:0}),Ag=kn(i3),s3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l3(r){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(r):(r=o3[r])?!!t[r]:!1}function Yp(){return l3}var c3=rr({},ql,{key:function(r){if(r.key){var t=s3[r.key]||r.key;if(t!=="Unidentified")return t}return r.type==="keypress"?(r=Xc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?a3[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yp,charCode:function(r){return r.type==="keypress"?Xc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Xc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),u3=kn(c3),d3=rr({},dd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ig=kn(d3),h3=rr({},ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yp}),f3=kn(h3),p3=rr({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),m3=kn(p3),g3=rr({},dd,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),b3=kn(g3),v3=[9,13,27,32],Zp=Ti&&"CompositionEvent"in window,Yo=null;Ti&&"documentMode"in document&&(Yo=document.documentMode);var y3=Ti&&"TextEvent"in window&&!Yo,Ly=Ti&&(!Zp||Yo&&8<Yo&&11>=Yo),Rg=" ",Pg=!1;function By(r,t){switch(r){case"keyup":return v3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vy(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ka=!1;function x3(r,t){switch(r){case"compositionend":return Vy(t);case"keypress":return t.which!==32?null:(Pg=!0,Rg);case"textInput":return r=t.data,r===Rg&&Pg?null:r;default:return null}}function w3(r,t){if(ka)return r==="compositionend"||!Zp&&By(r,t)?(r=Fy(),Kc=Xp=ns=null,ka=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ly&&t.locale!=="ko"?null:t.data;default:return null}}var _3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t==="input"?!!_3[r.type]:t==="textarea"}function zy(r,t,e,n){vy(n),t=_u(t,"onChange"),0<t.length&&(e=new Qp("onChange","change",null,e,n),r.push({event:e,listeners:t}))}var Zo=null,bl=null;function S3(r){Zy(r,0)}function hd(r){var t=ja(r);if(dy(t))return r}function k3(r,t){if(r==="change")return t}var Uy=!1;if(Ti){var bh;if(Ti){var vh="oninput"in document;if(!vh){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),vh=typeof Og.oninput=="function"}bh=vh}else bh=!1;Uy=bh&&(!document.documentMode||9<document.documentMode)}function Dg(){Zo&&(Zo.detachEvent("onpropertychange",$y),bl=Zo=null)}function $y(r){if(r.propertyName==="value"&&hd(bl)){var t=[];zy(t,bl,r,Hp(r)),_y(S3,t)}}function N3(r,t,e){r==="focusin"?(Dg(),Zo=t,bl=e,Zo.attachEvent("onpropertychange",$y)):r==="focusout"&&Dg()}function E3(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return hd(bl)}function j3(r,t){if(r==="click")return hd(t)}function T3(r,t){if(r==="input"||r==="change")return hd(t)}function C3(r,t){return r===t&&(r!==0||1/r===1/t)||r!==r&&t!==t}var qn=typeof Object.is=="function"?Object.is:C3;function vl(r,t){if(qn(r,t))return!0;if(typeof r!="object"||r===null||typeof t!="object"||t===null)return!1;var e=Object.keys(r),n=Object.keys(t);if(e.length!==n.length)return!1;for(n=0;n<e.length;n++){var i=e[n];if(!ef.call(t,i)||!qn(r[i],t[i]))return!1}return!0}function Fg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Lg(r,t){var e=Fg(r);r=0;for(var n;e;){if(e.nodeType===3){if(n=r+e.textContent.length,r<=t&&n>=t)return{node:e,offset:t-r};r=n}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=Fg(e)}}function Hy(r,t){return r&&t?r===t?!0:r&&r.nodeType===3?!1:t&&t.nodeType===3?Hy(r,t.parentNode):"contains"in r?r.contains(t):r.compareDocumentPosition?!!(r.compareDocumentPosition(t)&16):!1:!1}function qy(){for(var r=window,t=mu();t instanceof r.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)r=t.contentWindow;else break;t=mu(r.document)}return t}function Jp(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t&&(t==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||t==="textarea"||r.contentEditable==="true")}function A3(r){var t=qy(),e=r.focusedElem,n=r.selectionRange;if(t!==e&&e&&e.ownerDocument&&Hy(e.ownerDocument.documentElement,e)){if(n!==null&&Jp(e)){if(t=n.start,r=n.end,r===void 0&&(r=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(r,e.value.length);else if(r=(t=e.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var i=e.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!r.extend&&s>n&&(i=n,n=s,s=i),i=Lg(e,s);var a=Lg(e,n);i&&a&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==a.node||r.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),r.removeAllRanges(),s>n?(r.addRange(t),r.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),r.addRange(t)))}}for(t=[],r=e;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)r=t[e],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var I3=Ti&&"documentMode"in document&&11>=document.documentMode,Na=null,xf=null,Jo=null,wf=!1;function Bg(r,t,e){var n=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;wf||Na==null||Na!==mu(n)||(n=Na,"selectionStart"in n&&Jp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Jo&&vl(Jo,n)||(Jo=n,n=_u(xf,"onSelect"),0<n.length&&(t=new Qp("onSelect","select",null,t,e),r.push({event:t,listeners:n}),t.target=Na)))}function jc(r,t){var e={};return e[r.toLowerCase()]=t.toLowerCase(),e["Webkit"+r]="webkit"+t,e["Moz"+r]="moz"+t,e}var Ea={animationend:jc("Animation","AnimationEnd"),animationiteration:jc("Animation","AnimationIteration"),animationstart:jc("Animation","AnimationStart"),transitionend:jc("Transition","TransitionEnd")},yh={},Wy={};Ti&&(Wy=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function fd(r){if(yh[r])return yh[r];if(!Ea[r])return r;var t=Ea[r],e;for(e in t)if(t.hasOwnProperty(e)&&e in Wy)return yh[r]=t[e];return r}var Gy=fd("animationend"),Ky=fd("animationiteration"),Xy=fd("animationstart"),Qy=fd("transitionend"),Yy=new Map,Vg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(r,t){Yy.set(r,t),na(t,[r])}for(var xh=0;xh<Vg.length;xh++){var wh=Vg[xh],R3=wh.toLowerCase(),P3=wh[0].toUpperCase()+wh.slice(1);ks(R3,"on"+P3)}ks(Gy,"onAnimationEnd");ks(Ky,"onAnimationIteration");ks(Xy,"onAnimationStart");ks("dblclick","onDoubleClick");ks("focusin","onFocus");ks("focusout","onBlur");ks(Qy,"onTransitionEnd");qa("onMouseEnter",["mouseout","mouseover"]);qa("onMouseLeave",["mouseout","mouseover"]);qa("onPointerEnter",["pointerout","pointerover"]);qa("onPointerLeave",["pointerout","pointerover"]);na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));na("onBeforeInput",["compositionend","keypress","textInput","paste"]);na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uo));function zg(r,t,e){var n=r.type||"unknown-event";r.currentTarget=e,R_(n,t,void 0,r),r.currentTarget=null}function Zy(r,t){t=(t&4)!==0;for(var e=0;e<r.length;e++){var n=r[e],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var c=n[a],l=c.instance,o=c.currentTarget;if(c=c.listener,l!==s&&i.isPropagationStopped())break e;zg(i,c,o),s=l}else for(a=0;a<n.length;a++){if(c=n[a],l=c.instance,o=c.currentTarget,c=c.listener,l!==s&&i.isPropagationStopped())break e;zg(i,c,o),s=l}}}if(bu)throw r=gf,bu=!1,gf=null,r}function Kt(r,t){var e=t[Ef];e===void 0&&(e=t[Ef]=new Set);var n=r+"__bubble";e.has(n)||(Jy(t,r,2,!1),e.add(n))}function _h(r,t,e){var n=0;t&&(n|=4),Jy(e,r,n,t)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function yl(r){if(!r[Tc]){r[Tc]=!0,ay.forEach(function(e){e!=="selectionchange"&&(M3.has(e)||_h(e,!1,r),_h(e,!0,r))});var t=r.nodeType===9?r:r.ownerDocument;t===null||t[Tc]||(t[Tc]=!0,_h("selectionchange",!1,t))}}function Jy(r,t,e,n){switch(Dy(t)){case 1:var i=K_;break;case 4:i=X_;break;default:i=Kp}e=i.bind(null,t,e,r),i=void 0,!mf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?r.addEventListener(t,e,{capture:!0,passive:i}):r.addEventListener(t,e,!0):i!==void 0?r.addEventListener(t,e,{passive:i}):r.addEventListener(t,e,!1)}function Sh(r,t,e,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var c=n.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;c!==null;){if(a=Fs(c),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}c=c.parentNode}}n=n.return}_y(function(){var o=s,u=Hp(e),p=[];e:{var d=Yy.get(r);if(d!==void 0){var h=Qp,g=r;switch(r){case"keypress":if(Xc(e)===0)break e;case"keydown":case"keyup":h=u3;break;case"focusin":g="focus",h=gh;break;case"focusout":g="blur",h=gh;break;case"beforeblur":case"afterblur":h=gh;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Cg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Z_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=f3;break;case Gy:case Ky:case Xy:h=t3;break;case Qy:h=m3;break;case"scroll":h=Q_;break;case"wheel":h=b3;break;case"copy":case"cut":case"paste":h=n3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Ig}var b=(t&4)!==0,m=!b&&r==="scroll",y=b?d!==null?d+"Capture":null:d;b=[];for(var v=o,w;v!==null;){w=v;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,y!==null&&(E=fl(v,y),E!=null&&b.push(xl(v,E,w)))),m)break;v=v.return}0<b.length&&(d=new h(d,g,null,e,u),p.push({event:d,listeners:b}))}}if(!(t&7)){e:{if(d=r==="mouseover"||r==="pointerover",h=r==="mouseout"||r==="pointerout",d&&e!==ff&&(g=e.relatedTarget||e.fromElement)&&(Fs(g)||g[Ci]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(g=e.relatedTarget||e.toElement,h=o,g=g?Fs(g):null,g!==null&&(m=ia(g),g!==m||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=o),h!==g)){if(b=Cg,E="onMouseLeave",y="onMouseEnter",v="mouse",(r==="pointerout"||r==="pointerover")&&(b=Ig,E="onPointerLeave",y="onPointerEnter",v="pointer"),m=h==null?d:ja(h),w=g==null?d:ja(g),d=new b(E,v+"leave",h,e,u),d.target=m,d.relatedTarget=w,E=null,Fs(u)===o&&(b=new b(y,v+"enter",g,e,u),b.target=w,b.relatedTarget=m,E=b),m=E,h&&g)t:{for(b=h,y=g,v=0,w=b;w;w=ma(w))v++;for(w=0,E=y;E;E=ma(E))w++;for(;0<v-w;)b=ma(b),v--;for(;0<w-v;)y=ma(y),w--;for(;v--;){if(b===y||y!==null&&b===y.alternate)break t;b=ma(b),y=ma(y)}b=null}else b=null;h!==null&&Ug(p,d,h,b,!1),g!==null&&m!==null&&Ug(p,m,g,b,!0)}}e:{if(d=o?ja(o):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var A=k3;else if(Mg(d))if(Uy)A=T3;else{A=E3;var D=N3}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(A=j3);if(A&&(A=A(r,o))){zy(p,A,e,u);break e}D&&D(r,d,o),r==="focusout"&&(D=d._wrapperState)&&D.controlled&&d.type==="number"&&lf(d,"number",d.value)}switch(D=o?ja(o):window,r){case"focusin":(Mg(D)||D.contentEditable==="true")&&(Na=D,xf=o,Jo=null);break;case"focusout":Jo=xf=Na=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Bg(p,e,u);break;case"selectionchange":if(I3)break;case"keydown":case"keyup":Bg(p,e,u)}var L;if(Zp)e:{switch(r){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ka?By(r,e)&&(C="onCompositionEnd"):r==="keydown"&&e.keyCode===229&&(C="onCompositionStart");C&&(Ly&&e.locale!=="ko"&&(ka||C!=="onCompositionStart"?C==="onCompositionEnd"&&ka&&(L=Fy()):(ns=u,Xp="value"in ns?ns.value:ns.textContent,ka=!0)),D=_u(o,C),0<D.length&&(C=new Ag(C,r,null,e,u),p.push({event:C,listeners:D}),L?C.data=L:(L=Vy(e),L!==null&&(C.data=L)))),(L=y3?x3(r,e):w3(r,e))&&(o=_u(o,"onBeforeInput"),0<o.length&&(u=new Ag("onBeforeInput","beforeinput",null,e,u),p.push({event:u,listeners:o}),u.data=L))}Zy(p,t)})}function xl(r,t,e){return{instance:r,listener:t,currentTarget:e}}function _u(r,t){for(var e=t+"Capture",n=[];r!==null;){var i=r,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=fl(r,e),s!=null&&n.unshift(xl(r,s,i)),s=fl(r,t),s!=null&&n.push(xl(r,s,i))),r=r.return}return n}function ma(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Ug(r,t,e,n,i){for(var s=t._reactName,a=[];e!==null&&e!==n;){var c=e,l=c.alternate,o=c.stateNode;if(l!==null&&l===n)break;c.tag===5&&o!==null&&(c=o,i?(l=fl(e,s),l!=null&&a.unshift(xl(e,l,c))):i||(l=fl(e,s),l!=null&&a.push(xl(e,l,c)))),e=e.return}a.length!==0&&r.push({event:t,listeners:a})}var O3=/\r\n?/g,D3=/\u0000|\uFFFD/g;function $g(r){return(typeof r=="string"?r:""+r).replace(O3,`
`).replace(D3,"")}function Cc(r,t,e){if(t=$g(t),$g(r)!==t&&e)throw Error(Ie(425))}function Su(){}var _f=null,Sf=null;function kf(r,t){return r==="textarea"||r==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nf=typeof setTimeout=="function"?setTimeout:void 0,F3=typeof clearTimeout=="function"?clearTimeout:void 0,Hg=typeof Promise=="function"?Promise:void 0,L3=typeof queueMicrotask=="function"?queueMicrotask:typeof Hg<"u"?function(r){return Hg.resolve(null).then(r).catch(B3)}:Nf;function B3(r){setTimeout(function(){throw r})}function kh(r,t){var e=t,n=0;do{var i=e.nextSibling;if(r.removeChild(e),i&&i.nodeType===8)if(e=i.data,e==="/$"){if(n===0){r.removeChild(i),gl(t);return}n--}else e!=="$"&&e!=="$?"&&e!=="$!"||n++;e=i}while(e);gl(t)}function us(r){for(;r!=null;r=r.nextSibling){var t=r.nodeType;if(t===1||t===3)break;if(t===8){if(t=r.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return r}function qg(r){r=r.previousSibling;for(var t=0;r;){if(r.nodeType===8){var e=r.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return r;t--}else e==="/$"&&t++}r=r.previousSibling}return null}var uo=Math.random().toString(36).slice(2),ni="__reactFiber$"+uo,wl="__reactProps$"+uo,Ci="__reactContainer$"+uo,Ef="__reactEvents$"+uo,V3="__reactListeners$"+uo,z3="__reactHandles$"+uo;function Fs(r){var t=r[ni];if(t)return t;for(var e=r.parentNode;e;){if(t=e[Ci]||e[ni]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(r=qg(r);r!==null;){if(e=r[ni])return e;r=qg(r)}return t}r=e,e=r.parentNode}return null}function Wl(r){return r=r[ni]||r[Ci],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ja(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(Ie(33))}function pd(r){return r[wl]||null}var jf=[],Ta=-1;function Ns(r){return{current:r}}function Qt(r){0>Ta||(r.current=jf[Ta],jf[Ta]=null,Ta--)}function Wt(r,t){Ta++,jf[Ta]=r.current,r.current=t}var xs={},Wr=Ns(xs),cn=Ns(!1),qs=xs;function Wa(r,t){var e=r.type.contextTypes;if(!e)return xs;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in e)i[s]=t[s];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=i),i}function un(r){return r=r.childContextTypes,r!=null}function ku(){Qt(cn),Qt(Wr)}function Wg(r,t,e){if(Wr.current!==xs)throw Error(Ie(168));Wt(Wr,t),Wt(cn,e)}function e2(r,t,e){var n=r.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return e;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Ie(108,N_(r)||"Unknown",i));return rr({},e,n)}function Nu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||xs,qs=Wr.current,Wt(Wr,r),Wt(cn,cn.current),!0}function Gg(r,t,e){var n=r.stateNode;if(!n)throw Error(Ie(169));e?(r=e2(r,t,qs),n.__reactInternalMemoizedMergedChildContext=r,Qt(cn),Qt(Wr),Wt(Wr,r)):Qt(cn),Wt(cn,e)}var bi=null,md=!1,Nh=!1;function t2(r){bi===null?bi=[r]:bi.push(r)}function U3(r){md=!0,t2(r)}function Es(){if(!Nh&&bi!==null){Nh=!0;var r=0,t=Ut;try{var e=bi;for(Ut=1;r<e.length;r++){var n=e[r];do n=n(!0);while(n!==null)}bi=null,md=!1}catch(i){throw bi!==null&&(bi=bi.slice(r+1)),Ey(qp,Es),i}finally{Ut=t,Nh=!1}}return null}var Ca=[],Aa=0,Eu=null,ju=0,En=[],jn=0,Ws=null,yi=1,xi="";function Ms(r,t){Ca[Aa++]=ju,Ca[Aa++]=Eu,Eu=r,ju=t}function r2(r,t,e){En[jn++]=yi,En[jn++]=xi,En[jn++]=Ws,Ws=r;var n=yi;r=xi;var i=32-$n(n)-1;n&=~(1<<i),e+=1;var s=32-$n(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,yi=1<<32-$n(t)+i|e<<i|n,xi=s+r}else yi=1<<s|e<<i|n,xi=r}function em(r){r.return!==null&&(Ms(r,1),r2(r,1,0))}function tm(r){for(;r===Eu;)Eu=Ca[--Aa],Ca[Aa]=null,ju=Ca[--Aa],Ca[Aa]=null;for(;r===Ws;)Ws=En[--jn],En[jn]=null,xi=En[--jn],En[jn]=null,yi=En[--jn],En[jn]=null}var yn=null,bn=null,Yt=!1,zn=null;function n2(r,t){var e=Tn(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=r,t=r.deletions,t===null?(r.deletions=[e],r.flags|=16):t.push(e)}function Kg(r,t){switch(r.tag){case 5:var e=r.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(r.stateNode=t,yn=r,bn=us(t.firstChild),!0):!1;case 6:return t=r.pendingProps===""||t.nodeType!==3?null:t,t!==null?(r.stateNode=t,yn=r,bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=Ws!==null?{id:yi,overflow:xi}:null,r.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=Tn(18,null,null,0),e.stateNode=t,e.return=r,r.child=e,yn=r,bn=null,!0):!1;default:return!1}}function Tf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Cf(r){if(Yt){var t=bn;if(t){var e=t;if(!Kg(r,t)){if(Tf(r))throw Error(Ie(418));t=us(e.nextSibling);var n=yn;t&&Kg(r,t)?n2(n,e):(r.flags=r.flags&-4097|2,Yt=!1,yn=r)}}else{if(Tf(r))throw Error(Ie(418));r.flags=r.flags&-4097|2,Yt=!1,yn=r}}}function Xg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;yn=r}function Ac(r){if(r!==yn)return!1;if(!Yt)return Xg(r),Yt=!0,!1;var t;if((t=r.tag!==3)&&!(t=r.tag!==5)&&(t=r.type,t=t!=="head"&&t!=="body"&&!kf(r.type,r.memoizedProps)),t&&(t=bn)){if(Tf(r))throw i2(),Error(Ie(418));for(;t;)n2(r,t),t=us(t.nextSibling)}if(Xg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Ie(317));e:{for(r=r.nextSibling,t=0;r;){if(r.nodeType===8){var e=r.data;if(e==="/$"){if(t===0){bn=us(r.nextSibling);break e}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}r=r.nextSibling}bn=null}}else bn=yn?us(r.stateNode.nextSibling):null;return!0}function i2(){for(var r=bn;r;)r=us(r.nextSibling)}function Ga(){bn=yn=null,Yt=!1}function rm(r){zn===null?zn=[r]:zn.push(r)}var $3=Li.ReactCurrentBatchConfig;function Co(r,t,e){if(r=e.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(Ie(309));var n=e.stateNode}if(!n)throw Error(Ie(147,r));var i=n,s=""+r;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var c=i.refs;a===null?delete c[s]:c[s]=a},t._stringRef=s,t)}if(typeof r!="string")throw Error(Ie(284));if(!e._owner)throw Error(Ie(290,r))}return r}function Ic(r,t){throw r=Object.prototype.toString.call(t),Error(Ie(31,r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r))}function Qg(r){var t=r._init;return t(r._payload)}function s2(r){function t(y,v){if(r){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function e(y,v){if(!r)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=ps(y,v),y.index=0,y.sibling=null,y}function s(y,v,w){return y.index=w,r?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return r&&y.alternate===null&&(y.flags|=2),y}function c(y,v,w,E){return v===null||v.tag!==6?(v=Rh(w,y.mode,E),v.return=y,v):(v=i(v,w),v.return=y,v)}function l(y,v,w,E){var A=w.type;return A===Sa?u(y,v,w.props.children,E,w.key):v!==null&&(v.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Xi&&Qg(A)===v.type)?(E=i(v,w.props),E.ref=Co(y,v,w),E.return=y,E):(E=ru(w.type,w.key,w.props,null,y.mode,E),E.ref=Co(y,v,w),E.return=y,E)}function o(y,v,w,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Ph(w,y.mode,E),v.return=y,v):(v=i(v,w.children||[]),v.return=y,v)}function u(y,v,w,E,A){return v===null||v.tag!==7?(v=$s(w,y.mode,E,A),v.return=y,v):(v=i(v,w),v.return=y,v)}function p(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Rh(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case xc:return w=ru(v.type,v.key,v.props,null,y.mode,w),w.ref=Co(y,null,v),w.return=y,w;case _a:return v=Ph(v,y.mode,w),v.return=y,v;case Xi:var E=v._init;return p(y,E(v._payload),w)}if(Vo(v)||ko(v))return v=$s(v,y.mode,w,null),v.return=y,v;Ic(y,v)}return null}function d(y,v,w,E){var A=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return A!==null?null:c(y,v,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xc:return w.key===A?l(y,v,w,E):null;case _a:return w.key===A?o(y,v,w,E):null;case Xi:return A=w._init,d(y,v,A(w._payload),E)}if(Vo(w)||ko(w))return A!==null?null:u(y,v,w,E,null);Ic(y,w)}return null}function h(y,v,w,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(w)||null,c(v,y,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case xc:return y=y.get(E.key===null?w:E.key)||null,l(v,y,E,A);case _a:return y=y.get(E.key===null?w:E.key)||null,o(v,y,E,A);case Xi:var D=E._init;return h(y,v,w,D(E._payload),A)}if(Vo(E)||ko(E))return y=y.get(w)||null,u(v,y,E,A,null);Ic(v,E)}return null}function g(y,v,w,E){for(var A=null,D=null,L=v,C=v=0,M=null;L!==null&&C<w.length;C++){L.index>C?(M=L,L=null):M=L.sibling;var F=d(y,L,w[C],E);if(F===null){L===null&&(L=M);break}r&&L&&F.alternate===null&&t(y,L),v=s(F,v,C),D===null?A=F:D.sibling=F,D=F,L=M}if(C===w.length)return e(y,L),Yt&&Ms(y,C),A;if(L===null){for(;C<w.length;C++)L=p(y,w[C],E),L!==null&&(v=s(L,v,C),D===null?A=L:D.sibling=L,D=L);return Yt&&Ms(y,C),A}for(L=n(y,L);C<w.length;C++)M=h(L,y,C,w[C],E),M!==null&&(r&&M.alternate!==null&&L.delete(M.key===null?C:M.key),v=s(M,v,C),D===null?A=M:D.sibling=M,D=M);return r&&L.forEach(function($){return t(y,$)}),Yt&&Ms(y,C),A}function b(y,v,w,E){var A=ko(w);if(typeof A!="function")throw Error(Ie(150));if(w=A.call(w),w==null)throw Error(Ie(151));for(var D=A=null,L=v,C=v=0,M=null,F=w.next();L!==null&&!F.done;C++,F=w.next()){L.index>C?(M=L,L=null):M=L.sibling;var $=d(y,L,F.value,E);if($===null){L===null&&(L=M);break}r&&L&&$.alternate===null&&t(y,L),v=s($,v,C),D===null?A=$:D.sibling=$,D=$,L=M}if(F.done)return e(y,L),Yt&&Ms(y,C),A;if(L===null){for(;!F.done;C++,F=w.next())F=p(y,F.value,E),F!==null&&(v=s(F,v,C),D===null?A=F:D.sibling=F,D=F);return Yt&&Ms(y,C),A}for(L=n(y,L);!F.done;C++,F=w.next())F=h(L,y,C,F.value,E),F!==null&&(r&&F.alternate!==null&&L.delete(F.key===null?C:F.key),v=s(F,v,C),D===null?A=F:D.sibling=F,D=F);return r&&L.forEach(function(U){return t(y,U)}),Yt&&Ms(y,C),A}function m(y,v,w,E){if(typeof w=="object"&&w!==null&&w.type===Sa&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case xc:e:{for(var A=w.key,D=v;D!==null;){if(D.key===A){if(A=w.type,A===Sa){if(D.tag===7){e(y,D.sibling),v=i(D,w.props.children),v.return=y,y=v;break e}}else if(D.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Xi&&Qg(A)===D.type){e(y,D.sibling),v=i(D,w.props),v.ref=Co(y,D,w),v.return=y,y=v;break e}e(y,D);break}else t(y,D);D=D.sibling}w.type===Sa?(v=$s(w.props.children,y.mode,E,w.key),v.return=y,y=v):(E=ru(w.type,w.key,w.props,null,y.mode,E),E.ref=Co(y,v,w),E.return=y,y=E)}return a(y);case _a:e:{for(D=w.key;v!==null;){if(v.key===D)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){e(y,v.sibling),v=i(v,w.children||[]),v.return=y,y=v;break e}else{e(y,v);break}else t(y,v);v=v.sibling}v=Ph(w,y.mode,E),v.return=y,y=v}return a(y);case Xi:return D=w._init,m(y,v,D(w._payload),E)}if(Vo(w))return g(y,v,w,E);if(ko(w))return b(y,v,w,E);Ic(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(e(y,v.sibling),v=i(v,w),v.return=y,y=v):(e(y,v),v=Rh(w,y.mode,E),v.return=y,y=v),a(y)):e(y,v)}return m}var Ka=s2(!0),a2=s2(!1),Tu=Ns(null),Cu=null,Ia=null,nm=null;function im(){nm=Ia=Cu=null}function sm(r){var t=Tu.current;Qt(Tu),r._currentValue=t}function Af(r,t,e){for(;r!==null;){var n=r.alternate;if((r.childLanes&t)!==t?(r.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),r===e)break;r=r.return}}function Ba(r,t){Cu=r,nm=Ia=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&t&&(on=!0),r.firstContext=null)}function Pn(r){var t=r._currentValue;if(nm!==r)if(r={context:r,memoizedValue:t,next:null},Ia===null){if(Cu===null)throw Error(Ie(308));Ia=r,Cu.dependencies={lanes:0,firstContext:r}}else Ia=Ia.next=r;return t}var Ls=null;function am(r){Ls===null?Ls=[r]:Ls.push(r)}function o2(r,t,e,n){var i=t.interleaved;return i===null?(e.next=e,am(t)):(e.next=i.next,i.next=e),t.interleaved=e,Ai(r,n)}function Ai(r,t){r.lanes|=t;var e=r.alternate;for(e!==null&&(e.lanes|=t),e=r,r=r.return;r!==null;)r.childLanes|=t,e=r.alternate,e!==null&&(e.childLanes|=t),e=r,r=r.return;return e.tag===3?e.stateNode:null}var Qi=!1;function om(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l2(r,t){r=r.updateQueue,t.updateQueue===r&&(t.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ki(r,t){return{eventTime:r,lane:t,tag:0,payload:null,callback:null,next:null}}function ds(r,t,e){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,Ot&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Ai(r,e)}return i=n.interleaved,i===null?(t.next=t,am(n)):(t.next=i.next,i.next=t),n.interleaved=t,Ai(r,e)}function Qc(r,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var n=t.lanes;n&=r.pendingLanes,e|=n,t.lanes=e,Wp(r,e)}}function Yg(r,t){var e=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,e===n)){var i=null,s=null;if(e=e.firstBaseUpdate,e!==null){do{var a={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};s===null?i=s=a:s=s.next=a,e=e.next}while(e!==null);s===null?i=s=t:s=s.next=t}else i=s=t;e={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},r.updateQueue=e;return}r=e.lastBaseUpdate,r===null?e.firstBaseUpdate=t:r.next=t,e.lastBaseUpdate=t}function Au(r,t,e,n){var i=r.updateQueue;Qi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var l=c,o=l.next;l.next=null,a===null?s=o:a.next=o,a=l;var u=r.alternate;u!==null&&(u=u.updateQueue,c=u.lastBaseUpdate,c!==a&&(c===null?u.firstBaseUpdate=o:c.next=o,u.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;a=0,u=o=l=null,c=s;do{var d=c.lane,h=c.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var g=r,b=c;switch(d=t,h=e,b.tag){case 1:if(g=b.payload,typeof g=="function"){p=g.call(h,p,d);break e}p=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,d=typeof g=="function"?g.call(h,p,d):g,d==null)break e;p=rr({},p,d);break e;case 2:Qi=!0}}c.callback!==null&&c.lane!==0&&(r.flags|=64,d=i.effects,d===null?i.effects=[c]:d.push(c))}else h={eventTime:h,lane:d,tag:c.tag,payload:c.payload,callback:c.callback,next:null},u===null?(o=u=h,l=p):u=u.next=h,a|=d;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;d=c,c=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=p),i.baseState=l,i.firstBaseUpdate=o,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ks|=a,r.lanes=a,r.memoizedState=p}}function Zg(r,t,e){if(r=t.effects,t.effects=null,r!==null)for(t=0;t<r.length;t++){var n=r[t],i=n.callback;if(i!==null){if(n.callback=null,n=e,typeof i!="function")throw Error(Ie(191,i));i.call(n)}}}var Gl={},ai=Ns(Gl),_l=Ns(Gl),Sl=Ns(Gl);function Bs(r){if(r===Gl)throw Error(Ie(174));return r}function lm(r,t){switch(Wt(Sl,t),Wt(_l,r),Wt(ai,Gl),r=t.nodeType,r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uf(null,"");break;default:r=r===8?t.parentNode:t,t=r.namespaceURI||null,r=r.tagName,t=uf(t,r)}Qt(ai),Wt(ai,t)}function Xa(){Qt(ai),Qt(_l),Qt(Sl)}function c2(r){Bs(Sl.current);var t=Bs(ai.current),e=uf(t,r.type);t!==e&&(Wt(_l,r),Wt(ai,e))}function cm(r){_l.current===r&&(Qt(ai),Qt(_l))}var er=Ns(0);function Iu(r){for(var t=r;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Eh=[];function um(){for(var r=0;r<Eh.length;r++)Eh[r]._workInProgressVersionPrimary=null;Eh.length=0}var Yc=Li.ReactCurrentDispatcher,jh=Li.ReactCurrentBatchConfig,Gs=0,tr=null,gr=null,xr=null,Ru=!1,el=!1,kl=0,H3=0;function Br(){throw Error(Ie(321))}function dm(r,t){if(t===null)return!1;for(var e=0;e<t.length&&e<r.length;e++)if(!qn(r[e],t[e]))return!1;return!0}function hm(r,t,e,n,i,s){if(Gs=s,tr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yc.current=r===null||r.memoizedState===null?K3:X3,r=e(n,i),el){s=0;do{if(el=!1,kl=0,25<=s)throw Error(Ie(301));s+=1,xr=gr=null,t.updateQueue=null,Yc.current=Q3,r=e(n,i)}while(el)}if(Yc.current=Pu,t=gr!==null&&gr.next!==null,Gs=0,xr=gr=tr=null,Ru=!1,t)throw Error(Ie(300));return r}function fm(){var r=kl!==0;return kl=0,r}function ri(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xr===null?tr.memoizedState=xr=r:xr=xr.next=r,xr}function Mn(){if(gr===null){var r=tr.alternate;r=r!==null?r.memoizedState:null}else r=gr.next;var t=xr===null?tr.memoizedState:xr.next;if(t!==null)xr=t,gr=r;else{if(r===null)throw Error(Ie(310));gr=r,r={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},xr===null?tr.memoizedState=xr=r:xr=xr.next=r}return xr}function Nl(r,t){return typeof t=="function"?t(r):t}function Th(r){var t=Mn(),e=t.queue;if(e===null)throw Error(Ie(311));e.lastRenderedReducer=r;var n=gr,i=n.baseQueue,s=e.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,e.pending=null}if(i!==null){s=i.next,n=n.baseState;var c=a=null,l=null,o=s;do{var u=o.lane;if((Gs&u)===u)l!==null&&(l=l.next={lane:0,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null}),n=o.hasEagerState?o.eagerState:r(n,o.action);else{var p={lane:u,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null};l===null?(c=l=p,a=n):l=l.next=p,tr.lanes|=u,Ks|=u}o=o.next}while(o!==null&&o!==s);l===null?a=n:l.next=c,qn(n,t.memoizedState)||(on=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,e.lastRenderedState=n}if(r=e.interleaved,r!==null){i=r;do s=i.lane,tr.lanes|=s,Ks|=s,i=i.next;while(i!==r)}else i===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function Ch(r){var t=Mn(),e=t.queue;if(e===null)throw Error(Ie(311));e.lastRenderedReducer=r;var n=e.dispatch,i=e.pending,s=t.memoizedState;if(i!==null){e.pending=null;var a=i=i.next;do s=r(s,a.action),a=a.next;while(a!==i);qn(s,t.memoizedState)||(on=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),e.lastRenderedState=s}return[s,n]}function u2(){}function d2(r,t){var e=tr,n=Mn(),i=t(),s=!qn(n.memoizedState,i);if(s&&(n.memoizedState=i,on=!0),n=n.queue,pm(p2.bind(null,e,n,r),[r]),n.getSnapshot!==t||s||xr!==null&&xr.memoizedState.tag&1){if(e.flags|=2048,El(9,f2.bind(null,e,n,i,t),void 0,null),wr===null)throw Error(Ie(349));Gs&30||h2(e,t,i)}return i}function h2(r,t,e){r.flags|=16384,r={getSnapshot:t,value:e},t=tr.updateQueue,t===null?(t={lastEffect:null,stores:null},tr.updateQueue=t,t.stores=[r]):(e=t.stores,e===null?t.stores=[r]:e.push(r))}function f2(r,t,e,n){t.value=e,t.getSnapshot=n,m2(t)&&g2(r)}function p2(r,t,e){return e(function(){m2(t)&&g2(r)})}function m2(r){var t=r.getSnapshot;r=r.value;try{var e=t();return!qn(r,e)}catch{return!0}}function g2(r){var t=Ai(r,1);t!==null&&Hn(t,r,1,-1)}function Jg(r){var t=ri();return typeof r=="function"&&(r=r()),t.memoizedState=t.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:r},t.queue=r,r=r.dispatch=G3.bind(null,tr,r),[t.memoizedState,r]}function El(r,t,e,n){return r={tag:r,create:t,destroy:e,deps:n,next:null},t=tr.updateQueue,t===null?(t={lastEffect:null,stores:null},tr.updateQueue=t,t.lastEffect=r.next=r):(e=t.lastEffect,e===null?t.lastEffect=r.next=r:(n=e.next,e.next=r,r.next=n,t.lastEffect=r)),r}function b2(){return Mn().memoizedState}function Zc(r,t,e,n){var i=ri();tr.flags|=r,i.memoizedState=El(1|t,e,void 0,n===void 0?null:n)}function gd(r,t,e,n){var i=Mn();n=n===void 0?null:n;var s=void 0;if(gr!==null){var a=gr.memoizedState;if(s=a.destroy,n!==null&&dm(n,a.deps)){i.memoizedState=El(t,e,s,n);return}}tr.flags|=r,i.memoizedState=El(1|t,e,s,n)}function eb(r,t){return Zc(8390656,8,r,t)}function pm(r,t){return gd(2048,8,r,t)}function v2(r,t){return gd(4,2,r,t)}function y2(r,t){return gd(4,4,r,t)}function x2(r,t){if(typeof t=="function")return r=r(),t(r),function(){t(null)};if(t!=null)return r=r(),t.current=r,function(){t.current=null}}function w2(r,t,e){return e=e!=null?e.concat([r]):null,gd(4,4,x2.bind(null,t,r),e)}function mm(){}function _2(r,t){var e=Mn();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&dm(t,n[1])?n[0]:(e.memoizedState=[r,t],r)}function S2(r,t){var e=Mn();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&dm(t,n[1])?n[0]:(r=r(),e.memoizedState=[r,t],r)}function k2(r,t,e){return Gs&21?(qn(e,t)||(e=Cy(),tr.lanes|=e,Ks|=e,r.baseState=!0),t):(r.baseState&&(r.baseState=!1,on=!0),r.memoizedState=e)}function q3(r,t){var e=Ut;Ut=e!==0&&4>e?e:4,r(!0);var n=jh.transition;jh.transition={};try{r(!1),t()}finally{Ut=e,jh.transition=n}}function N2(){return Mn().memoizedState}function W3(r,t,e){var n=fs(r);if(e={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null},E2(r))j2(t,e);else if(e=o2(r,t,e,n),e!==null){var i=Yr();Hn(e,r,n,i),T2(e,t,n)}}function G3(r,t,e){var n=fs(r),i={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null};if(E2(r))j2(t,i);else{var s=r.alternate;if(r.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,c=s(a,e);if(i.hasEagerState=!0,i.eagerState=c,qn(c,a)){var l=t.interleaved;l===null?(i.next=i,am(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}e=o2(r,t,i,n),e!==null&&(i=Yr(),Hn(e,r,n,i),T2(e,t,n))}}function E2(r){var t=r.alternate;return r===tr||t!==null&&t===tr}function j2(r,t){el=Ru=!0;var e=r.pending;e===null?t.next=t:(t.next=e.next,e.next=t),r.pending=t}function T2(r,t,e){if(e&4194240){var n=t.lanes;n&=r.pendingLanes,e|=n,t.lanes=e,Wp(r,e)}}var Pu={readContext:Pn,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useInsertionEffect:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useMutableSource:Br,useSyncExternalStore:Br,useId:Br,unstable_isNewReconciler:!1},K3={readContext:Pn,useCallback:function(r,t){return ri().memoizedState=[r,t===void 0?null:t],r},useContext:Pn,useEffect:eb,useImperativeHandle:function(r,t,e){return e=e!=null?e.concat([r]):null,Zc(4194308,4,x2.bind(null,t,r),e)},useLayoutEffect:function(r,t){return Zc(4194308,4,r,t)},useInsertionEffect:function(r,t){return Zc(4,2,r,t)},useMemo:function(r,t){var e=ri();return t=t===void 0?null:t,r=r(),e.memoizedState=[r,t],r},useReducer:function(r,t,e){var n=ri();return t=e!==void 0?e(t):t,n.memoizedState=n.baseState=t,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:t},n.queue=r,r=r.dispatch=W3.bind(null,tr,r),[n.memoizedState,r]},useRef:function(r){var t=ri();return r={current:r},t.memoizedState=r},useState:Jg,useDebugValue:mm,useDeferredValue:function(r){return ri().memoizedState=r},useTransition:function(){var r=Jg(!1),t=r[0];return r=q3.bind(null,r[1]),ri().memoizedState=r,[t,r]},useMutableSource:function(){},useSyncExternalStore:function(r,t,e){var n=tr,i=ri();if(Yt){if(e===void 0)throw Error(Ie(407));e=e()}else{if(e=t(),wr===null)throw Error(Ie(349));Gs&30||h2(n,t,e)}i.memoizedState=e;var s={value:e,getSnapshot:t};return i.queue=s,eb(p2.bind(null,n,s,r),[r]),n.flags|=2048,El(9,f2.bind(null,n,s,e,t),void 0,null),e},useId:function(){var r=ri(),t=wr.identifierPrefix;if(Yt){var e=xi,n=yi;e=(n&~(1<<32-$n(n)-1)).toString(32)+e,t=":"+t+"R"+e,e=kl++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=H3++,t=":"+t+"r"+e.toString(32)+":";return r.memoizedState=t},unstable_isNewReconciler:!1},X3={readContext:Pn,useCallback:_2,useContext:Pn,useEffect:pm,useImperativeHandle:w2,useInsertionEffect:v2,useLayoutEffect:y2,useMemo:S2,useReducer:Th,useRef:b2,useState:function(){return Th(Nl)},useDebugValue:mm,useDeferredValue:function(r){var t=Mn();return k2(t,gr.memoizedState,r)},useTransition:function(){var r=Th(Nl)[0],t=Mn().memoizedState;return[r,t]},useMutableSource:u2,useSyncExternalStore:d2,useId:N2,unstable_isNewReconciler:!1},Q3={readContext:Pn,useCallback:_2,useContext:Pn,useEffect:pm,useImperativeHandle:w2,useInsertionEffect:v2,useLayoutEffect:y2,useMemo:S2,useReducer:Ch,useRef:b2,useState:function(){return Ch(Nl)},useDebugValue:mm,useDeferredValue:function(r){var t=Mn();return gr===null?t.memoizedState=r:k2(t,gr.memoizedState,r)},useTransition:function(){var r=Ch(Nl)[0],t=Mn().memoizedState;return[r,t]},useMutableSource:u2,useSyncExternalStore:d2,useId:N2,unstable_isNewReconciler:!1};function Bn(r,t){if(r&&r.defaultProps){t=rr({},t),r=r.defaultProps;for(var e in r)t[e]===void 0&&(t[e]=r[e]);return t}return t}function If(r,t,e,n){t=r.memoizedState,e=e(n,t),e=e==null?t:rr({},t,e),r.memoizedState=e,r.lanes===0&&(r.updateQueue.baseState=e)}var bd={isMounted:function(r){return(r=r._reactInternals)?ia(r)===r:!1},enqueueSetState:function(r,t,e){r=r._reactInternals;var n=Yr(),i=fs(r),s=ki(n,i);s.payload=t,e!=null&&(s.callback=e),t=ds(r,s,i),t!==null&&(Hn(t,r,i,n),Qc(t,r,i))},enqueueReplaceState:function(r,t,e){r=r._reactInternals;var n=Yr(),i=fs(r),s=ki(n,i);s.tag=1,s.payload=t,e!=null&&(s.callback=e),t=ds(r,s,i),t!==null&&(Hn(t,r,i,n),Qc(t,r,i))},enqueueForceUpdate:function(r,t){r=r._reactInternals;var e=Yr(),n=fs(r),i=ki(e,n);i.tag=2,t!=null&&(i.callback=t),t=ds(r,i,n),t!==null&&(Hn(t,r,n,e),Qc(t,r,n))}};function tb(r,t,e,n,i,s,a){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!vl(e,n)||!vl(i,s):!0}function C2(r,t,e){var n=!1,i=xs,s=t.contextType;return typeof s=="object"&&s!==null?s=Pn(s):(i=un(t)?qs:Wr.current,n=t.contextTypes,s=(n=n!=null)?Wa(r,i):xs),t=new t(e,s),r.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bd,r.stateNode=t,t._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=s),t}function rb(r,t,e,n){r=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,n),t.state!==r&&bd.enqueueReplaceState(t,t.state,null)}function Rf(r,t,e,n){var i=r.stateNode;i.props=e,i.state=r.memoizedState,i.refs={},om(r);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Pn(s):(s=un(t)?qs:Wr.current,i.context=Wa(r,s)),i.state=r.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(If(r,t,s,e),i.state=r.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&bd.enqueueReplaceState(i,i.state,null),Au(r,e,i,n),i.state=r.memoizedState),typeof i.componentDidMount=="function"&&(r.flags|=4194308)}function Qa(r,t){try{var e="",n=t;do e+=k_(n),n=n.return;while(n);var i=e}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:r,source:t,stack:i,digest:null}}function Ah(r,t,e){return{value:r,source:null,stack:e??null,digest:t??null}}function Pf(r,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var Y3=typeof WeakMap=="function"?WeakMap:Map;function A2(r,t,e){e=ki(-1,e),e.tag=3,e.payload={element:null};var n=t.value;return e.callback=function(){Ou||(Ou=!0,$f=n),Pf(r,t)},e}function I2(r,t,e){e=ki(-1,e),e.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;e.payload=function(){return n(i)},e.callback=function(){Pf(r,t)}}var s=r.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Pf(r,t),typeof n!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),e}function nb(r,t,e){var n=r.pingCache;if(n===null){n=r.pingCache=new Y3;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(e)||(i.add(e),r=d6.bind(null,r,t,e),t.then(r,r))}function ib(r){do{var t;if((t=r.tag===13)&&(t=r.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return r;r=r.return}while(r!==null);return null}function sb(r,t,e,n,i){return r.mode&1?(r.flags|=65536,r.lanes=i,r):(r===t?r.flags|=65536:(r.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=ki(-1,1),t.tag=2,ds(e,t,1))),e.lanes|=1),r)}var Z3=Li.ReactCurrentOwner,on=!1;function Xr(r,t,e,n){t.child=r===null?a2(t,null,e,n):Ka(t,r.child,e,n)}function ab(r,t,e,n,i){e=e.render;var s=t.ref;return Ba(t,i),n=hm(r,t,e,n,s,i),e=fm(),r!==null&&!on?(t.updateQueue=r.updateQueue,t.flags&=-2053,r.lanes&=~i,Ii(r,t,i)):(Yt&&e&&em(t),t.flags|=1,Xr(r,t,n,i),t.child)}function ob(r,t,e,n,i){if(r===null){var s=e.type;return typeof s=="function"&&!Sm(s)&&s.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=s,R2(r,t,s,n,i)):(r=ru(e.type,null,n,t,t.mode,i),r.ref=t.ref,r.return=t,t.child=r)}if(s=r.child,!(r.lanes&i)){var a=s.memoizedProps;if(e=e.compare,e=e!==null?e:vl,e(a,n)&&r.ref===t.ref)return Ii(r,t,i)}return t.flags|=1,r=ps(s,n),r.ref=t.ref,r.return=t,t.child=r}function R2(r,t,e,n,i){if(r!==null){var s=r.memoizedProps;if(vl(s,n)&&r.ref===t.ref)if(on=!1,t.pendingProps=n=s,(r.lanes&i)!==0)r.flags&131072&&(on=!0);else return t.lanes=r.lanes,Ii(r,t,i)}return Mf(r,t,e,n,i)}function P2(r,t,e){var n=t.pendingProps,i=n.children,s=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Pa,gn),gn|=e;else{if(!(e&1073741824))return r=s!==null?s.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:r,cachePool:null,transitions:null},t.updateQueue=null,Wt(Pa,gn),gn|=r,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:e,Wt(Pa,gn),gn|=n}else s!==null?(n=s.baseLanes|e,t.memoizedState=null):n=e,Wt(Pa,gn),gn|=n;return Xr(r,t,i,e),t.child}function M2(r,t){var e=t.ref;(r===null&&e!==null||r!==null&&r.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function Mf(r,t,e,n,i){var s=un(e)?qs:Wr.current;return s=Wa(t,s),Ba(t,i),e=hm(r,t,e,n,s,i),n=fm(),r!==null&&!on?(t.updateQueue=r.updateQueue,t.flags&=-2053,r.lanes&=~i,Ii(r,t,i)):(Yt&&n&&em(t),t.flags|=1,Xr(r,t,e,i),t.child)}function lb(r,t,e,n,i){if(un(e)){var s=!0;Nu(t)}else s=!1;if(Ba(t,i),t.stateNode===null)Jc(r,t),C2(t,e,n),Rf(t,e,n,i),n=!0;else if(r===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var l=a.context,o=e.contextType;typeof o=="object"&&o!==null?o=Pn(o):(o=un(e)?qs:Wr.current,o=Wa(t,o));var u=e.getDerivedStateFromProps,p=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==n||l!==o)&&rb(t,a,n,o),Qi=!1;var d=t.memoizedState;a.state=d,Au(t,n,a,i),l=t.memoizedState,c!==n||d!==l||cn.current||Qi?(typeof u=="function"&&(If(t,e,u,n),l=t.memoizedState),(c=Qi||tb(t,e,c,n,d,l,o))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=o,n=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,l2(r,t),c=t.memoizedProps,o=t.type===t.elementType?c:Bn(t.type,c),a.props=o,p=t.pendingProps,d=a.context,l=e.contextType,typeof l=="object"&&l!==null?l=Pn(l):(l=un(e)?qs:Wr.current,l=Wa(t,l));var h=e.getDerivedStateFromProps;(u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==p||d!==l)&&rb(t,a,n,l),Qi=!1,d=t.memoizedState,a.state=d,Au(t,n,a,i);var g=t.memoizedState;c!==p||d!==g||cn.current||Qi?(typeof h=="function"&&(If(t,e,h,n),g=t.memoizedState),(o=Qi||tb(t,e,o,n,d,g,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===r.memoizedProps&&d===r.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===r.memoizedProps&&d===r.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=l,n=o):(typeof a.componentDidUpdate!="function"||c===r.memoizedProps&&d===r.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===r.memoizedProps&&d===r.memoizedState||(t.flags|=1024),n=!1)}return Of(r,t,e,n,s,i)}function Of(r,t,e,n,i,s){M2(r,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&Gg(t,e,!1),Ii(r,t,s);n=t.stateNode,Z3.current=t;var c=a&&typeof e.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,r!==null&&a?(t.child=Ka(t,r.child,null,s),t.child=Ka(t,null,c,s)):Xr(r,t,c,s),t.memoizedState=n.state,i&&Gg(t,e,!0),t.child}function O2(r){var t=r.stateNode;t.pendingContext?Wg(r,t.pendingContext,t.pendingContext!==t.context):t.context&&Wg(r,t.context,!1),lm(r,t.containerInfo)}function cb(r,t,e,n,i){return Ga(),rm(i),t.flags|=256,Xr(r,t,e,n),t.child}var Df={dehydrated:null,treeContext:null,retryLane:0};function Ff(r){return{baseLanes:r,cachePool:null,transitions:null}}function D2(r,t,e){var n=t.pendingProps,i=er.current,s=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=r!==null&&r.memoizedState===null?!1:(i&2)!==0),c?(s=!0,t.flags&=-129):(r===null||r.memoizedState!==null)&&(i|=1),Wt(er,i&1),r===null)return Cf(t),r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(t.mode&1?r.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,r=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=xd(a,n,0,null),r=$s(r,n,e,null),s.return=t,r.return=t,s.sibling=r,t.child=s,t.child.memoizedState=Ff(e),t.memoizedState=Df,r):gm(t,a));if(i=r.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return J3(r,t,a,n,c,i,e);if(s){s=n.fallback,a=t.mode,i=r.child,c=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=ps(i,l),n.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=ps(c,s):(s=$s(s,a,e,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=r.child.memoizedState,a=a===null?Ff(e):{baseLanes:a.baseLanes|e,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=r.childLanes&~e,t.memoizedState=Df,n}return s=r.child,r=s.sibling,n=ps(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=e),n.return=t,n.sibling=null,r!==null&&(e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)),t.child=n,t.memoizedState=null,n}function gm(r,t){return t=xd({mode:"visible",children:t},r.mode,0,null),t.return=r,r.child=t}function Rc(r,t,e,n){return n!==null&&rm(n),Ka(t,r.child,null,e),r=gm(t,t.pendingProps.children),r.flags|=2,t.memoizedState=null,r}function J3(r,t,e,n,i,s,a){if(e)return t.flags&256?(t.flags&=-257,n=Ah(Error(Ie(422))),Rc(r,t,a,n)):t.memoizedState!==null?(t.child=r.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=xd({mode:"visible",children:n.children},i,0,null),s=$s(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Ka(t,r.child,null,a),t.child.memoizedState=Ff(a),t.memoizedState=Df,s);if(!(t.mode&1))return Rc(r,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var c=n.dgst;return n=c,s=Error(Ie(419)),n=Ah(s,n,void 0),Rc(r,t,a,n)}if(c=(a&r.childLanes)!==0,on||c){if(n=wr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ai(r,i),Hn(n,r,i,-1))}return _m(),n=Ah(Error(Ie(421))),Rc(r,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=r.child,t=h6.bind(null,r),i._reactRetry=t,null):(r=s.treeContext,bn=us(i.nextSibling),yn=t,Yt=!0,zn=null,r!==null&&(En[jn++]=yi,En[jn++]=xi,En[jn++]=Ws,yi=r.id,xi=r.overflow,Ws=t),t=gm(t,n.children),t.flags|=4096,t)}function ub(r,t,e){r.lanes|=t;var n=r.alternate;n!==null&&(n.lanes|=t),Af(r.return,t,e)}function Ih(r,t,e,n,i){var s=r.memoizedState;s===null?r.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:e,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=e,s.tailMode=i)}function F2(r,t,e){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Xr(r,t,n.children,e),n=er.current,n&2)n=n&1|2,t.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=t.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ub(r,e,t);else if(r.tag===19)ub(r,e,t);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(Wt(er,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(e=t.child,i=null;e!==null;)r=e.alternate,r!==null&&Iu(r)===null&&(i=e),e=e.sibling;e=i,e===null?(i=t.child,t.child=null):(i=e.sibling,e.sibling=null),Ih(t,!1,i,e,s);break;case"backwards":for(e=null,i=t.child,t.child=null;i!==null;){if(r=i.alternate,r!==null&&Iu(r)===null){t.child=i;break}r=i.sibling,i.sibling=e,e=i,i=r}Ih(t,!0,e,null,s);break;case"together":Ih(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jc(r,t){!(t.mode&1)&&r!==null&&(r.alternate=null,t.alternate=null,t.flags|=2)}function Ii(r,t,e){if(r!==null&&(t.dependencies=r.dependencies),Ks|=t.lanes,!(e&t.childLanes))return null;if(r!==null&&t.child!==r.child)throw Error(Ie(153));if(t.child!==null){for(r=t.child,e=ps(r,r.pendingProps),t.child=e,e.return=t;r.sibling!==null;)r=r.sibling,e=e.sibling=ps(r,r.pendingProps),e.return=t;e.sibling=null}return t.child}function e6(r,t,e){switch(t.tag){case 3:O2(t),Ga();break;case 5:c2(t);break;case 1:un(t.type)&&Nu(t);break;case 4:lm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Wt(Tu,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Wt(er,er.current&1),t.flags|=128,null):e&t.child.childLanes?D2(r,t,e):(Wt(er,er.current&1),r=Ii(r,t,e),r!==null?r.sibling:null);Wt(er,er.current&1);break;case 19:if(n=(e&t.childLanes)!==0,r.flags&128){if(n)return F2(r,t,e);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wt(er,er.current),n)break;return null;case 22:case 23:return t.lanes=0,P2(r,t,e)}return Ii(r,t,e)}var L2,Lf,B2,V2;L2=function(r,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)r.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};Lf=function(){};B2=function(r,t,e,n){var i=r.memoizedProps;if(i!==n){r=t.stateNode,Bs(ai.current);var s=null;switch(e){case"input":i=af(r,i),n=af(r,n),s=[];break;case"select":i=rr({},i,{value:void 0}),n=rr({},n,{value:void 0}),s=[];break;case"textarea":i=cf(r,i),n=cf(r,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=Su)}df(e,n);var a;e=null;for(o in i)if(!n.hasOwnProperty(o)&&i.hasOwnProperty(o)&&i[o]!=null)if(o==="style"){var c=i[o];for(a in c)c.hasOwnProperty(a)&&(e||(e={}),e[a]="")}else o!=="dangerouslySetInnerHTML"&&o!=="children"&&o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(dl.hasOwnProperty(o)?s||(s=[]):(s=s||[]).push(o,null));for(o in n){var l=n[o];if(c=i!=null?i[o]:void 0,n.hasOwnProperty(o)&&l!==c&&(l!=null||c!=null))if(o==="style")if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(e||(e={}),e[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(e||(e={}),e[a]=l[a])}else e||(s||(s=[]),s.push(o,e)),e=l;else o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(s=s||[]).push(o,l)):o==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(o,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&(dl.hasOwnProperty(o)?(l!=null&&o==="onScroll"&&Kt("scroll",r),s||c===l||(s=[])):(s=s||[]).push(o,l))}e&&(s=s||[]).push("style",e);var o=s;(t.updateQueue=o)&&(t.flags|=4)}};V2=function(r,t,e,n){e!==n&&(t.flags|=4)};function Ao(r,t){if(!Yt)switch(r.tailMode){case"hidden":t=r.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?r.tail=null:e.sibling=null;break;case"collapsed":e=r.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function Vr(r){var t=r.alternate!==null&&r.alternate.child===r.child,e=0,n=0;if(t)for(var i=r.child;i!==null;)e|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=r,i=i.sibling;else for(i=r.child;i!==null;)e|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=r,i=i.sibling;return r.subtreeFlags|=n,r.childLanes=e,t}function t6(r,t,e){var n=t.pendingProps;switch(tm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(t),null;case 1:return un(t.type)&&ku(),Vr(t),null;case 3:return n=t.stateNode,Xa(),Qt(cn),Qt(Wr),um(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(Ac(t)?t.flags|=4:r===null||r.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zn!==null&&(Wf(zn),zn=null))),Lf(r,t),Vr(t),null;case 5:cm(t);var i=Bs(Sl.current);if(e=t.type,r!==null&&t.stateNode!=null)B2(r,t,e,n,i),r.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ie(166));return Vr(t),null}if(r=Bs(ai.current),Ac(t)){n=t.stateNode,e=t.type;var s=t.memoizedProps;switch(n[ni]=t,n[wl]=s,r=(t.mode&1)!==0,e){case"dialog":Kt("cancel",n),Kt("close",n);break;case"iframe":case"object":case"embed":Kt("load",n);break;case"video":case"audio":for(i=0;i<Uo.length;i++)Kt(Uo[i],n);break;case"source":Kt("error",n);break;case"img":case"image":case"link":Kt("error",n),Kt("load",n);break;case"details":Kt("toggle",n);break;case"input":yg(n,s),Kt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",n);break;case"textarea":wg(n,s),Kt("invalid",n)}df(e,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="children"?typeof c=="string"?n.textContent!==c&&(s.suppressHydrationWarning!==!0&&Cc(n.textContent,c,r),i=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&Cc(n.textContent,c,r),i=["children",""+c]):dl.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Kt("scroll",n)}switch(e){case"input":wc(n),xg(n,s,!0);break;case"textarea":wc(n),_g(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Su)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=py(e)),r==="http://www.w3.org/1999/xhtml"?e==="script"?(r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=a.createElement(e,{is:n.is}):(r=a.createElement(e),e==="select"&&(a=r,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):r=a.createElementNS(r,e),r[ni]=t,r[wl]=n,L2(r,t,!1,!1),t.stateNode=r;e:{switch(a=hf(e,n),e){case"dialog":Kt("cancel",r),Kt("close",r),i=n;break;case"iframe":case"object":case"embed":Kt("load",r),i=n;break;case"video":case"audio":for(i=0;i<Uo.length;i++)Kt(Uo[i],r);i=n;break;case"source":Kt("error",r),i=n;break;case"img":case"image":case"link":Kt("error",r),Kt("load",r),i=n;break;case"details":Kt("toggle",r),i=n;break;case"input":yg(r,n),i=af(r,n),Kt("invalid",r);break;case"option":i=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},i=rr({},n,{value:void 0}),Kt("invalid",r);break;case"textarea":wg(r,n),i=cf(r,n),Kt("invalid",r);break;default:i=n}df(e,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var l=c[s];s==="style"?by(r,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&my(r,l)):s==="children"?typeof l=="string"?(e!=="textarea"||l!=="")&&hl(r,l):typeof l=="number"&&hl(r,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Kt("scroll",r):l!=null&&Vp(r,s,l,a))}switch(e){case"input":wc(r),xg(r,n,!1);break;case"textarea":wc(r),_g(r);break;case"option":n.value!=null&&r.setAttribute("value",""+ys(n.value));break;case"select":r.multiple=!!n.multiple,s=n.value,s!=null?Oa(r,!!n.multiple,s,!1):n.defaultValue!=null&&Oa(r,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(r.onclick=Su)}switch(e){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vr(t),null;case 6:if(r&&t.stateNode!=null)V2(r,t,r.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ie(166));if(e=Bs(Sl.current),Bs(ai.current),Ac(t)){if(n=t.stateNode,e=t.memoizedProps,n[ni]=t,(s=n.nodeValue!==e)&&(r=yn,r!==null))switch(r.tag){case 3:Cc(n.nodeValue,e,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Cc(n.nodeValue,e,(r.mode&1)!==0)}s&&(t.flags|=4)}else n=(e.nodeType===9?e:e.ownerDocument).createTextNode(n),n[ni]=t,t.stateNode=n}return Vr(t),null;case 13:if(Qt(er),n=t.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Yt&&bn!==null&&t.mode&1&&!(t.flags&128))i2(),Ga(),t.flags|=98560,s=!1;else if(s=Ac(t),n!==null&&n.dehydrated!==null){if(r===null){if(!s)throw Error(Ie(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ie(317));s[ni]=t}else Ga(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vr(t),s=!1}else zn!==null&&(Wf(zn),zn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(r===null||er.current&1?br===0&&(br=3):_m())),t.updateQueue!==null&&(t.flags|=4),Vr(t),null);case 4:return Xa(),Lf(r,t),r===null&&yl(t.stateNode.containerInfo),Vr(t),null;case 10:return sm(t.type._context),Vr(t),null;case 17:return un(t.type)&&ku(),Vr(t),null;case 19:if(Qt(er),s=t.memoizedState,s===null)return Vr(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)Ao(s,!1);else{if(br!==0||r!==null&&r.flags&128)for(r=t.child;r!==null;){if(a=Iu(r),a!==null){for(t.flags|=128,Ao(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=e,e=t.child;e!==null;)s=e,r=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,r=a.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e=e.sibling;return Wt(er,er.current&1|2),t.child}r=r.sibling}s.tail!==null&&cr()>Ya&&(t.flags|=128,n=!0,Ao(s,!1),t.lanes=4194304)}else{if(!n)if(r=Iu(a),r!==null){if(t.flags|=128,n=!0,e=r.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),Ao(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Yt)return Vr(t),null}else 2*cr()-s.renderingStartTime>Ya&&e!==1073741824&&(t.flags|=128,n=!0,Ao(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(e=s.last,e!==null?e.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=cr(),t.sibling=null,e=er.current,Wt(er,n?e&1|2:e&1),t):(Vr(t),null);case 22:case 23:return wm(),n=t.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?gn&1073741824&&(Vr(t),t.subtreeFlags&6&&(t.flags|=8192)):Vr(t),null;case 24:return null;case 25:return null}throw Error(Ie(156,t.tag))}function r6(r,t){switch(tm(t),t.tag){case 1:return un(t.type)&&ku(),r=t.flags,r&65536?(t.flags=r&-65537|128,t):null;case 3:return Xa(),Qt(cn),Qt(Wr),um(),r=t.flags,r&65536&&!(r&128)?(t.flags=r&-65537|128,t):null;case 5:return cm(t),null;case 13:if(Qt(er),r=t.memoizedState,r!==null&&r.dehydrated!==null){if(t.alternate===null)throw Error(Ie(340));Ga()}return r=t.flags,r&65536?(t.flags=r&-65537|128,t):null;case 19:return Qt(er),null;case 4:return Xa(),null;case 10:return sm(t.type._context),null;case 22:case 23:return wm(),null;case 24:return null;default:return null}}var Pc=!1,$r=!1,n6=typeof WeakSet=="function"?WeakSet:Set,He=null;function Ra(r,t){var e=r.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){or(r,t,n)}else e.current=null}function Bf(r,t,e){try{e()}catch(n){or(r,t,n)}}var db=!1;function i6(r,t){if(_f=xu,r=qy(),Jp(r)){if("selectionStart"in r)var e={start:r.selectionStart,end:r.selectionEnd};else e:{e=(e=r.ownerDocument)&&e.defaultView||window;var n=e.getSelection&&e.getSelection();if(n&&n.rangeCount!==0){e=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{e.nodeType,s.nodeType}catch{e=null;break e}var a=0,c=-1,l=-1,o=0,u=0,p=r,d=null;t:for(;;){for(var h;p!==e||i!==0&&p.nodeType!==3||(c=a+i),p!==s||n!==0&&p.nodeType!==3||(l=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(h=p.firstChild)!==null;)d=p,p=h;for(;;){if(p===r)break t;if(d===e&&++o===i&&(c=a),d===s&&++u===n&&(l=a),(h=p.nextSibling)!==null)break;p=d,d=p.parentNode}p=h}e=c===-1||l===-1?null:{start:c,end:l}}else e=null}e=e||{start:0,end:0}}else e=null;for(Sf={focusedElem:r,selectionRange:e},xu=!1,He=t;He!==null;)if(t=He,r=t.child,(t.subtreeFlags&1028)!==0&&r!==null)r.return=t,He=r;else for(;He!==null;){t=He;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,m=g.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?b:Bn(t.type,b),m);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(E){or(t,t.return,E)}if(r=t.sibling,r!==null){r.return=t.return,He=r;break}He=t.return}return g=db,db=!1,g}function tl(r,t,e){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&r)===r){var s=i.destroy;i.destroy=void 0,s!==void 0&&Bf(t,e,s)}i=i.next}while(i!==n)}}function vd(r,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&r)===r){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}}function Vf(r){var t=r.ref;if(t!==null){var e=r.stateNode;switch(r.tag){case 5:r=e;break;default:r=e}typeof t=="function"?t(r):t.current=r}}function z2(r){var t=r.alternate;t!==null&&(r.alternate=null,z2(t)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(t=r.stateNode,t!==null&&(delete t[ni],delete t[wl],delete t[Ef],delete t[V3],delete t[z3])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function U2(r){return r.tag===5||r.tag===3||r.tag===4}function hb(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||U2(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function zf(r,t,e){var n=r.tag;if(n===5||n===6)r=r.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(r,t):e.insertBefore(r,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(r,e)):(t=e,t.appendChild(r)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=Su));else if(n!==4&&(r=r.child,r!==null))for(zf(r,t,e),r=r.sibling;r!==null;)zf(r,t,e),r=r.sibling}function Uf(r,t,e){var n=r.tag;if(n===5||n===6)r=r.stateNode,t?e.insertBefore(r,t):e.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(Uf(r,t,e),r=r.sibling;r!==null;)Uf(r,t,e),r=r.sibling}var Cr=null,Vn=!1;function Gi(r,t,e){for(e=e.child;e!==null;)$2(r,t,e),e=e.sibling}function $2(r,t,e){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(ud,e)}catch{}switch(e.tag){case 5:$r||Ra(e,t);case 6:var n=Cr,i=Vn;Cr=null,Gi(r,t,e),Cr=n,Vn=i,Cr!==null&&(Vn?(r=Cr,e=e.stateNode,r.nodeType===8?r.parentNode.removeChild(e):r.removeChild(e)):Cr.removeChild(e.stateNode));break;case 18:Cr!==null&&(Vn?(r=Cr,e=e.stateNode,r.nodeType===8?kh(r.parentNode,e):r.nodeType===1&&kh(r,e),gl(r)):kh(Cr,e.stateNode));break;case 4:n=Cr,i=Vn,Cr=e.stateNode.containerInfo,Vn=!0,Gi(r,t,e),Cr=n,Vn=i;break;case 0:case 11:case 14:case 15:if(!$r&&(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Bf(e,t,a),i=i.next}while(i!==n)}Gi(r,t,e);break;case 1:if(!$r&&(Ra(e,t),n=e.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(c){or(e,t,c)}Gi(r,t,e);break;case 21:Gi(r,t,e);break;case 22:e.mode&1?($r=(n=$r)||e.memoizedState!==null,Gi(r,t,e),$r=n):Gi(r,t,e);break;default:Gi(r,t,e)}}function fb(r){var t=r.updateQueue;if(t!==null){r.updateQueue=null;var e=r.stateNode;e===null&&(e=r.stateNode=new n6),t.forEach(function(n){var i=f6.bind(null,r,n);e.has(n)||(e.add(n),n.then(i,i))})}}function Ln(r,t){var e=t.deletions;if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];try{var s=r,a=t,c=a;e:for(;c!==null;){switch(c.tag){case 5:Cr=c.stateNode,Vn=!1;break e;case 3:Cr=c.stateNode.containerInfo,Vn=!0;break e;case 4:Cr=c.stateNode.containerInfo,Vn=!0;break e}c=c.return}if(Cr===null)throw Error(Ie(160));$2(s,a,i),Cr=null,Vn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(o){or(i,t,o)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)H2(t,r),t=t.sibling}function H2(r,t){var e=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Ln(t,r),ei(r),n&4){try{tl(3,r,r.return),vd(3,r)}catch(b){or(r,r.return,b)}try{tl(5,r,r.return)}catch(b){or(r,r.return,b)}}break;case 1:Ln(t,r),ei(r),n&512&&e!==null&&Ra(e,e.return);break;case 5:if(Ln(t,r),ei(r),n&512&&e!==null&&Ra(e,e.return),r.flags&32){var i=r.stateNode;try{hl(i,"")}catch(b){or(r,r.return,b)}}if(n&4&&(i=r.stateNode,i!=null)){var s=r.memoizedProps,a=e!==null?e.memoizedProps:s,c=r.type,l=r.updateQueue;if(r.updateQueue=null,l!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&hy(i,s),hf(c,a);var o=hf(c,s);for(a=0;a<l.length;a+=2){var u=l[a],p=l[a+1];u==="style"?by(i,p):u==="dangerouslySetInnerHTML"?my(i,p):u==="children"?hl(i,p):Vp(i,u,p,o)}switch(c){case"input":of(i,s);break;case"textarea":fy(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Oa(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?Oa(i,!!s.multiple,s.defaultValue,!0):Oa(i,!!s.multiple,s.multiple?[]:"",!1))}i[wl]=s}catch(b){or(r,r.return,b)}}break;case 6:if(Ln(t,r),ei(r),n&4){if(r.stateNode===null)throw Error(Ie(162));i=r.stateNode,s=r.memoizedProps;try{i.nodeValue=s}catch(b){or(r,r.return,b)}}break;case 3:if(Ln(t,r),ei(r),n&4&&e!==null&&e.memoizedState.isDehydrated)try{gl(t.containerInfo)}catch(b){or(r,r.return,b)}break;case 4:Ln(t,r),ei(r);break;case 13:Ln(t,r),ei(r),i=r.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ym=cr())),n&4&&fb(r);break;case 22:if(u=e!==null&&e.memoizedState!==null,r.mode&1?($r=(o=$r)||u,Ln(t,r),$r=o):Ln(t,r),ei(r),n&8192){if(o=r.memoizedState!==null,(r.stateNode.isHidden=o)&&!u&&r.mode&1)for(He=r,u=r.child;u!==null;){for(p=He=u;He!==null;){switch(d=He,h=d.child,d.tag){case 0:case 11:case 14:case 15:tl(4,d,d.return);break;case 1:Ra(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){n=d,e=d.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(b){or(n,e,b)}}break;case 5:Ra(d,d.return);break;case 22:if(d.memoizedState!==null){mb(p);continue}}h!==null?(h.return=d,He=h):mb(p)}u=u.sibling}e:for(u=null,p=r;;){if(p.tag===5){if(u===null){u=p;try{i=p.stateNode,o?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=gy("display",a))}catch(b){or(r,r.return,b)}}}else if(p.tag===6){if(u===null)try{p.stateNode.nodeValue=o?"":p.memoizedProps}catch(b){or(r,r.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===r)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break e;for(;p.sibling===null;){if(p.return===null||p.return===r)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ln(t,r),ei(r),n&4&&fb(r);break;case 21:break;default:Ln(t,r),ei(r)}}function ei(r){var t=r.flags;if(t&2){try{e:{for(var e=r.return;e!==null;){if(U2(e)){var n=e;break e}e=e.return}throw Error(Ie(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(hl(i,""),n.flags&=-33);var s=hb(r);Uf(r,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,c=hb(r);zf(r,c,a);break;default:throw Error(Ie(161))}}catch(l){or(r,r.return,l)}r.flags&=-3}t&4096&&(r.flags&=-4097)}function s6(r,t,e){He=r,q2(r)}function q2(r,t,e){for(var n=(r.mode&1)!==0;He!==null;){var i=He,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Pc;if(!a){var c=i.alternate,l=c!==null&&c.memoizedState!==null||$r;c=Pc;var o=$r;if(Pc=a,($r=l)&&!o)for(He=i;He!==null;)a=He,l=a.child,a.tag===22&&a.memoizedState!==null?gb(i):l!==null?(l.return=a,He=l):gb(i);for(;s!==null;)He=s,q2(s),s=s.sibling;He=i,Pc=c,$r=o}pb(r)}else i.subtreeFlags&8772&&s!==null?(s.return=i,He=s):pb(r)}}function pb(r){for(;He!==null;){var t=He;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$r||vd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!$r)if(e===null)n.componentDidMount();else{var i=t.elementType===t.type?e.memoizedProps:Bn(t.type,e.memoizedProps);n.componentDidUpdate(i,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Zg(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}Zg(t,a,e)}break;case 5:var c=t.stateNode;if(e===null&&t.flags&4){e=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&e.focus();break;case"img":l.src&&(e.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var o=t.alternate;if(o!==null){var u=o.memoizedState;if(u!==null){var p=u.dehydrated;p!==null&&gl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}$r||t.flags&512&&Vf(t)}catch(d){or(t,t.return,d)}}if(t===r){He=null;break}if(e=t.sibling,e!==null){e.return=t.return,He=e;break}He=t.return}}function mb(r){for(;He!==null;){var t=He;if(t===r){He=null;break}var e=t.sibling;if(e!==null){e.return=t.return,He=e;break}He=t.return}}function gb(r){for(;He!==null;){var t=He;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{vd(4,t)}catch(l){or(t,e,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){or(t,i,l)}}var s=t.return;try{Vf(t)}catch(l){or(t,s,l)}break;case 5:var a=t.return;try{Vf(t)}catch(l){or(t,a,l)}}}catch(l){or(t,t.return,l)}if(t===r){He=null;break}var c=t.sibling;if(c!==null){c.return=t.return,He=c;break}He=t.return}}var a6=Math.ceil,Mu=Li.ReactCurrentDispatcher,bm=Li.ReactCurrentOwner,Cn=Li.ReactCurrentBatchConfig,Ot=0,wr=null,fr=null,Rr=0,gn=0,Pa=Ns(0),br=0,jl=null,Ks=0,yd=0,vm=0,rl=null,sn=null,ym=0,Ya=1/0,gi=null,Ou=!1,$f=null,hs=null,Mc=!1,is=null,Du=0,nl=0,Hf=null,eu=-1,tu=0;function Yr(){return Ot&6?cr():eu!==-1?eu:eu=cr()}function fs(r){return r.mode&1?Ot&2&&Rr!==0?Rr&-Rr:$3.transition!==null?(tu===0&&(tu=Cy()),tu):(r=Ut,r!==0||(r=window.event,r=r===void 0?16:Dy(r.type)),r):1}function Hn(r,t,e,n){if(50<nl)throw nl=0,Hf=null,Error(Ie(185));Hl(r,e,n),(!(Ot&2)||r!==wr)&&(r===wr&&(!(Ot&2)&&(yd|=e),br===4&&Zi(r,Rr)),dn(r,n),e===1&&Ot===0&&!(t.mode&1)&&(Ya=cr()+500,md&&Es()))}function dn(r,t){var e=r.callbackNode;$_(r,t);var n=yu(r,r===wr?Rr:0);if(n===0)e!==null&&Ng(e),r.callbackNode=null,r.callbackPriority=0;else if(t=n&-n,r.callbackPriority!==t){if(e!=null&&Ng(e),t===1)r.tag===0?U3(bb.bind(null,r)):t2(bb.bind(null,r)),L3(function(){!(Ot&6)&&Es()}),e=null;else{switch(Ay(n)){case 1:e=qp;break;case 4:e=jy;break;case 16:e=vu;break;case 536870912:e=Ty;break;default:e=vu}e=J2(e,W2.bind(null,r))}r.callbackPriority=t,r.callbackNode=e}}function W2(r,t){if(eu=-1,tu=0,Ot&6)throw Error(Ie(327));var e=r.callbackNode;if(Va()&&r.callbackNode!==e)return null;var n=yu(r,r===wr?Rr:0);if(n===0)return null;if(n&30||n&r.expiredLanes||t)t=Fu(r,n);else{t=n;var i=Ot;Ot|=2;var s=K2();(wr!==r||Rr!==t)&&(gi=null,Ya=cr()+500,Us(r,t));do try{c6();break}catch(c){G2(r,c)}while(!0);im(),Mu.current=s,Ot=i,fr!==null?t=0:(wr=null,Rr=0,t=br)}if(t!==0){if(t===2&&(i=bf(r),i!==0&&(n=i,t=qf(r,i))),t===1)throw e=jl,Us(r,0),Zi(r,n),dn(r,cr()),e;if(t===6)Zi(r,n);else{if(i=r.current.alternate,!(n&30)&&!o6(i)&&(t=Fu(r,n),t===2&&(s=bf(r),s!==0&&(n=s,t=qf(r,s))),t===1))throw e=jl,Us(r,0),Zi(r,n),dn(r,cr()),e;switch(r.finishedWork=i,r.finishedLanes=n,t){case 0:case 1:throw Error(Ie(345));case 2:Os(r,sn,gi);break;case 3:if(Zi(r,n),(n&130023424)===n&&(t=ym+500-cr(),10<t)){if(yu(r,0)!==0)break;if(i=r.suspendedLanes,(i&n)!==n){Yr(),r.pingedLanes|=r.suspendedLanes&i;break}r.timeoutHandle=Nf(Os.bind(null,r,sn,gi),t);break}Os(r,sn,gi);break;case 4:if(Zi(r,n),(n&4194240)===n)break;for(t=r.eventTimes,i=-1;0<n;){var a=31-$n(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=cr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*a6(n/1960))-n,10<n){r.timeoutHandle=Nf(Os.bind(null,r,sn,gi),n);break}Os(r,sn,gi);break;case 5:Os(r,sn,gi);break;default:throw Error(Ie(329))}}}return dn(r,cr()),r.callbackNode===e?W2.bind(null,r):null}function qf(r,t){var e=rl;return r.current.memoizedState.isDehydrated&&(Us(r,t).flags|=256),r=Fu(r,t),r!==2&&(t=sn,sn=e,t!==null&&Wf(t)),r}function Wf(r){sn===null?sn=r:sn.push.apply(sn,r)}function o6(r){for(var t=r;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var n=0;n<e.length;n++){var i=e[n],s=i.getSnapshot;i=i.value;try{if(!qn(s(),i))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zi(r,t){for(t&=~vm,t&=~yd,r.suspendedLanes|=t,r.pingedLanes&=~t,r=r.expirationTimes;0<t;){var e=31-$n(t),n=1<<e;r[e]=-1,t&=~n}}function bb(r){if(Ot&6)throw Error(Ie(327));Va();var t=yu(r,0);if(!(t&1))return dn(r,cr()),null;var e=Fu(r,t);if(r.tag!==0&&e===2){var n=bf(r);n!==0&&(t=n,e=qf(r,n))}if(e===1)throw e=jl,Us(r,0),Zi(r,t),dn(r,cr()),e;if(e===6)throw Error(Ie(345));return r.finishedWork=r.current.alternate,r.finishedLanes=t,Os(r,sn,gi),dn(r,cr()),null}function xm(r,t){var e=Ot;Ot|=1;try{return r(t)}finally{Ot=e,Ot===0&&(Ya=cr()+500,md&&Es())}}function Xs(r){is!==null&&is.tag===0&&!(Ot&6)&&Va();var t=Ot;Ot|=1;var e=Cn.transition,n=Ut;try{if(Cn.transition=null,Ut=1,r)return r()}finally{Ut=n,Cn.transition=e,Ot=t,!(Ot&6)&&Es()}}function wm(){gn=Pa.current,Qt(Pa)}function Us(r,t){r.finishedWork=null,r.finishedLanes=0;var e=r.timeoutHandle;if(e!==-1&&(r.timeoutHandle=-1,F3(e)),fr!==null)for(e=fr.return;e!==null;){var n=e;switch(tm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ku();break;case 3:Xa(),Qt(cn),Qt(Wr),um();break;case 5:cm(n);break;case 4:Xa();break;case 13:Qt(er);break;case 19:Qt(er);break;case 10:sm(n.type._context);break;case 22:case 23:wm()}e=e.return}if(wr=r,fr=r=ps(r.current,null),Rr=gn=t,br=0,jl=null,vm=yd=Ks=0,sn=rl=null,Ls!==null){for(t=0;t<Ls.length;t++)if(e=Ls[t],n=e.interleaved,n!==null){e.interleaved=null;var i=n.next,s=e.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}e.pending=n}Ls=null}return r}function G2(r,t){do{var e=fr;try{if(im(),Yc.current=Pu,Ru){for(var n=tr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ru=!1}if(Gs=0,xr=gr=tr=null,el=!1,kl=0,bm.current=null,e===null||e.return===null){br=1,jl=t,fr=null;break}e:{var s=r,a=e.return,c=e,l=t;if(t=Rr,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var o=l,u=c,p=u.tag;if(!(u.mode&1)&&(p===0||p===11||p===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=ib(a);if(h!==null){h.flags&=-257,sb(h,a,c,s,t),h.mode&1&&nb(s,o,t),t=h,l=o;var g=t.updateQueue;if(g===null){var b=new Set;b.add(l),t.updateQueue=b}else g.add(l);break e}else{if(!(t&1)){nb(s,o,t),_m();break e}l=Error(Ie(426))}}else if(Yt&&c.mode&1){var m=ib(a);if(m!==null){!(m.flags&65536)&&(m.flags|=256),sb(m,a,c,s,t),rm(Qa(l,c));break e}}s=l=Qa(l,c),br!==4&&(br=2),rl===null?rl=[s]:rl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=A2(s,l,t);Yg(s,y);break e;case 1:c=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(hs===null||!hs.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=I2(s,c,t);Yg(s,E);break e}}s=s.return}while(s!==null)}Q2(e)}catch(A){t=A,fr===e&&e!==null&&(fr=e=e.return);continue}break}while(!0)}function K2(){var r=Mu.current;return Mu.current=Pu,r===null?Pu:r}function _m(){(br===0||br===3||br===2)&&(br=4),wr===null||!(Ks&268435455)&&!(yd&268435455)||Zi(wr,Rr)}function Fu(r,t){var e=Ot;Ot|=2;var n=K2();(wr!==r||Rr!==t)&&(gi=null,Us(r,t));do try{l6();break}catch(i){G2(r,i)}while(!0);if(im(),Ot=e,Mu.current=n,fr!==null)throw Error(Ie(261));return wr=null,Rr=0,br}function l6(){for(;fr!==null;)X2(fr)}function c6(){for(;fr!==null&&!M_();)X2(fr)}function X2(r){var t=Z2(r.alternate,r,gn);r.memoizedProps=r.pendingProps,t===null?Q2(r):fr=t,bm.current=null}function Q2(r){var t=r;do{var e=t.alternate;if(r=t.return,t.flags&32768){if(e=r6(e,t),e!==null){e.flags&=32767,fr=e;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{br=6,fr=null;return}}else if(e=t6(e,t,gn),e!==null){fr=e;return}if(t=t.sibling,t!==null){fr=t;return}fr=t=r}while(t!==null);br===0&&(br=5)}function Os(r,t,e){var n=Ut,i=Cn.transition;try{Cn.transition=null,Ut=1,u6(r,t,e,n)}finally{Cn.transition=i,Ut=n}return null}function u6(r,t,e,n){do Va();while(is!==null);if(Ot&6)throw Error(Ie(327));e=r.finishedWork;var i=r.finishedLanes;if(e===null)return null;if(r.finishedWork=null,r.finishedLanes=0,e===r.current)throw Error(Ie(177));r.callbackNode=null,r.callbackPriority=0;var s=e.lanes|e.childLanes;if(H_(r,s),r===wr&&(fr=wr=null,Rr=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||Mc||(Mc=!0,J2(vu,function(){return Va(),null})),s=(e.flags&15990)!==0,e.subtreeFlags&15990||s){s=Cn.transition,Cn.transition=null;var a=Ut;Ut=1;var c=Ot;Ot|=4,bm.current=null,i6(r,e),H2(e,r),A3(Sf),xu=!!_f,Sf=_f=null,r.current=e,s6(e),O_(),Ot=c,Ut=a,Cn.transition=s}else r.current=e;if(Mc&&(Mc=!1,is=r,Du=i),s=r.pendingLanes,s===0&&(hs=null),L_(e.stateNode),dn(r,cr()),t!==null)for(n=r.onRecoverableError,e=0;e<t.length;e++)i=t[e],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ou)throw Ou=!1,r=$f,$f=null,r;return Du&1&&r.tag!==0&&Va(),s=r.pendingLanes,s&1?r===Hf?nl++:(nl=0,Hf=r):nl=0,Es(),null}function Va(){if(is!==null){var r=Ay(Du),t=Cn.transition,e=Ut;try{if(Cn.transition=null,Ut=16>r?16:r,is===null)var n=!1;else{if(r=is,is=null,Du=0,Ot&6)throw Error(Ie(331));var i=Ot;for(Ot|=4,He=r.current;He!==null;){var s=He,a=s.child;if(He.flags&16){var c=s.deletions;if(c!==null){for(var l=0;l<c.length;l++){var o=c[l];for(He=o;He!==null;){var u=He;switch(u.tag){case 0:case 11:case 15:tl(8,u,s)}var p=u.child;if(p!==null)p.return=u,He=p;else for(;He!==null;){u=He;var d=u.sibling,h=u.return;if(z2(u),u===o){He=null;break}if(d!==null){d.return=h,He=d;break}He=h}}}var g=s.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var m=b.sibling;b.sibling=null,b=m}while(b!==null)}}He=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,He=a;else e:for(;He!==null;){if(s=He,s.flags&2048)switch(s.tag){case 0:case 11:case 15:tl(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,He=y;break e}He=s.return}}var v=r.current;for(He=v;He!==null;){a=He;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,He=w;else e:for(a=v;He!==null;){if(c=He,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:vd(9,c)}}catch(A){or(c,c.return,A)}if(c===a){He=null;break e}var E=c.sibling;if(E!==null){E.return=c.return,He=E;break e}He=c.return}}if(Ot=i,Es(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(ud,r)}catch{}n=!0}return n}finally{Ut=e,Cn.transition=t}}return!1}function vb(r,t,e){t=Qa(e,t),t=A2(r,t,1),r=ds(r,t,1),t=Yr(),r!==null&&(Hl(r,1,t),dn(r,t))}function or(r,t,e){if(r.tag===3)vb(r,r,e);else for(;t!==null;){if(t.tag===3){vb(t,r,e);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(hs===null||!hs.has(n))){r=Qa(e,r),r=I2(t,r,1),t=ds(t,r,1),r=Yr(),t!==null&&(Hl(t,1,r),dn(t,r));break}}t=t.return}}function d6(r,t,e){var n=r.pingCache;n!==null&&n.delete(t),t=Yr(),r.pingedLanes|=r.suspendedLanes&e,wr===r&&(Rr&e)===e&&(br===4||br===3&&(Rr&130023424)===Rr&&500>cr()-ym?Us(r,0):vm|=e),dn(r,t)}function Y2(r,t){t===0&&(r.mode&1?(t=kc,kc<<=1,!(kc&130023424)&&(kc=4194304)):t=1);var e=Yr();r=Ai(r,t),r!==null&&(Hl(r,t,e),dn(r,e))}function h6(r){var t=r.memoizedState,e=0;t!==null&&(e=t.retryLane),Y2(r,e)}function f6(r,t){var e=0;switch(r.tag){case 13:var n=r.stateNode,i=r.memoizedState;i!==null&&(e=i.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(Ie(314))}n!==null&&n.delete(t),Y2(r,e)}var Z2;Z2=function(r,t,e){if(r!==null)if(r.memoizedProps!==t.pendingProps||cn.current)on=!0;else{if(!(r.lanes&e)&&!(t.flags&128))return on=!1,e6(r,t,e);on=!!(r.flags&131072)}else on=!1,Yt&&t.flags&1048576&&r2(t,ju,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Jc(r,t),r=t.pendingProps;var i=Wa(t,Wr.current);Ba(t,e),i=hm(null,t,n,r,i,e);var s=fm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,un(n)?(s=!0,Nu(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,om(t),i.updater=bd,t.stateNode=i,i._reactInternals=t,Rf(t,n,r,e),t=Of(null,t,n,!0,s,e)):(t.tag=0,Yt&&s&&em(t),Xr(null,t,i,e),t=t.child),t;case 16:n=t.elementType;e:{switch(Jc(r,t),r=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=m6(n),r=Bn(n,r),i){case 0:t=Mf(null,t,n,r,e);break e;case 1:t=lb(null,t,n,r,e);break e;case 11:t=ab(null,t,n,r,e);break e;case 14:t=ob(null,t,n,Bn(n.type,r),e);break e}throw Error(Ie(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Bn(n,i),Mf(r,t,n,i,e);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Bn(n,i),lb(r,t,n,i,e);case 3:e:{if(O2(t),r===null)throw Error(Ie(387));n=t.pendingProps,s=t.memoizedState,i=s.element,l2(r,t),Au(t,n,null,e);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Qa(Error(Ie(423)),t),t=cb(r,t,n,e,i);break e}else if(n!==i){i=Qa(Error(Ie(424)),t),t=cb(r,t,n,e,i);break e}else for(bn=us(t.stateNode.containerInfo.firstChild),yn=t,Yt=!0,zn=null,e=a2(t,null,n,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(Ga(),n===i){t=Ii(r,t,e);break e}Xr(r,t,n,e)}t=t.child}return t;case 5:return c2(t),r===null&&Cf(t),n=t.type,i=t.pendingProps,s=r!==null?r.memoizedProps:null,a=i.children,kf(n,i)?a=null:s!==null&&kf(n,s)&&(t.flags|=32),M2(r,t),Xr(r,t,a,e),t.child;case 6:return r===null&&Cf(t),null;case 13:return D2(r,t,e);case 4:return lm(t,t.stateNode.containerInfo),n=t.pendingProps,r===null?t.child=Ka(t,null,n,e):Xr(r,t,n,e),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Bn(n,i),ab(r,t,n,i,e);case 7:return Xr(r,t,t.pendingProps,e),t.child;case 8:return Xr(r,t,t.pendingProps.children,e),t.child;case 12:return Xr(r,t,t.pendingProps.children,e),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Wt(Tu,n._currentValue),n._currentValue=a,s!==null)if(qn(s.value,a)){if(s.children===i.children&&!cn.current){t=Ii(r,t,e);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var c=s.dependencies;if(c!==null){a=s.child;for(var l=c.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=ki(-1,e&-e),l.tag=2;var o=s.updateQueue;if(o!==null){o=o.shared;var u=o.pending;u===null?l.next=l:(l.next=u.next,u.next=l),o.pending=l}}s.lanes|=e,l=s.alternate,l!==null&&(l.lanes|=e),Af(s.return,e,t),c.lanes|=e;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ie(341));a.lanes|=e,c=a.alternate,c!==null&&(c.lanes|=e),Af(a,e,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Xr(r,t,i.children,e),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ba(t,e),i=Pn(i),n=n(i),t.flags|=1,Xr(r,t,n,e),t.child;case 14:return n=t.type,i=Bn(n,t.pendingProps),i=Bn(n.type,i),ob(r,t,n,i,e);case 15:return R2(r,t,t.type,t.pendingProps,e);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Bn(n,i),Jc(r,t),t.tag=1,un(n)?(r=!0,Nu(t)):r=!1,Ba(t,e),C2(t,n,i),Rf(t,n,i,e),Of(null,t,n,!0,r,e);case 19:return F2(r,t,e);case 22:return P2(r,t,e)}throw Error(Ie(156,t.tag))};function J2(r,t){return Ey(r,t)}function p6(r,t,e,n){this.tag=r,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(r,t,e,n){return new p6(r,t,e,n)}function Sm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function m6(r){if(typeof r=="function")return Sm(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Up)return 11;if(r===$p)return 14}return 2}function ps(r,t){var e=r.alternate;return e===null?(e=Tn(r.tag,t,r.key,r.mode),e.elementType=r.elementType,e.type=r.type,e.stateNode=r.stateNode,e.alternate=r,r.alternate=e):(e.pendingProps=t,e.type=r.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=r.flags&14680064,e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=r.sibling,e.index=r.index,e.ref=r.ref,e}function ru(r,t,e,n,i,s){var a=2;if(n=r,typeof r=="function")Sm(r)&&(a=1);else if(typeof r=="string")a=5;else e:switch(r){case Sa:return $s(e.children,i,s,t);case zp:a=8,i|=8;break;case tf:return r=Tn(12,e,t,i|2),r.elementType=tf,r.lanes=s,r;case rf:return r=Tn(13,e,t,i),r.elementType=rf,r.lanes=s,r;case nf:return r=Tn(19,e,t,i),r.elementType=nf,r.lanes=s,r;case cy:return xd(e,i,s,t);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case oy:a=10;break e;case ly:a=9;break e;case Up:a=11;break e;case $p:a=14;break e;case Xi:a=16,n=null;break e}throw Error(Ie(130,r==null?r:typeof r,""))}return t=Tn(a,e,t,i),t.elementType=r,t.type=n,t.lanes=s,t}function $s(r,t,e,n){return r=Tn(7,r,n,t),r.lanes=e,r}function xd(r,t,e,n){return r=Tn(22,r,n,t),r.elementType=cy,r.lanes=e,r.stateNode={isHidden:!1},r}function Rh(r,t,e){return r=Tn(6,r,null,t),r.lanes=e,r}function Ph(r,t,e){return t=Tn(4,r.children!==null?r.children:[],r.key,t),t.lanes=e,t.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},t}function g6(r,t,e,n,i){this.tag=t,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fh(0),this.expirationTimes=fh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fh(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function km(r,t,e,n,i,s,a,c,l){return r=new g6(r,t,e,c,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Tn(3,null,null,t),r.current=s,s.stateNode=r,s.memoizedState={element:n,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},om(s),r}function b6(r,t,e){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_a,key:n==null?null:""+n,children:r,containerInfo:t,implementation:e}}function ex(r){if(!r)return xs;r=r._reactInternals;e:{if(ia(r)!==r||r.tag!==1)throw Error(Ie(170));var t=r;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ie(171))}if(r.tag===1){var e=r.type;if(un(e))return e2(r,e,t)}return t}function tx(r,t,e,n,i,s,a,c,l){return r=km(e,n,!0,r,i,s,a,c,l),r.context=ex(null),e=r.current,n=Yr(),i=fs(e),s=ki(n,i),s.callback=t??null,ds(e,s,i),r.current.lanes=i,Hl(r,i,n),dn(r,n),r}function wd(r,t,e,n){var i=t.current,s=Yr(),a=fs(i);return e=ex(e),t.context===null?t.context=e:t.pendingContext=e,t=ki(s,a),t.payload={element:r},n=n===void 0?null:n,n!==null&&(t.callback=n),r=ds(i,t,a),r!==null&&(Hn(r,i,a,s),Qc(r,i,a)),a}function Lu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function yb(r,t){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var e=r.retryLane;r.retryLane=e!==0&&e<t?e:t}}function Nm(r,t){yb(r,t),(r=r.alternate)&&yb(r,t)}function v6(){return null}var rx=typeof reportError=="function"?reportError:function(r){console.error(r)};function Em(r){this._internalRoot=r}_d.prototype.render=Em.prototype.render=function(r){var t=this._internalRoot;if(t===null)throw Error(Ie(409));wd(r,t,null,null)};_d.prototype.unmount=Em.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var t=r.containerInfo;Xs(function(){wd(null,r,null,null)}),t[Ci]=null}};function _d(r){this._internalRoot=r}_d.prototype.unstable_scheduleHydration=function(r){if(r){var t=Py();r={blockedOn:null,target:r,priority:t};for(var e=0;e<Yi.length&&t!==0&&t<Yi[e].priority;e++);Yi.splice(e,0,r),e===0&&Oy(r)}};function jm(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Sd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function xb(){}function y6(r,t,e,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var o=Lu(a);s.call(o)}}var a=tx(t,n,r,0,null,!1,!1,"",xb);return r._reactRootContainer=a,r[Ci]=a.current,yl(r.nodeType===8?r.parentNode:r),Xs(),a}for(;i=r.lastChild;)r.removeChild(i);if(typeof n=="function"){var c=n;n=function(){var o=Lu(l);c.call(o)}}var l=km(r,0,!1,null,null,!1,!1,"",xb);return r._reactRootContainer=l,r[Ci]=l.current,yl(r.nodeType===8?r.parentNode:r),Xs(function(){wd(t,l,e,n)}),l}function kd(r,t,e,n,i){var s=e._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var c=i;i=function(){var l=Lu(a);c.call(l)}}wd(t,a,r,i)}else a=y6(e,t,r,i,n);return Lu(a)}Iy=function(r){switch(r.tag){case 3:var t=r.stateNode;if(t.current.memoizedState.isDehydrated){var e=zo(t.pendingLanes);e!==0&&(Wp(t,e|1),dn(t,cr()),!(Ot&6)&&(Ya=cr()+500,Es()))}break;case 13:Xs(function(){var n=Ai(r,1);if(n!==null){var i=Yr();Hn(n,r,1,i)}}),Nm(r,1)}};Gp=function(r){if(r.tag===13){var t=Ai(r,134217728);if(t!==null){var e=Yr();Hn(t,r,134217728,e)}Nm(r,134217728)}};Ry=function(r){if(r.tag===13){var t=fs(r),e=Ai(r,t);if(e!==null){var n=Yr();Hn(e,r,t,n)}Nm(r,t)}};Py=function(){return Ut};My=function(r,t){var e=Ut;try{return Ut=r,t()}finally{Ut=e}};pf=function(r,t,e){switch(t){case"input":if(of(r,e),t=e.name,e.type==="radio"&&t!=null){for(e=r;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var n=e[t];if(n!==r&&n.form===r.form){var i=pd(n);if(!i)throw Error(Ie(90));dy(n),of(n,i)}}}break;case"textarea":fy(r,e);break;case"select":t=e.value,t!=null&&Oa(r,!!e.multiple,t,!1)}};xy=xm;wy=Xs;var x6={usingClientEntryPoint:!1,Events:[Wl,ja,pd,vy,yy,xm]},Io={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w6={bundleType:Io.bundleType,version:Io.version,rendererPackageName:Io.rendererPackageName,rendererConfig:Io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Li.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ky(r),r===null?null:r.stateNode},findFiberByHostInstance:Io.findFiberByHostInstance||v6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{ud=Oc.inject(w6),si=Oc}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x6;Sn.createPortal=function(r,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jm(t))throw Error(Ie(200));return b6(r,t,null,e)};Sn.createRoot=function(r,t){if(!jm(r))throw Error(Ie(299));var e=!1,n="",i=rx;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=km(r,1,!1,null,null,e,!1,n,i),r[Ci]=t.current,yl(r.nodeType===8?r.parentNode:r),new Em(t)};Sn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var t=r._reactInternals;if(t===void 0)throw typeof r.render=="function"?Error(Ie(188)):(r=Object.keys(r).join(","),Error(Ie(268,r)));return r=ky(t),r=r===null?null:r.stateNode,r};Sn.flushSync=function(r){return Xs(r)};Sn.hydrate=function(r,t,e){if(!Sd(t))throw Error(Ie(200));return kd(null,r,t,!0,e)};Sn.hydrateRoot=function(r,t,e){if(!jm(r))throw Error(Ie(405));var n=e!=null&&e.hydratedSources||null,i=!1,s="",a=rx;if(e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),t=tx(t,null,r,1,e??null,i,!1,s,a),r[Ci]=t.current,yl(r),n)for(r=0;r<n.length;r++)e=n[r],i=e._getVersion,i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i);return new _d(t)};Sn.render=function(r,t,e){if(!Sd(t))throw Error(Ie(200));return kd(null,r,t,!1,e)};Sn.unmountComponentAtNode=function(r){if(!Sd(r))throw Error(Ie(40));return r._reactRootContainer?(Xs(function(){kd(null,null,r,!1,function(){r._reactRootContainer=null,r[Ci]=null})}),!0):!1};Sn.unstable_batchedUpdates=xm;Sn.unstable_renderSubtreeIntoContainer=function(r,t,e,n){if(!Sd(e))throw Error(Ie(200));if(r==null||r._reactInternals===void 0)throw Error(Ie(38));return kd(r,t,e,!1,n)};Sn.version="18.3.1-next-f1338f8080-20240426";function nx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nx)}catch(r){console.error(r)}}nx(),ny.exports=Sn;var Tl=ny.exports,wb=Tl;Jh.createRoot=wb.createRoot,Jh.hydrateRoot=wb.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Cl.apply(this,arguments)}var ss;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(ss||(ss={}));const _b="popstate";function _6(r){r===void 0&&(r={});function t(n,i){let{pathname:s,search:a,hash:c}=n.location;return Gf("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function e(n,i){return typeof i=="string"?i:Bu(i)}return k6(t,e,null,r)}function ur(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Tm(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function S6(){return Math.random().toString(36).substr(2,8)}function Sb(r,t){return{usr:r.state,key:r.key,idx:t}}function Gf(r,t,e,n){return e===void 0&&(e=null),Cl({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof t=="string"?ho(t):t,{state:e,key:t&&t.key||n||S6()})}function Bu(r){let{pathname:t="/",search:e="",hash:n=""}=r;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ho(r){let t={};if(r){let e=r.indexOf("#");e>=0&&(t.hash=r.substr(e),r=r.substr(0,e));let n=r.indexOf("?");n>=0&&(t.search=r.substr(n),r=r.substr(0,n)),r&&(t.pathname=r)}return t}function k6(r,t,e,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,c=ss.Pop,l=null,o=u();o==null&&(o=0,a.replaceState(Cl({},a.state,{idx:o}),""));function u(){return(a.state||{idx:null}).idx}function p(){c=ss.Pop;let m=u(),y=m==null?null:m-o;o=m,l&&l({action:c,location:b.location,delta:y})}function d(m,y){c=ss.Push;let v=Gf(b.location,m,y);o=u()+1;let w=Sb(v,o),E=b.createHref(v);try{a.pushState(w,"",E)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(E)}s&&l&&l({action:c,location:b.location,delta:1})}function h(m,y){c=ss.Replace;let v=Gf(b.location,m,y);o=u();let w=Sb(v,o),E=b.createHref(v);a.replaceState(w,"",E),s&&l&&l({action:c,location:b.location,delta:0})}function g(m){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof m=="string"?m:Bu(m);return v=v.replace(/ $/,"%20"),ur(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let b={get action(){return c},get location(){return r(i,a)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_b,p),l=m,()=>{i.removeEventListener(_b,p),l=null}},createHref(m){return t(i,m)},createURL:g,encodeLocation(m){let y=g(m);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:h,go(m){return a.go(m)}};return b}var kb;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(kb||(kb={}));function N6(r,t,e){return e===void 0&&(e="/"),E6(r,t,e)}function E6(r,t,e,n){let i=typeof t=="string"?ho(t):t,s=Cm(i.pathname||"/",e);if(s==null)return null;let a=ix(r);j6(a);let c=null;for(let l=0;c==null&&l<a.length;++l){let o=B6(s);c=D6(a[l],o)}return c}function ix(r,t,e,n){t===void 0&&(t=[]),e===void 0&&(e=[]),n===void 0&&(n="");let i=(s,a,c)=>{let l={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(ur(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let o=ms([n,l.relativePath]),u=e.concat(l);s.children&&s.children.length>0&&(ur(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+o+'".')),ix(s.children,t,u,o)),!(s.path==null&&!s.index)&&t.push({path:o,score:M6(o,s.index),routesMeta:u})};return r.forEach((s,a)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,a);else for(let l of sx(s.path))i(s,a,l)}),t}function sx(r){let t=r.split("/");if(t.length===0)return[];let[e,...n]=t,i=e.endsWith("?"),s=e.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=sx(n.join("/")),c=[];return c.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&c.push(...a),c.map(l=>r.startsWith("/")&&l===""?"/":l)}function j6(r){r.sort((t,e)=>t.score!==e.score?e.score-t.score:O6(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}const T6=/^:[\w-]+$/,C6=3,A6=2,I6=1,R6=10,P6=-2,Nb=r=>r==="*";function M6(r,t){let e=r.split("/"),n=e.length;return e.some(Nb)&&(n+=P6),t&&(n+=A6),e.filter(i=>!Nb(i)).reduce((i,s)=>i+(T6.test(s)?C6:s===""?I6:R6),n)}function O6(r,t){return r.length===t.length&&r.slice(0,-1).every((n,i)=>n===t[i])?r[r.length-1]-t[t.length-1]:0}function D6(r,t,e){let{routesMeta:n}=r,i={},s="/",a=[];for(let c=0;c<n.length;++c){let l=n[c],o=c===n.length-1,u=s==="/"?t:t.slice(s.length)||"/",p=F6({path:l.relativePath,caseSensitive:l.caseSensitive,end:o},u),d=l.route;if(!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:ms([s,p.pathname]),pathnameBase:H6(ms([s,p.pathnameBase])),route:d}),p.pathnameBase!=="/"&&(s=ms([s,p.pathnameBase]))}return a}function F6(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[e,n]=L6(r.path,r.caseSensitive,r.end),i=t.match(e);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((o,u,p)=>{let{paramName:d,isOptional:h}=u;if(d==="*"){let b=c[p]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const g=c[p];return h&&!g?o[d]=void 0:o[d]=(g||"").replace(/%2F/g,"/"),o},{}),pathname:s,pathnameBase:a,pattern:r}}function L6(r,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),Tm(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,l)=>(n.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function B6(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Tm(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),r}}function Cm(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=r.charAt(e);return n&&n!=="/"?null:r.slice(e)||"/"}const V6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z6=r=>V6.test(r);function U6(r,t){t===void 0&&(t="/");let{pathname:e,search:n="",hash:i=""}=typeof r=="string"?ho(r):r,s;if(e)if(z6(e))s=e;else{if(e.includes("//")){let a=e;e=e.replace(/\/\/+/g,"/"),Tm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+e))}e.startsWith("/")?s=Eb(e.substring(1),"/"):s=Eb(e,t)}else s=t;return{pathname:s,search:q6(n),hash:W6(i)}}function Eb(r,t){let e=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?e.length>1&&e.pop():i!=="."&&e.push(i)}),e.length>1?e.join("/"):"/"}function Mh(r,t,e,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $6(r){return r.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Am(r,t){let e=$6(r);return t?e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase):e.map(n=>n.pathnameBase)}function Im(r,t,e,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=ho(r):(i=Cl({},r),ur(!i.pathname||!i.pathname.includes("?"),Mh("?","pathname","search",i)),ur(!i.pathname||!i.pathname.includes("#"),Mh("#","pathname","hash",i)),ur(!i.search||!i.search.includes("#"),Mh("#","search","hash",i)));let s=r===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=e;else{let p=t.length-1;if(!n&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),p-=1;i.pathname=d.join("/")}c=p>=0?t[p]:"/"}let l=U6(i,c),o=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&e.endsWith("/");return!l.pathname.endsWith("/")&&(o||u)&&(l.pathname+="/"),l}const ms=r=>r.join("/").replace(/\/\/+/g,"/"),H6=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),q6=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,W6=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function G6(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const ax=["post","put","patch","delete"];new Set(ax);const K6=["get",...ax];new Set(K6);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Al.apply(this,arguments)}const Rm=ae.createContext(null),X6=ae.createContext(null),js=ae.createContext(null),Nd=ae.createContext(null),Bi=ae.createContext({outlet:null,matches:[],isDataRoute:!1}),ox=ae.createContext(null);function Q6(r,t){let{relative:e}=t===void 0?{}:t;fo()||ur(!1);let{basename:n,navigator:i}=ae.useContext(js),{hash:s,pathname:a,search:c}=cx(r,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:ms([n,a])),i.createHref({pathname:l,search:c,hash:s})}function fo(){return ae.useContext(Nd)!=null}function Ts(){return fo()||ur(!1),ae.useContext(Nd).location}function lx(r){ae.useContext(js).static||ae.useLayoutEffect(r)}function Kl(){let{isDataRoute:r}=ae.useContext(Bi);return r?d8():Y6()}function Y6(){fo()||ur(!1);let r=ae.useContext(Rm),{basename:t,future:e,navigator:n}=ae.useContext(js),{matches:i}=ae.useContext(Bi),{pathname:s}=Ts(),a=JSON.stringify(Am(i,e.v7_relativeSplatPath)),c=ae.useRef(!1);return lx(()=>{c.current=!0}),ae.useCallback(function(o,u){if(u===void 0&&(u={}),!c.current)return;if(typeof o=="number"){n.go(o);return}let p=Im(o,JSON.parse(a),s,u.relative==="path");r==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ms([t,p.pathname])),(u.replace?n.replace:n.push)(p,u.state,u)},[t,n,a,s,r])}const Z6=ae.createContext(null);function J6(r){let t=ae.useContext(Bi).outlet;return t&&ae.createElement(Z6.Provider,{value:r},t)}function cx(r,t){let{relative:e}=t===void 0?{}:t,{future:n}=ae.useContext(js),{matches:i}=ae.useContext(Bi),{pathname:s}=Ts(),a=JSON.stringify(Am(i,n.v7_relativeSplatPath));return ae.useMemo(()=>Im(r,JSON.parse(a),s,e==="path"),[r,a,s,e])}function e8(r,t){return t8(r,t)}function t8(r,t,e,n){fo()||ur(!1);let{navigator:i}=ae.useContext(js),{matches:s}=ae.useContext(Bi),a=s[s.length-1],c=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let o=Ts(),u;if(t){var p;let m=typeof t=="string"?ho(t):t;l==="/"||(p=m.pathname)!=null&&p.startsWith(l)||ur(!1),u=m}else u=o;let d=u.pathname||"/",h=d;if(l!=="/"){let m=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(m.length).join("/")}let g=N6(r,{pathname:h}),b=a8(g&&g.map(m=>Object.assign({},m,{params:Object.assign({},c,m.params),pathname:ms([l,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:ms([l,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),s,e,n);return t&&b?ae.createElement(Nd.Provider,{value:{location:Al({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ss.Pop}},b):b}function r8(){let r=u8(),t=G6(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),e=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},t),e?ae.createElement("pre",{style:i},e):null,null)}const n8=ae.createElement(r8,null);class i8 extends ae.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?ae.createElement(Bi.Provider,{value:this.props.routeContext},ae.createElement(ox.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function s8(r){let{routeContext:t,match:e,children:n}=r,i=ae.useContext(Rm);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),ae.createElement(Bi.Provider,{value:t},n)}function a8(r,t,e,n){var i;if(t===void 0&&(t=[]),e===void 0&&(e=null),n===void 0&&(n=null),r==null){var s;if(!e)return null;if(e.errors)r=e.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)r=e.matches;else return null}let a=r,c=(i=e)==null?void 0:i.errors;if(c!=null){let u=a.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);u>=0||ur(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,o=-1;if(e&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let p=a[u];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(o=u),p.route.id){let{loaderData:d,errors:h}=e,g=p.route.loader&&d[p.route.id]===void 0&&(!h||h[p.route.id]===void 0);if(p.route.lazy||g){l=!0,o>=0?a=a.slice(0,o+1):a=[a[0]];break}}}return a.reduceRight((u,p,d)=>{let h,g=!1,b=null,m=null;e&&(h=c&&p.route.id?c[p.route.id]:void 0,b=p.route.errorElement||n8,l&&(o<0&&d===0?(h8("route-fallback"),g=!0,m=null):o===d&&(g=!0,m=p.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,d+1)),v=()=>{let w;return h?w=b:g?w=m:p.route.Component?w=ae.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=u,ae.createElement(s8,{match:p,routeContext:{outlet:u,matches:y,isDataRoute:e!=null},children:w})};return e&&(p.route.ErrorBoundary||p.route.errorElement||d===0)?ae.createElement(i8,{location:e.location,revalidation:e.revalidation,component:b,error:h,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var ux=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(ux||{}),dx=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(dx||{});function o8(r){let t=ae.useContext(Rm);return t||ur(!1),t}function l8(r){let t=ae.useContext(X6);return t||ur(!1),t}function c8(r){let t=ae.useContext(Bi);return t||ur(!1),t}function hx(r){let t=c8(),e=t.matches[t.matches.length-1];return e.route.id||ur(!1),e.route.id}function u8(){var r;let t=ae.useContext(ox),e=l8(),n=hx();return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function d8(){let{router:r}=o8(ux.UseNavigateStable),t=hx(dx.UseNavigateStable),e=ae.useRef(!1);return lx(()=>{e.current=!0}),ae.useCallback(function(i,s){s===void 0&&(s={}),e.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,Al({fromRouteId:t},s)))},[r,t])}const jb={};function h8(r,t,e){jb[r]||(jb[r]=!0)}function f8(r,t){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function Kf(r){let{to:t,replace:e,state:n,relative:i}=r;fo()||ur(!1);let{future:s,static:a}=ae.useContext(js),{matches:c}=ae.useContext(Bi),{pathname:l}=Ts(),o=Kl(),u=Im(t,Am(c,s.v7_relativeSplatPath),l,i==="path"),p=JSON.stringify(u);return ae.useEffect(()=>o(JSON.parse(p),{replace:e,state:n,relative:i}),[o,p,i,e,n]),null}function fx(r){return J6(r.context)}function zt(r){ur(!1)}function p8(r){let{basename:t="/",children:e=null,location:n,navigationType:i=ss.Pop,navigator:s,static:a=!1,future:c}=r;fo()&&ur(!1);let l=t.replace(/^\/*/,"/"),o=ae.useMemo(()=>({basename:l,navigator:s,static:a,future:Al({v7_relativeSplatPath:!1},c)}),[l,c,s,a]);typeof n=="string"&&(n=ho(n));let{pathname:u="/",search:p="",hash:d="",state:h=null,key:g="default"}=n,b=ae.useMemo(()=>{let m=Cm(u,l);return m==null?null:{location:{pathname:m,search:p,hash:d,state:h,key:g},navigationType:i}},[l,u,p,d,h,g,i]);return b==null?null:ae.createElement(js.Provider,{value:o},ae.createElement(Nd.Provider,{children:e,value:b}))}function m8(r){let{children:t,location:e}=r;return e8(Xf(t),e)}new Promise(()=>{});function Xf(r,t){t===void 0&&(t=[]);let e=[];return ae.Children.forEach(r,(n,i)=>{if(!ae.isValidElement(n))return;let s=[...t,i];if(n.type===ae.Fragment){e.push.apply(e,Xf(n.props.children,s));return}n.type!==zt&&ur(!1),!n.props.index||!n.props.children||ur(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Xf(n.props.children,s)),e.push(a)}),e}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qf(){return Qf=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Qf.apply(this,arguments)}function g8(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}function b8(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function v8(r,t){return r.button===0&&(!t||t==="_self")&&!b8(r)}const y8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],x8="6";try{window.__reactRouterVersion=x8}catch{}const w8="startTransition",Tb=d_[w8];function _8(r){let{basename:t,children:e,future:n,window:i}=r,s=ae.useRef();s.current==null&&(s.current=_6({window:i,v5Compat:!0}));let a=s.current,[c,l]=ae.useState({action:a.action,location:a.location}),{v7_startTransition:o}=n||{},u=ae.useCallback(p=>{o&&Tb?Tb(()=>l(p)):l(p)},[l,o]);return ae.useLayoutEffect(()=>a.listen(u),[a,u]),ae.useEffect(()=>f8(n),[n]),ae.createElement(p8,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:a,future:n})}const S8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",k8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_r=ae.forwardRef(function(t,e){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:c,target:l,to:o,preventScrollReset:u,viewTransition:p}=t,d=g8(t,y8),{basename:h}=ae.useContext(js),g,b=!1;if(typeof o=="string"&&k8.test(o)&&(g=o,S8))try{let w=new URL(window.location.href),E=o.startsWith("//")?new URL(w.protocol+o):new URL(o),A=Cm(E.pathname,h);E.origin===w.origin&&A!=null?o=A+E.search+E.hash:b=!0}catch{}let m=Q6(o,{relative:i}),y=N8(o,{replace:a,state:c,target:l,preventScrollReset:u,relative:i,viewTransition:p});function v(w){n&&n(w),w.defaultPrevented||y(w)}return ae.createElement("a",Qf({},d,{href:g||m,onClick:b||s?n:v,ref:e,target:l}))});var Cb;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Cb||(Cb={}));var Ab;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Ab||(Ab={}));function N8(r,t){let{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:c}=t===void 0?{}:t,l=Kl(),o=Ts(),u=cx(r,{relative:a});return ae.useCallback(p=>{if(v8(p,e)){p.preventDefault();let d=n!==void 0?n:Bu(o)===Bu(u);l(r,{replace:d,state:i,preventScrollReset:s,relative:a,viewTransition:c})}},[o,l,u,n,i,e,r,s,a,c])}var Ib={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=function(r){const t=[];let e=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t},E8=function(r){const t=[];let e=0,n=0;for(;e<r.length;){const i=r[e++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=r[e++];t[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=r[e++],a=r[e++],c=r[e++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const s=r[e++],a=r[e++];t[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},mx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const s=r[i],a=i+1<r.length,c=a?r[i+1]:0,l=i+2<r.length,o=l?r[i+2]:0,u=s>>2,p=(s&3)<<4|c>>4;let d=(c&15)<<2|o>>6,h=o&63;l||(h=64,a||(d=64)),n.push(e[u],e[p],e[d],e[h])}return n.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(px(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):E8(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const s=e[r.charAt(i++)],c=i<r.length?e[r.charAt(i)]:0;++i;const o=i<r.length?e[r.charAt(i)]:64;++i;const p=i<r.length?e[r.charAt(i)]:64;if(++i,s==null||c==null||o==null||p==null)throw new j8;const d=s<<2|c>>4;if(n.push(d),o!==64){const h=c<<4&240|o>>2;if(n.push(h),p!==64){const g=o<<6&192|p;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class j8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T8=function(r){const t=px(r);return mx.encodeByteArray(t,!0)},Vu=function(r){return T8(r).replace(/\./g,"")},gx=function(r){try{return mx.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=()=>C8().__FIREBASE_DEFAULTS__,I8=()=>{if(typeof process>"u"||typeof Ib>"u")return;const r=Ib.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},R8=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&gx(r[1]);return t&&JSON.parse(t)},Ed=()=>{try{return A8()||I8()||R8()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},bx=r=>{var t,e;return(e=(t=Ed())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[r]},P8=r=>{const t=bx(r);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),n]:[t.substring(0,e),n]},vx=()=>{var r;return(r=Ed())===null||r===void 0?void 0:r.config},yx=r=>{var t;return(t=Ed())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},n=t||"demo-project",i=r.iat||0,s=r.sub||r.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Vu(JSON.stringify(e)),Vu(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gr())}function F8(){var r;const t=(r=Ed())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function L8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xx(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function B8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function V8(){const r=Gr();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function z8(){return!F8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wx(){try{return typeof indexedDB=="object"}catch{return!1}}function _x(){return new Promise((r,t)=>{try{let e=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}function U8(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8="FirebaseError";class Xn extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=$8,Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sa.prototype.create)}}class sa{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,s=this.errors[t],a=s?H8(s,n):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new Xn(i,c,n)}}function H8(r,t){return r.replace(q8,(e,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const q8=/\{\$([^}]+)}/g;function W8(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Il(r,t){if(r===t)return!0;const e=Object.keys(r),n=Object.keys(t);for(const i of e){if(!n.includes(i))return!1;const s=r[i],a=t[i];if(Rb(s)&&Rb(a)){if(!Il(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!e.includes(i))return!1;return!0}function Rb(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(r){const t=[];for(const[e,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function $o(r){const t={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Ho(r){const t=r.indexOf("?");if(!t)return"";const e=r.indexOf("#",t);return r.substring(t,e>0?e:void 0)}function G8(r,t){const e=new K8(r,t);return e.subscribe.bind(e)}class K8{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let i;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");X8(t,["next","error","complete"])?i=t:i={next:t,error:e,complete:n},i.next===void 0&&(i.next=Oh),i.error===void 0&&(i.error=Oh),i.complete===void 0&&(i.complete=Oh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function X8(r,t){if(typeof r!="object"||r===null)return!1;for(const e of t)if(e in r&&typeof r[e]=="function")return!0;return!1}function Oh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8=1e3,Y8=2,Z8=4*60*60*1e3,J8=.5;function Pb(r,t=Q8,e=Y8){const n=t*Math.pow(e,r),i=Math.round(J8*n*(Math.random()-.5)*2);return Math.min(Z8,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(r){return r&&r._delegate?r._delegate:r}class Wn{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const n=new M8;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(rS(t))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(t=Ds){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ds){return this.instances.has(t)}getOptions(t=Ds){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&a.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(t),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&t(a,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:tS(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ds){return this.component?this.component.multipleInstances?t:Ds:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tS(r){return r===Ds?void 0:r}function rS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new eS(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ct||(Ct={}));const iS={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},sS=Ct.INFO,aS={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},oS=(r,t,...e)=>{if(t<r.logLevel)return;const n=new Date().toISOString(),i=aS[t];if(i)console[i](`[${n}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jd{constructor(t){this.name=t,this._logLevel=sS,this._logHandler=oS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ct))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...t),this._logHandler(this,Ct.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...t),this._logHandler(this,Ct.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...t),this._logHandler(this,Ct.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...t),this._logHandler(this,Ct.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...t),this._logHandler(this,Ct.ERROR,...t)}}const lS=(r,t)=>t.some(e=>r instanceof e);let Mb,Ob;function cS(){return Mb||(Mb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uS(){return Ob||(Ob=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sx=new WeakMap,Yf=new WeakMap,kx=new WeakMap,Dh=new WeakMap,Pm=new WeakMap;function dS(r){const t=new Promise((e,n)=>{const i=()=>{r.removeEventListener("success",s),r.removeEventListener("error",a)},s=()=>{e(gs(r.result)),i()},a=()=>{n(r.error),i()};r.addEventListener("success",s),r.addEventListener("error",a)});return t.then(e=>{e instanceof IDBCursor&&Sx.set(e,r)}).catch(()=>{}),Pm.set(t,r),t}function hS(r){if(Yf.has(r))return;const t=new Promise((e,n)=>{const i=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",a),r.removeEventListener("abort",a)},s=()=>{e(),i()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",s),r.addEventListener("error",a),r.addEventListener("abort",a)});Yf.set(r,t)}let Zf={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return Yf.get(r);if(t==="objectStoreNames")return r.objectStoreNames||kx.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return gs(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function fS(r){Zf=r(Zf)}function pS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const n=r.call(Fh(this),t,...e);return kx.set(n,t.sort?t.sort():[t]),gs(n)}:uS().includes(r)?function(...t){return r.apply(Fh(this),t),gs(Sx.get(this))}:function(...t){return gs(r.apply(Fh(this),t))}}function mS(r){return typeof r=="function"?pS(r):(r instanceof IDBTransaction&&hS(r),lS(r,cS())?new Proxy(r,Zf):r)}function gs(r){if(r instanceof IDBRequest)return dS(r);if(Dh.has(r))return Dh.get(r);const t=mS(r);return t!==r&&(Dh.set(r,t),Pm.set(t,r)),t}const Fh=r=>Pm.get(r);function Nx(r,t,{blocked:e,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(r,t),c=gs(a);return n&&a.addEventListener("upgradeneeded",l=>{n(gs(a.result),l.oldVersion,l.newVersion,gs(a.transaction),l)}),e&&a.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",o=>i(o.oldVersion,o.newVersion,o))}).catch(()=>{}),c}const gS=["get","getKey","getAll","getAllKeys","count"],bS=["put","add","delete","clear"],Lh=new Map;function Db(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Lh.get(t))return Lh.get(t);const e=t.replace(/FromIndex$/,""),n=t!==e,i=bS.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(i||gS.includes(e)))return;const s=async function(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let o=l.store;return n&&(o=o.index(c.shift())),(await Promise.all([o[e](...c),i&&l.done]))[0]};return Lh.set(t,s),s}fS(r=>({...r,get:(t,e,n)=>Db(t,e)||r.get(t,e,n),has:(t,e)=>!!Db(t,e)||r.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(yS(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function yS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Jf="@firebase/app",Fb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new jd("@firebase/app"),xS="@firebase/app-compat",wS="@firebase/analytics-compat",_S="@firebase/analytics",SS="@firebase/app-check-compat",kS="@firebase/app-check",NS="@firebase/auth",ES="@firebase/auth-compat",jS="@firebase/database",TS="@firebase/data-connect",CS="@firebase/database-compat",AS="@firebase/functions",IS="@firebase/functions-compat",RS="@firebase/installations",PS="@firebase/installations-compat",MS="@firebase/messaging",OS="@firebase/messaging-compat",DS="@firebase/performance",FS="@firebase/performance-compat",LS="@firebase/remote-config",BS="@firebase/remote-config-compat",VS="@firebase/storage",zS="@firebase/storage-compat",US="@firebase/firestore",$S="@firebase/vertexai-preview",HS="@firebase/firestore-compat",qS="firebase",WS="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="[DEFAULT]",GS={[Jf]:"fire-core",[xS]:"fire-core-compat",[_S]:"fire-analytics",[wS]:"fire-analytics-compat",[kS]:"fire-app-check",[SS]:"fire-app-check-compat",[NS]:"fire-auth",[ES]:"fire-auth-compat",[jS]:"fire-rtdb",[TS]:"fire-data-connect",[CS]:"fire-rtdb-compat",[AS]:"fire-fn",[IS]:"fire-fn-compat",[RS]:"fire-iid",[PS]:"fire-iid-compat",[MS]:"fire-fcm",[OS]:"fire-fcm-compat",[DS]:"fire-perf",[FS]:"fire-perf-compat",[LS]:"fire-rc",[BS]:"fire-rc-compat",[VS]:"fire-gcs",[zS]:"fire-gcs-compat",[US]:"fire-fst",[HS]:"fire-fst-compat",[$S]:"fire-vertex","fire-js":"fire-js",[qS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=new Map,KS=new Map,tp=new Map;function Lb(r,t){try{r.container.addComponent(t)}catch(e){Ri.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function di(r){const t=r.name;if(tp.has(t))return Ri.debug(`There were multiple attempts to register component ${t}.`),!1;tp.set(t,r);for(const e of zu.values())Lb(e,r);for(const e of KS.values())Lb(e,r);return!0}function aa(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function ii(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new sa("app","Firebase",XS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Wn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=WS;function Ex(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const n=Object.assign({name:ep,automaticDataCollectionEnabled:!1},t),i=n.name;if(typeof i!="string"||!i)throw bs.create("bad-app-name",{appName:String(i)});if(e||(e=vx()),!e)throw bs.create("no-options");const s=zu.get(i);if(s){if(Il(e,s.options)&&Il(n,s.config))return s;throw bs.create("duplicate-app",{appName:i})}const a=new nS(i);for(const l of tp.values())a.addComponent(l);const c=new QS(e,n,a);return zu.set(i,c),c}function Mm(r=ep){const t=zu.get(r);if(!t&&r===ep&&vx())return Ex();if(!t)throw bs.create("no-app",{appName:r});return t}function An(r,t,e){var n;let i=(n=GS[r])!==null&&n!==void 0?n:r;e&&(i+=`-${e}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${t}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ri.warn(c.join(" "));return}di(new Wn(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firebase-heartbeat-database",ZS=1,Rl="firebase-heartbeat-store";let Bh=null;function jx(){return Bh||(Bh=Nx(YS,ZS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Rl)}catch(e){console.warn(e)}}}}).catch(r=>{throw bs.create("idb-open",{originalErrorMessage:r.message})})),Bh}async function JS(r){try{const e=(await jx()).transaction(Rl),n=await e.objectStore(Rl).get(Tx(r));return await e.done,n}catch(t){if(t instanceof Xn)Ri.warn(t.message);else{const e=bs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ri.warn(e.message)}}}async function Bb(r,t){try{const n=(await jx()).transaction(Rl,"readwrite");await n.objectStore(Rl).put(t,Tx(r)),await n.done}catch(e){if(e instanceof Xn)Ri.warn(e.message);else{const n=bs.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ri.warn(n.message)}}}function Tx(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=1024,tk=30*24*60*60*1e3;class rk{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new ik(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,e;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vb();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=tk}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ri.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Vb(),{heartbeatsToSend:n,unsentEntries:i}=nk(this._heartbeatsCache.heartbeats),s=Vu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ri.warn(e),""}}}function Vb(){return new Date().toISOString().substring(0,10)}function nk(r,t=ek){const e=[];let n=r.slice();for(const i of r){const s=e.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),zb(e)>t){s.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),zb(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}class ik{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wx()?_x().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await JS(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function zb(r){return Vu(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(r){di(new Wn("platform-logger",t=>new vS(t),"PRIVATE")),di(new Wn("heartbeat",t=>new rk(t),"PRIVATE")),An(Jf,Fb,r),An(Jf,Fb,"esm2017"),An("fire-js","")}sk("");function Om(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e}function Cx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ak=Cx,Ax=new sa("auth","Firebase",Cx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new jd("@firebase/auth");function ok(r,...t){Uu.logLevel<=Ct.WARN&&Uu.warn(`Auth (${po}): ${r}`,...t)}function nu(r,...t){Uu.logLevel<=Ct.ERROR&&Uu.error(`Auth (${po}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(r,...t){throw Dm(r,...t)}function oi(r,...t){return Dm(r,...t)}function Ix(r,t,e){const n=Object.assign(Object.assign({},ak()),{[t]:e});return new sa("auth","Firebase",n).create(t,{appName:r.name})}function Ni(r){return Ix(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(r,...t){if(typeof r!="string"){const e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(e,...n)}return Ax.create(r,...t)}function ot(r,t,...e){if(!r)throw Dm(t,...e)}function wi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw nu(t),new Error(t)}function Pi(r,t){r||wi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function lk(){return Ub()==="http:"||Ub()==="https:"}function Ub(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lk()||xx()||"connection"in navigator)?navigator.onLine:!0}function uk(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,e){this.shortDelay=t,this.longDelay=e,Pi(e>t,"Short delay should be less than long delay!"),this.isMobile=D8()||B8()}get(){return ck()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(r,t){Pi(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new Ql(3e4,6e4);function Vi(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function fi(r,t,e,n,i={}){return Px(r,i,async()=>{let s={},a={};n&&(t==="GET"?a=n:s={body:JSON.stringify(n)});const c=Xl(Object.assign({key:r.config.apiKey},a)).slice(1),l=await r._getAdditionalHeaders();l["Content-Type"]="application/json",r.languageCode&&(l["X-Firebase-Locale"]=r.languageCode);const o=Object.assign({method:t,headers:l},s);return L8()||(o.referrerPolicy="no-referrer"),Rx.fetch()(Mx(r,r.config.apiHost,e,c),o)})}async function Px(r,t,e){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},dk),t);try{const i=new pk(r),s=await Promise.race([e(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Dc(r,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[l,o]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(r,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Dc(r,"email-already-in-use",a);if(l==="USER_DISABLED")throw Dc(r,"user-disabled",a);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Ix(r,u,o);Gn(r,u)}}catch(i){if(i instanceof Xn)throw i;Gn(r,"network-request-failed",{message:String(i)})}}async function Yl(r,t,e,n,i={}){const s=await fi(r,t,e,n,i);return"mfaPendingCredential"in s&&Gn(r,"multi-factor-auth-required",{_serverResponse:s}),s}function Mx(r,t,e,n){const i=`${t}${e}?${n}`;return r.config.emulator?Fm(r.config,i):`${r.config.apiScheme}://${i}`}function fk(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pk{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(oi(this.auth,"network-request-failed")),hk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dc(r,t,e){const n={appName:r.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);const i=oi(r,t,n);return i.customData._tokenResponse=e,i}function $b(r){return r!==void 0&&r.enterprise!==void 0}class mk{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return fk(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function gk(r,t){return fi(r,"GET","/v2/recaptchaConfig",Vi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(r,t){return fi(r,"POST","/v1/accounts:delete",t)}async function Ox(r,t){return fi(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vk(r,t=!1){const e=nr(r),n=await e.getIdToken(t),i=Lm(n);ot(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:il(Vh(i.auth_time)),issuedAtTime:il(Vh(i.iat)),expirationTime:il(Vh(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Vh(r){return Number(r)*1e3}function Lm(r){const[t,e,n]=r.split(".");if(t===void 0||e===void 0||n===void 0)return nu("JWT malformed, contained fewer than 3 sections"),null;try{const i=gx(e);return i?JSON.parse(i):(nu("Failed to decode base64 JWT payload"),null)}catch(i){return nu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Hb(r){const t=Lm(r);return ot(t,"internal-error"),ot(typeof t.exp<"u","internal-error"),ot(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(r,t,e=!1){if(e)return t;try{return await t}catch(n){throw n instanceof Xn&&yk(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function yk({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=il(this.lastLoginAt),this.creationTime=il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(r){var t;const e=r.auth,n=await r.getIdToken(),i=await Za(r,Ox(e,{idToken:n}));ot(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];r._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?Dx(s.providerUserInfo):[],c=_k(r.providerData,a),l=r.isAnonymous,o=!(r.email&&s.passwordHash)&&!(c!=null&&c.length),u=l?o:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new np(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(r,p)}async function wk(r){const t=nr(r);await $u(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _k(r,t){return[...r.filter(n=>!t.some(i=>i.providerId===n.providerId)),...t]}function Dx(r){return r.map(t=>{var{providerId:e}=t,n=Om(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(r,t){const e=await Px(r,{},async()=>{const n=Xl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=r.config,a=Mx(r,i,"/v1/token",`key=${s}`),c=await r._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Rx.fetch()(a,{method:"POST",headers:c,body:n})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function kk(r,t){return fi(r,"POST","/v2/accounts:revokeToken",Vi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ot(t.idToken,"internal-error"),ot(typeof t.idToken<"u","internal-error"),ot(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Hb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){ot(t.length!==0,"internal-error");const e=Hb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(ot(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:s}=await Sk(t,e);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:s}=e,a=new za;return n&&(ot(typeof n=="string","internal-error",{appName:t}),a.refreshToken=n),i&&(ot(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),s&&(ot(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(r,t){ot(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class _i{constructor(t){var{uid:e,auth:n,stsTokenManager:i}=t,s=Om(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new np(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await Za(this,this.stsTokenManager.getToken(this.auth,t));return ot(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return vk(this,t)}reload(){return wk(this)}_assign(t){this!==t&&(ot(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new _i(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await $u(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Ni(this.auth));const t=await this.getIdToken();return await Za(this,bk(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,s,a,c,l,o,u;const p=(n=e.displayName)!==null&&n!==void 0?n:void 0,d=(i=e.email)!==null&&i!==void 0?i:void 0,h=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,g=(a=e.photoURL)!==null&&a!==void 0?a:void 0,b=(c=e.tenantId)!==null&&c!==void 0?c:void 0,m=(l=e._redirectEventId)!==null&&l!==void 0?l:void 0,y=(o=e.createdAt)!==null&&o!==void 0?o:void 0,v=(u=e.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:E,isAnonymous:A,providerData:D,stsTokenManager:L}=e;ot(w&&L,t,"internal-error");const C=za.fromJSON(this.name,L);ot(typeof w=="string",t,"internal-error"),Ki(p,t.name),Ki(d,t.name),ot(typeof E=="boolean",t,"internal-error"),ot(typeof A=="boolean",t,"internal-error"),Ki(h,t.name),Ki(g,t.name),Ki(b,t.name),Ki(m,t.name),Ki(y,t.name),Ki(v,t.name);const M=new _i({uid:w,auth:t,email:d,emailVerified:E,displayName:p,isAnonymous:A,photoURL:g,phoneNumber:h,tenantId:b,stsTokenManager:C,createdAt:y,lastLoginAt:v});return D&&Array.isArray(D)&&(M.providerData=D.map(F=>Object.assign({},F))),m&&(M._redirectEventId=m),M}static async _fromIdTokenResponse(t,e,n=!1){const i=new za;i.updateFromServerResponse(e);const s=new _i({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await $u(s),s}static async _fromGetAccountInfoResponse(t,e,n){const i=e.users[0];ot(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Dx(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new za;c.updateFromIdToken(n);const l=new _i({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:a}),o={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new np(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,o),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new Map;function Si(r){Pi(r instanceof Function,"Expected a class definition");let t=qb.get(r);return t?(Pi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,qb.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Fx.type="NONE";const Wb=Fx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(r,t,e){return`firebase:${r}:${t}:${e}`}class Ua{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=iu(this.userKey,i.apiKey,s),this.fullPersistenceKey=iu("persistence",i.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?_i._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new Ua(Si(Wb),t,n);const i=(await Promise.all(e.map(async o=>{if(await o._isAvailable())return o}))).filter(o=>o);let s=i[0]||Si(Wb);const a=iu(n,t.config.apiKey,t.name);let c=null;for(const o of e)try{const u=await o._get(a);if(u){const p=_i._fromJSON(t,u);o!==s&&(c=p),s=o;break}}catch{}const l=i.filter(o=>o._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ua(s,t,n):(s=l[0],c&&await s._set(a,c.toJSON()),await Promise.all(e.map(async o=>{if(o!==s)try{await o._remove(a)}catch{}})),new Ua(s,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(zx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Lx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($x(t))return"Blackberry";if(Hx(t))return"Webos";if(Bx(t))return"Safari";if((t.includes("chrome/")||Vx(t))&&!t.includes("edge/"))return"Chrome";if(Ux(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(e);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Lx(r=Gr()){return/firefox\//i.test(r)}function Bx(r=Gr()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Vx(r=Gr()){return/crios\//i.test(r)}function zx(r=Gr()){return/iemobile/i.test(r)}function Ux(r=Gr()){return/android/i.test(r)}function $x(r=Gr()){return/blackberry/i.test(r)}function Hx(r=Gr()){return/webos/i.test(r)}function Bm(r=Gr()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Nk(r=Gr()){var t;return Bm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Ek(){return V8()&&document.documentMode===10}function qx(r=Gr()){return Bm(r)||Ux(r)||Hx(r)||$x(r)||/windows phone/i.test(r)||zx(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(r,t=[]){let e;switch(r){case"Browser":e=Gb(Gr());break;case"Worker":e=`${Gb(Gr())}-${r}`;break;default:e=r}const n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${po}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=s=>new Promise((a,c)=>{try{const l=t(s);a(l)}catch(l){c(l)}});n.onAbort=e,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const i of e)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tk(r,t={}){return fi(r,"GET","/v2/passwordPolicy",Vi(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=6;class Ak{constructor(t){var e,n,i,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=a.minPasswordLength)!==null&&e!==void 0?e:Ck,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,i,s,a,c;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(e=l.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t,e,n,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kb(this),this.idTokenSubscription=new Kb(this),this.beforeStateQueue=new jk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ax,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Si(e)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Ua.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Ox(this,{idToken:t}),n=await _i._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(ii(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,c=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!a||a===c)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await $u(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=uk()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ii(this.app))return Promise.reject(Ni(this));const e=t?nr(t):null;return e&&ot(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&ot(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ii(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Si(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Tk(this),e=new Ak(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new sa("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),await kk(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Si(t)||this._popupRedirectResolver;ot(e,this,"argument-error"),this.redirectPersistenceManager=await Ua.create(this,[Si(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const s=typeof e=="function"?e:e.next.bind(e);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ot(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof e=="function"){const l=t.addObserver(e,n,i);return()=>{a=!0,l()}}else{const l=t.addObserver(e);return()=>{a=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Wx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&ok(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Cs(r){return nr(r)}class Kb{constructor(t){this.auth=t,this.observer=null,this.addObserver=G8(e=>this.observer=e)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rk(r){Td=r}function Gx(r){return Td.loadJS(r)}function Pk(){return Td.recaptchaEnterpriseScript}function Mk(){return Td.gapiScript}function Ok(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const Dk="recaptcha-enterprise",Fk="NO_RECAPTCHA";class Lk{constructor(t){this.type=Dk,this.auth=Cs(t)}async verify(t="verify",e=!1){async function n(s){if(!e){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{gk(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const o=new mk(l);return s.tenantId==null?s._agentRecaptchaConfig=o:s._tenantRecaptchaConfigs[s.tenantId]=o,a(o.siteKey)}}).catch(l=>{c(l)})})}function i(s,a,c){const l=window.grecaptcha;$b(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(o=>{a(o)}).catch(()=>{a(Fk)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(c=>{if(!e&&$b(window.grecaptcha))i(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Pk();l.length!==0&&(l+=c),Gx(l).then(()=>{i(c,s,a)}).catch(o=>{a(o)})}}).catch(c=>{a(c)})})}}async function Xb(r,t,e,n=!1){const i=new Lk(r);let s;try{s=await i.verify(e)}catch{s=await i.verify(e,!0)}const a=Object.assign({},t);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Hu(r,t,e,n){var i;if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Xb(r,t,e,e==="getOobCode");return n(r,s)}else return n(r,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Xb(r,t,e,e==="getOobCode");return n(r,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(r,t){const e=aa(r,"auth");if(e.isInitialized()){const i=e.getImmediate(),s=e.getOptions();if(Il(s,t??{}))return i;Gn(i,"already-initialized")}return e.initialize({options:t})}function Vk(r,t){const e=(t==null?void 0:t.persistence)||[],n=(Array.isArray(e)?e:[e]).map(Si);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function zk(r,t,e){const n=Cs(r);ot(n._canInitEmulator,n,"emulator-config-failed"),ot(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=!1,s=Kx(t),{host:a,port:c}=Uk(t),l=c===null?"":`:${c}`;n.config.emulator={url:`${s}//${a}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),$k()}function Kx(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Uk(r){const t=Kx(r),e=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!e)return{host:"",port:null};const n=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:Qb(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:Qb(a)}}}function Qb(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function $k(){function r(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return wi("not implemented")}_getIdTokenResponse(t){return wi("not implemented")}_linkToIdToken(t,e){return wi("not implemented")}_getReauthenticationResolver(t){return wi("not implemented")}}async function Hk(r,t){return fi(r,"POST","/v1/accounts:update",t)}async function qk(r,t){return fi(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(r,t){return Yl(r,"POST","/v1/accounts:signInWithPassword",Vi(r,t))}async function Gk(r,t){return fi(r,"POST","/v1/accounts:sendOobCode",Vi(r,t))}async function Kk(r,t){return Gk(r,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(r,t){return Yl(r,"POST","/v1/accounts:signInWithEmailLink",Vi(r,t))}async function Qk(r,t){return Yl(r,"POST","/v1/accounts:signInWithEmailLink",Vi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends Vm{constructor(t,e,n,i=null){super("password",n),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new Pl(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new Pl(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hu(t,e,"signInWithPassword",Wk);case"emailLink":return Xk(t,{email:this._email,oobCode:this._password});default:Gn(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const n={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hu(t,n,"signUpPassword",qk);case"emailLink":return Qk(t,{idToken:e,email:this._email,oobCode:this._password});default:Gn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(r,t){return Yl(r,"POST","/v1/accounts:signInWithIdp",Vi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="http://localhost";class Qs extends Vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Gn("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:i}=e,s=Om(e,["providerId","signInMethod"]);if(!n||!i)return null;const a=new Qs(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const e=this.buildRequest();return $a(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,$a(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,$a(t,e)}buildRequest(){const t={requestUri:Yk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Xl(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jk(r){const t=$o(Ho(r)).link,e=t?$o(Ho(t)).deep_link_id:null,n=$o(Ho(r)).deep_link_id;return(n?$o(Ho(n)).link:null)||n||e||t||r}class zm{constructor(t){var e,n,i,s,a,c;const l=$o(Ho(t)),o=(e=l.apiKey)!==null&&e!==void 0?e:null,u=(n=l.oobCode)!==null&&n!==void 0?n:null,p=Zk((i=l.mode)!==null&&i!==void 0?i:null);ot(o&&u&&p,"argument-error"),this.apiKey=o,this.operation=p,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const e=Jk(t);try{return new zm(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.providerId=oa.PROVIDER_ID}static credential(t,e){return Pl._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=zm.parseLink(e);return ot(n,"argument-error"),Pl._fromEmailAndCode(t,n.code,n.tenantId)}}oa.PROVIDER_ID="password";oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends Xx{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Zl{constructor(){super("facebook.com")}static credential(t){return Qs._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ji.credentialFromTaggedObject(t)}static credentialFromError(t){return Ji.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ji.credential(t.oauthAccessToken)}catch{return null}}}Ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Qs._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return es.credential(e,n)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Zl{constructor(){super("github.com")}static credential(t){return Qs._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ts.credential(t.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Zl{constructor(){super("twitter.com")}static credential(t,e){return Qs._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return rs.credentialFromTaggedObject(t)}static credentialFromError(t){return rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return rs.credential(e,n)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(r,t){return Yl(r,"POST","/v1/accounts:signUp",Vi(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,i=!1){const s=await _i._fromIdTokenResponse(t,n,i),a=Yb(n);return new Ys({user:s,providerId:a,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const i=Yb(n);return new Ys({user:t,providerId:i,_tokenResponse:n,operationType:e})}}function Yb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends Xn{constructor(t,e,n,i){var s;super(e.code,e.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,qu.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,i){return new qu(t,e,n,i)}}function Qx(r,t,e,n){return(t==="reauthenticate"?e._getReauthenticationResolver(r):e._getIdTokenResponse(r)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qu._fromErrorAndOperation(r,s,t,n):s})}async function tN(r,t,e=!1){const n=await Za(r,t._linkToIdToken(r.auth,await r.getIdToken()),e);return Ys._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(r,t,e=!1){const{auth:n}=r;if(ii(n.app))return Promise.reject(Ni(n));const i="reauthenticate";try{const s=await Za(r,Qx(n,i,t,r),e);ot(s.idToken,n,"internal-error");const a=Lm(s.idToken);ot(a,n,"internal-error");const{sub:c}=a;return ot(r.uid===c,n,"user-mismatch"),Ys._forOperation(r,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gn(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(r,t,e=!1){if(ii(r.app))return Promise.reject(Ni(r));const n="signIn",i=await Qx(r,n,t),s=await Ys._fromIdTokenResponse(r,n,i);return e||await r._updateCurrentUser(s.user),s}async function rN(r,t){return Zx(Cs(r),t)}async function nN(r,t){return Yx(nr(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(r){const t=Cs(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ew(r,t,e){const n=Cs(r);await Hu(n,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Kk)}async function iN(r,t,e){if(ii(r.app))return Promise.reject(Ni(r));const n=Cs(r),a=await Hu(n,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eN).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Jx(r),l}),c=await Ys._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(c.user),c}function sN(r,t,e){return ii(r.app)?Promise.reject(Ni(r)):rN(nr(r),oa.credential(t,e)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Jx(r),n})}function aN(r,t){return oN(nr(r),null,t)}async function oN(r,t,e){const{auth:n}=r,s={idToken:await r.getIdToken(),returnSecureToken:!0};e&&(s.password=e);const a=await Za(r,Hk(n,s));await r._updateTokensIfNecessary(a,!0)}function lN(r,t,e,n){return nr(r).onIdTokenChanged(t,e,n)}function cN(r,t,e){return nr(r).beforeAuthStateChanged(t,e)}function uN(r,t,e,n){return nr(r).onAuthStateChanged(t,e,n)}function dN(r){return nr(r).signOut()}const Wu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Wu,"1"),this.storage.removeItem(Wu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=1e3,fN=10;class rw extends tw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),i=this.localCache[e];n!==i&&t(e,i,n)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}const n=t.key;e?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!e&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);Ek()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,fN):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},hN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}rw.type="LOCAL";const pN=rw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw extends tw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}nw.type="SESSION";const iw=nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(i=>i.isListeningto(t));if(e)return e;const n=new Cd(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:i,data:s}=e.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(a).map(async o=>o(e.origin,s)),l=await mN(c);e.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(r="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return r+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{const o=Um("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(p){const d=p;if(d.data.eventId===o)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:o,data:e},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function bN(r){li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function vN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function xN(){return sw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="firebaseLocalStorageDb",wN=1,Gu="firebaseLocalStorage",ow="fbase_key";class Jl{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Ad(r,t){return r.transaction([Gu],t?"readwrite":"readonly").objectStore(Gu)}function _N(){const r=indexedDB.deleteDatabase(aw);return new Jl(r).toPromise()}function ip(){const r=indexedDB.open(aw,wN);return new Promise((t,e)=>{r.addEventListener("error",()=>{e(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Gu,{keyPath:ow})}catch(i){e(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Gu)?t(n):(n.close(),await _N(),t(await ip()))})})}async function Zb(r,t,e){const n=Ad(r,!0).put({[ow]:t,value:e});return new Jl(n).toPromise()}async function SN(r,t){const e=Ad(r,!1).get(t),n=await new Jl(e).toPromise();return n===void 0?null:n.value}function Jb(r,t){const e=Ad(r,!0).delete(t);return new Jl(e).toPromise()}const kN=800,NN=3;class lw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ip(),this.db)}async _withRetries(t){let e=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(e++>NN)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cd._getInstance(xN()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await vN(),!this.activeServiceWorker)return;this.sender=new gN(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((e=n[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ip();return await Zb(t,Wu,"1"),await Jb(t,Wu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zb(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(n=>SN(n,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Jb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=Ad(i,!1).getAll();return new Jl(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],n=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),e.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),e.push(i));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lw.type="LOCAL";const EN=lw;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(r,t){return t?Si(t):(ot(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends Vm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,e){return $a(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function TN(r){return Zx(r.auth,new $m(r),r.bypassAuthState)}function CN(r){const{auth:t,user:e}=r;return ot(e,t,"internal-error"),Yx(e,new $m(r),r.bypassAuthState)}async function AN(r){const{auth:t,user:e}=r;return ot(e,t,"internal-error"),tN(e,new $m(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t,e,n,i,s=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:i,tenantId:s,error:a,type:c}=t;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:e,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(o){this.reject(o)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return TN;case"linkViaPopup":case"linkViaRedirect":return AN;case"reauthViaPopup":case"reauthViaRedirect":return CN;default:Gn(this.auth,"internal-error")}}resolve(t){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new Ql(2e3,1e4);class Ma extends cw{constructor(t,e,n,i,s){super(t,e,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Ma.currentPopupAction&&Ma.currentPopupAction.cancel(),Ma.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ot(t,this.auth,"internal-error"),t}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const t=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ma.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;if(!((n=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,IN.get())};t()}}Ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="pendingRedirect",su=new Map;class PN extends cw{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=su.get(this.auth._key());if(!t){try{const n=await MN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}su.set(this.auth._key(),t)}return this.bypassAuthState||su.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MN(r,t){const e=FN(t),n=DN(r);if(!await n._isAvailable())return!1;const i=await n._get(e)==="true";return await n._remove(e),i}function ON(r,t){su.set(r._key(),t)}function DN(r){return Si(r._redirectPersistence)}function FN(r){return iu(RN,r.config.apiKey,r.name)}async function LN(r,t,e=!1){if(ii(r.app))return Promise.reject(Ni(r));const n=Cs(r),i=jN(n,t),a=await new PN(n,i,e).execute();return a&&!e&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=10*60*1e3;class VN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!zN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!uw(t)){const i=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";e.onError(oi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=BN&&this.cachedEventUids.clear(),this.cachedEventUids.has(e1(t))}saveEventToCache(t){this.cachedEventUids.add(e1(t)),this.lastProcessedEventTime=Date.now()}}function e1(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function uw({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function zN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(r,t={}){return fi(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HN=/^https?/;async function qN(r){if(r.config.emulator)return;const{authorizedDomains:t}=await UN(r);for(const e of t)try{if(WN(e))return}catch{}Gn(r,"unauthorized-domain")}function WN(r){const t=rp(),{protocol:e,hostname:n}=new URL(t);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&n===""?e==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&a.hostname===n}if(!HN.test(e))return!1;if($N.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new Ql(3e4,6e4);function t1(){const r=li().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let e=0;e<r.CP.length;e++)r.CP[e]=null}}function KN(r){return new Promise((t,e)=>{var n,i,s;function a(){t1(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{t1(),e(oi(r,"network-request-failed"))},timeout:GN.get()})}if(!((i=(n=li().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=li().gapi)===null||s===void 0)&&s.load)a();else{const c=Ok("iframefcb");return li()[c]=()=>{gapi.load?a():e(oi(r,"network-request-failed"))},Gx(`${Mk()}?onload=${c}`).catch(l=>e(l))}}).catch(t=>{throw au=null,t})}let au=null;function XN(r){return au=au||KN(r),au}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=new Ql(5e3,15e3),YN="__/auth/iframe",ZN="emulator/auth/iframe",JN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t9(r){const t=r.config;ot(t.authDomain,r,"auth-domain-config-required");const e=t.emulator?Fm(t,ZN):`https://${r.config.authDomain}/${YN}`,n={apiKey:t.apiKey,appName:r.name,v:po},i=e9.get(r.config.apiHost);i&&(n.eid=i);const s=r._getFrameworks();return s.length&&(n.fw=s.join(",")),`${e}?${Xl(n).slice(1)}`}async function r9(r){const t=await XN(r),e=li().gapi;return ot(e,r,"internal-error"),t.open({where:document.body,url:t9(r),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JN,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=oi(r,"network-request-failed"),c=li().setTimeout(()=>{s(a)},QN.get());function l(){li().clearTimeout(c),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i9=500,s9=600,a9="_blank",o9="http://localhost";class r1{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l9(r,t,e,n=i9,i=s9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const l=Object.assign(Object.assign({},n9),{width:n.toString(),height:i.toString(),top:s,left:a}),o=Gr().toLowerCase();e&&(c=Vx(o)?a9:e),Lx(o)&&(t=t||o9,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[h,g])=>`${d}${h}=${g},`,"");if(Nk(o)&&c!=="_self")return c9(t||"",c),new r1(null);const p=window.open(t||"",c,u);ot(p,r,"popup-blocked");try{p.focus()}catch{}return new r1(p)}function c9(r,t){const e=document.createElement("a");e.href=r,e.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9="__/auth/handler",d9="emulator/auth/handler",h9=encodeURIComponent("fac");async function n1(r,t,e,n,i,s){ot(r.config.authDomain,r,"auth-domain-config-required"),ot(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:e,redirectUrl:n,v:po,eventId:i};if(t instanceof Xx){t.setDefaultLanguage(r.languageCode),a.providerId=t.providerId||"",W8(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,p]of Object.entries({}))a[u]=p}if(t instanceof Zl){const u=t.getScopes().filter(p=>p!=="");u.length>0&&(a.scopes=u.join(","))}r.tenantId&&(a.tid=r.tenantId);const c=a;for(const u of Object.keys(c))c[u]===void 0&&delete c[u];const l=await r._getAppCheckToken(),o=l?`#${h9}=${encodeURIComponent(l)}`:"";return`${f9(r)}?${Xl(c).slice(1)}${o}`}function f9({config:r}){return r.emulator?Fm(r,d9):`https://${r.authDomain}/${u9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="webStorageSupport";class p9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iw,this._completeRedirectFn=LN,this._overrideRedirectResult=ON}async _openPopup(t,e,n,i){var s;Pi((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await n1(t,e,n,rp(),i);return l9(t,a,Um())}async _openRedirect(t,e,n,i){await this._originValidation(t);const s=await n1(t,e,n,rp(),i);return bN(s),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:i,promise:s}=this.eventManagers[e];return i?Promise.resolve(i):(Pi(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}async initAndGetManager(t){const e=await r9(t),n=new VN(t);return e.register("authEvent",i=>(ot(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(zh,{type:zh},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[zh];a!==void 0&&e(!!a),Gn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=qN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return qx()||Bx()||Bm()}}const m9=p9;var i1="@firebase/auth",s1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function v9(r){di(new Wn("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=n.options;ot(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wx(r)},o=new Ik(n,i,s,l);return Vk(o,e),o},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),di(new Wn("auth-internal",t=>{const e=Cs(t.getProvider("auth").getImmediate());return(n=>new g9(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),An(i1,s1,b9(r)),An(i1,s1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=5*60,x9=yx("authIdTokenMaxAge")||y9;let a1=null;const w9=r=>async t=>{const e=t&&await t.getIdTokenResult(),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>x9)return;const i=e==null?void 0:e.token;a1!==i&&(a1=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _9(r=Mm()){const t=aa(r,"auth");if(t.isInitialized())return t.getImmediate();const e=Bk(r,{popupRedirectResolver:m9,persistence:[EN,pN,iw]}),n=yx("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=w9(s.toString());cN(e,a,()=>a(e.currentUser)),lN(e,c=>a(c))}}const i=bx("auth");return i&&zk(e,`http://${i}`),e}function S9(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}Rk({loadJS(r){return new Promise((t,e)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=t,n.onerror=i=>{const s=oi("internal-error");s.customData=i,e(s)},n.type="text/javascript",n.charset="UTF-8",S9().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});v9("Browser");var o1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,dw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(L,C){function M(){}M.prototype=C.prototype,L.D=C.prototype,L.prototype=new M,L.prototype.constructor=L,L.C=function(F,$,U){for(var j=Array(arguments.length-2),P=2;P<arguments.length;P++)j[P-2]=arguments[P];return C.prototype[$].apply(F,j)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,e),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,C,M){M||(M=0);var F=Array(16);if(typeof C=="string")for(var $=0;16>$;++$)F[$]=C.charCodeAt(M++)|C.charCodeAt(M++)<<8|C.charCodeAt(M++)<<16|C.charCodeAt(M++)<<24;else for($=0;16>$;++$)F[$]=C[M++]|C[M++]<<8|C[M++]<<16|C[M++]<<24;C=L.g[0],M=L.g[1],$=L.g[2];var U=L.g[3],j=C+(U^M&($^U))+F[0]+3614090360&4294967295;C=M+(j<<7&4294967295|j>>>25),j=U+($^C&(M^$))+F[1]+3905402710&4294967295,U=C+(j<<12&4294967295|j>>>20),j=$+(M^U&(C^M))+F[2]+606105819&4294967295,$=U+(j<<17&4294967295|j>>>15),j=M+(C^$&(U^C))+F[3]+3250441966&4294967295,M=$+(j<<22&4294967295|j>>>10),j=C+(U^M&($^U))+F[4]+4118548399&4294967295,C=M+(j<<7&4294967295|j>>>25),j=U+($^C&(M^$))+F[5]+1200080426&4294967295,U=C+(j<<12&4294967295|j>>>20),j=$+(M^U&(C^M))+F[6]+2821735955&4294967295,$=U+(j<<17&4294967295|j>>>15),j=M+(C^$&(U^C))+F[7]+4249261313&4294967295,M=$+(j<<22&4294967295|j>>>10),j=C+(U^M&($^U))+F[8]+1770035416&4294967295,C=M+(j<<7&4294967295|j>>>25),j=U+($^C&(M^$))+F[9]+2336552879&4294967295,U=C+(j<<12&4294967295|j>>>20),j=$+(M^U&(C^M))+F[10]+4294925233&4294967295,$=U+(j<<17&4294967295|j>>>15),j=M+(C^$&(U^C))+F[11]+2304563134&4294967295,M=$+(j<<22&4294967295|j>>>10),j=C+(U^M&($^U))+F[12]+1804603682&4294967295,C=M+(j<<7&4294967295|j>>>25),j=U+($^C&(M^$))+F[13]+4254626195&4294967295,U=C+(j<<12&4294967295|j>>>20),j=$+(M^U&(C^M))+F[14]+2792965006&4294967295,$=U+(j<<17&4294967295|j>>>15),j=M+(C^$&(U^C))+F[15]+1236535329&4294967295,M=$+(j<<22&4294967295|j>>>10),j=C+($^U&(M^$))+F[1]+4129170786&4294967295,C=M+(j<<5&4294967295|j>>>27),j=U+(M^$&(C^M))+F[6]+3225465664&4294967295,U=C+(j<<9&4294967295|j>>>23),j=$+(C^M&(U^C))+F[11]+643717713&4294967295,$=U+(j<<14&4294967295|j>>>18),j=M+(U^C&($^U))+F[0]+3921069994&4294967295,M=$+(j<<20&4294967295|j>>>12),j=C+($^U&(M^$))+F[5]+3593408605&4294967295,C=M+(j<<5&4294967295|j>>>27),j=U+(M^$&(C^M))+F[10]+38016083&4294967295,U=C+(j<<9&4294967295|j>>>23),j=$+(C^M&(U^C))+F[15]+3634488961&4294967295,$=U+(j<<14&4294967295|j>>>18),j=M+(U^C&($^U))+F[4]+3889429448&4294967295,M=$+(j<<20&4294967295|j>>>12),j=C+($^U&(M^$))+F[9]+568446438&4294967295,C=M+(j<<5&4294967295|j>>>27),j=U+(M^$&(C^M))+F[14]+3275163606&4294967295,U=C+(j<<9&4294967295|j>>>23),j=$+(C^M&(U^C))+F[3]+4107603335&4294967295,$=U+(j<<14&4294967295|j>>>18),j=M+(U^C&($^U))+F[8]+1163531501&4294967295,M=$+(j<<20&4294967295|j>>>12),j=C+($^U&(M^$))+F[13]+2850285829&4294967295,C=M+(j<<5&4294967295|j>>>27),j=U+(M^$&(C^M))+F[2]+4243563512&4294967295,U=C+(j<<9&4294967295|j>>>23),j=$+(C^M&(U^C))+F[7]+1735328473&4294967295,$=U+(j<<14&4294967295|j>>>18),j=M+(U^C&($^U))+F[12]+2368359562&4294967295,M=$+(j<<20&4294967295|j>>>12),j=C+(M^$^U)+F[5]+4294588738&4294967295,C=M+(j<<4&4294967295|j>>>28),j=U+(C^M^$)+F[8]+2272392833&4294967295,U=C+(j<<11&4294967295|j>>>21),j=$+(U^C^M)+F[11]+1839030562&4294967295,$=U+(j<<16&4294967295|j>>>16),j=M+($^U^C)+F[14]+4259657740&4294967295,M=$+(j<<23&4294967295|j>>>9),j=C+(M^$^U)+F[1]+2763975236&4294967295,C=M+(j<<4&4294967295|j>>>28),j=U+(C^M^$)+F[4]+1272893353&4294967295,U=C+(j<<11&4294967295|j>>>21),j=$+(U^C^M)+F[7]+4139469664&4294967295,$=U+(j<<16&4294967295|j>>>16),j=M+($^U^C)+F[10]+3200236656&4294967295,M=$+(j<<23&4294967295|j>>>9),j=C+(M^$^U)+F[13]+681279174&4294967295,C=M+(j<<4&4294967295|j>>>28),j=U+(C^M^$)+F[0]+3936430074&4294967295,U=C+(j<<11&4294967295|j>>>21),j=$+(U^C^M)+F[3]+3572445317&4294967295,$=U+(j<<16&4294967295|j>>>16),j=M+($^U^C)+F[6]+76029189&4294967295,M=$+(j<<23&4294967295|j>>>9),j=C+(M^$^U)+F[9]+3654602809&4294967295,C=M+(j<<4&4294967295|j>>>28),j=U+(C^M^$)+F[12]+3873151461&4294967295,U=C+(j<<11&4294967295|j>>>21),j=$+(U^C^M)+F[15]+530742520&4294967295,$=U+(j<<16&4294967295|j>>>16),j=M+($^U^C)+F[2]+3299628645&4294967295,M=$+(j<<23&4294967295|j>>>9),j=C+($^(M|~U))+F[0]+4096336452&4294967295,C=M+(j<<6&4294967295|j>>>26),j=U+(M^(C|~$))+F[7]+1126891415&4294967295,U=C+(j<<10&4294967295|j>>>22),j=$+(C^(U|~M))+F[14]+2878612391&4294967295,$=U+(j<<15&4294967295|j>>>17),j=M+(U^($|~C))+F[5]+4237533241&4294967295,M=$+(j<<21&4294967295|j>>>11),j=C+($^(M|~U))+F[12]+1700485571&4294967295,C=M+(j<<6&4294967295|j>>>26),j=U+(M^(C|~$))+F[3]+2399980690&4294967295,U=C+(j<<10&4294967295|j>>>22),j=$+(C^(U|~M))+F[10]+4293915773&4294967295,$=U+(j<<15&4294967295|j>>>17),j=M+(U^($|~C))+F[1]+2240044497&4294967295,M=$+(j<<21&4294967295|j>>>11),j=C+($^(M|~U))+F[8]+1873313359&4294967295,C=M+(j<<6&4294967295|j>>>26),j=U+(M^(C|~$))+F[15]+4264355552&4294967295,U=C+(j<<10&4294967295|j>>>22),j=$+(C^(U|~M))+F[6]+2734768916&4294967295,$=U+(j<<15&4294967295|j>>>17),j=M+(U^($|~C))+F[13]+1309151649&4294967295,M=$+(j<<21&4294967295|j>>>11),j=C+($^(M|~U))+F[4]+4149444226&4294967295,C=M+(j<<6&4294967295|j>>>26),j=U+(M^(C|~$))+F[11]+3174756917&4294967295,U=C+(j<<10&4294967295|j>>>22),j=$+(C^(U|~M))+F[2]+718787259&4294967295,$=U+(j<<15&4294967295|j>>>17),j=M+(U^($|~C))+F[9]+3951481745&4294967295,L.g[0]=L.g[0]+C&4294967295,L.g[1]=L.g[1]+($+(j<<21&4294967295|j>>>11))&4294967295,L.g[2]=L.g[2]+$&4294967295,L.g[3]=L.g[3]+U&4294967295}n.prototype.u=function(L,C){C===void 0&&(C=L.length);for(var M=C-this.blockSize,F=this.B,$=this.h,U=0;U<C;){if($==0)for(;U<=M;)i(this,L,U),U+=this.blockSize;if(typeof L=="string"){for(;U<C;)if(F[$++]=L.charCodeAt(U++),$==this.blockSize){i(this,F),$=0;break}}else for(;U<C;)if(F[$++]=L[U++],$==this.blockSize){i(this,F),$=0;break}}this.h=$,this.o+=C},n.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var C=1;C<L.length-8;++C)L[C]=0;var M=8*this.o;for(C=L.length-8;C<L.length;++C)L[C]=M&255,M/=256;for(this.u(L),L=Array(16),C=M=0;4>C;++C)for(var F=0;32>F;F+=8)L[M++]=this.g[C]>>>F&255;return L};function s(L,C){var M=c;return Object.prototype.hasOwnProperty.call(M,L)?M[L]:M[L]=C(L)}function a(L,C){this.h=C;for(var M=[],F=!0,$=L.length-1;0<=$;$--){var U=L[$]|0;F&&U==C||(M[$]=U,F=!1)}this.g=M}var c={};function l(L){return-128<=L&&128>L?s(L,function(C){return new a([C|0],0>C?-1:0)}):new a([L|0],0>L?-1:0)}function o(L){if(isNaN(L)||!isFinite(L))return p;if(0>L)return m(o(-L));for(var C=[],M=1,F=0;L>=M;F++)C[F]=L/M|0,M*=4294967296;return new a(C,0)}function u(L,C){if(L.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(L.charAt(0)=="-")return m(u(L.substring(1),C));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=o(Math.pow(C,8)),F=p,$=0;$<L.length;$+=8){var U=Math.min(8,L.length-$),j=parseInt(L.substring($,$+U),C);8>U?(U=o(Math.pow(C,U)),F=F.j(U).add(o(j))):(F=F.j(M),F=F.add(o(j)))}return F}var p=l(0),d=l(1),h=l(16777216);r=a.prototype,r.m=function(){if(b(this))return-m(this).m();for(var L=0,C=1,M=0;M<this.g.length;M++){var F=this.i(M);L+=(0<=F?F:4294967296+F)*C,C*=4294967296}return L},r.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(g(this))return"0";if(b(this))return"-"+m(this).toString(L);for(var C=o(Math.pow(L,6)),M=this,F="";;){var $=E(M,C).g;M=y(M,$.j(C));var U=((0<M.g.length?M.g[0]:M.h)>>>0).toString(L);if(M=$,g(M))return U+F;for(;6>U.length;)U="0"+U;F=U+F}},r.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function g(L){if(L.h!=0)return!1;for(var C=0;C<L.g.length;C++)if(L.g[C]!=0)return!1;return!0}function b(L){return L.h==-1}r.l=function(L){return L=y(this,L),b(L)?-1:g(L)?0:1};function m(L){for(var C=L.g.length,M=[],F=0;F<C;F++)M[F]=~L.g[F];return new a(M,~L.h).add(d)}r.abs=function(){return b(this)?m(this):this},r.add=function(L){for(var C=Math.max(this.g.length,L.g.length),M=[],F=0,$=0;$<=C;$++){var U=F+(this.i($)&65535)+(L.i($)&65535),j=(U>>>16)+(this.i($)>>>16)+(L.i($)>>>16);F=j>>>16,U&=65535,j&=65535,M[$]=j<<16|U}return new a(M,M[M.length-1]&-2147483648?-1:0)};function y(L,C){return L.add(m(C))}r.j=function(L){if(g(this)||g(L))return p;if(b(this))return b(L)?m(this).j(m(L)):m(m(this).j(L));if(b(L))return m(this.j(m(L)));if(0>this.l(h)&&0>L.l(h))return o(this.m()*L.m());for(var C=this.g.length+L.g.length,M=[],F=0;F<2*C;F++)M[F]=0;for(F=0;F<this.g.length;F++)for(var $=0;$<L.g.length;$++){var U=this.i(F)>>>16,j=this.i(F)&65535,P=L.i($)>>>16,N=L.i($)&65535;M[2*F+2*$]+=j*N,v(M,2*F+2*$),M[2*F+2*$+1]+=U*N,v(M,2*F+2*$+1),M[2*F+2*$+1]+=j*P,v(M,2*F+2*$+1),M[2*F+2*$+2]+=U*P,v(M,2*F+2*$+2)}for(F=0;F<C;F++)M[F]=M[2*F+1]<<16|M[2*F];for(F=C;F<2*C;F++)M[F]=0;return new a(M,0)};function v(L,C){for(;(L[C]&65535)!=L[C];)L[C+1]+=L[C]>>>16,L[C]&=65535,C++}function w(L,C){this.g=L,this.h=C}function E(L,C){if(g(C))throw Error("division by zero");if(g(L))return new w(p,p);if(b(L))return C=E(m(L),C),new w(m(C.g),m(C.h));if(b(C))return C=E(L,m(C)),new w(m(C.g),C.h);if(30<L.g.length){if(b(L)||b(C))throw Error("slowDivide_ only works with positive integers.");for(var M=d,F=C;0>=F.l(L);)M=A(M),F=A(F);var $=D(M,1),U=D(F,1);for(F=D(F,2),M=D(M,2);!g(F);){var j=U.add(F);0>=j.l(L)&&($=$.add(M),U=j),F=D(F,1),M=D(M,1)}return C=y(L,$.j(C)),new w($,C)}for($=p;0<=L.l(C);){for(M=Math.max(1,Math.floor(L.m()/C.m())),F=Math.ceil(Math.log(M)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),U=o(M),j=U.j(C);b(j)||0<j.l(L);)M-=F,U=o(M),j=U.j(C);g(U)&&(U=d),$=$.add(U),L=y(L,j)}return new w($,L)}r.A=function(L){return E(this,L).h},r.and=function(L){for(var C=Math.max(this.g.length,L.g.length),M=[],F=0;F<C;F++)M[F]=this.i(F)&L.i(F);return new a(M,this.h&L.h)},r.or=function(L){for(var C=Math.max(this.g.length,L.g.length),M=[],F=0;F<C;F++)M[F]=this.i(F)|L.i(F);return new a(M,this.h|L.h)},r.xor=function(L){for(var C=Math.max(this.g.length,L.g.length),M=[],F=0;F<C;F++)M[F]=this.i(F)^L.i(F);return new a(M,this.h^L.h)};function A(L){for(var C=L.g.length+1,M=[],F=0;F<C;F++)M[F]=L.i(F)<<1|L.i(F-1)>>>31;return new a(M,L.h)}function D(L,C){var M=C>>5;C%=32;for(var F=L.g.length-M,$=[],U=0;U<F;U++)$[U]=0<C?L.i(U+M)>>>C|L.i(U+M+1)<<32-C:L.i(U+M);return new a($,L.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,dw=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=o,a.fromString=u,Hs=a}).apply(typeof o1<"u"?o1:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hw,qo,fw,ou,sp,pw,mw,gw;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(I,K,Q){return I==Array.prototype||I==Object.prototype||(I[K]=Q.value),I};function e(I){I=[typeof globalThis=="object"&&globalThis,I,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var K=0;K<I.length;++K){var Q=I[K];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}var n=e(this);function i(I,K){if(K)e:{var Q=n;I=I.split(".");for(var re=0;re<I.length-1;re++){var me=I[re];if(!(me in Q))break e;Q=Q[me]}I=I[I.length-1],re=Q[I],K=K(re),K!=re&&K!=null&&t(Q,I,{configurable:!0,writable:!0,value:K})}}function s(I,K){I instanceof String&&(I+="");var Q=0,re=!1,me={next:function(){if(!re&&Q<I.length){var ve=Q++;return{value:K(ve,I[ve]),done:!1}}return re=!0,{done:!0,value:void 0}}};return me[Symbol.iterator]=function(){return me},me}i("Array.prototype.values",function(I){return I||function(){return s(this,function(K,Q){return Q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function l(I){var K=typeof I;return K=K!="object"?K:I?Array.isArray(I)?"array":K:"null",K=="array"||K=="object"&&typeof I.length=="number"}function o(I){var K=typeof I;return K=="object"&&I!=null||K=="function"}function u(I,K,Q){return I.call.apply(I.bind,arguments)}function p(I,K,Q){if(!I)throw Error();if(2<arguments.length){var re=Array.prototype.slice.call(arguments,2);return function(){var me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(me,re),I.apply(K,me)}}return function(){return I.apply(K,arguments)}}function d(I,K,Q){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:p,d.apply(null,arguments)}function h(I,K){var Q=Array.prototype.slice.call(arguments,1);return function(){var re=Q.slice();return re.push.apply(re,arguments),I.apply(this,re)}}function g(I,K){function Q(){}Q.prototype=K.prototype,I.aa=K.prototype,I.prototype=new Q,I.prototype.constructor=I,I.Qb=function(re,me,ve){for(var De=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)De[Ht-2]=arguments[Ht];return K.prototype[me].apply(re,De)}}function b(I){const K=I.length;if(0<K){const Q=Array(K);for(let re=0;re<K;re++)Q[re]=I[re];return Q}return[]}function m(I,K){for(let Q=1;Q<arguments.length;Q++){const re=arguments[Q];if(l(re)){const me=I.length||0,ve=re.length||0;I.length=me+ve;for(let De=0;De<ve;De++)I[me+De]=re[De]}else I.push(re)}}class y{constructor(K,Q){this.i=K,this.j=Q,this.h=0,this.g=null}get(){let K;return 0<this.h?(this.h--,K=this.g,this.g=K.next,K.next=null):K=this.i(),K}}function v(I){return/^[\s\xa0]*$/.test(I)}function w(){var I=c.navigator;return I&&(I=I.userAgent)?I:""}function E(I){return E[" "](I),I}E[" "]=function(){};var A=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function D(I,K,Q){for(const re in I)K.call(Q,I[re],re,I)}function L(I,K){for(const Q in I)K.call(void 0,I[Q],Q,I)}function C(I){const K={};for(const Q in I)K[Q]=I[Q];return K}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(I,K){let Q,re;for(let me=1;me<arguments.length;me++){re=arguments[me];for(Q in re)I[Q]=re[Q];for(let ve=0;ve<M.length;ve++)Q=M[ve],Object.prototype.hasOwnProperty.call(re,Q)&&(I[Q]=re[Q])}}function $(I){var K=1;I=I.split(":");const Q=[];for(;0<K&&I.length;)Q.push(I.shift()),K--;return I.length&&Q.push(I.join(":")),Q}function U(I){c.setTimeout(()=>{throw I},0)}function j(){var I=k;let K=null;return I.g&&(K=I.g,I.g=I.g.next,I.g||(I.h=null),K.next=null),K}class P{constructor(){this.h=this.g=null}add(K,Q){const re=N.get();re.set(K,Q),this.h?this.h.next=re:this.g=re,this.h=re}}var N=new y(()=>new x,I=>I.reset());class x{constructor(){this.next=this.g=this.h=null}set(K,Q){this.h=K,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let S,_=!1,k=new P,T=()=>{const I=c.Promise.resolve(void 0);S=()=>{I.then(B)}};var B=()=>{for(var I;I=j();){try{I.h.call(I.g)}catch(Q){U(Q)}var K=N;K.j(I),100>K.h&&(K.h++,I.next=K.g,K.g=I)}_=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(I,K){this.type=I,this.g=this.target=K,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var I=!1,K=Object.defineProperty({},"passive",{get:function(){I=!0}});try{const Q=()=>{};c.addEventListener("test",Q,K),c.removeEventListener("test",Q,K)}catch{}return I}();function J(I,K){if(q.call(this,I?I.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,I){var Q=this.type=I.type,re=I.changedTouches&&I.changedTouches.length?I.changedTouches[0]:null;if(this.target=I.target||I.srcElement,this.g=K,K=I.relatedTarget){if(A){e:{try{E(K.nodeName);var me=!0;break e}catch{}me=!1}me||(K=null)}}else Q=="mouseover"?K=I.fromElement:Q=="mouseout"&&(K=I.toElement);this.relatedTarget=K,re?(this.clientX=re.clientX!==void 0?re.clientX:re.pageX,this.clientY=re.clientY!==void 0?re.clientY:re.pageY,this.screenX=re.screenX||0,this.screenY=re.screenY||0):(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0),this.button=I.button,this.key=I.key||"",this.ctrlKey=I.ctrlKey,this.altKey=I.altKey,this.shiftKey=I.shiftKey,this.metaKey=I.metaKey,this.pointerId=I.pointerId||0,this.pointerType=typeof I.pointerType=="string"?I.pointerType:z[I.pointerType]||"",this.state=I.state,this.i=I,I.defaultPrevented&&J.aa.h.call(this)}}g(J,q);var z={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var I=this.i;I.preventDefault?I.preventDefault():I.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),O=0;function R(I,K,Q,re,me){this.listener=I,this.proxy=null,this.src=K,this.type=Q,this.capture=!!re,this.ha=me,this.key=++O,this.da=this.fa=!1}function H(I){I.da=!0,I.listener=null,I.proxy=null,I.src=null,I.ha=null}function G(I){this.src=I,this.g={},this.h=0}G.prototype.add=function(I,K,Q,re,me){var ve=I.toString();I=this.g[ve],I||(I=this.g[ve]=[],this.h++);var De=Z(I,K,re,me);return-1<De?(K=I[De],Q||(K.fa=!1)):(K=new R(K,this.src,ve,!!re,me),K.fa=Q,I.push(K)),K};function ee(I,K){var Q=K.type;if(Q in I.g){var re=I.g[Q],me=Array.prototype.indexOf.call(re,K,void 0),ve;(ve=0<=me)&&Array.prototype.splice.call(re,me,1),ve&&(H(K),I.g[Q].length==0&&(delete I.g[Q],I.h--))}}function Z(I,K,Q,re){for(var me=0;me<I.length;++me){var ve=I[me];if(!ve.da&&ve.listener==K&&ve.capture==!!Q&&ve.ha==re)return me}return-1}var te="closure_lm_"+(1e6*Math.random()|0),oe={};function le(I,K,Q,re,me){if(Array.isArray(K)){for(var ve=0;ve<K.length;ve++)le(I,K[ve],Q,re,me);return null}return Q=xe(Q),I&&I[X]?I.K(K,Q,o(re)?!!re.capture:!1,me):Y(I,K,Q,!1,re,me)}function Y(I,K,Q,re,me,ve){if(!K)throw Error("Invalid event type");var De=o(me)?!!me.capture:!!me,Ht=ge(I);if(Ht||(I[te]=Ht=new G(I)),Q=Ht.add(K,Q,re,De,ve),Q.proxy)return Q;if(re=ie(),Q.proxy=re,re.src=I,re.listener=Q,I.addEventListener)W||(me=De),me===void 0&&(me=!1),I.addEventListener(K.toString(),re,me);else if(I.attachEvent)I.attachEvent(ue(K.toString()),re);else if(I.addListener&&I.removeListener)I.addListener(re);else throw Error("addEventListener and attachEvent are unavailable.");return Q}function ie(){function I(Q){return K.call(I.src,I.listener,Q)}const K=he;return I}function se(I,K,Q,re,me){if(Array.isArray(K))for(var ve=0;ve<K.length;ve++)se(I,K[ve],Q,re,me);else re=o(re)?!!re.capture:!!re,Q=xe(Q),I&&I[X]?(I=I.i,K=String(K).toString(),K in I.g&&(ve=I.g[K],Q=Z(ve,Q,re,me),-1<Q&&(H(ve[Q]),Array.prototype.splice.call(ve,Q,1),ve.length==0&&(delete I.g[K],I.h--)))):I&&(I=ge(I))&&(K=I.g[K.toString()],I=-1,K&&(I=Z(K,Q,re,me)),(Q=-1<I?K[I]:null)&&de(Q))}function de(I){if(typeof I!="number"&&I&&!I.da){var K=I.src;if(K&&K[X])ee(K.i,I);else{var Q=I.type,re=I.proxy;K.removeEventListener?K.removeEventListener(Q,re,I.capture):K.detachEvent?K.detachEvent(ue(Q),re):K.addListener&&K.removeListener&&K.removeListener(re),(Q=ge(K))?(ee(Q,I),Q.h==0&&(Q.src=null,K[te]=null)):H(I)}}}function ue(I){return I in oe?oe[I]:oe[I]="on"+I}function he(I,K){if(I.da)I=!0;else{K=new J(K,this);var Q=I.listener,re=I.ha||I.src;I.fa&&de(I),I=Q.call(re,K)}return I}function ge(I){return I=I[te],I instanceof G?I:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function xe(I){return typeof I=="function"?I:(I[be]||(I[be]=function(K){return I.handleEvent(K)}),I[be])}function ke(){V.call(this),this.i=new G(this),this.M=this,this.F=null}g(ke,V),ke.prototype[X]=!0,ke.prototype.removeEventListener=function(I,K,Q,re){se(this,I,K,Q,re)};function Ne(I,K){var Q,re=I.F;if(re)for(Q=[];re;re=re.F)Q.push(re);if(I=I.M,re=K.type||K,typeof K=="string")K=new q(K,I);else if(K instanceof q)K.target=K.target||I;else{var me=K;K=new q(re,I),F(K,me)}if(me=!0,Q)for(var ve=Q.length-1;0<=ve;ve--){var De=K.g=Q[ve];me=Re(De,re,!0,K)&&me}if(De=K.g=I,me=Re(De,re,!0,K)&&me,me=Re(De,re,!1,K)&&me,Q)for(ve=0;ve<Q.length;ve++)De=K.g=Q[ve],me=Re(De,re,!1,K)&&me}ke.prototype.N=function(){if(ke.aa.N.call(this),this.i){var I=this.i,K;for(K in I.g){for(var Q=I.g[K],re=0;re<Q.length;re++)H(Q[re]);delete I.g[K],I.h--}}this.F=null},ke.prototype.K=function(I,K,Q,re){return this.i.add(String(I),K,!1,Q,re)},ke.prototype.L=function(I,K,Q,re){return this.i.add(String(I),K,!0,Q,re)};function Re(I,K,Q,re){if(K=I.i.g[String(K)],!K)return!0;K=K.concat();for(var me=!0,ve=0;ve<K.length;++ve){var De=K[ve];if(De&&!De.da&&De.capture==Q){var Ht=De.listener,jr=De.ha||De.src;De.fa&&ee(I.i,De),me=Ht.call(jr,re)!==!1&&me}}return me&&!re.defaultPrevented}function $e(I,K,Q){if(typeof I=="function")Q&&(I=d(I,Q));else if(I&&typeof I.handleEvent=="function")I=d(I.handleEvent,I);else throw Error("Invalid listener argument");return 2147483647<Number(K)?-1:c.setTimeout(I,K||0)}function Ce(I){I.g=$e(()=>{I.g=null,I.i&&(I.i=!1,Ce(I))},I.l);const K=I.h;I.h=null,I.m.apply(null,K)}class Le extends V{constructor(K,Q){super(),this.m=K,this.l=Q,this.h=null,this.i=!1,this.g=null}j(K){this.h=arguments,this.g?this.i=!0:Ce(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Be(I){V.call(this),this.h=I,this.g={}}g(Be,V);var Ae=[];function Ee(I){D(I.g,function(K,Q){this.g.hasOwnProperty(Q)&&de(K)},I),I.g={}}Be.prototype.N=function(){Be.aa.N.call(this),Ee(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fe=c.JSON.stringify,qe=c.JSON.parse,ze=class{stringify(I){return c.JSON.stringify(I,void 0)}parse(I){return c.JSON.parse(I,void 0)}};function bt(){}bt.prototype.h=null;function At(I){return I.h||(I.h=I.i())}function Ke(){}var vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gt(){q.call(this,"d")}g(gt,q);function nt(){q.call(this,"c")}g(nt,q);var St={},kt=null;function Xe(){return kt=kt||new ke}St.La="serverreachability";function xt(I){q.call(this,St.La,I)}g(xt,q);function jt(I){const K=Xe();Ne(K,new xt(K))}St.STAT_EVENT="statevent";function rt(I,K){q.call(this,St.STAT_EVENT,I),this.stat=K}g(rt,q);function at(I){const K=Xe();Ne(K,new rt(K,I))}St.Ma="timingevent";function Dt(I,K){q.call(this,St.Ma,I),this.size=K}g(Dt,q);function it(I,K){if(typeof I!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){I()},K)}function ce(){this.g=!0}ce.prototype.xa=function(){this.g=!1};function fe(I,K,Q,re,me,ve){I.info(function(){if(I.g)if(ve)for(var De="",Ht=ve.split("&"),jr=0;jr<Ht.length;jr++){var Lt=Ht[jr].split("=");if(1<Lt.length){var Fr=Lt[0];Lt=Lt[1];var Lr=Fr.split("_");De=2<=Lr.length&&Lr[1]=="type"?De+(Fr+"="+Lt+"&"):De+(Fr+"=redacted&")}}else De=null;else De=ve;return"XMLHTTP REQ ("+re+") [attempt "+me+"]: "+K+`
`+Q+`
`+De})}function ye(I,K,Q,re,me,ve,De){I.info(function(){return"XMLHTTP RESP ("+re+") [ attempt "+me+"]: "+K+`
`+Q+`
`+ve+" "+De})}function Pe(I,K,Q,re){I.info(function(){return"XMLHTTP TEXT ("+K+"): "+Oe(I,Q)+(re?" "+re:"")})}function Je(I,K){I.info(function(){return"TIMEOUT: "+K})}ce.prototype.info=function(){};function Oe(I,K){if(!I.g)return K;if(!K)return null;try{var Q=JSON.parse(K);if(Q){for(I=0;I<Q.length;I++)if(Array.isArray(Q[I])){var re=Q[I];if(!(2>re.length)){var me=re[1];if(Array.isArray(me)&&!(1>me.length)){var ve=me[0];if(ve!="noop"&&ve!="stop"&&ve!="close")for(var De=1;De<me.length;De++)me[De]=""}}}}return Fe(Q)}catch{return K}}var et={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ye={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ge;function st(){}g(st,bt),st.prototype.g=function(){return new XMLHttpRequest},st.prototype.i=function(){return{}},Ge=new st;function Qe(I,K,Q,re){this.j=I,this.i=K,this.l=Q,this.R=re||1,this.U=new Be(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var Gt={},Vt={};function Zt(I,K,Q){I.L=1,I.v=pi(Dr(K)),I.m=Q,I.P=!0,sr(I,null)}function sr(I,K){I.F=Date.now(),pe(I),I.A=Dr(I.v);var Q=I.A,re=I.R;Array.isArray(re)||(re=[String(re)]),yo(Q.i,"t",re),I.C=0,Q=I.j.J,I.h=new ft,I.g=cg(I.j,Q?K:null,!I.m),0<I.O&&(I.M=new Le(d(I.Y,I,I.g),I.O)),K=I.U,Q=I.g,re=I.ca;var me="readystatechange";Array.isArray(me)||(me&&(Ae[0]=me.toString()),me=Ae);for(var ve=0;ve<me.length;ve++){var De=le(Q,me[ve],re||K.handleEvent,!1,K.h||K);if(!De)break;K.g[De.key]=De}K=I.H?C(I.H):{},I.m?(I.u||(I.u="POST"),K["Content-Type"]="application/x-www-form-urlencoded",I.g.ea(I.A,I.u,I.m,K)):(I.u="GET",I.g.ea(I.A,I.u,null,K)),jt(),fe(I.i,I.u,I.A,I.l,I.R,I.m)}Qe.prototype.ca=function(I){I=I.target;const K=this.M;K&&mi(I)==3?K.j():this.Y(I)},Qe.prototype.Y=function(I){try{if(I==this.g)e:{const Lr=mi(this.g);var K=this.g.Ba();const pa=this.g.Z();if(!(3>Lr)&&(Lr!=3||this.g&&(this.h.h||this.g.oa()||Z0(this.g)))){this.J||Lr!=4||K==7||(K==8||0>=pa?jt(3):jt(2)),Se(this);var Q=this.g.Z();this.X=Q;t:if(Nr(this)){var re=Z0(this.g);I="";var me=re.length,ve=mi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Te(this),Ue(this);var De="";break t}this.h.i=new c.TextDecoder}for(K=0;K<me;K++)this.h.h=!0,I+=this.h.i.decode(re[K],{stream:!(ve&&K==me-1)});re.length=0,this.h.g+=I,this.C=0,De=this.h.g}else De=this.g.oa();if(this.o=Q==200,ye(this.i,this.u,this.A,this.l,this.R,Lr,Q),this.o){if(this.T&&!this.K){t:{if(this.g){var Ht,jr=this.g;if((Ht=jr.g?jr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ht)){var Lt=Ht;break t}}Lt=null}if(Q=Lt)Pe(this.i,this.l,Q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Me(this,Q);else{this.o=!1,this.s=3,at(12),Te(this),Ue(this);break e}}if(this.P){Q=!0;let Fn;for(;!this.J&&this.C<De.length;)if(Fn=ne(this,De),Fn==Vt){Lr==4&&(this.s=4,at(14),Q=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==Gt){this.s=4,at(15),Pe(this.i,this.l,De,"[Invalid Chunk]"),Q=!1;break}else Pe(this.i,this.l,Fn,null),Me(this,Fn);if(Nr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lr!=4||De.length!=0||this.h.h||(this.s=1,at(16),Q=!1),this.o=this.o&&Q,!Q)Pe(this.i,this.l,De,"[Invalid Chunked Response]"),Te(this),Ue(this);else if(0<De.length&&!this.W){this.W=!0;var Fr=this.j;Fr.g==this&&Fr.ba&&!Fr.M&&(Fr.j.info("Great, no buffering proxy detected. Bytes received: "+De.length),ah(Fr),Fr.M=!0,at(11))}}else Pe(this.i,this.l,De,null),Me(this,De);Lr==4&&Te(this),this.o&&!this.J&&(Lr==4?sg(this.j,this):(this.o=!1,pe(this)))}else q5(this.g),Q==400&&0<De.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Te(this),Ue(this)}}}catch{}finally{}};function Nr(I){return I.g?I.u=="GET"&&I.L!=2&&I.j.Ca:!1}function ne(I,K){var Q=I.C,re=K.indexOf(`
`,Q);return re==-1?Vt:(Q=Number(K.substring(Q,re)),isNaN(Q)?Gt:(re+=1,re+Q>K.length?Vt:(K=K.slice(re,re+Q),I.C=re+Q,K)))}Qe.prototype.cancel=function(){this.J=!0,Te(this)};function pe(I){I.S=Date.now()+I.I,we(I,I.I)}function we(I,K){if(I.B!=null)throw Error("WatchDog timer not null");I.B=it(d(I.ba,I),K)}function Se(I){I.B&&(c.clearTimeout(I.B),I.B=null)}Qe.prototype.ba=function(){this.B=null;const I=Date.now();0<=I-this.S?(Je(this.i,this.A),this.L!=2&&(jt(),at(17)),Te(this),this.s=2,Ue(this)):we(this,this.S-I)};function Ue(I){I.j.G==0||I.J||sg(I.j,I)}function Te(I){Se(I);var K=I.M;K&&typeof K.ma=="function"&&K.ma(),I.M=null,Ee(I.U),I.g&&(K=I.g,I.g=null,K.abort(),K.ma())}function Me(I,K){try{var Q=I.j;if(Q.G!=0&&(Q.g==I||It(Q.h,I))){if(!I.K&&It(Q.h,I)&&Q.G==3){try{var re=Q.Da.g.parse(K)}catch{re=null}if(Array.isArray(re)&&re.length==3){var me=re;if(me[0]==0){e:if(!Q.u){if(Q.g)if(Q.g.F+3e3<I.F)gc(Q),pc(Q);else break e;sh(Q),at(18)}}else Q.za=me[1],0<Q.za-Q.T&&37500>me[2]&&Q.F&&Q.v==0&&!Q.C&&(Q.C=it(d(Q.Za,Q),6e3));if(1>=Ze(Q.h)&&Q.ca){try{Q.ca()}catch{}Q.ca=void 0}}else Ps(Q,11)}else if((I.K||Q.g==I)&&gc(Q),!v(K))for(me=Q.Da.g.parse(K),K=0;K<me.length;K++){let Lt=me[K];if(Q.T=Lt[0],Lt=Lt[1],Q.G==2)if(Lt[0]=="c"){Q.K=Lt[1],Q.ia=Lt[2];const Fr=Lt[3];Fr!=null&&(Q.la=Fr,Q.j.info("VER="+Q.la));const Lr=Lt[4];Lr!=null&&(Q.Aa=Lr,Q.j.info("SVER="+Q.Aa));const pa=Lt[5];pa!=null&&typeof pa=="number"&&0<pa&&(re=1.5*pa,Q.L=re,Q.j.info("backChannelRequestTimeoutMs_="+re)),re=Q;const Fn=I.g;if(Fn){const vc=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vc){var ve=re.h;ve.g||vc.indexOf("spdy")==-1&&vc.indexOf("quic")==-1&&vc.indexOf("h2")==-1||(ve.j=ve.l,ve.g=new Set,ve.h&&(Rt(ve,ve.h),ve.h=null))}if(re.D){const oh=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;oh&&(re.ya=oh,Mt(re.I,re.D,oh))}}Q.G=3,Q.l&&Q.l.ua(),Q.ba&&(Q.R=Date.now()-I.F,Q.j.info("Handshake RTT: "+Q.R+"ms")),re=Q;var De=I;if(re.qa=lg(re,re.J?re.ia:null,re.W),De.K){Ft(re.h,De);var Ht=De,jr=re.L;jr&&(Ht.I=jr),Ht.B&&(Se(Ht),pe(Ht)),re.g=De}else ng(re);0<Q.i.length&&mc(Q)}else Lt[0]!="stop"&&Lt[0]!="close"||Ps(Q,7);else Q.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Ps(Q,7):ih(Q):Lt[0]!="noop"&&Q.l&&Q.l.ta(Lt),Q.v=0)}}jt(4)}catch{}}var wt=class{constructor(I,K){this.g=I,this.map=K}};function ut(I){this.l=I||10,c.PerformanceNavigationTiming?(I=c.performance.getEntriesByType("navigation"),I=0<I.length&&(I[0].nextHopProtocol=="hq"||I[0].nextHopProtocol=="h2")):I=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=I?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pt(I){return I.h?!0:I.g?I.g.size>=I.j:!1}function Ze(I){return I.h?1:I.g?I.g.size:0}function It(I,K){return I.h?I.h==K:I.g?I.g.has(K):!1}function Rt(I,K){I.g?I.g.add(K):I.h=K}function Ft(I,K){I.h&&I.h==K?I.h=null:I.g&&I.g.has(K)&&I.g.delete(K)}ut.prototype.cancel=function(){if(this.i=qt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const I of this.g.values())I.cancel();this.g.clear()}};function qt(I){if(I.h!=null)return I.i.concat(I.h.D);if(I.g!=null&&I.g.size!==0){let K=I.i;for(const Q of I.g.values())K=K.concat(Q.D);return K}return b(I.i)}function dr(I){if(I.V&&typeof I.V=="function")return I.V();if(typeof Map<"u"&&I instanceof Map||typeof Set<"u"&&I instanceof Set)return Array.from(I.values());if(typeof I=="string")return I.split("");if(l(I)){for(var K=[],Q=I.length,re=0;re<Q;re++)K.push(I[re]);return K}K=[],Q=0;for(re in I)K[Q++]=I[re];return K}function Er(I){if(I.na&&typeof I.na=="function")return I.na();if(!I.V||typeof I.V!="function"){if(typeof Map<"u"&&I instanceof Map)return Array.from(I.keys());if(!(typeof Set<"u"&&I instanceof Set)){if(l(I)||typeof I=="string"){var K=[];I=I.length;for(var Q=0;Q<I;Q++)K.push(Q);return K}K=[],Q=0;for(const re in I)K[Q++]=re;return K}}}function rn(I,K){if(I.forEach&&typeof I.forEach=="function")I.forEach(K,void 0);else if(l(I)||typeof I=="string")Array.prototype.forEach.call(I,K,void 0);else for(var Q=Er(I),re=dr(I),me=re.length,ve=0;ve<me;ve++)K.call(void 0,re[ve],Q&&Q[ve],I)}var Qn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ui(I,K){if(I){I=I.split("&");for(var Q=0;Q<I.length;Q++){var re=I[Q].indexOf("="),me=null;if(0<=re){var ve=I[Q].substring(0,re);me=I[Q].substring(re+1)}else ve=I[Q];K(ve,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function nn(I){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,I instanceof nn){this.h=I.h,Tt(this,I.j),this.o=I.o,this.g=I.g,yt(this,I.s),this.l=I.l;var K=I.i,Q=new Jn;Q.i=K.i,K.g&&(Q.g=new Map(K.g),Q.h=K.h),On(this,Q),this.m=I.m}else I&&(K=String(I).match(Qn))?(this.h=!1,Tt(this,K[1]||"",!0),this.o=mr(K[2]||""),this.g=mr(K[3]||"",!0),yt(this,K[4]),this.l=mr(K[5]||"",!0),On(this,K[6]||"",!0),this.m=mr(K[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}nn.prototype.toString=function(){var I=[],K=this.j;K&&I.push(Kr(K,$i,!0),":");var Q=this.g;return(Q||K=="file")&&(I.push("//"),(K=this.o)&&I.push(Kr(K,$i,!0),"@"),I.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Q=this.s,Q!=null&&I.push(":",String(Q))),(Q=this.l)&&(this.g&&Q.charAt(0)!="/"&&I.push("/"),I.push(Kr(Q,Q.charAt(0)=="/"?Hi:da,!0))),(Q=this.i.toString())&&I.push("?",Q),(Q=this.m)&&I.push("#",Kr(Q,uc)),I.join("")};function Dr(I){return new nn(I)}function Tt(I,K,Q){I.j=Q?mr(K,!0):K,I.j&&(I.j=I.j.replace(/:$/,""))}function yt(I,K){if(K){if(K=Number(K),isNaN(K)||0>K)throw Error("Bad port number "+K);I.s=K}else I.s=null}function On(I,K,Q){K instanceof Jn?(I.i=K,ha(I.i,I.h)):(Q||(K=Kr(K,Zn)),I.i=new Jn(K,I.h))}function Mt(I,K,Q){I.i.set(K,Q)}function pi(I){return Mt(I,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),I}function mr(I,K){return I?K?decodeURI(I.replace(/%25/g,"%2525")):decodeURIComponent(I):""}function Kr(I,K,Q){return typeof I=="string"?(I=encodeURI(I).replace(K,Yn),Q&&(I=I.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I):null}function Yn(I){return I=I.charCodeAt(0),"%"+(I>>4&15).toString(16)+(I&15).toString(16)}var $i=/[#\/\?@]/g,da=/[#\?:]/g,Hi=/[#\?]/g,Zn=/[#\?@]/g,uc=/#/g;function Jn(I,K){this.h=this.g=null,this.i=I||null,this.j=!!K}function Nn(I){I.g||(I.g=new Map,I.h=0,I.i&&Ui(I.i,function(K,Q){I.add(decodeURIComponent(K.replace(/\+/g," ")),Q)}))}r=Jn.prototype,r.add=function(I,K){Nn(this),this.i=null,I=Dn(this,I);var Q=this.g.get(I);return Q||this.g.set(I,Q=[]),Q.push(K),this.h+=1,this};function Is(I,K){Nn(I),K=Dn(I,K),I.g.has(K)&&(I.i=null,I.h-=I.g.get(K).length,I.g.delete(K))}function Rs(I,K){return Nn(I),K=Dn(I,K),I.g.has(K)}r.forEach=function(I,K){Nn(this),this.g.forEach(function(Q,re){Q.forEach(function(me){I.call(K,me,re,this)},this)},this)},r.na=function(){Nn(this);const I=Array.from(this.g.values()),K=Array.from(this.g.keys()),Q=[];for(let re=0;re<K.length;re++){const me=I[re];for(let ve=0;ve<me.length;ve++)Q.push(K[re])}return Q},r.V=function(I){Nn(this);let K=[];if(typeof I=="string")Rs(this,I)&&(K=K.concat(this.g.get(Dn(this,I))));else{I=Array.from(this.g.values());for(let Q=0;Q<I.length;Q++)K=K.concat(I[Q])}return K},r.set=function(I,K){return Nn(this),this.i=null,I=Dn(this,I),Rs(this,I)&&(this.h-=this.g.get(I).length),this.g.set(I,[K]),this.h+=1,this},r.get=function(I,K){return I?(I=this.V(I),0<I.length?String(I[0]):K):K};function yo(I,K,Q){Is(I,K),0<Q.length&&(I.i=null,I.g.set(Dn(I,K),b(Q)),I.h+=Q.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const I=[],K=Array.from(this.g.keys());for(var Q=0;Q<K.length;Q++){var re=K[Q];const ve=encodeURIComponent(String(re)),De=this.V(re);for(re=0;re<De.length;re++){var me=ve;De[re]!==""&&(me+="="+encodeURIComponent(String(De[re]))),I.push(me)}}return this.i=I.join("&")};function Dn(I,K){return K=String(K),I.j&&(K=K.toLowerCase()),K}function ha(I,K){K&&!I.j&&(Nn(I),I.i=null,I.g.forEach(function(Q,re){var me=re.toLowerCase();re!=me&&(Is(this,re),yo(this,me,Q))},I)),I.j=K}function B5(I,K){const Q=new ce;if(c.Image){const re=new Image;re.onload=h(qi,Q,"TestLoadImage: loaded",!0,K,re),re.onerror=h(qi,Q,"TestLoadImage: error",!1,K,re),re.onabort=h(qi,Q,"TestLoadImage: abort",!1,K,re),re.ontimeout=h(qi,Q,"TestLoadImage: timeout",!1,K,re),c.setTimeout(function(){re.ontimeout&&re.ontimeout()},1e4),re.src=I}else K(!1)}function V5(I,K){const Q=new ce,re=new AbortController,me=setTimeout(()=>{re.abort(),qi(Q,"TestPingServer: timeout",!1,K)},1e4);fetch(I,{signal:re.signal}).then(ve=>{clearTimeout(me),ve.ok?qi(Q,"TestPingServer: ok",!0,K):qi(Q,"TestPingServer: server error",!1,K)}).catch(()=>{clearTimeout(me),qi(Q,"TestPingServer: error",!1,K)})}function qi(I,K,Q,re,me){try{me&&(me.onload=null,me.onerror=null,me.onabort=null,me.ontimeout=null),re(Q)}catch{}}function z5(){this.g=new ze}function U5(I,K,Q){const re=Q||"";try{rn(I,function(me,ve){let De=me;o(me)&&(De=Fe(me)),K.push(re+ve+"="+encodeURIComponent(De))})}catch(me){throw K.push(re+"type="+encodeURIComponent("_badmap")),me}}function dc(I){this.l=I.Ub||null,this.j=I.eb||!1}g(dc,bt),dc.prototype.g=function(){return new hc(this.l,this.j)},dc.prototype.i=function(I){return function(){return I}}({});function hc(I,K){ke.call(this),this.D=I,this.o=K,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(hc,ke),r=hc.prototype,r.open=function(I,K){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=I,this.A=K,this.readyState=1,wo(this)},r.send=function(I){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const K={headers:this.u,method:this.B,credentials:this.m,cache:void 0};I&&(K.body=I),(this.D||c).fetch(new Request(this.A,K)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xo(this)),this.readyState=0},r.Sa=function(I){if(this.g&&(this.l=I,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=I.headers,this.readyState=2,wo(this)),this.g&&(this.readyState=3,wo(this),this.g)))if(this.responseType==="arraybuffer")I.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in I){if(this.j=I.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;W0(this)}else I.text().then(this.Ra.bind(this),this.ga.bind(this))};function W0(I){I.j.read().then(I.Pa.bind(I)).catch(I.ga.bind(I))}r.Pa=function(I){if(this.g){if(this.o&&I.value)this.response.push(I.value);else if(!this.o){var K=I.value?I.value:new Uint8Array(0);(K=this.v.decode(K,{stream:!I.done}))&&(this.response=this.responseText+=K)}I.done?xo(this):wo(this),this.readyState==3&&W0(this)}},r.Ra=function(I){this.g&&(this.response=this.responseText=I,xo(this))},r.Qa=function(I){this.g&&(this.response=I,xo(this))},r.ga=function(){this.g&&xo(this)};function xo(I){I.readyState=4,I.l=null,I.j=null,I.v=null,wo(I)}r.setRequestHeader=function(I,K){this.u.append(I,K)},r.getResponseHeader=function(I){return this.h&&this.h.get(I.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const I=[],K=this.h.entries();for(var Q=K.next();!Q.done;)Q=Q.value,I.push(Q[0]+": "+Q[1]),Q=K.next();return I.join(`\r
`)};function wo(I){I.onreadystatechange&&I.onreadystatechange.call(I)}Object.defineProperty(hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(I){this.m=I?"include":"same-origin"}});function G0(I){let K="";return D(I,function(Q,re){K+=re,K+=":",K+=Q,K+=`\r
`}),K}function nh(I,K,Q){e:{for(re in Q){var re=!1;break e}re=!0}re||(Q=G0(Q),typeof I=="string"?Q!=null&&encodeURIComponent(String(Q)):Mt(I,K,Q))}function ar(I){ke.call(this),this.headers=new Map,this.o=I||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(ar,ke);var $5=/^https?$/i,H5=["POST","PUT"];r=ar.prototype,r.Ha=function(I){this.J=I},r.ea=function(I,K,Q,re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+I);K=K?K.toUpperCase():"GET",this.D=I,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ge.g(),this.v=this.o?At(this.o):At(Ge),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(K,String(I),!0),this.B=!1}catch(ve){K0(this,ve);return}if(I=Q||"",Q=new Map(this.headers),re)if(Object.getPrototypeOf(re)===Object.prototype)for(var me in re)Q.set(me,re[me]);else if(typeof re.keys=="function"&&typeof re.get=="function")for(const ve of re.keys())Q.set(ve,re.get(ve));else throw Error("Unknown input type for opt_headers: "+String(re));re=Array.from(Q.keys()).find(ve=>ve.toLowerCase()=="content-type"),me=c.FormData&&I instanceof c.FormData,!(0<=Array.prototype.indexOf.call(H5,K,void 0))||re||me||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ve,De]of Q)this.g.setRequestHeader(ve,De);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Y0(this),this.u=!0,this.g.send(I),this.u=!1}catch(ve){K0(this,ve)}};function K0(I,K){I.h=!1,I.g&&(I.j=!0,I.g.abort(),I.j=!1),I.l=K,I.m=5,X0(I),fc(I)}function X0(I){I.A||(I.A=!0,Ne(I,"complete"),Ne(I,"error"))}r.abort=function(I){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=I||7,Ne(this,"complete"),Ne(this,"abort"),fc(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fc(this,!0)),ar.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Q0(this):this.bb())},r.bb=function(){Q0(this)};function Q0(I){if(I.h&&typeof a<"u"&&(!I.v[1]||mi(I)!=4||I.Z()!=2)){if(I.u&&mi(I)==4)$e(I.Ea,0,I);else if(Ne(I,"readystatechange"),mi(I)==4){I.h=!1;try{const De=I.Z();e:switch(De){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var K=!0;break e;default:K=!1}var Q;if(!(Q=K)){var re;if(re=De===0){var me=String(I.D).match(Qn)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),re=!$5.test(me?me.toLowerCase():"")}Q=re}if(Q)Ne(I,"complete"),Ne(I,"success");else{I.m=6;try{var ve=2<mi(I)?I.g.statusText:""}catch{ve=""}I.l=ve+" ["+I.Z()+"]",X0(I)}}finally{fc(I)}}}}function fc(I,K){if(I.g){Y0(I);const Q=I.g,re=I.v[0]?()=>{}:null;I.g=null,I.v=null,K||Ne(I,"ready");try{Q.onreadystatechange=re}catch{}}}function Y0(I){I.I&&(c.clearTimeout(I.I),I.I=null)}r.isActive=function(){return!!this.g};function mi(I){return I.g?I.g.readyState:0}r.Z=function(){try{return 2<mi(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(I){if(this.g){var K=this.g.responseText;return I&&K.indexOf(I)==0&&(K=K.substring(I.length)),qe(K)}};function Z0(I){try{if(!I.g)return null;if("response"in I.g)return I.g.response;switch(I.H){case"":case"text":return I.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in I.g)return I.g.mozResponseArrayBuffer}return null}catch{return null}}function q5(I){const K={};I=(I.g&&2<=mi(I)&&I.g.getAllResponseHeaders()||"").split(`\r
`);for(let re=0;re<I.length;re++){if(v(I[re]))continue;var Q=$(I[re]);const me=Q[0];if(Q=Q[1],typeof Q!="string")continue;Q=Q.trim();const ve=K[me]||[];K[me]=ve,ve.push(Q)}L(K,function(re){return re.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _o(I,K,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[I]||K}function J0(I){this.Aa=0,this.i=[],this.j=new ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_o("failFast",!1,I),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_o("baseRetryDelayMs",5e3,I),this.cb=_o("retryDelaySeedMs",1e4,I),this.Wa=_o("forwardChannelMaxRetries",2,I),this.wa=_o("forwardChannelRequestTimeoutMs",2e4,I),this.pa=I&&I.xmlHttpFactory||void 0,this.Xa=I&&I.Tb||void 0,this.Ca=I&&I.useFetchStreams||!1,this.L=void 0,this.J=I&&I.supportsCrossDomainXhr||!1,this.K="",this.h=new ut(I&&I.concurrentRequestLimit),this.Da=new z5,this.P=I&&I.fastHandshake||!1,this.O=I&&I.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=I&&I.Rb||!1,I&&I.xa&&this.j.xa(),I&&I.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&I&&I.detectBufferingProxy||!1,this.ja=void 0,I&&I.longPollingTimeout&&0<I.longPollingTimeout&&(this.ja=I.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=J0.prototype,r.la=8,r.G=1,r.connect=function(I,K,Q,re){at(0),this.W=I,this.H=K||{},Q&&re!==void 0&&(this.H.OSID=Q,this.H.OAID=re),this.F=this.X,this.I=lg(this,null,this.W),mc(this)};function ih(I){if(eg(I),I.G==3){var K=I.U++,Q=Dr(I.I);if(Mt(Q,"SID",I.K),Mt(Q,"RID",K),Mt(Q,"TYPE","terminate"),So(I,Q),K=new Qe(I,I.j,K),K.L=2,K.v=pi(Dr(Q)),Q=!1,c.navigator&&c.navigator.sendBeacon)try{Q=c.navigator.sendBeacon(K.v.toString(),"")}catch{}!Q&&c.Image&&(new Image().src=K.v,Q=!0),Q||(K.g=cg(K.j,null),K.g.ea(K.v)),K.F=Date.now(),pe(K)}og(I)}function pc(I){I.g&&(ah(I),I.g.cancel(),I.g=null)}function eg(I){pc(I),I.u&&(c.clearTimeout(I.u),I.u=null),gc(I),I.h.cancel(),I.s&&(typeof I.s=="number"&&c.clearTimeout(I.s),I.s=null)}function mc(I){if(!pt(I.h)&&!I.s){I.s=!0;var K=I.Ga;S||T(),_||(S(),_=!0),k.add(K,I),I.B=0}}function W5(I,K){return Ze(I.h)>=I.h.j-(I.s?1:0)?!1:I.s?(I.i=K.D.concat(I.i),!0):I.G==1||I.G==2||I.B>=(I.Va?0:I.Wa)?!1:(I.s=it(d(I.Ga,I,K),ag(I,I.B)),I.B++,!0)}r.Ga=function(I){if(this.s)if(this.s=null,this.G==1){if(!I){this.U=Math.floor(1e5*Math.random()),I=this.U++;const me=new Qe(this,this.j,I);let ve=this.o;if(this.S&&(ve?(ve=C(ve),F(ve,this.S)):ve=this.S),this.m!==null||this.O||(me.H=ve,ve=null),this.P)e:{for(var K=0,Q=0;Q<this.i.length;Q++){t:{var re=this.i[Q];if("__data__"in re.map&&(re=re.map.__data__,typeof re=="string")){re=re.length;break t}re=void 0}if(re===void 0)break;if(K+=re,4096<K){K=Q;break e}if(K===4096||Q===this.i.length-1){K=Q+1;break e}}K=1e3}else K=1e3;K=rg(this,me,K),Q=Dr(this.I),Mt(Q,"RID",I),Mt(Q,"CVER",22),this.D&&Mt(Q,"X-HTTP-Session-Id",this.D),So(this,Q),ve&&(this.O?K="headers="+encodeURIComponent(String(G0(ve)))+"&"+K:this.m&&nh(Q,this.m,ve)),Rt(this.h,me),this.Ua&&Mt(Q,"TYPE","init"),this.P?(Mt(Q,"$req",K),Mt(Q,"SID","null"),me.T=!0,Zt(me,Q,null)):Zt(me,Q,K),this.G=2}}else this.G==3&&(I?tg(this,I):this.i.length==0||pt(this.h)||tg(this))};function tg(I,K){var Q;K?Q=K.l:Q=I.U++;const re=Dr(I.I);Mt(re,"SID",I.K),Mt(re,"RID",Q),Mt(re,"AID",I.T),So(I,re),I.m&&I.o&&nh(re,I.m,I.o),Q=new Qe(I,I.j,Q,I.B+1),I.m===null&&(Q.H=I.o),K&&(I.i=K.D.concat(I.i)),K=rg(I,Q,1e3),Q.I=Math.round(.5*I.wa)+Math.round(.5*I.wa*Math.random()),Rt(I.h,Q),Zt(Q,re,K)}function So(I,K){I.H&&D(I.H,function(Q,re){Mt(K,re,Q)}),I.l&&rn({},function(Q,re){Mt(K,re,Q)})}function rg(I,K,Q){Q=Math.min(I.i.length,Q);var re=I.l?d(I.l.Na,I.l,I):null;e:{var me=I.i;let ve=-1;for(;;){const De=["count="+Q];ve==-1?0<Q?(ve=me[0].g,De.push("ofs="+ve)):ve=0:De.push("ofs="+ve);let Ht=!0;for(let jr=0;jr<Q;jr++){let Lt=me[jr].g;const Fr=me[jr].map;if(Lt-=ve,0>Lt)ve=Math.max(0,me[jr].g-100),Ht=!1;else try{U5(Fr,De,"req"+Lt+"_")}catch{re&&re(Fr)}}if(Ht){re=De.join("&");break e}}}return I=I.i.splice(0,Q),K.D=I,re}function ng(I){if(!I.g&&!I.u){I.Y=1;var K=I.Fa;S||T(),_||(S(),_=!0),k.add(K,I),I.v=0}}function sh(I){return I.g||I.u||3<=I.v?!1:(I.Y++,I.u=it(d(I.Fa,I),ag(I,I.v)),I.v++,!0)}r.Fa=function(){if(this.u=null,ig(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var I=2*this.R;this.j.info("BP detection timer enabled: "+I),this.A=it(d(this.ab,this),I)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),pc(this),ig(this))};function ah(I){I.A!=null&&(c.clearTimeout(I.A),I.A=null)}function ig(I){I.g=new Qe(I,I.j,"rpc",I.Y),I.m===null&&(I.g.H=I.o),I.g.O=0;var K=Dr(I.qa);Mt(K,"RID","rpc"),Mt(K,"SID",I.K),Mt(K,"AID",I.T),Mt(K,"CI",I.F?"0":"1"),!I.F&&I.ja&&Mt(K,"TO",I.ja),Mt(K,"TYPE","xmlhttp"),So(I,K),I.m&&I.o&&nh(K,I.m,I.o),I.L&&(I.g.I=I.L);var Q=I.g;I=I.ia,Q.L=1,Q.v=pi(Dr(K)),Q.m=null,Q.P=!0,sr(Q,I)}r.Za=function(){this.C!=null&&(this.C=null,pc(this),sh(this),at(19))};function gc(I){I.C!=null&&(c.clearTimeout(I.C),I.C=null)}function sg(I,K){var Q=null;if(I.g==K){gc(I),ah(I),I.g=null;var re=2}else if(It(I.h,K))Q=K.D,Ft(I.h,K),re=1;else return;if(I.G!=0){if(K.o)if(re==1){Q=K.m?K.m.length:0,K=Date.now()-K.F;var me=I.B;re=Xe(),Ne(re,new Dt(re,Q)),mc(I)}else ng(I);else if(me=K.s,me==3||me==0&&0<K.X||!(re==1&&W5(I,K)||re==2&&sh(I)))switch(Q&&0<Q.length&&(K=I.h,K.i=K.i.concat(Q)),me){case 1:Ps(I,5);break;case 4:Ps(I,10);break;case 3:Ps(I,6);break;default:Ps(I,2)}}}function ag(I,K){let Q=I.Ta+Math.floor(Math.random()*I.cb);return I.isActive()||(Q*=2),Q*K}function Ps(I,K){if(I.j.info("Error code "+K),K==2){var Q=d(I.fb,I),re=I.Xa;const me=!re;re=new nn(re||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Tt(re,"https"),pi(re),me?B5(re.toString(),Q):V5(re.toString(),Q)}else at(2);I.G=0,I.l&&I.l.sa(K),og(I),eg(I)}r.fb=function(I){I?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function og(I){if(I.G=0,I.ka=[],I.l){const K=qt(I.h);(K.length!=0||I.i.length!=0)&&(m(I.ka,K),m(I.ka,I.i),I.h.i.length=0,b(I.i),I.i.length=0),I.l.ra()}}function lg(I,K,Q){var re=Q instanceof nn?Dr(Q):new nn(Q);if(re.g!="")K&&(re.g=K+"."+re.g),yt(re,re.s);else{var me=c.location;re=me.protocol,K=K?K+"."+me.hostname:me.hostname,me=+me.port;var ve=new nn(null);re&&Tt(ve,re),K&&(ve.g=K),me&&yt(ve,me),Q&&(ve.l=Q),re=ve}return Q=I.D,K=I.ya,Q&&K&&Mt(re,Q,K),Mt(re,"VER",I.la),So(I,re),re}function cg(I,K,Q){if(K&&!I.J)throw Error("Can't create secondary domain capable XhrIo object.");return K=I.Ca&&!I.pa?new ar(new dc({eb:Q})):new ar(I.pa),K.Ha(I.J),K}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ug(){}r=ug.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function bc(){}bc.prototype.g=function(I,K){return new mn(I,K)};function mn(I,K){ke.call(this),this.g=new J0(K),this.l=I,this.h=K&&K.messageUrlParams||null,I=K&&K.messageHeaders||null,K&&K.clientProtocolHeaderRequired&&(I?I["X-Client-Protocol"]="webchannel":I={"X-Client-Protocol":"webchannel"}),this.g.o=I,I=K&&K.initMessageHeaders||null,K&&K.messageContentType&&(I?I["X-WebChannel-Content-Type"]=K.messageContentType:I={"X-WebChannel-Content-Type":K.messageContentType}),K&&K.va&&(I?I["X-WebChannel-Client-Profile"]=K.va:I={"X-WebChannel-Client-Profile":K.va}),this.g.S=I,(I=K&&K.Sb)&&!v(I)&&(this.g.m=I),this.v=K&&K.supportsCrossDomainXhr||!1,this.u=K&&K.sendRawJson||!1,(K=K&&K.httpSessionIdParam)&&!v(K)&&(this.g.D=K,I=this.h,I!==null&&K in I&&(I=this.h,K in I&&delete I[K])),this.j=new fa(this)}g(mn,ke),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){ih(this.g)},mn.prototype.o=function(I){var K=this.g;if(typeof I=="string"){var Q={};Q.__data__=I,I=Q}else this.u&&(Q={},Q.__data__=Fe(I),I=Q);K.i.push(new wt(K.Ya++,I)),K.G==3&&mc(K)},mn.prototype.N=function(){this.g.l=null,delete this.j,ih(this.g),delete this.g,mn.aa.N.call(this)};function dg(I){gt.call(this),I.__headers__&&(this.headers=I.__headers__,this.statusCode=I.__status__,delete I.__headers__,delete I.__status__);var K=I.__sm__;if(K){e:{for(const Q in K){I=Q;break e}I=void 0}(this.i=I)&&(I=this.i,K=K!==null&&I in K?K[I]:void 0),this.data=K}else this.data=I}g(dg,gt);function hg(){nt.call(this),this.status=1}g(hg,nt);function fa(I){this.g=I}g(fa,ug),fa.prototype.ua=function(){Ne(this.g,"a")},fa.prototype.ta=function(I){Ne(this.g,new dg(I))},fa.prototype.sa=function(I){Ne(this.g,new hg)},fa.prototype.ra=function(){Ne(this.g,"b")},bc.prototype.createWebChannel=bc.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,gw=function(){return new bc},mw=function(){return Xe()},pw=St,sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},et.NO_ERROR=0,et.TIMEOUT=8,et.HTTP_ERROR=6,ou=et,Ye.COMPLETE="complete",fw=Ye,Ke.EventType=vt,vt.OPEN="a",vt.CLOSE="b",vt.ERROR="c",vt.MESSAGE="d",ke.prototype.listen=ke.prototype.K,qo=Ke,ar.prototype.listenOnce=ar.prototype.L,ar.prototype.getLastError=ar.prototype.Ka,ar.prototype.getLastErrorCode=ar.prototype.Ba,ar.prototype.getStatus=ar.prototype.Z,ar.prototype.getResponseJson=ar.prototype.Oa,ar.prototype.getResponseText=ar.prototype.oa,ar.prototype.send=ar.prototype.ea,ar.prototype.setWithCredentials=ar.prototype.Ha,hw=ar}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const l1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ur=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Ur.UNAUTHENTICATED=new Ur(null),Ur.GOOGLE_CREDENTIALS=new Ur("google-credentials-uid"),Ur.FIRST_PARTY=new Ur("first-party-uid"),Ur.MOCK_USER=new Ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new jd("@firebase/firestore");function Ro(){return Zs.logLevel}function We(r,...t){if(Zs.logLevel<=Ct.DEBUG){const e=t.map(Hm);Zs.debug(`Firestore (${mo}): ${r}`,...e)}}function Mi(r,...t){if(Zs.logLevel<=Ct.ERROR){const e=t.map(Hm);Zs.error(`Firestore (${mo}): ${r}`,...e)}}function Ja(r,...t){if(Zs.logLevel<=Ct.WARN){const e=t.map(Hm);Zs.warn(`Firestore (${mo}): ${r}`,...e)}}function Hm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(r="Unexpected state"){const t=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: `+r;throw Mi(t),new Error(t)}function $t(r,t){r||ct()}function ht(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends Xn{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class k9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ur.UNAUTHENTICATED))}shutdown(){}}class N9{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class E9{constructor(t){this.t=t,this.currentUser=Ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){$t(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,e(l)):Promise.resolve();let s=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ei,t.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},c=l=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ei)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?($t(typeof n.accessToken=="string"),new bw(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string"),new Ur(t)}}class j9{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=Ur.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class T9{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new j9(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C9{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A9{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){$t(this.o===void 0);const n=s=>{s.error!=null&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,We("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>n(s))};const i=s=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?($t(typeof e.token=="string"),this.R=e.token,new C9(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<r;n++)e[n]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=I9(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<e&&(n+=t.charAt(i[s]%t.length))}return n}}function Bt(r,t){return r<t?-1:r>t?1:0}function eo(r,t,e){return r.length===t.length&&r.every((n,i)=>e(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ve(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ve(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ve(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ve(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return vr.fromMillis(Date.now())}static fromDate(t){return vr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new vr(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new dt(t)}static min(){return new dt(new vr(0,0))}static max(){return new dt(new vr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(t,e,n){e===void 0?e=0:e>t.length&&ct(),n===void 0?n=t.length-e:n>t.length-e&&ct(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return Ml.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ml?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const s=t.get(i),a=e.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Xt extends Ml{construct(t,e,n){return new Xt(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Ve(_e.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(i=>i.length>0))}return new Xt(e)}static emptyPath(){return new Xt([])}}const R9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ir extends Ml{construct(t,e,n){return new Ir(t,e,n)}static isValidIdentifier(t){return R9.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ir.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ir(["__name__"])}static fromServerFormat(t){const e=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Ve(_e.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let a=!1;for(;i<t.length;){const c=t[i];if(c==="\\"){if(i+1===t.length)throw new Ve(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ve(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(n+=c,i++):(s(),i++)}if(s(),a)throw new Ve(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ir(e)}static emptyPath(){return new Ir([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.path=t}static fromPath(t){return new tt(Xt.fromString(t))}static fromName(t){return new tt(Xt.fromString(t).popFirst(5))}static empty(){return new tt(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Xt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Xt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new tt(new Xt(t.slice()))}}function P9(r,t){const e=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=dt.fromTimestamp(n===1e9?new vr(e+1,0):new vr(e,n));return new ws(i,tt.empty(),t)}function M9(r){return new ws(r.readTime,r.key,-1)}class ws{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new ws(dt.min(),tt.empty(),-1)}static max(){return new ws(dt.max(),tt.empty(),-1)}}function O9(r,t){let e=r.readTime.compareTo(t.readTime);return e!==0?e:(e=tt.comparator(r.documentKey,t.documentKey),e!==0?e:Bt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(r){if(r.code!==_e.FAILED_PRECONDITION||r.message!==D9)throw r;We("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new je((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(e,s).next(n,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof je?e:je.resolve(e)}catch(e){return je.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):je.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):je.reject(e)}static resolve(t){return new je((e,n)=>{e(t)})}static reject(t){return new je((e,n)=>{n(t)})}static waitFor(t){return new je((e,n)=>{let i=0,s=0,a=!1;t.forEach(c=>{++i,c.next(()=>{++s,a&&s===i&&e()},l=>n(l))}),a=!0,s===i&&e()})}static or(t){let e=je.resolve(!1);for(const n of t)e=e.next(i=>i?je.resolve(i):n());return e}static forEach(t,e){const n=[];return t.forEach((i,s)=>{n.push(e.call(this,i,s))}),this.waitFor(n)}static mapArray(t,e){return new je((n,i)=>{const s=t.length,a=new Array(s);let c=0;for(let l=0;l<s;l++){const o=l;e(t[o]).next(u=>{a[o]=u,++c,c===s&&n(a)},u=>i(u))}})}static doWhile(t,e){return new je((n,i)=>{const s=()=>{t()===!0?e().next(()=>{s()},i):n()};s()})}}function L9(r){const t=r.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function tc(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=n=>this.ie(n),this.se=n=>e.writeSequenceNumber(n))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}qm.oe=-1;function Id(r){return r==null}function Ku(r){return r===0&&1/r==-1/0}function B9(r){return typeof r=="number"&&Number.isInteger(r)&&!Ku(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function la(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function yw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,e){this.comparator=t,this.root=e||Ar.EMPTY}insert(t,e){return new ir(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ar.BLACK,null,null))}remove(t){return new ir(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ar.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lc(this.root,t,this.comparator,!0)}}class Lc{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?n(t.key,e):1,e&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ar{constructor(t,e,n,i,s){this.key=t,this.value=e,this.color=n??Ar.RED,this.left=i??Ar.EMPTY,this.right=s??Ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,s){return new Ar(t??this.key,e??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const s=n(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,n),null):s===0?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ar.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),e(t,i.key)===0){if(i.right.isEmpty())return Ar.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const t=this.left.check();if(t!==this.right.check())throw ct();return t+(this.isRed()?0:1)}}Ar.EMPTY=null,Ar.RED=!0,Ar.BLACK=!1;Ar.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(t,e,n,i,s){return this}insert(t,e,n){return new Ar(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t){this.comparator=t,this.data=new ir(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new u1(this.data.getIterator())}getIteratorFrom(t){return new u1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof Pr)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Pr(this.comparator);return e.data=t,e}}class u1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.fields=t,t.sort(Ir.comparator)}static empty(){return new vn([])}unionWith(t){let e=new Pr(Ir.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new vn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,(e,n)=>e.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xw("Invalid base64 string: "+s):s}}(t);return new Or(e)}static fromUint8Array(t){const e=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(t);return new Or(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Or.EMPTY_BYTE_STRING=new Or("");const V9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(r){if($t(!!r),typeof r=="string"){let t=0;const e=V9.exec(r);if($t(!!e),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:lr(r.seconds),nanos:lr(r.nanos)}}function lr(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Js(r){return typeof r=="string"?Or.fromBase64String(r):Or.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(r){var t,e;return((e=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="server_timestamp"}function Gm(r){const t=r.mapValue.fields.__previous_value__;return Wm(t)?Gm(t):t}function Ol(r){const t=_s(r.mapValue.fields.__local_write_time__.timestampValue);return new vr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(t,e,n,i,s,a,c,l,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=o}}class Dl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Dl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc={mapValue:{}};function ea(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Wm(r)?4:$9(r)?9007199254740991:U9(r)?10:11:ct()}function hi(r,t){if(r===t)return!0;const e=ea(r);if(e!==ea(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ol(r).isEqual(Ol(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=_s(i.timestampValue),c=_s(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(i,s){return Js(i.bytesValue).isEqual(Js(s.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(i,s){return lr(i.geoPointValue.latitude)===lr(s.geoPointValue.latitude)&&lr(i.geoPointValue.longitude)===lr(s.geoPointValue.longitude)}(r,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return lr(i.integerValue)===lr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=lr(i.doubleValue),c=lr(s.doubleValue);return a===c?Ku(a)===Ku(c):isNaN(a)&&isNaN(c)}return!1}(r,t);case 9:return eo(r.arrayValue.values||[],t.arrayValue.values||[],hi);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},c=s.mapValue.fields||{};if(c1(a)!==c1(c))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(c[l]===void 0||!hi(a[l],c[l])))return!1;return!0}(r,t);default:return ct()}}function Fl(r,t){return(r.values||[]).find(e=>hi(e,t))!==void 0}function to(r,t){if(r===t)return 0;const e=ea(r),n=ea(t);if(e!==n)return Bt(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return Bt(r.booleanValue,t.booleanValue);case 2:return function(s,a){const c=lr(s.integerValue||s.doubleValue),l=lr(a.integerValue||a.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(r,t);case 3:return d1(r.timestampValue,t.timestampValue);case 4:return d1(Ol(r),Ol(t));case 5:return Bt(r.stringValue,t.stringValue);case 6:return function(s,a){const c=Js(s),l=Js(a);return c.compareTo(l)}(r.bytesValue,t.bytesValue);case 7:return function(s,a){const c=s.split("/"),l=a.split("/");for(let o=0;o<c.length&&o<l.length;o++){const u=Bt(c[o],l[o]);if(u!==0)return u}return Bt(c.length,l.length)}(r.referenceValue,t.referenceValue);case 8:return function(s,a){const c=Bt(lr(s.latitude),lr(a.latitude));return c!==0?c:Bt(lr(s.longitude),lr(a.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return h1(r.arrayValue,t.arrayValue);case 10:return function(s,a){var c,l,o,u;const p=s.fields||{},d=a.fields||{},h=(c=p.value)===null||c===void 0?void 0:c.arrayValue,g=(l=d.value)===null||l===void 0?void 0:l.arrayValue,b=Bt(((o=h==null?void 0:h.values)===null||o===void 0?void 0:o.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return b!==0?b:h1(h,g)}(r.mapValue,t.mapValue);case 11:return function(s,a){if(s===Bc.mapValue&&a===Bc.mapValue)return 0;if(s===Bc.mapValue)return 1;if(a===Bc.mapValue)return-1;const c=s.fields||{},l=Object.keys(c),o=a.fields||{},u=Object.keys(o);l.sort(),u.sort();for(let p=0;p<l.length&&p<u.length;++p){const d=Bt(l[p],u[p]);if(d!==0)return d;const h=to(c[l[p]],o[u[p]]);if(h!==0)return h}return Bt(l.length,u.length)}(r.mapValue,t.mapValue);default:throw ct()}}function d1(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Bt(r,t);const e=_s(r),n=_s(t),i=Bt(e.seconds,n.seconds);return i!==0?i:Bt(e.nanos,n.nanos)}function h1(r,t){const e=r.values||[],n=t.values||[];for(let i=0;i<e.length&&i<n.length;++i){const s=to(e[i],n[i]);if(s)return s}return Bt(e.length,n.length)}function ro(r){return ap(r)}function ap(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(e){const n=_s(e);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(e){return Js(e).toBase64()}(r.bytesValue):"referenceValue"in r?function(e){return tt.fromName(e).toString()}(r.referenceValue):"geoPointValue"in r?function(e){return`geo(${e.latitude},${e.longitude})`}(r.geoPointValue):"arrayValue"in r?function(e){let n="[",i=!0;for(const s of e.values||[])i?i=!1:n+=",",n+=ap(s);return n+"]"}(r.arrayValue):"mapValue"in r?function(e){const n=Object.keys(e.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${ap(e.fields[a])}`;return i+"}"}(r.mapValue):ct()}function f1(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function op(r){return!!r&&"integerValue"in r}function Km(r){return!!r&&"arrayValue"in r}function p1(r){return!!r&&"nullValue"in r}function m1(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function lu(r){return!!r&&"mapValue"in r}function U9(r){var t,e;return((e=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="__vector__"}function sl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return la(r.mapValue.fields,(e,n)=>t.mapValue.fields[e]=sl(n)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=sl(r.arrayValue.values[e]);return t}return Object.assign({},r)}function $9(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.value=t}static empty(){return new an({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!lu(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=sl(e)}setAll(t){let e=Ir.emptyPath(),n={},i=[];t.forEach((a,c)=>{if(!e.isImmediateParentOf(c)){const l=this.getFieldsMap(e);this.applyChanges(l,n,i),n={},i=[],e=c.popLast()}a?n[c.lastSegment()]=sl(a):i.push(c.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,n,i)}delete(t){const e=this.field(t.popLast());lu(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return hi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];lu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){la(e,(i,s)=>t[i]=s);for(const i of n)delete t[i]}clone(){return new an(sl(this.value))}}function ww(r){const t=[];return la(r.fields,(e,n)=>{const i=new Ir([e]);if(lu(n)){const s=ww(n.mapValue).fields;if(s.length===0)t.push(i);else for(const a of s)t.push(i.child(a))}else t.push(i)}),new vn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t,e,n,i,s,a,c){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(t){return new Hr(t,0,dt.min(),dt.min(),dt.min(),an.empty(),0)}static newFoundDocument(t,e,n,i){return new Hr(t,1,e,dt.min(),n,i,0)}static newNoDocument(t,e){return new Hr(t,2,e,dt.min(),dt.min(),an.empty(),0)}static newUnknownDocument(t,e){return new Hr(t,3,e,dt.min(),dt.min(),an.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Hr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,e){this.position=t,this.inclusive=e}}function g1(r,t,e){let n=0;for(let i=0;i<r.position.length;i++){const s=t[i],a=r.position[i];if(s.field.isKeyField()?n=tt.comparator(tt.fromName(a.referenceValue),e.key):n=to(a,e.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function b1(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!hi(r.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t,e="asc"){this.field=t,this.dir=e}}function H9(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{}class pr extends _w{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,n):new W9(t,e,n):e==="array-contains"?new X9(t,n):e==="in"?new Q9(t,n):e==="not-in"?new Y9(t,n):e==="array-contains-any"?new Z9(t,n):new pr(t,e,n)}static createKeyFieldInFilter(t,e,n){return e==="in"?new G9(t,n):new K9(t,n)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(to(e,this.value)):e!==null&&ea(this.value)===ea(e)&&this.matchesComparison(to(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends _w{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Kn(t,e)}matches(t){return Sw(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Sw(r){return r.op==="and"}function kw(r){return q9(r)&&Sw(r)}function q9(r){for(const t of r.filters)if(t instanceof Kn)return!1;return!0}function lp(r){if(r instanceof pr)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(kw(r))return r.filters.map(t=>lp(t)).join(",");{const t=r.filters.map(e=>lp(e)).join(",");return`${r.op}(${t})`}}function Nw(r,t){return r instanceof pr?function(n,i){return i instanceof pr&&n.op===i.op&&n.field.isEqual(i.field)&&hi(n.value,i.value)}(r,t):r instanceof Kn?function(n,i){return i instanceof Kn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,c)=>s&&Nw(a,i.filters[c]),!0):!1}(r,t):void ct()}function Ew(r){return r instanceof pr?function(e){return`${e.field.canonicalString()} ${e.op} ${ro(e.value)}`}(r):r instanceof Kn?function(e){return e.op.toString()+" {"+e.getFilters().map(Ew).join(" ,")+"}"}(r):"Filter"}class W9 extends pr{constructor(t,e,n){super(t,e,n),this.key=tt.fromName(n.referenceValue)}matches(t){const e=tt.comparator(t.key,this.key);return this.matchesComparison(e)}}class G9 extends pr{constructor(t,e){super(t,"in",e),this.keys=jw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class K9 extends pr{constructor(t,e){super(t,"not-in",e),this.keys=jw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function jw(r,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(n=>tt.fromName(n.referenceValue))}class X9 extends pr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Km(e)&&Fl(e.arrayValue,this.value)}}class Q9 extends pr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Fl(this.value.arrayValue,e)}}class Y9 extends pr{constructor(t,e){super(t,"not-in",e)}matches(t){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!Fl(this.value.arrayValue,e)}}class Z9 extends pr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Km(e)||!e.arrayValue.values)&&e.arrayValue.values.some(n=>Fl(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(t,e=null,n=[],i=[],s=null,a=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.ue=null}}function v1(r,t=null,e=[],n=[],i=null,s=null,a=null){return new J9(r,t,e,n,i,s,a)}function Xm(r){const t=ht(r);if(t.ue===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(n=>lp(n)).join(","),e+="|ob:",e+=t.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Id(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>ro(n)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>ro(n)).join(",")),t.ue=e}return t.ue}function Qm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!H9(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!Nw(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!b1(r.startAt,t.startAt)&&b1(r.endAt,t.endAt)}function cp(r){return tt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t,e=null,n=[],i=[],s=null,a="F",c=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function e7(r,t,e,n,i,s,a,c){return new go(r,t,e,n,i,s,a,c)}function Rd(r){return new go(r)}function y1(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Tw(r){return r.collectionGroup!==null}function al(r){const t=ht(r);if(t.ce===null){t.ce=[];const e=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Pr(Ir.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(o=>{o.isInequality()&&(c=c.add(o.field))})}),c})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.ce.push(new Ll(s,n))}),e.has(Ir.keyField().canonicalString())||t.ce.push(new Ll(Ir.keyField(),n))}return t.ce}function ci(r){const t=ht(r);return t.le||(t.le=t7(t,al(r))),t.le}function t7(r,t){if(r.limitType==="F")return v1(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ll(i.field,s)});const e=r.endAt?new Xu(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Xu(r.startAt.position,r.startAt.inclusive):null;return v1(r.path,r.collectionGroup,t,r.filters,r.limit,e,n)}}function up(r,t){const e=r.filters.concat([t]);return new go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),e,r.limit,r.limitType,r.startAt,r.endAt)}function Qu(r,t,e){return new go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function Pd(r,t){return Qm(ci(r),ci(t))&&r.limitType===t.limitType}function Cw(r){return`${Xm(ci(r))}|lt:${r.limitType}`}function ya(r){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(i=>Ew(i)).join(", ")}]`),Id(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ro(i)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ro(i)).join(",")),`Target(${n})`}(ci(r))}; limitType=${r.limitType})`}function Md(r,t){return t.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):tt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(r,t)&&function(n,i){for(const s of al(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(r,t)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(r,t)&&function(n,i){return!(n.startAt&&!function(a,c,l){const o=g1(a,c,l);return a.inclusive?o<=0:o<0}(n.startAt,al(n),i)||n.endAt&&!function(a,c,l){const o=g1(a,c,l);return a.inclusive?o>=0:o>0}(n.endAt,al(n),i))}(r,t)}function r7(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Aw(r){return(t,e)=>{let n=!1;for(const i of al(r)){const s=n7(i,t,e);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function n7(r,t,e){const n=r.field.isKeyField()?tt.comparator(t.key,e.key):function(s,a,c){const l=a.data.field(s),o=c.data.field(s);return l!==null&&o!==null?to(l,o):ct()}(r.field,t,e);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return ct()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,e]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){la(this.inner,(e,n)=>{for(const[i,s]of n)t(i,s)})}isEmpty(){return yw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7=new ir(tt.comparator);function Oi(){return i7}const Iw=new ir(tt.comparator);function Wo(...r){let t=Iw;for(const e of r)t=t.insert(e.key,e);return t}function Rw(r){let t=Iw;return r.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Vs(){return ol()}function Pw(){return ol()}function ol(){return new bo(r=>r.toString(),(r,t)=>r.isEqual(t))}const s7=new ir(tt.comparator),a7=new Pr(tt.comparator);function Et(...r){let t=a7;for(const e of r)t=t.add(e);return t}const o7=new Pr(Bt);function l7(){return o7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ku(t)?"-0":t}}function Mw(r){return{integerValue:""+r}}function c7(r,t){return B9(t)?Mw(t):Ym(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this._=void 0}}function u7(r,t,e){return r instanceof Yu?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Wm(s)&&(s=Gm(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(e,t):r instanceof Bl?Dw(r,t):r instanceof Vl?Fw(r,t):function(i,s){const a=Ow(i,s),c=x1(a)+x1(i.Pe);return op(a)&&op(i.Pe)?Mw(c):Ym(i.serializer,c)}(r,t)}function d7(r,t,e){return r instanceof Bl?Dw(r,t):r instanceof Vl?Fw(r,t):e}function Ow(r,t){return r instanceof Zu?function(n){return op(n)||function(s){return!!s&&"doubleValue"in s}(n)}(t)?t:{integerValue:0}:null}class Yu extends Od{}class Bl extends Od{constructor(t){super(),this.elements=t}}function Dw(r,t){const e=Lw(t);for(const n of r.elements)e.some(i=>hi(i,n))||e.push(n);return{arrayValue:{values:e}}}class Vl extends Od{constructor(t){super(),this.elements=t}}function Fw(r,t){let e=Lw(t);for(const n of r.elements)e=e.filter(i=>!hi(i,n));return{arrayValue:{values:e}}}class Zu extends Od{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function x1(r){return lr(r.integerValue||r.doubleValue)}function Lw(r){return Km(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function h7(r,t){return r.field.isEqual(t.field)&&function(n,i){return n instanceof Bl&&i instanceof Bl||n instanceof Vl&&i instanceof Vl?eo(n.elements,i.elements,hi):n instanceof Zu&&i instanceof Zu?hi(n.Pe,i.Pe):n instanceof Yu&&i instanceof Yu}(r.transform,t.transform)}class f7{constructor(t,e){this.version=t,this.transformResults=e}}class In{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new In}static exists(t){return new In(void 0,t)}static updateTime(t){return new In(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cu(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Dd{}function Bw(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Zm(r.key,In.none()):new rc(r.key,r.data,In.none());{const e=r.data,n=an.empty();let i=new Pr(Ir.comparator);for(let s of t.fields)if(!i.has(s)){let a=e.field(s);a===null&&s.length>1&&(s=s.popLast(),a=e.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new As(r.key,n,new vn(i.toArray()),In.none())}}function p7(r,t,e){r instanceof rc?function(i,s,a){const c=i.value.clone(),l=_1(i.fieldTransforms,s,a.transformResults);c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(r,t,e):r instanceof As?function(i,s,a){if(!cu(i.precondition,s))return void s.convertToUnknownDocument(a.version);const c=_1(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(Vw(i)),l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(r,t,e):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,e)}function ll(r,t,e,n){return r instanceof rc?function(s,a,c,l){if(!cu(s.precondition,a))return c;const o=s.value.clone(),u=S1(s.fieldTransforms,l,a);return o.setAll(u),a.convertToFoundDocument(a.version,o).setHasLocalMutations(),null}(r,t,e,n):r instanceof As?function(s,a,c,l){if(!cu(s.precondition,a))return c;const o=S1(s.fieldTransforms,l,a),u=a.data;return u.setAll(Vw(s)),u.setAll(o),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(r,t,e,n):function(s,a,c){return cu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(r,t,e)}function m7(r,t){let e=null;for(const n of r.fieldTransforms){const i=t.data.field(n.field),s=Ow(n.transform,i||null);s!=null&&(e===null&&(e=an.empty()),e.set(n.field,s))}return e||null}function w1(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&eo(n,i,(s,a)=>h7(s,a))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class rc extends Dd{constructor(t,e,n,i=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class As extends Dd{constructor(t,e,n,i,s=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Vw(r){const t=new Map;return r.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const n=r.data.field(e);t.set(e,n)}}),t}function _1(r,t,e){const n=new Map;$t(r.length===e.length);for(let i=0;i<e.length;i++){const s=r[i],a=s.transform,c=t.data.field(s.field);n.set(s.field,d7(a,c,e[i]))}return n}function S1(r,t,e){const n=new Map;for(const i of r){const s=i.transform,a=e.data.field(i.field);n.set(i.field,u7(s,a,t))}return n}class Zm extends Dd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g7 extends Dd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&p7(s,t,n[i])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=ll(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=ll(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=Pw();return this.mutations.forEach(i=>{const s=t.get(i.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=e.has(i.key)?null:c;const l=Bw(a,c);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(dt.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Et())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,(e,n)=>w1(e,n))&&eo(this.baseMutations,t.baseMutations,(e,n)=>w1(e,n))}}class Jm{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){$t(t.mutations.length===n.length);let i=function(){return s7}();const s=t.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new Jm(t,e,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hr,Pt;function x7(r){switch(r){default:return ct();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function zw(r){if(r===void 0)return Mi("GRPC error has no .code"),_e.UNKNOWN;switch(r){case hr.OK:return _e.OK;case hr.CANCELLED:return _e.CANCELLED;case hr.UNKNOWN:return _e.UNKNOWN;case hr.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case hr.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case hr.INTERNAL:return _e.INTERNAL;case hr.UNAVAILABLE:return _e.UNAVAILABLE;case hr.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case hr.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case hr.NOT_FOUND:return _e.NOT_FOUND;case hr.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case hr.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case hr.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case hr.ABORTED:return _e.ABORTED;case hr.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case hr.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case hr.DATA_LOSS:return _e.DATA_LOSS;default:return ct()}}(Pt=hr||(hr={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=new Hs([4294967295,4294967295],0);function k1(r){const t=w7().encode(r),e=new dw;return e.update(t),new Uint8Array(e.digest())}function N1(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Hs([e,n],0),new Hs([i,s],0)]}class e0{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Go(`Invalid padding: ${e}`);if(n<0)throw new Go(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Go(`Invalid hash count: ${n}`);if(t.length===0&&e!==0)throw new Go(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=Hs.fromNumber(this.Ie)}Ee(t,e,n){let i=t.add(e.multiply(Hs.fromNumber(n)));return i.compare(_7)===1&&(i=new Hs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const e=k1(t),[n,i]=N1(e);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(t,e,n){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new e0(s,i,e);return n.forEach(c=>a.insert(c)),a}insert(t){if(this.Ie===0)return;const e=k1(t),[n,i]=N1(e);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,e,n,i,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,nc.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Fd(dt.min(),i,new ir(Bt),Oi(),Et())}}class nc{constructor(t,e,n,i,s){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new nc(n,e,Et(),Et(),Et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,e,n,i){this.Re=t,this.removedTargetIds=e,this.key=n,this.Ve=i}}class Uw{constructor(t,e){this.targetId=t,this.me=e}}class $w{constructor(t,e,n=Or.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class E1{constructor(){this.fe=0,this.ge=T1(),this.pe=Or.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Et(),e=Et(),n=Et();return this.ge.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:ct()}}),new nc(this.pe,this.ye,t,e,n)}Ce(){this.we=!1,this.ge=T1()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,$t(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class S7{constructor(t){this.Le=t,this.Be=new Map,this.ke=Oi(),this.qe=j1(),this.Qe=new ir(Bt)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const n=this.Ge(e);switch(t.state){case 0:this.ze(e)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),n.De(t.resumeToken));break;default:ct()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((n,i)=>{this.ze(i)&&e(i)})}He(t){const e=t.targetId,n=t.me.count,i=this.Je(e);if(i){const s=i.target;if(cp(s))if(n===0){const a=new tt(s.path);this.Ue(e,a,Hr.newNoDocument(a,dt.min()))}else $t(n===1);else{const a=this.Ye(e);if(a!==n){const c=this.Ze(t),l=c?this.Xe(c,t,a):1;if(l!==0){this.je(e);const o=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(e,o)}}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=e;let a,c;try{a=Js(n).toUint8Array()}catch(l){if(l instanceof xw)return Ja("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new e0(a,i,s)}catch(l){return Ja(l instanceof Go?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(t,e,n){return e.me.count===n-this.nt(t,e.targetId)?0:2}nt(t,e){const n=this.Le.getRemoteKeysForTarget(e);let i=0;return n.forEach(s=>{const a=this.Le.tt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.Ue(e,s,null),i++)}),i}rt(t){const e=new Map;this.Be.forEach((s,a)=>{const c=this.Je(a);if(c){if(s.current&&cp(c.target)){const l=new tt(c.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Hr.newNoDocument(l,t))}s.be&&(e.set(a,s.ve()),s.Ce())}});let n=Et();this.qe.forEach((s,a)=>{let c=!0;a.forEachWhile(l=>{const o=this.Je(l);return!o||o.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(t));const i=new Fd(t,e,this.Qe,this.ke,n);return this.ke=Oi(),this.qe=j1(),this.Qe=new ir(Bt),i}$e(t,e){if(!this.ze(t))return;const n=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,n),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,n){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,e)?i.Fe(e,1):i.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),n&&(this.ke=this.ke.insert(e,n))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new E1,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new Pr(Bt),this.qe=this.qe.insert(t,e)),e}ze(t){const e=this.Je(t)!==null;return e||We("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new E1),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function j1(){return new ir(tt.comparator)}function T1(){return new ir(tt.comparator)}const k7={asc:"ASCENDING",desc:"DESCENDING"},N7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E7={and:"AND",or:"OR"};class j7{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function dp(r,t){return r.useProto3Json||Id(t)?t:{value:t}}function Ju(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Hw(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function T7(r,t){return Ju(r,t.toTimestamp())}function ui(r){return $t(!!r),dt.fromTimestamp(function(e){const n=_s(e);return new vr(n.seconds,n.nanos)}(r))}function t0(r,t){return hp(r,t).canonicalString()}function hp(r,t){const e=function(i){return new Xt(["projects",i.projectId,"databases",i.database])}(r).child("documents");return t===void 0?e:e.child(t)}function qw(r){const t=Xt.fromString(r);return $t(Qw(t)),t}function fp(r,t){return t0(r.databaseId,t.path)}function Uh(r,t){const e=qw(t);if(e.get(1)!==r.databaseId.projectId)throw new Ve(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new Ve(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new tt(Gw(e))}function Ww(r,t){return t0(r.databaseId,t)}function C7(r){const t=qw(r);return t.length===4?Xt.emptyPath():Gw(t)}function pp(r){return new Xt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Gw(r){return $t(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function C1(r,t,e){return{name:fp(r,t),fields:e.value.mapValue.fields}}function A7(r,t){let e;if("targetChange"in t){t.targetChange;const n=function(o){return o==="NO_CHANGE"?0:o==="ADD"?1:o==="REMOVE"?2:o==="CURRENT"?3:o==="RESET"?4:ct()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(o,u){return o.useProto3Json?($t(u===void 0||typeof u=="string"),Or.fromBase64String(u||"")):($t(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Or.fromUint8Array(u||new Uint8Array))}(r,t.targetChange.resumeToken),a=t.targetChange.cause,c=a&&function(o){const u=o.code===void 0?_e.UNKNOWN:zw(o.code);return new Ve(u,o.message||"")}(a);e=new $w(n,i,s,c||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=Uh(r,n.document.name),s=ui(n.document.updateTime),a=n.document.createTime?ui(n.document.createTime):dt.min(),c=new an({mapValue:{fields:n.document.fields}}),l=Hr.newFoundDocument(i,s,a,c),o=n.targetIds||[],u=n.removedTargetIds||[];e=new uu(o,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=Uh(r,n.document),s=n.readTime?ui(n.readTime):dt.min(),a=Hr.newNoDocument(i,s),c=n.removedTargetIds||[];e=new uu([],c,a.key,a)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=Uh(r,n.document),s=n.removedTargetIds||[];e=new uu([],s,i,null)}else{if(!("filter"in t))return ct();{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new y7(i,s),c=n.targetId;e=new Uw(c,a)}}return e}function I7(r,t){let e;if(t instanceof rc)e={update:C1(r,t.key,t.value)};else if(t instanceof Zm)e={delete:fp(r,t.key)};else if(t instanceof As)e={update:C1(r,t.key,t.data),updateMask:V7(t.fieldMask)};else{if(!(t instanceof g7))return ct();e={verify:fp(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(n=>function(s,a){const c=a.transform;if(c instanceof Yu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Bl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Vl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Zu)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw ct()}(0,n))),t.precondition.isNone||(e.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:T7(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ct()}(r,t.precondition)),e}function R7(r,t){return r&&r.length>0?($t(t!==void 0),r.map(e=>function(i,s){let a=i.updateTime?ui(i.updateTime):ui(s);return a.isEqual(dt.min())&&(a=ui(s)),new f7(a,i.transformResults||[])}(e,t))):[]}function P7(r,t){return{documents:[Ww(r,t.path)]}}function M7(r,t){const e={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=Ww(r,i);const s=function(o){if(o.length!==0)return Xw(Kn.create(o,"and"))}(t.filters);s&&(e.structuredQuery.where=s);const a=function(o){if(o.length!==0)return o.map(u=>function(d){return{field:xa(d.field),direction:F7(d.dir)}}(u))}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const c=dp(r,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=function(o){return{before:o.inclusive,values:o.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(o){return{before:!o.inclusive,values:o.position}}(t.endAt)),{_t:e,parent:i}}function O7(r){let t=C7(r.parent);const e=r.structuredQuery,n=e.from?e.from.length:0;let i=null;if(n>0){$t(n===1);const u=e.from[0];u.allDescendants?i=u.collectionId:t=t.child(u.collectionId)}let s=[];e.where&&(s=function(p){const d=Kw(p);return d instanceof Kn&&kw(d)?d.getFilters():[d]}(e.where));let a=[];e.orderBy&&(a=function(p){return p.map(d=>function(g){return new Ll(wa(g.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(e.orderBy));let c=null;e.limit&&(c=function(p){let d;return d=typeof p=="object"?p.value:p,Id(d)?null:d}(e.limit));let l=null;e.startAt&&(l=function(p){const d=!!p.before,h=p.values||[];return new Xu(h,d)}(e.startAt));let o=null;return e.endAt&&(o=function(p){const d=!p.before,h=p.values||[];return new Xu(h,d)}(e.endAt)),e7(t,i,a,s,c,"F",l,o)}function D7(r,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Kw(r){return r.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=wa(e.unaryFilter.field);return pr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=wa(e.unaryFilter.field);return pr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=wa(e.unaryFilter.field);return pr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=wa(e.unaryFilter.field);return pr.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}(r):r.fieldFilter!==void 0?function(e){return pr.create(wa(e.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(e.fieldFilter.op),e.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(e){return Kn.create(e.compositeFilter.filters.map(n=>Kw(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ct()}}(e.compositeFilter.op))}(r):ct()}function F7(r){return k7[r]}function L7(r){return N7[r]}function B7(r){return E7[r]}function xa(r){return{fieldPath:r.canonicalString()}}function wa(r){return Ir.fromServerFormat(r.fieldPath)}function Xw(r){return r instanceof pr?function(e){if(e.op==="=="){if(m1(e.value))return{unaryFilter:{field:xa(e.field),op:"IS_NAN"}};if(p1(e.value))return{unaryFilter:{field:xa(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(m1(e.value))return{unaryFilter:{field:xa(e.field),op:"IS_NOT_NAN"}};if(p1(e.value))return{unaryFilter:{field:xa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(e.field),op:L7(e.op),value:e.value}}}(r):r instanceof Kn?function(e){const n=e.getFilters().map(i=>Xw(i));return n.length===1?n[0]:{compositeFilter:{op:B7(e.op),filters:n}}}(r):ct()}function V7(r){const t=[];return r.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Qw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t,e,n,i,s=dt.min(),a=dt.min(),c=Or.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(t){return new as(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(t){this.ct=t}}function U7(r){const t=O7({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qu(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(){this.un=new H7}addToCollectionParentIndex(t,e){return this.un.add(e),je.resolve()}getCollectionParents(t,e){return je.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return je.resolve()}deleteFieldIndex(t,e){return je.resolve()}deleteAllFieldIndexes(t){return je.resolve()}createTargetIndexes(t,e){return je.resolve()}getDocumentsMatchingTarget(t,e){return je.resolve(null)}getIndexType(t,e){return je.resolve(0)}getFieldIndexes(t,e){return je.resolve([])}getNextCollectionGroupToUpdate(t){return je.resolve(null)}getMinOffset(t,e){return je.resolve(ws.min())}getMinOffsetFromCollectionGroup(t,e){return je.resolve(ws.min())}updateCollectionGroup(t,e,n){return je.resolve()}updateIndexEntries(t,e){return je.resolve()}}class H7{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Pr(Xt.comparator),s=!i.has(n);return this.index[e]=i.add(n),s}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Pr(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new no(0)}static kn(){return new no(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(){this.changes=new bo(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Hr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return n!==void 0?je.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,e))).next(i=>(n!==null&&ll(n.mutation,i,vn.empty(),vr.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.getLocalViewOfDocuments(t,n,Et()).next(()=>n))}getLocalViewOfDocuments(t,e,n=Et()){const i=Vs();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,n).next(s=>{let a=Wo();return s.forEach((c,l)=>{a=a.insert(c,l.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const n=Vs();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,Et()))}populateOverlays(t,e,n){const i=[];return n.forEach(s=>{e.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((a,c)=>{e.set(a,c)})})}computeViews(t,e,n,i){let s=Oi();const a=ol(),c=function(){return ol()}();return e.forEach((l,o)=>{const u=n.get(o.key);i.has(o.key)&&(u===void 0||u.mutation instanceof As)?s=s.insert(o.key,o):u!==void 0?(a.set(o.key,u.mutation.getFieldMask()),ll(u.mutation,o,u.mutation.getFieldMask(),vr.now())):a.set(o.key,vn.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((o,u)=>a.set(o,u)),e.forEach((o,u)=>{var p;return c.set(o,new W7(u,(p=a.get(o))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(t,e){const n=ol();let i=new ir((a,c)=>a-c),s=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const c of a)c.keys().forEach(l=>{const o=e.get(l);if(o===null)return;let u=n.get(l)||vn.empty();u=c.applyToLocalView(o,u),n.set(l,u);const p=(i.get(c.batchId)||Et()).add(l);i=i.insert(c.batchId,p)})}).next(()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const l=c.getNext(),o=l.key,u=l.value,p=Pw();u.forEach(d=>{if(!s.has(d)){const h=Bw(e.get(d),n.get(d));h!==null&&p.set(d,h),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(t,o,p))}return je.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,e,n,i){return function(a){return tt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Tw(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,i):this.getDocumentsMatchingCollectionQuery(t,e,n,i)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-s.size):je.resolve(Vs());let c=-1,l=s;return a.next(o=>je.forEach(o,(u,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(u)?je.resolve():this.remoteDocumentCache.getEntry(t,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(t,o,s)).next(()=>this.computeViews(t,l,o,Et())).next(u=>({batchId:c,changes:Rw(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new tt(e)).next(n=>{let i=Wo();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,n,i){const s=e.collectionGroup;let a=Wo();return this.indexManager.getCollectionParents(t,s).next(c=>je.forEach(c,l=>{const o=function(p,d){return new go(d,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(e,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,o,n,i).next(u=>{u.forEach((p,d)=>{a=a.insert(p,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,e,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,s,i))).next(a=>{s.forEach((l,o)=>{const u=o.getKey();a.get(u)===null&&(a=a.insert(u,Hr.newInvalidDocument(u)))});let c=Wo();return a.forEach((l,o)=>{const u=s.get(l);u!==void 0&&ll(u.mutation,o,vn.empty(),vr.now()),Md(e,o)&&(c=c.insert(l,o))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return je.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,function(i){return{id:i.id,version:i.version,createTime:ui(i.createTime)}}(e)),je.resolve()}getNamedQuery(t,e){return je.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,function(i){return{name:i.name,query:U7(i.bundledQuery),readTime:ui(i.readTime)}}(e)),je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(){this.overlays=new ir(tt.comparator),this.Ir=new Map}getOverlay(t,e){return je.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Vs();return je.forEach(e,i=>this.getOverlay(t,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((i,s)=>{this.ht(t,e,s)}),je.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),je.resolve()}getOverlaysForCollection(t,e,n){const i=Vs(),s=e.length+1,a=new tt(e.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const l=c.getNext().value,o=l.getKey();if(!e.isPrefixOf(o.path))break;o.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return je.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let s=new ir((o,u)=>o-u);const a=this.overlays.getIterator();for(;a.hasNext();){const o=a.getNext().value;if(o.getKey().getCollectionGroup()===e&&o.largestBatchId>n){let u=s.get(o.largestBatchId);u===null&&(u=Vs(),s=s.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}const c=Vs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((o,u)=>c.set(o,u)),!(c.size()>=i)););return je.resolve(c)}ht(t,e,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new v7(e,n));let s=this.Ir.get(e);s===void 0&&(s=Et(),this.Ir.set(e,s)),this.Ir.set(e,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(){this.sessionToken=Or.EMPTY_BYTE_STRING}getSessionToken(t){return je.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.Tr=new Pr(yr.Er),this.dr=new Pr(yr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const n=new yr(t,e);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(t,e){t.forEach(n=>this.addReference(n,e))}removeReference(t,e){this.Vr(new yr(t,e))}mr(t,e){t.forEach(n=>this.removeReference(n,e))}gr(t){const e=new tt(new Xt([])),n=new yr(e,t),i=new yr(e,t+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new tt(new Xt([])),n=new yr(e,t),i=new yr(e,t+1);let s=Et();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(t){const e=new yr(t,0),n=this.Tr.firstAfterOrEqual(e);return n!==null&&t.isEqual(n.key)}}class yr{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return tt.comparator(t.key,e.key)||Bt(t.wr,e.wr)}static Ar(t,e){return Bt(t.wr,e.wr)||tt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new Pr(yr.Er)}checkEmpty(t){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new b7(s,e,n,i);this.mutationQueue.push(a);for(const c of i)this.br=this.br.add(new yr(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return je.resolve(a)}lookupMutationBatch(t,e){return je.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.vr(n),s=i<0?0:i;return je.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new yr(e,0),i=new yr(e,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const c=this.Dr(a.wr);s.push(c)}),je.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Pr(Bt);return e.forEach(i=>{const s=new yr(i,0),a=new yr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],c=>{n=n.add(c.wr)})}),je.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let s=n;tt.isDocumentKey(s)||(s=s.child(""));const a=new yr(new tt(s),0);let c=new Pr(Bt);return this.br.forEachWhile(l=>{const o=l.key.path;return!!n.isPrefixOf(o)&&(o.length===i&&(c=c.add(l.wr)),!0)},a),je.resolve(this.Cr(c))}Cr(t){const e=[];return t.forEach(n=>{const i=this.Dr(n);i!==null&&e.push(i)}),e}removeMutationBatch(t,e){$t(this.Fr(e.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return je.forEach(e.mutations,i=>{const s=new yr(i.key,e.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=n})}On(t){}containsKey(t,e){const n=new yr(e,0),i=this.br.firstAfterOrEqual(n);return je.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,je.resolve()}Fr(t,e){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(t){this.Mr=t,this.docs=function(){return new ir(tt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return je.resolve(n?n.document.mutableCopy():Hr.newInvalidDocument(e))}getEntries(t,e){let n=Oi();return e.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Hr.newInvalidDocument(i))}),je.resolve(n)}getDocumentsMatchingQuery(t,e,n,i){let s=Oi();const a=e.path,c=new tt(a.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){const{key:o,value:{document:u}}=l.getNext();if(!a.isPrefixOf(o.path))break;o.path.length>a.length+1||O9(M9(u),n)<=0||(i.has(u.key)||Md(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return je.resolve(s)}getAllFromCollectionGroup(t,e,n,i){ct()}Or(t,e){return je.forEach(this.docs,n=>e(n))}newChangeBuffer(t){return new J7(this)}getSize(t){return je.resolve(this.size)}}class J7 extends q7{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?e.push(this.cr.addEntry(t,i)):this.cr.removeEntry(n)}),je.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(t){this.persistence=t,this.Nr=new bo(e=>Xm(e),Qm),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new r0,this.targetCount=0,this.kr=no.Bn()}forEachTarget(t,e){return this.Nr.forEach((n,i)=>e(i)),je.resolve()}getLastRemoteSnapshotVersion(t){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return je.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Lr&&(this.Lr=e),je.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new no(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,je.resolve()}updateTargetData(t,e){return this.Kn(e),je.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,je.resolve()}removeTargets(t,e,n){let i=0;const s=[];return this.Nr.forEach((a,c)=>{c.sequenceNumber<=e&&n.get(c.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),i++)}),je.waitFor(s).next(()=>i)}getTargetCount(t){return je.resolve(this.targetCount)}getTargetData(t,e){const n=this.Nr.get(e)||null;return je.resolve(n)}addMatchingKeys(t,e,n){return this.Br.Rr(e,n),je.resolve()}removeMatchingKeys(t,e,n){this.Br.mr(e,n);const i=this.persistence.referenceDelegate,s=[];return i&&e.forEach(a=>{s.push(i.markPotentiallyOrphaned(t,a))}),je.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),je.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Br.yr(e);return je.resolve(n)}containsKey(t,e){return je.resolve(this.Br.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(t,e){this.qr={},this.overlays={},this.Qr=new qm(0),this.Kr=!1,this.Kr=!0,this.$r=new Q7,this.referenceDelegate=t(this),this.Ur=new eE(this),this.indexManager=new $7,this.remoteDocumentCache=function(i){return new Z7(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new z7(e),this.Gr=new K7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new X7,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.qr[t.toKey()];return n||(n=new Y7(e,this.referenceDelegate),this.qr[t.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,n){We("MemoryPersistence","Starting transaction:",t);const i=new rE(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(t,e){return je.or(Object.values(this.qr).map(n=>()=>n.containsKey(t,e)))}}class rE extends F9{constructor(t){super(),this.currentSequenceNumber=t}}class n0{constructor(t){this.persistence=t,this.Jr=new r0,this.Yr=null}static Zr(t){return new n0(t)}get Xr(){if(this.Yr)return this.Yr;throw ct()}addReference(t,e,n){return this.Jr.addReference(n,e),this.Xr.delete(n.toString()),je.resolve()}removeReference(t,e,n){return this.Jr.removeReference(n,e),this.Xr.add(n.toString()),je.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),je.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(t,e))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.Xr,n=>{const i=tt.fromPath(n);return this.ei(t,i).next(s=>{s||e.removeEntry(i,dt.min())})}).next(()=>(this.Yr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ei(t,e).next(n=>{n?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(t){return 0}ei(t,e){return je.or([()=>je.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.$i=n,this.Ui=i}static Wi(t,e){let n=Et(),i=Et();for(const s of e.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new i0(t,e.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return z8()?8:L9(Gr())>0?6:4}()}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,n,i){const s={result:null};return this.Yi(t,e).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(t,e,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new nE;return this.Xi(t,e,a).next(c=>{if(s.result=c,this.zi)return this.es(t,e,a,c.size)})}).next(()=>s.result)}es(t,e,n,i){return n.documentReadCount<this.ji?(Ro()<=Ct.DEBUG&&We("QueryEngine","SDK will not create cache indexes for query:",ya(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),je.resolve()):(Ro()<=Ct.DEBUG&&We("QueryEngine","Query:",ya(e),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Ro()<=Ct.DEBUG&&We("QueryEngine","The SDK decides to create cache indexes for query:",ya(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ci(e))):je.resolve())}Yi(t,e){if(y1(e))return je.resolve(null);let n=ci(e);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(e.limit!==null&&i===1&&(e=Qu(e,null,"F"),n=ci(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(s=>{const a=Et(...s);return this.Ji.getDocuments(t,a).next(c=>this.indexManager.getMinOffset(t,n).next(l=>{const o=this.ts(e,c);return this.ns(e,o,a,l.readTime)?this.Yi(t,Qu(e,null,"F")):this.rs(t,o,e,l)}))})))}Zi(t,e,n,i){return y1(e)||i.isEqual(dt.min())?je.resolve(null):this.Ji.getDocuments(t,n).next(s=>{const a=this.ts(e,s);return this.ns(e,a,n,i)?je.resolve(null):(Ro()<=Ct.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ya(e)),this.rs(t,a,e,P9(i,-1)).next(c=>c))})}ts(t,e){let n=new Pr(Aw(t));return e.forEach((i,s)=>{Md(t,s)&&(n=n.add(s))}),n}ns(t,e,n,i){if(t.limit===null)return!1;if(n.size!==e.size)return!0;const s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(t,e,n){return Ro()<=Ct.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",ya(e)),this.Ji.getDocumentsMatchingQuery(t,e,ws.min(),n)}rs(t,e,n,i){return this.Ji.getDocumentsMatchingQuery(t,n,i).next(s=>(e.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(t,e,n,i){this.persistence=t,this.ss=e,this.serializer=i,this.os=new ir(Bt),this._s=new bo(s=>Xm(s),Qm),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(n)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new G7(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.os))}}function aE(r,t,e,n){return new sE(r,t,e,n)}async function Yw(r,t){const e=ht(r);return await e.persistence.runTransaction("Handle user change","readonly",n=>{let i;return e.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,e.ls(t),e.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],c=[];let l=Et();for(const o of i){a.push(o.batchId);for(const u of o.mutations)l=l.add(u.key)}for(const o of s){c.push(o.batchId);for(const u of o.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(n,l).next(o=>({hs:o,removedBatchIds:a,addedBatchIds:c}))})})}function oE(r,t){const e=ht(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),s=e.cs.newChangeBuffer({trackRemovals:!0});return function(c,l,o,u){const p=o.batch,d=p.keys();let h=je.resolve();return d.forEach(g=>{h=h.next(()=>u.getEntry(l,g)).next(b=>{const m=o.docVersions.get(g);$t(m!==null),b.version.compareTo(m)<0&&(p.applyToRemoteDocument(b,o),b.isValidDocument()&&(b.setReadTime(o.commitVersion),u.addEntry(b)))})}),h.next(()=>c.mutationQueue.removeMutationBatch(l,p))}(e,n,t,s).next(()=>s.apply(n)).next(()=>e.mutationQueue.performConsistencyCheck(n)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let l=Et();for(let o=0;o<c.mutationResults.length;++o)c.mutationResults[o].transformResults.length>0&&(l=l.add(c.batch.mutations[o].key));return l}(t))).next(()=>e.localDocuments.getDocuments(n,i))})}function Zw(r){const t=ht(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function lE(r,t){const e=ht(r),n=t.snapshotVersion;let i=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=e.cs.newChangeBuffer({trackRemovals:!0});i=e.os;const c=[];t.targetChanges.forEach((u,p)=>{const d=i.get(p);if(!d)return;c.push(e.Ur.removeMatchingKeys(s,u.removedDocuments,p).next(()=>e.Ur.addMatchingKeys(s,u.addedDocuments,p)));let h=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(p)!==null?h=h.withResumeToken(Or.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,n)),i=i.insert(p,h),function(b,m,y){return b.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(d,h,u)&&c.push(e.Ur.updateTargetData(s,h))});let l=Oi(),o=Et();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))}),c.push(cE(s,a,t.documentUpdates).next(u=>{l=u.Ps,o=u.Is})),!n.isEqual(dt.min())){const u=e.Ur.getLastRemoteSnapshotVersion(s).next(p=>e.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));c.push(u)}return je.waitFor(c).next(()=>a.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,o)).next(()=>l)}).then(s=>(e.os=i,s))}function cE(r,t,e){let n=Et(),i=Et();return e.forEach(s=>n=n.add(s)),t.getEntries(r,n).next(s=>{let a=Oi();return e.forEach((c,l)=>{const o=s.get(c);l.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(c)),l.isNoDocument()&&l.version.isEqual(dt.min())?(t.removeEntry(c,l.readTime),a=a.insert(c,l)):!o.isValidDocument()||l.version.compareTo(o.version)>0||l.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(l),a=a.insert(c,l)):We("LocalStore","Ignoring outdated watch update for ",c,". Current version:",o.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function uE(r,t){const e=ht(r);return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function dE(r,t){const e=ht(r);return e.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return e.Ur.getTargetData(n,t).next(s=>s?(i=s,je.resolve(i)):e.Ur.allocateTargetId(n).next(a=>(i=new as(t,a,"TargetPurposeListen",n.currentSequenceNumber),e.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=e.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.os=e.os.insert(n.targetId,n),e._s.set(t,n.targetId)),n})}async function mp(r,t,e){const n=ht(r),i=n.os.get(t),s=e?"readwrite":"readwrite-primary";try{e||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!tc(a))throw a;We("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}n.os=n.os.remove(t),n._s.delete(i.target)}function A1(r,t,e){const n=ht(r);let i=dt.min(),s=Et();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,o,u){const p=ht(l),d=p._s.get(u);return d!==void 0?je.resolve(p.os.get(d)):p.Ur.getTargetData(o,u)}(n,a,ci(t)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,c.targetId).next(l=>{s=l})}).next(()=>n.ss.getDocumentsMatchingQuery(a,t,e?i:dt.min(),e?s:Et())).next(c=>(hE(n,r7(t),c),{documents:c,Ts:s})))}function hE(r,t,e){let n=r.us.get(t)||dt.min();e.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),r.us.set(t,n)}class I1{constructor(){this.activeTargetIds=l7()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class fE{constructor(){this.so=new I1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,n){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new I1,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc=null;function $h(){return Vc===null?Vc=function(){return 268435456+Math.round(2147483648*Math.random())}():Vc++,"0x"+Vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="WebChannelConnection";class bE extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+e.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(e,n,i,s,a){const c=$h(),l=this.xo(e,n.toUriEncodedString());We("RestConnection",`Sending RPC '${e}' ${c}:`,l,i);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,s,a),this.No(e,l,o,i).then(u=>(We("RestConnection",`Received RPC '${e}' ${c}: `,u),u),u=>{throw Ja("RestConnection",`RPC '${e}' ${c} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(e,n,i,s,a,c){return this.Mo(e,n,i,s,a)}Oo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),i&&i.headers.forEach((s,a)=>e[a]=s)}xo(e,n){const i=mE[e];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,n,i){const s=$h();return new Promise((a,c)=>{const l=new hw;l.setWithCredentials(!0),l.listenOnce(fw.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ou.NO_ERROR:const u=l.getResponseJson();We(zr,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(u)),a(u);break;case ou.TIMEOUT:We(zr,`RPC '${t}' ${s} timed out`),c(new Ve(_e.DEADLINE_EXCEEDED,"Request time out"));break;case ou.HTTP_ERROR:const p=l.getStatus();if(We(zr,`RPC '${t}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const g=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(y)>=0?y:_e.UNKNOWN}(h.status);c(new Ve(g,h.message))}else c(new Ve(_e.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new Ve(_e.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{We(zr,`RPC '${t}' ${s} completed.`)}});const o=JSON.stringify(i);We(zr,`RPC '${t}' ${s} sending request:`,i),l.send(e,"POST",o,n,15)})}Bo(t,e,n){const i=$h(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=gw(),c=mw(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},o=this.longPollingOptions.timeoutSeconds;o!==void 0&&(l.longPollingTimeout=Math.round(1e3*o)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,e,n),l.encodeInitMessageHeaders=!0;const u=s.join("");We(zr,`Creating RPC '${t}' stream ${i}: ${u}`,l);const p=a.createWebChannel(u,l);let d=!1,h=!1;const g=new gE({Io:m=>{h?We(zr,`Not sending because RPC '${t}' stream ${i} is closed:`,m):(d||(We(zr,`Opening RPC '${t}' stream ${i} transport.`),p.open(),d=!0),We(zr,`RPC '${t}' stream ${i} sending:`,m),p.send(m))},To:()=>p.close()}),b=(m,y,v)=>{m.listen(y,w=>{try{v(w)}catch(E){setTimeout(()=>{throw E},0)}})};return b(p,qo.EventType.OPEN,()=>{h||(We(zr,`RPC '${t}' stream ${i} transport opened.`),g.yo())}),b(p,qo.EventType.CLOSE,()=>{h||(h=!0,We(zr,`RPC '${t}' stream ${i} transport closed`),g.So())}),b(p,qo.EventType.ERROR,m=>{h||(h=!0,Ja(zr,`RPC '${t}' stream ${i} transport errored:`,m),g.So(new Ve(_e.UNAVAILABLE,"The operation could not be completed")))}),b(p,qo.EventType.MESSAGE,m=>{var y;if(!h){const v=m.data[0];$t(!!v);const w=v,E=w.error||((y=w[0])===null||y===void 0?void 0:y.error);if(E){We(zr,`RPC '${t}' stream ${i} received error:`,E);const A=E.status;let D=function(M){const F=hr[M];if(F!==void 0)return zw(F)}(A),L=E.message;D===void 0&&(D=_e.INTERNAL,L="Unknown error status: "+A+" with message "+E.message),h=!0,g.So(new Ve(D,L)),p.close()}else We(zr,`RPC '${t}' stream ${i} received:`,v),g.bo(v)}}),b(c,pw.STAT_EVENT,m=>{m.stat===sp.PROXY?We(zr,`RPC '${t}' stream ${i} detected buffering proxy`):m.stat===sp.NOPROXY&&We(zr,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Hh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(r){return new j7(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t,e,n=1e3,i=1.5,s=6e4){this.ui=t,this.timerId=e,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,e-n);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(t,e,n,i,s,a,c,l){this.ui=t,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Jw(t,e)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,e){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():e&&e.code===_e.RESOURCE_EXHAUSTED?(Mi(e.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):e&&e.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(e)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===e&&this.P_(n,i)},n=>{t(()=>{const i=new Ve(_e.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(t,e){const n=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return We("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget(()=>this.Yo===t?e():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vE extends e4{constructor(t,e,n,i,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,a),this.serializer=s}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=A7(this.serializer,t),n=function(s){if(!("targetChange"in s))return dt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?dt.min():a.readTime?ui(a.readTime):dt.min()}(t);return this.listener.d_(e,n)}A_(t){const e={};e.database=pp(this.serializer),e.addTarget=function(s,a){let c;const l=a.target;if(c=cp(l)?{documents:P7(s,l)}:{query:M7(s,l)._t},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=Hw(s,a.resumeToken);const o=dp(s,a.expectedCount);o!==null&&(c.expectedCount=o)}else if(a.snapshotVersion.compareTo(dt.min())>0){c.readTime=Ju(s,a.snapshotVersion.toTimestamp());const o=dp(s,a.expectedCount);o!==null&&(c.expectedCount=o)}return c}(this.serializer,t);const n=D7(this.serializer,t);n&&(e.labels=n),this.a_(e)}R_(t){const e={};e.database=pp(this.serializer),e.removeTarget=t,this.a_(e)}}class yE extends e4{constructor(t,e,n,i,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return $t(!!t.streamToken),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){$t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const e=R7(t.writeResults,t.commitTime),n=ui(t.commitTime);return this.listener.g_(n,e)}p_(){const t={};t.database=pp(this.serializer),this.a_(t)}m_(t){const e={streamToken:this.lastStreamToken,writes:t.map(n=>I7(this.serializer,n))};this.a_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE extends class{}{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ve(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(t,hp(e,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ve(_e.UNKNOWN,s.toString())})}Lo(t,e,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Lo(t,hp(e,n),i,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ve(_e.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class wE{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Mi(e),this.D_=!1):We("OnlineStateTracker",e)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t,e,n,i,s){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{ca(this)&&(We("RemoteStore","Restarting streams for network reachability change."),await async function(l){const o=ht(l);o.L_.add(4),await ic(o),o.q_.set("Unknown"),o.L_.delete(4),await Bd(o)}(this))})}),this.q_=new wE(n,i)}}async function Bd(r){if(ca(r))for(const t of r.B_)await t(!0)}async function ic(r){for(const t of r.B_)await t(!1)}function t4(r,t){const e=ht(r);e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),l0(e)?o0(e):vo(e).r_()&&a0(e,t))}function s0(r,t){const e=ht(r),n=vo(e);e.N_.delete(t),n.r_()&&r4(e,t),e.N_.size===0&&(n.r_()?n.o_():ca(e)&&e.q_.set("Unknown"))}function a0(r,t){if(r.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(dt.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}vo(r).A_(t)}function r4(r,t){r.Q_.xe(t),vo(r).R_(t)}function o0(r){r.Q_=new S7({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>r.N_.get(t)||null,tt:()=>r.datastore.serializer.databaseId}),vo(r).start(),r.q_.v_()}function l0(r){return ca(r)&&!vo(r).n_()&&r.N_.size>0}function ca(r){return ht(r).L_.size===0}function n4(r){r.Q_=void 0}async function SE(r){r.q_.set("Online")}async function kE(r){r.N_.forEach((t,e)=>{a0(r,t)})}async function NE(r,t){n4(r),l0(r)?(r.q_.M_(t),o0(r)):r.q_.set("Unknown")}async function EE(r,t,e){if(r.q_.set("Online"),t instanceof $w&&t.state===2&&t.cause)try{await async function(i,s){const a=s.cause;for(const c of s.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.N_.delete(c),i.Q_.removeTarget(c))}(r,t)}catch(n){We("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ed(r,n)}else if(t instanceof uu?r.Q_.Ke(t):t instanceof Uw?r.Q_.He(t):r.Q_.We(t),!e.isEqual(dt.min()))try{const n=await Zw(r.localStore);e.compareTo(n)>=0&&await function(s,a){const c=s.Q_.rt(a);return c.targetChanges.forEach((l,o)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(o);u&&s.N_.set(o,u.withResumeToken(l.resumeToken,a))}}),c.targetMismatches.forEach((l,o)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(Or.EMPTY_BYTE_STRING,u.snapshotVersion)),r4(s,l);const p=new as(u.target,l,o,u.sequenceNumber);a0(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(r,e)}catch(n){We("RemoteStore","Failed to raise snapshot:",n),await ed(r,n)}}async function ed(r,t,e){if(!tc(t))throw t;r.L_.add(1),await ic(r),r.q_.set("Offline"),e||(e=()=>Zw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{We("RemoteStore","Retrying IndexedDB access"),await e(),r.L_.delete(1),await Bd(r)})}function i4(r,t){return t().catch(e=>ed(r,e,t))}async function Vd(r){const t=ht(r),e=Ss(t);let n=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;jE(t);)try{const i=await uE(t.localStore,n);if(i===null){t.O_.length===0&&e.o_();break}n=i.batchId,TE(t,i)}catch(i){await ed(t,i)}s4(t)&&a4(t)}function jE(r){return ca(r)&&r.O_.length<10}function TE(r,t){r.O_.push(t);const e=Ss(r);e.r_()&&e.V_&&e.m_(t.mutations)}function s4(r){return ca(r)&&!Ss(r).n_()&&r.O_.length>0}function a4(r){Ss(r).start()}async function CE(r){Ss(r).p_()}async function AE(r){const t=Ss(r);for(const e of r.O_)t.m_(e.mutations)}async function IE(r,t,e){const n=r.O_.shift(),i=Jm.from(n,t,e);await i4(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await Vd(r)}async function RE(r,t){t&&Ss(r).V_&&await async function(n,i){if(function(a){return x7(a)&&a!==_e.ABORTED}(i.code)){const s=n.O_.shift();Ss(n).s_(),await i4(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Vd(n)}}(r,t),s4(r)&&a4(r)}async function P1(r,t){const e=ht(r);e.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const n=ca(e);e.L_.add(3),await ic(e),n&&e.q_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),await Bd(e)}async function PE(r,t){const e=ht(r);t?(e.L_.delete(2),await Bd(e)):t||(e.L_.add(2),await ic(e),e.q_.set("Unknown"))}function vo(r){return r.K_||(r.K_=function(e,n,i){const s=ht(e);return s.w_(),new vE(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{Eo:SE.bind(null,r),Ro:kE.bind(null,r),mo:NE.bind(null,r),d_:EE.bind(null,r)}),r.B_.push(async t=>{t?(r.K_.s_(),l0(r)?o0(r):r.q_.set("Unknown")):(await r.K_.stop(),n4(r))})),r.K_}function Ss(r){return r.U_||(r.U_=function(e,n,i){const s=ht(e);return s.w_(),new yE(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:CE.bind(null,r),mo:RE.bind(null,r),f_:AE.bind(null,r),g_:IE.bind(null,r)}),r.B_.push(async t=>{t?(r.U_.s_(),await Vd(r)):(await r.U_.stop(),r.O_.length>0&&(We("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))})),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t,e,n,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,i,s){const a=Date.now()+n,c=new c0(t,e,a,i,s);return c.start(n),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(_e.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u0(r,t){if(Mi("AsyncQueue",`${t}: ${r}`),tc(r))return new Ve(_e.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this.comparator=t?(e,n)=>t(e,n)||tt.comparator(e.key,n.key):(e,n)=>tt.comparator(e.key,n.key),this.keyedMap=Wo(),this.sortedSet=new ir(this.comparator)}static emptySet(t){return new Ha(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ha)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const n=new Ha;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.W_=new ir(tt.comparator)}track(t){const e=t.doc.key,n=this.W_.get(e);n?t.type!==0&&n.type===3?this.W_=this.W_.insert(e,t):t.type===3&&n.type!==1?this.W_=this.W_.insert(e,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.W_=this.W_.remove(e):t.type===1&&n.type===2?this.W_=this.W_.insert(e,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):ct():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal((e,n)=>{t.push(n)}),t}}class io{constructor(t,e,n,i,s,a,c,l,o){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=o}static fromInitialDocuments(t,e,n,i,s){const a=[];return e.forEach(c=>{a.push({type:0,doc:c})}),new io(t,e,Ha.emptySet(e),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Pd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class OE{constructor(){this.queries=O1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(e,n){const i=ht(e),s=i.queries;i.queries=O1(),s.forEach((a,c)=>{for(const l of c.j_)l.onError(n)})})(this,new Ve(_e.ABORTED,"Firestore shutting down"))}}function O1(){return new bo(r=>Cw(r),Pd)}async function d0(r,t){const e=ht(r);let n=3;const i=t.query;let s=e.queries.get(i);s?!s.H_()&&t.J_()&&(n=2):(s=new ME,n=t.J_()?0:1);try{switch(n){case 0:s.z_=await e.onListen(i,!0);break;case 1:s.z_=await e.onListen(i,!1);break;case 2:await e.onFirstRemoteStoreListen(i)}}catch(a){const c=u0(a,`Initialization of query '${ya(t.query)}' failed`);return void t.onError(c)}e.queries.set(i,s),s.j_.push(t),t.Z_(e.onlineState),s.z_&&t.X_(s.z_)&&f0(e)}async function h0(r,t){const e=ht(r),n=t.query;let i=3;const s=e.queries.get(n);if(s){const a=s.j_.indexOf(t);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function DE(r,t){const e=ht(r);let n=!1;for(const i of t){const s=i.query,a=e.queries.get(s);if(a){for(const c of a.j_)c.X_(i)&&(n=!0);a.z_=i}}n&&f0(e)}function FE(r,t,e){const n=ht(r),i=n.queries.get(t);if(i)for(const s of i.j_)s.onError(e);n.queries.delete(t)}function f0(r){r.Y_.forEach(t=>{t.next()})}var gp,D1;(D1=gp||(gp={})).ea="default",D1.Cache="cache";class p0{constructor(t,e,n){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new io(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){if(!t.fromCache||!this.J_())return!0;const n=e!=="Offline";return(!this.options._a||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const e=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}oa(t){t=io.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==gp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(t){this.key=t}}class l4{constructor(t){this.key=t}}class LE{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Et(),this.mutatedKeys=Et(),this.Aa=Aw(t),this.Ra=new Ha(this.Aa)}get Va(){return this.Ta}ma(t,e){const n=e?e.fa:new M1,i=e?e.Ra:this.Ra;let s=e?e.mutatedKeys:this.mutatedKeys,a=i,c=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,o=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((u,p)=>{const d=i.get(u),h=Md(this.query,p)?p:null,g=!!d&&this.mutatedKeys.has(d.key),b=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let m=!1;d&&h?d.data.isEqual(h.data)?g!==b&&(n.track({type:3,doc:h}),m=!0):this.ga(d,h)||(n.track({type:2,doc:h}),m=!0,(l&&this.Aa(h,l)>0||o&&this.Aa(h,o)<0)&&(c=!0)):!d&&h?(n.track({type:0,doc:h}),m=!0):d&&!h&&(n.track({type:1,doc:d}),m=!0,(l||o)&&(c=!0)),m&&(h?(a=a.add(h),s=b?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),n.track({type:1,doc:u})}return{Ra:a,fa:n,ns:c,mutatedKeys:s}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,i){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const a=t.fa.G_();a.sort((u,p)=>function(h,g){const b=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return b(h)-b(g)}(u.type,p.type)||this.Aa(u.doc,p.doc)),this.pa(n),i=i!=null&&i;const c=e&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,o=l!==this.Ea;return this.Ea=l,a.length!==0||o?{snapshot:new io(this.query,t.Ra,s,a,t.mutatedKeys,l===0,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new M1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Et(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const e=[];return t.forEach(n=>{this.da.has(n)||e.push(new l4(n))}),this.da.forEach(n=>{t.has(n)||e.push(new o4(n))}),e}ba(t){this.Ta=t.Ts,this.da=Et();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return io.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class BE{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class VE{constructor(t){this.key=t,this.va=!1}}class zE{constructor(t,e,n,i,s,a){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new bo(c=>Cw(c),Pd),this.Ma=new Map,this.xa=new Set,this.Oa=new ir(tt.comparator),this.Na=new Map,this.La=new r0,this.Ba={},this.ka=new Map,this.qa=no.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function UE(r,t,e=!0){const n=p4(r);let i;const s=n.Fa.get(t);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await c4(n,t,e,!0),i}async function $E(r,t){const e=p4(r);await c4(e,t,!0,!1)}async function c4(r,t,e,n){const i=await dE(r.localStore,ci(t)),s=i.targetId,a=r.sharedClientState.addLocalQueryTarget(s,e);let c;return n&&(c=await HE(r,t,s,a==="current",i.resumeToken)),r.isPrimaryClient&&e&&t4(r.remoteStore,i),c}async function HE(r,t,e,n,i){r.Ka=(p,d,h)=>async function(b,m,y,v){let w=m.view.ma(y);w.ns&&(w=await A1(b.localStore,m.query,!1).then(({documents:L})=>m.view.ma(L,w)));const E=v&&v.targetChanges.get(m.targetId),A=v&&v.targetMismatches.get(m.targetId)!=null,D=m.view.applyChanges(w,b.isPrimaryClient,E,A);return L1(b,m.targetId,D.wa),D.snapshot}(r,p,d,h);const s=await A1(r.localStore,t,!0),a=new LE(t,s.Ts),c=a.ma(s.documents),l=nc.createSynthesizedTargetChangeForCurrentChange(e,n&&r.onlineState!=="Offline",i),o=a.applyChanges(c,r.isPrimaryClient,l);L1(r,e,o.wa);const u=new BE(t,e,a);return r.Fa.set(t,u),r.Ma.has(e)?r.Ma.get(e).push(t):r.Ma.set(e,[t]),o.snapshot}async function qE(r,t,e){const n=ht(r),i=n.Fa.get(t),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!Pd(a,t))),void n.Fa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await mp(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),e&&s0(n.remoteStore,i.targetId),bp(n,i.targetId)}).catch(ec)):(bp(n,i.targetId),await mp(n.localStore,i.targetId,!0))}async function WE(r,t){const e=ht(r),n=e.Fa.get(t),i=e.Ma.get(n.targetId);e.isPrimaryClient&&i.length===1&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),s0(e.remoteStore,n.targetId))}async function GE(r,t,e){const n=ej(r);try{const i=await function(a,c){const l=ht(a),o=vr.now(),u=c.reduce((h,g)=>h.add(g.key),Et());let p,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let g=Oi(),b=Et();return l.cs.getEntries(h,u).next(m=>{g=m,g.forEach((y,v)=>{v.isValidDocument()||(b=b.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,g)).next(m=>{p=m;const y=[];for(const v of c){const w=m7(v,p.get(v.key).overlayedDocument);w!=null&&y.push(new As(v.key,w,ww(w.value.mapValue),In.exists(!0)))}return l.mutationQueue.addMutationBatch(h,o,y,c)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(p,b);return l.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:Rw(p)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(a,c,l){let o=a.Ba[a.currentUser.toKey()];o||(o=new ir(Bt)),o=o.insert(c,l),a.Ba[a.currentUser.toKey()]=o}(n,i.batchId,e),await sc(n,i.changes),await Vd(n.remoteStore)}catch(i){const s=u0(i,"Failed to persist write");e.reject(s)}}async function u4(r,t){const e=ht(r);try{const n=await lE(e.localStore,t);t.targetChanges.forEach((i,s)=>{const a=e.Na.get(s);a&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?$t(a.va):i.removedDocuments.size>0&&($t(a.va),a.va=!1))}),await sc(e,n,t)}catch(n){await ec(n)}}function F1(r,t,e){const n=ht(r);if(n.isPrimaryClient&&e===0||!n.isPrimaryClient&&e===1){const i=[];n.Fa.forEach((s,a)=>{const c=a.view.Z_(t);c.snapshot&&i.push(c.snapshot)}),function(a,c){const l=ht(a);l.onlineState=c;let o=!1;l.queries.forEach((u,p)=>{for(const d of p.j_)d.Z_(c)&&(o=!0)}),o&&f0(l)}(n.eventManager,t),i.length&&n.Ca.d_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function KE(r,t,e){const n=ht(r);n.sharedClientState.updateQueryState(t,"rejected",e);const i=n.Na.get(t),s=i&&i.key;if(s){let a=new ir(tt.comparator);a=a.insert(s,Hr.newNoDocument(s,dt.min()));const c=Et().add(s),l=new Fd(dt.min(),new Map,new ir(Bt),a,c);await u4(n,l),n.Oa=n.Oa.remove(s),n.Na.delete(t),m0(n)}else await mp(n.localStore,t,!1).then(()=>bp(n,t,e)).catch(ec)}async function XE(r,t){const e=ht(r),n=t.batch.batchId;try{const i=await oE(e.localStore,t);h4(e,n,null),d4(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),await sc(e,i)}catch(i){await ec(i)}}async function QE(r,t,e){const n=ht(r);try{const i=await function(a,c){const l=ht(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",o=>{let u;return l.mutationQueue.lookupMutationBatch(o,c).next(p=>($t(p!==null),u=p.keys(),l.mutationQueue.removeMutationBatch(o,p))).next(()=>l.mutationQueue.performConsistencyCheck(o)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(o,u,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,u)).next(()=>l.localDocuments.getDocuments(o,u))})}(n.localStore,t);h4(n,t,e),d4(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),await sc(n,i)}catch(i){await ec(i)}}function d4(r,t){(r.ka.get(t)||[]).forEach(e=>{e.resolve()}),r.ka.delete(t)}function h4(r,t,e){const n=ht(r);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(t);s&&(e?s.reject(e):s.resolve(),i=i.remove(t)),n.Ba[n.currentUser.toKey()]=i}}function bp(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const n of r.Ma.get(t))r.Fa.delete(n),e&&r.Ca.$a(n,e);r.Ma.delete(t),r.isPrimaryClient&&r.La.gr(t).forEach(n=>{r.La.containsKey(n)||f4(r,n)})}function f4(r,t){r.xa.delete(t.path.canonicalString());const e=r.Oa.get(t);e!==null&&(s0(r.remoteStore,e),r.Oa=r.Oa.remove(t),r.Na.delete(e),m0(r))}function L1(r,t,e){for(const n of e)n instanceof o4?(r.La.addReference(n.key,t),YE(r,n)):n instanceof l4?(We("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,t),r.La.containsKey(n.key)||f4(r,n.key)):ct()}function YE(r,t){const e=t.key,n=e.path.canonicalString();r.Oa.get(e)||r.xa.has(n)||(We("SyncEngine","New document in limbo: "+e),r.xa.add(n),m0(r))}function m0(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const t=r.xa.values().next().value;r.xa.delete(t);const e=new tt(Xt.fromString(t)),n=r.qa.next();r.Na.set(n,new VE(e)),r.Oa=r.Oa.insert(e,n),t4(r.remoteStore,new as(ci(Rd(e.path)),n,"TargetPurposeLimboResolution",qm.oe))}}async function sc(r,t,e){const n=ht(r),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((c,l)=>{a.push(n.Ka(l,t,e).then(o=>{var u;if((o||e)&&n.isPrimaryClient){const p=o?!o.fromCache:(u=e==null?void 0:e.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(o){i.push(o);const p=i0.Wi(l.targetId,o);s.push(p)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(l,o){const u=ht(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>je.forEach(o,d=>je.forEach(d.$i,h=>u.persistence.referenceDelegate.addReference(p,d.targetId,h)).next(()=>je.forEach(d.Ui,h=>u.persistence.referenceDelegate.removeReference(p,d.targetId,h)))))}catch(p){if(!tc(p))throw p;We("LocalStore","Failed to update sequence numbers: "+p)}for(const p of o){const d=p.targetId;if(!p.fromCache){const h=u.os.get(d),g=h.snapshotVersion,b=h.withLastLimboFreeSnapshotVersion(g);u.os=u.os.insert(d,b)}}}(n.localStore,s))}async function ZE(r,t){const e=ht(r);if(!e.currentUser.isEqual(t)){We("SyncEngine","User change. New user:",t.toKey());const n=await Yw(e.localStore,t);e.currentUser=t,function(s,a){s.ka.forEach(c=>{c.forEach(l=>{l.reject(new Ve(_e.CANCELLED,a))})}),s.ka.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await sc(e,n.hs)}}function JE(r,t){const e=ht(r),n=e.Na.get(t);if(n&&n.va)return Et().add(n.key);{let i=Et();const s=e.Ma.get(t);if(!s)return i;for(const a of s){const c=e.Fa.get(a);i=i.unionWith(c.view.Va)}return i}}function p4(r){const t=ht(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=u4.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=JE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KE.bind(null,t),t.Ca.d_=DE.bind(null,t.eventManager),t.Ca.$a=FE.bind(null,t.eventManager),t}function ej(r){const t=ht(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=QE.bind(null,t),t}class td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ld(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,e){return null}Ha(t,e){return null}za(t){return aE(this.persistence,new iE,t.initialUser,this.serializer)}Ga(t){return new tE(n0.Zr,this.serializer)}Wa(t){return new fE}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}td.provider={build:()=>new td};class vp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>F1(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZE.bind(null,this.syncEngine),await PE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new OE}()}createDatastore(t){const e=Ld(t.databaseInfo.databaseId),n=function(s){return new bE(s)}(t.databaseInfo);return function(s,a,c,l){return new xE(s,a,c,l)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(n,i,s,a,c){return new _E(n,i,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,e=>F1(this.syncEngine,e,0),function(){return R1.D()?new R1:new pE}())}createSyncEngine(t,e){return function(i,s,a,c,l,o,u){const p=new zE(i,s,a,c,l,o);return u&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(i){const s=ht(i);We("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await ic(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}vp.provider={build:()=>new vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Mi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(t,e,n,i,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=Ur.UNAUTHENTICATED,this.clientId=vw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{We("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(We("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=u0(e,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function qh(r,t){r.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const e=r.configuration;await t.initialize(e);let n=e.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await Yw(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function B1(r,t){r.asyncQueue.verifyOperationInProgress();const e=await rj(r);We("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(e,r.configuration),r.setCredentialChangeListener(n=>P1(t.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>P1(t.remoteStore,i)),r._onlineComponents=t}async function rj(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){We("FirestoreClient","Using user provided OfflineComponentProvider");try{await qh(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(i){return i.name==="FirebaseError"?i.code===_e.FAILED_PRECONDITION||i.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(e))throw e;Ja("Error using user provided cache. Falling back to memory cache: "+e),await qh(r,new td)}}else We("FirestoreClient","Using default OfflineComponentProvider"),await qh(r,new td);return r._offlineComponents}async function m4(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(We("FirestoreClient","Using user provided OnlineComponentProvider"),await B1(r,r._uninitializedComponentsProvider._online)):(We("FirestoreClient","Using default OnlineComponentProvider"),await B1(r,new vp))),r._onlineComponents}function nj(r){return m4(r).then(t=>t.syncEngine)}async function rd(r){const t=await m4(r),e=t.eventManager;return e.onListen=UE.bind(null,t.syncEngine),e.onUnlisten=qE.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=$E.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=WE.bind(null,t.syncEngine),e}function ij(r,t,e={}){const n=new Ei;return r.asyncQueue.enqueueAndForget(async()=>function(s,a,c,l,o){const u=new g0({next:d=>{u.Za(),a.enqueueAndForget(()=>h0(s,p));const h=d.docs.has(c);!h&&d.fromCache?o.reject(new Ve(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&l&&l.source==="server"?o.reject(new Ve(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(d)},error:d=>o.reject(d)}),p=new p0(Rd(c.path),u,{includeMetadataChanges:!0,_a:!0});return d0(s,p)}(await rd(r),r.asyncQueue,t,e,n)),n.promise}function sj(r,t,e={}){const n=new Ei;return r.asyncQueue.enqueueAndForget(async()=>function(s,a,c,l,o){const u=new g0({next:d=>{u.Za(),a.enqueueAndForget(()=>h0(s,p)),d.fromCache&&l.source==="server"?o.reject(new Ve(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(d)},error:d=>o.reject(d)}),p=new p0(c,u,{includeMetadataChanges:!0,_a:!0});return d0(s,p)}(await rd(r),r.asyncQueue,t,e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(r,t,e){if(!e)throw new Ve(_e.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function aj(r,t,e,n){if(t===!0&&n===!0)throw new Ve(_e.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function z1(r){if(!tt.isDocumentKey(r))throw new Ve(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function U1(r){if(tt.isDocumentKey(r))throw new Ve(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function zd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":ct()}function hn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new Ve(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=zd(r);throw new Ve(_e.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}function oj(r,t){if(t<=0)throw new Ve(_e.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t){var e,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Ve(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(e=t.ssl)===null||e===void 0||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Ve(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aj("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g4((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ve(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ve(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ve(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ud{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ve(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ve(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $1(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new k9;switch(n.type){case"firstParty":return new T9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ve(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=V1.get(e);n&&(We("ComponentProvider","Removing Datastore"),V1.delete(e),n.terminate())}(this),Promise.resolve()}}function lj(r,t,e,n={}){var i;const s=(r=hn(r,Ud))._getSettings(),a=`${t}:${e}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let c,l;if(typeof n.mockUserToken=="string")c=n.mockUserToken,l=Ur.MOCK_USER;else{c=O8(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const o=n.mockUserToken.sub||n.mockUserToken.user_id;if(!o)throw new Ve(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ur(o)}r._authCredentials=new N9(new bw(c,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new zi(this.firestore,t,this._query)}}class qr{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qr(this.firestore,t,this._key)}}class vs extends zi{constructor(t,e,n){super(t,e,Rd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qr(this.firestore,null,new tt(t))}withConverter(t){return new vs(this.firestore,t,this._path)}}function so(r,t,...e){if(r=nr(r),b4("collection","path",t),r instanceof Ud){const n=Xt.fromString(t,...e);return U1(n),new vs(r,null,n)}{if(!(r instanceof qr||r instanceof vs))throw new Ve(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Xt.fromString(t,...e));return U1(n),new vs(r.firestore,null,n)}}function _n(r,t,...e){if(r=nr(r),arguments.length===1&&(t=vw.newId()),b4("doc","path",t),r instanceof Ud){const n=Xt.fromString(t,...e);return z1(n),new qr(r,null,new tt(n))}{if(!(r instanceof qr||r instanceof vs))throw new Ve(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Xt.fromString(t,...e));return z1(n),new qr(r.firestore,r instanceof vs?r.converter:null,new tt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Jw(this,"async_queue_retry"),this.Vu=()=>{const n=Hh();n&&We("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=t;const e=Hh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const e=Hh();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const e=new Ei;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!tc(t))throw t;We("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const e=this.mu.then(()=>(this.du=!0,t().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(n);throw Mi("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=e,e}enqueueAfterDelay(t,e,n){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);const i=c0.createAndSchedule(this,t,e,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ct()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(const e of this.Tu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const e=this.Tu.indexOf(t);this.Tu.splice(e,1)}}function q1(r){return function(e,n){if(typeof e!="object"||e===null)return!1;const i=e;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(r,["next","error","complete"])}class Di extends Ud{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new H1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new H1(t),this._firestoreClient=void 0,await t}}}function cj(r,t){const e=typeof r=="object"?r:Mm(),n=typeof r=="string"?r:"(default)",i=aa(e,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=P8("firestore");s&&lj(i,...s)}return i}function $d(r){if(r._terminated)throw new Ve(_e.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||uj(r),r._firestoreClient}function uj(r){var t,e,n;const i=r._freezeSettings(),s=function(c,l,o,u){return new z9(c,l,o,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,g4(u.experimentalLongPollingOptions),u.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((e=i.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new tj(r._authCredentials,r._appCheckCredentials,r._queue,s,r._componentsProvider&&function(c){const l=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(l),_online:l}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ao(Or.fromBase64String(t))}catch(e){throw new Ve(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ao(Or.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Ve(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ir(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ve(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ve(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=/^__.*__$/;class hj{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return this.fieldMask!==null?new As(t,this.data,this.fieldMask,e,this.fieldTransforms):new rc(t,this.data,e,this.fieldTransforms)}}class v4{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new As(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function y4(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class x0{constructor(t,e,n,i,s,a){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new x0(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;const n=(e=this.path)===null||e===void 0?void 0:e.child(t),i=this.Fu({path:n,xu:!1});return i.Ou(t),i}Nu(t){var e;const n=(e=this.path)===null||e===void 0?void 0:e.child(t),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return nd(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(y4(this.Cu)&&dj.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class fj{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||Ld(t)}Qu(t,e,n,i=!1){return new x0({Cu:t,methodName:e,qu:n,path:Ir.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qd(r){const t=r._freezeSettings(),e=Ld(r._databaseId);return new fj(r._databaseId,!!t.ignoreUndefinedProperties,e)}function x4(r,t,e,n,i,s={}){const a=r.Qu(s.merge||s.mergeFields?2:0,t,e,i);w0("Data must be an object, but it was:",a,n);const c=w4(n,a);let l,o;if(s.merge)l=new vn(a.fieldMask),o=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const p of s.mergeFields){const d=yp(t,p,e);if(!a.contains(d))throw new Ve(_e.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);S4(u,d)||u.push(d)}l=new vn(u),o=a.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,o=a.fieldTransforms;return new hj(new an(c),l,o)}class Wd extends b0{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Wd}}function pj(r,t,e,n){const i=r.Qu(1,t,e);w0("Data must be an object, but it was:",i,n);const s=[],a=an.empty();la(n,(l,o)=>{const u=_0(t,l,e);o=nr(o);const p=i.Nu(u);if(o instanceof Wd)s.push(u);else{const d=ac(o,p);d!=null&&(s.push(u),a.set(u,d))}});const c=new vn(s);return new v4(a,c,i.fieldTransforms)}function mj(r,t,e,n,i,s){const a=r.Qu(1,t,e),c=[yp(t,n,e)],l=[i];if(s.length%2!=0)throw new Ve(_e.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)c.push(yp(t,s[d])),l.push(s[d+1]);const o=[],u=an.empty();for(let d=c.length-1;d>=0;--d)if(!S4(o,c[d])){const h=c[d];let g=l[d];g=nr(g);const b=a.Nu(h);if(g instanceof Wd)o.push(h);else{const m=ac(g,b);m!=null&&(o.push(h),u.set(h,m))}}const p=new vn(o);return new v4(u,p,a.fieldTransforms)}function gj(r,t,e,n=!1){return ac(e,r.Qu(n?4:3,t))}function ac(r,t){if(_4(r=nr(r)))return w0("Unsupported field value:",t,r),w4(r,t);if(r instanceof b0)return function(n,i){if(!y4(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const c of n){let l=ac(c,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(r,t)}return function(n,i){if((n=nr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return c7(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=vr.fromDate(n);return{timestampValue:Ju(i.serializer,s)}}if(n instanceof vr){const s=new vr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ju(i.serializer,s)}}if(n instanceof v0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ao)return{bytesValue:Hw(i.serializer,n._byteString)};if(n instanceof qr){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:t0(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof y0)return function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw c.Bu("VectorValues must only contain numeric values.");return Ym(c.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${zd(n)}`)}(r,t)}function w4(r,t){const e={};return yw(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):la(r,(n,i)=>{const s=ac(i,t.Mu(n));s!=null&&(e[n]=s)}),{mapValue:{fields:e}}}function _4(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof vr||r instanceof v0||r instanceof ao||r instanceof qr||r instanceof b0||r instanceof y0)}function w0(r,t,e){if(!_4(e)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(e)){const n=zd(e);throw n==="an object"?t.Bu(r+" a custom object"):t.Bu(r+" "+n)}}function yp(r,t,e){if((t=nr(t))instanceof Hd)return t._internalPath;if(typeof t=="string")return _0(r,t);throw nd("Field path arguments must be of type string or ",r,!1,void 0,e)}const bj=new RegExp("[~\\*/\\[\\]]");function _0(r,t,e){if(t.search(bj)>=0)throw nd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new Hd(...t.split("."))._internalPath}catch{throw nd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function nd(r,t,e,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new Ve(_e.INVALID_ARGUMENT,c+r+l)}function S4(r,t){return r.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(t,e,n,i,s){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new vj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(S0("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class vj extends k4{data(){return super.data()}}function S0(r,t){return typeof t=="string"?_0(r,t):t instanceof Hd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ve(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class k0{}class N0 extends k0{}function E4(r,t,...e){let n=[];t instanceof k0&&n.push(t),n=n.concat(e),function(s){const a=s.filter(l=>l instanceof j0).length,c=s.filter(l=>l instanceof E0).length;if(a>1||a>0&&c>0)throw new Ve(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class E0 extends N0{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new E0(t,e,n)}_apply(t){const e=this._parse(t);return T4(t._query,e),new zi(t.firestore,t.converter,up(t._query,e))}_parse(t){const e=qd(t.firestore);return function(s,a,c,l,o,u,p){let d;if(o.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ve(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){G1(p,u);const h=[];for(const g of p)h.push(W1(l,s,g));d={arrayValue:{values:h}}}else d=W1(l,s,p)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||G1(p,u),d=gj(c,a,p,u==="in"||u==="not-in");return pr.create(o,u,d)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class j0 extends k0{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new j0(t,e)}_parse(t){const e=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return e.length===1?e[0]:Kn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(i,s){let a=i;const c=s.getFlattenedFilters();for(const l of c)T4(a,l),a=up(a,l)}(t._query,e),new zi(t.firestore,t.converter,up(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class T0 extends N0{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new T0(t,e)}_apply(t){const e=function(i,s,a){if(i.startAt!==null)throw new Ve(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ve(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ll(s,a)}(t._query,this._field,this._direction);return new zi(t.firestore,t.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new go(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}function yj(r,t="asc"){const e=t,n=S0("orderBy",r);return T0._create(n,e)}class C0 extends N0{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new C0(t,e,n)}_apply(t){return new zi(t.firestore,t.converter,Qu(t._query,this._limit,this._limitType))}}function j4(r){return oj("limit",r),C0._create("limit",r,"F")}function W1(r,t,e){if(typeof(e=nr(e))=="string"){if(e==="")throw new Ve(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tw(t)&&e.indexOf("/")!==-1)throw new Ve(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child(Xt.fromString(e));if(!tt.isDocumentKey(n))throw new Ve(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return f1(r,new tt(n))}if(e instanceof qr)return f1(r,e._key);throw new Ve(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zd(e)}.`)}function G1(r,t){if(!Array.isArray(r)||r.length===0)throw new Ve(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function T4(r,t){const e=function(i,s){for(const a of i)for(const c of a.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new Ve(_e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ve(_e.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class xj{convertValue(t,e="none"){switch(ea(t)){case 0:return null;case 1:return t.booleanValue;case 2:return lr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Js(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw ct()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return la(t,(i,s)=>{n[i]=this.convertValue(s,e)}),n}convertVectorValue(t){var e,n,i;const s=(i=(n=(e=t.fields)===null||e===void 0?void 0:e.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>lr(a.doubleValue));return new y0(s)}convertGeoPoint(t){return new v0(lr(t.latitude),lr(t.longitude))}convertArray(t,e){return(t.values||[]).map(n=>this.convertValue(n,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Gm(t);return n==null?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const e=_s(t);return new vr(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Xt.fromString(t);$t(Qw(n));const i=new Dl(n.get(1),n.get(3)),s=new tt(n.popFirst(5));return i.isEqual(e)||Mi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(r,t,e){let n;return n=r?e&&(e.merge||e.mergeFields)?r.toFirestore(t,e):r.toFirestore(t):t,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class A4 extends k4{constructor(t,e,n,i,s,a){super(t,e,n,i,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new du(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(S0("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class du extends A4{data(t={}){return super.data(t)}}class I4{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Ko(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new du(this._firestore,this._userDataWriter,n.key,n,new Ko(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ve(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>{const l=new du(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ko(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const l=new du(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ko(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let o=-1,u=-1;return c.type!==0&&(o=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),u=a.indexOf(c.doc.key)),{type:wj(c.type),doc:l,oldIndex:o,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function wj(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(r){r=hn(r,qr);const t=hn(r.firestore,Di);return ij($d(t),r._key).then(e=>O4(t,r,e))}class A0 extends xj{constructor(t){super(),this.firestore=t}convertBytes(t){return new ao(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new qr(this.firestore,null,e)}}function R4(r){r=hn(r,zi);const t=hn(r.firestore,Di),e=$d(t),n=new A0(t);return N4(r._query),sj(e,r._query).then(i=>new I4(t,n,r,i))}function Kd(r,t,e){r=hn(r,qr);const n=hn(r.firestore,Di),i=C4(r.converter,t,e);return Xd(n,[x4(qd(n),"setDoc",r._key,i,r.converter!==null,e).toMutation(r._key,In.none())])}function P4(r,t,e,...n){r=hn(r,qr);const i=hn(r.firestore,Di),s=qd(i);let a;return a=typeof(t=nr(t))=="string"||t instanceof Hd?mj(s,"updateDoc",r._key,t,e,n):pj(s,"updateDoc",r._key,t),Xd(i,[a.toMutation(r._key,In.exists(!0))])}function _j(r){return Xd(hn(r.firestore,Di),[new Zm(r._key,In.none())])}function M4(r,t){const e=hn(r.firestore,Di),n=_n(r),i=C4(r.converter,t);return Xd(e,[x4(qd(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,In.exists(!1))]).then(()=>n)}function I0(r,...t){var e,n,i;r=nr(r);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||q1(t[a])||(s=t[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(q1(t[a])){const p=t[a];t[a]=(e=p.next)===null||e===void 0?void 0:e.bind(p),t[a+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),t[a+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,o,u;if(r instanceof qr)o=hn(r.firestore,Di),u=Rd(r._key.path),l={next:p=>{t[a]&&t[a](O4(o,r,p))},error:t[a+1],complete:t[a+2]};else{const p=hn(r,zi);o=hn(p.firestore,Di),u=p._query;const d=new A0(o);l={next:h=>{t[a]&&t[a](new I4(o,d,p,h))},error:t[a+1],complete:t[a+2]},N4(r._query)}return function(d,h,g,b){const m=new g0(b),y=new p0(h,m,g);return d.asyncQueue.enqueueAndForget(async()=>d0(await rd(d),y)),()=>{m.Za(),d.asyncQueue.enqueueAndForget(async()=>h0(await rd(d),y))}}($d(o),u,c,l)}function Xd(r,t){return function(n,i){const s=new Ei;return n.asyncQueue.enqueueAndForget(async()=>GE(await nj(n),i,s)),s.promise}($d(r),t)}function O4(r,t,e){const n=e.docs.get(t._key),i=new A0(r);return new A4(r,i,t._key,n,new Ko(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(i){mo=i})(po),di(new Wn("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),c=new Di(new E9(n.getProvider("auth-internal")),new A9(n.getProvider("app-check-internal")),function(o,u){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Ve(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(o.options.projectId,u)}(a,i),a);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),An(l1,"4.7.3",t),An(l1,"4.7.3","esm2017")})();var Sj="firebase",kj="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An(Sj,kj,"app");const D4="@firebase/installations",R0="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=1e4,L4=`w:${R0}`,B4="FIS_v2",Nj="https://firebaseinstallations.googleapis.com/v1",Ej=60*60*1e3,jj="installations",Tj="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ta=new sa(jj,Tj,Cj);function V4(r){return r instanceof Xn&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4({projectId:r}){return`${Nj}/projects/${r}/installations`}function U4(r){return{token:r.token,requestStatus:2,expiresIn:Ij(r.expiresIn),creationTime:Date.now()}}async function $4(r,t){const n=(await t.json()).error;return ta.create("request-failed",{requestName:r,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function H4({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function Aj(r,{refreshToken:t}){const e=H4(r);return e.append("Authorization",Rj(t)),e}async function q4(r){const t=await r();return t.status>=500&&t.status<600?r():t}function Ij(r){return Number(r.replace("s","000"))}function Rj(r){return`${B4} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj({appConfig:r,heartbeatServiceProvider:t},{fid:e}){const n=z4(r),i=H4(r),s=t.getImmediate({optional:!0});if(s){const o=await s.getHeartbeatsHeader();o&&i.append("x-firebase-client",o)}const a={fid:e,authVersion:B4,appId:r.appId,sdkVersion:L4},c={method:"POST",headers:i,body:JSON.stringify(a)},l=await q4(()=>fetch(n,c));if(l.ok){const o=await l.json();return{fid:o.fid||e,registrationStatus:2,refreshToken:o.refreshToken,authToken:U4(o.authToken)}}else throw await $4("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=/^[cdef][\w-]{21}$/,xp="";function Dj(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const e=Fj(r);return Oj.test(e)?e:xp}catch{return xp}}function Fj(r){return Mj(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=new Map;function K4(r,t){const e=Qd(r);X4(e,t),Lj(e,t)}function X4(r,t){const e=G4.get(r);if(e)for(const n of e)n(t)}function Lj(r,t){const e=Bj();e&&e.postMessage({key:r,fid:t}),Vj()}let zs=null;function Bj(){return!zs&&"BroadcastChannel"in self&&(zs=new BroadcastChannel("[Firebase] FID Change"),zs.onmessage=r=>{X4(r.data.key,r.data.fid)}),zs}function Vj(){G4.size===0&&zs&&(zs.close(),zs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj="firebase-installations-database",Uj=1,ra="firebase-installations-store";let Wh=null;function P0(){return Wh||(Wh=Nx(zj,Uj,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(ra)}}})),Wh}async function id(r,t){const e=Qd(r),i=(await P0()).transaction(ra,"readwrite"),s=i.objectStore(ra),a=await s.get(e);return await s.put(t,e),await i.done,(!a||a.fid!==t.fid)&&K4(r,t.fid),t}async function Q4(r){const t=Qd(r),n=(await P0()).transaction(ra,"readwrite");await n.objectStore(ra).delete(t),await n.done}async function Yd(r,t){const e=Qd(r),i=(await P0()).transaction(ra,"readwrite"),s=i.objectStore(ra),a=await s.get(e),c=t(a);return c===void 0?await s.delete(e):await s.put(c,e),await i.done,c&&(!a||a.fid!==c.fid)&&K4(r,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(r){let t;const e=await Yd(r.appConfig,n=>{const i=$j(n),s=Hj(r,i);return t=s.registrationPromise,s.installationEntry});return e.fid===xp?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function $j(r){const t=r||{fid:Dj(),registrationStatus:0};return Y4(t)}function Hj(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ta.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=qj(r,e);return{installationEntry:e,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Wj(r)}:{installationEntry:t}}async function qj(r,t){try{const e=await Pj(r,t);return id(r.appConfig,e)}catch(e){throw V4(e)&&e.customData.serverCode===409?await Q4(r.appConfig):await id(r.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function Wj(r){let t=await K1(r.appConfig);for(;t.registrationStatus===1;)await W4(100),t=await K1(r.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:n}=await M0(r);return n||e}return t}function K1(r){return Yd(r,t=>{if(!t)throw ta.create("installation-not-found");return Y4(t)})}function Y4(r){return Gj(r)?{fid:r.fid,registrationStatus:0}:r}function Gj(r){return r.registrationStatus===1&&r.registrationTime+F4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kj({appConfig:r,heartbeatServiceProvider:t},e){const n=Xj(r,e),i=Aj(r,e),s=t.getImmediate({optional:!0});if(s){const o=await s.getHeartbeatsHeader();o&&i.append("x-firebase-client",o)}const a={installation:{sdkVersion:L4,appId:r.appId}},c={method:"POST",headers:i,body:JSON.stringify(a)},l=await q4(()=>fetch(n,c));if(l.ok){const o=await l.json();return U4(o)}else throw await $4("Generate Auth Token",l)}function Xj(r,{fid:t}){return`${z4(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O0(r,t=!1){let e;const n=await Yd(r.appConfig,s=>{if(!Z4(s))throw ta.create("not-registered");const a=s.authToken;if(!t&&Zj(a))return s;if(a.requestStatus===1)return e=Qj(r,t),s;{if(!navigator.onLine)throw ta.create("app-offline");const c=eT(s);return e=Yj(r,c),c}});return e?await e:n.authToken}async function Qj(r,t){let e=await X1(r.appConfig);for(;e.authToken.requestStatus===1;)await W4(100),e=await X1(r.appConfig);const n=e.authToken;return n.requestStatus===0?O0(r,t):n}function X1(r){return Yd(r,t=>{if(!Z4(t))throw ta.create("not-registered");const e=t.authToken;return tT(e)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function Yj(r,t){try{const e=await Kj(r,t),n=Object.assign(Object.assign({},t),{authToken:e});return await id(r.appConfig,n),e}catch(e){if(V4(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await Q4(r.appConfig);else{const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await id(r.appConfig,n)}throw e}}function Z4(r){return r!==void 0&&r.registrationStatus===2}function Zj(r){return r.requestStatus===2&&!Jj(r)}function Jj(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+Ej}function eT(r){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:t})}function tT(r){return r.requestStatus===1&&r.requestTime+F4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rT(r){const t=r,{installationEntry:e,registrationPromise:n}=await M0(t);return n?n.catch(console.error):O0(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nT(r,t=!1){const e=r;return await iT(e),(await O0(e,t)).token}async function iT(r){const{registrationPromise:t}=await M0(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r){if(!r||!r.options)throw Gh("App Configuration");if(!r.name)throw Gh("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!r.options[e])throw Gh(e);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Gh(r){return ta.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="installations",aT="installations-internal",oT=r=>{const t=r.getProvider("app").getImmediate(),e=sT(t),n=aa(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},lT=r=>{const t=r.getProvider("app").getImmediate(),e=aa(t,J4).getImmediate();return{getId:()=>rT(e),getToken:i=>nT(e,i)}};function cT(){di(new Wn(J4,oT,"PUBLIC")),di(new Wn(aT,lT,"PRIVATE"))}cT();An(D4,R0);An(D4,R0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="analytics",uT="firebase_id",dT="origin",hT=60*1e3,fT="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",D0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new jd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xn=new sa("analytics","Analytics",pT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(r){if(!r.startsWith(D0)){const t=xn.create("invalid-gtag-resource",{gtagURL:r});return fn.warn(t.message),""}return r}function e5(r){return Promise.all(r.map(t=>t.catch(e=>e)))}function gT(r,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(r,t)),e}function bT(r,t){const e=gT("firebase-js-sdk-policy",{createScriptURL:mT}),n=document.createElement("script"),i=`${D0}?l=${r}&id=${t}`;n.src=e?e==null?void 0:e.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function vT(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function yT(r,t,e,n,i,s){const a=n[i];try{if(a)await t[a];else{const l=(await e5(e)).find(o=>o.measurementId===i);l&&await t[l.appId]}}catch(c){fn.error(c)}r("config",i,s)}async function xT(r,t,e,n,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const c=await e5(e);for(const l of a){const o=c.find(p=>p.measurementId===l),u=o&&t[o.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),r("event",n,i||{})}catch(s){fn.error(s)}}function wT(r,t,e,n){async function i(s,...a){try{if(s==="event"){const[c,l]=a;await xT(r,t,e,c,l)}else if(s==="config"){const[c,l]=a;await yT(r,t,e,n,c,l)}else if(s==="consent"){const[c,l]=a;r("consent",c,l)}else if(s==="get"){const[c,l,o]=a;r("get",c,l,o)}else if(s==="set"){const[c]=a;r("set",c)}else r(s,...a)}catch(c){fn.error(c)}}return i}function _T(r,t,e,n,i){let s=function(...a){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=wT(s,r,t,e),{gtagCore:s,wrappedGtag:window[i]}}function ST(r){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(D0)&&e.src.includes(r))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=30,NT=1e3;class ET{constructor(t={},e=NT){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const t5=new ET;function jT(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function TT(r){var t;const{appId:e,apiKey:n}=r,i={method:"GET",headers:jT(n)},s=fT.replace("{app-id}",e),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let c="";try{const l=await a.json();!((t=l.error)===null||t===void 0)&&t.message&&(c=l.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c})}return a.json()}async function CT(r,t=t5,e){const{appId:n,apiKey:i,measurementId:s}=r.options;if(!n)throw xn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:n};throw xn.create("no-api-key")}const a=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new RT;return setTimeout(async()=>{c.abort()},hT),r5({appId:n,apiKey:i,measurementId:s},a,c,t)}async function r5(r,{throttleEndTimeMillis:t,backoffCount:e},n,i=t5){var s;const{appId:a,measurementId:c}=r;try{await AT(n,t)}catch(l){if(c)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:c};throw l}try{const l=await TT(r);return i.deleteThrottleMetadata(a),l}catch(l){const o=l;if(!IT(o)){if(i.deleteThrottleMetadata(a),c)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${o==null?void 0:o.message}]`),{appId:a,measurementId:c};throw l}const u=Number((s=o==null?void 0:o.customData)===null||s===void 0?void 0:s.httpStatus)===503?Pb(e,i.intervalMillis,kT):Pb(e,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+u,backoffCount:e+1};return i.setThrottleMetadata(a,p),fn.debug(`Calling attemptFetch again in ${u} millis`),r5(r,p,n,i)}}function AT(r,t){return new Promise((e,n)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(e,i);r.addEventListener(()=>{clearTimeout(s),n(xn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function IT(r){if(!(r instanceof Xn)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class RT{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function PT(r,t,e,n,i){if(i&&i.global){r("event",e,n);return}else{const s=await t,a=Object.assign(Object.assign({},n),{send_to:s});r("event",e,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MT(){if(wx())try{await _x()}catch(r){return fn.warn(xn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return fn.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function OT(r,t,e,n,i,s,a){var c;const l=CT(r);l.then(h=>{e[h.measurementId]=h.appId,r.options.measurementId&&h.measurementId!==r.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>fn.error(h)),t.push(l);const o=MT().then(h=>{if(h)return n.getId()}),[u,p]=await Promise.all([l,o]);ST(s)||bT(s,u.measurementId),i("js",new Date);const d=(c=a==null?void 0:a.config)!==null&&c!==void 0?c:{};return d[dT]="firebase",d.update=!0,p!=null&&(d[uT]=p),i("config",u.measurementId,d),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(t){this.app=t}_delete(){return delete cl[this.app.options.appId],Promise.resolve()}}let cl={},Q1=[];const Y1={};let Kh="dataLayer",FT="gtag",Z1,n5,J1=!1;function LT(){const r=[];if(xx()&&r.push("This is a browser extension environment."),U8()||r.push("Cookies are not available."),r.length>0){const t=r.map((n,i)=>`(${i+1}) ${n}`).join(" "),e=xn.create("invalid-analytics-context",{errorInfo:t});fn.warn(e.message)}}function BT(r,t,e){LT();const n=r.options.appId;if(!n)throw xn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xn.create("no-api-key");if(cl[n]!=null)throw xn.create("already-exists",{id:n});if(!J1){vT(Kh);const{wrappedGtag:s,gtagCore:a}=_T(cl,Q1,Y1,Kh,FT);n5=s,Z1=a,J1=!0}return cl[n]=OT(r,Q1,Y1,t,Z1,Kh,e),new DT(r)}function VT(r=Mm()){r=nr(r);const t=aa(r,sd);return t.isInitialized()?t.getImmediate():zT(r)}function zT(r,t={}){const e=aa(r,sd);if(e.isInitialized()){const i=e.getImmediate();if(Il(t,e.getOptions()))return i;throw xn.create("already-initialized")}return e.initialize({options:t})}function UT(r,t,e,n){r=nr(r),PT(n5,cl[r.app.options.appId],t,e,n).catch(i=>fn.error(i))}const ev="@firebase/analytics",tv="0.10.8";function $T(){di(new Wn(sd,(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return BT(n,i,e)},"PUBLIC")),di(new Wn("analytics-internal",r,"PRIVATE")),An(ev,tv),An(ev,tv,"esm2017");function r(t){try{const e=t.getProvider(sd).getImmediate();return{logEvent:(n,i,s)=>UT(e,n,i,s)}}catch(e){throw xn.create("interop-component-reg-failed",{reason:e})}}}$T();const HT={apiKey:"AIzaSyB7wO778OuslNRSHXX6sAU2cUMTduUHFdU",authDomain:"regulatory-division-system.firebaseapp.com",projectId:"regulatory-division-system",storageBucket:"regulatory-division-system.firebasestorage.app",messagingSenderId:"446475268158",appId:"1:446475268158:web:3f30ad3f42586fdf22216f",measurementId:"G-DGDHPVTJ4F"},F0=Ex(HT);typeof window<"u"&&VT(F0);const ln=_9(F0),Sr=cj(F0),i5=ae.createContext(null);function ua(){const r=ae.useContext(i5);if(!r)throw new Error("useAuth must be used within AuthProvider");return r}function qT({children:r}){const[t,e]=ae.useState(null),[n,i]=ae.useState(null),[s,a]=ae.useState(!0);ae.useEffect(()=>{const p=uN(ln,async d=>{if(!d){e(null),i(null),a(!1);return}e(d);const h=await Gd(_n(Sr,"users",d.uid));i(h.exists()?h.data().role:"staff"),a(!1)});return()=>p()},[]);const u={user:t,role:n,loading:s,signIn:(p,d)=>sN(ln,p,d),signUp:(p,d)=>iN(ln,p,d),signOut:()=>dN(ln)};return f.jsx(i5.Provider,{value:u,children:r})}function WT({open:r,onClose:t,type:e="success",title:n,message:i}){if(!r)return null;const s=e==="success";return f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-md animate-[fade-in_0.2s_ease-out]",onClick:a=>a.target===a.currentTarget&&(t==null?void 0:t()),children:f.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md overflow-hidden modal-in border-2 border-primary/20 shadow-[0_25px_50px_-12px_rgba(0,0,0,0.4),0_0_0_1px_rgba(30,77,43,0.08)]",onClick:a=>a.stopPropagation(),children:[f.jsxs("div",{className:"p-8 text-center",children:[f.jsx("div",{className:`mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-5 ${s?"bg-primary/20 text-primary ring-4 ring-primary/20":"bg-red-100 text-red-600 ring-4 ring-red-200"}`,children:f.jsx("iconify-icon",{icon:s?"mdi:check-circle":"mdi:alert-circle",width:"40"})}),f.jsx("h3",{className:"text-xl font-black text-content mb-2 tracking-tight",children:n}),f.jsx("p",{className:"text-content/90 text-base font-medium leading-relaxed",children:i})]}),f.jsx("div",{className:"px-8 pb-8",children:f.jsx("button",{type:"button",onClick:t,className:`w-full py-3.5 rounded-xl font-bold text-white text-base transition-all duration-200 hover:scale-[1.02] active:scale-[0.98] shadow-lg ${s?"bg-primary hover:bg-primary-dark shadow-primary/25":"bg-red-600 hover:bg-red-700 shadow-red-900/20"}`,children:"OK"})})]})})}const rv=350;function GT({type:r="success",title:t,message:e,onClose:n,duration:i=3500}){const s=r==="success",[a,c]=ae.useState(!1),l=ae.useRef(null),o=ae.useRef(null);return ae.useEffect(()=>{const u=Math.max(0,i-rv);return o.current=setTimeout(()=>{c(!0),l.current=setTimeout(n,rv)},u),()=>{o.current&&clearTimeout(o.current),l.current&&clearTimeout(l.current)}},[i,n]),f.jsxs("div",{className:`fixed bottom-5 right-5 z-[110] flex max-w-[320px] items-start gap-3 rounded-xl border shadow-lg overflow-hidden ${a?"toast-exit":"toast-enter"}`,style:{background:s?"linear-gradient(135deg, #f0f9f4 0%, #ffffff 100%)":"linear-gradient(135deg, #fef2f2 0%, #ffffff 100%)",borderColor:s?"rgba(30, 77, 43, 0.25)":"rgba(220, 38, 38, 0.25)",boxShadow:"0 10px 40px -12px rgba(0,0,0,0.2), 0 0 0 1px rgba(0,0,0,0.04)"},role:"status","aria-live":"polite",children:[f.jsx("div",{className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-lg ${s?"bg-primary/15 text-primary":"bg-red-100 text-red-600"}`,children:f.jsx("iconify-icon",{icon:s?"mdi:check-circle":"mdi:alert-circle",width:"22",height:"22"})}),f.jsxs("div",{className:"min-w-0 py-3 pr-4",children:[f.jsx("p",{className:"text-sm font-bold text-content leading-tight",children:t}),f.jsx("p",{className:"text-xs text-text-muted mt-0.5 leading-snug",children:e})]})]})}const s5=ae.createContext(null);function L0(){const r=ae.useContext(s5);return r||{showNotification:()=>{},hideNotification:()=>{}}}function KT({children:r}){const[t,e]=ae.useState(null),n=a=>{e({type:a.type||"success",title:a.title||(a.type==="error"?"Error":"Success"),message:a.message||"",toast:a.toast===!0})},i=()=>e(null),s=(t==null?void 0:t.toast)===!0;return f.jsxs(s5.Provider,{value:{showNotification:n,hideNotification:i},children:[r,t&&s&&f.jsx(GT,{type:t.type,title:t.title,message:t.message,onClose:i}),t&&!s&&f.jsx(WT,{open:!!t,type:t.type,title:t.title,message:t.message,onClose:i})]})}const a5=ae.createContext({disabledUnitIds:[],isReady:!1});function Zd(){const r=ae.useContext(a5);return r||{disabledUnitIds:[],isReady:!1}}function XT({children:r}){const[t,e]=ae.useState([]),[n,i]=ae.useState(!1);return ae.useEffect(()=>{const s=_n(Sr,"settings","app"),a=I0(s,c=>{var o;const l=c.exists()&&Array.isArray((o=c.data())==null?void 0:o.disabledUnits)?c.data().disabledUnits:[];e(l),i(!0)},c=>{console.error("DisabledUnitsContext snapshot error:",c),i(!0)});return()=>a()},[]),f.jsx(a5.Provider,{value:{disabledUnitIds:t,isReady:n},children:r})}function o5(r){return((r||"").split("/").pop()||"").split("-").map((e,n)=>n===0?e:e.charAt(0).toUpperCase()+e.slice(1)).join("")}const Un=[{id:"animalFeed",label:"Animal Feeds Unit"},{id:"animalWelfare",label:"Animal Welfare"},{id:"livestockHandlers",label:"Livestock/Poultry/By-Products Handlers"},{id:"transportCarrier",label:"Transport Carriers"},{id:"plantMaterial",label:"Plant Material / Nursery"},{id:"organicAgri",label:"Organic Agriculture Certification"},{id:"goodAgriPractices",label:"Good Agricultural Practices"},{id:"goodAnimalHusbandry",label:"Good Animal Husbandry"},{id:"organicPostMarket",label:"Organic Post-Market Surveillance"},{id:"landUseMatter",label:"Land Use Matter"},{id:"foodSafety",label:"Food Safety"},{id:"plantPestSurveillance",label:"Plant Pest Surveillance"},{id:"cfsAdmcc",label:"CFS/ADMCC"},{id:"animalDiseaseSurveillance",label:"Animal Disease Surveillance"},{id:"safdzValidation",label:"SAFDZ Validation"}],l5={animalFeed:"companyName",animalWelfare:"facilityName",livestockHandlers:"nameOfEstablishment",transportCarrier:"nameOfEstablishment",plantMaterial:"applicant",organicAgri:"nameOfApplicant",goodAgriPractices:"nameOfApplicant",goodAnimalHusbandry:"recommendation",organicPostMarket:"identifiedMarketOutlet",landUseMatter:"nameOfApplicant",foodSafety:"recommendation",plantPestSurveillance:"farmerName",cfsAdmcc:"clientName",animalDiseaseSurveillance:"clientName",safdzValidation:"nameOfApplicant"},hu={animalFeed:["date","province","controlNo","registrationNo","dateOfInspection","dateOfMonitoring","companyName","lastName","middleName","firstName","nameExt","completeName","birthDate","barangay","municipality","completeAddress","officeAddress","plantAddress","cellphone","email","natureOfBusiness","businessOrg","productLines","type","orNo","orDate","fee","dateIssued","dateOfFeedSampling1stSem","dateOfFeedSampling2ndSem","noOfFeedSamples1stSem","noOfFeedSamples2ndSem","attachmentFileName","attachmentData","remarks","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],animalWelfare:["dateApplied","facilityName","ownerName","province","address","facilityType","speciesHandled","headVet","prcLicenseNo","certificateNo","validityDate","status","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],livestockHandlers:["controlNo","registrationNo","nameOfEstablishment","nameOfApplicant","address","province","typeOfApplication","dateOfApplicationReceivedAndEvaluated","orNumber","orDate","amountOfFeeCollected","dateOfInspection","validity","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],transportCarrier:["controlNo","registrationNo","nameOfEstablishment","nameOfApplicant","address","province","typeOfApplication","dateOfApplicationReceivedAndEvaluated","orNumber","orDate","amountOfFeeCollected","dateOfInspectionAndMonitoring","dateOfCertification","transmittalDateToBAI","validity","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],plantMaterial:["applicant","operator","province","location","cropsVariety","submissionOfApplicationForm","evaluationOfDocumentary","paymentOfApplicationFee","amountOfFee","dateOfInspectionAndEvaluation","approvedValidatedResult","endorsementToBPI","dateOfInspection1stSem","dateOfInspection2ndSem","status","validity","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],organicAgri:["application","nameOfGroup","nameOfApplicant","province","location","area","dateOfEvaluation","remarks","dateOfEndorsement","finalInspection","status","issuanceOfCertificate","finalRemarks","linkFile","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],goodAgriPractices:["formType","controlNo","dateOfRequest","nameOfApplicant","location","province","area","crop","dateOfPreAssessment","remarks","dateOfEndorsementToBPI","dateOfFinalInspection","status","dateOfMonitoring","nameOfFarmer","certificateNumber","certificateValidity","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],goodAnimalHusbandry:["province","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],organicPostMarket:["requestLetterDate","identifiedMarketOutlet","dateOfCommunicationLetter","nameOfProduct","commodity","certification","nameOfOwnerManager","province","location","dateOfSurveillance","remarks","linkFile","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],landUseMatter:["controlNo","nameOfApplicant","purposeOfApplication","sizeOfArea","province","location","dateOfRequest","dateReceivedAndEvaluated","dateOfReplyToRequest","dateReceivedByApplicant","fieldInvestigation","dateOfEndorsement","issuanceOfCertificate","remarks","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],foodSafety:["province","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],plantPestSurveillance:["dateOfRequestAndCollection","farmerName","province","address","contactNumber","gpsLocation","crop","variety","datePlanted","areaPlanted","areaAffected","percentInfestation","pestsDiseases","remarks","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],cfsAdmcc:["clientName","typeOfDiseaseSurveillance","purpose","province","address","dateOfRequest","dateOfSurveillance","numberOfSamples","dateSubmittedToLab","dateOfEndorsementToDA","remarks","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],animalDiseaseSurveillance:["clientName","typeOfDiseaseSurveillance","purpose","province","address","dateOfRequest","dateOfSurveillance","numberOfSamples","dateSubmittedToLab","dateOfEndorsementToDA","remarks","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],safdzValidation:["explorationPermitApplicationNo","nameOfApplicant","dateReceived","province","location","area","dateOfReplyToRequest","endorsementToBSWM","endorsementToMGB","fieldValidation","remarks","rescheduledDate","fieldValidationReport","issuanceOfCertificateAndEndorsementToMGB","status","findings","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"]},zc={gapCertification:["formType","controlNo","dateOfRequest","nameOfApplicant","location","province","area","crop","dateOfPreAssessment","remarks","dateOfEndorsementToBPI","dateOfFinalInspection","status","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],monitoring:["formType","controlNo","dateOfMonitoring","nameOfFarmer","location","province","area","certificateNumber","certificateValidity","remarks","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"]},Jt=["ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness"],vi={animalFeed:{date:"Date of Application/Valuated",province:"Province",controlNo:"Control No.",registrationNo:"Registration No.",dateOfInspection:"Date of Inspection",dateOfMonitoring:"Date of Monitoring",companyName:"Name of Establishment",lastName:"Last Name",middleName:"Middle Name",firstName:"First Name",nameExt:"Name Ext.",completeName:"Complete Name",birthDate:"Birth Date",barangay:"Barangay",municipality:"Municipality",completeAddress:"Complete Address",officeAddress:"Office Address",plantAddress:"Plant/Warehouse Address",cellphone:"Contact No.",email:"Email Address",natureOfBusiness:"Nature of Business",businessOrg:"Business Organization",productLines:"Product Line",type:"Type",orNo:"Official Receipt No.",orDate:"Official Receipt Date",fee:"Fees Collected",dateIssued:"Date of Issuance of LTO",dateOfFeedSampling1stSem:"Date of Feed Sampling (1st Semester)",dateOfFeedSampling2ndSem:"Date of Feed Sampling (2nd Semester)",noOfFeedSamples1stSem:"No. of Feed Samples Collected (1st Semester)",noOfFeedSamples2ndSem:"No. of Feed Samples Collected (2nd Semester)",attachmentFileName:"Attachments (file name)",attachmentData:"Attachments (file)",remarks:"Remarks",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},animalWelfare:{dateApplied:"Date of Application",facilityName:"Facility Name (Business Name)",ownerName:"Owner / Operator Name",province:"Province",address:"Complete Address",facilityType:"Facility Type",speciesHandled:"Species Handled",headVet:"Head Veterinarian",prcLicenseNo:"PRC License No.",certificateNo:"Certificate No. (AWC)",validityDate:"Validity Date",status:"Current Status",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},livestockHandlers:{controlNo:"No.",registrationNo:"Registration No.",nameOfEstablishment:"Name of Establishment",nameOfApplicant:"Name of Applicant",address:"Address",province:"Province",typeOfApplication:"Type of Application",dateOfApplicationReceivedAndEvaluated:"Date of Application Received & Evaluated",orNumber:"OR Number",orDate:"OR Date",amountOfFeeCollected:"Amount of Fee Collected",dateOfInspection:"Date of Inspection",validity:"Validity",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},transportCarrier:{controlNo:"No.",registrationNo:"Registration No.",nameOfEstablishment:"Name of Establishment",nameOfApplicant:"Name of Applicant",address:"Address",province:"Province",typeOfApplication:"Type of Application",dateOfApplicationReceivedAndEvaluated:"Date of Application Received & Evaluated",orNumber:"OR Number",orDate:"OR Date",amountOfFeeCollected:"Amount of Fee Collected",dateOfInspectionAndMonitoring:"Date of Inspection and Monitoring",dateOfCertification:"Date of Certification",transmittalDateToBAI:"Transmittal Date to BAI",validity:"Validity",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},plantMaterial:{applicant:"Applicant",operator:"Operator",province:"Province",location:"Location",cropsVariety:"Crops/Variety",submissionOfApplicationForm:"Submission of Client's Filled Application Form to DA-Regulatory Division",evaluationOfDocumentary:"Evaluation of Submitted Documentary Requirements",paymentOfApplicationFee:"Payment of Application Fee",amountOfFee:"Amount of Fee",dateOfInspectionAndEvaluation:"Date of Inspection and Evaluation of Nursery",approvedValidatedResult:"Approved Validated Result of Inspection and Validation of Areas",endorsementToBPI:"Endorsement of Application to BPI",dateOfInspection1stSem:"Date of Inspection and Monitoring (1st Semester)",dateOfInspection2ndSem:"Date of Inspection and Monitoring (2nd Semester)",status:"Status",validity:"Validity",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},organicPostMarket:{requestLetterDate:"Request Letter (Date)",identifiedMarketOutlet:"Identified Market Outlet/Establishment",dateOfCommunicationLetter:"Date of Communication Letter",nameOfProduct:"Name of Product",commodity:"Commodity",certification:"Certification",nameOfOwnerManager:"Name of Owner/Manager",province:"Province",location:"Location",dateOfSurveillance:"Date of Surveillance",remarks:"Remarks",linkFile:"Link File",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},landUseMatter:{controlNo:"Control No.",nameOfApplicant:"Name of Applicant",purposeOfApplication:"Purpose of Application",sizeOfArea:"Size of Area (ha)",province:"Province",location:"Location",dateOfRequest:"Date of Request",dateReceivedAndEvaluated:"Date Received and Evaluated",dateOfReplyToRequest:"Date of Reply to the Request",dateReceivedByApplicant:"Date Received by the Applicant",fieldInvestigation:"Field Investigation",dateOfEndorsement:"Date of Endorsement",issuanceOfCertificate:"Issuance of Certificate",remarks:"Remarks",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},organicAgri:{application:"Application",nameOfGroup:"Name of Group",nameOfApplicant:"Name of Applicant",province:"Province",location:"Location",area:"Area",dateOfEvaluation:"Date of Evaluation",remarks:"Remarks",dateOfEndorsement:"Date of Endorsement",finalInspection:"Final Inspection",status:"Status",issuanceOfCertificate:"Issuance of Certificate",finalRemarks:"Remarks",linkFile:"Link File",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},goodAgriPractices:{formType:"Form Type",controlNo:"No.",dateOfRequest:"Date of Request",nameOfApplicant:"Name of Applicant",location:"Location",province:"Province",area:"Area (ha)",crop:"Crop",dateOfPreAssessment:"Date of Pre-assessment",remarks:"Remarks",dateOfEndorsementToBPI:"Date of Endorsement to BPI",dateOfFinalInspection:"Date of Final Inspection",status:"Status",dateOfMonitoring:"Date of Monitoring",nameOfFarmer:"Name of Farmer",certificateNumber:"Certificate Number",certificateValidity:"Certificate Validity",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},goodAnimalHusbandry:{province:"Province",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},plantPestSurveillance:{dateOfRequestAndCollection:"Date of Request and Collection",farmerName:"Name of Farmer",province:"Province",address:"Address",contactNumber:"Contact Number",gpsLocation:"GPS Location",crop:"Crop",variety:"Variety",datePlanted:"Date Planted",areaPlanted:"Area Planted (ha)",areaAffected:"Area Affected",percentInfestation:"Percent Infestation",pestsDiseases:"Pests/Diseases",remarks:"Remarks",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},cfsAdmcc:{clientName:"Name of Local Government Unit/Client/Farm",typeOfDiseaseSurveillance:"Type of Disease Surveillance",purpose:"Purpose",province:"Province",address:"Address",dateOfRequest:"Date of Request",dateOfSurveillance:"Date of Surveillance (Blood Collection)",numberOfSamples:"Number of Samples Collected & Submitted",dateSubmittedToLab:"Date Submitted to Laboratory",dateOfEndorsementToDA:"Date of Endorsement to DA-BAI",remarks:"Remarks",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},animalDiseaseSurveillance:{clientName:"Name of Local Government Unit/Client/Farm",typeOfDiseaseSurveillance:"Type of Disease Surveillance",purpose:"Purpose",province:"Province",address:"Address",dateOfRequest:"Date of Request",dateOfSurveillance:"Date of Surveillance (Blood Collection)",numberOfSamples:"Number of Samples Collected & Submitted",dateSubmittedToLab:"Date Submitted to Laboratory",dateOfEndorsementToDA:"Date of Endorsement to DA-BAI",remarks:"Remarks",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},safdzValidation:{explorationPermitApplicationNo:"Exploration Permit Application No.",nameOfApplicant:"Name of Applicant",dateReceived:"Date Received",province:"Province",location:"Location",area:"Area (ha)",dateOfReplyToRequest:"Date of Reply to the Request",endorsementToBSWM:"Endorsement to BSWM",endorsementToMGB:"Endorsement to MGB",fieldValidation:"Field Validation",remarks:"Remarks",rescheduledDate:"Rescheduled date",fieldValidationReport:"Field Validation Report",issuanceOfCertificateAndEndorsementToMGB:"Issuance of Certificate and Endorsement to MGB",status:"Status",findings:"Findings",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"}},kr=["Occidental Mindoro","Oriental Mindoro","Palawan","Marinduque","Romblon"];function B0(r){const t=r.createdAt||r.date||r.dateApplied||r.applicationDate||r.dateOfMonitoring||r.inspectionDate||r.dateReceived||r.dateReported||r.requestLetterDate||r.dateOfCommunicationLetter||r.dateOfSurveillance||r.dateOfRequest||r.dateReceivedAndEvaluated||r.dateOfPreAssessment||r.dateOfMonitoring;if(!t)return null;const e=typeof t=="string"?new Date(t):t;return isNaN(e.getTime())?null:`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function c5(r){var e,n;const t=((e=r.address)==null?void 0:e.province)??((n=r.businessAddress)==null?void 0:n.province)??r.province??r.municipality;return!t||typeof t!="string"?null:(kr.includes(t),t)}function QT(r){const t=new Set;return r.forEach(e=>{const n=B0(e);n&&t.add(n)}),Array.from(t).sort().reverse()}function wp(r){if(!r)return"All";const[t,e]=r.split("-");return`${["January","February","March","April","May","June","July","August","September","October","November","December"][Number(e)-1]} ${t}`}function _p(r){const t=["createdBy","updatedAt"],e={};return Object.entries(r).forEach(([n,i])=>{if(!(n==="id"||t.includes(n))){if(n==="attachmentData"){e[n]=i&&String(i).length>0?"(file attached)":"";return}i==null?e[n]="":typeof i=="object"&&i!==null&&!Array.isArray(i)?typeof i.toDate=="function"?e[n]=i.toDate().toLocaleString():e[n]=Object.entries(i).map(([s,a])=>`${s}: ${a}`).join("; "):Array.isArray(i)?e[n]=i.join(", "):e[n]=String(i)}}),e}function Sp(r){return!r||typeof r!="string"?"":r.replace(/([A-Z])/g," $1").replace(/[-_](.)/g,(t,e)=>" "+e.toUpperCase()).replace(/\s+/g," ").trim().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}const nv=["animalFeed","animalWelfare","livestockHandlers","transportCarrier","plantMaterial","organicAgri","goodAgriPractices","goodAnimalHusbandry","organicPostMarket","landUseMatter","foodSafety","plantPestSurveillance","cfsAdmcc","animalDiseaseSurveillance","safdzValidation"],u5={byUnit:{},byMonth:{},byProvince:{},total:0,unitRatings:{}},iv=8e3,YT=2e3,d5=ae.createContext({stats:u5,refresh:()=>{}});function ZT(){const r=ae.useContext(d5);if(!r)throw new Error("useAnalytics must be used within AnalyticsProvider");return r}function JT(r,t){let e=null;return(...n)=>{e&&clearTimeout(e),e=setTimeout(()=>{e=null,r(...n)},t)}}function eC({children:r}){const[t,e]=ae.useState(u5),n=ae.useRef(null),i=ae.useCallback(async()=>{const a={},c={},l={},o={};let u=0;try{for(const p of Un)try{let h=(await R4(so(Sr,p.id))).docs.map(g=>({id:g.id,...g.data()}));if(h.length>iv&&(h=h.slice(0,iv)),a[p.id]={label:p.label,count:h.length},u+=h.length,h.forEach(g=>{const b=B0(g);b&&(c[b]=(c[b]||0)+1);const m=c5(g);m&&(l[m]=(l[m]||0)+1)}),nv.includes(p.id)&&h.length>0){const g={},b={1:0,2:0,3:0,4:0,5:0};let m=0;Jt.forEach(y=>{g[y]={sum:0,count:0}}),h.forEach(y=>{let v=!1;Jt.forEach(w=>{const E=y[w];if(E!==""&&E!=null){const A=parseInt(E,10);!isNaN(A)&&A>=1&&A<=5&&(g[w].sum+=A,g[w].count+=1,b[A]=(b[A]||0)+1,v=!0)}}),v&&m++}),o[p.id]={byField:g,byScore:b,ratedCount:m,totalRecords:h.length,averages:Object.fromEntries(Jt.map(y=>[y,g[y].count>0?(g[y].sum/g[y].count).toFixed(2):null])),overallAvg:(()=>{const y=Jt.reduce((w,E)=>w+g[E].sum,0),v=Jt.reduce((w,E)=>w+g[E].count,0);return v>0?y/v:0})()}}}catch(d){console.warn(`[Analytics] Failed to load ${p.id}:`,(d==null?void 0:d.message)||d)}e({byUnit:a,byMonth:c,byProvince:l,total:u,unitRatings:o})}catch(p){console.error("[Analytics] Load failed:",(p==null?void 0:p.message)||p),e(d=>d)}},[]);n.current=i,ae.useEffect(()=>{i()},[i]);const s=ae.useRef(JT(()=>{var a;return(a=n.current)==null?void 0:a.call(n)},YT)).current;return ae.useEffect(()=>{const a=Un.filter(l=>nv.includes(l.id));if(a.length===0)return;const c=a.map(l=>I0(so(Sr,l.id),()=>s()));return()=>c.forEach(l=>l())},[]),f.jsx(d5.Provider,{value:{stats:t,refresh:i},children:r})}const tC="/",rC=["DALOGO.png","ABOUTPAGE.png","CERRA.png","NIO.png","CCS LOGO.png","MINSU LOGO.png","DA HOMEPAGE.png","FEATURES.png","CONTACTUS.png"];function Qr(r){return tC+encodeURIComponent(r)}function nC(){rC.forEach(r=>{const t=new Image;t.src=Qr(r)})}const sv=[{to:"/",label:"Home"},{to:"/about",label:"About"},{to:"/features",label:"Features"},{to:"/contact",label:"Contact Us"}];function iC(){const[r,t]=ae.useState(!1),e=Ts(),n=()=>{t(!1)};return f.jsxs("header",{className:"sticky top-0 z-50 pt-[env(safe-area-inset-top)] transition-shadow duration-300",style:{background:"linear-gradient(180deg, #153019 0%, #1e4d2b 50%, #1a4328 100%)",boxShadow:"0 4px 24px -4px rgba(0,0,0,0.25), 0 0 0 1px rgba(255,255,255,0.06) inset"},children:[f.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-gradient-to-r from-transparent via-accent/50 to-transparent opacity-80","aria-hidden":"true"}),f.jsxs("nav",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16 min-h-[52px]",children:[f.jsxs(_r,{to:"/",className:"group flex items-center gap-2.5 sm:gap-3 min-w-0 shrink py-2 touch-target rounded-xl -ml-1 pl-1 pr-2 transition-all duration-300 ease-out hover:bg-white/8 active:scale-[0.98]",children:[f.jsxs("span",{className:"relative flex shrink-0 transition-transform duration-300 ease-out group-hover:scale-105",children:[f.jsx("img",{src:Qr("DALOGO.png"),alt:"DA Logo",className:"h-10 w-10 sm:h-11 sm:w-11 rounded-full object-cover ring-2 ring-white/20 group-hover:ring-white/50 transition-all duration-300 shadow-lg"}),f.jsx("span",{className:"absolute -inset-0.5 rounded-full bg-accent/20 opacity-0 group-hover:opacity-100 blur transition-opacity duration-300","aria-hidden":"true"})]}),f.jsx("span",{className:"text-white font-bold text-sm sm:text-base md:text-lg truncate tracking-tight drop-shadow-sm transition-colors duration-300 group-hover:text-white/95",children:"Regulatory Division Portal"})]}),f.jsx("button",{type:"button",onClick:()=>t(!r),className:"lg:hidden p-3 min-w-[48px] min-h-[48px] flex items-center justify-center rounded-xl text-white hover:bg-white/10 active:bg-white/15 transition-all duration-300 ease-out active:scale-95","aria-label":r?"Close menu":"Open menu","aria-expanded":r,children:f.jsx("iconify-icon",{icon:r?"mdi:close":"mdi:menu",width:"26",height:"26",className:"transition-transform duration-300 ease-out"})}),f.jsx("div",{className:"hidden lg:flex items-center gap-1",children:sv.map(i=>{const s=e.pathname===i.to;return f.jsxs(_r,{to:i.to,onClick:n,className:`
                    group relative px-4 py-2.5 rounded-xl font-medium text-[15px] transition-all duration-300 ease-out
                    ${s?"text-accent-light bg-white/12":"text-white/90 hover:text-white hover:bg-white/10"}
                  `,children:[f.jsx("span",{className:"relative block py-0.5",children:i.label}),f.jsx("span",{className:`absolute bottom-1.5 left-1/2 w-6 h-0.5 rounded-full bg-accent-light -translate-x-1/2 origin-center transition-transform duration-300 ease-out ${s?"scale-x-100":"scale-x-0 group-hover:scale-x-100"}`,"aria-hidden":"true"})]},i.label)})})]}),f.jsx("div",{className:`fixed inset-0 bg-black/40 backdrop-blur-sm z-[-1] lg:hidden transition-opacity duration-300 ease-out ${r?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":"true",onClick:()=>t(!1)}),f.jsx("div",{className:`lg:hidden overflow-hidden transition-all duration-300 ease-out ${r?"max-h-[320px]":"max-h-0"}`,children:f.jsxs("div",{className:"py-3 flex flex-col gap-0.5 border-t border-white/10",role:"dialog","aria-label":"Navigation menu",children:[sv.map(i=>{const s=e.pathname===i.to;return f.jsx(_r,{to:i.to,onClick:n,className:`
                    min-h-[48px] flex items-center py-3 px-4 rounded-xl font-medium transition-all duration-300 ease-out
                    ${s?"text-accent-light bg-white/12 border-l-2 border-accent-light -ml-0.5 pl-[calc(1rem+2px)]":"text-white/90 hover:bg-white/10 active:bg-white/15"}
                  `,children:i.label},i.label)}),f.jsx("div",{className:"h-3 pb-[env(safe-area-inset-bottom)]"})]})})]})]})}function sC(){const{pathname:r}=Ts(),t=r==="/admin-login"||r==="/staff-login";return f.jsxs("div",{className:"min-h-screen min-h-[100dvh] bg-background flex flex-col w-full min-w-0",children:[!t&&f.jsx(iC,{}),f.jsx("main",{className:"flex-1 w-full min-w-0 overflow-x-hidden",children:f.jsx(fx,{})})]})}const h5="systemLogs";async function Rn({action:r,userId:t="",userEmail:e="",role:n="",details:i=""}){try{await M4(so(Sr,h5),{action:r,userId:t,userEmail:e,role:n,details:i,timestamp:new Date().toISOString()})}catch(s){console.error("Failed to write system log:",s)}}async function aC(r=200){const t=E4(so(Sr,h5),yj("timestamp","desc"),j4(r));return(await R4(t)).docs.map(n=>({id:n.id,...n.data()}))}const Xh=[{title:"Registration & Licensing",icon:"mdi:certificate-outline",items:[{path:"/dashboard/forms/animal-feed",label:"Animal Feeds Unit"},{path:"/dashboard/forms/animal-welfare",label:"Animal Welfare Concern"},{path:"/dashboard/forms/livestock-handlers",label:"Livestock & Handlers"},{path:"/dashboard/forms/transport-carrier",label:"Transport Carriers"},{path:"/dashboard/forms/plant-material",label:"Plant Material / Nursery"},{path:"/dashboard/forms/organic-agri",label:"Organic Agri Certification"}]},{title:"Quality Control",icon:"mdi:shield-check-outline",items:[{path:"/dashboard/forms/good-agri-practices",label:"Good Agri Practices"},{path:"/dashboard/forms/good-animal-husbandry",label:"Good Animal Husbandry"},{path:"/dashboard/forms/organic-post-market",label:"Organic Post-Market"},{path:"/dashboard/forms/land-use-matter",label:"Land Use Concern"},{path:"/dashboard/forms/food-safety",label:"Food Safety Unit"},{path:"/dashboard/forms/safdz-validation",label:"SAFDZ Validation"}]},{title:"Surveillance & Disease",icon:"mdi:virus-outline",items:[{path:"/dashboard/forms/plant-pest-surveillance",label:"Plant Pest Surveillance"},{path:"/dashboard/forms/cfs-admcc",label:"CFS / ADMCC"},{path:"/dashboard/forms/animal-disease-surveillance",label:"Animal Disease Surv."}]}];function oC(){var D,L;const[r,t]=ae.useState(!0),[e,n]=ae.useState(!1),[i,s]=ae.useState([]),[a,c]=ae.useState(!1),[l,o]=ae.useState(!1),u=Ts(),p=Kl(),{user:d,role:h,signOut:g}=ua();ae.useEffect(()=>{n(!1)},[u.pathname]);const b=C=>{s(M=>M.includes(C)?M.filter(F=>F!==C):[...M,C])},m=()=>{o(!1),c(!0)},y=()=>{c(!1),o(!1)},v=()=>{o(!0),Rn({action:"logout",userId:d==null?void 0:d.uid,userEmail:d==null?void 0:d.email,role:h||"staff",details:"User signed out."}).catch(()=>{}),setTimeout(()=>{g(),p("/"),y()},1500)},w=()=>{m()},E=C=>u.pathname===C,{disabledUnitIds:A}=Zd();return ae.useEffect(()=>{Xh.forEach((C,M)=>{C.items.some(F=>F.path===u.pathname)&&(i.includes(M)||s(F=>[...F,M]))})},[u.pathname]),f.jsxs("div",{className:"flex h-screen min-h-[100dvh] bg-background overflow-hidden font-sans text-primary w-full min-w-0",children:[a&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:C=>C.target===C.currentTarget&&!l&&y(),children:f.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-border max-w-sm w-full overflow-hidden animate-in fade-in zoom-in-95 duration-200",onClick:C=>C.stopPropagation(),children:l?f.jsxs("div",{className:"p-8 text-center",children:[f.jsx("div",{className:"mx-auto w-14 h-14 rounded-full bg-primary/15 flex items-center justify-center mb-4 text-primary",children:f.jsx("iconify-icon",{icon:"mdi:check-circle",width:"36"})}),f.jsx("h3",{className:"text-lg font-bold text-content mb-2",children:"Logged out successfully"}),f.jsx("p",{className:"text-text-muted text-sm",children:"You have been signed out. Redirecting to home..."})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"p-6 text-center",children:[f.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:f.jsx("iconify-icon",{icon:"mdi:logout",width:"28",className:"text-primary"})}),f.jsx("h3",{className:"text-lg font-bold text-content mb-2",children:"Log out?"}),f.jsx("p",{className:"text-text-muted text-sm",children:"You will be signed out of the portal. Are you sure you want to continue?"})]}),f.jsxs("div",{className:"flex border-t border-border",children:[f.jsx("button",{type:"button",onClick:y,className:"flex-1 py-3.5 text-sm font-semibold text-text-muted hover:bg-surface transition-colors",children:"Cancel"}),f.jsx("button",{type:"button",onClick:v,className:"flex-1 py-3.5 text-sm font-semibold text-white bg-primary hover:bg-primary-dark transition-colors",children:"Log out"})]})]})})}),f.jsx("div",{className:`fixed inset-0 z-40 bg-primary-dark/90 backdrop-blur-sm lg:hidden transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>n(!1)}),f.jsxs("aside",{className:`fixed lg:relative inset-y-0 left-0 z-50 flex flex-col bg-primary-dark text-accent-light shadow-2xl border-r border-primary shrink-0
          pt-[env(safe-area-inset-top)]
          w-[min(296px,85vw)] ${r||e?"lg:w-[296px] lg:min-w-[296px]":"lg:w-[96px] lg:min-w-[96px]"}
          ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
          max-w-full
        `,style:{backgroundImage:"radial-gradient(circle at top left, #1e4d2b, #153019, #0d1f12)",paddingLeft:"env(safe-area-inset-left)",transition:"width var(--sidebar-duration) var(--sidebar-ease), min-width var(--sidebar-duration) var(--sidebar-ease), transform var(--sidebar-duration) var(--sidebar-ease)"},children:[f.jsx("button",{onClick:()=>t(!r),className:`absolute -right-3 top-6 lg:top-9 z-50 hidden lg:flex h-8 w-8 lg:w-7 items-center justify-center rounded-full bg-background text-primary shadow-[0_2px_8px_rgba(0,0,0,0.15)] ring-1 ring-primary/20 hover:bg-accent-light hover:text-primary hover:scale-110 focus:outline-none active:scale-95
              ${r?"rotate-0":"rotate-180"}
          `,title:r?"Collapse Sidebar":"Expand Sidebar","aria-label":r?"Collapse sidebar":"Expand sidebar",children:f.jsx("iconify-icon",{icon:"mdi:chevron-left",width:"18"})}),f.jsxs("div",{className:`min-h-[72px] lg:h-24 flex items-center px-4 lg:px-6 border-b border-white/5 relative overflow-hidden shrink-0 ${!r&&!e?"justify-center px-0":"justify-between"}`,children:[f.jsxs(_r,{to:"/dashboard",className:"flex items-center gap-4 overflow-hidden min-w-0 z-10 group",children:[f.jsxs("div",{className:"relative w-10 h-10 shrink-0",children:[f.jsx("div",{className:"absolute inset-0 bg-primary blur-lg opacity-30 group-hover:opacity-50 transition-opacity duration-300"}),f.jsxs("div",{className:"relative w-full h-full rounded-xl bg-gradient-to-br from-primary to-primary-dark flex items-center justify-center text-white shadow-lg ring-1 ring-white/10 group-hover:scale-105 transition-transform duration-300 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsx("img",{src:Qr("DALOGO.png"),alt:"DA",className:"w-full h-full object-cover rounded-xl",onError:C=>C.target.style.display="none"}),f.jsx("span",{className:"absolute font-bold text-xs"})]})]}),f.jsxs("div",{className:`flex flex-col min-w-0 overflow-hidden ${r||e?"opacity-100 translate-x-0 w-auto":"opacity-0 invisible w-0"}`,children:[f.jsx("h1",{className:"font-bold text-white text-sm lg:text-[15px] leading-tight tracking-wide truncate",children:"REGULATORY"}),f.jsx("p",{className:"text-[10px] text-accent-light font-bold tracking-wider uppercase truncate",children:"Division Portal"})]})]}),f.jsx("button",{onClick:()=>n(!1),className:"lg:hidden min-w-[44px] min-h-[44px] flex items-center justify-center p-2 text-accent-light/80 hover:text-white transition-colors -mr-2","aria-label":"Close menu",children:f.jsx("iconify-icon",{icon:"mdi:close",width:"24"})})]}),f.jsxs("nav",{className:"flex-1 min-h-0 overflow-y-auto overflow-x-hidden py-4 lg:py-6 px-3 lg:px-4 space-y-6 lg:space-y-8 custom-scrollbar",children:[f.jsxs("div",{children:[f.jsx("p",{className:`px-2 text-[10px] font-bold text-accent-light/70 uppercase tracking-widest mb-3 overflow-hidden whitespace-nowrap ${r||e?"opacity-100 max-h-8":"opacity-0 max-h-0 mb-0"}`,children:"Main Module"}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(Po,{to:"/dashboard",icon:"mdi:view-dashboard-variant-outline",label:"Dashboard Overview",active:E("/dashboard"),sidebarOpen:r||e}),f.jsx(Po,{to:"/dashboard/analytics",icon:"mdi:chart-box-outline",label:"Data Analytics",active:E("/dashboard/analytics"),sidebarOpen:r||e}),f.jsx(Po,{to:"/dashboard/records",icon:"mdi:database-search-outline",label:"Master Records",active:E("/dashboard/records"),sidebarOpen:r||e})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:`px-2 text-[10px] font-bold text-accent-light/70 uppercase tracking-widest mb-3 overflow-hidden whitespace-nowrap ${r||e?"opacity-100 max-h-8":"opacity-0 max-h-0 mb-0"}`,children:"Operational Units"}),f.jsx("div",{className:"space-y-1",children:Xh.map((C,M)=>f.jsx(lC,{section:C,isOpen:i.includes(M),onToggle:()=>b(M),isActiveRoute:E,sidebarOpen:r,mobileMenuOpen:e,setSidebarOpen:t,disabledUnitIds:A,pathToCollectionId:o5},M))})]}),f.jsxs("div",{children:[f.jsx("p",{className:`px-2 text-[10px] font-bold text-accent-light/70 uppercase tracking-widest mb-3 overflow-hidden whitespace-nowrap ${r||e?"opacity-100 max-h-8":"opacity-0 max-h-0 mb-0"}`,children:"Administration"}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(Po,{to:"/dashboard/settings",icon:"mdi:cog-outline",label:"Settings",active:E("/dashboard/settings"),sidebarOpen:r||e}),h==="admin"&&f.jsx(Po,{to:"/dashboard/system-logs",icon:"mdi:clipboard-list-outline",label:"System Logs",active:E("/dashboard/system-logs"),sidebarOpen:r||e})]})]})]}),f.jsx("div",{className:`shrink-0 border-t border-primary/30 bg-primary/20 backdrop-blur-sm min-h-[72px] flex items-center ${!r&&!e?"justify-center px-0 py-4":"p-4"} pb-[max(1rem,env(safe-area-inset-bottom))]`,children:f.jsxs("div",{className:`flex items-center w-full min-w-0 group ${!r&&!e?"justify-center gap-0":"gap-3"}`,children:[f.jsxs("div",{className:"relative shrink-0 flex items-center justify-center",children:[f.jsx("div",{className:"w-9 h-9 rounded-full bg-primary border border-primary-light/50 flex items-center justify-center text-accent-light shadow-sm group-hover:border-accent-light transition-colors duration-200",children:f.jsx("iconify-icon",{icon:"mdi:account",width:"20"})}),f.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-accent border-2 border-primary-dark rounded-full animate-pulse"})]}),f.jsxs("div",{className:`min-w-0 overflow-hidden ${r||e?"flex-1 opacity-100 max-w-[160px]":"flex-none opacity-0 w-0 max-w-0 invisible"}`,children:[f.jsx("p",{className:"text-sm font-semibold text-white truncate group-hover:text-accent-light transition-colors duration-200",children:(D=d==null?void 0:d.email)==null?void 0:D.split("@")[0]}),f.jsx("p",{className:"text-[10px] text-accent-light/70 uppercase font-medium truncate",children:h||"Admin Access"})]}),f.jsx("button",{onClick:w,className:`flex items-center justify-center p-2 text-accent-light/80 hover:text-red-400 hover:bg-red-500/10 rounded-lg touch-manipulation ${r||e?"shrink-0 opacity-100 min-w-[44px] min-h-[44px] w-11 pointer-events-auto":"flex-none opacity-0 w-0 min-w-0 min-h-0 overflow-hidden pointer-events-none invisible"}`,title:"Sign Out","aria-label":"Sign out",children:f.jsx("iconify-icon",{icon:"mdi:logout",width:"18"})})]})})]}),f.jsxs("div",{className:"flex-1 flex flex-col min-h-0 min-w-0 w-full bg-background relative",children:[f.jsxs("header",{className:"h-14 sm:h-16 min-h-[44px] sticky top-0 z-30 flex items-center justify-between gap-2 px-3 sm:px-6 lg:px-8 pt-[env(safe-area-inset-top)] pr-[max(0.75rem,env(safe-area-inset-right))] pl-[max(0.75rem,env(safe-area-inset-left))] bg-white/90 backdrop-blur-md border-b border-border shadow-sm shrink-0",children:[f.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0 flex-1",children:[f.jsx("button",{onClick:()=>n(!0),className:"lg:hidden min-w-[44px] min-h-[44px] flex items-center justify-center p-2 -ml-1 text-primary hover:bg-surface active:bg-border rounded-lg transition-colors touch-manipulation","aria-label":"Open menu",children:f.jsx("iconify-icon",{icon:"mdi:menu",width:"24"})}),f.jsxs("div",{className:"flex flex-col justify-center min-w-0",children:[f.jsx("h2",{className:"text-base sm:text-lg font-bold text-primary tracking-tight leading-tight truncate",children:{"/dashboard":"Dashboard","/dashboard/analytics":"Data Analytics","/dashboard/records":"Master Records","/dashboard/settings":"Settings","/dashboard/system-logs":"System Logs"}[u.pathname]||((L=Xh.flatMap(C=>C.items).find(C=>C.path===u.pathname))==null?void 0:L.label)||"Dashboard"}),f.jsx("p",{className:"text-xs text-text-muted mt-0.5 hidden sm:block truncate",children:"Regulatory Division Portal"})]})]}),f.jsx("div",{className:"flex items-center gap-1 sm:gap-4 shrink-0",children:f.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-2 sm:px-3 py-1.5 bg-surface rounded-full border border-border",children:[f.jsx("iconify-icon",{icon:"mdi:calendar-month-outline",width:"16",class:"text-text-muted"}),f.jsx("span",{className:"text-xs font-semibold text-primary whitespace-nowrap",children:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})})]}),f.jsx("main",{className:"flex-1 min-w-0 min-h-0 overflow-x-hidden overflow-y-auto custom-scrollbar view-records-scroll p-3 sm:p-6 lg:p-8 pb-[max(1rem,env(safe-area-inset-bottom))] pr-[max(0.75rem,env(safe-area-inset-right))]",children:f.jsx("div",{className:"w-full max-w-7xl mx-auto min-w-0 animate-fade-in-up",children:f.jsx(fx,{})})})]})]})}function Po({to:r,icon:t,label:e,active:n,sidebarOpen:i}){return f.jsxs(_r,{to:r,className:`relative flex items-center gap-3 px-3 py-2.5 min-h-[44px] md:min-h-0 rounded-lg transition-colors duration-300 group overflow-hidden touch-manipulation
        ${n?"text-white shadow-lg shadow-primary-dark/20":"text-accent-light/80 hover:text-accent-light hover:bg-white/5"}
        ${i?"":"justify-center"}
      `,children:[n&&f.jsx("div",{className:"absolute inset-0 bg-primary border border-white/10 rounded-lg"}),f.jsx("iconify-icon",{icon:t,width:"20",class:`relative z-10 shrink-0 transition-colors duration-200 ${n?"text-white":"group-hover:text-accent-light"}`}),f.jsx("span",{className:`relative z-10 font-medium text-[13.5px] tracking-wide whitespace-nowrap overflow-hidden min-w-0 ${i?"opacity-100 max-w-[200px]":"opacity-0 max-w-0 invisible"}`,children:e}),!i&&f.jsxs("div",{className:"absolute left-[calc(100%+10px)] top-1/2 -translate-y-1/2 px-3 py-1.5 bg-primary-dark text-white text-xs font-medium rounded-md shadow-xl border border-primary opacity-0 group-hover:opacity-100 pointer-events-none transition-all duration-200 translate-x-2 group-hover:translate-x-0 z-[60] whitespace-nowrap hidden lg:block",children:[e,f.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2 w-2 h-2 bg-primary-dark border-l border-b border-primary transform rotate-45"})]})]})}function lC({section:r,isOpen:t,onToggle:e,isActiveRoute:n,sidebarOpen:i,mobileMenuOpen:s,setSidebarOpen:a,disabledUnitIds:c=[],pathToCollectionId:l}){const o=r.items.some(p=>n(p.path)),u=i||s;return f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>{u||a(!0),e()},className:`relative w-full flex items-center px-3 py-2.5 min-h-[44px] md:min-h-0 rounded-lg transition-colors duration-300 group touch-manipulation overflow-hidden
           ${o?"bg-white/5 text-accent-light":"text-accent-light/80 hover:bg-white/5 hover:text-accent-light"}
           ${u?"justify-between":"justify-center"}
        `,children:[f.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[f.jsx("iconify-icon",{icon:r.icon,width:"20",class:`shrink-0 ${o?"text-accent-light":"group-hover:text-accent-light"} transition-colors duration-200`}),f.jsx("span",{className:`text-[13.5px] font-semibold tracking-wide whitespace-nowrap overflow-hidden min-w-0 ${u?"opacity-100 max-w-[180px]":"opacity-0 max-w-0 invisible"}`,children:r.title})]}),u&&f.jsx("iconify-icon",{icon:"mdi:chevron-down",width:"16",style:{transform:t?"rotate(180deg)":"rotate(0deg)"},class:`transition-transform duration-200 ${o?"text-accent-light":""}`}),!u&&f.jsxs("div",{className:"absolute left-[calc(100%+10px)] top-1/2 -translate-y-1/2 px-3 py-1.5 bg-primary-dark text-white text-xs font-medium rounded-md shadow-xl border border-primary opacity-0 group-hover:opacity-100 pointer-events-none transition-all duration-200 translate-x-2 group-hover:translate-x-0 z-[60] whitespace-nowrap hidden lg:block",children:[r.title,f.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2 w-2 h-2 bg-primary-dark border-l border-b border-primary transform rotate-45"})]})]}),f.jsx("div",{className:`grid transition-[grid-template-rows_0.4s_cubic-bezier(0.16,1,0.3,1),opacity_0.35s_ease-out] ${t&&u?"grid-rows-[1fr] opacity-100 mt-1":"grid-rows-[0fr] opacity-0"}`,children:f.jsx("div",{className:"overflow-hidden min-h-0",children:f.jsx("div",{className:"ml-5 pl-4 border-l border-white/10 space-y-1 py-1",children:r.items.map(p=>{const d=n(p.path);return l&&c.includes(l(p.path))?f.jsxs("div",{className:"flex items-center gap-2 py-2 px-3 min-h-[44px] md:min-h-0 rounded-md text-[12.5px] text-accent-light/50 cursor-not-allowed relative",children:[f.jsx("span",{className:"absolute -left-[17px] top-1/2 -translate-y-1/2 w-1.5 h-1.5 rounded-full bg-accent-light/30"}),f.jsx("span",{className:"flex-1 truncate",children:p.label}),f.jsx("span",{className:"text-[10px] font-bold uppercase text-red-400/90 shrink-0",children:"Disabled"})]},p.path):f.jsxs(_r,{to:p.path,className:`flex items-center gap-2 py-2 px-3 min-h-[44px] md:min-h-0 rounded-md text-[12.5px] transition-all relative group/item touch-manipulation
                      ${d?"text-white font-medium bg-primary/30":"text-accent-light/80 hover:text-white hover:translate-x-1"}`,children:[f.jsx("span",{className:`absolute -left-[17px] top-1/2 -translate-y-1/2 w-1.5 h-1.5 rounded-full transition-all duration-300 ${d?"bg-accent-light scale-100":"bg-primary scale-0 group-hover/item:scale-75"}`}),p.label]},p.path)})})})})]})}function cC(){return f.jsxs("div",{className:"min-h-screen flex flex-col page-bg-pattern",children:[f.jsxs("section",{className:"relative flex-1 flex flex-col justify-center min-h-[72vh] py-24 sm:py-28 px-4 sm:px-6 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${Qr("DA HOMEPAGE.png")})`},children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/30 via-primary/12 to-transparent [mask-image:linear-gradient(to_bottom,black_0%,black_45%,transparent_70%)]","aria-hidden":"true"}),f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_40%_at_50%_20%,rgba(255,255,255,0.04),transparent_50%)]","aria-hidden":"true"}),f.jsx("div",{className:"absolute inset-x-0 bottom-0 h-44 bg-gradient-to-t from-background via-background/98 to-transparent","aria-hidden":"true"}),f.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto w-full flex flex-col items-center text-center space-y-14 -translate-y-6",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsx("h1",{className:"home-hero-title text-3xl sm:text-4xl md:text-5xl lg:text-[2.85rem] font-black text-white tracking-tight leading-[1.12] drop-shadow-lg [text-shadow:0_2px_20px_rgba(0,0,0,0.2)]",children:"Regulatory Division Monitoring Data Portal"}),f.jsx("p",{className:"home-hero-subtitle text-base sm:text-lg text-white font-medium max-w-xl mx-auto leading-relaxed drop-shadow-md [text-shadow:0_1px_2px_rgba(0,0,0,0.4),0_2px_8px_rgba(0,0,0,0.3),0_0_20px_rgba(0,0,0,0.2)]",children:"One secure hub for accreditation, food safety, and animal & plant welfare. Select your portal below."})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full max-w-xl mt-16",children:[f.jsxs(_r,{to:"/admin-login",className:"home-portal-card-1 home-portal-card group relative flex items-center gap-3 p-4 sm:p-5 rounded-xl bg-gradient-to-br from-[#6b8f5a] via-[#4a6b3c] to-[#1e4d2b] border-2 border-[#3d5a32] text-left shadow-lg hover:shadow-xl hover:shadow-[#3d5a32]/30 hover:-translate-y-1 transition-all duration-400 ease-out overflow-hidden",children:[f.jsx("span",{className:"relative flex-shrink-0 flex items-center justify-center w-11 h-11 rounded-lg bg-white/20 text-white shadow-inner group-hover:bg-white/25 group-hover:scale-105 transition-all duration-400",children:f.jsx("iconify-icon",{icon:"mdi:shield-account",width:"24",height:"24"})}),f.jsxs("div",{className:"relative min-w-0 flex-1 min-w-0",children:[f.jsx("span",{className:"block font-bold text-white text-lg mb-0.5 whitespace-nowrap",children:"Admin Portal"}),f.jsx("span",{className:"block text-xs text-white/90 font-medium whitespace-nowrap",children:"Login as admin user"})]}),f.jsx("span",{className:"relative flex-shrink-0 w-8 h-8 rounded-full bg-white/20 text-white flex items-center justify-center opacity-0 -translate-x-3 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-400",children:f.jsx("iconify-icon",{icon:"mdi:arrow-right",width:"18",height:"18"})})]}),f.jsxs(_r,{to:"/staff-login",className:"home-portal-card-2 home-portal-card group relative flex items-center gap-3 p-4 sm:p-5 rounded-xl bg-gradient-to-br from-[#7a6340] via-[#9A7B4F] to-[#c9b896] border-2 border-[#9A7B4F] text-left shadow-lg hover:shadow-xl hover:shadow-[#8F7A45]/30 hover:-translate-y-1 transition-all duration-400 ease-out overflow-hidden",children:[f.jsx("span",{className:"relative flex-shrink-0 flex items-center justify-center w-11 h-11 rounded-lg bg-white/20 text-white shadow-inner group-hover:bg-white/25 group-hover:scale-105 transition-all duration-400",children:f.jsx("iconify-icon",{icon:"mdi:account-group",width:"24",height:"24"})}),f.jsxs("div",{className:"relative min-w-0 flex-1 min-w-0",children:[f.jsx("span",{className:"block font-bold text-white text-lg mb-0.5 whitespace-nowrap",children:"Staff Portal"}),f.jsx("span",{className:"block text-xs text-white/90 font-medium whitespace-nowrap",children:"Login as staff user"})]}),f.jsx("span",{className:"relative flex-shrink-0 w-8 h-8 rounded-full bg-white/20 text-white flex items-center justify-center opacity-0 -translate-x-3 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-400",children:f.jsx("iconify-icon",{icon:"mdi:arrow-right",width:"18",height:"18"})})]})]})]})]}),f.jsxs("div",{className:"relative z-20 max-w-5xl mx-auto w-full px-4 sm:px-6 pb-8 space-y-20 mt-8",children:[f.jsxs("section",{className:"home-intro-box relative bg-white rounded-2xl px-8 sm:px-12 py-10 sm:py-12 border-2 border-border shadow-xl max-w-3xl mx-auto overflow-hidden hover:shadow-2xl transition-all duration-400",children:[f.jsx("span",{className:"absolute bottom-0 right-0 w-72 h-72 bg-gradient-to-tl from-primary/5 to-transparent rounded-tl-full pointer-events-none","aria-hidden":"true"}),f.jsx("div",{className:"relative text-center",children:f.jsx("p",{className:"text-content text-base sm:text-lg leading-relaxed font-medium text-balance max-w-2xl mx-auto",children:"Modernizing agricultural and veterinary services for a faster, safer, and more efficient community. This portal provides local government staff and administrators with a centralized hub to seamlessly manage operational data, track accreditations, ensure food safety, and monitor animal and plant welfare all in one secure place."})})]}),f.jsxs("section",{className:"space-y-12",children:[f.jsxs("div",{className:"text-center space-y-4 home-section-title",children:[f.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-content tracking-tight",children:"Core Operational Units"}),f.jsx("p",{className:"text-text-muted text-sm sm:text-base max-w-lg mx-auto leading-relaxed",children:"Registration, quality control, and surveillance services under the Regulatory Division."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[f.jsxs("div",{className:"home-core-card-1 group relative bg-white rounded-xl p-5 sm:p-6 border border-border shadow-sm hover:shadow-lg hover:border-primary/25 hover:-translate-y-0.5 transition-all duration-300 text-left overflow-hidden",children:[f.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),f.jsx("span",{className:"relative inline-flex p-2.5 rounded-lg bg-surface/80 text-primary mb-4 group-hover:bg-primary/10 transition-colors duration-300",children:f.jsx("iconify-icon",{icon:"mdi:clipboard-text-outline",width:"22",height:"22"})}),f.jsx("h3",{className:"relative text-base font-bold text-content mb-2 tracking-tight group-hover:text-primary transition-colors duration-300",children:"Registration & Licensing"}),f.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Animal Feeds, Livestock, Plant Materials, Organic Certifications"})]}),f.jsxs("div",{className:"home-core-card-2 group relative bg-white rounded-xl p-5 sm:p-6 border border-border shadow-sm hover:shadow-lg hover:border-primary/25 hover:-translate-y-0.5 transition-all duration-300 text-left overflow-hidden",children:[f.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),f.jsx("span",{className:"relative inline-flex p-2.5 rounded-lg bg-surface/80 text-primary mb-4 group-hover:bg-primary/10 transition-colors duration-300",children:f.jsx("iconify-icon",{icon:"mdi:check-circle-outline",width:"22",height:"22"})}),f.jsx("h3",{className:"relative text-base font-bold text-content mb-2 tracking-tight group-hover:text-primary transition-colors duration-300",children:"Quality Control"}),f.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Good Agri Practices, Animal Husbandry, Food Safety, Land Use"})]}),f.jsxs("div",{className:"home-core-card-3 group relative bg-white rounded-xl p-5 sm:p-6 border border-border shadow-sm hover:shadow-lg hover:border-primary/25 hover:-translate-y-0.5 transition-all duration-300 text-left overflow-hidden",children:[f.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),f.jsx("span",{className:"relative inline-flex p-2.5 rounded-lg bg-surface/80 text-primary mb-4 group-hover:bg-primary/10 transition-colors duration-300",children:f.jsx("iconify-icon",{icon:"mdi:microscope",width:"22",height:"22"})}),f.jsx("h3",{className:"relative text-base font-bold text-content mb-2 tracking-tight group-hover:text-primary transition-colors duration-300",children:"Surveillance & Disease"}),f.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Plant Pest, Animal Disease Monitoring, CFS/ADMCC"})]})]})]}),f.jsxs("footer",{className:"home-footer text-center py-8 border-t border-border/80",children:[f.jsx("p",{className:"text-text-muted text-sm font-medium",children:"Regulatory Division  Monitoring Data Portal"}),f.jsx("p",{className:"text-text-muted/80 text-xs mt-1",children:"Agricultural & veterinary services  Secure, centralized access"})]})]})]})}function uC(){return f.jsxs("div",{className:"min-h-screen flex flex-col page-bg-pattern font-sans",children:[f.jsxs("section",{className:"relative flex-1 flex flex-col justify-center min-h-[60vh] md:min-h-[70vh] py-20 px-4 sm:px-6 bg-cover bg-center bg-fixed",style:{backgroundImage:`url(${Qr("ABOUTPAGE.png")})`},children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900/75 via-slate-900/55 to-slate-900/85","aria-hidden":"true"}),f.jsx("div",{className:"absolute inset-0 bg-primary/5 pointer-events-none","aria-hidden":"true"}),f.jsx("div",{className:"absolute inset-x-0 bottom-0 h-40 bg-gradient-to-t from-background via-background/90 to-transparent","aria-hidden":"true"}),f.jsx("div",{className:"about-hero relative z-10 max-w-3xl mx-auto w-full flex flex-col items-center text-center",children:f.jsxs("div",{className:"space-y-3",children:[f.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black text-white tracking-tight drop-shadow-lg leading-tight",children:"About the Portal"}),f.jsx("p",{className:"text-base sm:text-lg text-slate-200 font-medium drop-shadow-md max-w-xl mx-auto",children:"Our story, mission, and team behind the Regulatory Division Monitoring Data Portal"})]})})]}),f.jsxs("div",{className:"relative z-20 max-w-4xl mx-auto w-full px-4 sm:px-6 pb-16 space-y-14 -mt-8",children:[f.jsxs("section",{className:"about-story bg-white rounded-2xl p-5 sm:p-7 shadow-lg border border-border max-w-3xl mx-auto overflow-hidden transition-all duration-300 hover:shadow-xl hover:border-primary/20",children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-content tracking-tight mb-5 text-center",children:"The Story Behind the Portal"}),f.jsx("p",{className:"text-text-muted text-sm sm:text-base leading-relaxed text-center font-medium",children:"Developed to support the local agriculture sector, this portal began as an initiative to unify and streamline the complex workflows of our core Operational Units. By transitioning from manual paperwork to a centralized cloud-based system, the portal bridges the gap between diverse agricultural and veterinary sectors. It ensures seamless coordination and real-time data management across three main divisions: Registration & Licensing (handling Animal Feeds, Livestock & Handlers, Plant Materials, and Organic Certifications), Quality Control (ensuring Good Agri Practices, Food Safety, Land Use, and SAFDZ Validation), and Surveillance & Disease (monitoring Plant Pests and Animal Diseases)."})]}),f.jsxs("section",{className:"space-y-8",children:[f.jsx("div",{className:"about-mission-title text-center space-y-2",children:f.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-content tracking-tight",children:"Mission & Vision"})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 sm:gap-6",children:[f.jsxs("div",{className:"about-mission-card-1 group bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 flex flex-col items-center text-center overflow-hidden",children:[f.jsx("span",{className:"inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:f.jsx("iconify-icon",{icon:"mdi:target",width:"28",height:"28"})}),f.jsx("h3",{className:"text-lg font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Mission"}),f.jsx("p",{className:"text-text-muted text-sm leading-relaxed",children:"To enhance the efficiency, accuracy, and accessibility of agricultural and veterinary services by integrating a secure digital platform that simplifies data management for the Regulatory Division."})]}),f.jsxs("div",{className:"about-mission-card-2 group bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 flex flex-col items-center text-center overflow-hidden",children:[f.jsx("span",{className:"inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:f.jsx("iconify-icon",{icon:"mdi:eye-outline",width:"28",height:"28"})}),f.jsx("h3",{className:"text-lg font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Vision"}),f.jsx("p",{className:"text-text-muted text-sm leading-relaxed",children:"To establish a highly responsive and digitally empowered local agriculture sector where monitoring, licensing, and disease surveillance are handled seamlessly to better serve the community."})]})]})]}),f.jsxs("section",{className:"space-y-8",children:[f.jsxs("div",{className:"about-team-title text-center space-y-2",children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-content tracking-tight",children:"Our Team"}),f.jsx("p",{className:"text-text-muted text-sm sm:text-base text-center max-w-xl mx-auto",children:"A dedicated two-person development team of CCS students collaborating on software design, cloud infrastructure, and process flow to bring real-time agricultural and veterinary data monitoring to life."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"about-team-card-1 group bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 flex flex-col items-center text-center overflow-hidden",children:[f.jsx("div",{className:"relative mb-5",children:f.jsx("img",{src:Qr("CERRA.png"),alt:"Cerra Arwen D. Dela Pea",className:"relative w-24 h-24 sm:w-28 sm:h-28 rounded-full object-cover border-2 border-border shadow-md group-hover:scale-105 transition-transform duration-300"})}),f.jsx("h3",{className:"text-base font-bold text-content mb-1 group-hover:text-primary transition-colors duration-300",children:"Cerra Arwen D. Dela Pea"}),f.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-primary/10 text-primary font-semibold text-xs tracking-wide mb-3",children:"Lead Engineer | Full-Stack & UI/UX"}),f.jsx("p",{className:"text-text-muted text-xs leading-relaxed",children:"Spearheaded the overall architecture and design of the platform, ensuring a seamless connection between the backend logic and the user interface."})]}),f.jsxs("div",{className:"about-team-card-2 group bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 flex flex-col items-center text-center overflow-hidden",children:[f.jsx("div",{className:"relative mb-5",children:f.jsx("img",{src:Qr("NIO.png"),alt:"Nio Noel D. Monsanto",className:"relative w-24 h-24 sm:w-28 sm:h-28 rounded-full object-cover border-2 border-border shadow-md group-hover:scale-105 transition-transform duration-300"})}),f.jsx("h3",{className:"text-base font-bold text-content mb-1 group-hover:text-primary transition-colors duration-300",children:"Nio Noel D. Monsanto"}),f.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-primary/10 text-primary font-semibold text-xs tracking-wide mb-3",children:"Software Engineer | Full-Stack & UI/UX"}),f.jsx("p",{className:"text-text-muted text-xs leading-relaxed",children:"Co-developed the core functionalities and crafted intuitive user experiences, turning complex codes into a visually appealing website."})]})]})]}),f.jsxs("section",{className:"about-ack py-6 sm:py-8 text-center",children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-content tracking-tight mb-4",children:"Acknowledgment & Institution"}),f.jsx("p",{className:"text-text-muted text-sm font-medium mb-6",children:"Supported by the College of Computer Studies - Mindoro State University"}),f.jsxs("div",{className:"flex flex-row items-center justify-center gap-8 sm:gap-12 py-4",children:[f.jsx("img",{src:Qr("CCS LOGO.png"),alt:"CCS Logo",className:"h-16 sm:h-20 object-contain drop-shadow-md hover:scale-105 transition-transform duration-300"}),f.jsx("div",{className:"w-px h-14 bg-gradient-to-b from-transparent via-primary/30 to-transparent hidden sm:block rounded-full","aria-hidden":"true"}),f.jsx("img",{src:Qr("MINSU LOGO.png"),alt:"MINSU Logo",className:"h-16 sm:h-20 object-contain drop-shadow-md hover:scale-105 transition-transform duration-300"})]}),f.jsxs("div",{className:"mt-6 space-y-2",children:[f.jsx("p",{className:"text-content font-bold text-sm sm:text-base",children:"College of Computer Studies  Mindoro State University"}),f.jsx("p",{className:"text-text-muted text-xs sm:text-sm max-w-xl mx-auto leading-relaxed",children:"This project was developed under the guidance of CCS faculty and aligns with the department's goal of promoting innovation through modern information systems and advanced web technologies."})]})]})]})]})}function dC(){return f.jsxs("div",{className:"min-h-screen flex flex-col page-bg-pattern",children:[f.jsxs("section",{className:"relative flex-1 flex flex-col justify-center min-h-[60vh] md:min-h-[70vh] py-20 px-4 sm:px-6 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${Qr("FEATURES.png")})`},children:[f.jsx("div",{className:"absolute inset-0 bg-slate-900/60","aria-hidden":"true"}),f.jsx("div",{className:"absolute inset-x-0 bottom-0 h-40 bg-gradient-to-t from-background via-background/90 to-transparent","aria-hidden":"true"}),f.jsx("div",{className:"features-hero relative z-10 max-w-3xl mx-auto w-full flex flex-col items-center text-center",children:f.jsxs("div",{className:"space-y-3",children:[f.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black text-white tracking-tight drop-shadow-lg leading-tight",children:"System Features & Capabilities"}),f.jsx("p",{className:"text-base sm:text-lg text-slate-200 font-medium drop-shadow max-w-xl mx-auto",children:"A robust, cloud-powered solution built for the Regulatory Division's complex workflows."})]})})]}),f.jsxs("div",{className:"relative z-20 max-w-4xl mx-auto w-full px-4 sm:px-6 pb-16 space-y-14 -mt-8",children:[f.jsx("section",{className:"features-intro bg-white rounded-2xl p-5 sm:p-7 shadow-lg border border-border max-w-3xl mx-auto transition-all duration-300 hover:shadow-xl hover:border-primary/20",children:f.jsx("p",{className:"text-text-muted text-sm sm:text-base leading-relaxed text-center font-medium",children:"Designed specifically to handle the diverse needs of the agriculture and veterinary sectors. The system neatly categorizes records into three main units for easy management and real-time monitoring."})}),f.jsxs("section",{className:"space-y-8",children:[f.jsx("div",{className:"features-modules-title text-center space-y-2",children:f.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-content tracking-tight",children:"Comprehensive Operational Modules"})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[f.jsxs("div",{className:"features-modules-1 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden",children:[f.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),f.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:f.jsx("iconify-icon",{icon:"mdi:file-document-edit",width:"24",height:"24"})}),f.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Registration & Licensing"}),f.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Efficiently process applications for Animal Feeds, Livestock & Handlers, Transport Carriers, Plant Material/Nursery, Organic Agri Certification, and Animal Welfare."})]}),f.jsxs("div",{className:"features-modules-2 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden",children:[f.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),f.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:f.jsx("iconify-icon",{icon:"mdi:check-circle",width:"24",height:"24"})}),f.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Quality Control"}),f.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Ensure strict compliance with Good Agri Practices, Good Animal Husbandry, Organic Post-Market, Land Use, Food Safety, and SAFDZ Validation."})]}),f.jsxs("div",{className:"features-modules-3 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden",children:[f.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),f.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:f.jsx("iconify-icon",{icon:"mdi:microscope",width:"24",height:"24"})}),f.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Surveillance & Disease"}),f.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Log and monitor critical real-time data for Plant Pest Surveillance, Animal Disease Surveillance, and CFS/ADMCC."})]})]})]}),f.jsxs("section",{className:"space-y-8",children:[f.jsx("div",{className:"features-smart-title text-center space-y-2",children:f.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-content tracking-tight",children:"Smart System Features"})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[f.jsxs("div",{className:"features-smart-1 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden",children:[f.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),f.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:f.jsx("iconify-icon",{icon:"mdi:view-dashboard",width:"24",height:"24"})}),f.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Centralized Interactive Dashboard"}),f.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Get a clear, bird's-eye view of all three operational units. Monitor pending licenses, quality control validations, and active disease surveillance in one workspace."})]}),f.jsxs("div",{className:"features-smart-2 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden",children:[f.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),f.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:f.jsx("iconify-icon",{icon:"mdi:magnify",width:"24",height:"24"})}),f.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Advanced Smart Search"}),f.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Lightning-fast retrieval of records. Find client names, business permits, or transport carriers across any unit in just a few keystrokes."})]}),f.jsxs("div",{className:"features-smart-3 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden",children:[f.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),f.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:f.jsx("iconify-icon",{icon:"mdi:lock",width:"24",height:"24"})}),f.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Secure Role-Based Login"}),f.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Separate access for Admins and Standard Users with Firebase Authentication. Sensitive data remains strictly protected."})]}),f.jsxs("div",{className:"features-smart-4 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden",children:[f.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),f.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:f.jsx("iconify-icon",{icon:"mdi:cloud",width:"24",height:"24"})}),f.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Cloud-Powered Database"}),f.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Data saved instantly and backed up with Firebase Firestore. Say goodbye to lost physical files and manual encoding errors."})]}),f.jsxs("div",{className:"features-smart-5 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden md:col-span-2",children:[f.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),f.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:f.jsx("iconify-icon",{icon:"mdi:leaf",width:"24",height:"24"})}),f.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"100% Paperless Process"}),f.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Reduce physical clutter, minimize human error, and help the environment by moving your division's transactions entirely online."})]})]})]})]})]})}function hC(){return f.jsxs("div",{className:"min-h-screen flex flex-col page-bg-pattern",children:[f.jsxs("section",{className:"relative flex-1 flex flex-col justify-center min-h-[60vh] md:min-h-[70vh] py-20 px-4 sm:px-6 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${Qr("CONTACTUS.png")})`},children:[f.jsx("div",{className:"absolute inset-0 bg-slate-900/60","aria-hidden":"true"}),f.jsx("div",{className:"absolute inset-x-0 bottom-0 h-40 bg-gradient-to-t from-background via-background/90 to-transparent","aria-hidden":"true"}),f.jsx("div",{className:"contact-hero relative z-10 max-w-3xl mx-auto w-full flex flex-col items-center text-center",children:f.jsxs("div",{className:"space-y-3",children:[f.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black text-white tracking-tight drop-shadow-lg leading-tight",children:"Get In Touch"}),f.jsx("p",{className:"text-base sm:text-lg text-slate-200 font-medium drop-shadow max-w-xl mx-auto",children:"Need assistance with your account or have inquiries regarding our services? We are here to help."})]})})]}),f.jsxs("div",{className:"relative z-20 max-w-4xl mx-auto w-full px-4 sm:px-6 pb-16 space-y-14 -mt-8",children:[f.jsxs("section",{className:"space-y-8",children:[f.jsx("div",{className:"contact-offices-title text-center space-y-2",children:f.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-content tracking-tight",children:"Our Offices"})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[f.jsxs("div",{className:"contact-office-1 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden",children:[f.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),f.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:f.jsx("iconify-icon",{icon:"mdi:map-marker",width:"24",height:"24"})}),f.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Regional Field Office"}),f.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"J.P. Rizal Street, Barangay Camilmil, Calapan City, Oriental Mindoro"})]}),f.jsxs("div",{className:"contact-office-2 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden",children:[f.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),f.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:f.jsx("iconify-icon",{icon:"mdi:office-building",width:"24",height:"24"})}),f.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Satellite Office"}),f.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"3rd Floor, ATI Building, Elliptical Road, Diliman, Quezon City"})]})]})]}),f.jsxs("section",{className:"space-y-8",children:[f.jsx("div",{className:"contact-details-title text-center space-y-2",children:f.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-content tracking-tight",children:"Contact Details"})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[f.jsxs("div",{className:"contact-detail-1 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 flex flex-col items-center text-center overflow-hidden",children:[f.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),f.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:f.jsx("iconify-icon",{icon:"mdi:phone",width:"24",height:"24"})}),f.jsx("h3",{className:"relative text-base font-bold text-content mb-1 group-hover:text-primary transition-colors duration-300",children:"Telephone"}),f.jsx("p",{className:"relative text-text-muted text-sm",children:"8273-2474 Local 4400"})]}),f.jsxs("div",{className:"contact-detail-2 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 flex flex-col items-center text-center overflow-hidden",children:[f.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),f.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:f.jsx("iconify-icon",{icon:"mdi:email",width:"24",height:"24"})}),f.jsx("h3",{className:"relative text-base font-bold text-content mb-1 group-hover:text-primary transition-colors duration-300",children:"Email Address"}),f.jsx("a",{href:"mailto:mimaropa@mail.da.gov.ph",className:"relative text-primary font-medium hover:underline text-sm transition-colors duration-300",children:"mimaropa@mail.da.gov.ph"})]}),f.jsxs("div",{className:"contact-detail-3 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 flex flex-col items-center text-center overflow-hidden",children:[f.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),f.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:f.jsx("iconify-icon",{icon:"mdi:facebook",width:"24",height:"24"})}),f.jsx("h3",{className:"relative text-base font-bold text-content mb-1 group-hover:text-primary transition-colors duration-300",children:"Official Facebook"}),f.jsx("a",{href:"https://www.facebook.com/DARFOMIMAROPA",target:"_blank",rel:"noopener noreferrer",className:"relative text-primary font-medium hover:underline text-sm transition-colors duration-300",children:"DA RFO MIMAROPA"})]})]})]})]})]})}const fC="REGADMIN2026",V0="app",z0="settings";async function pC(r){const t=_n(Sr,z0,V0),e=Array.isArray(r)?r.filter(Boolean):[];await Kd(t,{disabledUnits:e,updatedAt:new Date().toISOString()},{merge:!0})}async function f5(){try{const r=_n(Sr,z0,V0),t=await Gd(r);if(t.exists()&&t.data().adminRegistrationCode)return String(t.data().adminRegistrationCode).trim()}catch(r){console.error("Failed to get admin registration code:",r)}return fC}async function mC(r){const t=_n(Sr,z0,V0);await Kd(t,{adminRegistrationCode:(r||"").trim(),updatedAt:new Date().toISOString()},{merge:!0})}function gC(){const[r,t]=ae.useState(!1),[e,n]=ae.useState(""),[i,s]=ae.useState(""),[a,c]=ae.useState(""),[l,o]=ae.useState(""),[u,p]=ae.useState(!1),[d,h]=ae.useState(!1),[g,b]=ae.useState(!1),[m,y]=ae.useState(!1),[v,w]=ae.useState(""),[E,A]=ae.useState(""),[D,L]=ae.useState(!1),{signIn:C,signUp:M}=ua(),F=Kl(),$=async P=>{if(P.preventDefault(),!v.trim()){o("Please enter your email address.");return}o(""),A(""),L(!0);try{await ew(ln,v.trim()),A("Check your email for the password reset link."),w("")}catch(N){o(N.message||"Failed to send reset email.")}L(!1)},U=P=>{if(P.preventDefault(),m){$(P);return}j(P)},j=async P=>{P.preventDefault(),o(""),p(!0);try{const N=await f5();if(r){if(a.trim()!==N){o("Invalid Admin Code. Only authorized personnel can register as Admin."),p(!1);return}const x=await M(e,i);await Kd(_n(Sr,"users",x.user.uid),{email:x.user.email,role:"admin",createdAt:new Date().toISOString()}),await Rn({action:"login",userId:x.user.uid,userEmail:x.user.email,role:"admin",details:"Admin registered and signed in."}),F("/dashboard")}else{await C(e,i);const x=await Gd(_n(Sr,"users",ln.currentUser.uid));if((x.exists()?x.data().role:"staff")!=="admin"){o("This portal is for Administrators only. Use Staff Portal for standard access."),p(!1);return}await Rn({action:"login",userId:ln.currentUser.uid,userEmail:ln.currentUser.email,role:"admin",details:"Admin signed in."}),F("/dashboard")}}catch(N){o(N.message||"Authentication failed.")}p(!1)};return f.jsxs("div",{className:"min-h-screen w-full relative",children:[f.jsx("div",{className:"fixed inset-0 z-0","aria-hidden":"true",style:{transform:"translateZ(0)"},children:f.jsx("img",{src:Qr("ABOUTPAGE.png"),alt:"",className:"w-full h-full object-cover object-center",role:"presentation"})}),f.jsx("div",{className:"admin-login-page relative z-10 min-h-[80vh] pt-14 pb-10 px-4 sm:px-6 flex flex-col items-center justify-center",children:f.jsxs("div",{className:"admin-login-card relative w-full max-w-[420px] rounded-3xl overflow-hidden p-0 transition-all duration-500 ease-out",children:[f.jsx(_r,{to:"/","aria-label":"Back to Home",className:"absolute left-3 top-3 z-10 inline-flex items-center justify-center w-10 h-10 rounded-xl text-black border border-white/60 hover:border-slate-300 transition-all duration-300 ease-out active:scale-95",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",boxShadow:"0 1px 0 rgba(255,255,255,0.5) inset"},children:f.jsx("iconify-icon",{icon:"mdi:arrow-left",width:"22",height:"22"})}),f.jsxs("div",{className:"p-5 sm:p-6",children:[f.jsxs("div",{className:"text-center mb-6 pb-5 border-b border-slate-200",children:[f.jsx("div",{className:"admin-login-stagger-1 inline-flex items-center justify-center p-2.5 rounded-2xl mb-3.5 transition-all duration-500 ease-out hover:scale-105",style:{backgroundColor:"rgba(255,255,255,0.6)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.7)",boxShadow:"0 1px 0 rgba(255,255,255,0.5) inset"},children:f.jsx("img",{src:Qr("DALOGO.png"),alt:"DA Logo",className:"h-11 w-11 sm:h-12 sm:w-12 rounded-lg object-contain"})}),f.jsx("h1",{className:"admin-login-stagger-2 text-xl font-extrabold text-black tracking-tight",children:"Admin Portal"}),f.jsx("p",{className:"admin-login-stagger-3 text-sm text-black/80 mt-2 font-medium",children:"Sign in or register as Administrator"})]}),f.jsxs("form",{onSubmit:U,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-black mb-1.5",children:"Email"}),f.jsx("input",{type:"email",value:e,onChange:P=>n(P.target.value),required:!0,className:"w-full px-3.5 py-2.5 text-sm rounded-xl text-black placeholder-slate-500 focus:ring-2 focus:ring-primary/40 focus:border-primary transition-all duration-300 ease-out outline-none",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",border:"1px solid rgba(255,255,255,0.7)"},placeholder:"admin@agency.gov.ph"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-black mb-1.5",children:"Password"}),f.jsxs("div",{className:"relative flex items-center",children:[f.jsx("input",{type:d?"text":"password",value:i,onChange:P=>s(P.target.value),required:!0,minLength:6,className:"w-full px-3.5 py-2.5 pr-12 text-sm rounded-xl text-black placeholder-slate-500 focus:ring-2 focus:ring-primary/40 focus:border-primary transition-all duration-300 ease-out outline-none",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",border:"1px solid rgba(255,255,255,0.7)"},placeholder:""}),f.jsx("button",{type:"button",onClick:()=>h(P=>!P),className:"absolute right-0 top-0 bottom-0 w-11 flex items-center justify-center rounded-r-xl text-slate-600 hover:text-black hover:bg-white/50 transition-all duration-300 ease-out","aria-label":d?"Hide password":"Show password",children:f.jsx("iconify-icon",{icon:d?"mdi:eye-off-outline":"mdi:eye-outline",width:"20",height:"20"})})]})]}),m&&f.jsxs("div",{className:"admin-login-forgot-in p-4 rounded-2xl border border-slate-200 space-y-3",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:[f.jsx("p",{className:"text-sm font-bold text-black",children:"Reset password"}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("input",{type:"email",value:v,onChange:P=>w(P.target.value),placeholder:"Enter your email",className:"w-full px-3.5 py-2.5 text-sm rounded-xl text-black placeholder-slate-500 focus:ring-2 focus:ring-primary/40 outline-none transition-all duration-300 ease-out",style:{backgroundColor:"rgba(255,255,255,0.6)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(255,255,255,0.7)"}}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"button",onClick:()=>{y(!1),w(""),A(""),o("")},className:"flex-1 py-2 text-sm font-semibold text-black rounded-xl border border-slate-300 hover:bg-white/70 transition-all duration-300 ease-out",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:"Cancel"}),f.jsx("button",{type:"submit",disabled:D,className:"flex-1 py-2 text-sm font-bold text-white rounded-xl bg-primary hover:bg-primary-dark disabled:opacity-60 transition-all duration-300 ease-out",children:D?f.jsxs("span",{className:"inline-flex items-center justify-center gap-1.5",children:[f.jsx("span",{className:"inline-flex login-spinner",children:f.jsx("iconify-icon",{icon:"mdi:loading",width:"18",height:"18"})}),"Sending..."]}):"Send reset link"})]})]}),E&&f.jsxs("p",{className:"admin-login-success-in text-sm text-black font-semibold flex items-center gap-1.5",children:[f.jsx("iconify-icon",{icon:"mdi:check-circle-outline",width:"18",height:"18"}),E]})]}),r&&f.jsxs("div",{className:"admin-login-admin-code",children:[f.jsx("label",{className:"block text-sm font-bold text-black mb-1.5",children:"Admin Code"}),f.jsxs("div",{className:"relative flex items-center",children:[f.jsx("input",{type:g?"text":"password",value:a,onChange:P=>c(P.target.value),required:!0,className:"w-full px-3.5 py-2.5 pr-12 text-sm rounded-xl text-black placeholder-slate-500 focus:ring-2 focus:ring-primary/40 focus:border-primary transition-all duration-300 ease-out outline-none",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",border:"1px solid rgba(255,255,255,0.7)"},placeholder:"Enter admin registration code"}),f.jsx("button",{type:"button",onClick:()=>b(P=>!P),className:"absolute right-0 top-0 bottom-0 w-11 flex items-center justify-center rounded-r-xl text-slate-600 hover:text-black hover:bg-white/50 transition-all duration-300 ease-out","aria-label":g?"Hide admin code":"Show admin code",children:f.jsx("iconify-icon",{icon:g?"mdi:eye-off-outline":"mdi:eye-outline",width:"20",height:"20"})})]}),f.jsx("p",{className:"text-xs text-black/80 mt-2 font-medium",children:"Only users with the correct Admin Code can register as Admin."})]}),l&&f.jsxs("div",{className:"admin-login-error-in flex items-start gap-2 p-3 rounded-xl border border-red-300/80",style:{backgroundColor:"rgba(254,226,226,0.4)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(248,113,113,0.5)"},children:[f.jsx("iconify-icon",{icon:"mdi:alert-circle-outline",className:"text-red-600 shrink-0 mt-0.5",width:"18",height:"18"}),f.jsx("p",{className:"text-sm text-red-800 font-semibold leading-snug",children:l})]}),!m&&f.jsx("button",{type:"submit",disabled:u,className:"w-full h-[44px] flex items-center justify-center py-0 text-sm mt-4 bg-gradient-to-b from-primary to-primary-dark text-white font-bold rounded-xl shadow-lg shadow-primary/30 hover:shadow-xl hover:shadow-primary/40 hover:-translate-y-0.5 focus:ring-4 focus:ring-primary/40 transition-all duration-300 ease-out disabled:opacity-100 disabled:cursor-wait disabled:hover:translate-y-0 transform active:scale-[0.98] ring-2 ring-primary/20",children:u?f.jsxs("span",{className:"login-loading-inner",children:[f.jsx("span",{className:"inline-flex login-spinner shrink-0",children:f.jsx("iconify-icon",{icon:"mdi:loading",width:"18",height:"18"})}),f.jsx("span",{className:"login-loading-text",children:"Please wait..."})]}):r?"Register as Admin":"Login"})]}),f.jsx("div",{className:"mt-5 pt-5 border-t border-slate-200 flex flex-col items-center",children:r?f.jsx("button",{type:"button",onClick:()=>{t(!1),o("")},className:"inline-flex items-center px-4 py-2 rounded-2xl text-sm font-bold text-black border border-slate-300 hover:border-slate-400 transition-all duration-300 ease-out active:scale-[0.98]",style:{backgroundColor:"rgba(255,255,255,0.6)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:"Login"}):f.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[f.jsx("button",{type:"button",onClick:()=>{t(!0),o("")},className:"inline-flex items-center px-4 py-2 rounded-2xl text-sm font-bold text-black border border-slate-300 hover:border-slate-400 transition-all duration-300 ease-out active:scale-[0.98]",style:{backgroundColor:"rgba(255,255,255,0.6)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:"Register"}),f.jsxs("button",{type:"button",onClick:()=>{y(!0),o(""),A("")},className:"inline-flex items-center gap-2 px-3.5 py-2 rounded-2xl text-sm font-bold text-black border border-slate-300 hover:border-slate-400 transition-all duration-300 ease-out active:scale-[0.98]",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[f.jsx("iconify-icon",{icon:"mdi:lock-reset",width:"18",height:"18"}),"Forgot Password?"]})]})})]})]})})]})}function bC(){const[r,t]=ae.useState(!1),[e,n]=ae.useState(""),[i,s]=ae.useState(""),[a,c]=ae.useState(""),[l,o]=ae.useState(!1),[u,p]=ae.useState(!1),[d,h]=ae.useState(!1),[g,b]=ae.useState(""),[m,y]=ae.useState(""),[v,w]=ae.useState(!1),{signIn:E,signUp:A}=ua(),D=Kl(),L=async F=>{if(F.preventDefault(),!g.trim()){c("Please enter your email address.");return}c(""),y(""),w(!0);try{await ew(ln,g.trim()),y("Check your email for the password reset link."),b("")}catch($){c($.message||"Failed to send reset email.")}w(!1)},C=F=>{if(F.preventDefault(),d){L(F);return}M(F)},M=async F=>{F.preventDefault(),c(""),o(!0);try{if(r){const $=await A(e,i);await Kd(_n(Sr,"users",$.user.uid),{email:$.user.email,role:"staff",createdAt:new Date().toISOString()}),await Rn({action:"login",userId:$.user.uid,userEmail:$.user.email,role:"staff",details:"Staff registered and signed in."}),D("/dashboard")}else{await E(e,i);const $=await Gd(_n(Sr,"users",ln.currentUser.uid));if(($.exists()?$.data().role:"staff")==="admin"){c("Admins should use the Admin Portal to sign in."),o(!1);return}await Rn({action:"login",userId:ln.currentUser.uid,userEmail:ln.currentUser.email,role:"staff",details:"Staff signed in."}),D("/dashboard")}}catch($){c($.message||"Authentication failed.")}o(!1)};return f.jsxs("div",{className:"min-h-screen w-full relative",children:[f.jsx("div",{className:"fixed inset-0 z-0","aria-hidden":"true",style:{transform:"translateZ(0)"},children:f.jsx("img",{src:Qr("ABOUTPAGE.png"),alt:"",className:"w-full h-full object-cover object-center",role:"presentation"})}),f.jsx("div",{className:"admin-login-page relative z-10 min-h-[80vh] pt-14 pb-10 px-4 sm:px-6 flex flex-col items-center justify-center",children:f.jsxs("div",{className:"admin-login-card relative w-full max-w-[420px] rounded-3xl overflow-hidden p-0 transition-all duration-500 ease-out",children:[f.jsx(_r,{to:"/","aria-label":"Back to Home",className:"absolute left-3 top-3 z-10 inline-flex items-center justify-center w-10 h-10 rounded-xl text-black border border-white/60 hover:border-slate-300 transition-all duration-300 ease-out active:scale-95",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",boxShadow:"0 1px 0 rgba(255,255,255,0.5) inset"},children:f.jsx("iconify-icon",{icon:"mdi:arrow-left",width:"22",height:"22"})}),f.jsxs("div",{className:"p-5 sm:p-6",children:[f.jsxs("div",{className:"text-center mb-6 pb-5 border-b border-slate-200",children:[f.jsx("div",{className:"admin-login-stagger-1 inline-flex items-center justify-center p-2.5 rounded-2xl mb-3.5 transition-all duration-500 ease-out hover:scale-105",style:{backgroundColor:"rgba(255,255,255,0.6)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.7)",boxShadow:"0 1px 0 rgba(255,255,255,0.5) inset"},children:f.jsx("img",{src:Qr("DALOGO.png"),alt:"DA Logo",className:"h-11 w-11 sm:h-12 sm:w-12 rounded-lg object-contain"})}),f.jsx("h1",{className:"admin-login-stagger-2 text-xl font-extrabold text-black tracking-tight",children:"Staff Portal"}),f.jsx("p",{className:"admin-login-stagger-3 text-sm text-black/80 mt-2 font-medium",children:"Sign in or register as Standard User"})]}),f.jsxs("form",{onSubmit:C,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-black mb-1.5",children:"Email"}),f.jsx("input",{type:"email",value:e,onChange:F=>n(F.target.value),required:!0,className:"w-full px-3.5 py-2.5 text-sm rounded-xl text-black placeholder-slate-500 focus:ring-2 focus:ring-primary/40 focus:border-primary transition-all duration-300 ease-out outline-none",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",border:"1px solid rgba(255,255,255,0.7)"},placeholder:"user@agency.gov.ph"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-black mb-1.5",children:"Password"}),f.jsxs("div",{className:"relative flex items-center",children:[f.jsx("input",{type:u?"text":"password",value:i,onChange:F=>s(F.target.value),required:!0,minLength:6,className:"w-full px-3.5 py-2.5 pr-12 text-sm rounded-xl text-black placeholder-slate-500 focus:ring-2 focus:ring-primary/40 focus:border-primary transition-all duration-300 ease-out outline-none",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",border:"1px solid rgba(255,255,255,0.7)"},placeholder:""}),f.jsx("button",{type:"button",onClick:()=>p(F=>!F),className:"absolute right-0 top-0 bottom-0 w-11 flex items-center justify-center rounded-r-xl text-slate-600 hover:text-black hover:bg-white/50 transition-all duration-300 ease-out","aria-label":u?"Hide password":"Show password",children:f.jsx("iconify-icon",{icon:u?"mdi:eye-off-outline":"mdi:eye-outline",width:"20",height:"20"})})]})]}),d&&f.jsxs("div",{className:"admin-login-forgot-in p-4 rounded-2xl border border-slate-200 space-y-3",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:[f.jsx("p",{className:"text-sm font-bold text-black",children:"Reset password"}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("input",{type:"email",value:g,onChange:F=>b(F.target.value),placeholder:"Enter your email",className:"w-full px-3.5 py-2.5 text-sm rounded-xl text-black placeholder-slate-500 focus:ring-2 focus:ring-primary/40 outline-none transition-all duration-300 ease-out",style:{backgroundColor:"rgba(255,255,255,0.6)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(255,255,255,0.7)"}}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"button",onClick:()=>{h(!1),b(""),y(""),c("")},className:"flex-1 py-2 text-sm font-semibold text-black rounded-xl border border-slate-300 hover:bg-white/70 transition-all duration-300 ease-out",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:"Cancel"}),f.jsx("button",{type:"submit",disabled:v,className:"flex-1 py-2 text-sm font-bold text-white rounded-xl bg-primary hover:bg-primary-dark disabled:opacity-60 transition-all duration-300 ease-out",children:v?f.jsxs("span",{className:"inline-flex items-center justify-center gap-1.5",children:[f.jsx("span",{className:"inline-flex login-spinner",children:f.jsx("iconify-icon",{icon:"mdi:loading",width:"18",height:"18"})}),"Sending..."]}):"Send reset link"})]})]}),m&&f.jsxs("p",{className:"admin-login-success-in text-sm text-black font-semibold flex items-center gap-1.5",children:[f.jsx("iconify-icon",{icon:"mdi:check-circle-outline",width:"18",height:"18"}),m]})]}),a&&f.jsxs("div",{className:"admin-login-error-in flex items-start gap-2 p-3 rounded-xl border border-red-300/80",style:{backgroundColor:"rgba(254,226,226,0.4)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(248,113,113,0.5)"},children:[f.jsx("iconify-icon",{icon:"mdi:alert-circle-outline",className:"text-red-600 shrink-0 mt-0.5",width:"18",height:"18"}),f.jsx("p",{className:"text-sm text-red-800 font-semibold leading-snug",children:a})]}),!d&&f.jsx("button",{type:"submit",disabled:l,className:"w-full h-[44px] flex items-center justify-center py-0 text-sm mt-4 bg-gradient-to-b from-primary to-primary-dark text-white font-bold rounded-xl shadow-lg shadow-primary/30 hover:shadow-xl hover:shadow-primary/40 hover:-translate-y-0.5 focus:ring-4 focus:ring-primary/40 transition-all duration-300 ease-out disabled:opacity-100 disabled:cursor-wait disabled:hover:translate-y-0 transform active:scale-[0.98] ring-2 ring-primary/20",children:l?f.jsxs("span",{className:"login-loading-inner",children:[f.jsx("span",{className:"inline-flex login-spinner shrink-0",children:f.jsx("iconify-icon",{icon:"mdi:loading",width:"18",height:"18"})}),f.jsx("span",{className:"login-loading-text",children:"Please wait..."})]}):r?"Register as User":"Login"})]}),f.jsx("div",{className:"mt-5 pt-5 border-t border-slate-200 flex flex-col items-center",children:r?f.jsx("button",{type:"button",onClick:()=>{t(!1),c("")},className:"inline-flex items-center px-4 py-2 rounded-2xl text-sm font-bold text-black border border-slate-300 hover:border-slate-400 transition-all duration-300 ease-out active:scale-[0.98]",style:{backgroundColor:"rgba(255,255,255,0.6)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:"Login"}):f.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[f.jsx("button",{type:"button",onClick:()=>{t(!0),c("")},className:"inline-flex items-center px-4 py-2 rounded-2xl text-sm font-bold text-black border border-slate-300 hover:border-slate-400 transition-all duration-300 ease-out active:scale-[0.98]",style:{backgroundColor:"rgba(255,255,255,0.6)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:"Register"}),f.jsxs("button",{type:"button",onClick:()=>{h(!0),c(""),y("")},className:"inline-flex items-center gap-2 px-3.5 py-2 rounded-2xl text-sm font-bold text-black border border-slate-300 hover:border-slate-400 transition-all duration-300 ease-out active:scale-[0.98]",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[f.jsx("iconify-icon",{icon:"mdi:lock-reset",width:"18",height:"18"}),"Forgot Password?"]})]})})]})]})})]})}const vC=[{title:"Registration and Licensing",description:"Manage accreditations and compliance for feeds and handlers.",theme:"primary",icon:"mdi:certificate-outline",gradient:"from-[#1e4d2b] via-[#1a4526] to-[#153019]",borderColor:"border-[#1e4d2b]",hoverBorder:"hover:border-[#1e4d2b]/50",iconBg:"bg-[#1e4d2b]/10 text-[#1e4d2b] group-hover:bg-[#1e4d2b]/15",units:[{path:"/dashboard/forms/animal-feed",label:"Animal Feeds Unit"},{path:"/dashboard/forms/animal-welfare",label:"Animal Welfare Concern Unit"},{path:"/dashboard/forms/livestock-handlers",label:"Livestock/Poultry Handlers"},{path:"/dashboard/forms/transport-carrier",label:"Transport Carriers Accreditation"},{path:"/dashboard/forms/plant-material",label:"Plant Material / Nursery Accreditation"},{path:"/dashboard/forms/organic-agri",label:"Organic Agriculture Certification"}]},{title:"Quality Control and Inspection",description:"Ensure standards for crops, animals, and food safety.",theme:"primary-light",icon:"mdi:shield-check-outline",gradient:"from-[#5c7355] via-[#4a6b3c] to-[#3d5a32]",borderColor:"border-[#5c7355]",hoverBorder:"hover:border-[#5c7355]/50",iconBg:"bg-[#5c7355]/10 text-[#5c7355] group-hover:bg-[#5c7355]/15",units:[{path:"/dashboard/forms/good-agri-practices",label:"Good Agricultural Practices"},{path:"/dashboard/forms/good-animal-husbandry",label:"Good Animal Husbandry"},{path:"/dashboard/forms/organic-post-market",label:"Organic Post-Market Surveillance"},{path:"/dashboard/forms/land-use-matter",label:"Land Use Matter Concern"},{path:"/dashboard/forms/food-safety",label:"Food Safety Unit"},{path:"/dashboard/forms/safdz-validation",label:"SAFDZ Validation"}]},{title:"Pest & Disease Surveillance",description:"Monitor and control spread of plant and animal diseases.",theme:"accent",icon:"mdi:virus-outline",gradient:"from-[#9a7b4f] via-[#b8a066] to-[#8f7a45]",borderColor:"border-[#b8a066]",hoverBorder:"hover:border-[#b8a066]/50",iconBg:"bg-[#b8a066]/10 text-[#9a7b4f] group-hover:bg-[#b8a066]/15",units:[{path:"/dashboard/forms/plant-pest-surveillance",label:"Plant Pest Surveillance"},{path:"/dashboard/forms/cfs-admcc",label:"CFS / ADMCC"},{path:"/dashboard/forms/animal-disease-surveillance",label:"Animal Disease Surveillance"}]}];function yC(){const{disabledUnitIds:r}=Zd();return f.jsx("div",{className:"min-w-0 w-full max-w-full overflow-x-hidden px-3 sm:px-4 md:px-5 lg:px-6 pb-10 sm:pb-12",children:f.jsxs("div",{className:"w-full max-w-7xl mx-auto min-w-0 space-y-4 sm:space-y-6",children:[f.jsx("div",{className:"dashboard-section rounded-xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden",style:{animationDelay:"0ms"},children:f.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-4 sm:px-6 py-4 relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[f.jsxs("div",{className:"min-w-0",children:[f.jsx("h1",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm break-words",children:"Dashboard Overview"}),f.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-1 break-words",children:"Welcome back! Select a module below to manage records and forms."})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3 shrink-0",children:[f.jsxs(_r,{to:"/dashboard/analytics",className:"inline-flex items-center gap-2 px-3 py-2.5 sm:px-4 sm:py-2 min-h-[44px] bg-white/15 backdrop-blur-sm text-white border border-white/25 rounded-xl hover:bg-white/25 hover:border-white/40 hover:scale-105 active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] font-bold text-xs sm:text-sm touch-manipulation",children:[f.jsx("iconify-icon",{icon:"mdi:chart-box-outline",width:"18",className:"shrink-0"}),"Data Analytics"]}),f.jsxs(_r,{to:"/dashboard/records",className:"inline-flex items-center gap-2 px-3 py-2.5 sm:px-4 sm:py-2 min-h-[44px] bg-[#b8a066] text-[#153019] rounded-xl border border-[#b8a066]/50 hover:bg-[#d4c4a0] hover:scale-105 active:scale-[0.98] shadow-md hover:shadow-lg transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] font-bold text-xs sm:text-sm touch-manipulation",children:[f.jsx("iconify-icon",{icon:"mdi:database-search-outline",width:"18",className:"shrink-0"}),"View Masterlist"]})]})]})]})}),vC.map((t,e)=>f.jsxs("div",{className:"dashboard-section rounded-xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/5 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/8 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",style:{animationDelay:`${80+e*120}ms`},children:[f.jsxs("div",{className:`bg-gradient-to-r ${t.gradient} px-4 sm:px-5 py-3 relative overflow-hidden`,children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_80%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-lg bg-white/15 backdrop-blur-sm border border-white/20 text-white",children:f.jsx("iconify-icon",{icon:t.icon,width:"22"})}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("h2",{className:"text-base font-black text-white uppercase tracking-tight drop-shadow-sm break-words",children:t.title}),f.jsx("p",{className:"text-[10px] font-semibold text-white/85 tracking-wider mt-0.5 break-words",children:t.description})]})]})]}),f.jsx("div",{className:"p-4 sm:p-5 bg-gradient-to-b from-[#faf8f5] to-[#f2ede6]",children:f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 min-w-0",children:t.units.map((n,i)=>{const s=o5(n.path);return r.includes(s)?f.jsxs("div",{className:"dashboard-card group relative bg-gray-100 rounded-xl border-2 border-[#e8e0d4] p-4 shadow-sm flex items-start gap-3 overflow-hidden min-w-0 cursor-not-allowed opacity-75",style:{animationDelay:`${180+e*120+i*40}ms`},children:[f.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl flex items-center justify-center bg-gray-200 border border-[#e8e0d4] text-[#8a857c]",children:f.jsx("iconify-icon",{icon:"mdi:file-document-edit-outline",width:"20"})}),f.jsxs("div",{className:"flex-1 min-w-0 z-10",children:[f.jsx("p",{className:"font-bold text-[#5c574f] text-sm leading-snug",children:n.label}),f.jsx("span",{className:"inline-flex items-center gap-1 mt-1.5 text-[10px] font-bold uppercase text-red-600 bg-red-50 px-2 py-0.5 rounded-md",children:"Disabled"})]})]},n.path):f.jsxs(_r,{to:n.path,className:"dashboard-card group relative bg-white rounded-xl border-2 border-[#e8e0d4] p-4 shadow-sm hover:shadow-lg hover:-translate-y-1 hover:border-[#1e4d2b]/40 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] flex items-start gap-3 overflow-hidden min-w-0",style:{animationDelay:`${180+e*120+i*40}ms`},children:[f.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-[0.04] transition-opacity duration-300 bg-gradient-to-br ${t.gradient}`}),f.jsx("div",{className:`shrink-0 w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover:scale-110 ${t.iconBg} border border-[#e8e0d4]`,children:f.jsx("iconify-icon",{icon:"mdi:file-document-edit-outline",width:"20"})}),f.jsxs("div",{className:"flex-1 min-w-0 z-10",children:[f.jsx("p",{className:"font-bold text-[#1e4d2b] group-hover:text-[#153019] text-sm leading-snug transition-colors duration-300",children:n.label}),f.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] font-semibold text-[#5c7355] mt-1.5 group-hover:text-[#1e4d2b] transition-colors duration-300",children:[f.jsx("span",{children:"Open Form"}),f.jsx("span",{className:"inline-block transition-transform duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover:translate-x-0.5",children:f.jsx("iconify-icon",{icon:"mdi:arrow-right",width:"14"})})]})]})]},n.path)})})})]},e))]})})}function Uc(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var p5={exports:{}};/*! ExcelJS 19-10-2023 */(function(r,t){(function(e){r.exports=e()})(function(){return function e(n,i,s){function a(o,u){if(!i[o]){if(!n[o]){var p=typeof Uc=="function"&&Uc;if(!u&&p)return p(o,!0);if(c)return c(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[o]={exports:{}};n[o][0].call(h.exports,function(g){return a(n[o][1][g]||g)},h,h.exports,e,n,i,s)}return i[o].exports}for(var c=typeof Uc=="function"&&Uc,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(e,n,i){const s=e("fs"),a=e("fast-csv"),c=e("dayjs/plugin/customParseFormat"),l=e("dayjs/plugin/utc"),o=e("dayjs").extend(c).extend(l),u=e("../utils/stream-buf"),{fs:{exists:p}}=e("../utils/utils"),d={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(h){this.workbook=h,this.worksheet=null}async readFile(h,g){if(g=g||{},!await p(h))throw new Error("File not found: "+h);const b=s.createReadStream(h),m=await this.read(b,g);return b.close(),m}read(h,g){return g=g||{},new Promise((b,m)=>{const y=this.workbook.addWorksheet(g.sheetName),v=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],w=g.map||function(A){if(A==="")return null;const D=Number(A);if(!Number.isNaN(D)&&D!==1/0)return D;const L=v.reduce((M,F)=>{if(M)return M;const $=o(A,F,!0);return $.isValid()?$:null},null);if(L)return new Date(L.valueOf());const C=d[A];return C!==void 0?C:A},E=a.parse(g.parserOptions).on("data",A=>{y.addRow(A.map(w))}).on("end",()=>{E.emit("worksheet",y)});E.on("worksheet",b).on("error",m),h.pipe(E)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(h,g){return new Promise((b,m)=>{g=g||{};const y=this.workbook.getWorksheet(g.sheetName||g.sheetId),v=a.format(g.formatterOptions);h.on("finish",()=>{b()}),v.on("error",m),v.pipe(h);const{dateFormat:w,dateUTC:E}=g,A=g.map||(C=>{if(C){if(C.text||C.hyperlink)return C.hyperlink||C.text||"";if(C.formula||C.result)return C.result||"";if(C instanceof Date)return w?E?o.utc(C).format(w):o(C).format(w):E?o.utc(C).format():o(C).format();if(C.error)return C.error;if(typeof C=="object")return JSON.stringify(C)}return C}),D=g.includeEmptyRows===void 0||g.includeEmptyRows;let L=1;y&&y.eachRow((C,M)=>{if(D)for(;L++<M-1;)v.write([]);const{values:F}=C;F.shift(),v.write(F.map(A)),L=M}),v.end()})}writeFile(h,g){const b={encoding:(g=g||{}).encoding||"utf8"},m=s.createWriteStream(h,b);return this.write(m,g)}async writeBuffer(h){const g=new u;return await this.write(g,h),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,n,i){const s=e("../utils/col-cache");class a{constructor(l,o){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,o)if(typeof o=="string"){const p=s.decodeAddress(o);this.nativeCol=p.col+u,this.nativeColOff=0,this.nativeRow=p.row+u,this.nativeRowOff=0}else o.nativeCol!==void 0?(this.nativeCol=o.nativeCol||0,this.nativeColOff=o.nativeColOff||0,this.nativeRow=o.nativeRow||0,this.nativeRowOff=o.nativeRowOff||0):o.col!==void 0?(this.col=o.col+u,this.row=o.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof a||l==null?l:new a(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}n.exports=a},{"../utils/col-cache":19}],3:[function(e,n,i){const s=e("../utils/col-cache"),a=e("../utils/under-dash"),c=e("./enums"),{slideFormula:l}=e("../utils/shared-formula"),o=e("./note");class u{constructor(h,g,b){if(!h||!g)throw new Error("A Cell needs a Row");this._row=h,this._column=g,s.validateAddress(b),this._address=b,this._value=p.create(u.Types.Null,this),this.style=this._mergeStyle(h.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(h){this.style.numFmt=h}get font(){return this.style.font}set font(h){this.style.font=h}get alignment(){return this.style.alignment}set alignment(h){this.style.alignment=h}get border(){return this.style.border}set border(h){this.style.border=h}get fill(){return this.style.fill}set fill(h){this.style.fill=h}get protection(){return this.style.protection}set protection(h){this.style.protection=h}_mergeStyle(h,g,b){const m=h&&h.numFmt||g&&g.numFmt;m&&(b.numFmt=m);const y=h&&h.font||g&&g.font;y&&(b.font=y);const v=h&&h.alignment||g&&g.alignment;v&&(b.alignment=v);const w=h&&h.border||g&&g.border;w&&(b.border=w);const E=h&&h.fill||g&&g.fill;E&&(b.fill=E);const A=h&&h.protection||g&&g.protection;return A&&(b.protection=A),b}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(h,g){this._value.release(),this._value=p.create(u.Types.Merge,this,h),g||(this.style=h.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=p.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(h){return this._value.type===u.Types.Merge&&this._value.isMergedTo(h)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(h){this.type!==u.Types.Merge?(this._value.release(),this._value=p.create(p.getType(h),this,h)):this._value.master.value=h}get note(){return this._comment&&this._comment.note}set note(h){this._comment=new o(h)}get text(){return this._value.toString()}get html(){return a.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(h){this.type===u.Types.String&&(this._value=p.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:h}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:h}=this._row;return{sheetName:h.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(h){this.names=[h]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(h){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),h.forEach(b=>{g.addEx(this.fullAddress,b)})}addName(h){this.workbook.definedNames.addEx(this.fullAddress,h)}removeName(h){this.workbook.definedNames.removeEx(this.fullAddress,h)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(h){this._dataValidations.add(this.address,h)}get model(){const{model:h}=this._value;return h.style=this.style,this._comment&&(h.comment=this._comment.model),h}set model(h){if(this._value.release(),this._value=p.create(h.type,this),this._value.model=h,h.comment)switch(h.comment.type){case"note":this._comment=o.fromModel(h.comment)}h.style?this.style=h.style:this.style={}}}u.Types=c.ValueType;const p={getType:d=>d==null?u.Types.Null:d instanceof String||typeof d=="string"?u.Types.String:typeof d=="number"?u.Types.Number:typeof d=="boolean"?u.Types.Boolean:d instanceof Date?u.Types.Date:d.text&&d.hyperlink?u.Types.Hyperlink:d.formula||d.sharedFormula?u.Types.Formula:d.richText?u.Types.RichText:d.sharedString?u.Types.SharedString:d.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(d){this.model={address:d.address,type:u.Types.Null}}get value(){return null}set value(d){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Number,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.String,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Date,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Hyperlink,text:h?h.text:void 0,hyperlink:h?h.hyperlink:void 0},h&&h.tooltip&&(this.model.tooltip=h.tooltip)}get value(){const d={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(d.tooltip=this.model.tooltip),d}set value(d){this.model={text:d.text,hyperlink:d.hyperlink},d.tooltip&&(this.model.tooltip=d.tooltip)}get text(){return this.model.text}set text(d){this.model.text=d}get hyperlink(){return this.model.hyperlink}set hyperlink(d){this.model.hyperlink=d}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(d,h){this.cell=d,this.model={address:d.address,type:u.Types.Formula,shareType:h?h.shareType:void 0,ref:h?h.ref:void 0,formula:h?h.formula:void 0,sharedFormula:h?h.sharedFormula:void 0,result:h?h.result:void 0}}_copyModel(d){const h={},g=b=>{const m=d[b];m&&(h[b]=m)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),h}get value(){return this._copyModel(this.model)}set value(d){this.model=this._copyModel(d)}validate(d){switch(p.getType(d)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(d){this.model.formula=d}get formulaType(){return this.model.formula?c.FormulaType.Master:this.model.sharedFormula?c.FormulaType.Shared:c.FormulaType.None}get result(){return this.model.result}set result(d){this.model.result=d}get type(){return u.Types.Formula}get effectiveType(){const d=this.model.result;return d==null?c.ValueType.Null:d instanceof String||typeof d=="string"?c.ValueType.String:typeof d=="number"?c.ValueType.Number:d instanceof Date?c.ValueType.Date:d.text&&d.hyperlink?c.ValueType.Hyperlink:d.formula?c.ValueType.Formula:c.ValueType.Null}get address(){return this.model.address}set address(d){this.model.address=d}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:d}=this.cell,h=d.findCell(this.model.sharedFormula);this._translatedFormula=h&&l(h.formula,h.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Merge,master:h?h.address:void 0},this._master=h,h&&h.addMergeRef()}get value(){return this._master.value}set value(d){d instanceof u?(this._master&&this._master.releaseMergeRef(),d.addMergeRef(),this._master=d):this._master.value=d}isMergedTo(d){return d===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.String,value:JSON.stringify(h),rawValue:h}}get value(){return this.model.rawValue}set value(d){this.model.rawValue=d,this.model.value=JSON.stringify(d)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.SharedString,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.String,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}toString(){return this.model.value.richText.map(d=>d.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Boolean,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Error,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((d,h)=>(d[h.t]=h.f,d),[]),create(d,h,g){const b=this.types[d];if(!b)throw new Error("Could not create Value of type "+d);return new b(h,g)}};n.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,n,i){const s=e("../utils/under-dash"),a=e("./enums"),c=e("../utils/col-cache");class l{constructor(u,p,d){this._worksheet=u,this._number=p,d!==!1&&(this.defn=d)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return c.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((p,d)=>{this._worksheet.getCell(d+1,this.number).value=p})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&s.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,p){const d=this.number;p||(p=u,u=null),this._worksheet.eachRow(u,(h,g)=>{p(h.getCell(d),g)})}get values(){const u=[];return this.eachCell((p,d)=>{p&&p.type!==a.ValueType.Null&&(u[d]=p.value)}),u}set values(u){if(!u)return;const p=this.number;let d=0;u.hasOwnProperty("0")&&(d=1),u.forEach((h,g)=>{this._worksheet.getCell(g+d,p).value=h})}_applyStyle(u,p){return this.style[u]=p,this.eachCell(d=>{d[u]=p}),p}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const p=[];let d=null;return u&&u.forEach((h,g)=>{h.isDefault?d&&(d=null):d&&h.equivalentTo(d)?d.max=g+1:(d={min:g+1,max:g+1,width:h.width!==void 0?h.width:9,style:h.style,isCustomWidth:h.isCustomWidth,hidden:h.hidden,outlineLevel:h.outlineLevel,collapsed:h.collapsed},p.push(d))}),p.length?p:void 0}static fromModel(u,p){const d=[];let h=1,g=0;for(p=(p=p||[]).sort(function(b,m){return b.min-m.min});g<p.length;){const b=p[g++];for(;h<b.min;)d.push(new l(u,h++));for(;h<=b.max;)d.push(new l(u,h++,b))}return d.length?d:null}}n.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,n,i){n.exports=class{constructor(s){this.model=s||{}}add(s,a){return this.model[s]=a}find(s){return this.model[s]}remove(s){this.model[s]=void 0}}},{}],6:[function(e,n,i){const s=e("../utils/under-dash"),a=e("../utils/col-cache"),c=e("../utils/cell-matrix"),l=e("./range"),o=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new c)}add(u,p){const d=a.decodeEx(u);this.addEx(d,p)}addEx(u,p){const d=this.getMatrix(p);if(u.top)for(let h=u.left;h<=u.right;h++)for(let g=u.top;g<=u.bottom;g++){const b={sheetName:u.sheetName,address:a.n2l(h)+g,row:g,col:h};d.addCellEx(b)}else d.addCellEx(u)}remove(u,p){const d=a.decodeEx(u);this.removeEx(d,p)}removeEx(u,p){this.getMatrix(p).removeCellEx(u)}removeAllNames(u){s.each(this.matrixMap,p=>{p.removeCellEx(u)})}forEach(u){s.each(this.matrixMap,(p,d)=>{p.forEach(h=>{u(d,h)})})}getNames(u){return this.getNamesEx(a.decodeEx(u))}getNamesEx(u){return s.map(this.matrixMap,(p,d)=>p.findCellEx(u)&&d).filter(Boolean)}_explore(u,p){p.mark=!1;const{sheetName:d}=p,h=new l(p.row,p.col,p.row,p.col,d);let g,b;function m(v,w){const E=u.findCellAt(d,v,p.col);return!(!E||!E.mark)&&(h[w]=v,E.mark=!1,!0)}for(b=p.row-1;m(b,"top");b--);for(b=p.row+1;m(b,"bottom");b++);function y(v,w){const E=[];for(b=h.top;b<=h.bottom;b++){const A=u.findCellAt(d,b,v);if(!A||!A.mark)return!1;E.push(A)}h[w]=v;for(let A=0;A<E.length;A++)E[A].mark=!1;return!0}for(g=p.col-1;y(g,"left");g--);for(g=p.col+1;y(g,"right");g++);return h}getRanges(u,p){return(p=p||this.matrixMap[u])?(p.forEach(d=>{d.mark=!0}),{name:u,ranges:p.map(d=>d.mark&&this._explore(p,d)).filter(Boolean).map(d=>d.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,p){u.forEachInSheet(p,(d,h,g)=>{d&&(d.row===h&&d.col===g||(d.row=h,d.col=g,d.address=a.n2l(g)+h))})}spliceRows(u,p,d,h){s.each(this.matrixMap,g=>{g.spliceRows(u,p,d,h),this.normaliseMatrix(g,u)})}spliceColumns(u,p,d,h){s.each(this.matrixMap,g=>{g.spliceColumns(u,p,d,h),this.normaliseMatrix(g,u)})}get model(){return s.map(this.matrixMap,(u,p)=>this.getRanges(p,u)).filter(u=>u.ranges.length)}set model(u){const p=this.matrixMap={};u.forEach(d=>{const h=p[d.name]=new c;d.ranges.forEach(g=>{o.test(g.split("!").pop()||"")&&h.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,n,i){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,n,i){const s=e("../utils/col-cache"),a=e("./anchor");n.exports=class{constructor(c,l){this.worksheet=c,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(c){let{type:l,imageId:o,range:u,hyperlinks:p}=c;if(this.type=l,this.imageId=o,l==="image")if(typeof u=="string"){const d=s.decode(u);this.range={tl:new a(this.worksheet,{col:d.left,row:d.top},-1),br:new a(this.worksheet,{col:d.right,row:d.bottom},0),editAs:"oneCell"}}else this.range={tl:new a(this.worksheet,u.tl,0),br:u.br&&new a(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:p||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,n,i){const s=e("../utils/under-dash");class a{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return s.deepMerge({},a.DEFAULT_CONFIGS,l)}set model(l){const{note:o}=l,{texts:u}=o;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=o}static fromModel(l){const o=new a;return o.model=l,o}}a.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=a},{"../utils/under-dash":26}],10:[function(e,n,i){const s=e("../utils/col-cache");class a{constructor(){this.decode(arguments)}setTLBR(l,o,u,p,d){if(arguments.length<4){const h=s.decodeAddress(l),g=s.decodeAddress(o);this.model={top:Math.min(h.row,g.row),left:Math.min(h.col,g.col),bottom:Math.max(h.row,g.row),right:Math.max(h.col,g.col),sheetName:u},this.setTLBR(h.row,h.col,g.row,g.col,d)}else this.model={top:Math.min(l,u),left:Math.min(o,p),bottom:Math.max(l,u),right:Math.max(o,p),sheetName:d}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const o=l[0];if(o instanceof a)this.model={top:o.model.top,left:o.model.left,bottom:o.model.bottom,right:o.model.right,sheetName:o.sheetName};else if(o instanceof Array)this.decode(o);else if(o.top&&o.left&&o.bottom&&o.right)this.model={top:o.top,left:o.left,bottom:o.bottom,right:o.right,sheetName:o.sheetName};else{const u=s.decodeEx(o);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,o,u,p){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||o<this.left)&&(this.left=o),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||p>this.right)&&(this.right=p)}expandRow(l){if(l){const{dimensions:o,number:u}=l;o&&this.expand(u,o.min,u,o.max)}}expandToAddress(l){const o=s.decodeEx(l);this.expand(o.row,o.col,o.row,o.col)}get tl(){return s.n2l(this.left)+this.top}get $t$l(){return`$${s.n2l(this.left)}$${this.top}`}get br(){return s.n2l(this.right)+this.bottom}get $b$r(){return`$${s.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const o=s.decodeEx(l);return this.containsEx(o)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let o=this.left;o<=this.right;o++)for(let u=this.top;u<=this.bottom;u++)l(s.encodeAddress(u,o),u,o)}}n.exports=a},{"../utils/col-cache":19}],11:[function(e,n,i){const s=e("../utils/under-dash"),a=e("./enums"),c=e("../utils/col-cache"),l=e("./cell");n.exports=class{constructor(o,u){this._worksheet=o,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(o){return this._cells[o-1]}getCellEx(o){let u=this._cells[o.col-1];if(!u){const p=this._worksheet.getColumn(o.col);u=new l(this,p,o.address),this._cells[o.col-1]=u}return u}getCell(o){if(typeof o=="string"){const u=this._worksheet.getColumnKey(o);o=u?u.number:c.l2n(o)}return this._cells[o-1]||this.getCellEx({address:c.encodeAddress(this._number,o),row:this._number,col:o})}splice(o,u){const p=o+u;for(var d=arguments.length,h=new Array(d>2?d-2:0),g=2;g<d;g++)h[g-2]=arguments[g];const b=h.length-u,m=this._cells.length;let y,v,w;if(b<0)for(y=o+h.length;y<=m;y++)w=this._cells[y-1],v=this._cells[y-b-1],v?(w=this.getCell(y),w.value=v.value,w.style=v.style,w._comment=v._comment):w&&(w.value=null,w.style={},w._comment=void 0);else if(b>0)for(y=m;y>=p;y--)v=this._cells[y-1],v?(w=this.getCell(y+b),w.value=v.value,w.style=v.style,w._comment=v._comment):this._cells[y+b-1]=void 0;for(y=0;y<h.length;y++)w=this.getCell(o+y),w.value=h[y],w.style={},w._comment=void 0}eachCell(o,u){if(u||(u=o,o=null),o&&o.includeEmpty){const p=this._cells.length;for(let d=1;d<=p;d++)u(this.getCell(d),d)}else this._cells.forEach((p,d)=>{p&&p.type!==a.ValueType.Null&&u(p,d+1)})}addPageBreak(o,u){const p=this._worksheet,d=Math.max(0,o-1)||0,h=Math.max(0,u-1)||16838,g={id:this._number,max:h,man:1};d&&(g.min=d),p.rowBreaks.push(g)}get values(){const o=[];return this._cells.forEach(u=>{u&&u.type!==a.ValueType.Null&&(o[u.col]=u.value)}),o}set values(o){if(this._cells=[],o)if(o instanceof Array){let u=0;o.hasOwnProperty("0")&&(u=1),o.forEach((p,d)=>{p!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,d+u),row:this._number,col:d+u}).value=p)})}else this._worksheet.eachColumnKey((u,p)=>{o[p]!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=o[p])})}get hasValues(){return s.some(this._cells,o=>o&&o.type!==a.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let o=0;return this.eachCell(()=>{o++}),o}get dimensions(){let o=0,u=0;return this._cells.forEach(p=>{p&&p.type!==a.ValueType.Null&&((!o||o>p.col)&&(o=p.col),u<p.col&&(u=p.col))}),o>0?{min:o,max:u}:null}_applyStyle(o,u){return this.style[o]=u,this._cells.forEach(p=>{p&&(p[o]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(o){this._applyStyle("numFmt",o)}get font(){return this.style.font}set font(o){this._applyStyle("font",o)}get alignment(){return this.style.alignment}set alignment(o){this._applyStyle("alignment",o)}get protection(){return this.style.protection}set protection(o){this._applyStyle("protection",o)}get border(){return this.style.border}set border(o){this._applyStyle("border",o)}get fill(){return this.style.fill}set fill(o){this._applyStyle("fill",o)}get hidden(){return!!this._hidden}set hidden(o){this._hidden=o}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(o){this._outlineLevel=o}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const o=[];let u=0,p=0;return this._cells.forEach(d=>{if(d){const h=d.model;h&&((!u||u>d.col)&&(u=d.col),p<d.col&&(p=d.col),o.push(h))}}),this.height||o.length?{cells:o,number:this.number,min:u,max:p,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(o){if(o.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],o.cells.forEach(p=>{switch(p.type){case l.Types.Merge:break;default:{let d;if(p.address)d=c.decodeAddress(p.address);else if(u){const{row:h}=u,g=u.col+1;d={row:h,col:g,address:c.encodeAddress(h,g),$col$row:`$${c.n2l(g)}$${h}`}}u=d,this.getCellEx(d).model=p;break}}}),o.height?this.height=o.height:delete this.height,this.hidden=o.hidden,this.outlineLevel=o.outlineLevel||0,this.style=o.style&&JSON.parse(JSON.stringify(o.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,n,i){const s=e("../utils/col-cache");class a{constructor(l,o,u){this.table=l,this.column=o,this.index=u}_set(l,o){this.table.cacheState(),this.column[l]=o}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}n.exports=class{constructor(c,l){this.worksheet=c,l&&(this.table=l,this.validate(),this.store())}getFormula(c){switch(c.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${c.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${c.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${c.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${c.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${c.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${c.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${c.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${c.name}])`;case"custom":return c.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+c.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:c}=this,l=(b,m,y)=>{b[m]===void 0&&(b[m]=y)};l(c,"headerRow",!0),l(c,"totalsRow",!1),l(c,"style",{}),l(c.style,"theme","TableStyleMedium2"),l(c.style,"showFirstColumn",!1),l(c.style,"showLastColumn",!1),l(c.style,"showRowStripes",!1),l(c.style,"showColumnStripes",!1);const o=(b,m)=>{if(!b)throw new Error(m)};o(c.ref,"Table must have ref"),o(c.columns,"Table must have column definitions"),o(c.rows,"Table must have row definitions"),c.tl=s.decodeAddress(c.ref);const{row:u,col:p}=c.tl;o(u>0,"Table must be on valid row"),o(p>0,"Table must be on valid col");const{width:d,filterHeight:h,tableHeight:g}=this;c.autoFilterRef=s.encode(u,p,u+h-1,p+d-1),c.tableRef=s.encode(u,p,u+g-1,p+d-1),c.columns.forEach((b,m)=>{o(b.name,`Column ${m} must have a name`),m===0?l(b,"totalsRowLabel","Total"):(l(b,"totalsRowFunction","none"),b.totalsRowFormula=this.getFormula(b))})}store(){const c=(h,g)=>{g&&Object.keys(g).forEach(b=>{h[b]=g[b]})},{worksheet:l,table:o}=this,{row:u,col:p}=o.tl;let d=0;if(o.headerRow){const h=l.getRow(u+d++);o.columns.forEach((g,b)=>{const{style:m,name:y}=g,v=h.getCell(p+b);v.value=y,c(v,m)})}if(o.rows.forEach(h=>{const g=l.getRow(u+d++);h.forEach((b,m)=>{const y=g.getCell(p+m);y.value=b,c(y,o.columns[m].style)})}),o.totalsRow){const h=l.getRow(u+d++);o.columns.forEach((g,b)=>{const m=h.getCell(p+b);if(b===0)m.value=g.totalsRowLabel;else{const y=this.getFormula(g);m.value=y?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}c(m,g.style)})}}load(c){const{table:l}=this,{row:o,col:u}=l.tl;let p=0;if(l.headerRow){const d=c.getRow(o+p++);l.columns.forEach((h,g)=>{d.getCell(u+g).value=h.name})}if(l.rows.forEach(d=>{const h=c.getRow(o+p++);d.forEach((g,b)=>{h.getCell(u+b).value=g})}),l.totalsRow){const d=c.getRow(o+p++);l.columns.forEach((h,g)=>{const b=d.getCell(u+g);g===0?b.value=h.totalsRowLabel:this.getFormula(h)&&(b.value={formula:h.totalsRowFormula,result:h.totalsRowResult})})}}get model(){return this.table}set model(c){this.table=c}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const c=s.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const o=this.worksheet.getRow(c.row+l);for(let u=0;u<this._cache.width;u++)o.getCell(c.col+u).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const o=this.worksheet.getRow(c.row+l);for(let u=0;u<this._cache.width;u++)o.getCell(c.col+u).value=null}for(let l=0;l<this.tableHeight;l++){const o=this.worksheet.getRow(c.row+l);for(let u=this.width;u<this._cache.width;u++)o.getCell(c.col+u).value=null}}this.store()}addRow(c,l){this.cacheState(),l===void 0?this.table.rows.push(c):this.table.rows.splice(l,0,c)}removeRows(c){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(c,l)}getColumn(c){const l=this.table.columns[c];return new a(this,l,c)}addColumn(c,l,o){this.cacheState(),o===void 0?(this.table.columns.push(c),this.table.rows.forEach((u,p)=>{u.push(l[p])})):(this.table.columns.splice(o,0,c),this.table.rows.forEach((u,p)=>{u.splice(o,0,l[p])}))}removeColumns(c){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(c,l),this.table.rows.forEach(o=>{o.splice(c,l)})}_assign(c,l,o){this.cacheState(),c[l]=o}get ref(){return this.table.ref}set ref(c){this._assign(this.table,"ref",c)}get name(){return this.table.name}set name(c){this.table.name=c}get displayName(){return this.table.displyName||this.table.name}set displayNamename(c){this.table.displayName=c}get headerRow(){return this.table.headerRow}set headerRow(c){this._assign(this.table,"headerRow",c)}get totalsRow(){return this.table.totalsRow}set totalsRow(c){this._assign(this.table,"totalsRow",c)}get theme(){return this.table.style.name}set theme(c){this.table.style.name=c}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(c){this.table.style.showFirstColumn=c}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(c){this.table.style.showLastColumn=c}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(c){this.table.style.showRowStripes=c}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(c){this.table.style.showColumnStripes=c}}},{"../utils/col-cache":19}],13:[function(e,n,i){const s=e("./worksheet"),a=e("./defined-names"),c=e("../xlsx/xlsx"),l=e("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new a}get xlsx(){return this._xlsx||(this._xlsx=new c(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let o=1;o<this._worksheets.length;o++)if(!this._worksheets[o])return o;return this._worksheets.length||1}addWorksheet(o,u){const p=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const d=this._worksheets.reduce((b,m)=>(m&&m.orderNo)>b?m.orderNo:b,0),h=Object.assign({},u,{id:p,name:o,orderNo:d+1,workbook:this}),g=new s(h);return this._worksheets[p]=g,g}removeWorksheetEx(o){delete this._worksheets[o.id]}removeWorksheet(o){const u=this.getWorksheet(o);u&&u.destroy()}getWorksheet(o){return o===void 0?this._worksheets.find(Boolean):typeof o=="number"?this._worksheets[o]:typeof o=="string"?this._worksheets.find(u=>u&&u.name===o):void 0}get worksheets(){return this._worksheets.slice(1).sort((o,u)=>o.orderNo-u.orderNo).filter(Boolean)}eachSheet(o){this.worksheets.forEach(u=>{o(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(o){const u=this.media.length;return this.media.push(Object.assign({},o,{type:"image"})),u}getImage(o){return this.media[o]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(o=>o.model),sheets:this.worksheets.map(o=>o.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(o){this.creator=o.creator,this.lastModifiedBy=o.lastModifiedBy,this.lastPrinted=o.lastPrinted,this.created=o.created,this.modified=o.modified,this.company=o.company,this.manager=o.manager,this.title=o.title,this.subject=o.subject,this.keywords=o.keywords,this.category=o.category,this.description=o.description,this.language=o.language,this.revision=o.revision,this.contentStatus=o.contentStatus,this.properties=o.properties,this.calcProperties=o.calcProperties,this._worksheets=[],o.worksheets.forEach(u=>{const{id:p,name:d,state:h}=u,g=o.sheets&&o.sheets.findIndex(b=>b.id===p);(this._worksheets[p]=new s({id:p,name:d,orderNo:g,state:h,workbook:this})).model=u}),this._definedNames.model=o.definedNames,this.views=o.views,this._themes=o.themes,this.media=o.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,n,i){const s=e("../utils/under-dash"),a=e("../utils/col-cache"),c=e("./range"),l=e("./row"),o=e("./column"),u=e("./enums"),p=e("./image"),d=e("./table"),h=e("./data-validations"),g=e("../utils/encryptor"),{copyStyle:b}=e("../utils/copy-style");n.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new h,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(y=>y&&y.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new c;return this._rows.forEach(y=>{if(y){const v=y.dimensions;v&&m.expand(y.number,v.min,y.number,v.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((w,E)=>{const A=(E.header?1:E.headers&&E.headers.length)||0;return Math.max(w,A)},0);let y=1;const v=this._columns=[];m.forEach(w=>{const E=new o(this,y++,!1);v.push(E),E.defn=w})}getColumnKey(m){return this._keys[m]}setColumnKey(m,y){this._keys[m]=y}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){s.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const y=this._keys[m];if(y)return y;m=a.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let y=this._columns.length+1;for(;y<=m;)this._columns.push(new o(this,y++))}return this._columns[m-1]}spliceColumns(m,y){const v=this._rows.length;for(var w=arguments.length,E=new Array(w>2?w-2:0),A=2;A<w;A++)E[A-2]=arguments[A];if(E.length>0)for(let M=0;M<v;M++){const F=[m,y];E.forEach(U=>{F.push(U[M]||null)});const $=this.getRow(M+1);$.splice.apply($,F)}else this._rows.forEach(M=>{M&&M.splice(m,y)});const D=E.length-y,L=m+y,C=this._columns.length;if(D<0)for(let M=m+E.length;M<=C;M++)this.getColumn(M).defn=this.getColumn(M-D).defn;else if(D>0)for(let M=C;M>=L;M--)this.getColumn(M+D).defn=this.getColumn(M).defn;for(let M=m;M<m+E.length;M++)this.getColumn(M).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,y,E.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(y=>{m=Math.max(m,y.cellCount)}),m}get actualColumnCount(){const m=[];let y=0;return this.eachRow(v=>{v.eachCell(w=>{let{col:E}=w;m[E]||(m[E]=!0,y++)})}),y}_commitRow(){}get _lastRowNumber(){const m=this._rows;let y=m.length;for(;y>0&&m[y-1]===void 0;)y--;return y}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,y){return this._rows.slice(m-1,m-1+y)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let y=this._rows[m-1];return y||(y=this._rows[m-1]=new l(this,m)),y}getRows(m,y){if(y<1)return;const v=[];for(let w=m;w<m+y;w++)v.push(this.getRow(w));return v}addRow(m){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=this._nextRow,w=this.getRow(v);return w.values=m,this._setStyleOption(v,y[0]==="i"?y:"n"),w}addRows(m){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=[];return m.forEach(w=>{v.push(this.addRow(w,y))}),v}insertRow(m,y){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,y),this._setStyleOption(m,v),this.getRow(m)}insertRows(m,y){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...y),v!=="n")for(let w=0;w<y.length;w++)v[0]==="o"&&this.findRow(y.length+m+w)!==void 0?this._copyStyle(y.length+m+w,m+w,v[1]==="+"):v[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+w,v[1]==="+");return this.getRows(m,y.length)}_setStyleOption(m){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";y[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,y[1]==="+"):y[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,y[1]==="+")}_copyStyle(m,y){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this.getRow(m),E=this.getRow(y);E.style=b(w.style),w.eachCell({includeEmpty:v},(A,D)=>{E.getCell(D).style=b(A.style)}),E.height=w.height}duplicateRow(m,y){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this._rows[m-1],E=new Array(y).fill(w.values);this.spliceRows(m+1,v?0:y,...E);for(let A=0;A<y;A++){const D=this._rows[m+A];D.style=w.style,D.height=w.height,w.eachCell({includeEmpty:!0},(L,C)=>{D.getCell(C).style=L.style})}}spliceRows(m,y){const v=m+y;for(var w=arguments.length,E=new Array(w>2?w-2:0),A=2;A<w;A++)E[A-2]=arguments[A];const D=E.length,L=D-y,C=this._rows.length;let M,F;if(L<0)for(m===C&&(this._rows[C-1]=void 0),M=v;M<=C;M++)if(F=this._rows[M-1],F){const $=this.getRow(M+L);$.values=F.values,$.style=F.style,$.height=F.height,F.eachCell({includeEmpty:!0},(U,j)=>{$.getCell(j).style=U.style}),this._rows[M-1]=void 0}else this._rows[M+L-1]=void 0;else if(L>0)for(M=C;M>=v;M--)if(F=this._rows[M-1],F){const $=this.getRow(M+L);$.values=F.values,$.style=F.style,$.height=F.height,F.eachCell({includeEmpty:!0},(U,j)=>{if($.getCell(j).style=U.style,U._value.constructor.name==="MergeValue"){const P=this.getRow(U._row._number+D).getCell(j),N=U._value._master,x=this.getRow(N._row._number+D).getCell(N._column._number);P.merge(x)}})}else this._rows[M+L-1]=void 0;for(M=0;M<D;M++){const $=this.getRow(m+M);$.style={},$.values=E[M]}this.workbook.definedNames.spliceRows(this.name,m,y,D)}eachRow(m,y){if(y||(y=m,m=void 0),m&&m.includeEmpty){const v=this._rows.length;for(let w=1;w<=v;w++)y(this.getRow(w),w)}else this._rows.forEach(v=>{v&&v.hasValues&&y(v,v.number)})}getSheetValues(){const m=[];return this._rows.forEach(y=>{y&&(m[y.number]=y.values)}),m}findCell(m,y){const v=a.getAddress(m,y),w=this._rows[v.row-1];return w?w.findCell(v.col):void 0}getCell(m,y){const v=a.getAddress(m,y);return this.getRow(v.row).getCellEx(v)}mergeCells(){for(var m=arguments.length,y=new Array(m),v=0;v<m;v++)y[v]=arguments[v];const w=new c(y);this._mergeCellsInternal(w)}mergeCellsWithoutStyle(){for(var m=arguments.length,y=new Array(m),v=0;v<m;v++)y[v]=arguments[v];const w=new c(y);this._mergeCellsInternal(w,!0)}_mergeCellsInternal(m,y){s.each(this._merges,w=>{if(w.intersects(m))throw new Error("Cannot merge already merged cells")});const v=this.getCell(m.top,m.left);for(let w=m.top;w<=m.bottom;w++)for(let E=m.left;E<=m.right;E++)(w>m.top||E>m.left)&&this.getCell(w,E).merge(v,y);this._merges[v.address]=m}_unMergeMaster(m){const y=this._merges[m.address];if(y){for(let v=y.top;v<=y.bottom;v++)for(let w=y.left;w<=y.right;w++)this.getCell(v,w).unmerge();delete this._merges[m.address]}}get hasMerges(){return s.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,y=new Array(m),v=0;v<m;v++)y[v]=arguments[v];const w=new c(y);for(let E=w.top;E<=w.bottom;E++)for(let A=w.left;A<=w.right;A++){const D=this.findCell(E,A);D&&(D.type===u.ValueType.Merge?this._unMergeMaster(D.master):this._merges[D.address]&&this._unMergeMaster(D))}}fillFormula(m,y,v){let w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const E=a.decode(m),{top:A,left:D,bottom:L,right:C}=E,M=C-D+1,F=a.encodeAddress(A,D),$=w==="shared";let U;U=typeof v=="function"?v:Array.isArray(v)?Array.isArray(v[0])?(P,N)=>v[P-A][N-D]:(P,N)=>v[(P-A)*M+(N-D)]:()=>{};let j=!0;for(let P=A;P<=L;P++)for(let N=D;N<=C;N++)j?(this.getCell(P,N).value={shareType:w,formula:y,ref:m,result:U(P,N)},j=!1):this.getCell(P,N).value=$?{sharedFormula:F,result:U(P,N)}:U(P,N)}addImage(m,y){const v={type:"image",imageId:m,range:y};this._media.push(new p(this,v))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const y={type:"background",imageId:m};this._media.push(new p(this,y))}getBackgroundImageId(){const m=this._media.find(y=>y.type==="background");return m&&m.imageId}protect(m,y){return new Promise(v=>{this.sheetProtection={sheet:!0},y&&"spinCount"in y&&(y.spinCount=Number.isFinite(y.spinCount)?Math.round(Math.max(0,y.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=y&&"spinCount"in y?y.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),y&&(this.sheetProtection=Object.assign(this.sheetProtection,y),!m&&"spinCount"in y&&delete this.sheetProtection.spinCount),v()})}unprotect(){this.sheetProtection=null}addTable(m){const y=new d(this,m);return this.tables[m.name]=y,y}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(w=>w.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(w=>w.model),conditionalFormattings:this.conditionalFormattings};m.cols=o.toModel(this.columns);const y=m.rows=[],v=m.dimensions=new c;return this._rows.forEach(w=>{const E=w&&w.model;E&&(v.expand(E.number,E.min,E.number,E.max),y.push(E))}),m.merges=[],s.each(this._merges,w=>{m.merges.push(w.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(y=>{const v=new l(this,y.number);this._rows[v.number-1]=v,v.model=y})}_parseMergeCells(m){s.each(m.mergeCells,y=>{this.mergeCellsWithoutStyle(y)})}set model(m){this.name=m.name,this._columns=o.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new h(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(y=>new p(this,y)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((y,v)=>{const w=new d;return w.model=v,y[v.name]=w,y},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,n,i){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const s={Workbook:e("./doc/workbook")},a=e("./doc/enums");Object.keys(a).forEach(c=>{s[c]=a[c]}),n.exports=s},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,n,i){const s=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(a){return typeof a=="string"?a:s?s.decode(a):a.toString()}},{}],17:[function(e,n,i){const s=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:a}=e("buffer");i.stringToBuffer=function(c){return typeof c!="string"?c:s?a.from(s.encode(c).buffer):a.from(c)}},{buffer:220}],18:[function(e,n,i){const s=e("./under-dash"),a=e("./col-cache");n.exports=class{constructor(c){this.template=c,this.sheets={}}addCell(c){this.addCellEx(a.decodeEx(c))}getCell(c){return this.findCellEx(a.decodeEx(c),!0)}findCell(c){return this.findCellEx(a.decodeEx(c),!1)}findCellAt(c,l,o){const u=this.sheets[c],p=u&&u[l];return p&&p[o]}addCellEx(c){if(c.top)for(let l=c.top;l<=c.bottom;l++)for(let o=c.left;o<=c.right;o++)this.getCellAt(c.sheetName,l,o);else this.findCellEx(c,!0)}getCellEx(c){return this.findCellEx(c,!0)}findCellEx(c,l){const o=this.findSheet(c,l),u=this.findSheetRow(o,c,l);return this.findRowCell(u,c,l)}getCellAt(c,l,o){const u=this.sheets[c]||(this.sheets[c]=[]),p=u[l]||(u[l]=[]);return p[o]||(p[o]={sheetName:c,address:a.n2l(o)+l,row:l,col:o})}removeCellEx(c){const l=this.findSheet(c);if(!l)return;const o=this.findSheetRow(l,c);o&&delete o[c.col]}forEachInSheet(c,l){const o=this.sheets[c];o&&o.forEach((u,p)=>{u&&u.forEach((d,h)=>{d&&l(d,p,h)})})}forEach(c){s.each(this.sheets,(l,o)=>{this.forEachInSheet(o,c)})}map(c){const l=[];return this.forEach(o=>{l.push(c(o))}),l}findSheet(c,l){const o=c.sheetName;return this.sheets[o]?this.sheets[o]:l?this.sheets[o]=[]:void 0}findSheetRow(c,l,o){const{row:u}=l;return c&&c[u]?c[u]:o?c[u]=[]:void 0}findRowCell(c,l,o){const{col:u}=l;return c&&c[u]?c[u]:o?c[u]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(c,l,o,u){const p=this.sheets[c];if(p){const d=[];for(let h=0;h<u;h++)d.push([]);p.splice(l,o,...d)}}spliceColumns(c,l,o,u){const p=this.sheets[c];if(p){const d=[];for(let h=0;h<u;h++)d.push(null);s.each(p,h=>{h.splice(l,o,...d)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,n,i){const s=/^[A-Z]+\d+$/,a={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:c=>c<=26?1:c<=676?2:3,_fill(c){let l,o,u,p,d,h=1;if(c>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&c>=1){for(;h<=26;)l=this._dictionary[h-1],this._n2l[h]=l,this._l2n[l]=h,h++;this._l2nFill=1}if(this._l2nFill<2&&c>=2){for(h=27;h<=702;)o=h-27,u=o%26,p=Math.floor(o/26),l=this._dictionary[p]+this._dictionary[u],this._n2l[h]=l,this._l2n[l]=h,h++;this._l2nFill=2}if(this._l2nFill<3&&c>=3){for(h=703;h<=16384;)o=h-703,u=o%26,p=Math.floor(o/26)%26,d=Math.floor(o/676),l=this._dictionary[d]+this._dictionary[p]+this._dictionary[u],this._n2l[h]=l,this._l2n[l]=h,h++;this._l2nFill=3}},l2n(c){if(this._l2n[c]||this._fill(c.length),!this._l2n[c])throw new Error("Out of bounds. Invalid column letter: "+c);return this._l2n[c]},n2l(c){if(c<1||c>16384)throw new Error(c+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[c]||this._fill(this._level(c)),this._n2l[c]},_hash:{},validateAddress(c){if(!s.test(c))throw new Error("Invalid Address: "+c);return!0},decodeAddress(c){const l=c.length<5&&this._hash[c];if(l)return l;let o=!1,u="",p=0,d=!1,h="",g=0;for(let m,y=0;y<c.length;y++)if(m=c.charCodeAt(y),!d&&m>=65&&m<=90)o=!0,u+=c[y],p=26*p+m-64;else if(m>=48&&m<=57)d=!0,h+=c[y],g=10*g+m-48;else if(d&&o&&m!==36)break;if(o){if(p>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else p=void 0;d||(g=void 0);const b={address:c=u+h,col:p,row:g,$col$row:`$${u}$${h}`};return p<=100&&g<=100&&(this._hash[c]=b,this._hash[b.$col$row]=b),b},getAddress(c,l){if(l){const o=this.n2l(l)+c;return this.decodeAddress(o)}return this.decodeAddress(c)},decode(c){const l=c.split(":");if(l.length===2){const o=this.decodeAddress(l[0]),u=this.decodeAddress(l[1]),p={top:Math.min(o.row,u.row),left:Math.min(o.col,u.col),bottom:Math.max(o.row,u.row),right:Math.max(o.col,u.col)};return p.tl=this.n2l(p.left)+p.top,p.br=this.n2l(p.right)+p.bottom,p.dimensions=`${p.tl}:${p.br}`,p}return this.decodeAddress(c)},decodeEx(c){const l=c.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),o=l[1]||l[2],u=l[3],p=u.split(":");if(p.length>1){let h=this.decodeAddress(p[0]),g=this.decodeAddress(p[1]);const b=Math.min(h.row,g.row),m=Math.min(h.col,g.col),y=Math.max(h.row,g.row),v=Math.max(h.col,g.col);return h=this.n2l(m)+b,g=this.n2l(v)+y,{top:b,left:m,bottom:y,right:v,sheetName:o,tl:{address:h,col:m,row:b,$col$row:`$${this.n2l(m)}$${b}`,sheetName:o},br:{address:g,col:v,row:y,$col$row:`$${this.n2l(v)}$${y}`,sheetName:o},dimensions:`${h}:${g}`}}if(u.startsWith("#"))return o?{sheetName:o,error:u}:{error:u};const d=this.decodeAddress(u);return o?{sheetName:o,...d}:d},encodeAddress:(c,l)=>a.n2l(l)+c,encode(){switch(arguments.length){case 2:return a.encodeAddress(arguments[0],arguments[1]);case 4:return`${a.encodeAddress(arguments[0],arguments[1])}:${a.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(c,l){const[o,u,,p,d]=c,[h,g]=l;return h>=o&&h<=p&&g>=u&&g<=d}};n.exports=a},{}],20:[function(e,n,i){const s=(c,l)=>({...c,...l.reduce((o,u)=>(c[u]&&(o[u]={...c[u]}),o),{})}),a=function(c,l,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];c[o]&&(l[o]=s(c[o],u))};i.copyStyle=c=>{if(!c)return c;if(l=c,Object.keys(l).length===0)return{};var l;const o={...c};return a(c,o,"font",["color"]),a(c,o,"alignment"),a(c,o,"protection"),c.border&&(a(c,o,"border"),a(c.border,o.border,"top",["color"]),a(c.border,o.border,"left",["color"]),a(c.border,o.border,"bottom",["color"]),a(c.border,o.border,"right",["color"]),a(c.border,o.border,"diagonal",["color"])),c.fill&&(a(c,o,"fill",["fgColor","bgColor","center"]),c.fill.stops&&(o.fill.stops=c.fill.stops.map(u=>s(u,["color"])))),o}},{}],21:[function(e,n,i){(function(s){(function(){const a=e("crypto"),c={hash(l){const o=a.createHash(l);for(var u=arguments.length,p=new Array(u>1?u-1:0),d=1;d<u;d++)p[d-1]=arguments[d];return o.update(s.concat(p)),o.digest()},convertPasswordToHash(l,o,u,p){if(o=o.toLowerCase(),a.getHashes().indexOf(o)<0)throw new Error(`Hash algorithm '${o}' not supported!`);const d=s.from(l,"utf16le");let h=this.hash(o,s.from(u,"base64"),d);for(let g=0;g<p;g++){const b=s.alloc(4);b.writeUInt32LE(g,0),h=this.hash(o,h,b)}return h.toString("base64")},randomBytes:l=>a.randomBytes(l)};n.exports=c}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,n,i){const{SaxesParser:s}=e("saxes"),{PassThrough:a}=e("readable-stream"),{bufferToString:c}=e("./browser-buffer-decode");n.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new a));const o=new s;let u;o.on("error",d=>{u=d});let p=[];o.on("opentag",d=>p.push({eventType:"opentag",value:d})),o.on("text",d=>p.push({eventType:"text",value:d})),o.on("closetag",d=>p.push({eventType:"closetag",value:d}));for await(const d of l){if(o.write(c(d)),u)throw u;yield p,p=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,n,i){const s=e("./col-cache"),a=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,c=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(l,o,u){const p=s.decode(o),d=s.decode(u);return l.replace(a,(h,g,b,m,y)=>{if(y)return h;const v=c.exec(m);if(v){const w=v[1],E=v[2].toUpperCase(),A=v[3],D=v[4];if(E.length>3||E.length===3&&E>"XFD")return h;let L=s.l2n(E),C=parseInt(D,10);return w||(L+=d.col-p.col),A||(C+=d.row-p.row),(g||"")+(w||"")+s.n2l(L)+(A||"")+C}return h})}}},{"./col-cache":19}],24:[function(e,n,i){(function(s,a){(function(){const c=e("readable-stream"),l=e("./utils"),o=e("./string-buf");class u{constructor(m,y){this._data=m,this._encoding=y}get length(){return this.toBuffer().length}copy(m,y,v,w){return this.toBuffer().copy(m,y,v,w)}toBuffer(){return this._buffer||(this._buffer=a.from(this._data,this._encoding)),this._buffer}}class p{constructor(m){this._data=m}get length(){return this._data.length}copy(m,y,v,w){return this._data._buf.copy(m,y,v,w)}toBuffer(){return this._data.toBuffer()}}class d{constructor(m){this._data=m}get length(){return this._data.length}copy(m,y,v,w){this._data.copy(m,y,v,w)}toBuffer(){return this._data}}class h{constructor(m){this.size=m,this.buffer=a.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=a.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let y;return m===0?null:m===void 0||m>=this.length?(y=this.toBuffer(),this.iRead=this.iWrite,y):(y=a.alloc(m),this.buffer.copy(y,0,this.iRead,m),this.iRead+=m,y)}write(m,y,v){const w=Math.min(v,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,y,y+w),this.iWrite+=w,w}}const g=function(b){b=b||{},this.bufSize=b.bufSize||1048576,this.buffers=[],this.batch=b.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(g,c.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return a.concat(this.buffers.map(b=>b.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const b=new h(this.bufSize);return this.buffers.push(b),b},async _pipe(b){await Promise.all(this.pipes.map(function(m){return new Promise(y=>{m.write(b.toBuffer(),()=>{y()})})}))},_writeToBuffers(b){let m=0;const y=b.length;for(;m<y;)m+=this._getWritableBuffer().write(b,m,y-m)},async write(b,m,y){let v;if(m instanceof Function&&(y=m,m="utf8"),y=y||l.nop,b instanceof o)v=new p(b);else if(b instanceof a)v=new d(b);else{if(!(typeof b=="string"||b instanceof String||b instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");v=new u(b,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(v);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(v),s.nextTick(y)):(await this._pipe(v),y());else this.paused||this.emit("data",v.toBuffer()),this._writeToBuffers(v),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(b,m,y){const v=w=>{w?y(w):(this._flush(),this.pipes.forEach(E=>{E.end()}),this.emit("finish"))};b?this.write(b,m,v):v()},read(b){let m;if(b){for(m=[];b&&this.buffers.length&&!this.buffers[0].eod;){const y=this.buffers[0],v=y.read(b);b-=v.length,m.push(v),y.eod&&y.full&&this.buffers.shift()}return a.concat(m)}return m=this.buffers.map(y=>y.toBuffer()).filter(Boolean),this.buffers=[],a.concat(m)},setEncoding(b){this.encoding=b},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(b){this.pipes.push(b),!this.paused&&this.buffers.length&&this.end()},unpipe(b){this.pipes=this.pipes.filter(m=>m!==b)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=g}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,n,i){(function(s){(function(){n.exports=class{constructor(a){this._buf=s.alloc(a&&a.size||16384),this._encoding=a&&a.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=s.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(a){a=a||0,this._buffer=void 0,this._inPos=a}_grow(a){let c=2*this._buf.length;for(;c<a;)c*=2;const l=s.alloc(c);this._buf.copy(l,0),this._buf=l}addText(a){this._buffer=void 0;let c=this._inPos+this._buf.write(a,this._inPos,this._encoding);for(;c>=this._buf.length-4;)this._grow(this._inPos+a.length),c=this._inPos+this._buf.write(a,this._inPos,this._encoding);this._inPos=c}addStringBuf(a){a.length&&(this._buffer=void 0,this.length+a.length>this.capacity&&this._grow(this.length+a.length),a._buf.copy(this._buf,this._inPos,0,a.length),this._inPos+=a.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,n,i){const{toString:s}=Object.prototype,a=/["&<>]/,c={each:function(l,o){l&&(Array.isArray(l)?l.forEach(o):Object.keys(l).forEach(u=>{o(l[u],u)}))},some:function(l,o){return!!l&&(Array.isArray(l)?l.some(o):Object.keys(l).some(u=>o(l[u],u)))},every:function(l,o){return!l||(Array.isArray(l)?l.every(o):Object.keys(l).every(u=>o(l[u],u)))},map:function(l,o){return l?Array.isArray(l)?l.map(o):Object.keys(l).map(u=>o(l[u],u)):[]},keyBy:(l,o)=>l.reduce((u,p)=>(u[p[o]]=p,u),{}),isEqual:function(l,o){const u=typeof l,p=typeof o,d=Array.isArray(l),h=Array.isArray(o);let g;if(u!==p)return!1;switch(typeof l){case"object":if(d||h)return!(!d||!h)&&l.length===o.length&&l.every((b,m)=>{const y=o[m];return c.isEqual(b,y)});if(l===null||o===null)return l===o;if(g=Object.keys(l),Object.keys(o).length!==g.length)return!1;for(const b of g)if(!o.hasOwnProperty(b))return!1;return c.every(l,(b,m)=>{const y=o[m];return c.isEqual(b,y)});default:return l===o}},escapeHtml(l){const o=a.exec(l);if(!o)return l;let u="",p="",d=0,h=o.index;for(;h<l.length;h++){switch(l.charAt(h)){case'"':p="&quot;";break;case"&":p="&amp;";break;case"'":p="&apos;";break;case"<":p="&lt;";break;case">":p="&gt;";break;default:continue}d!==h&&(u+=l.substring(d,h)),d=h+1,u+=p}return d!==h?u+l.substring(d,h):u},strcmp:(l,o)=>l<o?-1:l>o?1:0,isUndefined:l=>s.call(l)==="[object Undefined]",isObject:l=>s.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:o}=arguments;let u,p,d;function h(g,b){u=l[b],d=Array.isArray(g),c.isObject(g)||d?(d?(d=!1,p=u&&Array.isArray(u)?u:[]):p=u&&c.isObject(u)?u:{},l[b]=c.deepMerge(p,g)):c.isUndefined(g)||(l[b]=g)}for(let g=0;g<o;g++)c.each(arguments[g],h);return l}};n.exports=c},{}],27:[function(e,n,i){(function(s,a){(function(){const c=e("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,o={nop(){},promiseImmediate:u=>new Promise(p=>{s.setImmediate?a(()=>{p(u)}):setTimeout(()=>{p(u)},1)}),inherits:function(u,p,d,h){u.super_=p,h||(h=d,d=null),d&&Object.keys(d).forEach(b=>{Object.defineProperty(u,b,Object.getOwnPropertyDescriptor(d,b))});const g={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};h&&Object.keys(h).forEach(b=>{g[b]=Object.getOwnPropertyDescriptor(h,b)}),u.prototype=Object.create(p.prototype,g)},dateToExcel:(u,p)=>25569+u.getTime()/864e5-(p?1462:0),excelToDate(u,p){const d=Math.round(24*(u-25569+(p?1462:0))*3600*1e3);return new Date(d)},parsePath(u){const p=u.lastIndexOf("/");return{path:u.substring(0,p),name:u.substring(p+1)}},getRelsPath(u){const p=o.parsePath(u);return`${p.path}/_rels/${p.name}.rels`},xmlEncode(u){const p=l.exec(u);if(!p)return u;let d="",h="",g=0,b=p.index;for(;b<u.length;b++){const m=u.charCodeAt(b);switch(m){case 34:h="&quot;";break;case 38:h="&amp;";break;case 39:h="&apos;";break;case 60:h="&lt;";break;case 62:h="&gt;";break;case 127:h="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){h="";break}continue}g!==b&&(d+=u.substring(g,b)),g=b+1,h&&(d+=h)}return g!==b?d+u.substring(g,b):d},xmlDecode:u=>u.replace(/&([a-z]*);/g,p=>{switch(p){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return p}}),validInt(u){const p=parseInt(u,10);return Number.isNaN(p)?0:p},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(p=>{c.access(u,c.constants.F_OK,d=>{p(!d)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};n.exports=o}).call(this)}).call(this,typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,n,i){const s=e("./under-dash"),a=e("./utils");function c(u,p,d){u.push(` ${p}="${a.xmlEncode(d.toString())}"`)}function l(u,p){if(p){const d=[];s.each(p,(h,g)=>{h!==void 0&&c(d,g,h)}),u.push(d.join(""))}}class o{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(p){const d=this._xml;d.push("<?xml"),l(d,p),d.push(`?>
`)}openNode(p,d){const h=this.tos,g=this._xml;h&&this.open&&g.push(">"),this._stack.push(p),g.push("<"),g.push(p),l(g,d),this.leaf=!0,this.open=!0}addAttribute(p,d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");d!==void 0&&c(this._xml,p,d)}addAttributes(p){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,p)}writeText(p){const d=this._xml;this.open&&(d.push(">"),this.open=!1),this.leaf=!1,d.push(a.xmlEncode(p.toString()))}writeXml(p){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(p)}closeNode(){const p=this._stack.pop(),d=this._xml;this.leaf?d.push("/>"):(d.push("</"),d.push(p),d.push(">")),this.open=!1,this.leaf=!1}leafNode(p,d,h){this.openNode(p,d),h!==void 0&&this.writeText(h),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const p=this._rollbacks.pop();this._xml.length>p.xml&&this._xml.splice(p.xml,this._xml.length-p.xml),this._stack.length>p.stack&&this._stack.splice(p.stack,this._stack.length-p.stack),this.leaf=p.leaf,this.open=p.open}get xml(){return this.closeAll(),this._xml.join("")}}o.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=o},{"./under-dash":26,"./utils":27}],29:[function(e,n,i){(function(s){(function(){const a=e("events"),c=e("jszip"),l=e("./stream-buf"),{stringToBuffer:o}=e("./browser-buffer-encode");class u extends a.EventEmitter{constructor(d){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},d),this.zip=new c,this.stream=new l}append(d,h){h.hasOwnProperty("base64")&&h.base64?this.zip.file(h.name,d,{base64:!0}):(s.browser&&typeof d=="string"&&(d=o(d)),this.zip.file(h.name,d))}async finalize(){const d=await this.zip.generateAsync(this.options);this.stream.end(d),this.emit("finish")}read(d){return this.stream.read(d)}setEncoding(d){return this.stream.setEncoding(d)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(d,h){return this.stream.pipe(d,h)}unpipe(d){return this.stream.unpipe(d)}unshift(d){return this.stream.unshift(d)}wrap(d){return this.stream.wrap(d)}}n.exports={ZipWriter:u}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,n,i){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,n,i){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,n,i){const s=e("../../utils/parse-sax"),a=e("../../utils/xml-stream");class c{prepare(){}render(){}parseOpen(o){}parseText(o){}parseClose(o){}reconcile(o,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(o=>{o instanceof c?o.reset():o.xform&&o.xform.reset()})}mergeModel(o){this.model=Object.assign(this.model||{},o)}async parse(o){for await(const u of o)for(const{eventType:p,value:d}of u)if(p==="opentag")this.parseOpen(d);else if(p==="text")this.parseText(d);else if(p==="closetag"&&!this.parseClose(d.name))return this.model;return this.model}async parseStream(o){return this.parse(s(o))}get xml(){return this.toXml(this.model)}toXml(o){const u=new a;return this.render(u,o),u.xml}static toAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(p)return u}else if(p||o!==u)return o.toString()}static toStringAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(o,u,p)}static toStringValue(o,u){return o===void 0?u:o}static toBoolAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(p)return u}else if(p||o!==u)return o?"1":"0"}static toBoolValue(o,u){return o===void 0?u:o==="1"}static toIntAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(o,u,p)}static toIntValue(o,u){return o===void 0?u:parseInt(o,10)}static toFloatAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(o,u,p)}static toFloatValue(o,u){return o===void 0?u:parseFloat(o)}}n.exports=c},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,n,i){const s=e("../base-xform"),a=e("../../../utils/col-cache");function c(o){try{return a.decodeEx(o),!0}catch{return!1}}function l(o){const u=[];let p=!1,d="";return o.split(",").forEach(h=>{if(!h)return;const g=(h.match(/'/g)||[]).length;if(!g)return void(p?d+=h+",":c(h)&&u.push(h));const b=g%2==0;!p&&b&&c(h)?u.push(h):p&&!b?(p=!1,c(d+h)&&u.push(d+h),d=""):(p=!0,d+=h+",")}),u}n.exports=class extends s{render(o,u){o.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),o.writeText(u.ranges.join(",")),o.closeNode()}parseOpen(o){switch(o.name){case"definedName":return this._parsedName=o.attributes.name,this._parsedLocalSheetId=o.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(o){this._parsedText.push(o)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,n,i){const s=e("../../../utils/utils"),a=e("../base-xform");n.exports=class extends a{render(c,l){c.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(c){return c.name==="sheet"&&(this.model={name:s.xmlDecode(c.attributes.name),id:parseInt(c.attributes.sheetId,10),state:c.attributes.state,rId:c.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(a,c){a.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:c.fullCalcOnLoad?1:void 0})}parseOpen(a){return a.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(a,c){a.leafNode("workbookPr",{date1904:c.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(a){return a.name==="workbookPr"&&(this.model={date1904:a.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(a,c){const l={xWindow:c.x||0,yWindow:c.y||0,windowWidth:c.width||12e3,windowHeight:c.height||24e3,firstSheet:c.firstSheet,activeTab:c.activeTab};c.visibility&&c.visibility!=="visible"&&(l.visibility=c.visibility),a.leafNode("workbookView",l)}parseOpen(a){if(a.name==="workbookView"){const c=this.model={},l=function(u,p,d){const h=p!==void 0?c[u]=p:d;h!==void 0&&(c[u]=h)},o=function(u,p,d){const h=p!==void 0?c[u]=parseInt(p,10):d;h!==void 0&&(c[u]=h)};return o("x",a.attributes.xWindow,0),o("y",a.attributes.yWindow,0),o("width",a.attributes.windowWidth,25e3),o("height",a.attributes.windowHeight,1e4),l("visibility",a.attributes.visibility,"visible"),o("activeTab",a.attributes.activeTab,void 0),o("firstSheet",a.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),l=e("../base-xform"),o=e("../static-xform"),u=e("../list-xform"),p=e("./defined-name-xform"),d=e("./sheet-xform"),h=e("./workbook-view-xform"),g=e("./workbook-properties-xform"),b=e("./workbook-calc-properties-xform");class m extends l{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new u({tag:"bookViews",count:!1,childXform:new h}),sheets:new u({tag:"sheets",count:!1,childXform:new d}),definedNames:new u({tag:"definedNames",count:!1,childXform:new p}),calcPr:new b}}prepare(v){v.sheets=v.worksheets;const w=[];let E=0;v.sheets.forEach(A=>{if(A.pageSetup&&A.pageSetup.printArea&&A.pageSetup.printArea.split("&&").forEach(D=>{const L=D.split(":"),C={name:"_xlnm.Print_Area",ranges:[`'${A.name}'!$${L[0]}:$${L[1]}`],localSheetId:E};w.push(C)}),A.pageSetup&&(A.pageSetup.printTitlesRow||A.pageSetup.printTitlesColumn)){const D=[];if(A.pageSetup.printTitlesColumn){const C=A.pageSetup.printTitlesColumn.split(":");D.push(`'${A.name}'!$${C[0]}:$${C[1]}`)}if(A.pageSetup.printTitlesRow){const C=A.pageSetup.printTitlesRow.split(":");D.push(`'${A.name}'!$${C[0]}:$${C[1]}`)}const L={name:"_xlnm.Print_Titles",ranges:D,localSheetId:E};w.push(L)}E++}),w.length&&(v.definedNames=v.definedNames.concat(w)),(v.media||[]).forEach((A,D)=>{A.name=A.type+(D+1)})}render(v,w){v.openXml(c.StdDocAttributes),v.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(v),this.map.workbookPr.render(v,w.properties),this.map.bookViews.render(v,w.views),this.map.sheets.render(v,w.sheets),this.map.definedNames.render(v,w.definedNames),this.map.calcPr.render(v,w.calcProperties),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;switch(v.name){case"workbook":return!0;default:return this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(v){const w=(v.workbookRels||[]).reduce((C,M)=>(C[M.Id]=M,C),{}),E=[];let A,D=0;(v.sheets||[]).forEach(C=>{const M=w[C.rId];M&&(A=v.worksheetHash["xl/"+M.Target.replace(/^(\s|\/xl\/)+/,"")],A&&(A.name=C.name,A.id=C.id,A.state=C.state,E[D++]=A))});const L=[];s.each(v.definedNames,C=>{if(C.name==="_xlnm.Print_Area"){if(A=E[C.localSheetId],A){A.pageSetup||(A.pageSetup={});const M=a.decodeEx(C.ranges[0]);A.pageSetup.printArea=A.pageSetup.printArea?`${A.pageSetup.printArea}&&${M.dimensions}`:M.dimensions}}else if(C.name==="_xlnm.Print_Titles"){if(A=E[C.localSheetId],A){A.pageSetup||(A.pageSetup={});const M=C.ranges.join(","),F=/\$/g,$=/\$\d+:\$\d+/,U=M.match($);if(U&&U.length){const N=U[0];A.pageSetup.printTitlesRow=N.replace(F,"")}const j=/\$[A-Z]+:\$[A-Z]+/,P=M.match(j);if(P&&P.length){const N=P[0];A.pageSetup.printTitlesColumn=N.replace(F,"")}}}else L.push(C)}),v.definedNames=L,v.media.forEach((C,M)=>{C.index=M})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new o({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,n,i){const s=e("../strings/rich-text-xform"),a=e("../../../utils/utils"),c=e("../base-xform"),l=n.exports=function(o){this.model=o};a.inherits(l,c,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new s),this._richTextXform},render(o,u){u=u||this.model,o.openNode("comment",{ref:u.ref,authorId:0}),o.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(p=>{this.richTextXform.render(o,p)}),o.closeNode(),o.closeNode()},parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"comment":return this.model={type:"note",note:{texts:[]},...o.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(o),!0;default:return!1}},parseText(o){this.parser&&this.parser.parseText(o)},parseClose(o){switch(o){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(o),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../../../utils/utils"),c=e("../base-xform"),l=e("./comment-xform"),o=n.exports=function(){this.map={comment:new l}};a.inherits(o,c,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,p){p=p||this.model,u.openXml(s.StdDocAttributes),u.openNode("comments",o.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),p.comments.forEach(d=>{this.map.comment.render(u,d)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,c,l){(c===l[2]||this.tag==="x:SizeWithCells"&&c===l[1])&&a.leafNode(this.tag)}parseOpen(a){switch(a.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,c){a.leafNode(this.tag,null,c)}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"x:Anchor"}getAnchorRect(a){const c=Math.floor(a.left),l=Math.floor(68*(a.left-c)),o=Math.floor(a.top),u=Math.floor(18*(a.top-o)),p=Math.floor(a.right),d=Math.floor(68*(a.right-p)),h=Math.floor(a.bottom);return[c,l,o,u,p,d,h,Math.floor(18*(a.bottom-h))]}getDefaultRect(a){const c=a.col,l=Math.max(a.row-2,0);return[c,6,l,14,c+2,2,l+4,16]}render(a,c){const l=c.anchor?this.getAnchorRect(c.anchor):this.getDefaultRect(c.refAddress);a.leafNode("x:Anchor",null,l.join(", "))}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,n,i){const s=e("../base-xform"),a=e("./vml-anchor-xform"),c=e("./style/vml-protection-xform"),l=e("./style/vml-position-xform"),o=["twoCells","oneCells","absolute"];n.exports=class extends s{constructor(){super(),this.map={"x:Anchor":new a,"x:Locked":new c({tag:"x:Locked"}),"x:LockText":new c({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,p){const{protection:d,editAs:h}=p.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,h,o),this.map["x:SizeWithCells"].render(u,h,o),this.map["x:Anchor"].render(u,p),this.map["x:Locked"].render(u,d.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,d.lockText),u.leafNode("x:Row",null,p.refAddress.row-1),u.leafNode("x:Column",null,p.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),p=Object.keys(u).length;this.model.editAs=o[p],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform"),c=e("./vml-shape-xform");class l extends a{constructor(){super(),this.map={"v:shape":new c}}get tag(){return"xml"}render(u,p){u.openXml(s.StdDocAttributes),u.openNode(this.tag,l.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),p.comments.forEach((d,h)=>{this.map["v:shape"].render(u,d,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,p){u.anchors.forEach(d=>{d.br?this.map["xdr:twoCellAnchor"].reconcile(d,p):this.map["xdr:oneCellAnchor"].reconcile(d,p)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,n,i){const s=e("../base-xform"),a=e("./vml-textbox-xform"),c=e("./vml-client-data-xform");class l extends s{constructor(){super(),this.map={"v:textbox":new a,"x:ClientData":new c}}get tag(){return"v:shape"}render(u,p,d){u.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(p,d)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,p),this.map["x:ClientData"].render(u,p),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(o,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":o.note.margins&&o.note.margins.insetmode}),n.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"v:textbox"}conversionUnit(a,c,l){return`${parseFloat(a)*c.toFixed(2)}${l}`}reverseConversionUnit(a){return(a||"").split(",").map(c=>Number(parseFloat(this.conversionUnit(parseFloat(c),.1,"")).toFixed(2)))}render(a,c){const l={style:"mso-direction-alt:auto"};if(c&&c.note){let{inset:o}=c.note&&c.note.margins;Array.isArray(o)&&(o=o.map(u=>this.conversionUnit(u,10,"mm")).join(",")),o&&(l.inset=o)}a.openNode("v:textbox",l),a.leafNode("div",{style:"text-align:left"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:return this.model={inset:this.reverseConversionUnit(a.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,n,i){const s=e("./base-xform");n.exports=class extends s{createNewModel(a){return{}}parseOpen(a){return this.parser=this.parser||this.map[a.name],this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag&&(this.model=this.createNewModel(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}onParserClose(a,c){this.model[a]=c.model}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.onParserClose(a,this.parser),this.parser=void 0),!0):a!==this.tag}}},{"./base-xform":32}],49:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(a,c){a.openNode("HeadingPairs"),a.openNode("vt:vector",{size:2,baseType:"variant"}),a.openNode("vt:variant"),a.leafNode("vt:lpstr",void 0,"Worksheets"),a.closeNode(),a.openNode("vt:variant"),a.leafNode("vt:i4",void 0,c.length),a.closeNode(),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="HeadingPairs"}parseText(){}parseClose(a){return a!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(a,c){a.openNode("TitlesOfParts"),a.openNode("vt:vector",{size:c.length,baseType:"lpstr"}),c.forEach(l=>{a.leafNode("vt:lpstr",void 0,l.name)}),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="TitlesOfParts"}parseText(){}parseClose(a){return a!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform"),c=e("../simple/string-xform"),l=e("./app-heading-pairs-xform"),o=e("./app-titles-of-parts-xform");class u extends a{constructor(){super(),this.map={Company:new c({tag:"Company"}),Manager:new c({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new o}}render(d,h){d.openXml(s.StdDocAttributes),d.openNode("Properties",u.PROPERTY_ATTRIBUTES),d.leafNode("Application",void 0,"Microsoft Excel"),d.leafNode("DocSecurity",void 0,"0"),d.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(d,h.worksheets),this.map.TitleOfParts.render(d,h.worksheets),this.map.Company.render(d,h.company||""),this.map.Manager.render(d,h.manager),d.leafNode("LinksUpToDate",void 0,"false"),d.leafNode("SharedDoc",void 0,"false"),d.leafNode("HyperlinksChanged",void 0,"false"),d.leafNode("AppVersion",void 0,"16.0300"),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Properties":return!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform");class c extends a{render(o,u){o.openXml(s.StdDocAttributes),o.openNode("Types",c.PROPERTY_ATTRIBUTES);const p={};(u.media||[]).forEach(d=>{if(d.type==="image"){const h=d.extension;p[h]||(p[h]=!0,o.leafNode("Default",{Extension:h,ContentType:"image/"+h}))}}),o.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),o.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),o.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(d=>{const h=`/xl/worksheets/sheet${d.id}.xml`;o.leafNode("Override",{PartName:h,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),o.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),o.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&o.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(d=>{o.leafNode("Override",{PartName:"/xl/tables/"+d.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(d=>{o.leafNode("Override",{PartName:`/xl/drawings/${d.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(o.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(d=>{let{commentName:h}=d;o.leafNode("Override",{PartName:`/xl/${h}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),o.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),o.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),o.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform"),c=e("../simple/date-xform"),l=e("../simple/string-xform"),o=e("../simple/integer-xform");class u extends a{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new c({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new o({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new c({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new c({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(d,h){d.openXml(s.StdDocAttributes),d.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(d,h.creator),this.map["dc:title"].render(d,h.title),this.map["dc:subject"].render(d,h.subject),this.map["dc:description"].render(d,h.description),this.map["dc:identifier"].render(d,h.identifier),this.map["dc:language"].render(d,h.language),this.map["cp:keywords"].render(d,h.keywords),this.map["cp:category"].render(d,h.category),this.map["cp:lastModifiedBy"].render(d,h.lastModifiedBy),this.map["cp:lastPrinted"].render(d,h.lastPrinted),this.map["cp:revision"].render(d,h.revision),this.map["cp:version"].render(d,h.version),this.map["cp:contentStatus"].render(d,h.contentStatus),this.map["cp:contentType"].render(d,h.contentType),this.map["dcterms:created"].render(d,h.created),this.map["dcterms:modified"].render(d,h.modified),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}u.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(a,c){a.leafNode("Relationship",c)}parseOpen(a){switch(a.name){case"Relationship":return this.model=a.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform"),c=e("./relationship-xform");class l extends a{constructor(){super(),this.map={Relationship:new c}}render(u,p){p=p||this._values,u.openXml(s.StdDocAttributes),u.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),p.forEach(d=>{this.map.Relationship.render(u,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset(),this.model={range:{editAs:a.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}reconcilePicture(a,c){if(a&&a.rId){const l=c.rels[a.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const o=l[1],u=c.mediaIndex[o];return c.media[u]}}}}},{"../base-xform":32}],57:[function(e,n,i){const s=e("../base-xform"),a=e("./blip-xform");n.exports=class extends s{constructor(){super(),this.map={"a:blip":new a}}get tag(){return"xdr:blipFill"}render(c,l){c.openNode(this.tag),this.map["a:blip"].render(c,l),c.openNode("a:stretch"),c.leafNode("a:fillRect"),c.closeNode(),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"a:blip"}render(a,c){a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":c.rId,cstate:"print"})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"xdr:cNvPicPr"}render(a){a.openNode(this.tag),a.leafNode("a:picLocks",{noChangeAspect:"1"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,n,i){const s=e("../base-xform"),a=e("./hlink-click-xform"),c=e("./ext-lst-xform");n.exports=class extends s{constructor(){super(),this.map={"a:hlinkClick":new a,"a:extLst":new c}}get tag(){return"xdr:cNvPr"}render(l,o){l.openNode(this.tag,{id:o.index,name:"Picture "+o.index}),this.map["a:hlinkClick"].render(l,o),this.map["a:extLst"].render(l,o),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,n,i){const s=e("../base-xform"),a=e("../simple/integer-xform");n.exports=class extends s{constructor(c){super(),this.tag=c.tag,this.map={"xdr:col":new a({tag:"xdr:col",zero:!0}),"xdr:colOff":new a({tag:"xdr:colOff",zero:!0}),"xdr:row":new a({tag:"xdr:row",zero:!0}),"xdr:rowOff":new a({tag:"xdr:rowOff",zero:!0})}}render(c,l){c.openNode(this.tag),this.map["xdr:col"].render(c,l.nativeCol),this.map["xdr:colOff"].render(c,l.nativeColOff),this.map["xdr:row"].render(c,l.nativeRow),this.map["xdr:rowOff"].render(c,l.nativeRowOff),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,n,i){const s=e("../../../utils/col-cache"),a=e("../../../utils/xml-stream"),c=e("../base-xform"),l=e("./two-cell-anchor-xform"),o=e("./one-cell-anchor-xform");class u extends c{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new o}}prepare(d){d.anchors.forEach((h,g)=>{h.anchorType=function(b){return(typeof b.range=="string"?s.decode(b.range):b.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(h),this.map[h.anchorType].prepare(h,{index:g})})}get tag(){return"xdr:wsDr"}render(d,h){d.openXml(a.StdDocAttributes),d.openNode(this.tag,u.DRAWING_ATTRIBUTES),h.anchors.forEach(g=>{this.map[g.anchorType].render(d,g)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,h){d.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,h):this.map["xdr:oneCellAnchor"].reconcile(g,h)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"a:extLst"}render(a){a.openNode(this.tag),a.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),a.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),a.closeNode(),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.map={}}render(a,c){a.openNode(this.tag);const l=Math.floor(9525*c.width),o=Math.floor(9525*c.height);a.addAttribute("cx",l),a.addAttribute("cy",o),a.closeNode()}parseOpen(a){return a.name===this.tag&&(this.model={width:parseInt(a.attributes.cx||"0",10)/9525,height:parseInt(a.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"a:hlinkClick"}render(a,c){c.hyperlinks&&c.hyperlinks.rId&&a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":c.hyperlinks.rId,tooltip:c.hyperlinks.tooltip})}parseOpen(a){switch(a.name){case this.tag:return this.model={hyperlinks:{rId:a.attributes["r:id"],tooltip:a.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,n,i){const s=e("../base-xform"),a=e("./c-nv-pr-xform"),c=e("./c-nv-pic-pr-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:cNvPr":new a,"xdr:cNvPicPr":new c}}get tag(){return"xdr:nvPicPr"}render(l,o){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,o),this.map["xdr:cNvPicPr"].render(l,o),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,n,i){const s=e("./base-cell-anchor-xform"),a=e("../static-xform"),c=e("./cell-position-xform"),l=e("./ext-xform"),o=e("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new o,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,p){this.map["xdr:pic"].prepare(u.picture,p)}render(u,p){u.openNode(this.tag,{editAs:p.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,p.range.tl),this.map["xdr:ext"].render(u,p.range.ext),this.map["xdr:pic"].render(u,p.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,p){u.medium=this.reconcilePicture(u.picture,p)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,n,i){const s=e("../base-xform"),a=e("../static-xform"),c=e("./blip-fill-xform"),l=e("./nv-pic-pr-xform"),o=e("./sp-pr");n.exports=class extends s{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new c,"xdr:spPr":new a(o)}}get tag(){return"xdr:pic"}prepare(u,p){u.index=p.index+1}render(u,p){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,p),this.map["xdr:blipFill"].render(u,p),this.map["xdr:spPr"].render(u,p),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,n,i){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,n,i){const s=e("./base-cell-anchor-xform"),a=e("../static-xform"),c=e("./cell-position-xform"),l=e("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:to":new c({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(o,u){this.map["xdr:pic"].prepare(o.picture,u)}render(o,u){o.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(o,u.range.tl),this.map["xdr:to"].render(o,u.range.br),this.map["xdr:pic"].render(o,u.picture),this.map["xdr:clientData"].render(o,{}),o.closeNode()}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(o,u){o.medium=this.reconcilePicture(o.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,n,i){const s=e("./base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.always=!!a.always,this.count=a.count,this.empty=a.empty,this.$count=a.$count||"count",this.$=a.$,this.childXform=a.childXform,this.maxItems=a.maxItems}prepare(a,c){const{childXform:l}=this;a&&a.forEach((o,u)=>{c.index=u,l.prepare(o,c)})}render(a,c){if(this.always||c&&c.length){a.openNode(this.tag,this.$),this.count&&a.addAttribute(this.$count,c&&c.length||0);const{childXform:l}=this;(c||[]).forEach((o,u)=>{l.render(a,o,u)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(a)&&(this.parser=this.childXform,!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(a,c){if(a){const{childXform:l}=this;a.forEach(o=>{l.reconcile(o,c)})}}}},{"./base-xform":32}],72:[function(e,n,i){const s=e("../../../utils/col-cache"),a=e("../base-xform");n.exports=class extends a{get tag(){return"autoFilter"}render(c,l){if(l)if(typeof l=="string")c.leafNode("autoFilter",{ref:l});else{const o=function(d){return typeof d=="string"?d:s.getAddress(d.row,d.column).address},u=o(l.from),p=o(l.to);u&&p&&c.leafNode("autoFilter",{ref:`${u}:${p}`})}}parseOpen(c){c.name==="autoFilter"&&(this.model=c.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,n,i){const s=e("../../../utils/utils"),a=e("../base-xform"),c=e("../../../doc/range"),l=e("../../../doc/enums"),o=e("../strings/rich-text-xform");function u(p){if(p==null)return l.ValueType.Null;if(p instanceof String||typeof p=="string")return l.ValueType.String;if(typeof p=="number")return l.ValueType.Number;if(typeof p=="boolean")return l.ValueType.Boolean;if(p instanceof Date)return l.ValueType.Date;if(p.text&&p.hyperlink)return l.ValueType.Hyperlink;if(p.formula)return l.ValueType.Formula;if(p.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends a{constructor(){super(),this.richTextXForm=new o}get tag(){return"c"}prepare(p,d){const h=d.styles.addStyleModel(p.style||{},function(g){switch(g.type){case l.ValueType.Formula:return u(g.result);default:return g.type}}(p));switch(h&&(p.styleId=h),p.comment&&d.comments.push({...p.comment,ref:p.address}),p.type){case l.ValueType.String:case l.ValueType.RichText:d.sharedStrings&&(p.ssId=d.sharedStrings.add(p.value));break;case l.ValueType.Date:d.date1904&&(p.date1904=!0);break;case l.ValueType.Hyperlink:d.sharedStrings&&p.text!==void 0&&p.text!==null&&(p.ssId=d.sharedStrings.add(p.text)),d.hyperlinks.push({address:p.address,target:p.hyperlink,tooltip:p.tooltip});break;case l.ValueType.Merge:d.merges.add(p);break;case l.ValueType.Formula:if(d.date1904&&(p.date1904=!0),p.shareType==="shared"&&(p.si=d.siFormulae++),p.formula)d.formulae[p.address]=p;else if(p.sharedFormula){const g=d.formulae[p.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+p.address);g.si===void 0?(g.shareType="shared",g.si=d.siFormulae++,g.range=new c(g.address,p.address)):g.range&&g.range.expandToAddress(p.address),p.si=g.si}}}renderFormula(p,d){let h=null;switch(d.shareType){case"shared":h={t:"shared",ref:d.ref||d.range.range,si:d.si};break;case"array":h={t:"array",ref:d.ref};break;default:d.si!==void 0&&(h={t:"shared",si:d.si})}switch(u(d.result)){case l.ValueType.Null:p.leafNode("f",h,d.formula);break;case l.ValueType.String:p.addAttribute("t","str"),p.leafNode("f",h,d.formula),p.leafNode("v",null,d.result);break;case l.ValueType.Number:p.leafNode("f",h,d.formula),p.leafNode("v",null,d.result);break;case l.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("f",h,d.formula),p.leafNode("v",null,d.result?1:0);break;case l.ValueType.Error:p.addAttribute("t","e"),p.leafNode("f",h,d.formula),p.leafNode("v",null,d.result.error);break;case l.ValueType.Date:p.leafNode("f",h,d.formula),p.leafNode("v",null,s.dateToExcel(d.result,d.date1904));break;default:throw new Error("I could not understand type of value")}}render(p,d){if(d.type!==l.ValueType.Null||d.styleId){switch(p.openNode("c"),p.addAttribute("r",d.address),d.styleId&&p.addAttribute("s",d.styleId),d.type){case l.ValueType.Null:break;case l.ValueType.Number:p.leafNode("v",null,d.value);break;case l.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("v",null,d.value?"1":"0");break;case l.ValueType.Error:p.addAttribute("t","e"),p.leafNode("v",null,d.value.error);break;case l.ValueType.String:case l.ValueType.RichText:d.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,d.ssId)):d.value&&d.value.richText?(p.addAttribute("t","inlineStr"),p.openNode("is"),d.value.richText.forEach(h=>{this.richTextXForm.render(p,h)}),p.closeNode("is")):(p.addAttribute("t","str"),p.leafNode("v",null,d.value));break;case l.ValueType.Date:p.leafNode("v",null,s.dateToExcel(d.value,d.date1904));break;case l.ValueType.Hyperlink:d.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,d.ssId)):(p.addAttribute("t","str"),p.leafNode("v",null,d.text));break;case l.ValueType.Formula:this.renderFormula(p,d);break;case l.ValueType.Merge:}p.closeNode()}}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"c":return this.model={address:p.attributes.r},this.t=p.attributes.t,p.attributes.s&&(this.model.styleId=parseInt(p.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=p.attributes.si,this.model.shareType=p.attributes.t,this.model.ref=p.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(p),!0;default:return!1}}parseText(p){if(this.parser)this.parser.parseText(p);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+p:p;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+p:p:this.model.value=this.model.value?this.model.value+p:p}}parseClose(p){switch(p){case"c":{const{model:d}=this;if(d.formula||d.shareType)d.type=l.ValueType.Formula,d.value&&(this.t==="str"?d.result=s.xmlDecode(d.value):this.t==="b"?d.result=parseInt(d.value,10)!==0:this.t==="e"?d.result={error:d.value}:d.result=parseFloat(d.value),d.value=void 0);else if(d.value!==void 0)switch(this.t){case"s":d.type=l.ValueType.String,d.value=parseInt(d.value,10);break;case"str":d.type=l.ValueType.String,d.value=s.xmlDecode(d.value);break;case"inlineStr":d.type=l.ValueType.String;break;case"b":d.type=l.ValueType.Boolean,d.value=parseInt(d.value,10)!==0;break;case"e":d.type=l.ValueType.Error,d.value={error:d.value};break;default:d.type=l.ValueType.Number,d.value=parseFloat(d.value)}else d.styleId?d.type=l.ValueType.Null:d.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(p),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(p),!0)}}reconcile(p,d){const h=p.styleId&&d.styles&&d.styles.getStyleModel(p.styleId);switch(h&&(p.style=h),p.styleId!==void 0&&(p.styleId=void 0),p.type){case l.ValueType.String:typeof p.value=="number"&&d.sharedStrings&&(p.value=d.sharedStrings.getString(p.value)),p.value.richText&&(p.type=l.ValueType.RichText);break;case l.ValueType.Number:h&&s.isDateFmt(h.numFmt)&&(p.type=l.ValueType.Date,p.value=s.excelToDate(p.value,d.date1904));break;case l.ValueType.Formula:p.result!==void 0&&h&&s.isDateFmt(h.numFmt)&&(p.result=s.excelToDate(p.result,d.date1904)),p.shareType==="shared"&&(p.ref?d.formulae[p.si]=p.address:(p.sharedFormula=d.formulae[p.si],delete p.shareType),delete p.si)}const g=d.hyperlinkMap[p.address];g&&(p.type===l.ValueType.Formula?(p.text=p.result,p.result=void 0):(p.text=p.value,p.value=void 0),p.type=l.ValueType.Hyperlink,p.hyperlink=g);const b=d.commentsMap&&d.commentsMap[p.address];b&&(p.comment=b)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"x14:cfIcon"}render(a,c){a.leafNode(this.tag,{iconSet:c.iconSet,iconId:c.iconId})}parseOpen(a){let{attributes:c}=a;this.model={iconSet:c.iconSet,iconId:s.toIntValue(c.iconId)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],75:[function(e,n,i){const{v4:s}=e("uuid"),a=e("../../base-xform"),c=e("../../composite-xform"),l=e("./databar-ext-xform"),o=e("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class p extends c{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new o}}get tag(){return"x14:cfRule"}static isExt(h){return h.type==="dataBar"?l.isExt(h):!(h.type!=="iconSet"||!h.custom&&!u[h.iconSet])}prepare(h){p.isExt(h)&&(h.x14Id=`{${s()}}`.toUpperCase())}render(h,g){if(p.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(h,g);break;case"iconSet":this.renderIconSet(h,g)}}renderDataBar(h,g){h.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(h,g),h.closeNode()}renderIconSet(h,g){h.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${s()}}`}),this.iconSetXform.render(h,g),h.closeNode()}createNewModel(h){let{attributes:g}=h;return{type:g.type,x14Id:g.id,priority:a.toIntValue(g.priority)}}onParserClose(h,g){Object.assign(this.model,g.model)}}n.exports=p},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,n,i){const s=e("../../composite-xform"),a=e("./f-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:f":this.fExtXform=new a}}get tag(){return"x14:cfvo"}render(c,l){c.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(c,l.value),c.closeNode()}createNewModel(c){return{type:c.attributes.type}}onParserClose(c,l){switch(c){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,n,i){const s=e("../../composite-xform"),a=e("./sqref-ext-xform"),c=e("./cf-rule-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:sqref":this.sqRef=new a,"x14:cfRule":this.cfRule=new c}}get tag(){return"x14:conditionalFormatting"}prepare(l,o){l.rules.forEach(u=>{this.cfRule.prepare(u,o)})}render(l,o){o.rules.some(c.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),o.rules.filter(c.isExt).forEach(u=>this.cfRule.render(l,u)),this.sqRef.render(l,o.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,o){switch(l){case"xm:sqref":this.model.ref=o.model;break;case"x14:cfRule":this.model.rules.push(o.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,n,i){const s=e("../../composite-xform"),a=e("./cf-rule-ext-xform"),c=e("./conditional-formatting-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new c}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(o=>o.rules.some(a.isExt))),l.hasExtContent}prepare(l,o){l.forEach(u=>{this.cfXform.prepare(u,o)})}render(l,o){this.hasContent(o)&&(l.openNode(this.tag),o.forEach(u=>this.cfXform.render(l,u)),l.closeNode())}createNewModel(){return[]}onParserClose(l,o){this.model.push(o.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,n,i){const s=e("../../base-xform"),a=e("../../composite-xform"),c=e("../../style/color-xform"),l=e("./cfvo-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new c("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new c("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new c("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new c("x14:axisColor")}}static isExt(o){return!o.gradient}get tag(){return"x14:dataBar"}render(o,u){o.openNode(this.tag,{minLength:s.toIntAttribute(u.minLength,0,!0),maxLength:s.toIntAttribute(u.maxLength,100,!0),border:s.toBoolAttribute(u.border,!1),gradient:s.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:s.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toAttribute(u.axisPosition,"auto"),direction:s.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(p=>{this.cfvoXform.render(o,p)}),this.borderColorXform.render(o,u.borderColor),this.negativeBorderColorXform.render(o,u.negativeBorderColor),this.negativeFillColorXform.render(o,u.negativeFillColor),this.axisColorXform.render(o,u.axisColor),o.closeNode()}createNewModel(o){let{attributes:u}=o;return{cfvo:[],minLength:s.toIntValue(u.minLength,0),maxLength:s.toIntValue(u.maxLength,100),border:s.toBoolValue(u.border,!1),gradient:s.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:s.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toStringValue(u.axisPosition,"auto"),direction:s.toStringValue(u.direction,"leftToRight")}}onParserClose(o,u){const[,p]=o.split(":");switch(p){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[p]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"xm:f"}render(a,c){a.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],81:[function(e,n,i){const s=e("../../base-xform"),a=e("../../composite-xform"),c=e("./cfvo-ext-xform"),l=e("./cf-icon-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(o,u){o.openNode(this.tag,{iconSet:s.toStringAttribute(u.iconSet),reverse:s.toBoolAttribute(u.reverse,!1),showValue:s.toBoolAttribute(u.showValue,!0),custom:s.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(p=>{this.cfvoXform.render(o,p)}),u.icons&&u.icons.forEach((p,d)=>{p.iconId=d,this.cfIconXform.render(o,p)}),o.closeNode()}createNewModel(o){let{attributes:u}=o;return{cfvo:[],iconSet:s.toStringValue(u.iconSet,"3TrafficLights"),reverse:s.toBoolValue(u.reverse,!1),showValue:s.toBoolValue(u.showValue,!0)}}onParserClose(o,u){const[,p]=o.split(":");switch(p){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[p]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"xm:sqref"}render(a,c){a.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],83:[function(e,n,i){const s=e("../../base-xform"),a=e("../../composite-xform"),c=e("../../../../doc/range"),l=e("./databar-xform"),o=e("./ext-lst-ref-xform"),u=e("./formula-xform"),p=e("./color-scale-xform"),d=e("./icon-set-xform"),h={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=m=>{const{type:y,operator:v}=m;switch(y){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:y};default:return{type:y,operator:v}}};class b extends a{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new o,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new p,iconSet:this.iconSetXform=new d}}get tag(){return"cfRule"}static isPrimitive(y){return y.type!=="iconSet"||!y.custom&&!h[y.iconSet]}render(y,v){switch(v.type){case"expression":this.renderExpression(y,v);break;case"cellIs":this.renderCellIs(y,v);break;case"top10":this.renderTop10(y,v);break;case"aboveAverage":this.renderAboveAverage(y,v);break;case"dataBar":this.renderDataBar(y,v);break;case"colorScale":this.renderColorScale(y,v);break;case"iconSet":this.renderIconSet(y,v);break;case"containsText":this.renderText(y,v);break;case"timePeriod":this.renderTimePeriod(y,v)}}renderExpression(y,v){y.openNode(this.tag,{type:"expression",dxfId:v.dxfId,priority:v.priority}),this.formulaXform.render(y,v.formulae[0]),y.closeNode()}renderCellIs(y,v){y.openNode(this.tag,{type:"cellIs",dxfId:v.dxfId,priority:v.priority,operator:v.operator}),v.formulae.forEach(w=>{this.formulaXform.render(y,w)}),y.closeNode()}renderTop10(y,v){y.leafNode(this.tag,{type:"top10",dxfId:v.dxfId,priority:v.priority,percent:s.toBoolAttribute(v.percent,!1),bottom:s.toBoolAttribute(v.bottom,!1),rank:s.toIntValue(v.rank,10,!0)})}renderAboveAverage(y,v){y.leafNode(this.tag,{type:"aboveAverage",dxfId:v.dxfId,priority:v.priority,aboveAverage:s.toBoolAttribute(v.aboveAverage,!0)})}renderDataBar(y,v){y.openNode(this.tag,{type:"dataBar",priority:v.priority}),this.databarXform.render(y,v),this.extLstRefXform.render(y,v),y.closeNode()}renderColorScale(y,v){y.openNode(this.tag,{type:"colorScale",priority:v.priority}),this.colorScaleXform.render(y,v),y.closeNode()}renderIconSet(y,v){b.isPrimitive(v)&&(y.openNode(this.tag,{type:"iconSet",priority:v.priority}),this.iconSetXform.render(y,v),y.closeNode())}renderText(y,v){y.openNode(this.tag,{type:v.operator,dxfId:v.dxfId,priority:v.priority,operator:s.toStringAttribute(v.operator,"containsText")});const w=(E=>{if(E.formulae&&E.formulae[0])return E.formulae[0];const A=new c(E.ref),{tl:D}=A;switch(E.operator){case"containsText":return`NOT(ISERROR(SEARCH("${E.text}",${D})))`;case"containsBlanks":return`LEN(TRIM(${D}))=0`;case"notContainsBlanks":return`LEN(TRIM(${D}))>0`;case"containsErrors":return`ISERROR(${D})`;case"notContainsErrors":return`NOT(ISERROR(${D}))`;default:return}})(v);w&&this.formulaXform.render(y,w),y.closeNode()}renderTimePeriod(y,v){y.openNode(this.tag,{type:"timePeriod",dxfId:v.dxfId,priority:v.priority,timePeriod:v.timePeriod});const w=(E=>{if(E.formulae&&E.formulae[0])return E.formulae[0];const A=new c(E.ref),{tl:D}=A;switch(E.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${D},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${D},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${D},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${D},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${D},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${D},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${D},1)=TODAY()-1`;case"today":return`FLOOR(${D},1)=TODAY()`;case"tomorrow":return`FLOOR(${D},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${D},1)<=6,FLOOR(${D},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${D})=MONTH(EDATE(TODAY(),0-1)),YEAR(${D})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${D})=MONTH(TODAY()),YEAR(${D})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${D})=MONTH(EDATE(TODAY(),0+1)),YEAR(${D})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(v);w&&this.formulaXform.render(y,w),y.closeNode()}createNewModel(y){let{attributes:v}=y;return{...g(v),dxfId:s.toIntValue(v.dxfId),priority:s.toIntValue(v.priority),timePeriod:v.timePeriod,percent:s.toBoolValue(v.percent),bottom:s.toBoolValue(v.bottom),rank:s.toIntValue(v.rank),aboveAverage:s.toBoolValue(v.aboveAverage)}}onParserClose(y,v){switch(y){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,v.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(v.model)}}}n.exports=b},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"cfvo"}render(a,c){a.leafNode(this.tag,{type:c.type,val:c.value})}parseOpen(a){this.model={type:a.attributes.type,value:s.toFloatValue(a.attributes.val)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],85:[function(e,n,i){const s=e("../../composite-xform"),a=e("../../style/color-xform"),c=e("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new a}}get tag(){return"colorScale"}render(l,o){l.openNode(this.tag),o.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),o.color.forEach(u=>{this.colorXform.render(l,u)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,o){this.model[l].push(o.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,n,i){const s=e("../../composite-xform"),a=e("./cf-rule-xform");n.exports=class extends s{constructor(){super(),this.map={cfRule:new a}}get tag(){return"conditionalFormatting"}render(c,l){l.rules.some(a.isPrimitive)&&(c.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(o=>{a.isPrimitive(o)&&(o.ref=l.ref,this.map.cfRule.render(c,o))}),c.closeNode())}createNewModel(c){let{attributes:l}=c;return{ref:l.sqref,rules:[]}}onParserClose(c,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,n,i){const s=e("../../base-xform"),a=e("./conditional-formatting-xform");n.exports=class extends s{constructor(){super(),this.cfXform=new a}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(c,l){let o=c.reduce((u,p)=>Math.max(u,...p.rules.map(d=>d.priority||0)),1);c.forEach(u=>{u.rules.forEach(p=>{p.priority||(p.priority=o++),p.style&&(p.dxfId=l.styles.addDxfStyle(p.style))})})}render(c,l){l.forEach(o=>{this.cfXform.render(c,o)})}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(!!this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(c,l){c.forEach(o=>{o.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=l.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,n,i){const s=e("../../composite-xform"),a=e("../../style/color-xform"),c=e("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new a}}get tag(){return"dataBar"}render(l,o){l.openNode(this.tag),o.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),this.colorXform.render(l,o.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,o){switch(l){case"cfvo":this.model.cfvo.push(o.model);break;case"color":this.model.color=o.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,n,i){const s=e("../../base-xform"),a=e("../../composite-xform");class c extends s{get tag(){return"x14:id"}render(u,p){u.leafNode(this.tag,null,p)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class l extends a{constructor(){super(),this.map={"x14:id":this.idXform=new c}}get tag(){return"ext"}render(u,p){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,p.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,p){this.model.x14Id=p.model}}n.exports=class extends a{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(o,u){o.openNode(this.tag),this.map.ext.render(o,u),o.closeNode()}createNewModel(){return{}}onParserClose(o,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"formula"}render(a,c){a.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],91:[function(e,n,i){const s=e("../../base-xform"),a=e("../../composite-xform"),c=e("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new c}}get tag(){return"iconSet"}render(l,o){l.openNode(this.tag,{iconSet:s.toStringAttribute(o.iconSet,"3TrafficLights"),reverse:s.toBoolAttribute(o.reverse,!1),showValue:s.toBoolAttribute(o.showValue,!0)}),o.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),l.closeNode()}createNewModel(l){let{attributes:o}=l;return{iconSet:s.toStringValue(o.iconSet,"3TrafficLights"),reverse:s.toBoolValue(o.reverse),showValue:s.toBoolValue(o.showValue),cfvo:[]}}onParserClose(l,o){this.model[l].push(o.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,n,i){const s=e("../../../utils/utils"),a=e("../base-xform");n.exports=class extends a{get tag(){return"col"}prepare(c,l){const o=l.styles.addStyleModel(c.style||{});o&&(c.styleId=o)}render(c,l){c.openNode("col"),c.addAttribute("min",l.min),c.addAttribute("max",l.max),l.width&&c.addAttribute("width",l.width),l.styleId&&c.addAttribute("style",l.styleId),l.hidden&&c.addAttribute("hidden","1"),l.bestFit&&c.addAttribute("bestFit","1"),l.outlineLevel&&c.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&c.addAttribute("collapsed","1"),c.addAttribute("customWidth","1"),c.closeNode()}parseOpen(c){if(c.name==="col"){const l=this.model={min:parseInt(c.attributes.min||"0",10),max:parseInt(c.attributes.max||"0",10),width:c.attributes.width===void 0?void 0:parseFloat(c.attributes.width||"0")};return c.attributes.style&&(l.styleId=parseInt(c.attributes.style,10)),s.parseBoolean(c.attributes.hidden)&&(l.hidden=!0),s.parseBoolean(c.attributes.bestFit)&&(l.bestFit=!0),c.attributes.outlineLevel&&(l.outlineLevel=parseInt(c.attributes.outlineLevel,10)),s.parseBoolean(c.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(c,l){c.styleId&&(c.style=l.styles.getStyleModel(c.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../../../utils/utils"),c=e("../../../utils/col-cache"),l=e("../base-xform"),o=e("../../../doc/range");function u(d,h,g,b){const m=h[g];m!==void 0?d[g]=m:b!==void 0&&(d[g]=b)}function p(d,h,g,b){const m=h[g];m!==void 0&&(d[g]=a.parseBoolean(m))}n.exports=class extends l{get tag(){return"dataValidations"}render(d,h){const g=function(b){const m=s.map(b,(w,E)=>({address:E,dataValidation:w,marked:!1})).sort((w,E)=>s.strcmp(w.address,E.address)),y=s.keyBy(m,"address"),v=(w,E,A)=>{for(let D=0;D<E;D++){const L=c.encodeAddress(w.row+D,A);if(!b[L]||!s.isEqual(b[w.address],b[L]))return!1}return!0};return m.map(w=>{if(!w.marked){const E=c.decodeEx(w.address);if(E.dimensions)return y[E.dimensions].marked=!0,{...w.dataValidation,sqref:w.address};let A=1,D=c.encodeAddress(E.row+A,E.col);for(;b[D]&&s.isEqual(w.dataValidation,b[D]);)A++,D=c.encodeAddress(E.row+A,E.col);let L=1;for(;v(E,A,E.col+L);)L++;for(let C=0;C<A;C++)for(let M=0;M<L;M++)D=c.encodeAddress(E.row+C,E.col+M),y[D].marked=!0;if(A>1||L>1){const C=E.row+(A-1),M=E.col+(L-1);return{...w.dataValidation,sqref:`${w.address}:${c.encodeAddress(C,M)}`}}return{...w.dataValidation,sqref:w.address}}return null}).filter(Boolean)}(h);g.length&&(d.openNode("dataValidations",{count:g.length}),g.forEach(b=>{d.openNode("dataValidation"),b.type!=="any"&&(d.addAttribute("type",b.type),b.operator&&b.type!=="list"&&b.operator!=="between"&&d.addAttribute("operator",b.operator),b.allowBlank&&d.addAttribute("allowBlank","1")),b.showInputMessage&&d.addAttribute("showInputMessage","1"),b.promptTitle&&d.addAttribute("promptTitle",b.promptTitle),b.prompt&&d.addAttribute("prompt",b.prompt),b.showErrorMessage&&d.addAttribute("showErrorMessage","1"),b.errorStyle&&d.addAttribute("errorStyle",b.errorStyle),b.errorTitle&&d.addAttribute("errorTitle",b.errorTitle),b.error&&d.addAttribute("error",b.error),d.addAttribute("sqref",b.sqref),(b.formulae||[]).forEach((m,y)=>{d.openNode("formula"+(y+1)),b.type==="date"?d.writeText(a.dateToExcel(new Date(m))):d.writeText(m),d.closeNode()}),d.closeNode()}),d.closeNode())}parseOpen(d){switch(d.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=d.attributes.sqref;const h={type:d.attributes.type||"any",formulae:[]};switch(d.attributes.type&&p(h,d.attributes,"allowBlank"),p(h,d.attributes,"showInputMessage"),p(h,d.attributes,"showErrorMessage"),h.type){case"any":case"list":case"custom":break;default:u(h,d.attributes,"operator","between")}return u(h,d.attributes,"promptTitle"),u(h,d.attributes,"prompt"),u(h,d.attributes,"errorStyle"),u(h,d.attributes,"errorTitle"),u(h,d.attributes,"error"),this._dataValidation=h,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(d){this._formula&&this._formula.push(d)}parseClose(d){switch(d){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(h=>{h.includes(":")?new o(h).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[h]=this._dataValidation}),!0;case"formula1":case"formula2":{let h=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":h=parseInt(h,10);break;case"decimal":h=parseFloat(h);break;case"date":h=a.excelToDate(parseFloat(h))}return this._dataValidation.formulae.push(h),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"dimension"}render(a,c){c&&a.leafNode("dimension",{ref:c})}parseOpen(a){return a.name==="dimension"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"drawing"}render(a,c){c&&a.leafNode(this.tag,{"r:id":c.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,n,i){const s=e("../composite-xform"),a=e("./cf-ext/conditional-formattings-ext-xform");class c extends s{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new a}}get tag(){return"ext"}hasContent(o){return this.conditionalFormattings.hasContent(o.conditionalFormattings)}prepare(o,u){this.conditionalFormattings.prepare(o.conditionalFormattings,u)}render(o,u){o.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(o,u.conditionalFormattings),o.closeNode()}createNewModel(){return{}}onParserClose(o,u){this.model[o]=u.model}}n.exports=class extends s{constructor(){super(),this.map={ext:this.ext=new c}}get tag(){return"extLst"}prepare(l,o){this.ext.prepare(l,o)}hasContent(l){return this.ext.hasContent(l)}render(l,o){this.hasContent(o)&&(l.openNode("extLst"),this.ext.render(l,o),l.closeNode())}createNewModel(){return{}}onParserClose(l,o){Object.assign(this.model,o.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"headerFooter"}render(a,c){if(c){a.addRollback();let l=!1;a.openNode("headerFooter"),c.differentFirst&&(a.addAttribute("differentFirst","1"),l=!0),c.differentOddEven&&(a.addAttribute("differentOddEven","1"),l=!0),c.oddHeader&&typeof c.oddHeader=="string"&&(a.leafNode("oddHeader",null,c.oddHeader),l=!0),c.oddFooter&&typeof c.oddFooter=="string"&&(a.leafNode("oddFooter",null,c.oddFooter),l=!0),c.evenHeader&&typeof c.evenHeader=="string"&&(a.leafNode("evenHeader",null,c.evenHeader),l=!0),c.evenFooter&&typeof c.evenFooter=="string"&&(a.leafNode("evenFooter",null,c.evenFooter),l=!0),c.firstHeader&&typeof c.firstHeader=="string"&&(a.leafNode("firstHeader",null,c.firstHeader),l=!0),c.firstFooter&&typeof c.firstFooter=="string"&&(a.leafNode("firstFooter",null,c.firstFooter),l=!0),l?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){switch(a.name){case"headerFooter":return this.model={},a.attributes.differentFirst&&(this.model.differentFirst=parseInt(a.attributes.differentFirst,0)===1),a.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(a.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(a){switch(this.currentNode){case"oddHeader":this.model.oddHeader=a;break;case"oddFooter":this.model.oddFooter=a;break;case"evenHeader":this.model.evenHeader=a;break;case"evenFooter":this.model.evenFooter=a;break;case"firstHeader":this.model.firstHeader=a;break;case"firstFooter":this.model.firstFooter=a}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"hyperlink"}render(a,c){this.isInternalLink(c)?a.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip,location:c.target}):a.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip})}parseOpen(a){return a.name==="hyperlink"&&(this.model={address:a.attributes.ref,rId:a.attributes["r:id"],tooltip:a.attributes.tooltip},a.attributes.location&&(this.model.target=a.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(a){return a.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(a.target)}}},{"../base-xform":32}],99:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"mergeCell"}render(a,c){a.leafNode("mergeCell",{ref:c})}parseOpen(a){return a.name==="mergeCell"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../../../doc/range"),c=e("../../../utils/col-cache"),l=e("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(o){if(this.merges[o.master])this.merges[o.master].expandToAddress(o.address);else{const u=`${o.master}:${o.address}`;this.merges[o.master]=new a(u)}}get mergeCells(){return s.map(this.merges,o=>o.range)}reconcile(o,u){s.each(o,p=>{const d=c.decode(p);for(let h=d.top;h<=d.bottom;h++){const g=u[h-1];for(let b=d.left;b<=d.right;b++){const m=g.cells[b-1];m?m.type===l.ValueType.Merge&&(m.master=d.tl):g.cells[b]={type:l.ValueType.Null,address:c.encodeAddress(h,b)}}}})}getMasterAddress(o){const u=this.hash[o];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,n,i){const s=e("../base-xform"),a=c=>c!==void 0;n.exports=class extends s{get tag(){return"outlinePr"}render(c,l){return!(!l||!a(l.summaryBelow)&&!a(l.summaryRight))&&(c.leafNode(this.tag,{summaryBelow:a(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:a(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(c){return c.name===this.tag&&(this.model={summaryBelow:a(c.attributes.summaryBelow)?!!Number(c.attributes.summaryBelow):void 0,summaryRight:a(c.attributes.summaryRight)?!!Number(c.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"brk"}render(a,c){a.leafNode("brk",c)}parseOpen(a){return a.name==="brk"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../base-xform");n.exports=class extends a{get tag(){return"pageMargins"}render(c,l){if(l){const o={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};s.some(o,u=>u!==void 0)&&c.leafNode(this.tag,o)}}parseOpen(c){switch(c.name){case this.tag:return this.model={left:parseFloat(c.attributes.left||.7),right:parseFloat(c.attributes.right||.7),top:parseFloat(c.attributes.top||.75),bottom:parseFloat(c.attributes.bottom||.75),header:parseFloat(c.attributes.header||.3),footer:parseFloat(c.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"pageSetUpPr"}render(a,c){return!(!c||!c.fitToPage)&&(a.leafNode(this.tag,{fitToPage:c.fitToPage?"1":void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={fitToPage:a.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../base-xform");function c(p){return p?"1":void 0}function l(p){switch(p){case"overThenDown":return p;default:return}}function o(p){switch(p){case"atEnd":case"asDisplyed":return p;default:return}}function u(p){switch(p){case"dash":case"blank":case"NA":return p;default:return}}n.exports=class extends a{get tag(){return"pageSetup"}render(p,d){if(d){const h={paperSize:d.paperSize,orientation:d.orientation,horizontalDpi:d.horizontalDpi,verticalDpi:d.verticalDpi,pageOrder:l(d.pageOrder),blackAndWhite:c(d.blackAndWhite),draft:c(d.draft),cellComments:o(d.cellComments),errors:u(d.errors),scale:d.scale,fitToWidth:d.fitToWidth,fitToHeight:d.fitToHeight,firstPageNumber:d.firstPageNumber,useFirstPageNumber:c(d.firstPageNumber),usePrinterDefaults:c(d.usePrinterDefaults),copies:d.copies};s.some(h,g=>g!==void 0)&&p.leafNode(this.tag,h)}}parseOpen(p){switch(p.name){case this.tag:return this.model={paperSize:(d=p.attributes.paperSize,d!==void 0?parseInt(d,10):void 0),orientation:p.attributes.orientation||"portrait",horizontalDpi:parseInt(p.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(p.attributes.verticalDpi||"4294967295",10),pageOrder:p.attributes.pageOrder||"downThenOver",blackAndWhite:p.attributes.blackAndWhite==="1",draft:p.attributes.draft==="1",cellComments:p.attributes.cellComments||"None",errors:p.attributes.errors||"displayed",scale:parseInt(p.attributes.scale||"100",10),fitToWidth:parseInt(p.attributes.fitToWidth||"1",10),fitToHeight:parseInt(p.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(p.attributes.firstPageNumber||"1",10),useFirstPageNumber:p.attributes.useFirstPageNumber==="1",usePrinterDefaults:p.attributes.usePrinterDefaults==="1",copies:parseInt(p.attributes.copies||"1",10)},!0;default:return!1}var d}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"picture"}render(a,c){c&&a.leafNode(this.tag,{"r:id":c.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../base-xform");function c(l){return l?"1":void 0}n.exports=class extends a{get tag(){return"printOptions"}render(l,o){if(o){const u={headings:c(o.showRowColHeaders),gridLines:c(o.showGridLines),horizontalCentered:c(o.horizontalCentered),verticalCentered:c(o.verticalCentered)};s.some(u,p=>p!==void 0)&&l.leafNode(this.tag,u)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,n,i){const s=e("./page-breaks-xform"),a=e("../list-xform");n.exports=class extends a{constructor(){super({tag:"rowBreaks",count:!0,childXform:new s})}render(c,l){if(l&&l.length){c.openNode(this.tag,this.$),this.count&&(c.addAttribute(this.$count,l.length),c.addAttribute("manualBreakCount",l.length));const{childXform:o}=this;l.forEach(u=>{o.render(c,u)}),c.closeNode()}else this.empty&&c.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,n,i){const s=e("../base-xform"),a=e("../../../utils/utils"),c=e("./cell-xform");n.exports=class extends s{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new c}}get tag(){return"row"}prepare(l,o){const u=o.styles.addStyleModel(l.style);u&&(l.styleId=u);const p=this.map.c;l.cells.forEach(d=>{p.prepare(d,o)})}render(l,o,u){l.openNode("row"),l.addAttribute("r",o.number),o.height&&(l.addAttribute("ht",o.height),l.addAttribute("customHeight","1")),o.hidden&&l.addAttribute("hidden","1"),o.min>0&&o.max>0&&o.min<=o.max&&l.addAttribute("spans",`${o.min}:${o.max}`),o.styleId&&(l.addAttribute("s",o.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),o.outlineLevel&&l.addAttribute("outlineLevel",o.outlineLevel),o.collapsed&&l.addAttribute("collapsed","1");const p=this.map.c;o.cells.forEach(d=>{p.render(l,d,u)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const o=l.attributes.spans?l.attributes.spans.split(":").map(p=>parseInt(p,10)):[void 0,void 0],u=this.model={number:parseInt(l.attributes.r,10),min:o[0],max:o[1],cells:[]};return l.attributes.s&&(u.styleId=parseInt(l.attributes.s,10)),a.parseBoolean(l.attributes.hidden)&&(u.hidden=!0),a.parseBoolean(l.attributes.bestFit)&&(u.bestFit=!0),l.attributes.ht&&(u.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(u.outlineLevel=parseInt(l.attributes.outlineLevel,10)),a.parseBoolean(l.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,o){l.style=l.styleId?o.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const u=this.map.c;l.cells.forEach(p=>{u.reconcile(p,o)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../base-xform");n.exports=class extends a{get tag(){return"sheetFormatPr"}render(c,l){if(l){const o={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(o.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(o.customHeight="1"),s.some(o,u=>u!==void 0)&&c.leafNode("sheetFormatPr",o)}}parseOpen(c){return c.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(c.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(c.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(c.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(c.attributes.outlineLevelCol||"0",10)},c.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(c.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,n,i){const s=e("../base-xform"),a=e("../style/color-xform"),c=e("./page-setup-properties-xform"),l=e("./outline-properties-xform");n.exports=class extends s{constructor(){super(),this.map={tabColor:new a("tabColor"),pageSetUpPr:new c,outlinePr:new l}}get tag(){return"sheetPr"}render(o,u){if(u){o.addRollback(),o.openNode("sheetPr");let p=!1;p=this.map.tabColor.render(o,u.tabColor)||p,p=this.map.pageSetUpPr.render(o,u.pageSetup)||p,p=this.map.outlinePr.render(o,u.outlineProperties)||p,p?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){return this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag?(this.reset(),!0):!!this.map[o.name]&&(this.parser=this.map[o.name],this.parser.parseOpen(o),!0)}parseText(o){return!!this.parser&&(this.parser.parseText(o),!0)}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../base-xform");function c(o,u){return o?u:void 0}function l(o,u){return o===u||void 0}n.exports=class extends a{get tag(){return"sheetProtection"}render(o,u){if(u){const p={sheet:c(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:c(u.formatCells,"0"),formatColumns:c(u.formatColumns,"0"),formatRows:c(u.formatRows,"0"),insertColumns:c(u.insertColumns,"0"),insertRows:c(u.insertRows,"0"),insertHyperlinks:c(u.insertHyperlinks,"0"),deleteColumns:c(u.deleteColumns,"0"),deleteRows:c(u.deleteRows,"0"),sort:c(u.sort,"0"),autoFilter:c(u.autoFilter,"0"),pivotTables:c(u.pivotTables,"0")};u.sheet&&(p.algorithmName=u.algorithmName,p.hashValue=u.hashValue,p.saltValue=u.saltValue,p.spinCount=u.spinCount,p.objects=c(u.objects===!1,"1"),p.scenarios=c(u.scenarios===!1,"1")),s.some(p,d=>d!==void 0)&&o.leafNode(this.tag,p)}}parseOpen(o){switch(o.name){case this.tag:return this.model={sheet:l(o.attributes.sheet,"1"),objects:o.attributes.objects!=="1"&&void 0,scenarios:o.attributes.scenarios!=="1"&&void 0,selectLockedCells:o.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:o.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(o.attributes.formatCells,"0"),formatColumns:l(o.attributes.formatColumns,"0"),formatRows:l(o.attributes.formatRows,"0"),insertColumns:l(o.attributes.insertColumns,"0"),insertRows:l(o.attributes.insertRows,"0"),insertHyperlinks:l(o.attributes.insertHyperlinks,"0"),deleteColumns:l(o.attributes.deleteColumns,"0"),deleteRows:l(o.attributes.deleteRows,"0"),sort:l(o.attributes.sort,"0"),autoFilter:l(o.attributes.autoFilter,"0"),pivotTables:l(o.attributes.pivotTables,"0")},o.attributes.algorithmName&&(this.model.algorithmName=o.attributes.algorithmName,this.model.hashValue=o.attributes.hashValue,this.model.saltValue=o.attributes.saltValue,this.model.spinCount=parseInt(o.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,n,i){const s=e("../../../utils/col-cache"),a=e("../base-xform"),c={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends a{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,o){l.openNode("sheetView",{workbookViewId:o.workbookViewId||0});const u=function(b,m,y){y&&l.addAttribute(b,m)};let p,d,h,g;switch(u("rightToLeft","1",o.rightToLeft===!0),u("tabSelected","1",o.tabSelected),u("showRuler","0",o.showRuler===!1),u("showRowColHeaders","0",o.showRowColHeaders===!1),u("showGridLines","0",o.showGridLines===!1),u("zoomScale",o.zoomScale,o.zoomScale),u("zoomScaleNormal",o.zoomScaleNormal,o.zoomScaleNormal),u("view",o.style,o.style),o.state){case"frozen":d=o.xSplit||0,h=o.ySplit||0,p=o.topLeftCell||s.getAddress(h+1,d+1).address,g=(o.xSplit&&o.ySplit?"bottomRight":o.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:p,activePane:g,state:"frozen"}),l.leafNode("selection",{pane:g,activeCell:o.activeCell,sqref:o.activeCell});break;case"split":o.activePane==="topLeft"&&(o.activePane=void 0),l.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:o.topLeftCell,activePane:o.activePane}),l.leafNode("selection",{pane:o.activePane,activeCell:o.activeCell,sqref:o.activeCell});break;case"normal":o.activeCell&&l.leafNode("selection",{activeCell:o.activeCell,sqref:o.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const o=l.attributes.pane||"topLeft";return this.selections[o]={pane:o,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let o,u;switch(l){case"sheetView":return this.sheetView&&this.pane?(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:c[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(o.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(o.activeCell=u.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)):(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(o.activeCell=u.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"tablePart"}render(a,c){c&&a.leafNode(this.tag,{"r:id":c.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),l=e("../../rel-type"),o=e("./merges"),u=e("../base-xform"),p=e("../list-xform"),d=e("./row-xform"),h=e("./col-xform"),g=e("./dimension-xform"),b=e("./hyperlink-xform"),m=e("./merge-cell-xform"),y=e("./data-validations-xform"),v=e("./sheet-properties-xform"),w=e("./sheet-format-properties-xform"),E=e("./sheet-view-xform"),A=e("./sheet-protection-xform"),D=e("./page-margins-xform"),L=e("./page-setup-xform"),C=e("./print-options-xform"),M=e("./auto-filter-xform"),F=e("./picture-xform"),$=e("./drawing-xform"),U=e("./table-part-xform"),j=e("./row-breaks-xform"),P=e("./header-footer-xform"),N=e("./cf/conditional-formattings-xform"),x=e("./ext-lst-xform"),S=(k,T)=>{if(!T||!T.length)return k;if(!k||!k.length)return T;const B={},V={};return k.forEach(q=>{B[q.ref]=q,q.rules.forEach(W=>{const{x14Id:J}=W;J&&(V[J]=W)})}),T.forEach(q=>{q.rules.forEach(W=>{const J=V[W.x14Id];J?((z,X)=>{Object.keys(X).forEach(O=>{const R=z[O],H=X[O];R===void 0&&H!==void 0&&(z[O]=H)})})(J,W):B[q.ref]?B[q.ref].rules.push(W):k.push({ref:q.ref,rules:[W]})})}),k};class _ extends u{constructor(T){super();const{maxRows:B,maxCols:V,ignoreNodes:q}=T||{};this.ignoreNodes=q||[],this.map={sheetPr:new v,dimension:new g,sheetViews:new p({tag:"sheetViews",count:!1,childXform:new E}),sheetFormatPr:new w,cols:new p({tag:"cols",count:!1,childXform:new h}),sheetData:new p({tag:"sheetData",count:!1,empty:!0,childXform:new d({maxItems:V}),maxItems:B}),autoFilter:new M,mergeCells:new p({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new j,hyperlinks:new p({tag:"hyperlinks",count:!1,childXform:new b}),pageMargins:new D,dataValidations:new y,pageSetup:new L,headerFooter:new P,printOptions:new C,picture:new F,drawing:new $,sheetProtection:new A,tableParts:new p({tag:"tableParts",count:!0,childXform:new U}),conditionalFormatting:new N,extLst:new x}}prepare(T,B){B.merges=new o,T.hyperlinks=B.hyperlinks=[],T.comments=B.comments=[],B.formulae={},B.siFormulae=0,this.map.cols.prepare(T.cols,B),this.map.sheetData.prepare(T.rows,B),this.map.conditionalFormatting.prepare(T.conditionalFormattings,B),T.mergeCells=B.merges.mergeCells;const V=T.rels=[];function q(z){return"rId"+(z.length+1)}if(T.hyperlinks.forEach(z=>{const X=q(V);z.rId=X,V.push({Id:X,Type:l.Hyperlink,Target:z.target,TargetMode:"External"})}),T.comments.length>0){const z={Id:q(V),Type:l.Comments,Target:`../comments${T.id}.xml`};V.push(z);const X={Id:q(V),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${T.id}.vml`};V.push(X),T.comments.forEach(O=>{O.refAddress=a.decodeAddress(O.ref)}),B.commentRefs.push({commentName:"comments"+T.id,vmlDrawing:"vmlDrawing"+T.id})}const W=[];let J;T.media.forEach(z=>{if(z.type==="background"){const X=q(V);J=B.media[z.imageId],V.push({Id:X,Type:l.Image,Target:`../media/${J.name}.${J.extension}`}),T.background={rId:X},T.image=B.media[z.imageId]}else if(z.type==="image"){let{drawing:X}=T;J=B.media[z.imageId],X||(X=T.drawing={rId:q(V),name:"drawing"+ ++B.drawingsCount,anchors:[],rels:[]},B.drawings.push(X),V.push({Id:X.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${X.name}.xml`}));let O=this.preImageId===z.imageId?W[z.imageId]:W[X.rels.length];O||(O=q(X.rels),W[X.rels.length]=O,X.rels.push({Id:O,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${J.name}.${J.extension}`}));const R={picture:{rId:O},range:z.range};if(z.hyperlinks&&z.hyperlinks.hyperlink){const H=q(X.rels);W[X.rels.length]=H,R.picture.hyperlinks={tooltip:z.hyperlinks.tooltip,rId:H},X.rels.push({Id:H,Type:l.Hyperlink,Target:z.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=z.imageId,X.anchors.push(R)}}),T.tables.forEach(z=>{const X=q(V);z.rId=X,V.push({Id:X,Type:l.Table,Target:"../tables/"+z.target}),z.columns.forEach(O=>{const{style:R}=O;R&&(O.dxfId=B.styles.addDxfStyle(R))})}),this.map.extLst.prepare(T,B)}render(T,B){T.openXml(c.StdDocAttributes),T.openNode("worksheet",_.WORKSHEET_ATTRIBUTES);const V=B.properties?{defaultRowHeight:B.properties.defaultRowHeight,dyDescent:B.properties.dyDescent,outlineLevelCol:B.properties.outlineLevelCol,outlineLevelRow:B.properties.outlineLevelRow}:void 0;B.properties&&B.properties.defaultColWidth&&(V.defaultColWidth=B.properties.defaultColWidth);const q={outlineProperties:B.properties&&B.properties.outlineProperties,tabColor:B.properties&&B.properties.tabColor,pageSetup:B.pageSetup&&B.pageSetup.fitToPage?{fitToPage:B.pageSetup.fitToPage}:void 0},W=B.pageSetup&&B.pageSetup.margins,J={showRowColHeaders:B.pageSetup&&B.pageSetup.showRowColHeaders,showGridLines:B.pageSetup&&B.pageSetup.showGridLines,horizontalCentered:B.pageSetup&&B.pageSetup.horizontalCentered,verticalCentered:B.pageSetup&&B.pageSetup.verticalCentered},z=B.sheetProtection;this.map.sheetPr.render(T,q),this.map.dimension.render(T,B.dimensions),this.map.sheetViews.render(T,B.views),this.map.sheetFormatPr.render(T,V),this.map.cols.render(T,B.cols),this.map.sheetData.render(T,B.rows),this.map.sheetProtection.render(T,z),this.map.autoFilter.render(T,B.autoFilter),this.map.mergeCells.render(T,B.mergeCells),this.map.conditionalFormatting.render(T,B.conditionalFormattings),this.map.dataValidations.render(T,B.dataValidations),this.map.hyperlinks.render(T,B.hyperlinks),this.map.printOptions.render(T,J),this.map.pageMargins.render(T,W),this.map.pageSetup.render(T,B.pageSetup),this.map.headerFooter.render(T,B.headerFooter),this.map.rowBreaks.render(T,B.rowBreaks),this.map.drawing.render(T,B.drawing),this.map.picture.render(T,B.background),this.map.tableParts.render(T,B.tables),this.map.extLst.render(T,B),B.rels&&B.rels.forEach(X=>{X.Type===l.VmlDrawing&&T.leafNode("legacyDrawing",{"r:id":X.Id})}),T.closeNode()}parseOpen(T){return this.parser?(this.parser.parseOpen(T),!0):T.name==="worksheet"?(s.each(this.map,B=>{B.reset()}),!0):(this.map[T.name]&&!this.ignoreNodes.includes(T.name)&&(this.parser=this.map[T.name],this.parser.parseOpen(T)),!0)}parseText(T){this.parser&&this.parser.parseText(T)}parseClose(T){if(this.parser)return this.parser.parseClose(T)||(this.parser=void 0),!0;switch(T){case"worksheet":{const B=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(B.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(B.outlineProperties=this.map.sheetPr.model.outlineProperties);const V={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},q=Object.assign(V,this.map.pageSetup.model,this.map.printOptions.model),W=S(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:B,views:this.map.sheetViews.model,pageSetup:q,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:W},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(T,B){const V=(T.relationships||[]).reduce((W,J)=>{if(W[J.Id]=J,J.Type===l.Comments&&(T.comments=B.comments[J.Target].comments),J.Type===l.VmlDrawing&&T.comments&&T.comments.length){const z=B.vmlDrawings[J.Target].comments;T.comments.forEach((X,O)=>{X.note=Object.assign({},X.note,z[O])})}return W},{});if(B.commentsMap=(T.comments||[]).reduce((W,J)=>(J.ref&&(W[J.ref]=J),W),{}),B.hyperlinkMap=(T.hyperlinks||[]).reduce((W,J)=>(J.rId&&(W[J.address]=V[J.rId].Target),W),{}),B.formulae={},T.rows=T.rows&&T.rows.filter(Boolean)||[],T.rows.forEach(W=>{W.cells=W.cells&&W.cells.filter(Boolean)||[]}),this.map.cols.reconcile(T.cols,B),this.map.sheetData.reconcile(T.rows,B),this.map.conditionalFormatting.reconcile(T.conditionalFormattings,B),T.media=[],T.drawing){const W=V[T.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(W){const J=W[1];B.drawings[J].anchors.forEach(z=>{if(z.medium){const X={type:"image",imageId:z.medium.index,range:z.range,hyperlinks:z.picture.hyperlinks};T.media.push(X)}})}}const q=T.background&&V[T.background.rId];if(q){const W=q.Target.split("/media/")[1],J=B.mediaIndex&&B.mediaIndex[W];J!==void 0&&T.media.push({type:"background",imageId:J})}T.tables=(T.tables||[]).map(W=>{const J=V[W.rId];return B.tables[J.Target]}),delete T.relationships,delete T.hyperlinks,delete T.comments}}_.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=_},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.attr=a.attr}render(a,c){c&&(a.openNode(this.tag),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this._format=a.format||function(c){try{return Number.isNaN(c.getTime())?"":c.toISOString()}catch{return""}},this._parse=a.parse||function(c){return new Date(c)}}render(a,c){c&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,this._format(c)):a.writeText(this._format(c)),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=this._parse(a.attributes[this.attr]):this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this.zero=a.zero}render(a,c){(c||this.zero)&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,c):a.writeText(c),a.closeNode())}parseOpen(a){return a.name===this.tag&&(this.attr?this.model=parseInt(a.attributes[this.attr],10):this.text=[],!0)}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs}render(a,c){c!==void 0&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,c):a.writeText(c),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=a.attributes[this.attr]:this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,n,i){const s=e("./base-xform"),a=e("../../utils/xml-stream");n.exports=class extends s{constructor(c){super(),this._model=c}render(c){if(!this._xml){const l=new a;(function o(u,p){u.openNode(p.tag,p.$),p.c&&p.c.forEach(d=>{o(u,d)}),p.t&&u.writeText(p.t),u.closeNode()})(l,this._model),this._xml=l.xml}c.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(c){switch(c){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,n,i){const s=e("./text-xform"),a=e("./rich-text-xform"),c=e("../base-xform");n.exports=class extends c{constructor(){super(),this.map={r:new a,t:new s}}get tag(){return"rPh"}render(l,o){if(l.openNode(this.tag,{sb:o.sb||0,eb:o.eb||0}),o&&o.hasOwnProperty("richText")&&o.richText){const{r:u}=this.map;o.richText.forEach(p=>{u.render(l,p)})}else o&&this.map.t.render(l,o.text);l.closeNode()}parseOpen(l){const{name:o}=l;return this.parser?(this.parser.parseOpen(l),!0):o===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[o],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let o=this.model.richText;o||(o=this.model.richText=[]),o.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,n,i){const s=e("./text-xform"),a=e("../style/font-xform"),c=e("../base-xform");class l extends c{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new s)}get fontXform(){return this._fontXform||(this._fontXform=new a(l.FONT_OPTIONS))}render(u,p){p=p||this.model,u.openNode("r"),p.font&&this.fontXform.render(u,p.font),this.textXform.render(u,p.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,n,i){const s=e("./text-xform"),a=e("./rich-text-xform"),c=e("./phonetic-text-xform"),l=e("../base-xform");n.exports=class extends l{constructor(o){super(),this.model=o,this.map={r:new a,t:new s,rPh:new c}}get tag(){return"si"}render(o,u){o.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(p=>{this.map.r.render(o,p)}):this.map.t.render(o,""):u!=null&&this.map.t.render(o,u),o.closeNode()}parseOpen(o){const{name:u}=o;return this.parser?(this.parser.parseOpen(o),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(o),!0))}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){switch(o){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform"),c=e("./shared-string-xform");n.exports=class extends a{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new c)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let o=this.hash[l];return o===void 0&&(o=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,o}addRichText(l){const o=this.sharedStringXform.toXml(l);let u=this.rich[o];return u===void 0&&(u=this.rich[o]=this.model.values.length,this.model.values.push(l)),this.model.count++,u}render(l,o){o=o||this._values,l.openXml(s.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:o.count,uniqueCount:o.values.length});const u=this.sharedStringXform;o.values.forEach(p=>{u.render(l,p)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"t"}render(a,c){a.openNode("t"),/^\s|\n|\s$/.test(c)&&a.addAttribute("xml:space","preserve"),a.writeText(c),a.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(a,c)=>String.fromCharCode(parseInt(c,16)))}parseOpen(a){switch(a.name){case"t":return this._text=[],!0;default:return!1}}parseText(a){this._text.push(a)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,n,i){const s=e("../../../doc/enums"),a=e("../../../utils/utils"),c=e("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,p)=>(u[p]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,p)=>(u[p]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=a.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=a.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return s.ReadingOrder.LeftToRight;case"rtl":return s.ReadingOrder.RightToLeft;default:return}}},o={toXml(u){if(u=l.textRotation(u)){if(u==="vertical")return 255;const p=Math.round(u);if(p>=0&&p<=90)return p;if(p<0&&p>=-90)return 90-p}},toModel(u){const p=a.validInt(u);if(p!==void 0){if(p===255)return"vertical";if(p>=0&&p<=90)return p;if(p>90&&p<=180)return 90-p}}};n.exports=class extends c{get tag(){return"alignment"}render(u,p){u.addRollback(),u.openNode("alignment");let d=!1;function h(g,b){b&&(u.addAttribute(g,b),d=!0)}h("horizontal",l.horizontal(p.horizontal)),h("vertical",l.vertical(p.vertical)),h("wrapText",!!l.wrapText(p.wrapText)&&"1"),h("shrinkToFit",!!l.shrinkToFit(p.shrinkToFit)&&"1"),h("indent",l.indent(p.indent)),h("textRotation",o.toXml(p.textRotation)),h("readingOrder",l.readingOrder(p.readingOrder)),u.closeNode(),d?u.commit():u.rollback()}parseOpen(u){const p={};let d=!1;function h(g,b,m){g&&(p[b]=m,d=!0)}h(u.attributes.horizontal,"horizontal",u.attributes.horizontal),h(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),h(u.attributes.wrapText,"wrapText",a.parseBoolean(u.attributes.wrapText)),h(u.attributes.shrinkToFit,"shrinkToFit",a.parseBoolean(u.attributes.shrinkToFit)),h(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),h(u.attributes.textRotation,"textRotation",o.toModel(u.attributes.textRotation)),h(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=d?p:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,n,i){const s=e("../base-xform"),a=e("../../../utils/utils"),c=e("./color-xform");class l extends s{constructor(u){super(),this.name=u,this.map={color:new c}}get tag(){return this.name}render(u,p,d){const h=p&&p.color||d||this.defaultColor;u.openNode(this.name),p&&p.style&&(u.addAttribute("style",p.style),h&&this.map.color.render(u,h)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:p}=u.attributes;return this.model=p?{style:p}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return l.validStyleValues[u]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((o,u)=>(o[u]=!0,o),{}),n.exports=class extends s{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(o,u){const{color:p}=u;function d(h,g){h&&!h.color&&u.color&&(h={...h,color:u.color}),g.render(o,h,p)}o.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&o.addAttribute("diagonalUp","1"),u.diagonal.down&&o.addAttribute("diagonalDown","1")),d(u.left,this.map.left),d(u.right,this.map.right),d(u.top,this.map.top),d(u.bottom,this.map.bottom),d(u.diagonal,this.map.diagonal),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"border":return this.reset(),this.diagonalUp=a.parseBoolean(o.attributes.diagonalUp),this.diagonalDown=a.parseBoolean(o.attributes.diagonalDown),!0;default:return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;if(o==="border"){const u=this.model={},p=function(d,h,g){h&&(g&&Object.assign(h,g),u[d]=h)};p("left",this.map.left.model),p("right",this.map.right.model),p("top",this.map.top.model),p("bottom",this.map.bottom.model),p("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(a){super(),this.name=a||"color"}get tag(){return this.name}render(a,c){return!!c&&(a.openNode(this.name),c.argb?a.addAttribute("rgb",c.argb):c.theme!==void 0?(a.addAttribute("theme",c.theme),c.tint!==void 0&&a.addAttribute("tint",c.tint)):c.indexed!==void 0?a.addAttribute("indexed",c.indexed):a.addAttribute("auto","1"),a.closeNode(),!0)}parseOpen(a){return a.name===this.name&&(a.attributes.rgb?this.model={argb:a.attributes.rgb}:a.attributes.theme?(this.model={theme:parseInt(a.attributes.theme,10)},a.attributes.tint&&(this.model.tint=parseFloat(a.attributes.tint))):a.attributes.indexed?this.model={indexed:parseInt(a.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,n,i){const s=e("../base-xform"),a=e("./alignment-xform"),c=e("./border-xform"),l=e("./fill-xform"),o=e("./font-xform"),u=e("./numfmt-xform"),p=e("./protection-xform");n.exports=class extends s{constructor(){super(),this.map={alignment:new a,border:new c,fill:new l,font:new o,numFmt:new u,protection:new p}}get tag(){return"dxf"}render(d,h){if(d.openNode(this.tag),h.font&&this.map.font.render(d,h.font),h.numFmt&&h.numFmtId){const g={id:h.numFmtId,formatCode:h.numFmt};this.map.numFmt.render(d,g)}h.fill&&this.map.fill.render(d,h.fill),h.alignment&&this.map.alignment.render(d,h.alignment),h.border&&this.map.border.render(d,h.border),h.protection&&this.map.protection.render(d,h.protection),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d),!0}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,n,i){const s=e("../base-xform"),a=e("./color-xform");class c extends s{constructor(){super(),this.map={color:new a}}get tag(){return"stop"}render(d,h){d.openNode("stop"),d.addAttribute("position",h.position),this.map.color.render(d,h.color),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"stop":return this.model={position:parseFloat(d.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(){}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends s{constructor(){super(),this.map={fgColor:new a("fgColor"),bgColor:new a("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(d,h){d.openNode("patternFill"),d.addAttribute("patternType",h.pattern),h.fgColor&&this.map.fgColor.render(d,h.fgColor),h.bgColor&&this.map.bgColor.render(d,h.bgColor),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"patternFill":return this.model={type:"pattern",pattern:d.attributes.patternType},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.parser.model&&(this.model[d]=this.parser.model),this.parser=void 0),!0)}}class o extends s{constructor(){super(),this.map={stop:new c}}get name(){return"gradient"}get tag(){return"gradientFill"}render(d,h){switch(d.openNode("gradientFill"),h.gradient){case"angle":d.addAttribute("degree",h.degree);break;case"path":d.addAttribute("type","path"),h.center.left&&(d.addAttribute("left",h.center.left),h.center.right===void 0&&d.addAttribute("right",h.center.left)),h.center.right&&d.addAttribute("right",h.center.right),h.center.top&&(d.addAttribute("top",h.center.top),h.center.bottom===void 0&&d.addAttribute("bottom",h.center.top)),h.center.bottom&&d.addAttribute("bottom",h.center.bottom)}const g=this.map.stop;h.stops.forEach(b=>{g.render(d,b)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"gradientFill":{const h=this.model={stops:[]};return d.attributes.degree?(h.gradient="angle",h.degree=parseInt(d.attributes.degree,10)):d.attributes.type==="path"&&(h.gradient="path",h.center={left:d.attributes.left?parseFloat(d.attributes.left):0,top:d.attributes.top?parseFloat(d.attributes.top):0},d.attributes.right!==d.attributes.left&&(h.center.right=d.attributes.right?parseFloat(d.attributes.right):0),d.attributes.bottom!==d.attributes.top&&(h.center.bottom=d.attributes.bottom?parseFloat(d.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends s{constructor(){super(),this.map={patternFill:new l,gradientFill:new o}}get tag(){return"fill"}render(d,h){switch(d.addRollback(),d.openNode("fill"),h.type){case"pattern":this.map.patternFill.render(d,h);break;case"gradient":this.map.gradientFill.render(d,h);break;default:return void d.rollback()}d.closeNode(),d.commit()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"fill":return this.model={},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(d){return u.validPatternValues[d]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((p,d)=>(p[d]=!0,p),{}),u.StopXform=c,u.PatternFillXform=l,u.GradientFillXform=o,n.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(e,n,i){const s=e("./color-xform"),a=e("../simple/boolean-xform"),c=e("../simple/integer-xform"),l=e("../simple/string-xform"),o=e("./underline-xform"),u=e("../../../utils/under-dash"),p=e("../base-xform");class d extends p{constructor(g){super(),this.options=g||d.OPTIONS,this.map={b:{prop:"bold",xform:new a({tag:"b",attr:"val"})},i:{prop:"italic",xform:new a({tag:"i",attr:"val"})},u:{prop:"underline",xform:new o},charset:{prop:"charset",xform:new c({tag:"charset",attr:"val"})},color:{prop:"color",xform:new s},condense:{prop:"condense",xform:new a({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new a({tag:"extend",attr:"val"})},family:{prop:"family",xform:new c({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new a({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new a({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new a({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new c({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,b){const{map:m}=this;g.openNode(this.options.tagName),u.each(this.map,(y,v)=>{m[v].xform.render(g,b[y.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const b=this.map[g];return this.parser.model&&(this.model[b.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}d.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=d},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../../defaultnumformats"),c=e("../base-xform"),l=function(){const u={};return s.each(a,(p,d)=>{p.f&&(u[p.f]=parseInt(d,10))}),u}();class o extends c{constructor(p,d){super(),this.id=p,this.formatCode=d}get tag(){return"numFmt"}render(p,d){p.leafNode("numFmt",{numFmtId:d.id,formatCode:d.formatCode})}parseOpen(p){switch(p.name){case"numFmt":return this.model={id:parseInt(p.attributes.numFmtId,10),formatCode:p.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}o.getDefaultFmtId=function(u){return l[u]},o.getDefaultFmtCode=function(u){return a[u]&&a[u].f},n.exports=o},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,n,i){const s=e("../base-xform"),a={boolean:(c,l)=>c===void 0?l:c};n.exports=class extends s{get tag(){return"protection"}render(c,l){c.addRollback(),c.openNode("protection");let o=!1;function u(p,d){d!==void 0&&(c.addAttribute(p,d),o=!0)}u("locked",a.boolean(l.locked,!0)?void 0:"0"),u("hidden",a.boolean(l.hidden,!1)?"1":void 0),c.closeNode(),o?c.commit():c.rollback()}parseOpen(c){const l={locked:c.attributes.locked!=="0",hidden:c.attributes.hidden==="1"},o=!l.locked||l.hidden;this.model=o?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,n,i){const s=e("../base-xform"),a=e("./alignment-xform"),c=e("./protection-xform");n.exports=class extends s{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new a,protection:new c}}get tag(){return"xf"}render(l,o){l.openNode("xf",{numFmtId:o.numFmtId||0,fontId:o.fontId||0,fillId:o.fillId||0,borderId:o.borderId||0}),this.xfId&&l.addAttribute("xfId",o.xfId||0),o.numFmtId&&l.addAttribute("applyNumberFormat","1"),o.fontId&&l.addAttribute("applyFont","1"),o.fillId&&l.addAttribute("applyFill","1"),o.borderId&&l.addAttribute("applyBorder","1"),o.alignment&&l.addAttribute("applyAlignment","1"),o.protection&&l.addAttribute("applyProtection","1"),o.alignment&&this.map.alignment.render(l,o.alignment),o.protection&&this.map.protection.render(l,o.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,n,i){const s=e("../../../doc/enums"),a=e("../../../utils/xml-stream"),c=e("../base-xform"),l=e("../static-xform"),o=e("../list-xform"),u=e("./font-xform"),p=e("./fill-xform"),d=e("./border-xform"),h=e("./numfmt-xform"),g=e("./style-xform"),b=e("./dxf-xform");class m extends c{constructor(v){super(),this.map={numFmts:new o({tag:"numFmts",count:!0,childXform:new h}),fonts:new o({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new o({tag:"fills",count:!0,childXform:new p}),borders:new o({tag:"borders",count:!0,childXform:new d}),cellStyleXfs:new o({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new o({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new o({tag:"dxfs",always:!0,count:!0,childXform:new b}),numFmt:new h,font:new u,fill:new p,border:new d,style:new g({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},v&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(v,w){w=w||this.model,v.openXml(a.StdDocAttributes),v.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(w.numFmts&&w.numFmts.length&&(v.openNode("numFmts",{count:w.numFmts.length}),w.numFmts.forEach(E=>{v.writeXml(E)}),v.closeNode()),w.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),v.openNode("fonts",{count:w.fonts.length,"x14ac:knownFonts":1}),w.fonts.forEach(E=>{v.writeXml(E)}),v.closeNode(),v.openNode("fills",{count:w.fills.length}),w.fills.forEach(E=>{v.writeXml(E)}),v.closeNode(),v.openNode("borders",{count:w.borders.length}),w.borders.forEach(E=>{v.writeXml(E)}),v.closeNode(),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),v.openNode("cellXfs",{count:w.styles.length}),w.styles.forEach(E=>{v.writeXml(E)}),v.closeNode()):(this.map.numFmts.render(v,w.numFmts),this.map.fonts.render(v,w.fonts),this.map.fills.render(v,w.fills),this.map.borders.render(v,w.borders),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(v,w.styles)),m.STATIC_XFORMS.cellStyles.render(v),this.map.dxfs.render(v,w.dxfs),m.STATIC_XFORMS.tableStyles.render(v),m.STATIC_XFORMS.extLst.render(v),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;switch(v.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"styleSheet":{this.model={};const w=(E,A)=>{A.model&&A.model.length&&(this.model[E]=A.model)};if(w("numFmts",this.map.numFmts),w("fonts",this.map.fonts),w("fills",this.map.fills),w("borders",this.map.borders),w("styles",this.map.cellXfs),w("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const E=this.index.numFmt;this.model.numFmts.forEach(A=>{E[A.id]=A.formatCode})}return!1}default:return!0}}addStyleModel(v,w){if(!v)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(v))return this.weakMap.get(v);const E={};if(w=w||s.ValueType.Number,v.numFmt)E.numFmtId=this._addNumFmtStr(v.numFmt);else switch(w){case s.ValueType.Number:E.numFmtId=this._addNumFmtStr("General");break;case s.ValueType.Date:E.numFmtId=this._addNumFmtStr("mm-dd-yy")}v.font&&(E.fontId=this._addFont(v.font)),v.border&&(E.borderId=this._addBorder(v.border)),v.fill&&(E.fillId=this._addFill(v.fill)),v.alignment&&(E.alignment=v.alignment),v.protection&&(E.protection=v.protection);const A=this._addStyle(E);return this.weakMap&&this.weakMap.set(v,A),A}getStyleModel(v){const w=this.model.styles[v];if(!w)return null;let E=this.index.model[v];if(E)return E;if(E=this.index.model[v]={},w.numFmtId){const D=this.index.numFmt[w.numFmtId]||h.getDefaultFmtCode(w.numFmtId);D&&(E.numFmt=D)}function A(D,L,C){if(C||C===0){const M=L[C];M&&(E[D]=M)}}return A("font",this.model.fonts,w.fontId),A("border",this.model.borders,w.borderId),A("fill",this.model.fills,w.fillId),w.alignment&&(E.alignment=w.alignment),w.protection&&(E.protection=w.protection),E}addDxfStyle(v){return v.numFmt&&(v.numFmtId=this._addNumFmtStr(v.numFmt)),this.model.dxfs.push(v),this.model.dxfs.length-1}getDxfStyle(v){return this.model.dxfs[v]}_addStyle(v){const w=this.map.style.toXml(v);let E=this.index.style[w];return E===void 0&&(E=this.index.style[w]=this.model.styles.length,this.model.styles.push(w)),E}_addNumFmtStr(v){let w=h.getDefaultFmtId(v);if(w!==void 0||(w=this.index.numFmt[v],w!==void 0))return w;w=this.index.numFmt[v]=164+this.model.numFmts.length;const E=this.map.numFmt.toXml({id:w,formatCode:v});return this.model.numFmts.push(E),w}_addFont(v){const w=this.map.font.toXml(v);let E=this.index.font[w];return E===void 0&&(E=this.index.font[w]=this.model.fonts.length,this.model.fonts.push(w)),E}_addBorder(v){const w=this.map.border.toXml(v);let E=this.index.border[w];return E===void 0&&(E=this.index.border[w]=this.model.borders.length,this.model.borders.push(w)),E}_addFill(v){const w=this.map.fill.toXml(v);let E=this.index.fill[w];return E===void 0&&(E=this.index.fill[w]=this.model.fills.length,this.model.fills.push(w)),E}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(y){return y.autodrain(),Promise.resolve()}addStyleModel(y,v){switch(v){case s.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const y={numFmtId:h.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(y)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,n,i){const s=e("../base-xform");class a extends s{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,o){if((o=o||this.model)===!0)l.leafNode("u");else{const u=a.Attributes[o];u&&l.leafNode("u",u)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}a.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=a},{"../base-xform":32}],137:[function(e,n,i){const s=e("../base-xform"),a=e("./filter-column-xform");n.exports=class extends s{constructor(){super(),this.map={filterColumn:new a}}get tag(){return"autoFilter"}prepare(c){c.columns.forEach((l,o)=>{this.map.filterColumn.prepare(l,{index:o})})}render(c,l){return c.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(o=>{this.map.filterColumn.render(c,o)}),c.closeNode(),!0}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:return this.model={autoFilterRef:c.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"customFilter"}render(a,c){a.leafNode(this.tag,{val:c.val,operator:c.operator})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val,operator:a.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,n,i){const s=e("../base-xform"),a=e("../list-xform"),c=e("./custom-filter-xform"),l=e("./filter-xform");n.exports=class extends s{constructor(){super(),this.map={customFilters:new a({tag:"customFilters",count:!1,empty:!0,childXform:new c}),filters:new a({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(o,u){o.colId=u.index.toString()}render(o,u){return u.customFilters?(o.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(o,u.customFilters),o.closeNode(),!0):(o.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;const{attributes:u}=o;switch(o.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"filter"}render(a,c){a.leafNode(this.tag,{val:c.val})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"tableColumn"}prepare(a,c){a.id=c.index+1}render(a,c){return a.leafNode(this.tag,{id:c.id.toString(),name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:c}=a;return this.model={name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"tableStyleInfo"}render(a,c){return a.leafNode(this.tag,{name:c.theme?c.theme:void 0,showFirstColumn:c.showFirstColumn?"1":"0",showLastColumn:c.showLastColumn?"1":"0",showRowStripes:c.showRowStripes?"1":"0",showColumnStripes:c.showColumnStripes?"1":"0"}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:c}=a;return this.model={theme:c.name?c.name:null,showFirstColumn:c.showFirstColumn==="1",showLastColumn:c.showLastColumn==="1",showRowStripes:c.showRowStripes==="1",showColumnStripes:c.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform"),c=e("../list-xform"),l=e("./auto-filter-xform"),o=e("./table-column-xform"),u=e("./table-style-info-xform");class p extends a{constructor(){super(),this.map={autoFilter:new l,tableColumns:new c({tag:"tableColumns",count:!0,empty:!0,childXform:new o}),tableStyleInfo:new u}}prepare(h,g){this.map.autoFilter.prepare(h),this.map.tableColumns.prepare(h.columns,g)}get tag(){return"table"}render(h,g){h.openXml(s.StdDocAttributes),h.openNode(this.tag,{...p.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(h,g),this.map.tableColumns.render(h,g.columns),this.map.tableStyleInfo.render(h,g.style),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;const{name:g,attributes:b}=h;switch(g){case this.tag:this.reset(),this.model={name:b.name,displayName:b.displayName||b.name,tableRef:b.ref,totalsRow:b.totalsRowCount==="1",headerRow:b.headerRowCount==="1"};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,b)=>{this.model.columns[b].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(h,g){h.columns.forEach(b=>{b.dxfId!==void 0&&(b.style=g.styles.getDxfStyle(b.dxfId))})}}p.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=p},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,n,i){(function(s,a){(function(){const c=e("fs"),l=e("jszip"),{PassThrough:o}=e("readable-stream"),u=e("../utils/zip-stream"),p=e("../utils/stream-buf"),d=e("../utils/utils"),h=e("../utils/xml-stream"),{bufferToString:g}=e("../utils/browser-buffer-decode"),b=e("./xform/style/styles-xform"),m=e("./xform/core/core-xform"),y=e("./xform/strings/shared-strings-xform"),v=e("./xform/core/relationships-xform"),w=e("./xform/core/content-types-xform"),E=e("./xform/core/app-xform"),A=e("./xform/book/workbook-xform"),D=e("./xform/sheet/worksheet-xform"),L=e("./xform/drawing/drawing-xform"),C=e("./xform/table/table-xform"),M=e("./xform/comment/comments-xform"),F=e("./xform/comment/vml-notes-xform"),$=e("./xml/theme1");class U{constructor(P){this.workbook=P}async readFile(P,N){if(!await d.fs.exists(P))throw new Error("File not found: "+P);const x=c.createReadStream(P);try{const S=await this.read(x,N);return x.close(),S}catch(S){throw x.close(),S}}parseRels(P){return new v().parseStream(P)}parseWorkbook(P){return new A().parseStream(P)}parseSharedStrings(P){return new y().parseStream(P)}reconcile(P,N){const x=new A,S=new D(N),_=new L,k=new C;x.reconcile(P);const T={media:P.media,mediaIndex:P.mediaIndex};Object.keys(P.drawings).forEach(q=>{const W=P.drawings[q],J=P.drawingRels[q];J&&(T.rels=J.reduce((z,X)=>(z[X.Id]=X,z),{}),(W.anchors||[]).forEach(z=>{const X=z.picture&&z.picture.hyperlinks;X&&T.rels[X.rId]&&(X.hyperlink=T.rels[X.rId].Target,delete X.rId)}),_.reconcile(W,T))});const B={styles:P.styles};Object.values(P.tables).forEach(q=>{k.reconcile(q,B)});const V={styles:P.styles,sharedStrings:P.sharedStrings,media:P.media,mediaIndex:P.mediaIndex,date1904:P.properties&&P.properties.date1904,drawings:P.drawings,comments:P.comments,tables:P.tables,vmlDrawings:P.vmlDrawings};P.worksheets.forEach(q=>{q.relationships=P.worksheetRels[q.sheetNo],S.reconcile(q,V)}),delete P.worksheetHash,delete P.worksheetRels,delete P.globalRels,delete P.sharedStrings,delete P.workbookRels,delete P.sheetDefs,delete P.styles,delete P.mediaIndex,delete P.drawings,delete P.drawingRels,delete P.vmlDrawings}async _processWorksheetEntry(P,N,x,S,_){const k=new D(S),T=await k.parseStream(P);T.sheetNo=x,N.worksheetHash[_]=T,N.worksheets.push(T)}async _processCommentEntry(P,N,x){const S=new M,_=await S.parseStream(P);N.comments[`../${x}.xml`]=_}async _processTableEntry(P,N,x){const S=new C,_=await S.parseStream(P);N.tables[`../tables/${x}.xml`]=_}async _processWorksheetRelsEntry(P,N,x){const S=new v,_=await S.parseStream(P);N.worksheetRels[x]=_}async _processMediaEntry(P,N,x){const S=x.lastIndexOf(".");if(S>=1){const _=x.substr(S+1),k=x.substr(0,S);await new Promise((T,B)=>{const V=new p;V.on("finish",()=>{N.mediaIndex[x]=N.media.length,N.mediaIndex[k]=N.media.length;const q={type:"image",name:k,extension:_,buffer:V.toBuffer()};N.media.push(q),T()}),P.on("error",q=>{B(q)}),P.pipe(V)})}}async _processDrawingEntry(P,N,x){const S=new L,_=await S.parseStream(P);N.drawings[x]=_}async _processDrawingRelsEntry(P,N,x){const S=new v,_=await S.parseStream(P);N.drawingRels[x]=_}async _processVmlDrawingEntry(P,N,x){const S=new F,_=await S.parseStream(P);N.vmlDrawings[`../drawings/${x}.vml`]=_}async _processThemeEntry(P,N,x){await new Promise((S,_)=>{const k=new p;P.on("error",_),k.on("error",_),k.on("finish",()=>{N.themes[x]=k.read().toString(),S()}),P.pipe(k)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(P,N){!P[Symbol.asyncIterator]&&P.pipe&&(P=P.pipe(new o));const x=[];for await(const S of P)x.push(S);return this.load(a.concat(x),N)}async load(P,N){let x;x=N&&N.base64?a.from(P.toString(),"base64"):P;const S={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},_=await l.loadAsync(x);for(const k of Object.values(_.files))if(!k.dir){let T,B=k.name;if(B[0]==="/"&&(B=B.substr(1)),B.match(/xl\/media\//)||B.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))T=new o,T.write(await k.async("nodebuffer"));else{let V;T=new o({writableObjectMode:!0,readableObjectMode:!0}),V=s.browser?g(await k.async("nodebuffer")):await k.async("string");const q=16384;for(let W=0;W<V.length;W+=q)T.write(V.substring(W,W+q))}switch(T.end(),B){case"_rels/.rels":S.globalRels=await this.parseRels(T);break;case"xl/workbook.xml":{const V=await this.parseWorkbook(T);S.sheets=V.sheets,S.definedNames=V.definedNames,S.views=V.views,S.properties=V.properties,S.calcProperties=V.calcProperties;break}case"xl/_rels/workbook.xml.rels":S.workbookRels=await this.parseRels(T);break;case"xl/sharedStrings.xml":S.sharedStrings=new y,await S.sharedStrings.parseStream(T);break;case"xl/styles.xml":S.styles=new b,await S.styles.parseStream(T);break;case"docProps/app.xml":{const V=new E,q=await V.parseStream(T);S.company=q.company,S.manager=q.manager;break}case"docProps/core.xml":{const V=new m,q=await V.parseStream(T);Object.assign(S,q);break}default:{let V=B.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(V){await this._processWorksheetEntry(T,S,V[1],N,B);break}if(V=B.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),V){await this._processWorksheetRelsEntry(T,S,V[1]);break}if(V=B.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),V){await this._processThemeEntry(T,S,V[1]);break}if(V=B.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),V){await this._processMediaEntry(T,S,V[1]);break}if(V=B.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),V){await this._processDrawingEntry(T,S,V[1]);break}if(V=B.match(/xl\/(comments\d+)[.]xml/),V){await this._processCommentEntry(T,S,V[1]);break}if(V=B.match(/xl\/tables\/(table\d+)[.]xml/),V){await this._processTableEntry(T,S,V[1]);break}if(V=B.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),V){await this._processDrawingRelsEntry(T,S,V[1]);break}if(V=B.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),V){await this._processVmlDrawingEntry(T,S,V[1]);break}}}}return this.reconcile(S,N),this.workbook.model=S,this.workbook}async addMedia(P,N){await Promise.all(N.media.map(async x=>{if(x.type==="image"){const S=`xl/media/${x.name}.${x.extension}`;if(x.filename){const _=await function(k,T){return new Promise((B,V)=>{c.readFile(k,T,(q,W)=>{q?V(q):B(W)})})}(x.filename);return P.append(_,{name:S})}if(x.buffer)return P.append(x.buffer,{name:S});if(x.base64){const _=x.base64,k=_.substring(_.indexOf(",")+1);return P.append(k,{name:S,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(P,N){const x=new L,S=new v;N.worksheets.forEach(_=>{const{drawing:k}=_;if(k){x.prepare(k,{});let T=x.toXml(k);P.append(T,{name:`xl/drawings/${k.name}.xml`}),T=S.toXml(k.rels),P.append(T,{name:`xl/drawings/_rels/${k.name}.xml.rels`})}})}addTables(P,N){const x=new C;N.worksheets.forEach(S=>{const{tables:_}=S;_.forEach(k=>{x.prepare(k,{});const T=x.toXml(k);P.append(T,{name:"xl/tables/"+k.target})})})}async addContentTypes(P,N){const x=new w().toXml(N);P.append(x,{name:"[Content_Types].xml"})}async addApp(P,N){const x=new E().toXml(N);P.append(x,{name:"docProps/app.xml"})}async addCore(P,N){const x=new m;P.append(x.toXml(N),{name:"docProps/core.xml"})}async addThemes(P,N){const x=N.themes||{theme1:$};Object.keys(x).forEach(S=>{const _=x[S],k=`xl/theme/${S}.xml`;P.append(_,{name:k})})}async addOfficeRels(P){const N=new v().toXml([{Id:"rId1",Type:U.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:U.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:U.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);P.append(N,{name:"_rels/.rels"})}async addWorkbookRels(P,N){let x=1;const S=[{Id:"rId"+x++,Type:U.RelType.Styles,Target:"styles.xml"},{Id:"rId"+x++,Type:U.RelType.Theme,Target:"theme/theme1.xml"}];N.sharedStrings.count&&S.push({Id:"rId"+x++,Type:U.RelType.SharedStrings,Target:"sharedStrings.xml"}),N.worksheets.forEach(k=>{k.rId="rId"+x++,S.push({Id:k.rId,Type:U.RelType.Worksheet,Target:`worksheets/sheet${k.id}.xml`})});const _=new v().toXml(S);P.append(_,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(P,N){N.sharedStrings&&N.sharedStrings.count&&P.append(N.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(P,N){const{xml:x}=N.styles;x&&P.append(x,{name:"xl/styles.xml"})}async addWorkbook(P,N){const x=new A;P.append(x.toXml(N),{name:"xl/workbook.xml"})}async addWorksheets(P,N){const x=new D,S=new v,_=new M,k=new F;N.worksheets.forEach(T=>{let B=new h;x.render(B,T),P.append(B.xml,{name:`xl/worksheets/sheet${T.id}.xml`}),T.rels&&T.rels.length&&(B=new h,S.render(B,T.rels),P.append(B.xml,{name:`xl/worksheets/_rels/sheet${T.id}.xml.rels`})),T.comments.length>0&&(B=new h,_.render(B,T),P.append(B.xml,{name:`xl/comments${T.id}.xml`}),B=new h,k.render(B,T),P.append(B.xml,{name:`xl/drawings/vmlDrawing${T.id}.vml`}))})}_finalize(P){return new Promise((N,x)=>{P.on("finish",()=>{N(this)}),P.on("error",x),P.finalize()})}prepareModel(P,N){P.creator=P.creator||"ExcelJS",P.lastModifiedBy=P.lastModifiedBy||"ExcelJS",P.created=P.created||new Date,P.modified=P.modified||new Date,P.useSharedStrings=N.useSharedStrings===void 0||N.useSharedStrings,P.useStyles=N.useStyles===void 0||N.useStyles,P.sharedStrings=new y,P.styles=P.useStyles?new b(!0):new b.Mock;const x=new A,S=new D;x.prepare(P);const _={sharedStrings:P.sharedStrings,styles:P.styles,date1904:P.properties.date1904,drawingsCount:0,media:P.media};_.drawings=P.drawings=[],_.commentRefs=P.commentRefs=[];let k=0;P.tables=[],P.worksheets.forEach(T=>{T.tables.forEach(B=>{k++,B.target=`table${k}.xml`,B.id=k,P.tables.push(B)}),S.prepare(T,_)})}async write(P,N){N=N||{};const{model:x}=this.workbook,S=new u.ZipWriter(N.zip);return S.pipe(P),this.prepareModel(x,N),await this.addContentTypes(S,x),await this.addOfficeRels(S,x),await this.addWorkbookRels(S,x),await this.addWorksheets(S,x),await this.addSharedStrings(S,x),await this.addDrawings(S,x),await this.addTables(S,x),await Promise.all([this.addThemes(S,x),this.addStyles(S,x)]),await this.addMedia(S,x),await Promise.all([this.addApp(S,x),this.addCore(S,x)]),await this.addWorkbook(S,x),this._finalize(S)}writeFile(P,N){const x=c.createWriteStream(P);return new Promise((S,_)=>{x.on("finish",()=>{S()}),x.on("error",k=>{_(k)}),this.write(x,N).then(()=>{x.end()}).catch(k=>{_(k)})})}async writeBuffer(P){const N=new p;return await this.write(N,P),N.read()}}U.RelType=e("./rel-type"),n.exports=U}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,n,i){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;const a=e("stream"),c=e("./formatter");class l extends a.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new c.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,p,d){let h=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(g,b)=>g?(h=!0,d(g)):(b&&b.forEach(m=>{this.push(s.from(m,"utf8"))}),h=!0,d()))}catch(g){if(h)throw g;d(g)}}_flush(u){this.rowFormatter.finish((p,d)=>p?u(p):(d&&d.forEach(h=>{this.push(s.from(h,"utf8"))}),u()))}}i.CsvFormatterStream=l}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=class{constructor(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var a;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,s||{}),(s==null?void 0:s.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(s==null?void 0:s.quote)===!0?this.quote='"':(s==null?void 0:s.quote)===!1&&(this.quote=""),typeof(s==null?void 0:s.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((a=s.writeHeaders)===null||a===void 0||a),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,n,i){var s=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;const a=s(e("lodash.isboolean")),c=s(e("lodash.isnil")),l=s(e("lodash.escaperegexp"));i.FieldFormatter=class{constructor(o){this._headers=null,this.formatterOptions=o,o.headers!==null&&(this.headers=o.headers),this.REPLACE_REGEXP=new RegExp(o.quote,"g");const u=`[${o.delimiter}${l.default(o.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(o){this._headers=o}shouldQuote(o,u){const p=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return a.default(p)?p:Array.isArray(p)?p[o]:this._headers!==null&&p[this._headers[o]]}format(o,u,p){const d=(""+(c.default(o)?"":o)).replace(/\0/g,""),{formatterOptions:h}=this;return h.quote!==""&&d.indexOf(h.quote)!==-1?this.quoteField(d.replace(this.REPLACE_REGEXP,h.escapedQuote)):d.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,p)?this.quoteField(d):d}quoteField(o){const{quote:u}=this.formatterOptions;return`${u}${o}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,n,i){var s=function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;const a=s(e("lodash.isfunction")),c=s(e("lodash.isequal")),l=e("./FieldFormatter"),o=e("../types");class u{constructor(d){this.rowCount=0,this.formatterOptions=d,this.fieldFormatter=new l.FieldFormatter(d),this.headers=d.headers,this.shouldWriteHeaders=d.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),d.transform&&(this.rowTransform=d.transform)}static isRowHashArray(d){return!!Array.isArray(d)&&Array.isArray(d[0])&&d[0].length===2}static isRowArray(d){return Array.isArray(d)&&!this.isRowHashArray(d)}static gatherHeaders(d){return u.isRowHashArray(d)?d.map(h=>h[0]):Array.isArray(d)?d:Object.keys(d)}static createTransform(d){return o.isSyncTransform(d)?(h,g)=>{let b=null;try{b=d(h)}catch(m){return g(m)}return g(null,b)}:(h,g)=>{d(h,g)}}set rowTransform(d){if(!a.default(d))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(d)}format(d,h){this.callTransformer(d,(g,b)=>{if(g)return h(g);if(!d)return h(null);const m=[];if(b){const{shouldFormatColumns:y,headers:v}=this.checkHeaders(b);if(this.shouldWriteHeaders&&v&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(v,!0)),this.hasWrittenHeaders=!0),y){const w=this.gatherColumns(b);m.push(this.formatColumns(w,!1))}}return h(null,m)})}finish(d){const h=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return d(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));h.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&h.push(this.formatterOptions.rowDelimiter),d(null,h)}checkHeaders(d){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const h=u.gatherHeaders(d);return this.headers=h,this.fieldFormatter.headers=h,this.shouldWriteHeaders?{shouldFormatColumns:!c.default(h,d),headers:h}:{shouldFormatColumns:!0,headers:null}}gatherColumns(d){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(d)?u.isRowHashArray(d)?this.headers.map((h,g)=>{const b=d[g];return b?b[1]:""}):u.isRowArray(d)&&!this.shouldWriteHeaders?d:this.headers.map((h,g)=>d[g]):this.headers.map(h=>d[h])}callTransformer(d,h){return this._rowTransform?this._rowTransform(d,h):h(null,d)}formatColumns(d,h){const g=d.map((m,y)=>this.fieldFormatter.format(m,y,h)).join(this.formatterOptions.delimiter),{rowCount:b}=this;return this.rowCount+=1,b?[this.formatterOptions.rowDelimiter,g].join(""):g}}i.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=i.RowFormatter=void 0;var s=e("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return s.RowFormatter}});var a=e("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return a.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,n,i){(function(s){(function(){var a=Object.create?function(y,v,w,E){E===void 0&&(E=w),Object.defineProperty(y,E,{enumerable:!0,get:function(){return v[w]}})}:function(y,v,w,E){E===void 0&&(E=w),y[E]=v[w]},c=Object.create?function(y,v){Object.defineProperty(y,"default",{enumerable:!0,value:v})}:function(y,v){y.default=v},l=function(y){if(y&&y.__esModule)return y;var v={};if(y!=null)for(var w in y)w!=="default"&&Object.prototype.hasOwnProperty.call(y,w)&&a(v,y,w);return c(v,y),v},o=function(y,v){for(var w in y)w==="default"||Object.prototype.hasOwnProperty.call(v,w)||a(v,y,w)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=i.FormatterOptions=i.CsvFormatterStream=void 0;const u=e("util"),p=e("stream"),d=l(e("fs")),h=e("./FormatterOptions"),g=e("./CsvFormatterStream");o(e("./types"),i);var b=e("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return b.CsvFormatterStream}});var m=e("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),i.format=y=>new g.CsvFormatterStream(new h.FormatterOptions(y)),i.write=(y,v)=>{const w=i.format(v),E=u.promisify((A,D)=>{w.write(A,void 0,D)});return y.reduce((A,D)=>A.then(()=>E(D)),Promise.resolve()).then(()=>w.end()).catch(A=>{w.emit("error",A)}),w},i.writeToStream=(y,v,w)=>i.write(v,w).pipe(y),i.writeToBuffer=function(y){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const w=[],E=new p.Writable({write(A,D,L){w.push(A),L()}});return new Promise((A,D)=>{E.on("error",D).on("finish",()=>A(s.concat(w))),i.write(y,v).pipe(E)})},i.writeToString=(y,v)=>i.writeToBuffer(y,v).then(w=>w.toString()),i.writeToPath=(y,v,w)=>{const E=d.createWriteStream(y,{encoding:"utf8"});return i.write(v,w).pipe(E)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1},{}],153:[function(e,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;const a=e("string_decoder"),c=e("stream"),l=e("./transforms"),o=e("./parser");class u extends c.Transform{constructor(d){super({objectMode:d.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=d,this.parser=new o.Parser(d),this.headerTransformer=new l.HeaderTransformer(d),this.decoder=new a.StringDecoder(d.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(d){return this.rowTransformerValidator.rowTransform=d,this}validate(d){return this.rowTransformerValidator.rowValidator=d,this}emit(d){if(d==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var h=arguments.length,g=new Array(h>1?h-1:0),b=1;b<h;b++)g[b-1]=arguments[b];return super.emit(d,...g)}_transform(d,h,g){if(this.hasHitRowLimit)return g();const b=u.wrapDoneCallback(g);try{const{lines:m}=this,y=m+this.decoder.write(d),v=this.parse(y,!0);return this.processRows(v,b)}catch(m){return b(m)}}_flush(d){const h=u.wrapDoneCallback(d);if(this.hasHitRowLimit)return h();try{const g=this.lines+this.decoder.end(),b=this.parse(g,!1);return this.processRows(b,h)}catch(g){return h(g)}}parse(d,h){if(!d)return[];const{line:g,rows:b}=this.parser.parse(d,h);return this.lines=g,b}processRows(d,h){const g=d.length,b=m=>{const y=E=>E?h(E):m%100!=0?b(m+1):void s(()=>b(m+1));if(this.checkAndEmitHeaders(),m>=g||this.hasHitRowLimit)return h();if(this.parsedLineCount+=1,this.shouldSkipLine)return y();const v=d[m];this.rowCount+=1,this.parsedRowCount+=1;const w=this.rowCount;return this.transformRow(v,(E,A)=>{if(E)return this.rowCount-=1,y(E);if(!A)return y(new Error("expected transform result"));if(A.isValid){if(A.row)return this.pushRow(A.row,y)}else this.emit("data-invalid",A.row,w,A.reason);return y()})};b(0)}transformRow(d,h){try{this.headerTransformer.transform(d,(g,b)=>g?h(g):b?b.isValid?b.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(b.row,h):this.skipRow(h):(this.rowCount-=1,this.parsedRowCount-=1,h(null,{row:null,isValid:!0})):this.shouldEmitRows?h(null,{isValid:!1,row:d}):this.skipRow(h):h(new Error("Expected result from header transform")))}catch(g){h(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(d){return this.rowCount-=1,d(null,{row:null,isValid:!0})}pushRow(d,h){try{this.parserOptions.objectMode?this.push(d):this.push(JSON.stringify(d)),h()}catch(g){h(g)}}static wrapDoneCallback(d){let h=!1;return function(g){if(g){if(h)throw g;return h=!0,void d(g)}for(var b=arguments.length,m=new Array(b>1?b-1:0),y=1;y<b;y++)m[y-1]=arguments[y];d(...m)}}}i.CsvParserStream=u}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,n,i){var s=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;const a=s(e("lodash.escaperegexp")),c=s(e("lodash.isnil"));i.ParserOptions=class{constructor(l){var o;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=a.default(this.delimiter),this.escapeChar=(o=this.escape)!==null&&o!==void 0?o:this.quote,this.supportsComments=!c.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,n,i){var s=Object.create?function(b,m,y,v){v===void 0&&(v=y),Object.defineProperty(b,v,{enumerable:!0,get:function(){return m[y]}})}:function(b,m,y,v){v===void 0&&(v=y),b[v]=m[y]},a=Object.create?function(b,m){Object.defineProperty(b,"default",{enumerable:!0,value:m})}:function(b,m){b.default=m},c=function(b){if(b&&b.__esModule)return b;var m={};if(b!=null)for(var y in b)y!=="default"&&Object.prototype.hasOwnProperty.call(b,y)&&s(m,b,y);return a(m,b),m},l=function(b,m){for(var y in b)y==="default"||Object.prototype.hasOwnProperty.call(m,y)||s(m,b,y)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=i.ParserOptions=i.CsvParserStream=void 0;const o=c(e("fs")),u=e("stream"),p=e("./ParserOptions"),d=e("./CsvParserStream");l(e("./types"),i);var h=e("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return h.CsvParserStream}});var g=e("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),i.parse=b=>new d.CsvParserStream(new p.ParserOptions(b)),i.parseStream=(b,m)=>b.pipe(new d.CsvParserStream(new p.ParserOptions(m))),i.parseFile=function(b){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o.createReadStream(b).pipe(new d.CsvParserStream(new p.ParserOptions(m)))},i.parseString=(b,m)=>{const y=new u.Readable;return y.push(b),y.push(null),y.pipe(new d.CsvParserStream(new p.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;const s=e("./Scanner"),a=e("./RowParser"),c=e("./Token");class l{constructor(u){this.parserOptions=u,this.rowParser=new a.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,p){const d=new s.Scanner({line:l.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:p});return this.parserOptions.supportsComments?this.parseWithComments(d):this.parseWithoutComments(d)}parseWithoutComments(u){const p=[];let d=!0;for(;d;)d=this.parseRow(u,p);return{line:u.line,rows:p}}parseWithComments(u){const{parserOptions:p}=this,d=[];for(let h=u.nextCharacterToken;h!==null;h=u.nextCharacterToken)if(c.Token.isTokenComment(h,p)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:d};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:d};u.truncateToCursor()}else if(!this.parseRow(u,d))break;return{line:u.line,rows:d}}parseRow(u,p){if(!u.nextNonSpaceToken)return!1;const d=this.rowParser.parse(u);return d!==null&&(this.parserOptions.ignoreEmpty&&a.RowParser.isEmptyRow(d)||p.push(d),!0)}}i.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;const s=e("./column"),a=e("./Token");i.RowParser=class{constructor(c){this.parserOptions=c,this.columnParser=new s.ColumnParser(c)}static isEmptyRow(c){return c.join("").replace(/\s+/g,"")===""}parse(c){const{parserOptions:l}=this,{hasMoreData:o}=c,u=c,p=[];let d=this.getStartToken(u,p);for(;d;){if(a.Token.isTokenRowDelimiter(d))return u.advancePastToken(d),!u.hasMoreCharacters&&a.Token.isTokenCarriageReturn(d,l)&&o?null:(u.truncateToCursor(),p);if(!this.shouldSkipColumnParse(u,d,p)){const h=this.columnParser.parse(u);if(h===null)return null;p.push(h)}d=u.nextNonSpaceToken}return o?null:(u.truncateToCursor(),p)}getStartToken(c,l){const o=c.nextNonSpaceToken;return o!==null&&a.Token.isTokenDelimiter(o,this.parserOptions)?(l.push(""),c.nextNonSpaceToken):o}shouldSkipColumnParse(c,l,o){const{parserOptions:u}=this;if(a.Token.isTokenDelimiter(l,u)){c.advancePastToken(l);const p=c.nextCharacterToken;if(!c.hasMoreCharacters||p!==null&&a.Token.isTokenRowDelimiter(p)||p!==null&&a.Token.isTokenDelimiter(p,u))return o.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;const s=e("./Token"),a=/((?:\r\n)|\n|\r)/;i.Scanner=class{constructor(c){this.cursor=0,this.line=c.line,this.lineLength=this.line.length,this.parserOptions=c.parserOptions,this.hasMoreData=c.hasMoreData,this.cursor=c.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:c}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(c.search(l)===-1)return null;const o=l.exec(c);if(o==null)return null;const u=o[1],p=this.cursor+(o.index||0);return new s.Token({token:u,startCursor:p,endCursor:p+u.length-1})}get nextCharacterToken(){const{cursor:c,lineLength:l}=this;return l<=c?null:new s.Token({token:this.line[c],startCursor:c,endCursor:c})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const c=a.exec(this.lineFromCursor);return c?(this.cursor+=(c.index||0)+c[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(c){return this.cursor=c,this}advanceToToken(c){return this.cursor=c.startCursor,this}advancePastToken(c){return this.cursor=c.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0,i.Token=class{constructor(s){this.token=s.token,this.startCursor=s.startCursor,this.endCursor=s.endCursor}static isTokenRowDelimiter(s){const a=s.token;return a==="\r"||a===`
`||a===`\r
`}static isTokenCarriageReturn(s,a){return s.token===a.carriageReturn}static isTokenComment(s,a){return a.supportsComments&&!!s&&s.token===a.comment}static isTokenEscapeCharacter(s,a){return s.token===a.escapeChar}static isTokenQuote(s,a){return s.token===a.quote}static isTokenDelimiter(s,a){return s.token===a.delimiter}}},{}],160:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=class{constructor(s){s.trim?this.format=a=>a.trim():s.ltrim?this.format=a=>a.trimLeft():s.rtrim?this.format=a=>a.trimRight():this.format=a=>a}}},{}],161:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;const s=e("./NonQuotedColumnParser"),a=e("./QuotedColumnParser"),c=e("../Token");i.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new a.QuotedColumnParser(l),this.nonQuotedColumnParser=new s.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:o}=l;return o!==null&&c.Token.isTokenQuote(o,this.parserOptions)?(l.advanceToToken(o),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;const s=e("./ColumnFormatter"),a=e("../Token");i.NonQuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new s.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const{parserOptions:l}=this,o=[];let u=c.nextCharacterToken;for(;u&&!a.Token.isTokenDelimiter(u,l)&&!a.Token.isTokenRowDelimiter(u);u=c.nextCharacterToken)o.push(u.token),c.advancePastToken(u);return this.columnFormatter.format(o.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;const s=e("./ColumnFormatter"),a=e("../Token");i.QuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new s.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const l=c.cursor,{foundClosingQuote:o,col:u}=this.gatherDataBetweenQuotes(c);if(!o){if(c.advanceTo(l),!c.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${c.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(c),u}gatherDataBetweenQuotes(c){const{parserOptions:l}=this;let o=!1,u=!1;const p=[];let d=c.nextCharacterToken;for(;!u&&d!==null;d=c.nextCharacterToken){const h=a.Token.isTokenQuote(d,l);if(!o&&h)o=!0;else if(o)if(a.Token.isTokenEscapeCharacter(d,l)){c.advancePastToken(d);const g=c.nextCharacterToken;g!==null&&(a.Token.isTokenQuote(g,l)||a.Token.isTokenEscapeCharacter(g,l))?(p.push(g.token),d=g):h?u=!0:p.push(d.token)}else h?u=!0:p.push(d.token);c.advancePastToken(d)}return{col:this.columnFormatter.format(p.join("")),foundClosingQuote:u}}checkForMalformedColumn(c){const{parserOptions:l}=this,{nextNonSpaceToken:o}=c;if(o){const u=a.Token.isTokenDelimiter(o,l),p=a.Token.isTokenRowDelimiter(o);if(!u&&!p){const d=c.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${o.token}'. at '${d}`)}c.advanceToToken(o)}else c.hasMoreData||c.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=void 0;var s=e("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return s.ColumnParser}});var a=e("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}});var c=e("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}});var l=e("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=i.Token=i.Scanner=i.RowParser=i.Parser=void 0;var s=e("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return s.Parser}});var a=e("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return a.RowParser}});var c=e("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return c.Scanner}});var l=e("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return l.Token}});var o=e("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return o.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,n,i){var s=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;const a=s(e("lodash.isundefined")),c=s(e("lodash.isfunction")),l=s(e("lodash.uniq")),o=s(e("lodash.groupby"));i.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):c.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,p){return this.shouldMapRow(u)?p(null,this.processRow(u)):p(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:p}=this;if(!this.headersTransform&&p.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:p}=this;if(!p.discardUnmappedColumns&&u.length>this.headersLength){if(!p.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return p.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const p={},{headers:d,headersLength:h}=this;for(let g=0;g<h;g+=1){const b=d[g];if(!a.default(b)){const m=u[g];a.default(m)?p[b]="":p[b]=m}}return p}setHeaders(u){var p;const d=u.filter(h=>!!h);if(l.default(d).length!==d.length){const h=o.default(d),g=Object.keys(h).filter(b=>h[b].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((p=this.headers)===null||p===void 0?void 0:p.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,n,i){var s=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;const a=s(e("lodash.isfunction")),c=e("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return c.isSyncTransform(u)?(p,d)=>{let h=null;try{h=u(p)}catch(g){return d(g)}return d(null,h)}:u}static createValidator(u){return c.isSyncValidate(u)?(p,d)=>{d(null,{row:p,isValid:u(p)})}:(p,d)=>{u(p,(h,g,b)=>h?d(h):d(null,g?{row:p,isValid:g,reason:b}:{row:p,isValid:!1,reason:b}))}}set rowTransform(u){if(!a.default(u))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(u)}set rowValidator(u){if(!a.default(u))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(u)}transformAndValidate(u,p){return this.callTransformer(u,(d,h)=>d?p(d):h?this.callValidator(h,(g,b)=>g?p(g):b&&!b.isValid?p(null,{row:h,isValid:!1,reason:b.reason}):p(null,{row:h,isValid:!0})):p(null,{row:null,isValid:!0}))}callTransformer(u,p){return this._rowTransform?this._rowTransform(u,p):p(null,u)}callValidator(u,p){return this._rowValidator?this._rowValidator(u,p):p(null,{row:u,isValid:!0})}}i.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=i.RowTransformerValidator=void 0;var s=e("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return s.RowTransformerValidator}});var a=e("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return a.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1,i.isSyncValidate=s=>s.length===1},{}],170:[function(e,n,i){const s=i;s.bignum=e("bn.js"),s.define=e("./asn1/api").define,s.base=e("./asn1/base"),s.constants=e("./asn1/constants"),s.decoders=e("./asn1/decoders"),s.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,n,i){const s=e("./encoders"),a=e("./decoders"),c=e("inherits");function l(o,u){this.name=o,this.body=u,this.decoders={},this.encoders={}}i.define=function(o,u){return new l(o,u)},l.prototype._createNamed=function(o){const u=this.name;function p(d){this._initNamed(d,u)}return c(p,o),p.prototype._initNamed=function(d,h){o.call(this,d,h)},new p(this)},l.prototype._getDecoder=function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(a[o])),this.decoders[o]},l.prototype.decode=function(o,u,p){return this._getDecoder(u).decode(o,p)},l.prototype._getEncoder=function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(s[o])),this.encoders[o]},l.prototype.encode=function(o,u,p){return this._getEncoder(u).encode(o,p)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,n,i){const s=e("inherits"),a=e("../base/reporter").Reporter,c=e("safer-buffer").Buffer;function l(u,p){a.call(this,p),c.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function o(u,p){if(Array.isArray(u))this.length=0,this.value=u.map(function(d){return o.isEncoderBuffer(d)||(d=new o(d,p)),this.length+=d.length,d},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return p.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=c.byteLength(u);else{if(!c.isBuffer(u))return p.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}s(l,a),i.DecoderBuffer=l,l.isDecoderBuffer=function(u){return u instanceof l?!0:typeof u=="object"&&c.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},l.prototype.restore=function(u){const p=new l(this.base);return p.offset=u.offset,p.length=this.offset,this.offset=u.offset,a.prototype.restore.call(this,u.reporter),p},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},l.prototype.skip=function(u,p){if(!(this.offset+u<=this.length))return this.error(p||"DecoderBuffer overrun");const d=new l(this.base);return d._reporterState=this._reporterState,d.offset=this.offset,d.length=this.offset+u,this.offset+=u,d},l.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},i.EncoderBuffer=o,o.isEncoderBuffer=function(u){return u instanceof o?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},o.prototype.join=function(u,p){return u||(u=c.alloc(this.length)),p||(p=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(d){d.join(u,p),p+=d.length}):(typeof this.value=="number"?u[p]=this.value:typeof this.value=="string"?u.write(this.value,p):c.isBuffer(this.value)&&this.value.copy(u,p),p+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,n,i){const s=i;s.Reporter=e("./reporter").Reporter,s.DecoderBuffer=e("./buffer").DecoderBuffer,s.EncoderBuffer=e("./buffer").EncoderBuffer,s.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,n,i){const s=e("../base/reporter").Reporter,a=e("../base/buffer").EncoderBuffer,c=e("../base/buffer").DecoderBuffer,l=e("minimalistic-assert"),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function p(h,g,b){const m={};this._baseState=m,m.name=b,m.enc=h,m.parent=g||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}n.exports=p;const d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];p.prototype.clone=function(){const h=this._baseState,g={};d.forEach(function(m){g[m]=h[m]});const b=new this.constructor(g.parent);return b._baseState=g,b},p.prototype._wrap=function(){const h=this._baseState;u.forEach(function(g){this[g]=function(){const b=new this.constructor(this);return h.children.push(b),b[g].apply(b,arguments)}},this)},p.prototype._init=function(h){const g=this._baseState;l(g.parent===null),h.call(this),g.children=g.children.filter(function(b){return b._baseState.parent===this},this),l.equal(g.children.length,1,"Root node can have only one child")},p.prototype._useArgs=function(h){const g=this._baseState,b=h.filter(function(m){return m instanceof this.constructor},this);h=h.filter(function(m){return!(m instanceof this.constructor)},this),b.length!==0&&(l(g.children===null),g.children=b,b.forEach(function(m){m._baseState.parent=this},this)),h.length!==0&&(l(g.args===null),g.args=h,g.reverseArgs=h.map(function(m){if(typeof m!="object"||m.constructor!==Object)return m;const y={};return Object.keys(m).forEach(function(v){v==(0|v)&&(v|=0);const w=m[v];y[w]=v}),y}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(h){p.prototype[h]=function(){const g=this._baseState;throw new Error(h+" not implemented for encoding: "+g.enc)}}),o.forEach(function(h){p.prototype[h]=function(){const g=this._baseState,b=Array.prototype.slice.call(arguments);return l(g.tag===null),g.tag=h,this._useArgs(b),this}}),p.prototype.use=function(h){l(h);const g=this._baseState;return l(g.use===null),g.use=h,this},p.prototype.optional=function(){return this._baseState.optional=!0,this},p.prototype.def=function(h){const g=this._baseState;return l(g.default===null),g.default=h,g.optional=!0,this},p.prototype.explicit=function(h){const g=this._baseState;return l(g.explicit===null&&g.implicit===null),g.explicit=h,this},p.prototype.implicit=function(h){const g=this._baseState;return l(g.explicit===null&&g.implicit===null),g.implicit=h,this},p.prototype.obj=function(){const h=this._baseState,g=Array.prototype.slice.call(arguments);return h.obj=!0,g.length!==0&&this._useArgs(g),this},p.prototype.key=function(h){const g=this._baseState;return l(g.key===null),g.key=h,this},p.prototype.any=function(){return this._baseState.any=!0,this},p.prototype.choice=function(h){const g=this._baseState;return l(g.choice===null),g.choice=h,this._useArgs(Object.keys(h).map(function(b){return h[b]})),this},p.prototype.contains=function(h){const g=this._baseState;return l(g.use===null),g.contains=h,this},p.prototype._decode=function(h,g){const b=this._baseState;if(b.parent===null)return h.wrapResult(b.children[0]._decode(h,g));let m,y=b.default,v=!0,w=null;if(b.key!==null&&(w=h.enterKey(b.key)),b.optional){let E=null;if(b.explicit!==null?E=b.explicit:b.implicit!==null?E=b.implicit:b.tag!==null&&(E=b.tag),E!==null||b.any){if(v=this._peekTag(h,E,b.any),h.isError(v))return v}else{const A=h.save();try{b.choice===null?this._decodeGeneric(b.tag,h,g):this._decodeChoice(h,g),v=!0}catch{v=!1}h.restore(A)}}if(b.obj&&v&&(m=h.enterObject()),v){if(b.explicit!==null){const A=this._decodeTag(h,b.explicit);if(h.isError(A))return A;h=A}const E=h.offset;if(b.use===null&&b.choice===null){let A;b.any&&(A=h.save());const D=this._decodeTag(h,b.implicit!==null?b.implicit:b.tag,b.any);if(h.isError(D))return D;b.any?y=h.raw(A):h=D}if(g&&g.track&&b.tag!==null&&g.track(h.path(),E,h.length,"tagged"),g&&g.track&&b.tag!==null&&g.track(h.path(),h.offset,h.length,"content"),b.any||(y=b.choice===null?this._decodeGeneric(b.tag,h,g):this._decodeChoice(h,g)),h.isError(y))return y;if(b.any||b.choice!==null||b.children===null||b.children.forEach(function(A){A._decode(h,g)}),b.contains&&(b.tag==="octstr"||b.tag==="bitstr")){const A=new c(y);y=this._getUse(b.contains,h._reporterState.obj)._decode(A,g)}}return b.obj&&v&&(y=h.leaveObject(m)),b.key===null||y===null&&v!==!0?w!==null&&h.exitKey(w):h.leaveKey(w,b.key,y),y},p.prototype._decodeGeneric=function(h,g,b){const m=this._baseState;return h==="seq"||h==="set"?null:h==="seqof"||h==="setof"?this._decodeList(g,h,m.args[0],b):/str$/.test(h)?this._decodeStr(g,h,b):h==="objid"&&m.args?this._decodeObjid(g,m.args[0],m.args[1],b):h==="objid"?this._decodeObjid(g,null,null,b):h==="gentime"||h==="utctime"?this._decodeTime(g,h,b):h==="null_"?this._decodeNull(g,b):h==="bool"?this._decodeBool(g,b):h==="objDesc"?this._decodeStr(g,h,b):h==="int"||h==="enum"?this._decodeInt(g,m.args&&m.args[0],b):m.use!==null?this._getUse(m.use,g._reporterState.obj)._decode(g,b):g.error("unknown tag: "+h)},p.prototype._getUse=function(h,g){const b=this._baseState;return b.useDecoder=this._use(h,g),l(b.useDecoder._baseState.parent===null),b.useDecoder=b.useDecoder._baseState.children[0],b.implicit!==b.useDecoder._baseState.implicit&&(b.useDecoder=b.useDecoder.clone(),b.useDecoder._baseState.implicit=b.implicit),b.useDecoder},p.prototype._decodeChoice=function(h,g){const b=this._baseState;let m=null,y=!1;return Object.keys(b.choice).some(function(v){const w=h.save(),E=b.choice[v];try{const A=E._decode(h,g);if(h.isError(A))return!1;m={type:v,value:A},y=!0}catch{return h.restore(w),!1}return!0},this),y?m:h.error("Choice not matched")},p.prototype._createEncoderBuffer=function(h){return new a(h,this.reporter)},p.prototype._encode=function(h,g,b){const m=this._baseState;if(m.default!==null&&m.default===h)return;const y=this._encodeValue(h,g,b);return y===void 0||this._skipDefault(y,g,b)?void 0:y},p.prototype._encodeValue=function(h,g,b){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(h,g||new s);let y=null;if(this.reporter=g,m.optional&&h===void 0){if(m.default===null)return;h=m.default}let v=null,w=!1;if(m.any)y=this._createEncoderBuffer(h);else if(m.choice)y=this._encodeChoice(h,g);else if(m.contains)v=this._getUse(m.contains,b)._encode(h,g),w=!0;else if(m.children)v=m.children.map(function(E){if(E._baseState.tag==="null_")return E._encode(null,g,h);if(E._baseState.key===null)return g.error("Child should have a key");const A=g.enterKey(E._baseState.key);if(typeof h!="object")return g.error("Child expected, but input is not object");const D=E._encode(h[E._baseState.key],g,h);return g.leaveKey(A),D},this).filter(function(E){return E}),v=this._createEncoderBuffer(v);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return g.error("Too many args for : "+m.tag);if(!Array.isArray(h))return g.error("seqof/setof, but data is not Array");const E=this.clone();E._baseState.implicit=null,v=this._createEncoderBuffer(h.map(function(A){const D=this._baseState;return this._getUse(D.args[0],h)._encode(A,g)},E))}else m.use!==null?y=this._getUse(m.use,b)._encode(h,g):(v=this._encodePrimitive(m.tag,h),w=!0);if(!m.any&&m.choice===null){const E=m.implicit!==null?m.implicit:m.tag,A=m.implicit===null?"universal":"context";E===null?m.use===null&&g.error("Tag could be omitted only for .use()"):m.use===null&&(y=this._encodeComposite(E,w,A,v))}return m.explicit!==null&&(y=this._encodeComposite(m.explicit,!1,"context",y)),y},p.prototype._encodeChoice=function(h,g){const b=this._baseState,m=b.choice[h.type];return m||l(!1,h.type+" not found in "+JSON.stringify(Object.keys(b.choice))),m._encode(h.value,g)},p.prototype._encodePrimitive=function(h,g){const b=this._baseState;if(/str$/.test(h))return this._encodeStr(g,h);if(h==="objid"&&b.args)return this._encodeObjid(g,b.reverseArgs[0],b.args[1]);if(h==="objid")return this._encodeObjid(g,null,null);if(h==="gentime"||h==="utctime")return this._encodeTime(g,h);if(h==="null_")return this._encodeNull();if(h==="int"||h==="enum")return this._encodeInt(g,b.args&&b.reverseArgs[0]);if(h==="bool")return this._encodeBool(g);if(h==="objDesc")return this._encodeStr(g,h);throw new Error("Unsupported tag: "+h)},p.prototype._isNumstr=function(h){return/^[0-9 ]*$/.test(h)},p.prototype._isPrintstr=function(h){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(h)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,n,i){const s=e("inherits");function a(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function c(l,o){this.path=l,this.rethrow(o)}i.Reporter=a,a.prototype.isError=function(l){return l instanceof c},a.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},a.prototype.restore=function(l){const o=this._reporterState;o.obj=l.obj,o.path=o.path.slice(0,l.pathLen)},a.prototype.enterKey=function(l){return this._reporterState.path.push(l)},a.prototype.exitKey=function(l){const o=this._reporterState;o.path=o.path.slice(0,l-1)},a.prototype.leaveKey=function(l,o,u){const p=this._reporterState;this.exitKey(l),p.obj!==null&&(p.obj[o]=u)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){const l=this._reporterState,o=l.obj;return l.obj={},o},a.prototype.leaveObject=function(l){const o=this._reporterState,u=o.obj;return o.obj=l,u},a.prototype.error=function(l){let o;const u=this._reporterState,p=l instanceof c;if(o=p?l:new c(u.path.map(function(d){return"["+JSON.stringify(d)+"]"}).join(""),l.message||l,l.stack),!u.options.partial)throw o;return p||u.errors.push(o),o},a.prototype.wrapResult=function(l){const o=this._reporterState;return o.options.partial?{result:this.isError(l)?null:l,errors:o.errors}:l},s(c,Error),c.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,c),!this.stack)try{throw new Error(this.message)}catch(o){this.stack=o.stack}return this}},{inherits:440}],176:[function(e,n,i){function s(a){const c={};return Object.keys(a).forEach(function(l){(0|l)==l&&(l|=0);const o=a[l];c[o]=l}),c}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=s(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=s(i.tag)},{}],177:[function(e,n,i){const s=i;s._reverse=function(a){const c={};return Object.keys(a).forEach(function(l){(0|l)==l&&(l|=0);const o=a[l];c[o]=l}),c},s.der=e("./der")},{"./der":176}],178:[function(e,n,i){const s=e("inherits"),a=e("bn.js"),c=e("../base/buffer").DecoderBuffer,l=e("../base/node"),o=e("../constants/der");function u(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new p,this.tree._init(g.body)}function p(g){l.call(this,"der",g)}function d(g,b){let m=g.readUInt8(b);if(g.isError(m))return m;const y=o.tagClass[m>>6],v=(32&m)==0;if((31&m)==31){let w=m;for(m=0;(128&w)==128;){if(w=g.readUInt8(b),g.isError(w))return w;m<<=7,m|=127&w}}else m&=31;return{cls:y,primitive:v,tag:m,tagStr:o.tag[m]}}function h(g,b,m){let y=g.readUInt8(m);if(g.isError(y))return y;if(!b&&y===128)return null;if(!(128&y))return y;const v=127&y;if(v>4)return g.error("length octect is too long");y=0;for(let w=0;w<v;w++){y<<=8;const E=g.readUInt8(m);if(g.isError(E))return E;y|=E}return y}n.exports=u,u.prototype.decode=function(g,b){return c.isDecoderBuffer(g)||(g=new c(g,b)),this.tree._decode(g,b)},s(p,l),p.prototype._peekTag=function(g,b,m){if(g.isEmpty())return!1;const y=g.save(),v=d(g,'Failed to peek tag: "'+b+'"');return g.isError(v)?v:(g.restore(y),v.tag===b||v.tagStr===b||v.tagStr+"of"===b||m)},p.prototype._decodeTag=function(g,b,m){const y=d(g,'Failed to decode tag of "'+b+'"');if(g.isError(y))return y;let v=h(g,y.primitive,'Failed to get length of "'+b+'"');if(g.isError(v))return v;if(!m&&y.tag!==b&&y.tagStr!==b&&y.tagStr+"of"!==b)return g.error('Failed to match tag: "'+b+'"');if(y.primitive||v!==null)return g.skip(v,'Failed to match body of: "'+b+'"');const w=g.save(),E=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(E)?E:(v=g.offset-w.offset,g.restore(w),g.skip(v,'Failed to match body of: "'+b+'"'))},p.prototype._skipUntilEnd=function(g,b){for(;;){const m=d(g,b);if(g.isError(m))return m;const y=h(g,m.primitive,b);if(g.isError(y))return y;let v;if(v=m.primitive||y!==null?g.skip(y):this._skipUntilEnd(g,b),g.isError(v))return v;if(m.tagStr==="end")break}},p.prototype._decodeList=function(g,b,m,y){const v=[];for(;!g.isEmpty();){const w=this._peekTag(g,"end");if(g.isError(w))return w;const E=m.decode(g,"der",y);if(g.isError(E)&&w)break;v.push(E)}return v},p.prototype._decodeStr=function(g,b){if(b==="bitstr"){const m=g.readUInt8();return g.isError(m)?m:{unused:m,data:g.raw()}}if(b==="bmpstr"){const m=g.raw();if(m.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let y="";for(let v=0;v<m.length/2;v++)y+=String.fromCharCode(m.readUInt16BE(2*v));return y}if(b==="numstr"){const m=g.raw().toString("ascii");return this._isNumstr(m)?m:g.error("Decoding of string type: numstr unsupported characters")}if(b==="octstr"||b==="objDesc")return g.raw();if(b==="printstr"){const m=g.raw().toString("ascii");return this._isPrintstr(m)?m:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(b)?g.raw().toString():g.error("Decoding of string type: "+b+" unsupported")},p.prototype._decodeObjid=function(g,b,m){let y;const v=[];let w=0,E=0;for(;!g.isEmpty();)E=g.readUInt8(),w<<=7,w|=127&E,!(128&E)&&(v.push(w),w=0);128&E&&v.push(w);const A=v[0]/40|0,D=v[0]%40;if(y=m?v:[A,D].concat(v.slice(1)),b){let L=b[y.join(" ")];L===void 0&&(L=b[y.join(".")]),L!==void 0&&(y=L)}return y},p.prototype._decodeTime=function(g,b){const m=g.raw().toString();let y,v,w,E,A,D;if(b==="gentime")y=0|m.slice(0,4),v=0|m.slice(4,6),w=0|m.slice(6,8),E=0|m.slice(8,10),A=0|m.slice(10,12),D=0|m.slice(12,14);else{if(b!=="utctime")return g.error("Decoding "+b+" time is not supported yet");y=0|m.slice(0,2),v=0|m.slice(2,4),w=0|m.slice(4,6),E=0|m.slice(6,8),A=0|m.slice(8,10),D=0|m.slice(10,12),y=y<70?2e3+y:1900+y}return Date.UTC(y,v-1,w,E,A,D,0)},p.prototype._decodeNull=function(){return null},p.prototype._decodeBool=function(g){const b=g.readUInt8();return g.isError(b)?b:b!==0},p.prototype._decodeInt=function(g,b){const m=g.raw();let y=new a(m);return b&&(y=b[y.toString(10)]||y),y},p.prototype._use=function(g,b){return typeof g=="function"&&(g=g(b)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,n,i){const s=i;s.der=e("./der"),s.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,n,i){const s=e("inherits"),a=e("safer-buffer").Buffer,c=e("./der");function l(o){c.call(this,o),this.enc="pem"}s(l,c),n.exports=l,l.prototype.decode=function(o,u){const p=o.toString().split(/[\r\n]+/g),d=u.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,b=-1;for(let v=0;v<p.length;v++){const w=p[v].match(h);if(w!==null&&w[2]===d){if(g!==-1){if(w[1]!=="END")break;b=v;break}if(w[1]!=="BEGIN")break;g=v}}if(g===-1||b===-1)throw new Error("PEM section not found for: "+d);const m=p.slice(g+1,b).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const y=a.from(m,"base64");return c.prototype.decode.call(this,y,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,n,i){const s=e("inherits"),a=e("safer-buffer").Buffer,c=e("../base/node"),l=e("../constants/der");function o(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new u,this.tree._init(d.body)}function u(d){c.call(this,"der",d)}function p(d){return d<10?"0"+d:d}n.exports=o,o.prototype.encode=function(d,h){return this.tree._encode(d,h).join()},s(u,c),u.prototype._encodeComposite=function(d,h,g,b){const m=function(w,E,A,D){let L;if(w==="seqof"?w="seq":w==="setof"&&(w="set"),l.tagByName.hasOwnProperty(w))L=l.tagByName[w];else{if(typeof w!="number"||(0|w)!==w)return D.error("Unknown tag: "+w);L=w}return L>=31?D.error("Multi-octet tag encoding unsupported"):(E||(L|=32),L|=l.tagClassByName[A||"universal"]<<6,L)}(d,h,g,this.reporter);if(b.length<128){const w=a.alloc(2);return w[0]=m,w[1]=b.length,this._createEncoderBuffer([w,b])}let y=1;for(let w=b.length;w>=256;w>>=8)y++;const v=a.alloc(2+y);v[0]=m,v[1]=128|y;for(let w=1+y,E=b.length;E>0;w--,E>>=8)v[w]=255&E;return this._createEncoderBuffer([v,b])},u.prototype._encodeStr=function(d,h){if(h==="bitstr")return this._createEncoderBuffer([0|d.unused,d.data]);if(h==="bmpstr"){const g=a.alloc(2*d.length);for(let b=0;b<d.length;b++)g.writeUInt16BE(d.charCodeAt(b),2*b);return this._createEncoderBuffer(g)}return h==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):h==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(h)||h==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+h+" unsupported")},u.prototype._encodeObjid=function(d,h,g){if(typeof d=="string"){if(!h)return this.reporter.error("string objid given, but no values map found");if(!h.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=h[d].split(/[\s.]+/g);for(let v=0;v<d.length;v++)d[v]|=0}else if(Array.isArray(d)){d=d.slice();for(let v=0;v<d.length;v++)d[v]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!g){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,40*d[0]+d[1])}let b=0;for(let v=0;v<d.length;v++){let w=d[v];for(b++;w>=128;w>>=7)b++}const m=a.alloc(b);let y=m.length-1;for(let v=d.length-1;v>=0;v--){let w=d[v];for(m[y--]=127&w;(w>>=7)>0;)m[y--]=128|127&w}return this._createEncoderBuffer(m)},u.prototype._encodeTime=function(d,h){let g;const b=new Date(d);return h==="gentime"?g=[p(b.getUTCFullYear()),p(b.getUTCMonth()+1),p(b.getUTCDate()),p(b.getUTCHours()),p(b.getUTCMinutes()),p(b.getUTCSeconds()),"Z"].join(""):h==="utctime"?g=[p(b.getUTCFullYear()%100),p(b.getUTCMonth()+1),p(b.getUTCDate()),p(b.getUTCHours()),p(b.getUTCMinutes()),p(b.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+h+" time is not supported yet"),this._encodeStr(g,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(d,h){if(typeof d=="string"){if(!h)return this.reporter.error("String int or enum given, but no values map");if(!h.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=h[d]}if(typeof d!="number"&&!a.isBuffer(d)){const m=d.toArray();!d.sign&&128&m[0]&&m.unshift(0),d=a.from(m)}if(a.isBuffer(d)){let m=d.length;d.length===0&&m++;const y=a.alloc(m);return d.copy(y),d.length===0&&(y[0]=0),this._createEncoderBuffer(y)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);let g=1;for(let m=d;m>=256;m>>=8)g++;const b=new Array(g);for(let m=b.length-1;m>=0;m--)b[m]=255&d,d>>=8;return 128&b[0]&&b.unshift(0),this._createEncoderBuffer(a.from(b))},u.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},u.prototype._use=function(d,h){return typeof d=="function"&&(d=d(h)),d._getEncoder("der").tree},u.prototype._skipDefault=function(d,h,g){const b=this._baseState;let m;if(b.default===null)return!1;const y=d.join();if(b.defaultBuffer===void 0&&(b.defaultBuffer=this._encodeValue(b.default,h,g).join()),y.length!==b.defaultBuffer.length)return!1;for(m=0;m<y.length;m++)if(y[m]!==b.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,n,i){const s=i;s.der=e("./der"),s.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,n,i){const s=e("inherits"),a=e("./der");function c(l){a.call(this,l),this.enc="pem"}s(c,a),n.exports=c,c.prototype.encode=function(l,o){const u=a.prototype.encode.call(this,l).toString("base64"),p=["-----BEGIN "+o.label+"-----"];for(let d=0;d<u.length;d+=64)p.push(u.slice(d,d+64));return p.push("-----END "+o.label+"-----"),p.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,n,i){(function(s,a){function c(j,P){if(!j)throw new Error(P||"Assertion failed")}function l(j,P){j.super_=P;var N=function(){};N.prototype=P.prototype,j.prototype=new N,j.prototype.constructor=j}function o(j,P,N){if(o.isBN(j))return j;this.negative=0,this.words=null,this.length=0,this.red=null,j!==null&&(P!=="le"&&P!=="be"||(N=P,P=10),this._init(j||0,P||10,N||"be"))}var u;typeof s=="object"?s.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function p(j,P){var N=j.charCodeAt(P);return N>=65&&N<=70?N-55:N>=97&&N<=102?N-87:N-48&15}function d(j,P,N){var x=p(j,N);return N-1>=P&&(x|=p(j,N-1)<<4),x}function h(j,P,N,x){for(var S=0,_=Math.min(j.length,N),k=P;k<_;k++){var T=j.charCodeAt(k)-48;S*=x,S+=T>=49?T-49+10:T>=17?T-17+10:T}return S}o.isBN=function(j){return j instanceof o||j!==null&&typeof j=="object"&&j.constructor.wordSize===o.wordSize&&Array.isArray(j.words)},o.max=function(j,P){return j.cmp(P)>0?j:P},o.min=function(j,P){return j.cmp(P)<0?j:P},o.prototype._init=function(j,P,N){if(typeof j=="number")return this._initNumber(j,P,N);if(typeof j=="object")return this._initArray(j,P,N);P==="hex"&&(P=16),c(P===(0|P)&&P>=2&&P<=36);var x=0;(j=j.toString().replace(/\s+/g,""))[0]==="-"&&(x++,this.negative=1),x<j.length&&(P===16?this._parseHex(j,x,N):(this._parseBase(j,P,x),N==="le"&&this._initArray(this.toArray(),P,N)))},o.prototype._initNumber=function(j,P,N){j<0&&(this.negative=1,j=-j),j<67108864?(this.words=[67108863&j],this.length=1):j<4503599627370496?(this.words=[67108863&j,j/67108864&67108863],this.length=2):(c(j<9007199254740992),this.words=[67108863&j,j/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),P,N)},o.prototype._initArray=function(j,P,N){if(c(typeof j.length=="number"),j.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(j.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S,_,k=0;if(N==="be")for(x=j.length-1,S=0;x>=0;x-=3)_=j[x]|j[x-1]<<8|j[x-2]<<16,this.words[S]|=_<<k&67108863,this.words[S+1]=_>>>26-k&67108863,(k+=24)>=26&&(k-=26,S++);else if(N==="le")for(x=0,S=0;x<j.length;x+=3)_=j[x]|j[x+1]<<8|j[x+2]<<16,this.words[S]|=_<<k&67108863,this.words[S+1]=_>>>26-k&67108863,(k+=24)>=26&&(k-=26,S++);return this.strip()},o.prototype._parseHex=function(j,P,N){this.length=Math.ceil((j.length-P)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S,_=0,k=0;if(N==="be")for(x=j.length-1;x>=P;x-=2)S=d(j,P,x)<<_,this.words[k]|=67108863&S,_>=18?(_-=18,k+=1,this.words[k]|=S>>>26):_+=8;else for(x=(j.length-P)%2==0?P+1:P;x<j.length;x+=2)S=d(j,P,x)<<_,this.words[k]|=67108863&S,_>=18?(_-=18,k+=1,this.words[k]|=S>>>26):_+=8;this.strip()},o.prototype._parseBase=function(j,P,N){this.words=[0],this.length=1;for(var x=0,S=1;S<=67108863;S*=P)x++;x--,S=S/P|0;for(var _=j.length-N,k=_%x,T=Math.min(_,_-k)+N,B=0,V=N;V<T;V+=x)B=h(j,V,V+x,P),this.imuln(S),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(k!==0){var q=1;for(B=h(j,V,j.length,P),V=0;V<k;V++)q*=P;this.imuln(q),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this.strip()},o.prototype.copy=function(j){j.words=new Array(this.length);for(var P=0;P<this.length;P++)j.words[P]=this.words[P];j.length=this.length,j.negative=this.negative,j.red=this.red},o.prototype.clone=function(){var j=new o(null);return this.copy(j),j},o.prototype._expand=function(j){for(;this.length<j;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(j,P,N){N.negative=P.negative^j.negative;var x=j.length+P.length|0;N.length=x,x=x-1|0;var S=0|j.words[0],_=0|P.words[0],k=S*_,T=67108863&k,B=k/67108864|0;N.words[0]=T;for(var V=1;V<x;V++){for(var q=B>>>26,W=67108863&B,J=Math.min(V,P.length-1),z=Math.max(0,V-j.length+1);z<=J;z++){var X=V-z|0;q+=(k=(S=0|j.words[X])*(_=0|P.words[z])+W)/67108864|0,W=67108863&k}N.words[V]=0|W,B=0|q}return B!==0?N.words[V]=0|B:N.length--,N.strip()}o.prototype.toString=function(j,P){var N;if(P=0|P||1,(j=j||10)===16||j==="hex"){N="";for(var x=0,S=0,_=0;_<this.length;_++){var k=this.words[_],T=(16777215&(k<<x|S)).toString(16);N=(S=k>>>24-x&16777215)!==0||_!==this.length-1?g[6-T.length]+T+N:T+N,(x+=2)>=26&&(x-=26,_--)}for(S!==0&&(N=S.toString(16)+N);N.length%P!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(j===(0|j)&&j>=2&&j<=36){var B=b[j],V=m[j];N="";var q=this.clone();for(q.negative=0;!q.isZero();){var W=q.modn(V).toString(j);N=(q=q.idivn(V)).isZero()?W+N:g[B-W.length]+W+N}for(this.isZero()&&(N="0"+N);N.length%P!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}c(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var j=this.words[0];return this.length===2?j+=67108864*this.words[1]:this.length===3&&this.words[2]===1?j+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-j:j},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(j,P){return c(u!==void 0),this.toArrayLike(u,j,P)},o.prototype.toArray=function(j,P){return this.toArrayLike(Array,j,P)},o.prototype.toArrayLike=function(j,P,N){var x=this.byteLength(),S=N||Math.max(1,x);c(x<=S,"byte array longer than desired length"),c(S>0,"Requested array length <= 0"),this.strip();var _,k,T=P==="le",B=new j(S),V=this.clone();if(T){for(k=0;!V.isZero();k++)_=V.andln(255),V.iushrn(8),B[k]=_;for(;k<S;k++)B[k]=0}else{for(k=0;k<S-x;k++)B[k]=0;for(k=0;!V.isZero();k++)_=V.andln(255),V.iushrn(8),B[S-k-1]=_}return B},Math.clz32?o.prototype._countBits=function(j){return 32-Math.clz32(j)}:o.prototype._countBits=function(j){var P=j,N=0;return P>=4096&&(N+=13,P>>>=13),P>=64&&(N+=7,P>>>=7),P>=8&&(N+=4,P>>>=4),P>=2&&(N+=2,P>>>=2),N+P},o.prototype._zeroBits=function(j){if(j===0)return 26;var P=j,N=0;return!(8191&P)&&(N+=13,P>>>=13),!(127&P)&&(N+=7,P>>>=7),!(15&P)&&(N+=4,P>>>=4),!(3&P)&&(N+=2,P>>>=2),!(1&P)&&N++,N},o.prototype.bitLength=function(){var j=this.words[this.length-1],P=this._countBits(j);return 26*(this.length-1)+P},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var j=0,P=0;P<this.length;P++){var N=this._zeroBits(this.words[P]);if(j+=N,N!==26)break}return j},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(j){return this.negative!==0?this.abs().inotn(j).iaddn(1):this.clone()},o.prototype.fromTwos=function(j){return this.testn(j-1)?this.notn(j).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(j){for(;this.length<j.length;)this.words[this.length++]=0;for(var P=0;P<j.length;P++)this.words[P]=this.words[P]|j.words[P];return this.strip()},o.prototype.ior=function(j){return c((this.negative|j.negative)==0),this.iuor(j)},o.prototype.or=function(j){return this.length>j.length?this.clone().ior(j):j.clone().ior(this)},o.prototype.uor=function(j){return this.length>j.length?this.clone().iuor(j):j.clone().iuor(this)},o.prototype.iuand=function(j){var P;P=this.length>j.length?j:this;for(var N=0;N<P.length;N++)this.words[N]=this.words[N]&j.words[N];return this.length=P.length,this.strip()},o.prototype.iand=function(j){return c((this.negative|j.negative)==0),this.iuand(j)},o.prototype.and=function(j){return this.length>j.length?this.clone().iand(j):j.clone().iand(this)},o.prototype.uand=function(j){return this.length>j.length?this.clone().iuand(j):j.clone().iuand(this)},o.prototype.iuxor=function(j){var P,N;this.length>j.length?(P=this,N=j):(P=j,N=this);for(var x=0;x<N.length;x++)this.words[x]=P.words[x]^N.words[x];if(this!==P)for(;x<P.length;x++)this.words[x]=P.words[x];return this.length=P.length,this.strip()},o.prototype.ixor=function(j){return c((this.negative|j.negative)==0),this.iuxor(j)},o.prototype.xor=function(j){return this.length>j.length?this.clone().ixor(j):j.clone().ixor(this)},o.prototype.uxor=function(j){return this.length>j.length?this.clone().iuxor(j):j.clone().iuxor(this)},o.prototype.inotn=function(j){c(typeof j=="number"&&j>=0);var P=0|Math.ceil(j/26),N=j%26;this._expand(P),N>0&&P--;for(var x=0;x<P;x++)this.words[x]=67108863&~this.words[x];return N>0&&(this.words[x]=~this.words[x]&67108863>>26-N),this.strip()},o.prototype.notn=function(j){return this.clone().inotn(j)},o.prototype.setn=function(j,P){c(typeof j=="number"&&j>=0);var N=j/26|0,x=j%26;return this._expand(N+1),this.words[N]=P?this.words[N]|1<<x:this.words[N]&~(1<<x),this.strip()},o.prototype.iadd=function(j){var P,N,x;if(this.negative!==0&&j.negative===0)return this.negative=0,P=this.isub(j),this.negative^=1,this._normSign();if(this.negative===0&&j.negative!==0)return j.negative=0,P=this.isub(j),j.negative=1,P._normSign();this.length>j.length?(N=this,x=j):(N=j,x=this);for(var S=0,_=0;_<x.length;_++)P=(0|N.words[_])+(0|x.words[_])+S,this.words[_]=67108863&P,S=P>>>26;for(;S!==0&&_<N.length;_++)P=(0|N.words[_])+S,this.words[_]=67108863&P,S=P>>>26;if(this.length=N.length,S!==0)this.words[this.length]=S,this.length++;else if(N!==this)for(;_<N.length;_++)this.words[_]=N.words[_];return this},o.prototype.add=function(j){var P;return j.negative!==0&&this.negative===0?(j.negative=0,P=this.sub(j),j.negative^=1,P):j.negative===0&&this.negative!==0?(this.negative=0,P=j.sub(this),this.negative=1,P):this.length>j.length?this.clone().iadd(j):j.clone().iadd(this)},o.prototype.isub=function(j){if(j.negative!==0){j.negative=0;var P=this.iadd(j);return j.negative=1,P._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(j),this.negative=1,this._normSign();var N,x,S=this.cmp(j);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(N=this,x=j):(N=j,x=this);for(var _=0,k=0;k<x.length;k++)_=(P=(0|N.words[k])-(0|x.words[k])+_)>>26,this.words[k]=67108863&P;for(;_!==0&&k<N.length;k++)_=(P=(0|N.words[k])+_)>>26,this.words[k]=67108863&P;if(_===0&&k<N.length&&N!==this)for(;k<N.length;k++)this.words[k]=N.words[k];return this.length=Math.max(this.length,k),N!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(j){return this.clone().isub(j)};var v=function(j,P,N){var x,S,_,k=j.words,T=P.words,B=N.words,V=0,q=0|k[0],W=8191&q,J=q>>>13,z=0|k[1],X=8191&z,O=z>>>13,R=0|k[2],H=8191&R,G=R>>>13,ee=0|k[3],Z=8191&ee,te=ee>>>13,oe=0|k[4],le=8191&oe,Y=oe>>>13,ie=0|k[5],se=8191&ie,de=ie>>>13,ue=0|k[6],he=8191&ue,ge=ue>>>13,be=0|k[7],xe=8191&be,ke=be>>>13,Ne=0|k[8],Re=8191&Ne,$e=Ne>>>13,Ce=0|k[9],Le=8191&Ce,Be=Ce>>>13,Ae=0|T[0],Ee=8191&Ae,Fe=Ae>>>13,qe=0|T[1],ze=8191&qe,bt=qe>>>13,At=0|T[2],Ke=8191&At,vt=At>>>13,gt=0|T[3],nt=8191&gt,St=gt>>>13,kt=0|T[4],Xe=8191&kt,xt=kt>>>13,jt=0|T[5],rt=8191&jt,at=jt>>>13,Dt=0|T[6],it=8191&Dt,ce=Dt>>>13,fe=0|T[7],ye=8191&fe,Pe=fe>>>13,Je=0|T[8],Oe=8191&Je,et=Je>>>13,Ye=0|T[9],Ge=8191&Ye,st=Ye>>>13;N.negative=j.negative^P.negative,N.length=19;var Qe=(V+(x=Math.imul(W,Ee))|0)+((8191&(S=(S=Math.imul(W,Fe))+Math.imul(J,Ee)|0))<<13)|0;V=((_=Math.imul(J,Fe))+(S>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,x=Math.imul(X,Ee),S=(S=Math.imul(X,Fe))+Math.imul(O,Ee)|0,_=Math.imul(O,Fe);var ft=(V+(x=x+Math.imul(W,ze)|0)|0)+((8191&(S=(S=S+Math.imul(W,bt)|0)+Math.imul(J,ze)|0))<<13)|0;V=((_=_+Math.imul(J,bt)|0)+(S>>>13)|0)+(ft>>>26)|0,ft&=67108863,x=Math.imul(H,Ee),S=(S=Math.imul(H,Fe))+Math.imul(G,Ee)|0,_=Math.imul(G,Fe),x=x+Math.imul(X,ze)|0,S=(S=S+Math.imul(X,bt)|0)+Math.imul(O,ze)|0,_=_+Math.imul(O,bt)|0;var Gt=(V+(x=x+Math.imul(W,Ke)|0)|0)+((8191&(S=(S=S+Math.imul(W,vt)|0)+Math.imul(J,Ke)|0))<<13)|0;V=((_=_+Math.imul(J,vt)|0)+(S>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,x=Math.imul(Z,Ee),S=(S=Math.imul(Z,Fe))+Math.imul(te,Ee)|0,_=Math.imul(te,Fe),x=x+Math.imul(H,ze)|0,S=(S=S+Math.imul(H,bt)|0)+Math.imul(G,ze)|0,_=_+Math.imul(G,bt)|0,x=x+Math.imul(X,Ke)|0,S=(S=S+Math.imul(X,vt)|0)+Math.imul(O,Ke)|0,_=_+Math.imul(O,vt)|0;var Vt=(V+(x=x+Math.imul(W,nt)|0)|0)+((8191&(S=(S=S+Math.imul(W,St)|0)+Math.imul(J,nt)|0))<<13)|0;V=((_=_+Math.imul(J,St)|0)+(S>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,x=Math.imul(le,Ee),S=(S=Math.imul(le,Fe))+Math.imul(Y,Ee)|0,_=Math.imul(Y,Fe),x=x+Math.imul(Z,ze)|0,S=(S=S+Math.imul(Z,bt)|0)+Math.imul(te,ze)|0,_=_+Math.imul(te,bt)|0,x=x+Math.imul(H,Ke)|0,S=(S=S+Math.imul(H,vt)|0)+Math.imul(G,Ke)|0,_=_+Math.imul(G,vt)|0,x=x+Math.imul(X,nt)|0,S=(S=S+Math.imul(X,St)|0)+Math.imul(O,nt)|0,_=_+Math.imul(O,St)|0;var Zt=(V+(x=x+Math.imul(W,Xe)|0)|0)+((8191&(S=(S=S+Math.imul(W,xt)|0)+Math.imul(J,Xe)|0))<<13)|0;V=((_=_+Math.imul(J,xt)|0)+(S>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,x=Math.imul(se,Ee),S=(S=Math.imul(se,Fe))+Math.imul(de,Ee)|0,_=Math.imul(de,Fe),x=x+Math.imul(le,ze)|0,S=(S=S+Math.imul(le,bt)|0)+Math.imul(Y,ze)|0,_=_+Math.imul(Y,bt)|0,x=x+Math.imul(Z,Ke)|0,S=(S=S+Math.imul(Z,vt)|0)+Math.imul(te,Ke)|0,_=_+Math.imul(te,vt)|0,x=x+Math.imul(H,nt)|0,S=(S=S+Math.imul(H,St)|0)+Math.imul(G,nt)|0,_=_+Math.imul(G,St)|0,x=x+Math.imul(X,Xe)|0,S=(S=S+Math.imul(X,xt)|0)+Math.imul(O,Xe)|0,_=_+Math.imul(O,xt)|0;var sr=(V+(x=x+Math.imul(W,rt)|0)|0)+((8191&(S=(S=S+Math.imul(W,at)|0)+Math.imul(J,rt)|0))<<13)|0;V=((_=_+Math.imul(J,at)|0)+(S>>>13)|0)+(sr>>>26)|0,sr&=67108863,x=Math.imul(he,Ee),S=(S=Math.imul(he,Fe))+Math.imul(ge,Ee)|0,_=Math.imul(ge,Fe),x=x+Math.imul(se,ze)|0,S=(S=S+Math.imul(se,bt)|0)+Math.imul(de,ze)|0,_=_+Math.imul(de,bt)|0,x=x+Math.imul(le,Ke)|0,S=(S=S+Math.imul(le,vt)|0)+Math.imul(Y,Ke)|0,_=_+Math.imul(Y,vt)|0,x=x+Math.imul(Z,nt)|0,S=(S=S+Math.imul(Z,St)|0)+Math.imul(te,nt)|0,_=_+Math.imul(te,St)|0,x=x+Math.imul(H,Xe)|0,S=(S=S+Math.imul(H,xt)|0)+Math.imul(G,Xe)|0,_=_+Math.imul(G,xt)|0,x=x+Math.imul(X,rt)|0,S=(S=S+Math.imul(X,at)|0)+Math.imul(O,rt)|0,_=_+Math.imul(O,at)|0;var Nr=(V+(x=x+Math.imul(W,it)|0)|0)+((8191&(S=(S=S+Math.imul(W,ce)|0)+Math.imul(J,it)|0))<<13)|0;V=((_=_+Math.imul(J,ce)|0)+(S>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,x=Math.imul(xe,Ee),S=(S=Math.imul(xe,Fe))+Math.imul(ke,Ee)|0,_=Math.imul(ke,Fe),x=x+Math.imul(he,ze)|0,S=(S=S+Math.imul(he,bt)|0)+Math.imul(ge,ze)|0,_=_+Math.imul(ge,bt)|0,x=x+Math.imul(se,Ke)|0,S=(S=S+Math.imul(se,vt)|0)+Math.imul(de,Ke)|0,_=_+Math.imul(de,vt)|0,x=x+Math.imul(le,nt)|0,S=(S=S+Math.imul(le,St)|0)+Math.imul(Y,nt)|0,_=_+Math.imul(Y,St)|0,x=x+Math.imul(Z,Xe)|0,S=(S=S+Math.imul(Z,xt)|0)+Math.imul(te,Xe)|0,_=_+Math.imul(te,xt)|0,x=x+Math.imul(H,rt)|0,S=(S=S+Math.imul(H,at)|0)+Math.imul(G,rt)|0,_=_+Math.imul(G,at)|0,x=x+Math.imul(X,it)|0,S=(S=S+Math.imul(X,ce)|0)+Math.imul(O,it)|0,_=_+Math.imul(O,ce)|0;var ne=(V+(x=x+Math.imul(W,ye)|0)|0)+((8191&(S=(S=S+Math.imul(W,Pe)|0)+Math.imul(J,ye)|0))<<13)|0;V=((_=_+Math.imul(J,Pe)|0)+(S>>>13)|0)+(ne>>>26)|0,ne&=67108863,x=Math.imul(Re,Ee),S=(S=Math.imul(Re,Fe))+Math.imul($e,Ee)|0,_=Math.imul($e,Fe),x=x+Math.imul(xe,ze)|0,S=(S=S+Math.imul(xe,bt)|0)+Math.imul(ke,ze)|0,_=_+Math.imul(ke,bt)|0,x=x+Math.imul(he,Ke)|0,S=(S=S+Math.imul(he,vt)|0)+Math.imul(ge,Ke)|0,_=_+Math.imul(ge,vt)|0,x=x+Math.imul(se,nt)|0,S=(S=S+Math.imul(se,St)|0)+Math.imul(de,nt)|0,_=_+Math.imul(de,St)|0,x=x+Math.imul(le,Xe)|0,S=(S=S+Math.imul(le,xt)|0)+Math.imul(Y,Xe)|0,_=_+Math.imul(Y,xt)|0,x=x+Math.imul(Z,rt)|0,S=(S=S+Math.imul(Z,at)|0)+Math.imul(te,rt)|0,_=_+Math.imul(te,at)|0,x=x+Math.imul(H,it)|0,S=(S=S+Math.imul(H,ce)|0)+Math.imul(G,it)|0,_=_+Math.imul(G,ce)|0,x=x+Math.imul(X,ye)|0,S=(S=S+Math.imul(X,Pe)|0)+Math.imul(O,ye)|0,_=_+Math.imul(O,Pe)|0;var pe=(V+(x=x+Math.imul(W,Oe)|0)|0)+((8191&(S=(S=S+Math.imul(W,et)|0)+Math.imul(J,Oe)|0))<<13)|0;V=((_=_+Math.imul(J,et)|0)+(S>>>13)|0)+(pe>>>26)|0,pe&=67108863,x=Math.imul(Le,Ee),S=(S=Math.imul(Le,Fe))+Math.imul(Be,Ee)|0,_=Math.imul(Be,Fe),x=x+Math.imul(Re,ze)|0,S=(S=S+Math.imul(Re,bt)|0)+Math.imul($e,ze)|0,_=_+Math.imul($e,bt)|0,x=x+Math.imul(xe,Ke)|0,S=(S=S+Math.imul(xe,vt)|0)+Math.imul(ke,Ke)|0,_=_+Math.imul(ke,vt)|0,x=x+Math.imul(he,nt)|0,S=(S=S+Math.imul(he,St)|0)+Math.imul(ge,nt)|0,_=_+Math.imul(ge,St)|0,x=x+Math.imul(se,Xe)|0,S=(S=S+Math.imul(se,xt)|0)+Math.imul(de,Xe)|0,_=_+Math.imul(de,xt)|0,x=x+Math.imul(le,rt)|0,S=(S=S+Math.imul(le,at)|0)+Math.imul(Y,rt)|0,_=_+Math.imul(Y,at)|0,x=x+Math.imul(Z,it)|0,S=(S=S+Math.imul(Z,ce)|0)+Math.imul(te,it)|0,_=_+Math.imul(te,ce)|0,x=x+Math.imul(H,ye)|0,S=(S=S+Math.imul(H,Pe)|0)+Math.imul(G,ye)|0,_=_+Math.imul(G,Pe)|0,x=x+Math.imul(X,Oe)|0,S=(S=S+Math.imul(X,et)|0)+Math.imul(O,Oe)|0,_=_+Math.imul(O,et)|0;var we=(V+(x=x+Math.imul(W,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(W,st)|0)+Math.imul(J,Ge)|0))<<13)|0;V=((_=_+Math.imul(J,st)|0)+(S>>>13)|0)+(we>>>26)|0,we&=67108863,x=Math.imul(Le,ze),S=(S=Math.imul(Le,bt))+Math.imul(Be,ze)|0,_=Math.imul(Be,bt),x=x+Math.imul(Re,Ke)|0,S=(S=S+Math.imul(Re,vt)|0)+Math.imul($e,Ke)|0,_=_+Math.imul($e,vt)|0,x=x+Math.imul(xe,nt)|0,S=(S=S+Math.imul(xe,St)|0)+Math.imul(ke,nt)|0,_=_+Math.imul(ke,St)|0,x=x+Math.imul(he,Xe)|0,S=(S=S+Math.imul(he,xt)|0)+Math.imul(ge,Xe)|0,_=_+Math.imul(ge,xt)|0,x=x+Math.imul(se,rt)|0,S=(S=S+Math.imul(se,at)|0)+Math.imul(de,rt)|0,_=_+Math.imul(de,at)|0,x=x+Math.imul(le,it)|0,S=(S=S+Math.imul(le,ce)|0)+Math.imul(Y,it)|0,_=_+Math.imul(Y,ce)|0,x=x+Math.imul(Z,ye)|0,S=(S=S+Math.imul(Z,Pe)|0)+Math.imul(te,ye)|0,_=_+Math.imul(te,Pe)|0,x=x+Math.imul(H,Oe)|0,S=(S=S+Math.imul(H,et)|0)+Math.imul(G,Oe)|0,_=_+Math.imul(G,et)|0;var Se=(V+(x=x+Math.imul(X,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(X,st)|0)+Math.imul(O,Ge)|0))<<13)|0;V=((_=_+Math.imul(O,st)|0)+(S>>>13)|0)+(Se>>>26)|0,Se&=67108863,x=Math.imul(Le,Ke),S=(S=Math.imul(Le,vt))+Math.imul(Be,Ke)|0,_=Math.imul(Be,vt),x=x+Math.imul(Re,nt)|0,S=(S=S+Math.imul(Re,St)|0)+Math.imul($e,nt)|0,_=_+Math.imul($e,St)|0,x=x+Math.imul(xe,Xe)|0,S=(S=S+Math.imul(xe,xt)|0)+Math.imul(ke,Xe)|0,_=_+Math.imul(ke,xt)|0,x=x+Math.imul(he,rt)|0,S=(S=S+Math.imul(he,at)|0)+Math.imul(ge,rt)|0,_=_+Math.imul(ge,at)|0,x=x+Math.imul(se,it)|0,S=(S=S+Math.imul(se,ce)|0)+Math.imul(de,it)|0,_=_+Math.imul(de,ce)|0,x=x+Math.imul(le,ye)|0,S=(S=S+Math.imul(le,Pe)|0)+Math.imul(Y,ye)|0,_=_+Math.imul(Y,Pe)|0,x=x+Math.imul(Z,Oe)|0,S=(S=S+Math.imul(Z,et)|0)+Math.imul(te,Oe)|0,_=_+Math.imul(te,et)|0;var Ue=(V+(x=x+Math.imul(H,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(H,st)|0)+Math.imul(G,Ge)|0))<<13)|0;V=((_=_+Math.imul(G,st)|0)+(S>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,x=Math.imul(Le,nt),S=(S=Math.imul(Le,St))+Math.imul(Be,nt)|0,_=Math.imul(Be,St),x=x+Math.imul(Re,Xe)|0,S=(S=S+Math.imul(Re,xt)|0)+Math.imul($e,Xe)|0,_=_+Math.imul($e,xt)|0,x=x+Math.imul(xe,rt)|0,S=(S=S+Math.imul(xe,at)|0)+Math.imul(ke,rt)|0,_=_+Math.imul(ke,at)|0,x=x+Math.imul(he,it)|0,S=(S=S+Math.imul(he,ce)|0)+Math.imul(ge,it)|0,_=_+Math.imul(ge,ce)|0,x=x+Math.imul(se,ye)|0,S=(S=S+Math.imul(se,Pe)|0)+Math.imul(de,ye)|0,_=_+Math.imul(de,Pe)|0,x=x+Math.imul(le,Oe)|0,S=(S=S+Math.imul(le,et)|0)+Math.imul(Y,Oe)|0,_=_+Math.imul(Y,et)|0;var Te=(V+(x=x+Math.imul(Z,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(Z,st)|0)+Math.imul(te,Ge)|0))<<13)|0;V=((_=_+Math.imul(te,st)|0)+(S>>>13)|0)+(Te>>>26)|0,Te&=67108863,x=Math.imul(Le,Xe),S=(S=Math.imul(Le,xt))+Math.imul(Be,Xe)|0,_=Math.imul(Be,xt),x=x+Math.imul(Re,rt)|0,S=(S=S+Math.imul(Re,at)|0)+Math.imul($e,rt)|0,_=_+Math.imul($e,at)|0,x=x+Math.imul(xe,it)|0,S=(S=S+Math.imul(xe,ce)|0)+Math.imul(ke,it)|0,_=_+Math.imul(ke,ce)|0,x=x+Math.imul(he,ye)|0,S=(S=S+Math.imul(he,Pe)|0)+Math.imul(ge,ye)|0,_=_+Math.imul(ge,Pe)|0,x=x+Math.imul(se,Oe)|0,S=(S=S+Math.imul(se,et)|0)+Math.imul(de,Oe)|0,_=_+Math.imul(de,et)|0;var Me=(V+(x=x+Math.imul(le,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(le,st)|0)+Math.imul(Y,Ge)|0))<<13)|0;V=((_=_+Math.imul(Y,st)|0)+(S>>>13)|0)+(Me>>>26)|0,Me&=67108863,x=Math.imul(Le,rt),S=(S=Math.imul(Le,at))+Math.imul(Be,rt)|0,_=Math.imul(Be,at),x=x+Math.imul(Re,it)|0,S=(S=S+Math.imul(Re,ce)|0)+Math.imul($e,it)|0,_=_+Math.imul($e,ce)|0,x=x+Math.imul(xe,ye)|0,S=(S=S+Math.imul(xe,Pe)|0)+Math.imul(ke,ye)|0,_=_+Math.imul(ke,Pe)|0,x=x+Math.imul(he,Oe)|0,S=(S=S+Math.imul(he,et)|0)+Math.imul(ge,Oe)|0,_=_+Math.imul(ge,et)|0;var wt=(V+(x=x+Math.imul(se,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(se,st)|0)+Math.imul(de,Ge)|0))<<13)|0;V=((_=_+Math.imul(de,st)|0)+(S>>>13)|0)+(wt>>>26)|0,wt&=67108863,x=Math.imul(Le,it),S=(S=Math.imul(Le,ce))+Math.imul(Be,it)|0,_=Math.imul(Be,ce),x=x+Math.imul(Re,ye)|0,S=(S=S+Math.imul(Re,Pe)|0)+Math.imul($e,ye)|0,_=_+Math.imul($e,Pe)|0,x=x+Math.imul(xe,Oe)|0,S=(S=S+Math.imul(xe,et)|0)+Math.imul(ke,Oe)|0,_=_+Math.imul(ke,et)|0;var ut=(V+(x=x+Math.imul(he,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(he,st)|0)+Math.imul(ge,Ge)|0))<<13)|0;V=((_=_+Math.imul(ge,st)|0)+(S>>>13)|0)+(ut>>>26)|0,ut&=67108863,x=Math.imul(Le,ye),S=(S=Math.imul(Le,Pe))+Math.imul(Be,ye)|0,_=Math.imul(Be,Pe),x=x+Math.imul(Re,Oe)|0,S=(S=S+Math.imul(Re,et)|0)+Math.imul($e,Oe)|0,_=_+Math.imul($e,et)|0;var pt=(V+(x=x+Math.imul(xe,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(xe,st)|0)+Math.imul(ke,Ge)|0))<<13)|0;V=((_=_+Math.imul(ke,st)|0)+(S>>>13)|0)+(pt>>>26)|0,pt&=67108863,x=Math.imul(Le,Oe),S=(S=Math.imul(Le,et))+Math.imul(Be,Oe)|0,_=Math.imul(Be,et);var Ze=(V+(x=x+Math.imul(Re,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(Re,st)|0)+Math.imul($e,Ge)|0))<<13)|0;V=((_=_+Math.imul($e,st)|0)+(S>>>13)|0)+(Ze>>>26)|0,Ze&=67108863;var It=(V+(x=Math.imul(Le,Ge))|0)+((8191&(S=(S=Math.imul(Le,st))+Math.imul(Be,Ge)|0))<<13)|0;return V=((_=Math.imul(Be,st))+(S>>>13)|0)+(It>>>26)|0,It&=67108863,B[0]=Qe,B[1]=ft,B[2]=Gt,B[3]=Vt,B[4]=Zt,B[5]=sr,B[6]=Nr,B[7]=ne,B[8]=pe,B[9]=we,B[10]=Se,B[11]=Ue,B[12]=Te,B[13]=Me,B[14]=wt,B[15]=ut,B[16]=pt,B[17]=Ze,B[18]=It,V!==0&&(B[19]=V,N.length++),N};function w(j,P,N){return new E().mulp(j,P,N)}function E(j,P){this.x=j,this.y=P}Math.imul||(v=y),o.prototype.mulTo=function(j,P){var N=this.length+j.length;return this.length===10&&j.length===10?v(this,j,P):N<63?y(this,j,P):N<1024?function(x,S,_){_.negative=S.negative^x.negative,_.length=x.length+S.length;for(var k=0,T=0,B=0;B<_.length-1;B++){var V=T;T=0;for(var q=67108863&k,W=Math.min(B,S.length-1),J=Math.max(0,B-x.length+1);J<=W;J++){var z=B-J,X=(0|x.words[z])*(0|S.words[J]),O=67108863&X;q=67108863&(O=O+q|0),T+=(V=(V=V+(X/67108864|0)|0)+(O>>>26)|0)>>>26,V&=67108863}_.words[B]=q,k=V,V=T}return k!==0?_.words[B]=k:_.length--,_.strip()}(this,j,P):w(this,j,P)},E.prototype.makeRBT=function(j){for(var P=new Array(j),N=o.prototype._countBits(j)-1,x=0;x<j;x++)P[x]=this.revBin(x,N,j);return P},E.prototype.revBin=function(j,P,N){if(j===0||j===N-1)return j;for(var x=0,S=0;S<P;S++)x|=(1&j)<<P-S-1,j>>=1;return x},E.prototype.permute=function(j,P,N,x,S,_){for(var k=0;k<_;k++)x[k]=P[j[k]],S[k]=N[j[k]]},E.prototype.transform=function(j,P,N,x,S,_){this.permute(_,j,P,N,x,S);for(var k=1;k<S;k<<=1)for(var T=k<<1,B=Math.cos(2*Math.PI/T),V=Math.sin(2*Math.PI/T),q=0;q<S;q+=T)for(var W=B,J=V,z=0;z<k;z++){var X=N[q+z],O=x[q+z],R=N[q+z+k],H=x[q+z+k],G=W*R-J*H;H=W*H+J*R,R=G,N[q+z]=X+R,x[q+z]=O+H,N[q+z+k]=X-R,x[q+z+k]=O-H,z!==T&&(G=B*W-V*J,J=B*J+V*W,W=G)}},E.prototype.guessLen13b=function(j,P){var N=1|Math.max(P,j),x=1&N,S=0;for(N=N/2|0;N;N>>>=1)S++;return 1<<S+1+x},E.prototype.conjugate=function(j,P,N){if(!(N<=1))for(var x=0;x<N/2;x++){var S=j[x];j[x]=j[N-x-1],j[N-x-1]=S,S=P[x],P[x]=-P[N-x-1],P[N-x-1]=-S}},E.prototype.normalize13b=function(j,P){for(var N=0,x=0;x<P/2;x++){var S=8192*Math.round(j[2*x+1]/P)+Math.round(j[2*x]/P)+N;j[x]=67108863&S,N=S<67108864?0:S/67108864|0}return j},E.prototype.convert13b=function(j,P,N,x){for(var S=0,_=0;_<P;_++)S+=0|j[_],N[2*_]=8191&S,S>>>=13,N[2*_+1]=8191&S,S>>>=13;for(_=2*P;_<x;++_)N[_]=0;c(S===0),c((-8192&S)==0)},E.prototype.stub=function(j){for(var P=new Array(j),N=0;N<j;N++)P[N]=0;return P},E.prototype.mulp=function(j,P,N){var x=2*this.guessLen13b(j.length,P.length),S=this.makeRBT(x),_=this.stub(x),k=new Array(x),T=new Array(x),B=new Array(x),V=new Array(x),q=new Array(x),W=new Array(x),J=N.words;J.length=x,this.convert13b(j.words,j.length,k,x),this.convert13b(P.words,P.length,V,x),this.transform(k,_,T,B,x,S),this.transform(V,_,q,W,x,S);for(var z=0;z<x;z++){var X=T[z]*q[z]-B[z]*W[z];B[z]=T[z]*W[z]+B[z]*q[z],T[z]=X}return this.conjugate(T,B,x),this.transform(T,B,J,_,x,S),this.conjugate(J,_,x),this.normalize13b(J,x),N.negative=j.negative^P.negative,N.length=j.length+P.length,N.strip()},o.prototype.mul=function(j){var P=new o(null);return P.words=new Array(this.length+j.length),this.mulTo(j,P)},o.prototype.mulf=function(j){var P=new o(null);return P.words=new Array(this.length+j.length),w(this,j,P)},o.prototype.imul=function(j){return this.clone().mulTo(j,this)},o.prototype.imuln=function(j){c(typeof j=="number"),c(j<67108864);for(var P=0,N=0;N<this.length;N++){var x=(0|this.words[N])*j,S=(67108863&x)+(67108863&P);P>>=26,P+=x/67108864|0,P+=S>>>26,this.words[N]=67108863&S}return P!==0&&(this.words[N]=P,this.length++),this},o.prototype.muln=function(j){return this.clone().imuln(j)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(j){var P=function(_){for(var k=new Array(_.bitLength()),T=0;T<k.length;T++){var B=T/26|0,V=T%26;k[T]=(_.words[B]&1<<V)>>>V}return k}(j);if(P.length===0)return new o(1);for(var N=this,x=0;x<P.length&&P[x]===0;x++,N=N.sqr());if(++x<P.length)for(var S=N.sqr();x<P.length;x++,S=S.sqr())P[x]!==0&&(N=N.mul(S));return N},o.prototype.iushln=function(j){c(typeof j=="number"&&j>=0);var P,N=j%26,x=(j-N)/26,S=67108863>>>26-N<<26-N;if(N!==0){var _=0;for(P=0;P<this.length;P++){var k=this.words[P]&S,T=(0|this.words[P])-k<<N;this.words[P]=T|_,_=k>>>26-N}_&&(this.words[P]=_,this.length++)}if(x!==0){for(P=this.length-1;P>=0;P--)this.words[P+x]=this.words[P];for(P=0;P<x;P++)this.words[P]=0;this.length+=x}return this.strip()},o.prototype.ishln=function(j){return c(this.negative===0),this.iushln(j)},o.prototype.iushrn=function(j,P,N){var x;c(typeof j=="number"&&j>=0),x=P?(P-P%26)/26:0;var S=j%26,_=Math.min((j-S)/26,this.length),k=67108863^67108863>>>S<<S,T=N;if(x-=_,x=Math.max(0,x),T){for(var B=0;B<_;B++)T.words[B]=this.words[B];T.length=_}if(_!==0)if(this.length>_)for(this.length-=_,B=0;B<this.length;B++)this.words[B]=this.words[B+_];else this.words[0]=0,this.length=1;var V=0;for(B=this.length-1;B>=0&&(V!==0||B>=x);B--){var q=0|this.words[B];this.words[B]=V<<26-S|q>>>S,V=q&k}return T&&V!==0&&(T.words[T.length++]=V),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(j,P,N){return c(this.negative===0),this.iushrn(j,P,N)},o.prototype.shln=function(j){return this.clone().ishln(j)},o.prototype.ushln=function(j){return this.clone().iushln(j)},o.prototype.shrn=function(j){return this.clone().ishrn(j)},o.prototype.ushrn=function(j){return this.clone().iushrn(j)},o.prototype.testn=function(j){c(typeof j=="number"&&j>=0);var P=j%26,N=(j-P)/26,x=1<<P;return!(this.length<=N)&&!!(this.words[N]&x)},o.prototype.imaskn=function(j){c(typeof j=="number"&&j>=0);var P=j%26,N=(j-P)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(P!==0&&N++,this.length=Math.min(N,this.length),P!==0){var x=67108863^67108863>>>P<<P;this.words[this.length-1]&=x}return this.strip()},o.prototype.maskn=function(j){return this.clone().imaskn(j)},o.prototype.iaddn=function(j){return c(typeof j=="number"),c(j<67108864),j<0?this.isubn(-j):this.negative!==0?this.length===1&&(0|this.words[0])<j?(this.words[0]=j-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(j),this.negative=1,this):this._iaddn(j)},o.prototype._iaddn=function(j){this.words[0]+=j;for(var P=0;P<this.length&&this.words[P]>=67108864;P++)this.words[P]-=67108864,P===this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=Math.max(this.length,P+1),this},o.prototype.isubn=function(j){if(c(typeof j=="number"),c(j<67108864),j<0)return this.iaddn(-j);if(this.negative!==0)return this.negative=0,this.iaddn(j),this.negative=1,this;if(this.words[0]-=j,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&this.words[P]<0;P++)this.words[P]+=67108864,this.words[P+1]-=1;return this.strip()},o.prototype.addn=function(j){return this.clone().iaddn(j)},o.prototype.subn=function(j){return this.clone().isubn(j)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(j,P,N){var x,S,_=j.length+N;this._expand(_);var k=0;for(x=0;x<j.length;x++){S=(0|this.words[x+N])+k;var T=(0|j.words[x])*P;k=((S-=67108863&T)>>26)-(T/67108864|0),this.words[x+N]=67108863&S}for(;x<this.length-N;x++)k=(S=(0|this.words[x+N])+k)>>26,this.words[x+N]=67108863&S;if(k===0)return this.strip();for(c(k===-1),k=0,x=0;x<this.length;x++)k=(S=-(0|this.words[x])+k)>>26,this.words[x]=67108863&S;return this.negative=1,this.strip()},o.prototype._wordDiv=function(j,P){var N=(this.length,j.length),x=this.clone(),S=j,_=0|S.words[S.length-1];(N=26-this._countBits(_))!==0&&(S=S.ushln(N),x.iushln(N),_=0|S.words[S.length-1]);var k,T=x.length-S.length;if(P!=="mod"){(k=new o(null)).length=T+1,k.words=new Array(k.length);for(var B=0;B<k.length;B++)k.words[B]=0}var V=x.clone()._ishlnsubmul(S,1,T);V.negative===0&&(x=V,k&&(k.words[T]=1));for(var q=T-1;q>=0;q--){var W=67108864*(0|x.words[S.length+q])+(0|x.words[S.length+q-1]);for(W=Math.min(W/_|0,67108863),x._ishlnsubmul(S,W,q);x.negative!==0;)W--,x.negative=0,x._ishlnsubmul(S,1,q),x.isZero()||(x.negative^=1);k&&(k.words[q]=W)}return k&&k.strip(),x.strip(),P!=="div"&&N!==0&&x.iushrn(N),{div:k||null,mod:x}},o.prototype.divmod=function(j,P,N){return c(!j.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&j.negative===0?(_=this.neg().divmod(j,P),P!=="mod"&&(x=_.div.neg()),P!=="div"&&(S=_.mod.neg(),N&&S.negative!==0&&S.iadd(j)),{div:x,mod:S}):this.negative===0&&j.negative!==0?(_=this.divmod(j.neg(),P),P!=="mod"&&(x=_.div.neg()),{div:x,mod:_.mod}):this.negative&j.negative?(_=this.neg().divmod(j.neg(),P),P!=="div"&&(S=_.mod.neg(),N&&S.negative!==0&&S.isub(j)),{div:_.div,mod:S}):j.length>this.length||this.cmp(j)<0?{div:new o(0),mod:this}:j.length===1?P==="div"?{div:this.divn(j.words[0]),mod:null}:P==="mod"?{div:null,mod:new o(this.modn(j.words[0]))}:{div:this.divn(j.words[0]),mod:new o(this.modn(j.words[0]))}:this._wordDiv(j,P);var x,S,_},o.prototype.div=function(j){return this.divmod(j,"div",!1).div},o.prototype.mod=function(j){return this.divmod(j,"mod",!1).mod},o.prototype.umod=function(j){return this.divmod(j,"mod",!0).mod},o.prototype.divRound=function(j){var P=this.divmod(j);if(P.mod.isZero())return P.div;var N=P.div.negative!==0?P.mod.isub(j):P.mod,x=j.ushrn(1),S=j.andln(1),_=N.cmp(x);return _<0||S===1&&_===0?P.div:P.div.negative!==0?P.div.isubn(1):P.div.iaddn(1)},o.prototype.modn=function(j){c(j<=67108863);for(var P=(1<<26)%j,N=0,x=this.length-1;x>=0;x--)N=(P*N+(0|this.words[x]))%j;return N},o.prototype.idivn=function(j){c(j<=67108863);for(var P=0,N=this.length-1;N>=0;N--){var x=(0|this.words[N])+67108864*P;this.words[N]=x/j|0,P=x%j}return this.strip()},o.prototype.divn=function(j){return this.clone().idivn(j)},o.prototype.egcd=function(j){c(j.negative===0),c(!j.isZero());var P=this,N=j.clone();P=P.negative!==0?P.umod(j):P.clone();for(var x=new o(1),S=new o(0),_=new o(0),k=new o(1),T=0;P.isEven()&&N.isEven();)P.iushrn(1),N.iushrn(1),++T;for(var B=N.clone(),V=P.clone();!P.isZero();){for(var q=0,W=1;!(P.words[0]&W)&&q<26;++q,W<<=1);if(q>0)for(P.iushrn(q);q-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(B),S.isub(V)),x.iushrn(1),S.iushrn(1);for(var J=0,z=1;!(N.words[0]&z)&&J<26;++J,z<<=1);if(J>0)for(N.iushrn(J);J-- >0;)(_.isOdd()||k.isOdd())&&(_.iadd(B),k.isub(V)),_.iushrn(1),k.iushrn(1);P.cmp(N)>=0?(P.isub(N),x.isub(_),S.isub(k)):(N.isub(P),_.isub(x),k.isub(S))}return{a:_,b:k,gcd:N.iushln(T)}},o.prototype._invmp=function(j){c(j.negative===0),c(!j.isZero());var P=this,N=j.clone();P=P.negative!==0?P.umod(j):P.clone();for(var x,S=new o(1),_=new o(0),k=N.clone();P.cmpn(1)>0&&N.cmpn(1)>0;){for(var T=0,B=1;!(P.words[0]&B)&&T<26;++T,B<<=1);if(T>0)for(P.iushrn(T);T-- >0;)S.isOdd()&&S.iadd(k),S.iushrn(1);for(var V=0,q=1;!(N.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(N.iushrn(V);V-- >0;)_.isOdd()&&_.iadd(k),_.iushrn(1);P.cmp(N)>=0?(P.isub(N),S.isub(_)):(N.isub(P),_.isub(S))}return(x=P.cmpn(1)===0?S:_).cmpn(0)<0&&x.iadd(j),x},o.prototype.gcd=function(j){if(this.isZero())return j.abs();if(j.isZero())return this.abs();var P=this.clone(),N=j.clone();P.negative=0,N.negative=0;for(var x=0;P.isEven()&&N.isEven();x++)P.iushrn(1),N.iushrn(1);for(;;){for(;P.isEven();)P.iushrn(1);for(;N.isEven();)N.iushrn(1);var S=P.cmp(N);if(S<0){var _=P;P=N,N=_}else if(S===0||N.cmpn(1)===0)break;P.isub(N)}return N.iushln(x)},o.prototype.invm=function(j){return this.egcd(j).a.umod(j)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(j){return this.words[0]&j},o.prototype.bincn=function(j){c(typeof j=="number");var P=j%26,N=(j-P)/26,x=1<<P;if(this.length<=N)return this._expand(N+1),this.words[N]|=x,this;for(var S=x,_=N;S!==0&&_<this.length;_++){var k=0|this.words[_];S=(k+=S)>>>26,k&=67108863,this.words[_]=k}return S!==0&&(this.words[_]=S,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(j){var P,N=j<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;if(this.strip(),this.length>1)P=1;else{N&&(j=-j),c(j<=67108863,"Number is too big");var x=0|this.words[0];P=x===j?0:x<j?-1:1}return this.negative!==0?0|-P:P},o.prototype.cmp=function(j){if(this.negative!==0&&j.negative===0)return-1;if(this.negative===0&&j.negative!==0)return 1;var P=this.ucmp(j);return this.negative!==0?0|-P:P},o.prototype.ucmp=function(j){if(this.length>j.length)return 1;if(this.length<j.length)return-1;for(var P=0,N=this.length-1;N>=0;N--){var x=0|this.words[N],S=0|j.words[N];if(x!==S){x<S?P=-1:x>S&&(P=1);break}}return P},o.prototype.gtn=function(j){return this.cmpn(j)===1},o.prototype.gt=function(j){return this.cmp(j)===1},o.prototype.gten=function(j){return this.cmpn(j)>=0},o.prototype.gte=function(j){return this.cmp(j)>=0},o.prototype.ltn=function(j){return this.cmpn(j)===-1},o.prototype.lt=function(j){return this.cmp(j)===-1},o.prototype.lten=function(j){return this.cmpn(j)<=0},o.prototype.lte=function(j){return this.cmp(j)<=0},o.prototype.eqn=function(j){return this.cmpn(j)===0},o.prototype.eq=function(j){return this.cmp(j)===0},o.red=function(j){return new $(j)},o.prototype.toRed=function(j){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),j.convertTo(this)._forceRed(j)},o.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(j){return this.red=j,this},o.prototype.forceRed=function(j){return c(!this.red,"Already a number in reduction context"),this._forceRed(j)},o.prototype.redAdd=function(j){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,j)},o.prototype.redIAdd=function(j){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,j)},o.prototype.redSub=function(j){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,j)},o.prototype.redISub=function(j){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,j)},o.prototype.redShl=function(j){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,j)},o.prototype.redMul=function(j){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.mul(this,j)},o.prototype.redIMul=function(j){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.imul(this,j)},o.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(j){return c(this.red&&!j.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,j)};var A={k256:null,p224:null,p192:null,p25519:null};function D(j,P){this.name=j,this.p=new o(P,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function L(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function C(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function F(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function $(j){if(typeof j=="string"){var P=o._prime(j);this.m=P.p,this.prime=P}else c(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}function U(j){$.call(this,j),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}D.prototype._tmp=function(){var j=new o(null);return j.words=new Array(Math.ceil(this.n/13)),j},D.prototype.ireduce=function(j){var P,N=j;do this.split(N,this.tmp),P=(N=(N=this.imulK(N)).iadd(this.tmp)).bitLength();while(P>this.n);var x=P<this.n?-1:N.ucmp(this.p);return x===0?(N.words[0]=0,N.length=1):x>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},D.prototype.split=function(j,P){j.iushrn(this.n,0,P)},D.prototype.imulK=function(j){return j.imul(this.k)},l(L,D),L.prototype.split=function(j,P){for(var N=Math.min(j.length,9),x=0;x<N;x++)P.words[x]=j.words[x];if(P.length=N,j.length<=9)return j.words[0]=0,void(j.length=1);var S=j.words[9];for(P.words[P.length++]=4194303&S,x=10;x<j.length;x++){var _=0|j.words[x];j.words[x-10]=(4194303&_)<<4|S>>>22,S=_}S>>>=22,j.words[x-10]=S,S===0&&j.length>10?j.length-=10:j.length-=9},L.prototype.imulK=function(j){j.words[j.length]=0,j.words[j.length+1]=0,j.length+=2;for(var P=0,N=0;N<j.length;N++){var x=0|j.words[N];P+=977*x,j.words[N]=67108863&P,P=64*x+(P/67108864|0)}return j.words[j.length-1]===0&&(j.length--,j.words[j.length-1]===0&&j.length--),j},l(C,D),l(M,D),l(F,D),F.prototype.imulK=function(j){for(var P=0,N=0;N<j.length;N++){var x=19*(0|j.words[N])+P,S=67108863&x;x>>>=26,j.words[N]=S,P=x}return P!==0&&(j.words[j.length++]=P),j},o._prime=function(j){if(A[j])return A[j];var P;if(j==="k256")P=new L;else if(j==="p224")P=new C;else if(j==="p192")P=new M;else{if(j!=="p25519")throw new Error("Unknown prime "+j);P=new F}return A[j]=P,P},$.prototype._verify1=function(j){c(j.negative===0,"red works only with positives"),c(j.red,"red works only with red numbers")},$.prototype._verify2=function(j,P){c((j.negative|P.negative)==0,"red works only with positives"),c(j.red&&j.red===P.red,"red works only with red numbers")},$.prototype.imod=function(j){return this.prime?this.prime.ireduce(j)._forceRed(this):j.umod(this.m)._forceRed(this)},$.prototype.neg=function(j){return j.isZero()?j.clone():this.m.sub(j)._forceRed(this)},$.prototype.add=function(j,P){this._verify2(j,P);var N=j.add(P);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},$.prototype.iadd=function(j,P){this._verify2(j,P);var N=j.iadd(P);return N.cmp(this.m)>=0&&N.isub(this.m),N},$.prototype.sub=function(j,P){this._verify2(j,P);var N=j.sub(P);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},$.prototype.isub=function(j,P){this._verify2(j,P);var N=j.isub(P);return N.cmpn(0)<0&&N.iadd(this.m),N},$.prototype.shl=function(j,P){return this._verify1(j),this.imod(j.ushln(P))},$.prototype.imul=function(j,P){return this._verify2(j,P),this.imod(j.imul(P))},$.prototype.mul=function(j,P){return this._verify2(j,P),this.imod(j.mul(P))},$.prototype.isqr=function(j){return this.imul(j,j.clone())},$.prototype.sqr=function(j){return this.mul(j,j)},$.prototype.sqrt=function(j){if(j.isZero())return j.clone();var P=this.m.andln(3);if(c(P%2==1),P===3){var N=this.m.add(new o(1)).iushrn(2);return this.pow(j,N)}for(var x=this.m.subn(1),S=0;!x.isZero()&&x.andln(1)===0;)S++,x.iushrn(1);c(!x.isZero());var _=new o(1).toRed(this),k=_.redNeg(),T=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new o(2*B*B).toRed(this);this.pow(B,T).cmp(k)!==0;)B.redIAdd(k);for(var V=this.pow(B,x),q=this.pow(j,x.addn(1).iushrn(1)),W=this.pow(j,x),J=S;W.cmp(_)!==0;){for(var z=W,X=0;z.cmp(_)!==0;X++)z=z.redSqr();c(X<J);var O=this.pow(V,new o(1).iushln(J-X-1));q=q.redMul(O),V=O.redSqr(),W=W.redMul(V),J=X}return q},$.prototype.invm=function(j){var P=j._invmp(this.m);return P.negative!==0?(P.negative=0,this.imod(P).redNeg()):this.imod(P)},$.prototype.pow=function(j,P){if(P.isZero())return new o(1).toRed(this);if(P.cmpn(1)===0)return j.clone();var N=new Array(16);N[0]=new o(1).toRed(this),N[1]=j;for(var x=2;x<N.length;x++)N[x]=this.mul(N[x-1],j);var S=N[0],_=0,k=0,T=P.bitLength()%26;for(T===0&&(T=26),x=P.length-1;x>=0;x--){for(var B=P.words[x],V=T-1;V>=0;V--){var q=B>>V&1;S!==N[0]&&(S=this.sqr(S)),q!==0||_!==0?(_<<=1,_|=q,(++k===4||x===0&&V===0)&&(S=this.mul(S,N[_]),k=0,_=0)):k=0}T=26}return S},$.prototype.convertTo=function(j){var P=j.umod(this.m);return P===j?P.clone():P},$.prototype.convertFrom=function(j){var P=j.clone();return P.red=null,P},o.mont=function(j){return new U(j)},l(U,$),U.prototype.convertTo=function(j){return this.imod(j.ushln(this.shift))},U.prototype.convertFrom=function(j){var P=this.imod(j.mul(this.rinv));return P.red=null,P},U.prototype.imul=function(j,P){if(j.isZero()||P.isZero())return j.words[0]=0,j.length=1,j;var N=j.imul(P),x=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=N.isub(x).iushrn(this.shift),_=S;return S.cmp(this.m)>=0?_=S.isub(this.m):S.cmpn(0)<0&&(_=S.iadd(this.m)),_._forceRed(this)},U.prototype.mul=function(j,P){if(j.isZero()||P.isZero())return new o(0)._forceRed(this);var N=j.mul(P),x=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=N.isub(x).iushrn(this.shift),_=S;return S.cmp(this.m)>=0?_=S.isub(this.m):S.cmpn(0)<0&&(_=S.iadd(this.m)),_._forceRed(this)},U.prototype.invm=function(j){return this.imod(j._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(e,n,i){i.byteLength=function(h){var g=p(h),b=g[0],m=g[1];return 3*(b+m)/4-m},i.toByteArray=function(h){var g,b,m=p(h),y=m[0],v=m[1],w=new c(function(D,L,C){return 3*(L+C)/4-C}(0,y,v)),E=0,A=v>0?y-4:y;for(b=0;b<A;b+=4)g=a[h.charCodeAt(b)]<<18|a[h.charCodeAt(b+1)]<<12|a[h.charCodeAt(b+2)]<<6|a[h.charCodeAt(b+3)],w[E++]=g>>16&255,w[E++]=g>>8&255,w[E++]=255&g;return v===2&&(g=a[h.charCodeAt(b)]<<2|a[h.charCodeAt(b+1)]>>4,w[E++]=255&g),v===1&&(g=a[h.charCodeAt(b)]<<10|a[h.charCodeAt(b+1)]<<4|a[h.charCodeAt(b+2)]>>2,w[E++]=g>>8&255,w[E++]=255&g),w},i.fromByteArray=function(h){for(var g,b=h.length,m=b%3,y=[],v=0,w=b-m;v<w;v+=16383)y.push(d(h,v,v+16383>w?w:v+16383));return m===1?(g=h[b-1],y.push(s[g>>2]+s[g<<4&63]+"==")):m===2&&(g=(h[b-2]<<8)+h[b-1],y.push(s[g>>10]+s[g>>4&63]+s[g<<2&63]+"=")),y.join("")};for(var s=[],a=[],c=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=l.length;o<u;++o)s[o]=l[o],a[l.charCodeAt(o)]=o;function p(h){var g=h.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=h.indexOf("=");return b===-1&&(b=g),[b,b===g?0:4-b%4]}function d(h,g,b){for(var m,y,v=[],w=g;w<b;w+=3)m=(h[w]<<16&16711680)+(h[w+1]<<8&65280)+(255&h[w+2]),v.push(s[(y=m)>>18&63]+s[y>>12&63]+s[y>>6&63]+s[63&y]);return v.join("")}a[45]=62,a[95]=63},{}],186:[function(e,n,i){(function(s,a){function c(N,x){if(!N)throw new Error(x||"Assertion failed")}function l(N,x){N.super_=x;var S=function(){};S.prototype=x.prototype,N.prototype=new S,N.prototype.constructor=N}function o(N,x,S){if(o.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&(x!=="le"&&x!=="be"||(S=x,x=10),this._init(N||0,x||10,S||"be"))}var u;typeof s=="object"?s.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function p(N,x){var S=N.charCodeAt(x);return S>=48&&S<=57?S-48:S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:void c(!1,"Invalid character in "+N)}function d(N,x,S){var _=p(N,S);return S-1>=x&&(_|=p(N,S-1)<<4),_}function h(N,x,S,_){for(var k=0,T=0,B=Math.min(N.length,S),V=x;V<B;V++){var q=N.charCodeAt(V)-48;k*=_,T=q>=49?q-49+10:q>=17?q-17+10:q,c(q>=0&&T<_,"Invalid character"),k+=T}return k}function g(N,x){N.words=x.words,N.length=x.length,N.negative=x.negative,N.red=x.red}if(o.isBN=function(N){return N instanceof o||N!==null&&typeof N=="object"&&N.constructor.wordSize===o.wordSize&&Array.isArray(N.words)},o.max=function(N,x){return N.cmp(x)>0?N:x},o.min=function(N,x){return N.cmp(x)<0?N:x},o.prototype._init=function(N,x,S){if(typeof N=="number")return this._initNumber(N,x,S);if(typeof N=="object")return this._initArray(N,x,S);x==="hex"&&(x=16),c(x===(0|x)&&x>=2&&x<=36);var _=0;(N=N.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<N.length&&(x===16?this._parseHex(N,_,S):(this._parseBase(N,x,_),S==="le"&&this._initArray(this.toArray(),x,S)))},o.prototype._initNumber=function(N,x,S){N<0&&(this.negative=1,N=-N),N<67108864?(this.words=[67108863&N],this.length=1):N<4503599627370496?(this.words=[67108863&N,N/67108864&67108863],this.length=2):(c(N<9007199254740992),this.words=[67108863&N,N/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),x,S)},o.prototype._initArray=function(N,x,S){if(c(typeof N.length=="number"),N.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(N.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var k,T,B=0;if(S==="be")for(_=N.length-1,k=0;_>=0;_-=3)T=N[_]|N[_-1]<<8|N[_-2]<<16,this.words[k]|=T<<B&67108863,this.words[k+1]=T>>>26-B&67108863,(B+=24)>=26&&(B-=26,k++);else if(S==="le")for(_=0,k=0;_<N.length;_+=3)T=N[_]|N[_+1]<<8|N[_+2]<<16,this.words[k]|=T<<B&67108863,this.words[k+1]=T>>>26-B&67108863,(B+=24)>=26&&(B-=26,k++);return this._strip()},o.prototype._parseHex=function(N,x,S){this.length=Math.ceil((N.length-x)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var k,T=0,B=0;if(S==="be")for(_=N.length-1;_>=x;_-=2)k=d(N,x,_)<<T,this.words[B]|=67108863&k,T>=18?(T-=18,B+=1,this.words[B]|=k>>>26):T+=8;else for(_=(N.length-x)%2==0?x+1:x;_<N.length;_+=2)k=d(N,x,_)<<T,this.words[B]|=67108863&k,T>=18?(T-=18,B+=1,this.words[B]|=k>>>26):T+=8;this._strip()},o.prototype._parseBase=function(N,x,S){this.words=[0],this.length=1;for(var _=0,k=1;k<=67108863;k*=x)_++;_--,k=k/x|0;for(var T=N.length-S,B=T%_,V=Math.min(T,T-B)+S,q=0,W=S;W<V;W+=_)q=h(N,W,W+_,x),this.imuln(k),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q);if(B!==0){var J=1;for(q=h(N,W,N.length,x),W=0;W<B;W++)J*=x;this.imuln(J),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q)}this._strip()},o.prototype.copy=function(N){N.words=new Array(this.length);for(var x=0;x<this.length;x++)N.words[x]=this.words[x];N.length=this.length,N.negative=this.negative,N.red=this.red},o.prototype._move=function(N){g(N,this)},o.prototype.clone=function(){var N=new o(null);return this.copy(N),N},o.prototype._expand=function(N){for(;this.length<N;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{o.prototype.inspect=b}else o.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(N,x){var S;if(x=0|x||1,(N=N||10)===16||N==="hex"){S="";for(var _=0,k=0,T=0;T<this.length;T++){var B=this.words[T],V=(16777215&(B<<_|k)).toString(16);k=B>>>24-_&16777215,(_+=2)>=26&&(_-=26,T--),S=k!==0||T!==this.length-1?m[6-V.length]+V+S:V+S}for(k!==0&&(S=k.toString(16)+S);S.length%x!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(N===(0|N)&&N>=2&&N<=36){var q=y[N],W=v[N];S="";var J=this.clone();for(J.negative=0;!J.isZero();){var z=J.modrn(W).toString(N);S=(J=J.idivn(W)).isZero()?z+S:m[q-z.length]+z+S}for(this.isZero()&&(S="0"+S);S.length%x!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}c(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var N=this.words[0];return this.length===2?N+=67108864*this.words[1]:this.length===3&&this.words[2]===1?N+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-N:N},o.prototype.toJSON=function(){return this.toString(16,2)},u&&(o.prototype.toBuffer=function(N,x){return this.toArrayLike(u,N,x)}),o.prototype.toArray=function(N,x){return this.toArrayLike(Array,N,x)};function w(N,x,S){S.negative=x.negative^N.negative;var _=N.length+x.length|0;S.length=_,_=_-1|0;var k=0|N.words[0],T=0|x.words[0],B=k*T,V=67108863&B,q=B/67108864|0;S.words[0]=V;for(var W=1;W<_;W++){for(var J=q>>>26,z=67108863&q,X=Math.min(W,x.length-1),O=Math.max(0,W-N.length+1);O<=X;O++){var R=W-O|0;J+=(B=(k=0|N.words[R])*(T=0|x.words[O])+z)/67108864|0,z=67108863&B}S.words[W]=0|z,q=0|J}return q!==0?S.words[W]=0|q:S.length--,S._strip()}o.prototype.toArrayLike=function(N,x,S){this._strip();var _=this.byteLength(),k=S||Math.max(1,_);c(_<=k,"byte array longer than desired length"),c(k>0,"Requested array length <= 0");var T=function(B,V){return B.allocUnsafe?B.allocUnsafe(V):new B(V)}(N,k);return this["_toArrayLike"+(x==="le"?"LE":"BE")](T,_),T},o.prototype._toArrayLikeLE=function(N,x){for(var S=0,_=0,k=0,T=0;k<this.length;k++){var B=this.words[k]<<T|_;N[S++]=255&B,S<N.length&&(N[S++]=B>>8&255),S<N.length&&(N[S++]=B>>16&255),T===6?(S<N.length&&(N[S++]=B>>24&255),_=0,T=0):(_=B>>>24,T+=2)}if(S<N.length)for(N[S++]=_;S<N.length;)N[S++]=0},o.prototype._toArrayLikeBE=function(N,x){for(var S=N.length-1,_=0,k=0,T=0;k<this.length;k++){var B=this.words[k]<<T|_;N[S--]=255&B,S>=0&&(N[S--]=B>>8&255),S>=0&&(N[S--]=B>>16&255),T===6?(S>=0&&(N[S--]=B>>24&255),_=0,T=0):(_=B>>>24,T+=2)}if(S>=0)for(N[S--]=_;S>=0;)N[S--]=0},Math.clz32?o.prototype._countBits=function(N){return 32-Math.clz32(N)}:o.prototype._countBits=function(N){var x=N,S=0;return x>=4096&&(S+=13,x>>>=13),x>=64&&(S+=7,x>>>=7),x>=8&&(S+=4,x>>>=4),x>=2&&(S+=2,x>>>=2),S+x},o.prototype._zeroBits=function(N){if(N===0)return 26;var x=N,S=0;return!(8191&x)&&(S+=13,x>>>=13),!(127&x)&&(S+=7,x>>>=7),!(15&x)&&(S+=4,x>>>=4),!(3&x)&&(S+=2,x>>>=2),!(1&x)&&S++,S},o.prototype.bitLength=function(){var N=this.words[this.length-1],x=this._countBits(N);return 26*(this.length-1)+x},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var N=0,x=0;x<this.length;x++){var S=this._zeroBits(this.words[x]);if(N+=S,S!==26)break}return N},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(N){return this.negative!==0?this.abs().inotn(N).iaddn(1):this.clone()},o.prototype.fromTwos=function(N){return this.testn(N-1)?this.notn(N).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(N){for(;this.length<N.length;)this.words[this.length++]=0;for(var x=0;x<N.length;x++)this.words[x]=this.words[x]|N.words[x];return this._strip()},o.prototype.ior=function(N){return c((this.negative|N.negative)==0),this.iuor(N)},o.prototype.or=function(N){return this.length>N.length?this.clone().ior(N):N.clone().ior(this)},o.prototype.uor=function(N){return this.length>N.length?this.clone().iuor(N):N.clone().iuor(this)},o.prototype.iuand=function(N){var x;x=this.length>N.length?N:this;for(var S=0;S<x.length;S++)this.words[S]=this.words[S]&N.words[S];return this.length=x.length,this._strip()},o.prototype.iand=function(N){return c((this.negative|N.negative)==0),this.iuand(N)},o.prototype.and=function(N){return this.length>N.length?this.clone().iand(N):N.clone().iand(this)},o.prototype.uand=function(N){return this.length>N.length?this.clone().iuand(N):N.clone().iuand(this)},o.prototype.iuxor=function(N){var x,S;this.length>N.length?(x=this,S=N):(x=N,S=this);for(var _=0;_<S.length;_++)this.words[_]=x.words[_]^S.words[_];if(this!==x)for(;_<x.length;_++)this.words[_]=x.words[_];return this.length=x.length,this._strip()},o.prototype.ixor=function(N){return c((this.negative|N.negative)==0),this.iuxor(N)},o.prototype.xor=function(N){return this.length>N.length?this.clone().ixor(N):N.clone().ixor(this)},o.prototype.uxor=function(N){return this.length>N.length?this.clone().iuxor(N):N.clone().iuxor(this)},o.prototype.inotn=function(N){c(typeof N=="number"&&N>=0);var x=0|Math.ceil(N/26),S=N%26;this._expand(x),S>0&&x--;for(var _=0;_<x;_++)this.words[_]=67108863&~this.words[_];return S>0&&(this.words[_]=~this.words[_]&67108863>>26-S),this._strip()},o.prototype.notn=function(N){return this.clone().inotn(N)},o.prototype.setn=function(N,x){c(typeof N=="number"&&N>=0);var S=N/26|0,_=N%26;return this._expand(S+1),this.words[S]=x?this.words[S]|1<<_:this.words[S]&~(1<<_),this._strip()},o.prototype.iadd=function(N){var x,S,_;if(this.negative!==0&&N.negative===0)return this.negative=0,x=this.isub(N),this.negative^=1,this._normSign();if(this.negative===0&&N.negative!==0)return N.negative=0,x=this.isub(N),N.negative=1,x._normSign();this.length>N.length?(S=this,_=N):(S=N,_=this);for(var k=0,T=0;T<_.length;T++)x=(0|S.words[T])+(0|_.words[T])+k,this.words[T]=67108863&x,k=x>>>26;for(;k!==0&&T<S.length;T++)x=(0|S.words[T])+k,this.words[T]=67108863&x,k=x>>>26;if(this.length=S.length,k!==0)this.words[this.length]=k,this.length++;else if(S!==this)for(;T<S.length;T++)this.words[T]=S.words[T];return this},o.prototype.add=function(N){var x;return N.negative!==0&&this.negative===0?(N.negative=0,x=this.sub(N),N.negative^=1,x):N.negative===0&&this.negative!==0?(this.negative=0,x=N.sub(this),this.negative=1,x):this.length>N.length?this.clone().iadd(N):N.clone().iadd(this)},o.prototype.isub=function(N){if(N.negative!==0){N.negative=0;var x=this.iadd(N);return N.negative=1,x._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(N),this.negative=1,this._normSign();var S,_,k=this.cmp(N);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;k>0?(S=this,_=N):(S=N,_=this);for(var T=0,B=0;B<_.length;B++)T=(x=(0|S.words[B])-(0|_.words[B])+T)>>26,this.words[B]=67108863&x;for(;T!==0&&B<S.length;B++)T=(x=(0|S.words[B])+T)>>26,this.words[B]=67108863&x;if(T===0&&B<S.length&&S!==this)for(;B<S.length;B++)this.words[B]=S.words[B];return this.length=Math.max(this.length,B),S!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(N){return this.clone().isub(N)};var E=function(N,x,S){var _,k,T,B=N.words,V=x.words,q=S.words,W=0,J=0|B[0],z=8191&J,X=J>>>13,O=0|B[1],R=8191&O,H=O>>>13,G=0|B[2],ee=8191&G,Z=G>>>13,te=0|B[3],oe=8191&te,le=te>>>13,Y=0|B[4],ie=8191&Y,se=Y>>>13,de=0|B[5],ue=8191&de,he=de>>>13,ge=0|B[6],be=8191&ge,xe=ge>>>13,ke=0|B[7],Ne=8191&ke,Re=ke>>>13,$e=0|B[8],Ce=8191&$e,Le=$e>>>13,Be=0|B[9],Ae=8191&Be,Ee=Be>>>13,Fe=0|V[0],qe=8191&Fe,ze=Fe>>>13,bt=0|V[1],At=8191&bt,Ke=bt>>>13,vt=0|V[2],gt=8191&vt,nt=vt>>>13,St=0|V[3],kt=8191&St,Xe=St>>>13,xt=0|V[4],jt=8191&xt,rt=xt>>>13,at=0|V[5],Dt=8191&at,it=at>>>13,ce=0|V[6],fe=8191&ce,ye=ce>>>13,Pe=0|V[7],Je=8191&Pe,Oe=Pe>>>13,et=0|V[8],Ye=8191&et,Ge=et>>>13,st=0|V[9],Qe=8191&st,ft=st>>>13;S.negative=N.negative^x.negative,S.length=19;var Gt=(W+(_=Math.imul(z,qe))|0)+((8191&(k=(k=Math.imul(z,ze))+Math.imul(X,qe)|0))<<13)|0;W=((T=Math.imul(X,ze))+(k>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,_=Math.imul(R,qe),k=(k=Math.imul(R,ze))+Math.imul(H,qe)|0,T=Math.imul(H,ze);var Vt=(W+(_=_+Math.imul(z,At)|0)|0)+((8191&(k=(k=k+Math.imul(z,Ke)|0)+Math.imul(X,At)|0))<<13)|0;W=((T=T+Math.imul(X,Ke)|0)+(k>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,_=Math.imul(ee,qe),k=(k=Math.imul(ee,ze))+Math.imul(Z,qe)|0,T=Math.imul(Z,ze),_=_+Math.imul(R,At)|0,k=(k=k+Math.imul(R,Ke)|0)+Math.imul(H,At)|0,T=T+Math.imul(H,Ke)|0;var Zt=(W+(_=_+Math.imul(z,gt)|0)|0)+((8191&(k=(k=k+Math.imul(z,nt)|0)+Math.imul(X,gt)|0))<<13)|0;W=((T=T+Math.imul(X,nt)|0)+(k>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,_=Math.imul(oe,qe),k=(k=Math.imul(oe,ze))+Math.imul(le,qe)|0,T=Math.imul(le,ze),_=_+Math.imul(ee,At)|0,k=(k=k+Math.imul(ee,Ke)|0)+Math.imul(Z,At)|0,T=T+Math.imul(Z,Ke)|0,_=_+Math.imul(R,gt)|0,k=(k=k+Math.imul(R,nt)|0)+Math.imul(H,gt)|0,T=T+Math.imul(H,nt)|0;var sr=(W+(_=_+Math.imul(z,kt)|0)|0)+((8191&(k=(k=k+Math.imul(z,Xe)|0)+Math.imul(X,kt)|0))<<13)|0;W=((T=T+Math.imul(X,Xe)|0)+(k>>>13)|0)+(sr>>>26)|0,sr&=67108863,_=Math.imul(ie,qe),k=(k=Math.imul(ie,ze))+Math.imul(se,qe)|0,T=Math.imul(se,ze),_=_+Math.imul(oe,At)|0,k=(k=k+Math.imul(oe,Ke)|0)+Math.imul(le,At)|0,T=T+Math.imul(le,Ke)|0,_=_+Math.imul(ee,gt)|0,k=(k=k+Math.imul(ee,nt)|0)+Math.imul(Z,gt)|0,T=T+Math.imul(Z,nt)|0,_=_+Math.imul(R,kt)|0,k=(k=k+Math.imul(R,Xe)|0)+Math.imul(H,kt)|0,T=T+Math.imul(H,Xe)|0;var Nr=(W+(_=_+Math.imul(z,jt)|0)|0)+((8191&(k=(k=k+Math.imul(z,rt)|0)+Math.imul(X,jt)|0))<<13)|0;W=((T=T+Math.imul(X,rt)|0)+(k>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,_=Math.imul(ue,qe),k=(k=Math.imul(ue,ze))+Math.imul(he,qe)|0,T=Math.imul(he,ze),_=_+Math.imul(ie,At)|0,k=(k=k+Math.imul(ie,Ke)|0)+Math.imul(se,At)|0,T=T+Math.imul(se,Ke)|0,_=_+Math.imul(oe,gt)|0,k=(k=k+Math.imul(oe,nt)|0)+Math.imul(le,gt)|0,T=T+Math.imul(le,nt)|0,_=_+Math.imul(ee,kt)|0,k=(k=k+Math.imul(ee,Xe)|0)+Math.imul(Z,kt)|0,T=T+Math.imul(Z,Xe)|0,_=_+Math.imul(R,jt)|0,k=(k=k+Math.imul(R,rt)|0)+Math.imul(H,jt)|0,T=T+Math.imul(H,rt)|0;var ne=(W+(_=_+Math.imul(z,Dt)|0)|0)+((8191&(k=(k=k+Math.imul(z,it)|0)+Math.imul(X,Dt)|0))<<13)|0;W=((T=T+Math.imul(X,it)|0)+(k>>>13)|0)+(ne>>>26)|0,ne&=67108863,_=Math.imul(be,qe),k=(k=Math.imul(be,ze))+Math.imul(xe,qe)|0,T=Math.imul(xe,ze),_=_+Math.imul(ue,At)|0,k=(k=k+Math.imul(ue,Ke)|0)+Math.imul(he,At)|0,T=T+Math.imul(he,Ke)|0,_=_+Math.imul(ie,gt)|0,k=(k=k+Math.imul(ie,nt)|0)+Math.imul(se,gt)|0,T=T+Math.imul(se,nt)|0,_=_+Math.imul(oe,kt)|0,k=(k=k+Math.imul(oe,Xe)|0)+Math.imul(le,kt)|0,T=T+Math.imul(le,Xe)|0,_=_+Math.imul(ee,jt)|0,k=(k=k+Math.imul(ee,rt)|0)+Math.imul(Z,jt)|0,T=T+Math.imul(Z,rt)|0,_=_+Math.imul(R,Dt)|0,k=(k=k+Math.imul(R,it)|0)+Math.imul(H,Dt)|0,T=T+Math.imul(H,it)|0;var pe=(W+(_=_+Math.imul(z,fe)|0)|0)+((8191&(k=(k=k+Math.imul(z,ye)|0)+Math.imul(X,fe)|0))<<13)|0;W=((T=T+Math.imul(X,ye)|0)+(k>>>13)|0)+(pe>>>26)|0,pe&=67108863,_=Math.imul(Ne,qe),k=(k=Math.imul(Ne,ze))+Math.imul(Re,qe)|0,T=Math.imul(Re,ze),_=_+Math.imul(be,At)|0,k=(k=k+Math.imul(be,Ke)|0)+Math.imul(xe,At)|0,T=T+Math.imul(xe,Ke)|0,_=_+Math.imul(ue,gt)|0,k=(k=k+Math.imul(ue,nt)|0)+Math.imul(he,gt)|0,T=T+Math.imul(he,nt)|0,_=_+Math.imul(ie,kt)|0,k=(k=k+Math.imul(ie,Xe)|0)+Math.imul(se,kt)|0,T=T+Math.imul(se,Xe)|0,_=_+Math.imul(oe,jt)|0,k=(k=k+Math.imul(oe,rt)|0)+Math.imul(le,jt)|0,T=T+Math.imul(le,rt)|0,_=_+Math.imul(ee,Dt)|0,k=(k=k+Math.imul(ee,it)|0)+Math.imul(Z,Dt)|0,T=T+Math.imul(Z,it)|0,_=_+Math.imul(R,fe)|0,k=(k=k+Math.imul(R,ye)|0)+Math.imul(H,fe)|0,T=T+Math.imul(H,ye)|0;var we=(W+(_=_+Math.imul(z,Je)|0)|0)+((8191&(k=(k=k+Math.imul(z,Oe)|0)+Math.imul(X,Je)|0))<<13)|0;W=((T=T+Math.imul(X,Oe)|0)+(k>>>13)|0)+(we>>>26)|0,we&=67108863,_=Math.imul(Ce,qe),k=(k=Math.imul(Ce,ze))+Math.imul(Le,qe)|0,T=Math.imul(Le,ze),_=_+Math.imul(Ne,At)|0,k=(k=k+Math.imul(Ne,Ke)|0)+Math.imul(Re,At)|0,T=T+Math.imul(Re,Ke)|0,_=_+Math.imul(be,gt)|0,k=(k=k+Math.imul(be,nt)|0)+Math.imul(xe,gt)|0,T=T+Math.imul(xe,nt)|0,_=_+Math.imul(ue,kt)|0,k=(k=k+Math.imul(ue,Xe)|0)+Math.imul(he,kt)|0,T=T+Math.imul(he,Xe)|0,_=_+Math.imul(ie,jt)|0,k=(k=k+Math.imul(ie,rt)|0)+Math.imul(se,jt)|0,T=T+Math.imul(se,rt)|0,_=_+Math.imul(oe,Dt)|0,k=(k=k+Math.imul(oe,it)|0)+Math.imul(le,Dt)|0,T=T+Math.imul(le,it)|0,_=_+Math.imul(ee,fe)|0,k=(k=k+Math.imul(ee,ye)|0)+Math.imul(Z,fe)|0,T=T+Math.imul(Z,ye)|0,_=_+Math.imul(R,Je)|0,k=(k=k+Math.imul(R,Oe)|0)+Math.imul(H,Je)|0,T=T+Math.imul(H,Oe)|0;var Se=(W+(_=_+Math.imul(z,Ye)|0)|0)+((8191&(k=(k=k+Math.imul(z,Ge)|0)+Math.imul(X,Ye)|0))<<13)|0;W=((T=T+Math.imul(X,Ge)|0)+(k>>>13)|0)+(Se>>>26)|0,Se&=67108863,_=Math.imul(Ae,qe),k=(k=Math.imul(Ae,ze))+Math.imul(Ee,qe)|0,T=Math.imul(Ee,ze),_=_+Math.imul(Ce,At)|0,k=(k=k+Math.imul(Ce,Ke)|0)+Math.imul(Le,At)|0,T=T+Math.imul(Le,Ke)|0,_=_+Math.imul(Ne,gt)|0,k=(k=k+Math.imul(Ne,nt)|0)+Math.imul(Re,gt)|0,T=T+Math.imul(Re,nt)|0,_=_+Math.imul(be,kt)|0,k=(k=k+Math.imul(be,Xe)|0)+Math.imul(xe,kt)|0,T=T+Math.imul(xe,Xe)|0,_=_+Math.imul(ue,jt)|0,k=(k=k+Math.imul(ue,rt)|0)+Math.imul(he,jt)|0,T=T+Math.imul(he,rt)|0,_=_+Math.imul(ie,Dt)|0,k=(k=k+Math.imul(ie,it)|0)+Math.imul(se,Dt)|0,T=T+Math.imul(se,it)|0,_=_+Math.imul(oe,fe)|0,k=(k=k+Math.imul(oe,ye)|0)+Math.imul(le,fe)|0,T=T+Math.imul(le,ye)|0,_=_+Math.imul(ee,Je)|0,k=(k=k+Math.imul(ee,Oe)|0)+Math.imul(Z,Je)|0,T=T+Math.imul(Z,Oe)|0,_=_+Math.imul(R,Ye)|0,k=(k=k+Math.imul(R,Ge)|0)+Math.imul(H,Ye)|0,T=T+Math.imul(H,Ge)|0;var Ue=(W+(_=_+Math.imul(z,Qe)|0)|0)+((8191&(k=(k=k+Math.imul(z,ft)|0)+Math.imul(X,Qe)|0))<<13)|0;W=((T=T+Math.imul(X,ft)|0)+(k>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,_=Math.imul(Ae,At),k=(k=Math.imul(Ae,Ke))+Math.imul(Ee,At)|0,T=Math.imul(Ee,Ke),_=_+Math.imul(Ce,gt)|0,k=(k=k+Math.imul(Ce,nt)|0)+Math.imul(Le,gt)|0,T=T+Math.imul(Le,nt)|0,_=_+Math.imul(Ne,kt)|0,k=(k=k+Math.imul(Ne,Xe)|0)+Math.imul(Re,kt)|0,T=T+Math.imul(Re,Xe)|0,_=_+Math.imul(be,jt)|0,k=(k=k+Math.imul(be,rt)|0)+Math.imul(xe,jt)|0,T=T+Math.imul(xe,rt)|0,_=_+Math.imul(ue,Dt)|0,k=(k=k+Math.imul(ue,it)|0)+Math.imul(he,Dt)|0,T=T+Math.imul(he,it)|0,_=_+Math.imul(ie,fe)|0,k=(k=k+Math.imul(ie,ye)|0)+Math.imul(se,fe)|0,T=T+Math.imul(se,ye)|0,_=_+Math.imul(oe,Je)|0,k=(k=k+Math.imul(oe,Oe)|0)+Math.imul(le,Je)|0,T=T+Math.imul(le,Oe)|0,_=_+Math.imul(ee,Ye)|0,k=(k=k+Math.imul(ee,Ge)|0)+Math.imul(Z,Ye)|0,T=T+Math.imul(Z,Ge)|0;var Te=(W+(_=_+Math.imul(R,Qe)|0)|0)+((8191&(k=(k=k+Math.imul(R,ft)|0)+Math.imul(H,Qe)|0))<<13)|0;W=((T=T+Math.imul(H,ft)|0)+(k>>>13)|0)+(Te>>>26)|0,Te&=67108863,_=Math.imul(Ae,gt),k=(k=Math.imul(Ae,nt))+Math.imul(Ee,gt)|0,T=Math.imul(Ee,nt),_=_+Math.imul(Ce,kt)|0,k=(k=k+Math.imul(Ce,Xe)|0)+Math.imul(Le,kt)|0,T=T+Math.imul(Le,Xe)|0,_=_+Math.imul(Ne,jt)|0,k=(k=k+Math.imul(Ne,rt)|0)+Math.imul(Re,jt)|0,T=T+Math.imul(Re,rt)|0,_=_+Math.imul(be,Dt)|0,k=(k=k+Math.imul(be,it)|0)+Math.imul(xe,Dt)|0,T=T+Math.imul(xe,it)|0,_=_+Math.imul(ue,fe)|0,k=(k=k+Math.imul(ue,ye)|0)+Math.imul(he,fe)|0,T=T+Math.imul(he,ye)|0,_=_+Math.imul(ie,Je)|0,k=(k=k+Math.imul(ie,Oe)|0)+Math.imul(se,Je)|0,T=T+Math.imul(se,Oe)|0,_=_+Math.imul(oe,Ye)|0,k=(k=k+Math.imul(oe,Ge)|0)+Math.imul(le,Ye)|0,T=T+Math.imul(le,Ge)|0;var Me=(W+(_=_+Math.imul(ee,Qe)|0)|0)+((8191&(k=(k=k+Math.imul(ee,ft)|0)+Math.imul(Z,Qe)|0))<<13)|0;W=((T=T+Math.imul(Z,ft)|0)+(k>>>13)|0)+(Me>>>26)|0,Me&=67108863,_=Math.imul(Ae,kt),k=(k=Math.imul(Ae,Xe))+Math.imul(Ee,kt)|0,T=Math.imul(Ee,Xe),_=_+Math.imul(Ce,jt)|0,k=(k=k+Math.imul(Ce,rt)|0)+Math.imul(Le,jt)|0,T=T+Math.imul(Le,rt)|0,_=_+Math.imul(Ne,Dt)|0,k=(k=k+Math.imul(Ne,it)|0)+Math.imul(Re,Dt)|0,T=T+Math.imul(Re,it)|0,_=_+Math.imul(be,fe)|0,k=(k=k+Math.imul(be,ye)|0)+Math.imul(xe,fe)|0,T=T+Math.imul(xe,ye)|0,_=_+Math.imul(ue,Je)|0,k=(k=k+Math.imul(ue,Oe)|0)+Math.imul(he,Je)|0,T=T+Math.imul(he,Oe)|0,_=_+Math.imul(ie,Ye)|0,k=(k=k+Math.imul(ie,Ge)|0)+Math.imul(se,Ye)|0,T=T+Math.imul(se,Ge)|0;var wt=(W+(_=_+Math.imul(oe,Qe)|0)|0)+((8191&(k=(k=k+Math.imul(oe,ft)|0)+Math.imul(le,Qe)|0))<<13)|0;W=((T=T+Math.imul(le,ft)|0)+(k>>>13)|0)+(wt>>>26)|0,wt&=67108863,_=Math.imul(Ae,jt),k=(k=Math.imul(Ae,rt))+Math.imul(Ee,jt)|0,T=Math.imul(Ee,rt),_=_+Math.imul(Ce,Dt)|0,k=(k=k+Math.imul(Ce,it)|0)+Math.imul(Le,Dt)|0,T=T+Math.imul(Le,it)|0,_=_+Math.imul(Ne,fe)|0,k=(k=k+Math.imul(Ne,ye)|0)+Math.imul(Re,fe)|0,T=T+Math.imul(Re,ye)|0,_=_+Math.imul(be,Je)|0,k=(k=k+Math.imul(be,Oe)|0)+Math.imul(xe,Je)|0,T=T+Math.imul(xe,Oe)|0,_=_+Math.imul(ue,Ye)|0,k=(k=k+Math.imul(ue,Ge)|0)+Math.imul(he,Ye)|0,T=T+Math.imul(he,Ge)|0;var ut=(W+(_=_+Math.imul(ie,Qe)|0)|0)+((8191&(k=(k=k+Math.imul(ie,ft)|0)+Math.imul(se,Qe)|0))<<13)|0;W=((T=T+Math.imul(se,ft)|0)+(k>>>13)|0)+(ut>>>26)|0,ut&=67108863,_=Math.imul(Ae,Dt),k=(k=Math.imul(Ae,it))+Math.imul(Ee,Dt)|0,T=Math.imul(Ee,it),_=_+Math.imul(Ce,fe)|0,k=(k=k+Math.imul(Ce,ye)|0)+Math.imul(Le,fe)|0,T=T+Math.imul(Le,ye)|0,_=_+Math.imul(Ne,Je)|0,k=(k=k+Math.imul(Ne,Oe)|0)+Math.imul(Re,Je)|0,T=T+Math.imul(Re,Oe)|0,_=_+Math.imul(be,Ye)|0,k=(k=k+Math.imul(be,Ge)|0)+Math.imul(xe,Ye)|0,T=T+Math.imul(xe,Ge)|0;var pt=(W+(_=_+Math.imul(ue,Qe)|0)|0)+((8191&(k=(k=k+Math.imul(ue,ft)|0)+Math.imul(he,Qe)|0))<<13)|0;W=((T=T+Math.imul(he,ft)|0)+(k>>>13)|0)+(pt>>>26)|0,pt&=67108863,_=Math.imul(Ae,fe),k=(k=Math.imul(Ae,ye))+Math.imul(Ee,fe)|0,T=Math.imul(Ee,ye),_=_+Math.imul(Ce,Je)|0,k=(k=k+Math.imul(Ce,Oe)|0)+Math.imul(Le,Je)|0,T=T+Math.imul(Le,Oe)|0,_=_+Math.imul(Ne,Ye)|0,k=(k=k+Math.imul(Ne,Ge)|0)+Math.imul(Re,Ye)|0,T=T+Math.imul(Re,Ge)|0;var Ze=(W+(_=_+Math.imul(be,Qe)|0)|0)+((8191&(k=(k=k+Math.imul(be,ft)|0)+Math.imul(xe,Qe)|0))<<13)|0;W=((T=T+Math.imul(xe,ft)|0)+(k>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,_=Math.imul(Ae,Je),k=(k=Math.imul(Ae,Oe))+Math.imul(Ee,Je)|0,T=Math.imul(Ee,Oe),_=_+Math.imul(Ce,Ye)|0,k=(k=k+Math.imul(Ce,Ge)|0)+Math.imul(Le,Ye)|0,T=T+Math.imul(Le,Ge)|0;var It=(W+(_=_+Math.imul(Ne,Qe)|0)|0)+((8191&(k=(k=k+Math.imul(Ne,ft)|0)+Math.imul(Re,Qe)|0))<<13)|0;W=((T=T+Math.imul(Re,ft)|0)+(k>>>13)|0)+(It>>>26)|0,It&=67108863,_=Math.imul(Ae,Ye),k=(k=Math.imul(Ae,Ge))+Math.imul(Ee,Ye)|0,T=Math.imul(Ee,Ge);var Rt=(W+(_=_+Math.imul(Ce,Qe)|0)|0)+((8191&(k=(k=k+Math.imul(Ce,ft)|0)+Math.imul(Le,Qe)|0))<<13)|0;W=((T=T+Math.imul(Le,ft)|0)+(k>>>13)|0)+(Rt>>>26)|0,Rt&=67108863;var Ft=(W+(_=Math.imul(Ae,Qe))|0)+((8191&(k=(k=Math.imul(Ae,ft))+Math.imul(Ee,Qe)|0))<<13)|0;return W=((T=Math.imul(Ee,ft))+(k>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,q[0]=Gt,q[1]=Vt,q[2]=Zt,q[3]=sr,q[4]=Nr,q[5]=ne,q[6]=pe,q[7]=we,q[8]=Se,q[9]=Ue,q[10]=Te,q[11]=Me,q[12]=wt,q[13]=ut,q[14]=pt,q[15]=Ze,q[16]=It,q[17]=Rt,q[18]=Ft,W!==0&&(q[19]=W,S.length++),S};function A(N,x,S){S.negative=x.negative^N.negative,S.length=N.length+x.length;for(var _=0,k=0,T=0;T<S.length-1;T++){var B=k;k=0;for(var V=67108863&_,q=Math.min(T,x.length-1),W=Math.max(0,T-N.length+1);W<=q;W++){var J=T-W,z=(0|N.words[J])*(0|x.words[W]),X=67108863&z;V=67108863&(X=X+V|0),k+=(B=(B=B+(z/67108864|0)|0)+(X>>>26)|0)>>>26,B&=67108863}S.words[T]=V,_=B,B=k}return _!==0?S.words[T]=_:S.length--,S._strip()}function D(N,x,S){return A(N,x,S)}Math.imul||(E=w),o.prototype.mulTo=function(N,x){var S=this.length+N.length;return this.length===10&&N.length===10?E(this,N,x):S<63?w(this,N,x):S<1024?A(this,N,x):D(this,N,x)},o.prototype.mul=function(N){var x=new o(null);return x.words=new Array(this.length+N.length),this.mulTo(N,x)},o.prototype.mulf=function(N){var x=new o(null);return x.words=new Array(this.length+N.length),D(this,N,x)},o.prototype.imul=function(N){return this.clone().mulTo(N,this)},o.prototype.imuln=function(N){var x=N<0;x&&(N=-N),c(typeof N=="number"),c(N<67108864);for(var S=0,_=0;_<this.length;_++){var k=(0|this.words[_])*N,T=(67108863&k)+(67108863&S);S>>=26,S+=k/67108864|0,S+=T>>>26,this.words[_]=67108863&T}return S!==0&&(this.words[_]=S,this.length++),x?this.ineg():this},o.prototype.muln=function(N){return this.clone().imuln(N)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(N){var x=function(T){for(var B=new Array(T.bitLength()),V=0;V<B.length;V++){var q=V/26|0,W=V%26;B[V]=T.words[q]>>>W&1}return B}(N);if(x.length===0)return new o(1);for(var S=this,_=0;_<x.length&&x[_]===0;_++,S=S.sqr());if(++_<x.length)for(var k=S.sqr();_<x.length;_++,k=k.sqr())x[_]!==0&&(S=S.mul(k));return S},o.prototype.iushln=function(N){c(typeof N=="number"&&N>=0);var x,S=N%26,_=(N-S)/26,k=67108863>>>26-S<<26-S;if(S!==0){var T=0;for(x=0;x<this.length;x++){var B=this.words[x]&k,V=(0|this.words[x])-B<<S;this.words[x]=V|T,T=B>>>26-S}T&&(this.words[x]=T,this.length++)}if(_!==0){for(x=this.length-1;x>=0;x--)this.words[x+_]=this.words[x];for(x=0;x<_;x++)this.words[x]=0;this.length+=_}return this._strip()},o.prototype.ishln=function(N){return c(this.negative===0),this.iushln(N)},o.prototype.iushrn=function(N,x,S){var _;c(typeof N=="number"&&N>=0),_=x?(x-x%26)/26:0;var k=N%26,T=Math.min((N-k)/26,this.length),B=67108863^67108863>>>k<<k,V=S;if(_-=T,_=Math.max(0,_),V){for(var q=0;q<T;q++)V.words[q]=this.words[q];V.length=T}if(T!==0)if(this.length>T)for(this.length-=T,q=0;q<this.length;q++)this.words[q]=this.words[q+T];else this.words[0]=0,this.length=1;var W=0;for(q=this.length-1;q>=0&&(W!==0||q>=_);q--){var J=0|this.words[q];this.words[q]=W<<26-k|J>>>k,W=J&B}return V&&W!==0&&(V.words[V.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(N,x,S){return c(this.negative===0),this.iushrn(N,x,S)},o.prototype.shln=function(N){return this.clone().ishln(N)},o.prototype.ushln=function(N){return this.clone().iushln(N)},o.prototype.shrn=function(N){return this.clone().ishrn(N)},o.prototype.ushrn=function(N){return this.clone().iushrn(N)},o.prototype.testn=function(N){c(typeof N=="number"&&N>=0);var x=N%26,S=(N-x)/26,_=1<<x;return!(this.length<=S)&&!!(this.words[S]&_)},o.prototype.imaskn=function(N){c(typeof N=="number"&&N>=0);var x=N%26,S=(N-x)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(x!==0&&S++,this.length=Math.min(S,this.length),x!==0){var _=67108863^67108863>>>x<<x;this.words[this.length-1]&=_}return this._strip()},o.prototype.maskn=function(N){return this.clone().imaskn(N)},o.prototype.iaddn=function(N){return c(typeof N=="number"),c(N<67108864),N<0?this.isubn(-N):this.negative!==0?this.length===1&&(0|this.words[0])<=N?(this.words[0]=N-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(N),this.negative=1,this):this._iaddn(N)},o.prototype._iaddn=function(N){this.words[0]+=N;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},o.prototype.isubn=function(N){if(c(typeof N=="number"),c(N<67108864),N<0)return this.iaddn(-N);if(this.negative!==0)return this.negative=0,this.iaddn(N),this.negative=1,this;if(this.words[0]-=N,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},o.prototype.addn=function(N){return this.clone().iaddn(N)},o.prototype.subn=function(N){return this.clone().isubn(N)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(N,x,S){var _,k,T=N.length+S;this._expand(T);var B=0;for(_=0;_<N.length;_++){k=(0|this.words[_+S])+B;var V=(0|N.words[_])*x;B=((k-=67108863&V)>>26)-(V/67108864|0),this.words[_+S]=67108863&k}for(;_<this.length-S;_++)B=(k=(0|this.words[_+S])+B)>>26,this.words[_+S]=67108863&k;if(B===0)return this._strip();for(c(B===-1),B=0,_=0;_<this.length;_++)B=(k=-(0|this.words[_])+B)>>26,this.words[_]=67108863&k;return this.negative=1,this._strip()},o.prototype._wordDiv=function(N,x){var S=(this.length,N.length),_=this.clone(),k=N,T=0|k.words[k.length-1];(S=26-this._countBits(T))!==0&&(k=k.ushln(S),_.iushln(S),T=0|k.words[k.length-1]);var B,V=_.length-k.length;if(x!=="mod"){(B=new o(null)).length=V+1,B.words=new Array(B.length);for(var q=0;q<B.length;q++)B.words[q]=0}var W=_.clone()._ishlnsubmul(k,1,V);W.negative===0&&(_=W,B&&(B.words[V]=1));for(var J=V-1;J>=0;J--){var z=67108864*(0|_.words[k.length+J])+(0|_.words[k.length+J-1]);for(z=Math.min(z/T|0,67108863),_._ishlnsubmul(k,z,J);_.negative!==0;)z--,_.negative=0,_._ishlnsubmul(k,1,J),_.isZero()||(_.negative^=1);B&&(B.words[J]=z)}return B&&B._strip(),_._strip(),x!=="div"&&S!==0&&_.iushrn(S),{div:B||null,mod:_}},o.prototype.divmod=function(N,x,S){return c(!N.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&N.negative===0?(T=this.neg().divmod(N,x),x!=="mod"&&(_=T.div.neg()),x!=="div"&&(k=T.mod.neg(),S&&k.negative!==0&&k.iadd(N)),{div:_,mod:k}):this.negative===0&&N.negative!==0?(T=this.divmod(N.neg(),x),x!=="mod"&&(_=T.div.neg()),{div:_,mod:T.mod}):this.negative&N.negative?(T=this.neg().divmod(N.neg(),x),x!=="div"&&(k=T.mod.neg(),S&&k.negative!==0&&k.isub(N)),{div:T.div,mod:k}):N.length>this.length||this.cmp(N)<0?{div:new o(0),mod:this}:N.length===1?x==="div"?{div:this.divn(N.words[0]),mod:null}:x==="mod"?{div:null,mod:new o(this.modrn(N.words[0]))}:{div:this.divn(N.words[0]),mod:new o(this.modrn(N.words[0]))}:this._wordDiv(N,x);var _,k,T},o.prototype.div=function(N){return this.divmod(N,"div",!1).div},o.prototype.mod=function(N){return this.divmod(N,"mod",!1).mod},o.prototype.umod=function(N){return this.divmod(N,"mod",!0).mod},o.prototype.divRound=function(N){var x=this.divmod(N);if(x.mod.isZero())return x.div;var S=x.div.negative!==0?x.mod.isub(N):x.mod,_=N.ushrn(1),k=N.andln(1),T=S.cmp(_);return T<0||k===1&&T===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},o.prototype.modrn=function(N){var x=N<0;x&&(N=-N),c(N<=67108863);for(var S=(1<<26)%N,_=0,k=this.length-1;k>=0;k--)_=(S*_+(0|this.words[k]))%N;return x?-_:_},o.prototype.modn=function(N){return this.modrn(N)},o.prototype.idivn=function(N){var x=N<0;x&&(N=-N),c(N<=67108863);for(var S=0,_=this.length-1;_>=0;_--){var k=(0|this.words[_])+67108864*S;this.words[_]=k/N|0,S=k%N}return this._strip(),x?this.ineg():this},o.prototype.divn=function(N){return this.clone().idivn(N)},o.prototype.egcd=function(N){c(N.negative===0),c(!N.isZero());var x=this,S=N.clone();x=x.negative!==0?x.umod(N):x.clone();for(var _=new o(1),k=new o(0),T=new o(0),B=new o(1),V=0;x.isEven()&&S.isEven();)x.iushrn(1),S.iushrn(1),++V;for(var q=S.clone(),W=x.clone();!x.isZero();){for(var J=0,z=1;!(x.words[0]&z)&&J<26;++J,z<<=1);if(J>0)for(x.iushrn(J);J-- >0;)(_.isOdd()||k.isOdd())&&(_.iadd(q),k.isub(W)),_.iushrn(1),k.iushrn(1);for(var X=0,O=1;!(S.words[0]&O)&&X<26;++X,O<<=1);if(X>0)for(S.iushrn(X);X-- >0;)(T.isOdd()||B.isOdd())&&(T.iadd(q),B.isub(W)),T.iushrn(1),B.iushrn(1);x.cmp(S)>=0?(x.isub(S),_.isub(T),k.isub(B)):(S.isub(x),T.isub(_),B.isub(k))}return{a:T,b:B,gcd:S.iushln(V)}},o.prototype._invmp=function(N){c(N.negative===0),c(!N.isZero());var x=this,S=N.clone();x=x.negative!==0?x.umod(N):x.clone();for(var _,k=new o(1),T=new o(0),B=S.clone();x.cmpn(1)>0&&S.cmpn(1)>0;){for(var V=0,q=1;!(x.words[0]&q)&&V<26;++V,q<<=1);if(V>0)for(x.iushrn(V);V-- >0;)k.isOdd()&&k.iadd(B),k.iushrn(1);for(var W=0,J=1;!(S.words[0]&J)&&W<26;++W,J<<=1);if(W>0)for(S.iushrn(W);W-- >0;)T.isOdd()&&T.iadd(B),T.iushrn(1);x.cmp(S)>=0?(x.isub(S),k.isub(T)):(S.isub(x),T.isub(k))}return(_=x.cmpn(1)===0?k:T).cmpn(0)<0&&_.iadd(N),_},o.prototype.gcd=function(N){if(this.isZero())return N.abs();if(N.isZero())return this.abs();var x=this.clone(),S=N.clone();x.negative=0,S.negative=0;for(var _=0;x.isEven()&&S.isEven();_++)x.iushrn(1),S.iushrn(1);for(;;){for(;x.isEven();)x.iushrn(1);for(;S.isEven();)S.iushrn(1);var k=x.cmp(S);if(k<0){var T=x;x=S,S=T}else if(k===0||S.cmpn(1)===0)break;x.isub(S)}return S.iushln(_)},o.prototype.invm=function(N){return this.egcd(N).a.umod(N)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(N){return this.words[0]&N},o.prototype.bincn=function(N){c(typeof N=="number");var x=N%26,S=(N-x)/26,_=1<<x;if(this.length<=S)return this._expand(S+1),this.words[S]|=_,this;for(var k=_,T=S;k!==0&&T<this.length;T++){var B=0|this.words[T];k=(B+=k)>>>26,B&=67108863,this.words[T]=B}return k!==0&&(this.words[T]=k,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(N){var x,S=N<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;if(this._strip(),this.length>1)x=1;else{S&&(N=-N),c(N<=67108863,"Number is too big");var _=0|this.words[0];x=_===N?0:_<N?-1:1}return this.negative!==0?0|-x:x},o.prototype.cmp=function(N){if(this.negative!==0&&N.negative===0)return-1;if(this.negative===0&&N.negative!==0)return 1;var x=this.ucmp(N);return this.negative!==0?0|-x:x},o.prototype.ucmp=function(N){if(this.length>N.length)return 1;if(this.length<N.length)return-1;for(var x=0,S=this.length-1;S>=0;S--){var _=0|this.words[S],k=0|N.words[S];if(_!==k){_<k?x=-1:_>k&&(x=1);break}}return x},o.prototype.gtn=function(N){return this.cmpn(N)===1},o.prototype.gt=function(N){return this.cmp(N)===1},o.prototype.gten=function(N){return this.cmpn(N)>=0},o.prototype.gte=function(N){return this.cmp(N)>=0},o.prototype.ltn=function(N){return this.cmpn(N)===-1},o.prototype.lt=function(N){return this.cmp(N)===-1},o.prototype.lten=function(N){return this.cmpn(N)<=0},o.prototype.lte=function(N){return this.cmp(N)<=0},o.prototype.eqn=function(N){return this.cmpn(N)===0},o.prototype.eq=function(N){return this.cmp(N)===0},o.red=function(N){return new j(N)},o.prototype.toRed=function(N){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),N.convertTo(this)._forceRed(N)},o.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(N){return this.red=N,this},o.prototype.forceRed=function(N){return c(!this.red,"Already a number in reduction context"),this._forceRed(N)},o.prototype.redAdd=function(N){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,N)},o.prototype.redIAdd=function(N){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,N)},o.prototype.redSub=function(N){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,N)},o.prototype.redISub=function(N){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,N)},o.prototype.redShl=function(N){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,N)},o.prototype.redMul=function(N){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.mul(this,N)},o.prototype.redIMul=function(N){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.imul(this,N)},o.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(N){return c(this.red&&!N.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,N)};var L={k256:null,p224:null,p192:null,p25519:null};function C(N,x){this.name=N,this.p=new o(x,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function F(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function $(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function U(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function j(N){if(typeof N=="string"){var x=o._prime(N);this.m=x.p,this.prime=x}else c(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}function P(N){j.call(this,N),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}C.prototype._tmp=function(){var N=new o(null);return N.words=new Array(Math.ceil(this.n/13)),N},C.prototype.ireduce=function(N){var x,S=N;do this.split(S,this.tmp),x=(S=(S=this.imulK(S)).iadd(this.tmp)).bitLength();while(x>this.n);var _=x<this.n?-1:S.ucmp(this.p);return _===0?(S.words[0]=0,S.length=1):_>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},C.prototype.split=function(N,x){N.iushrn(this.n,0,x)},C.prototype.imulK=function(N){return N.imul(this.k)},l(M,C),M.prototype.split=function(N,x){for(var S=Math.min(N.length,9),_=0;_<S;_++)x.words[_]=N.words[_];if(x.length=S,N.length<=9)return N.words[0]=0,void(N.length=1);var k=N.words[9];for(x.words[x.length++]=4194303&k,_=10;_<N.length;_++){var T=0|N.words[_];N.words[_-10]=(4194303&T)<<4|k>>>22,k=T}k>>>=22,N.words[_-10]=k,k===0&&N.length>10?N.length-=10:N.length-=9},M.prototype.imulK=function(N){N.words[N.length]=0,N.words[N.length+1]=0,N.length+=2;for(var x=0,S=0;S<N.length;S++){var _=0|N.words[S];x+=977*_,N.words[S]=67108863&x,x=64*_+(x/67108864|0)}return N.words[N.length-1]===0&&(N.length--,N.words[N.length-1]===0&&N.length--),N},l(F,C),l($,C),l(U,C),U.prototype.imulK=function(N){for(var x=0,S=0;S<N.length;S++){var _=19*(0|N.words[S])+x,k=67108863&_;_>>>=26,N.words[S]=k,x=_}return x!==0&&(N.words[N.length++]=x),N},o._prime=function(N){if(L[N])return L[N];var x;if(N==="k256")x=new M;else if(N==="p224")x=new F;else if(N==="p192")x=new $;else{if(N!=="p25519")throw new Error("Unknown prime "+N);x=new U}return L[N]=x,x},j.prototype._verify1=function(N){c(N.negative===0,"red works only with positives"),c(N.red,"red works only with red numbers")},j.prototype._verify2=function(N,x){c((N.negative|x.negative)==0,"red works only with positives"),c(N.red&&N.red===x.red,"red works only with red numbers")},j.prototype.imod=function(N){return this.prime?this.prime.ireduce(N)._forceRed(this):(g(N,N.umod(this.m)._forceRed(this)),N)},j.prototype.neg=function(N){return N.isZero()?N.clone():this.m.sub(N)._forceRed(this)},j.prototype.add=function(N,x){this._verify2(N,x);var S=N.add(x);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},j.prototype.iadd=function(N,x){this._verify2(N,x);var S=N.iadd(x);return S.cmp(this.m)>=0&&S.isub(this.m),S},j.prototype.sub=function(N,x){this._verify2(N,x);var S=N.sub(x);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},j.prototype.isub=function(N,x){this._verify2(N,x);var S=N.isub(x);return S.cmpn(0)<0&&S.iadd(this.m),S},j.prototype.shl=function(N,x){return this._verify1(N),this.imod(N.ushln(x))},j.prototype.imul=function(N,x){return this._verify2(N,x),this.imod(N.imul(x))},j.prototype.mul=function(N,x){return this._verify2(N,x),this.imod(N.mul(x))},j.prototype.isqr=function(N){return this.imul(N,N.clone())},j.prototype.sqr=function(N){return this.mul(N,N)},j.prototype.sqrt=function(N){if(N.isZero())return N.clone();var x=this.m.andln(3);if(c(x%2==1),x===3){var S=this.m.add(new o(1)).iushrn(2);return this.pow(N,S)}for(var _=this.m.subn(1),k=0;!_.isZero()&&_.andln(1)===0;)k++,_.iushrn(1);c(!_.isZero());var T=new o(1).toRed(this),B=T.redNeg(),V=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=new o(2*q*q).toRed(this);this.pow(q,V).cmp(B)!==0;)q.redIAdd(B);for(var W=this.pow(q,_),J=this.pow(N,_.addn(1).iushrn(1)),z=this.pow(N,_),X=k;z.cmp(T)!==0;){for(var O=z,R=0;O.cmp(T)!==0;R++)O=O.redSqr();c(R<X);var H=this.pow(W,new o(1).iushln(X-R-1));J=J.redMul(H),W=H.redSqr(),z=z.redMul(W),X=R}return J},j.prototype.invm=function(N){var x=N._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},j.prototype.pow=function(N,x){if(x.isZero())return new o(1).toRed(this);if(x.cmpn(1)===0)return N.clone();var S=new Array(16);S[0]=new o(1).toRed(this),S[1]=N;for(var _=2;_<S.length;_++)S[_]=this.mul(S[_-1],N);var k=S[0],T=0,B=0,V=x.bitLength()%26;for(V===0&&(V=26),_=x.length-1;_>=0;_--){for(var q=x.words[_],W=V-1;W>=0;W--){var J=q>>W&1;k!==S[0]&&(k=this.sqr(k)),J!==0||T!==0?(T<<=1,T|=J,(++B===4||_===0&&W===0)&&(k=this.mul(k,S[T]),B=0,T=0)):B=0}V=26}return k},j.prototype.convertTo=function(N){var x=N.umod(this.m);return x===N?x.clone():x},j.prototype.convertFrom=function(N){var x=N.clone();return x.red=null,x},o.mont=function(N){return new P(N)},l(P,j),P.prototype.convertTo=function(N){return this.imod(N.ushln(this.shift))},P.prototype.convertFrom=function(N){var x=this.imod(N.mul(this.rinv));return x.red=null,x},P.prototype.imul=function(N,x){if(N.isZero()||x.isZero())return N.words[0]=0,N.length=1,N;var S=N.imul(x),_=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=S.isub(_).iushrn(this.shift),T=k;return k.cmp(this.m)>=0?T=k.isub(this.m):k.cmpn(0)<0&&(T=k.iadd(this.m)),T._forceRed(this)},P.prototype.mul=function(N,x){if(N.isZero()||x.isZero())return new o(0)._forceRed(this);var S=N.mul(x),_=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=S.isub(_).iushrn(this.shift),T=k;return k.cmp(this.m)>=0?T=k.isub(this.m):k.cmpn(0)<0&&(T=k.iadd(this.m)),T._forceRed(this)},P.prototype.invm=function(N){return this.imod(N._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(e,n,i){var s;function a(l){this.rand=l}if(n.exports=function(l){return s||(s=new a(null)),s.generate(l)},n.exports.Rand=a,a.prototype.generate=function(l){return this._rand(l)},a.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var o=new Uint8Array(l),u=0;u<o.length;u++)o[u]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(l){var o=new Uint8Array(l);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(l){var o=new Uint8Array(l);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var c=e("crypto");if(typeof c.randomBytes!="function")throw new Error("Not supported");a.prototype._rand=function(l){return c.randomBytes(l)}}catch{}},{crypto:188}],188:[function(e,n,i){},{}],189:[function(e,n,i){var s=e("safe-buffer").Buffer;function a(d){s.isBuffer(d)||(d=s.from(d));for(var h=d.length/4|0,g=new Array(h),b=0;b<h;b++)g[b]=d.readUInt32BE(4*b);return g}function c(d){for(;0<d.length;d++)d[0]=0}function l(d,h,g,b,m){for(var y,v,w,E,A=g[0],D=g[1],L=g[2],C=g[3],M=d[0]^h[0],F=d[1]^h[1],$=d[2]^h[2],U=d[3]^h[3],j=4,P=1;P<m;P++)y=A[M>>>24]^D[F>>>16&255]^L[$>>>8&255]^C[255&U]^h[j++],v=A[F>>>24]^D[$>>>16&255]^L[U>>>8&255]^C[255&M]^h[j++],w=A[$>>>24]^D[U>>>16&255]^L[M>>>8&255]^C[255&F]^h[j++],E=A[U>>>24]^D[M>>>16&255]^L[F>>>8&255]^C[255&$]^h[j++],M=y,F=v,$=w,U=E;return y=(b[M>>>24]<<24|b[F>>>16&255]<<16|b[$>>>8&255]<<8|b[255&U])^h[j++],v=(b[F>>>24]<<24|b[$>>>16&255]<<16|b[U>>>8&255]<<8|b[255&M])^h[j++],w=(b[$>>>24]<<24|b[U>>>16&255]<<16|b[M>>>8&255]<<8|b[255&F])^h[j++],E=(b[U>>>24]<<24|b[M>>>16&255]<<16|b[F>>>8&255]<<8|b[255&$])^h[j++],[y>>>=0,v>>>=0,w>>>=0,E>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var d=new Array(256),h=0;h<256;h++)d[h]=h<128?h<<1:h<<1^283;for(var g=[],b=[],m=[[],[],[],[]],y=[[],[],[],[]],v=0,w=0,E=0;E<256;++E){var A=w^w<<1^w<<2^w<<3^w<<4;A=A>>>8^255&A^99,g[v]=A,b[A]=v;var D=d[v],L=d[D],C=d[L],M=257*d[A]^16843008*A;m[0][v]=M<<24|M>>>8,m[1][v]=M<<16|M>>>16,m[2][v]=M<<8|M>>>24,m[3][v]=M,M=16843009*C^65537*L^257*D^16843008*v,y[0][A]=M<<24|M>>>8,y[1][A]=M<<16|M>>>16,y[2][A]=M<<8|M>>>24,y[3][A]=M,v===0?v=w=1:(v=D^d[d[d[C^D]]],w^=d[d[w]])}return{SBOX:g,INV_SBOX:b,SUB_MIX:m,INV_SUB_MIX:y}}();function p(d){this._key=a(d),this._reset()}p.blockSize=16,p.keySize=32,p.prototype.blockSize=p.blockSize,p.prototype.keySize=p.keySize,p.prototype._reset=function(){for(var d=this._key,h=d.length,g=h+6,b=4*(g+1),m=[],y=0;y<h;y++)m[y]=d[y];for(y=h;y<b;y++){var v=m[y-1];y%h==0?(v=v<<8|v>>>24,v=u.SBOX[v>>>24]<<24|u.SBOX[v>>>16&255]<<16|u.SBOX[v>>>8&255]<<8|u.SBOX[255&v],v^=o[y/h|0]<<24):h>6&&y%h==4&&(v=u.SBOX[v>>>24]<<24|u.SBOX[v>>>16&255]<<16|u.SBOX[v>>>8&255]<<8|u.SBOX[255&v]),m[y]=m[y-h]^v}for(var w=[],E=0;E<b;E++){var A=b-E,D=m[A-(E%4?0:4)];w[E]=E<4||A<=4?D:u.INV_SUB_MIX[0][u.SBOX[D>>>24]]^u.INV_SUB_MIX[1][u.SBOX[D>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[D>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&D]]}this._nRounds=g,this._keySchedule=m,this._invKeySchedule=w},p.prototype.encryptBlockRaw=function(d){return l(d=a(d),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},p.prototype.encryptBlock=function(d){var h=this.encryptBlockRaw(d),g=s.allocUnsafe(16);return g.writeUInt32BE(h[0],0),g.writeUInt32BE(h[1],4),g.writeUInt32BE(h[2],8),g.writeUInt32BE(h[3],12),g},p.prototype.decryptBlock=function(d){var h=(d=a(d))[1];d[1]=d[3],d[3]=h;var g=l(d,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),b=s.allocUnsafe(16);return b.writeUInt32BE(g[0],0),b.writeUInt32BE(g[3],4),b.writeUInt32BE(g[2],8),b.writeUInt32BE(g[1],12),b},p.prototype.scrub=function(){c(this._keySchedule),c(this._invKeySchedule),c(this._key)},n.exports.AES=p},{"safe-buffer":494}],190:[function(e,n,i){var s=e("./aes"),a=e("safe-buffer").Buffer,c=e("cipher-base"),l=e("inherits"),o=e("./ghash"),u=e("buffer-xor"),p=e("./incr32");function d(h,g,b,m){c.call(this);var y=a.alloc(4,0);this._cipher=new s.AES(g);var v=this._cipher.encryptBlock(y);this._ghash=new o(v),b=function(w,E,A){if(E.length===12)return w._finID=a.concat([E,a.from([0,0,0,1])]),a.concat([E,a.from([0,0,0,2])]);var D=new o(A),L=E.length,C=L%16;D.update(E),C&&(C=16-C,D.update(a.alloc(C,0))),D.update(a.alloc(8,0));var M=8*L,F=a.alloc(8);F.writeUIntBE(M,0,8),D.update(F),w._finID=D.state;var $=a.from(w._finID);return p($),$}(this,b,v),this._prev=a.from(b),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}l(d,c),d.prototype._update=function(h){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=a.alloc(g,0),this._ghash.update(g))}this._called=!0;var b=this._mode.encrypt(this,h);return this._decrypt?this._ghash.update(h):this._ghash.update(b),this._len+=h.length,b},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var h=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(g,b){var m=0;g.length!==b.length&&m++;for(var y=Math.min(g.length,b.length),v=0;v<y;++v)m+=g[v]^b[v];return m}(h,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=h,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(h){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=h},d.prototype.setAAD=function(h){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(h),this._alen+=h.length},n.exports=d},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,n,i){var s=e("./encrypter"),a=e("./decrypter"),c=e("./modes/list.json");i.createCipher=i.Cipher=s.createCipher,i.createCipheriv=i.Cipheriv=s.createCipheriv,i.createDecipher=i.Decipher=a.createDecipher,i.createDecipheriv=i.Decipheriv=a.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(c)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,n,i){var s=e("./authCipher"),a=e("safe-buffer").Buffer,c=e("./modes"),l=e("./streamCipher"),o=e("cipher-base"),u=e("./aes"),p=e("evp_bytestokey");function d(b,m,y){o.call(this),this._cache=new h,this._last=void 0,this._cipher=new u.AES(m),this._prev=a.from(y),this._mode=b,this._autopadding=!0}function h(){this.cache=a.allocUnsafe(0)}function g(b,m,y){var v=c[b.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=a.from(y)),v.mode!=="GCM"&&y.length!==v.iv)throw new TypeError("invalid iv length "+y.length);if(typeof m=="string"&&(m=a.from(m)),m.length!==v.key/8)throw new TypeError("invalid key length "+m.length);return v.type==="stream"?new l(v.module,m,y,!0):v.type==="auth"?new s(v.module,m,y,!0):new d(v.module,m,y)}e("inherits")(d,o),d.prototype._update=function(b){var m,y;this._cache.add(b);for(var v=[];m=this._cache.get(this._autopadding);)y=this._mode.decrypt(this,m),v.push(y);return a.concat(v)},d.prototype._final=function(){var b=this._cache.flush();if(this._autopadding)return function(m){var y=m[15];if(y<1||y>16)throw new Error("unable to decrypt data");for(var v=-1;++v<y;)if(m[v+(16-y)]!==y)throw new Error("unable to decrypt data");if(y!==16)return m.slice(0,16-y)}(this._mode.decrypt(this,b));if(b)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(b){return this._autopadding=!!b,this},h.prototype.add=function(b){this.cache=a.concat([this.cache,b])},h.prototype.get=function(b){var m;if(b){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(b,m){var y=c[b.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var v=p(m,!1,y.key,y.iv);return g(b,v.key,v.iv)},i.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,n,i){var s=e("./modes"),a=e("./authCipher"),c=e("safe-buffer").Buffer,l=e("./streamCipher"),o=e("cipher-base"),u=e("./aes"),p=e("evp_bytestokey");function d(m,y,v){o.call(this),this._cache=new g,this._cipher=new u.AES(y),this._prev=c.from(v),this._mode=m,this._autopadding=!0}e("inherits")(d,o),d.prototype._update=function(m){var y,v;this._cache.add(m);for(var w=[];y=this._cache.get();)v=this._mode.encrypt(this,y),w.push(v);return c.concat(w)};var h=c.alloc(16,16);function g(){this.cache=c.allocUnsafe(0)}function b(m,y,v){var w=s[m.toLowerCase()];if(!w)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=c.from(y)),y.length!==w.key/8)throw new TypeError("invalid key length "+y.length);if(typeof v=="string"&&(v=c.from(v)),w.mode!=="GCM"&&v.length!==w.iv)throw new TypeError("invalid iv length "+v.length);return w.type==="stream"?new l(w.module,y,v):w.type==="auth"?new a(w.module,y,v):new d(w.module,y,v)}d.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},g.prototype.add=function(m){this.cache=c.concat([this.cache,m])},g.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},g.prototype.flush=function(){for(var m=16-this.cache.length,y=c.allocUnsafe(m),v=-1;++v<m;)y.writeUInt8(m,v);return c.concat([this.cache,y])},i.createCipheriv=b,i.createCipher=function(m,y){var v=s[m.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var w=p(y,!1,v.key,v.iv);return b(m,w.key,w.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,n,i){var s=e("safe-buffer").Buffer,a=s.alloc(16,0);function c(o){var u=s.allocUnsafe(16);return u.writeUInt32BE(o[0]>>>0,0),u.writeUInt32BE(o[1]>>>0,4),u.writeUInt32BE(o[2]>>>0,8),u.writeUInt32BE(o[3]>>>0,12),u}function l(o){this.h=o,this.state=s.alloc(16,0),this.cache=s.allocUnsafe(0)}l.prototype.ghash=function(o){for(var u=-1;++u<o.length;)this.state[u]^=o[u];this._multiply()},l.prototype._multiply=function(){for(var o,u,p,d=[(o=this.h).readUInt32BE(0),o.readUInt32BE(4),o.readUInt32BE(8),o.readUInt32BE(12)],h=[0,0,0,0],g=-1;++g<128;){for(this.state[~~(g/8)]&1<<7-g%8&&(h[0]^=d[0],h[1]^=d[1],h[2]^=d[2],h[3]^=d[3]),p=(1&d[3])!=0,u=3;u>0;u--)d[u]=d[u]>>>1|(1&d[u-1])<<31;d[0]=d[0]>>>1,p&&(d[0]=d[0]^225<<24)}this.state=c(h)},l.prototype.update=function(o){var u;for(this.cache=s.concat([this.cache,o]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},l.prototype.final=function(o,u){return this.cache.length&&this.ghash(s.concat([this.cache,a],16)),this.ghash(c([0,o,0,u])),this.state},n.exports=l},{"safe-buffer":494}],195:[function(e,n,i){n.exports=function(s){for(var a,c=s.length;c--;){if((a=s.readUInt8(c))!==255){a++,s.writeUInt8(a,c);break}s.writeUInt8(0,c)}}},{}],196:[function(e,n,i){var s=e("buffer-xor");i.encrypt=function(a,c){var l=s(c,a._prev);return a._prev=a._cipher.encryptBlock(l),a._prev},i.decrypt=function(a,c){var l=a._prev;a._prev=c;var o=a._cipher.decryptBlock(c);return s(o,l)}},{"buffer-xor":219}],197:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("buffer-xor");function c(l,o,u){var p=o.length,d=a(o,l._cache);return l._cache=l._cache.slice(p),l._prev=s.concat([l._prev,u?o:d]),d}i.encrypt=function(l,o,u){for(var p,d=s.allocUnsafe(0);o.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=s.allocUnsafe(0)),!(l._cache.length<=o.length)){d=s.concat([d,c(l,o,u)]);break}p=l._cache.length,d=s.concat([d,c(l,o.slice(0,p),u)]),o=o.slice(p)}return d}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,n,i){var s=e("safe-buffer").Buffer;function a(l,o,u){for(var p,d,h=-1,g=0;++h<8;)p=o&1<<7-h?128:0,g+=(128&(d=l._cipher.encryptBlock(l._prev)[0]^p))>>h%8,l._prev=c(l._prev,u?p:d);return g}function c(l,o){var u=l.length,p=-1,d=s.allocUnsafe(l.length);for(l=s.concat([l,s.from([o])]);++p<u;)d[p]=l[p]<<1|l[p+1]>>7;return d}i.encrypt=function(l,o,u){for(var p=o.length,d=s.allocUnsafe(p),h=-1;++h<p;)d[h]=a(l,o[h],u);return d}},{"safe-buffer":494}],199:[function(e,n,i){var s=e("safe-buffer").Buffer;function a(c,l,o){var u=c._cipher.encryptBlock(c._prev)[0]^l;return c._prev=s.concat([c._prev.slice(1),s.from([o?l:u])]),u}i.encrypt=function(c,l,o){for(var u=l.length,p=s.allocUnsafe(u),d=-1;++d<u;)p[d]=a(c,l[d],o);return p}},{"safe-buffer":494}],200:[function(e,n,i){var s=e("buffer-xor"),a=e("safe-buffer").Buffer,c=e("../incr32");function l(o){var u=o._cipher.encryptBlockRaw(o._prev);return c(o._prev),u}i.encrypt=function(o,u){var p=Math.ceil(u.length/16),d=o._cache.length;o._cache=a.concat([o._cache,a.allocUnsafe(16*p)]);for(var h=0;h<p;h++){var g=l(o),b=d+16*h;o._cache.writeUInt32BE(g[0],b+0),o._cache.writeUInt32BE(g[1],b+4),o._cache.writeUInt32BE(g[2],b+8),o._cache.writeUInt32BE(g[3],b+12)}var m=o._cache.slice(0,u.length);return o._cache=o._cache.slice(u.length),s(u,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,n,i){i.encrypt=function(s,a){return s._cipher.encryptBlock(a)},i.decrypt=function(s,a){return s._cipher.decryptBlock(a)}},{}],202:[function(e,n,i){var s={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},a=e("./list.json");for(var c in a)a[c].module=s[a[c].mode];n.exports=a},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,n,i){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,n,i){(function(s){(function(){var a=e("buffer-xor");function c(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}i.encrypt=function(l,o){for(;l._cache.length<o.length;)l._cache=s.concat([l._cache,c(l)]);var u=l._cache.slice(0,o.length);return l._cache=l._cache.slice(o.length),a(o,u)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,n,i){var s=e("./aes"),a=e("safe-buffer").Buffer,c=e("cipher-base");function l(o,u,p,d){c.call(this),this._cipher=new s.AES(u),this._prev=a.from(p),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=d,this._mode=o}e("inherits")(l,c),l.prototype._update=function(o){return this._mode.encrypt(this,o,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},n.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,n,i){var s=e("browserify-des"),a=e("browserify-aes/browser"),c=e("browserify-aes/modes"),l=e("browserify-des/modes"),o=e("evp_bytestokey");function u(d,h,g){if(d=d.toLowerCase(),c[d])return a.createCipheriv(d,h,g);if(l[d])return new s({key:h,iv:g,mode:d});throw new TypeError("invalid suite type")}function p(d,h,g){if(d=d.toLowerCase(),c[d])return a.createDecipheriv(d,h,g);if(l[d])return new s({key:h,iv:g,mode:d,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(d,h){var g,b;if(d=d.toLowerCase(),c[d])g=c[d].key,b=c[d].iv;else{if(!l[d])throw new TypeError("invalid suite type");g=8*l[d].key,b=l[d].iv}var m=o(h,!1,g,b);return u(d,m.key,m.iv)},i.createCipheriv=i.Cipheriv=u,i.createDecipher=i.Decipher=function(d,h){var g,b;if(d=d.toLowerCase(),c[d])g=c[d].key,b=c[d].iv;else{if(!l[d])throw new TypeError("invalid suite type");g=8*l[d].key,b=l[d].iv}var m=o(h,!1,g,b);return p(d,m.key,m.iv)},i.createDecipheriv=i.Decipheriv=p,i.listCiphers=i.getCiphers=function(){return Object.keys(l).concat(a.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,n,i){var s=e("cipher-base"),a=e("des.js"),c=e("inherits"),l=e("safe-buffer").Buffer,o={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};function u(p){s.call(this);var d,h=p.mode.toLowerCase(),g=o[h];d=p.decrypt?"decrypt":"encrypt";var b=p.key;l.isBuffer(b)||(b=l.from(b)),h!=="des-ede"&&h!=="des-ede-cbc"||(b=l.concat([b,b.slice(0,8)]));var m=p.iv;l.isBuffer(m)||(m=l.from(m)),this._des=g.create({key:b,iv:m,type:d})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],n.exports=u,c(u,s),u.prototype._update=function(p){return l.from(this._des.update(p))},u.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,n,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],209:[function(e,n,i){(function(s){(function(){var a=e("bn.js"),c=e("randombytes");function l(u){var p,d=u.modulus.byteLength();do p=new a(c(d));while(p.cmp(u.modulus)>=0||!p.umod(u.prime1)||!p.umod(u.prime2));return p}function o(u,p){var d=function(L){var C=l(L);return{blinder:C.toRed(a.mont(L.modulus)).redPow(new a(L.publicExponent)).fromRed(),unblinder:C.invm(L.modulus)}}(p),h=p.modulus.byteLength(),g=new a(u).mul(d.blinder).umod(p.modulus),b=g.toRed(a.mont(p.prime1)),m=g.toRed(a.mont(p.prime2)),y=p.coefficient,v=p.prime1,w=p.prime2,E=b.redPow(p.exponent1).fromRed(),A=m.redPow(p.exponent2).fromRed(),D=E.isub(A).imul(y).umod(v).imul(w);return A.iadd(D).imul(d.unblinder).umod(p.modulus).toArrayLike(s,"be",h)}o.getr=l,n.exports=o}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,n,i){n.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,n,i){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,n,i){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("create-hash"),c=e("readable-stream"),l=e("inherits"),o=e("./sign"),u=e("./verify"),p=e("./algorithms.json");function d(m){c.Writable.call(this);var y=p[m];if(!y)throw new Error("Unknown message digest");this._hashType=y.hash,this._hash=a(y.hash),this._tag=y.id,this._signType=y.sign}function h(m){c.Writable.call(this);var y=p[m];if(!y)throw new Error("Unknown message digest");this._hash=a(y.hash),this._tag=y.id,this._signType=y.sign}function g(m){return new d(m)}function b(m){return new h(m)}Object.keys(p).forEach(function(m){p[m].id=s.from(p[m].id,"hex"),p[m.toLowerCase()]=p[m]}),l(d,c.Writable),d.prototype._write=function(m,y,v){this._hash.update(m),v()},d.prototype.update=function(m,y){return typeof m=="string"&&(m=s.from(m,y)),this._hash.update(m),this},d.prototype.sign=function(m,y){this.end();var v=this._hash.digest(),w=o(v,m,this._hashType,this._signType,this._tag);return y?w.toString(y):w},l(h,c.Writable),h.prototype._write=function(m,y,v){this._hash.update(m),v()},h.prototype.update=function(m,y){return typeof m=="string"&&(m=s.from(m,y)),this._hash.update(m),this},h.prototype.verify=function(m,y,v){typeof y=="string"&&(y=s.from(y,v)),this.end();var w=this._hash.digest();return u(y,w,m,this._signType,this._tag)},n.exports={Sign:g,Verify:b,createSign:g,createVerify:b}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("create-hmac"),c=e("browserify-rsa"),l=e("elliptic").ec,o=e("bn.js"),u=e("parse-asn1"),p=e("./curves.json");function d(m,y,v,w){if((m=s.from(m.toArray())).length<y.byteLength()){var E=s.alloc(y.byteLength()-m.length);m=s.concat([E,m])}var A=v.length,D=function(M,F){M=(M=h(M,F)).mod(F);var $=s.from(M.toArray());if($.length<F.byteLength()){var U=s.alloc(F.byteLength()-$.length);$=s.concat([U,$])}return $}(v,y),L=s.alloc(A);L.fill(1);var C=s.alloc(A);return C=a(w,C).update(L).update(s.from([0])).update(m).update(D).digest(),L=a(w,C).update(L).digest(),{k:C=a(w,C).update(L).update(s.from([1])).update(m).update(D).digest(),v:L=a(w,C).update(L).digest()}}function h(m,y){var v=new o(m),w=(m.length<<3)-y.bitLength();return w>0&&v.ishrn(w),v}function g(m,y,v){var w,E;do{for(w=s.alloc(0);8*w.length<m.bitLength();)y.v=a(v,y.k).update(y.v).digest(),w=s.concat([w,y.v]);E=h(w,m),y.k=a(v,y.k).update(y.v).update(s.from([0])).digest(),y.v=a(v,y.k).update(y.v).digest()}while(E.cmp(m)!==-1);return E}function b(m,y,v,w){return m.toRed(o.mont(v)).redPow(y).fromRed().mod(w)}n.exports=function(m,y,v,w,E){var A=u(y);if(A.curve){if(w!=="ecdsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");return function(M,F){var $=p[F.curve.join(".")];if(!$)throw new Error("unknown curve "+F.curve.join("."));var U=new l($).keyFromPrivate(F.privateKey).sign(M);return s.from(U.toDER())}(m,A)}if(A.type==="dsa"){if(w!=="dsa")throw new Error("wrong private key type");return function(M,F,$){for(var U,j=F.params.priv_key,P=F.params.p,N=F.params.q,x=F.params.g,S=new o(0),_=h(M,N).mod(N),k=!1,T=d(j,N,M,$);k===!1;)U=g(N,T,$),S=b(x,U,P,N),(k=U.invm(N).imul(_.add(j.mul(S))).mod(N)).cmpn(0)===0&&(k=!1,S=new o(0));return function(B,V){B=B.toArray(),V=V.toArray(),128&B[0]&&(B=[0].concat(B)),128&V[0]&&(V=[0].concat(V));var q=[48,B.length+V.length+4,2,B.length];return q=q.concat(B,[2,V.length],V),s.from(q)}(S,k)}(m,A,v)}if(w!=="rsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");m=s.concat([E,m]);for(var D=A.modulus.byteLength(),L=[0,1];m.length+L.length+1<D;)L.push(255);L.push(0);for(var C=-1;++C<m.length;)L.push(m[C]);return c(L,A)},n.exports.getKey=d,n.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("bn.js"),c=e("elliptic").ec,l=e("parse-asn1"),o=e("./curves.json");function u(p,d){if(p.cmpn(0)<=0)throw new Error("invalid sig");if(p.cmp(d)>=d)throw new Error("invalid sig")}n.exports=function(p,d,h,g,b){var m=l(h);if(m.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return function(L,C,M){var F=o[M.data.algorithm.curve.join(".")];if(!F)throw new Error("unknown curve "+M.data.algorithm.curve.join("."));var $=new c(F),U=M.data.subjectPrivateKey.data;return $.verify(C,L,U)}(p,d,m)}if(m.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return function(L,C,M){var F=M.data.p,$=M.data.q,U=M.data.g,j=M.data.pub_key,P=l.signature.decode(L,"der"),N=P.s,x=P.r;u(N,$),u(x,$);var S=a.mont(F),_=N.invm($);return U.toRed(S).redPow(new a(C).mul(_).mod($)).fromRed().mul(j.toRed(S).redPow(x.mul(_).mod($)).fromRed()).mod(F).mod($).cmp(x)===0}(p,d,m)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");d=s.concat([b,d]);for(var y=m.modulus.byteLength(),v=[1],w=0;d.length+v.length+2<y;)v.push(255),w++;v.push(0);for(var E=-1;++E<d.length;)v.push(d[E]);v=s.from(v);var A=a.mont(m.modulus);p=(p=new a(p).toRed(A)).redPow(new a(m.publicExponent)),p=s.from(p.fromRed().toArray());var D=w<8?1:0;for(y=Math.min(p.length,v.length),p.length!==v.length&&(D=1),E=-1;++E<y;)D|=p[E]^v[E];return D===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,n,i){},{}],217:[function(e,n,i){var s=e("buffer"),a=s.Buffer;function c(o,u){for(var p in o)u[p]=o[p]}function l(o,u,p){return a(o,u,p)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=s:(c(s,i),i.Buffer=l),c(a,l),l.from=function(o,u,p){if(typeof o=="number")throw new TypeError("Argument must not be a number");return a(o,u,p)},l.alloc=function(o,u,p){if(typeof o!="number")throw new TypeError("Argument must be a number");var d=a(o);return u!==void 0?typeof p=="string"?d.fill(u,p):d.fill(u):d.fill(0),d},l.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a(o)},l.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(o)}},{buffer:220}],218:[function(e,n,i){var s=e("safe-buffer").Buffer,a=s.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(m){var y;switch(this.encoding=function(v){var w=function(E){if(!E)return"utf8";for(var A;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(A)return;E=(""+E).toLowerCase(),A=!0}}(v);if(typeof w!="string"&&(s.isEncoding===a||!a(v)))throw new Error("Unknown encoding: "+v);return w||v}(m),this.encoding){case"utf16le":this.text=u,this.end=p,y=4;break;case"utf8":this.fillLast=o,y=4;break;case"base64":this.text=d,this.end=h,y=3;break;default:return this.write=g,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(y)}function l(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function o(m){var y=this.lastTotal-this.lastNeed,v=function(w,E,A){if((192&E[0])!=128)return w.lastNeed=0,"";if(w.lastNeed>1&&E.length>1){if((192&E[1])!=128)return w.lastNeed=1,"";if(w.lastNeed>2&&E.length>2&&(192&E[2])!=128)return w.lastNeed=2,""}}(this,m);return v!==void 0?v:this.lastNeed<=m.length?(m.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,y,0,m.length),void(this.lastNeed-=m.length))}function u(m,y){if((m.length-y)%2==0){var v=m.toString("utf16le",y);if(v){var w=v.charCodeAt(v.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",y,m.length-1)}function p(m){var y=m&&m.length?this.write(m):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,v)}return y}function d(m,y){var v=(m.length-y)%3;return v===0?m.toString("base64",y):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",y,m.length-v))}function h(m){var y=m&&m.length?this.write(m):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function g(m){return m.toString(this.encoding)}function b(m){return m&&m.length?this.write(m):""}i.StringDecoder=c,c.prototype.write=function(m){if(m.length===0)return"";var y,v;if(this.lastNeed){if((y=this.fillLast(m))===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<m.length?y?y+this.text(m,v):this.text(m,v):y||""},c.prototype.end=function(m){var y=m&&m.length?this.write(m):"";return this.lastNeed?y+"":y},c.prototype.text=function(m,y){var v=function(E,A,D){var L=A.length-1;if(L<D)return 0;var C=l(A[L]);return C>=0?(C>0&&(E.lastNeed=C-1),C):--L<D||C===-2?0:(C=l(A[L]))>=0?(C>0&&(E.lastNeed=C-2),C):--L<D||C===-2?0:(C=l(A[L]))>=0?(C>0&&(C===2?C=0:E.lastNeed=C-3),C):0}(this,m,y);if(!this.lastNeed)return m.toString("utf8",y);this.lastTotal=v;var w=m.length-(v-this.lastNeed);return m.copy(this.lastChar,0,w),m.toString("utf8",y,w)},c.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(e,n,i){(function(s){(function(){n.exports=function(a,c){for(var l=Math.min(a.length,c.length),o=new s(l),u=0;u<l;++u)o[u]=a[u]^c[u];return o}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,n,i){(function(s){(function(){var a=e("base64-js"),c=e("ieee754");i.Buffer=o,i.SlowBuffer=function(O){return+O!=O&&(O=0),o.alloc(+O)},i.INSPECT_MAX_BYTES=50;function l(O){if(O>2147483647)throw new RangeError('The value "'+O+'" is invalid for option "size"');var R=new Uint8Array(O);return R.__proto__=o.prototype,R}function o(O,R,H){if(typeof O=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(O)}return u(O,R,H)}function u(O,R,H){if(typeof O=="string")return function(Z,te){if(typeof te=="string"&&te!==""||(te="utf8"),!o.isEncoding(te))throw new TypeError("Unknown encoding: "+te);var oe=0|b(Z,te),le=l(oe),Y=le.write(Z,te);return Y!==oe&&(le=le.slice(0,Y)),le}(O,R);if(ArrayBuffer.isView(O))return h(O);if(O==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(z(O,ArrayBuffer)||O&&z(O.buffer,ArrayBuffer))return function(Z,te,oe){if(te<0||Z.byteLength<te)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<te+(oe||0))throw new RangeError('"length" is outside of buffer bounds');var le;return le=te===void 0&&oe===void 0?new Uint8Array(Z):oe===void 0?new Uint8Array(Z,te):new Uint8Array(Z,te,oe),le.__proto__=o.prototype,le}(O,R,H);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var G=O.valueOf&&O.valueOf();if(G!=null&&G!==O)return o.from(G,R,H);var ee=function(Z){if(o.isBuffer(Z)){var te=0|g(Z.length),oe=l(te);return oe.length===0||Z.copy(oe,0,0,te),oe}if(Z.length!==void 0)return typeof Z.length!="number"||X(Z.length)?l(0):h(Z);if(Z.type==="Buffer"&&Array.isArray(Z.data))return h(Z.data)}(O);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return o.from(O[Symbol.toPrimitive]("string"),R,H);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}function p(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function d(O){return p(O),l(O<0?0:0|g(O))}function h(O){for(var R=O.length<0?0:0|g(O.length),H=l(R),G=0;G<R;G+=1)H[G]=255&O[G];return H}function g(O){if(O>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|O}function b(O,R){if(o.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||z(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);var H=O.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&H===0)return 0;for(var ee=!1;;)switch(R){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return q(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*H;case"hex":return H>>>1;case"base64":return W(O).length;default:if(ee)return G?-1:q(O).length;R=(""+R).toLowerCase(),ee=!0}}function m(O,R,H){var G=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((H===void 0||H>this.length)&&(H=this.length),H<=0)||(H>>>=0)<=(R>>>=0))return"";for(O||(O="utf8");;)switch(O){case"hex":return P(this,R,H);case"utf8":case"utf-8":return $(this,R,H);case"ascii":return U(this,R,H);case"latin1":case"binary":return j(this,R,H);case"base64":return F(this,R,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,R,H);default:if(G)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),G=!0}}function y(O,R,H){var G=O[R];O[R]=O[H],O[H]=G}function v(O,R,H,G,ee){if(O.length===0)return-1;if(typeof H=="string"?(G=H,H=0):H>2147483647?H=2147483647:H<-2147483648&&(H=-2147483648),X(H=+H)&&(H=ee?0:O.length-1),H<0&&(H=O.length+H),H>=O.length){if(ee)return-1;H=O.length-1}else if(H<0){if(!ee)return-1;H=0}if(typeof R=="string"&&(R=o.from(R,G)),o.isBuffer(R))return R.length===0?-1:w(O,R,H,G,ee);if(typeof R=="number")return R&=255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(O,R,H):Uint8Array.prototype.lastIndexOf.call(O,R,H):w(O,[R],H,G,ee);throw new TypeError("val must be string, number or Buffer")}function w(O,R,H,G,ee){var Z,te=1,oe=O.length,le=R.length;if(G!==void 0&&((G=String(G).toLowerCase())==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(O.length<2||R.length<2)return-1;te=2,oe/=2,le/=2,H/=2}function Y(ue,he){return te===1?ue[he]:ue.readUInt16BE(he*te)}if(ee){var ie=-1;for(Z=H;Z<oe;Z++)if(Y(O,Z)===Y(R,ie===-1?0:Z-ie)){if(ie===-1&&(ie=Z),Z-ie+1===le)return ie*te}else ie!==-1&&(Z-=Z-ie),ie=-1}else for(H+le>oe&&(H=oe-le),Z=H;Z>=0;Z--){for(var se=!0,de=0;de<le;de++)if(Y(O,Z+de)!==Y(R,de)){se=!1;break}if(se)return Z}return-1}function E(O,R,H,G){H=Number(H)||0;var ee=O.length-H;G?(G=Number(G))>ee&&(G=ee):G=ee;var Z=R.length;G>Z/2&&(G=Z/2);for(var te=0;te<G;++te){var oe=parseInt(R.substr(2*te,2),16);if(X(oe))return te;O[H+te]=oe}return te}function A(O,R,H,G){return J(q(R,O.length-H),O,H,G)}function D(O,R,H,G){return J(function(ee){for(var Z=[],te=0;te<ee.length;++te)Z.push(255&ee.charCodeAt(te));return Z}(R),O,H,G)}function L(O,R,H,G){return D(O,R,H,G)}function C(O,R,H,G){return J(W(R),O,H,G)}function M(O,R,H,G){return J(function(ee,Z){for(var te,oe,le,Y=[],ie=0;ie<ee.length&&!((Z-=2)<0);++ie)te=ee.charCodeAt(ie),oe=te>>8,le=te%256,Y.push(le),Y.push(oe);return Y}(R,O.length-H),O,H,G)}function F(O,R,H){return R===0&&H===O.length?a.fromByteArray(O):a.fromByteArray(O.slice(R,H))}function $(O,R,H){H=Math.min(O.length,H);for(var G=[],ee=R;ee<H;){var Z,te,oe,le,Y=O[ee],ie=null,se=Y>239?4:Y>223?3:Y>191?2:1;if(ee+se<=H)switch(se){case 1:Y<128&&(ie=Y);break;case 2:(192&(Z=O[ee+1]))==128&&(le=(31&Y)<<6|63&Z)>127&&(ie=le);break;case 3:Z=O[ee+1],te=O[ee+2],(192&Z)==128&&(192&te)==128&&(le=(15&Y)<<12|(63&Z)<<6|63&te)>2047&&(le<55296||le>57343)&&(ie=le);break;case 4:Z=O[ee+1],te=O[ee+2],oe=O[ee+3],(192&Z)==128&&(192&te)==128&&(192&oe)==128&&(le=(15&Y)<<18|(63&Z)<<12|(63&te)<<6|63&oe)>65535&&le<1114112&&(ie=le)}ie===null?(ie=65533,se=1):ie>65535&&(ie-=65536,G.push(ie>>>10&1023|55296),ie=56320|1023&ie),G.push(ie),ee+=se}return function(de){var ue=de.length;if(ue<=4096)return String.fromCharCode.apply(String,de);for(var he="",ge=0;ge<ue;)he+=String.fromCharCode.apply(String,de.slice(ge,ge+=4096));return he}(G)}i.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=function(){try{var O=new Uint8Array(1);return O.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},O.foo()===42}catch{return!1}}(),o.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(O,R,H){return u(O,R,H)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(O,R,H){return function(G,ee,Z){return p(G),G<=0?l(G):ee!==void 0?typeof Z=="string"?l(G).fill(ee,Z):l(G).fill(ee):l(G)}(O,R,H)},o.allocUnsafe=function(O){return d(O)},o.allocUnsafeSlow=function(O){return d(O)},o.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==o.prototype},o.compare=function(O,R){if(z(O,Uint8Array)&&(O=o.from(O,O.offset,O.byteLength)),z(R,Uint8Array)&&(R=o.from(R,R.offset,R.byteLength)),!o.isBuffer(O)||!o.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===R)return 0;for(var H=O.length,G=R.length,ee=0,Z=Math.min(H,G);ee<Z;++ee)if(O[ee]!==R[ee]){H=O[ee],G=R[ee];break}return H<G?-1:G<H?1:0},o.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(O,R){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return o.alloc(0);var H;if(R===void 0)for(R=0,H=0;H<O.length;++H)R+=O[H].length;var G=o.allocUnsafe(R),ee=0;for(H=0;H<O.length;++H){var Z=O[H];if(z(Z,Uint8Array)&&(Z=o.from(Z)),!o.isBuffer(Z))throw new TypeError('"list" argument must be an Array of Buffers');Z.copy(G,ee),ee+=Z.length}return G},o.byteLength=b,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var O=this.length;if(O%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<O;R+=2)y(this,R,R+1);return this},o.prototype.swap32=function(){var O=this.length;if(O%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<O;R+=4)y(this,R,R+3),y(this,R+1,R+2);return this},o.prototype.swap64=function(){var O=this.length;if(O%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<O;R+=8)y(this,R,R+7),y(this,R+1,R+6),y(this,R+2,R+5),y(this,R+3,R+4);return this},o.prototype.toString=function(){var O=this.length;return O===0?"":arguments.length===0?$(this,0,O):m.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(O){if(!o.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O||o.compare(this,O)===0},o.prototype.inspect=function(){var O="",R=i.INSPECT_MAX_BYTES;return O=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(O+=" ... "),"<Buffer "+O+">"},o.prototype.compare=function(O,R,H,G,ee){if(z(O,Uint8Array)&&(O=o.from(O,O.offset,O.byteLength)),!o.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(R===void 0&&(R=0),H===void 0&&(H=O?O.length:0),G===void 0&&(G=0),ee===void 0&&(ee=this.length),R<0||H>O.length||G<0||ee>this.length)throw new RangeError("out of range index");if(G>=ee&&R>=H)return 0;if(G>=ee)return-1;if(R>=H)return 1;if(this===O)return 0;for(var Z=(ee>>>=0)-(G>>>=0),te=(H>>>=0)-(R>>>=0),oe=Math.min(Z,te),le=this.slice(G,ee),Y=O.slice(R,H),ie=0;ie<oe;++ie)if(le[ie]!==Y[ie]){Z=le[ie],te=Y[ie];break}return Z<te?-1:te<Z?1:0},o.prototype.includes=function(O,R,H){return this.indexOf(O,R,H)!==-1},o.prototype.indexOf=function(O,R,H){return v(this,O,R,H,!0)},o.prototype.lastIndexOf=function(O,R,H){return v(this,O,R,H,!1)},o.prototype.write=function(O,R,H,G){if(R===void 0)G="utf8",H=this.length,R=0;else if(H===void 0&&typeof R=="string")G=R,H=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(H)?(H>>>=0,G===void 0&&(G="utf8")):(G=H,H=void 0)}var ee=this.length-R;if((H===void 0||H>ee)&&(H=ee),O.length>0&&(H<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");G||(G="utf8");for(var Z=!1;;)switch(G){case"hex":return E(this,O,R,H);case"utf8":case"utf-8":return A(this,O,R,H);case"ascii":return D(this,O,R,H);case"latin1":case"binary":return L(this,O,R,H);case"base64":return C(this,O,R,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,O,R,H);default:if(Z)throw new TypeError("Unknown encoding: "+G);G=(""+G).toLowerCase(),Z=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(O,R,H){var G="";H=Math.min(O.length,H);for(var ee=R;ee<H;++ee)G+=String.fromCharCode(127&O[ee]);return G}function j(O,R,H){var G="";H=Math.min(O.length,H);for(var ee=R;ee<H;++ee)G+=String.fromCharCode(O[ee]);return G}function P(O,R,H){var G=O.length;(!R||R<0)&&(R=0),(!H||H<0||H>G)&&(H=G);for(var ee="",Z=R;Z<H;++Z)ee+=V(O[Z]);return ee}function N(O,R,H){for(var G=O.slice(R,H),ee="",Z=0;Z<G.length;Z+=2)ee+=String.fromCharCode(G[Z]+256*G[Z+1]);return ee}function x(O,R,H){if(O%1!=0||O<0)throw new RangeError("offset is not uint");if(O+R>H)throw new RangeError("Trying to access beyond buffer length")}function S(O,R,H,G,ee,Z){if(!o.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>ee||R<Z)throw new RangeError('"value" argument is out of bounds');if(H+G>O.length)throw new RangeError("Index out of range")}function _(O,R,H,G,ee,Z){if(H+G>O.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function k(O,R,H,G,ee){return R=+R,H>>>=0,ee||_(O,0,H,4),c.write(O,R,H,G,23,4),H+4}function T(O,R,H,G,ee){return R=+R,H>>>=0,ee||_(O,0,H,8),c.write(O,R,H,G,52,8),H+8}o.prototype.slice=function(O,R){var H=this.length;(O=~~O)<0?(O+=H)<0&&(O=0):O>H&&(O=H),(R=R===void 0?H:~~R)<0?(R+=H)<0&&(R=0):R>H&&(R=H),R<O&&(R=O);var G=this.subarray(O,R);return G.__proto__=o.prototype,G},o.prototype.readUIntLE=function(O,R,H){O>>>=0,R>>>=0,H||x(O,R,this.length);for(var G=this[O],ee=1,Z=0;++Z<R&&(ee*=256);)G+=this[O+Z]*ee;return G},o.prototype.readUIntBE=function(O,R,H){O>>>=0,R>>>=0,H||x(O,R,this.length);for(var G=this[O+--R],ee=1;R>0&&(ee*=256);)G+=this[O+--R]*ee;return G},o.prototype.readUInt8=function(O,R){return O>>>=0,R||x(O,1,this.length),this[O]},o.prototype.readUInt16LE=function(O,R){return O>>>=0,R||x(O,2,this.length),this[O]|this[O+1]<<8},o.prototype.readUInt16BE=function(O,R){return O>>>=0,R||x(O,2,this.length),this[O]<<8|this[O+1]},o.prototype.readUInt32LE=function(O,R){return O>>>=0,R||x(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+16777216*this[O+3]},o.prototype.readUInt32BE=function(O,R){return O>>>=0,R||x(O,4,this.length),16777216*this[O]+(this[O+1]<<16|this[O+2]<<8|this[O+3])},o.prototype.readIntLE=function(O,R,H){O>>>=0,R>>>=0,H||x(O,R,this.length);for(var G=this[O],ee=1,Z=0;++Z<R&&(ee*=256);)G+=this[O+Z]*ee;return G>=(ee*=128)&&(G-=Math.pow(2,8*R)),G},o.prototype.readIntBE=function(O,R,H){O>>>=0,R>>>=0,H||x(O,R,this.length);for(var G=R,ee=1,Z=this[O+--G];G>0&&(ee*=256);)Z+=this[O+--G]*ee;return Z>=(ee*=128)&&(Z-=Math.pow(2,8*R)),Z},o.prototype.readInt8=function(O,R){return O>>>=0,R||x(O,1,this.length),128&this[O]?-1*(255-this[O]+1):this[O]},o.prototype.readInt16LE=function(O,R){O>>>=0,R||x(O,2,this.length);var H=this[O]|this[O+1]<<8;return 32768&H?4294901760|H:H},o.prototype.readInt16BE=function(O,R){O>>>=0,R||x(O,2,this.length);var H=this[O+1]|this[O]<<8;return 32768&H?4294901760|H:H},o.prototype.readInt32LE=function(O,R){return O>>>=0,R||x(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},o.prototype.readInt32BE=function(O,R){return O>>>=0,R||x(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},o.prototype.readFloatLE=function(O,R){return O>>>=0,R||x(O,4,this.length),c.read(this,O,!0,23,4)},o.prototype.readFloatBE=function(O,R){return O>>>=0,R||x(O,4,this.length),c.read(this,O,!1,23,4)},o.prototype.readDoubleLE=function(O,R){return O>>>=0,R||x(O,8,this.length),c.read(this,O,!0,52,8)},o.prototype.readDoubleBE=function(O,R){return O>>>=0,R||x(O,8,this.length),c.read(this,O,!1,52,8)},o.prototype.writeUIntLE=function(O,R,H,G){O=+O,R>>>=0,H>>>=0,G||S(this,O,R,H,Math.pow(2,8*H)-1,0);var ee=1,Z=0;for(this[R]=255&O;++Z<H&&(ee*=256);)this[R+Z]=O/ee&255;return R+H},o.prototype.writeUIntBE=function(O,R,H,G){O=+O,R>>>=0,H>>>=0,G||S(this,O,R,H,Math.pow(2,8*H)-1,0);var ee=H-1,Z=1;for(this[R+ee]=255&O;--ee>=0&&(Z*=256);)this[R+ee]=O/Z&255;return R+H},o.prototype.writeUInt8=function(O,R,H){return O=+O,R>>>=0,H||S(this,O,R,1,255,0),this[R]=255&O,R+1},o.prototype.writeUInt16LE=function(O,R,H){return O=+O,R>>>=0,H||S(this,O,R,2,65535,0),this[R]=255&O,this[R+1]=O>>>8,R+2},o.prototype.writeUInt16BE=function(O,R,H){return O=+O,R>>>=0,H||S(this,O,R,2,65535,0),this[R]=O>>>8,this[R+1]=255&O,R+2},o.prototype.writeUInt32LE=function(O,R,H){return O=+O,R>>>=0,H||S(this,O,R,4,4294967295,0),this[R+3]=O>>>24,this[R+2]=O>>>16,this[R+1]=O>>>8,this[R]=255&O,R+4},o.prototype.writeUInt32BE=function(O,R,H){return O=+O,R>>>=0,H||S(this,O,R,4,4294967295,0),this[R]=O>>>24,this[R+1]=O>>>16,this[R+2]=O>>>8,this[R+3]=255&O,R+4},o.prototype.writeIntLE=function(O,R,H,G){if(O=+O,R>>>=0,!G){var ee=Math.pow(2,8*H-1);S(this,O,R,H,ee-1,-ee)}var Z=0,te=1,oe=0;for(this[R]=255&O;++Z<H&&(te*=256);)O<0&&oe===0&&this[R+Z-1]!==0&&(oe=1),this[R+Z]=(O/te>>0)-oe&255;return R+H},o.prototype.writeIntBE=function(O,R,H,G){if(O=+O,R>>>=0,!G){var ee=Math.pow(2,8*H-1);S(this,O,R,H,ee-1,-ee)}var Z=H-1,te=1,oe=0;for(this[R+Z]=255&O;--Z>=0&&(te*=256);)O<0&&oe===0&&this[R+Z+1]!==0&&(oe=1),this[R+Z]=(O/te>>0)-oe&255;return R+H},o.prototype.writeInt8=function(O,R,H){return O=+O,R>>>=0,H||S(this,O,R,1,127,-128),O<0&&(O=255+O+1),this[R]=255&O,R+1},o.prototype.writeInt16LE=function(O,R,H){return O=+O,R>>>=0,H||S(this,O,R,2,32767,-32768),this[R]=255&O,this[R+1]=O>>>8,R+2},o.prototype.writeInt16BE=function(O,R,H){return O=+O,R>>>=0,H||S(this,O,R,2,32767,-32768),this[R]=O>>>8,this[R+1]=255&O,R+2},o.prototype.writeInt32LE=function(O,R,H){return O=+O,R>>>=0,H||S(this,O,R,4,2147483647,-2147483648),this[R]=255&O,this[R+1]=O>>>8,this[R+2]=O>>>16,this[R+3]=O>>>24,R+4},o.prototype.writeInt32BE=function(O,R,H){return O=+O,R>>>=0,H||S(this,O,R,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[R]=O>>>24,this[R+1]=O>>>16,this[R+2]=O>>>8,this[R+3]=255&O,R+4},o.prototype.writeFloatLE=function(O,R,H){return k(this,O,R,!0,H)},o.prototype.writeFloatBE=function(O,R,H){return k(this,O,R,!1,H)},o.prototype.writeDoubleLE=function(O,R,H){return T(this,O,R,!0,H)},o.prototype.writeDoubleBE=function(O,R,H){return T(this,O,R,!1,H)},o.prototype.copy=function(O,R,H,G){if(!o.isBuffer(O))throw new TypeError("argument should be a Buffer");if(H||(H=0),G||G===0||(G=this.length),R>=O.length&&(R=O.length),R||(R=0),G>0&&G<H&&(G=H),G===H||O.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("sourceEnd out of bounds");G>this.length&&(G=this.length),O.length-R<G-H&&(G=O.length-R+H);var ee=G-H;if(this===O&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(R,H,G);else if(this===O&&H<R&&R<G)for(var Z=ee-1;Z>=0;--Z)O[Z+R]=this[Z+H];else Uint8Array.prototype.set.call(O,this.subarray(H,G),R);return ee},o.prototype.fill=function(O,R,H,G){if(typeof O=="string"){if(typeof R=="string"?(G=R,R=0,H=this.length):typeof H=="string"&&(G=H,H=this.length),G!==void 0&&typeof G!="string")throw new TypeError("encoding must be a string");if(typeof G=="string"&&!o.isEncoding(G))throw new TypeError("Unknown encoding: "+G);if(O.length===1){var ee=O.charCodeAt(0);(G==="utf8"&&ee<128||G==="latin1")&&(O=ee)}}else typeof O=="number"&&(O&=255);if(R<0||this.length<R||this.length<H)throw new RangeError("Out of range index");if(H<=R)return this;var Z;if(R>>>=0,H=H===void 0?this.length:H>>>0,O||(O=0),typeof O=="number")for(Z=R;Z<H;++Z)this[Z]=O;else{var te=o.isBuffer(O)?O:o.from(O,G),oe=te.length;if(oe===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(Z=0;Z<H-R;++Z)this[Z+R]=te[Z%oe]}return this};var B=/[^+/0-9A-Za-z-_]/g;function V(O){return O<16?"0"+O.toString(16):O.toString(16)}function q(O,R){var H;R=R||1/0;for(var G=O.length,ee=null,Z=[],te=0;te<G;++te){if((H=O.charCodeAt(te))>55295&&H<57344){if(!ee){if(H>56319){(R-=3)>-1&&Z.push(239,191,189);continue}if(te+1===G){(R-=3)>-1&&Z.push(239,191,189);continue}ee=H;continue}if(H<56320){(R-=3)>-1&&Z.push(239,191,189),ee=H;continue}H=65536+(ee-55296<<10|H-56320)}else ee&&(R-=3)>-1&&Z.push(239,191,189);if(ee=null,H<128){if((R-=1)<0)break;Z.push(H)}else if(H<2048){if((R-=2)<0)break;Z.push(H>>6|192,63&H|128)}else if(H<65536){if((R-=3)<0)break;Z.push(H>>12|224,H>>6&63|128,63&H|128)}else{if(!(H<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;Z.push(H>>18|240,H>>12&63|128,H>>6&63|128,63&H|128)}}return Z}function W(O){return a.toByteArray(function(R){if((R=(R=R.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R}(O))}function J(O,R,H,G){for(var ee=0;ee<G&&!(ee+H>=R.length||ee>=O.length);++ee)R[ee+H]=O[ee];return ee}function z(O,R){return O instanceof R||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===R.name}function X(O){return O!=O}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("stream").Transform,c=e("string_decoder").StringDecoder;function l(o){a.call(this),this.hashMode=typeof o=="string",this.hashMode?this[o]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(l,a),l.prototype.update=function(o,u,p){typeof o=="string"&&(o=s.from(o,u));var d=this._update(o);return this.hashMode?this:(p&&(d=this._toString(d,p)),d)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(o,u,p){var d;try{this.hashMode?this._update(o):this.push(this._update(o))}catch(h){d=h}finally{p(d)}},l.prototype._flush=function(o){var u;try{this.push(this.__final())}catch(p){u=p}o(u)},l.prototype._finalOrDigest=function(o){var u=this.__final()||s.alloc(0);return o&&(u=this._toString(u,o,!0)),u},l.prototype._toString=function(o,u,p){if(this._decoder||(this._decoder=new c(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var d=this._decoder.write(o);return p&&(d+=this._decoder.end()),d},n.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,n,i){var s=e("../internals/is-callable"),a=e("../internals/try-to-string"),c=TypeError;n.exports=function(l){if(s(l))return l;throw new c(a(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,n,i){var s=e("../internals/is-constructor"),a=e("../internals/try-to-string"),c=TypeError;n.exports=function(l){if(s(l))return l;throw new c(a(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,n,i){var s=e("../internals/is-callable"),a=String,c=TypeError;n.exports=function(l){if(typeof l=="object"||s(l))return l;throw new c("Can't set "+a(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,n,i){var s=e("../internals/well-known-symbol"),a=e("../internals/object-create"),c=e("../internals/object-define-property").f,l=s("unscopables"),o=Array.prototype;o[l]===void 0&&c(o,l,{configurable:!0,value:a(null)}),n.exports=function(u){o[l][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,n,i){var s=e("../internals/object-is-prototype-of"),a=TypeError;n.exports=function(c,l){if(s(l,c))return c;throw new a("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,n,i){var s=e("../internals/is-object"),a=String,c=TypeError;n.exports=function(l){if(s(l))return l;throw new c(a(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,n,i){var s=e("../internals/to-indexed-object"),a=e("../internals/to-absolute-index"),c=e("../internals/length-of-array-like"),l=function(o){return function(u,p,d){var h,g=s(u),b=c(g),m=a(d,b);if(o&&p!=p){for(;b>m;)if((h=g[m++])!=h)return!0}else for(;b>m;m++)if((o||m in g)&&g[m]===p)return o||m||0;return!o&&-1}};n.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,n,i){var s=e("../internals/function-bind-context"),a=e("../internals/function-uncurry-this"),c=e("../internals/indexed-object"),l=e("../internals/to-object"),o=e("../internals/length-of-array-like"),u=e("../internals/array-species-create"),p=a([].push),d=function(h){var g=h===1,b=h===2,m=h===3,y=h===4,v=h===6,w=h===7,E=h===5||v;return function(A,D,L,C){for(var M,F,$=l(A),U=c($),j=s(D,L),P=o(U),N=0,x=C||u,S=g?x(A,P):b||w?x(A,0):void 0;P>N;N++)if((E||N in U)&&(F=j(M=U[N],N,$),h))if(g)S[N]=F;else if(F)switch(h){case 3:return!0;case 5:return M;case 6:return N;case 2:p(S,M)}else switch(h){case 4:return!1;case 7:p(S,M)}return v?-1:m||y?y:S}};n.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,n,i){var s=e("../internals/to-absolute-index"),a=e("../internals/length-of-array-like"),c=e("../internals/create-property"),l=Array,o=Math.max;n.exports=function(u,p,d){for(var h=a(u),g=s(p,h),b=s(d===void 0?h:d,h),m=l(o(b-g,0)),y=0;g<b;g++,y++)c(m,y,u[g]);return m.length=y,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,n,i){var s=e("../internals/function-uncurry-this");n.exports=s([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,n,i){var s=e("../internals/is-array"),a=e("../internals/is-constructor"),c=e("../internals/is-object"),l=e("../internals/well-known-symbol")("species"),o=Array;n.exports=function(u){var p;return s(u)&&(p=u.constructor,(a(p)&&(p===o||s(p.prototype))||c(p)&&(p=p[l])===null)&&(p=void 0)),p===void 0?o:p}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,n,i){var s=e("../internals/array-species-constructor");n.exports=function(a,c){return new(s(a))(c===0?0:c)}},{"../internals/array-species-constructor":232}],234:[function(e,n,i){var s=e("../internals/well-known-symbol")("iterator"),a=!1;try{var c=0,l={next:function(){return{done:!!c++}},return:function(){a=!0}};l[s]=function(){return this},Array.from(l,function(){throw 2})}catch{}n.exports=function(o,u){try{if(!u&&!a)return!1}catch{return!1}var p=!1;try{var d={};d[s]=function(){return{next:function(){return{done:p=!0}}}},o(d)}catch{}return p}},{"../internals/well-known-symbol":357}],235:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=s({}.toString),c=s("".slice);n.exports=function(l){return c(a(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,n,i){var s=e("../internals/to-string-tag-support"),a=e("../internals/is-callable"),c=e("../internals/classof-raw"),l=e("../internals/well-known-symbol")("toStringTag"),o=Object,u=c(function(){return arguments}())==="Arguments";n.exports=s?c:function(p){var d,h,g;return p===void 0?"Undefined":p===null?"Null":typeof(h=function(b,m){try{return b[m]}catch{}}(d=o(p),l))=="string"?h:u?c(d):(g=c(d))==="Object"&&a(d.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,n,i){var s=e("../internals/has-own-property"),a=e("../internals/own-keys"),c=e("../internals/object-get-own-property-descriptor"),l=e("../internals/object-define-property");n.exports=function(o,u,p){for(var d=a(u),h=l.f,g=c.f,b=0;b<d.length;b++){var m=d[b];s(o,m)||p&&s(p,m)||h(o,m,g(u,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,n,i){var s=e("../internals/well-known-symbol")("match");n.exports=function(a){var c=/./;try{"/./"[a](c)}catch{try{return c[s]=!1,"/./"[a](c)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,n,i){var s=e("../internals/fails");n.exports=!s(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},{"../internals/fails":260}],240:[function(e,n,i){n.exports=function(s,a){return{value:s,done:a}}},{}],241:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");n.exports=s?function(l,o,u){return a.f(l,o,c(1,u))}:function(l,o,u){return l[o]=u,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,n,i){n.exports=function(s,a){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:a}}},{}],243:[function(e,n,i){var s=e("../internals/to-property-key"),a=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");n.exports=function(l,o,u){var p=s(o);p in l?a.f(l,p,c(0,u)):l[p]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,n,i){var s=e("../internals/make-built-in"),a=e("../internals/object-define-property");n.exports=function(c,l,o){return o.get&&s(o.get,l,{getter:!0}),o.set&&s(o.set,l,{setter:!0}),a.f(c,l,o)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,n,i){var s=e("../internals/is-callable"),a=e("../internals/object-define-property"),c=e("../internals/make-built-in"),l=e("../internals/define-global-property");n.exports=function(o,u,p,d){d||(d={});var h=d.enumerable,g=d.name!==void 0?d.name:u;if(s(p)&&c(p,g,d),d.global)h?o[u]=p:l(u,p);else{try{d.unsafe?o[u]&&(h=!0):delete o[u]}catch{}h?o[u]=p:a.f(o,u,{value:p,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return o}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,n,i){var s=e("../internals/global"),a=Object.defineProperty;n.exports=function(c,l){try{a(s,c,{value:l,configurable:!0,writable:!0})}catch{s[c]=l}return l}},{"../internals/global":274}],247:[function(e,n,i){var s=e("../internals/fails");n.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,n,i){var s=typeof document=="object"&&document.all,a=s===void 0&&s!==void 0;n.exports={all:s,IS_HTMLDDA:a}},{}],249:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/is-object"),c=s.document,l=a(c)&&a(c.createElement);n.exports=function(o){return l?c.createElement(o):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,n,i){var s=e("../internals/engine-is-deno"),a=e("../internals/engine-is-node");n.exports=!s&&!a&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,n,i){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,n,i){var s=e("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(s)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,n,i){var s=e("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},{"../internals/engine-user-agent":256}],254:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/classof-raw");n.exports=a(s.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,n,i){var s=e("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(s)},{"../internals/engine-user-agent":256}],256:[function(e,n,i){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,n,i){var s,a,c=e("../internals/global"),l=e("../internals/engine-user-agent"),o=c.process,u=c.Deno,p=o&&o.versions||u&&u.version,d=p&&p.v8;d&&(a=(s=d.split("."))[0]>0&&s[0]<4?1:+(s[0]+s[1])),!a&&l&&(!(s=l.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=l.match(/Chrome\/(\d+)/))&&(a=+s[1]),n.exports=a},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,n,i){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/object-get-own-property-descriptor").f,c=e("../internals/create-non-enumerable-property"),l=e("../internals/define-built-in"),o=e("../internals/define-global-property"),u=e("../internals/copy-constructor-properties"),p=e("../internals/is-forced");n.exports=function(d,h){var g,b,m,y,v,w=d.target,E=d.global,A=d.stat;if(g=E?s:A?s[w]||o(w,{}):(s[w]||{}).prototype)for(b in h){if(y=h[b],m=d.dontCallGetSet?(v=a(g,b))&&v.value:g[b],!p(E?b:w+(A?".":"#")+b,d.forced)&&m!==void 0){if(typeof y==typeof m)continue;u(y,m)}(d.sham||m&&m.sham)&&c(y,"sham",!0),l(g,b,y,d)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,n,i){n.exports=function(s){try{return!!s()}catch{return!0}}},{}],261:[function(e,n,i){var s=e("../internals/function-bind-native"),a=Function.prototype,c=a.apply,l=a.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(s?l.bind(c):function(){return l.apply(c,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,n,i){var s=e("../internals/function-uncurry-this-clause"),a=e("../internals/a-callable"),c=e("../internals/function-bind-native"),l=s(s.bind);n.exports=function(o,u){return a(o),u===void 0?o:c?l(o,u):function(){return o.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,n,i){var s=e("../internals/fails");n.exports=!s(function(){var a=(function(){}).bind();return typeof a!="function"||a.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,n,i){var s=e("../internals/function-bind-native"),a=Function.prototype.call;n.exports=s?a.bind(a):function(){return a.apply(a,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/has-own-property"),c=Function.prototype,l=s&&Object.getOwnPropertyDescriptor,o=a(c,"name"),u=o&&(function(){}).name==="something",p=o&&(!s||s&&l(c,"name").configurable);n.exports={EXISTS:o,PROPER:u,CONFIGURABLE:p}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/a-callable");n.exports=function(c,l,o){try{return s(a(Object.getOwnPropertyDescriptor(c,l)[o]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,n,i){var s=e("../internals/classof-raw"),a=e("../internals/function-uncurry-this");n.exports=function(c){if(s(c)==="Function")return a(c)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,n,i){var s=e("../internals/function-bind-native"),a=Function.prototype,c=a.call,l=s&&a.bind.bind(c,c);n.exports=s?l:function(o){return function(){return c.apply(o,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/is-callable"),c=function(l){return a(l)?l:void 0};n.exports=function(l,o){return arguments.length<2?c(s[l]):s[l]&&s[l][o]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,n,i){var s=e("../internals/classof"),a=e("../internals/get-method"),c=e("../internals/is-null-or-undefined"),l=e("../internals/iterators"),o=e("../internals/well-known-symbol")("iterator");n.exports=function(u){if(!c(u))return a(u,o)||a(u,"@@iterator")||l[s(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,n,i){var s=e("../internals/function-call"),a=e("../internals/a-callable"),c=e("../internals/an-object"),l=e("../internals/try-to-string"),o=e("../internals/get-iterator-method"),u=TypeError;n.exports=function(p,d){var h=arguments.length<2?o(p):d;if(a(h))return c(s(h,p));throw new u(l(p)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/is-array"),c=e("../internals/is-callable"),l=e("../internals/classof-raw"),o=e("../internals/to-string"),u=s([].push);n.exports=function(p){if(c(p))return p;if(a(p)){for(var d=p.length,h=[],g=0;g<d;g++){var b=p[g];typeof b=="string"?u(h,b):typeof b!="number"&&l(b)!=="Number"&&l(b)!=="String"||u(h,o(b))}var m=h.length,y=!0;return function(v,w){if(y)return y=!1,w;if(a(this))return w;for(var E=0;E<m;E++)if(h[E]===v)return w}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,n,i){var s=e("../internals/a-callable"),a=e("../internals/is-null-or-undefined");n.exports=function(c,l){var o=c[l];return a(o)?void 0:s(o)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,n,i){(function(s){(function(){var a=function(c){return c&&c.Math===Math&&c};n.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof s=="object"&&s)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/to-object"),c=s({}.hasOwnProperty);n.exports=Object.hasOwn||function(l,o){return c(a(l),o)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,n,i){n.exports={}},{}],277:[function(e,n,i){n.exports=function(s,a){try{arguments.length===1?console.error(s):console.error(s,a)}catch{}}},{}],278:[function(e,n,i){var s=e("../internals/get-built-in");n.exports=s("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/fails"),c=e("../internals/document-create-element");n.exports=!s&&!a(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/fails"),c=e("../internals/classof-raw"),l=Object,o=s("".split);n.exports=a(function(){return!l("z").propertyIsEnumerable(0)})?function(u){return c(u)==="String"?o(u,""):l(u)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/is-callable"),c=e("../internals/shared-store"),l=s(Function.toString);a(c.inspectSource)||(c.inspectSource=function(o){return l(o)}),n.exports=c.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,n,i){var s,a,c,l=e("../internals/weak-map-basic-detection"),o=e("../internals/global"),u=e("../internals/is-object"),p=e("../internals/create-non-enumerable-property"),d=e("../internals/has-own-property"),h=e("../internals/shared-store"),g=e("../internals/shared-key"),b=e("../internals/hidden-keys"),m=o.TypeError,y=o.WeakMap;if(l||h.state){var v=h.state||(h.state=new y);v.get=v.get,v.has=v.has,v.set=v.set,s=function(E,A){if(v.has(E))throw new m("Object already initialized");return A.facade=E,v.set(E,A),A},a=function(E){return v.get(E)||{}},c=function(E){return v.has(E)}}else{var w=g("state");b[w]=!0,s=function(E,A){if(d(E,w))throw new m("Object already initialized");return A.facade=E,p(E,w,A),A},a=function(E){return d(E,w)?E[w]:{}},c=function(E){return d(E,w)}}n.exports={set:s,get:a,has:c,enforce:function(E){return c(E)?a(E):s(E,{})},getterFor:function(E){return function(A){var D;if(!u(A)||(D=a(A)).type!==E)throw new m("Incompatible receiver, "+E+" required");return D}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,n,i){var s=e("../internals/well-known-symbol"),a=e("../internals/iterators"),c=s("iterator"),l=Array.prototype;n.exports=function(o){return o!==void 0&&(a.Array===o||l[c]===o)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,n,i){var s=e("../internals/classof-raw");n.exports=Array.isArray||function(a){return s(a)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,n,i){var s=e("../internals/document-all"),a=s.all;n.exports=s.IS_HTMLDDA?function(c){return typeof c=="function"||c===a}:function(c){return typeof c=="function"}},{"../internals/document-all":248}],286:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/fails"),c=e("../internals/is-callable"),l=e("../internals/classof"),o=e("../internals/get-built-in"),u=e("../internals/inspect-source"),p=function(){},d=[],h=o("Reflect","construct"),g=/^\s*(?:class|function)\b/,b=s(g.exec),m=!g.test(p),y=function(w){if(!c(w))return!1;try{return h(p,d,w),!0}catch{return!1}},v=function(w){if(!c(w))return!1;switch(l(w)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!b(g,u(w))}catch{return!0}};v.sham=!0,n.exports=!h||a(function(){var w;return y(y.call)||!y(Object)||!y(function(){w=!0})||w})?v:y},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,n,i){var s=e("../internals/fails"),a=e("../internals/is-callable"),c=/#|\.prototype\./,l=function(h,g){var b=u[o(h)];return b===d||b!==p&&(a(g)?s(g):!!g)},o=l.normalize=function(h){return String(h).replace(c,".").toLowerCase()},u=l.data={},p=l.NATIVE="N",d=l.POLYFILL="P";n.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,n,i){n.exports=function(s){return s==null}},{}],289:[function(e,n,i){var s=e("../internals/is-callable"),a=e("../internals/document-all"),c=a.all;n.exports=a.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:s(l)||l===c}:function(l){return typeof l=="object"?l!==null:s(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,n,i){n.exports=!1},{}],291:[function(e,n,i){var s=e("../internals/is-object"),a=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("match");n.exports=function(l){var o;return s(l)&&((o=l[c])!==void 0?!!o:a(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,n,i){var s=e("../internals/get-built-in"),a=e("../internals/is-callable"),c=e("../internals/object-is-prototype-of"),l=e("../internals/use-symbol-as-uid"),o=Object;n.exports=l?function(u){return typeof u=="symbol"}:function(u){var p=s("Symbol");return a(p)&&c(p.prototype,o(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,n,i){var s=e("../internals/function-bind-context"),a=e("../internals/function-call"),c=e("../internals/an-object"),l=e("../internals/try-to-string"),o=e("../internals/is-array-iterator-method"),u=e("../internals/length-of-array-like"),p=e("../internals/object-is-prototype-of"),d=e("../internals/get-iterator"),h=e("../internals/get-iterator-method"),g=e("../internals/iterator-close"),b=TypeError,m=function(v,w){this.stopped=v,this.result=w},y=m.prototype;n.exports=function(v,w,E){var A,D,L,C,M,F,$,U=E&&E.that,j=!(!E||!E.AS_ENTRIES),P=!(!E||!E.IS_RECORD),N=!(!E||!E.IS_ITERATOR),x=!(!E||!E.INTERRUPTED),S=s(w,U),_=function(T){return A&&g(A,"normal",T),new m(!0,T)},k=function(T){return j?(c(T),x?S(T[0],T[1],_):S(T[0],T[1])):x?S(T,_):S(T)};if(P)A=v.iterator;else if(N)A=v;else{if(!(D=h(v)))throw new b(l(v)+" is not iterable");if(o(D)){for(L=0,C=u(v);C>L;L++)if((M=k(v[L]))&&p(y,M))return M;return new m(!1)}A=d(v,D)}for(F=P?v.next:A.next;!($=a(F,A)).done;){try{M=k($.value)}catch(T){g(A,"throw",T)}if(typeof M=="object"&&M&&p(y,M))return M}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,n,i){var s=e("../internals/function-call"),a=e("../internals/an-object"),c=e("../internals/get-method");n.exports=function(l,o,u){var p,d;a(l);try{if(!(p=c(l,"return"))){if(o==="throw")throw u;return u}p=s(p,l)}catch(h){d=!0,p=h}if(o==="throw")throw u;if(d)throw p;return a(p),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,n,i){var s=e("../internals/iterators-core").IteratorPrototype,a=e("../internals/object-create"),c=e("../internals/create-property-descriptor"),l=e("../internals/set-to-string-tag"),o=e("../internals/iterators"),u=function(){return this};n.exports=function(p,d,h,g){var b=d+" Iterator";return p.prototype=a(s,{next:c(+!g,h)}),l(p,b,!1,!0),o[b]=u,p}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/function-call"),c=e("../internals/is-pure"),l=e("../internals/function-name"),o=e("../internals/is-callable"),u=e("../internals/iterator-create-constructor"),p=e("../internals/object-get-prototype-of"),d=e("../internals/object-set-prototype-of"),h=e("../internals/set-to-string-tag"),g=e("../internals/create-non-enumerable-property"),b=e("../internals/define-built-in"),m=e("../internals/well-known-symbol"),y=e("../internals/iterators"),v=e("../internals/iterators-core"),w=l.PROPER,E=l.CONFIGURABLE,A=v.IteratorPrototype,D=v.BUGGY_SAFARI_ITERATORS,L=m("iterator"),C=function(){return this};n.exports=function(M,F,$,U,j,P,N){u($,F,U);var x,S,_,k=function(z){if(z===j&&W)return W;if(!D&&z&&z in V)return V[z];switch(z){case"keys":case"values":case"entries":return function(){return new $(this,z)}}return function(){return new $(this)}},T=F+" Iterator",B=!1,V=M.prototype,q=V[L]||V["@@iterator"]||j&&V[j],W=!D&&q||k(j),J=F==="Array"&&V.entries||q;if(J&&(x=p(J.call(new M)))!==Object.prototype&&x.next&&(c||p(x)===A||(d?d(x,A):o(x[L])||b(x,L,C)),h(x,T,!0,!0),c&&(y[T]=C)),w&&j==="values"&&q&&q.name!=="values"&&(!c&&E?g(V,"name","values"):(B=!0,W=function(){return a(q,this)})),j)if(S={values:k("values"),keys:P?W:k("keys"),entries:k("entries")},N)for(_ in S)(D||B||!(_ in V))&&b(V,_,S[_]);else s({target:F,proto:!0,forced:D||B},S);return c&&!N||V[L]===W||b(V,L,W,{name:j}),y[F]=W,S}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,n,i){var s,a,c,l=e("../internals/fails"),o=e("../internals/is-callable"),u=e("../internals/is-object"),p=e("../internals/object-create"),d=e("../internals/object-get-prototype-of"),h=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),b=e("../internals/is-pure"),m=g("iterator"),y=!1;[].keys&&("next"in(c=[].keys())?(a=d(d(c)))!==Object.prototype&&(s=a):y=!0),!u(s)||l(function(){var v={};return s[m].call(v)!==v})?s={}:b&&(s=p(s)),o(s[m])||h(s,m,function(){return this}),n.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:y}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,n,i){arguments[4][276][0].apply(i,arguments)},{dup:276}],299:[function(e,n,i){var s=e("../internals/to-length");n.exports=function(a){return s(a.length)}},{"../internals/to-length":343}],300:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/fails"),c=e("../internals/is-callable"),l=e("../internals/has-own-property"),o=e("../internals/descriptors"),u=e("../internals/function-name").CONFIGURABLE,p=e("../internals/inspect-source"),d=e("../internals/internal-state"),h=d.enforce,g=d.get,b=String,m=Object.defineProperty,y=s("".slice),v=s("".replace),w=s([].join),E=o&&!a(function(){return m(function(){},"length",{value:8}).length!==8}),A=String(String).split("String"),D=n.exports=function(L,C,M){y(b(C),0,7)==="Symbol("&&(C="["+v(b(C),/^Symbol\(([^)]*)\)/,"$1")+"]"),M&&M.getter&&(C="get "+C),M&&M.setter&&(C="set "+C),(!l(L,"name")||u&&L.name!==C)&&(o?m(L,"name",{value:C,configurable:!0}):L.name=C),E&&M&&l(M,"arity")&&L.length!==M.arity&&m(L,"length",{value:M.arity});try{M&&l(M,"constructor")&&M.constructor?o&&m(L,"prototype",{writable:!1}):L.prototype&&(L.prototype=void 0)}catch{}var F=h(L);return l(F,"source")||(F.source=w(A,typeof C=="string"?C:"")),L};Function.prototype.toString=D(function(){return c(this)&&g(this).source||p(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,n,i){var s=Math.ceil,a=Math.floor;n.exports=Math.trunc||function(c){var l=+c;return(l>0?a:s)(l)}},{}],302:[function(e,n,i){var s,a,c,l,o,u=e("../internals/global"),p=e("../internals/function-bind-context"),d=e("../internals/object-get-own-property-descriptor").f,h=e("../internals/task").set,g=e("../internals/queue"),b=e("../internals/engine-is-ios"),m=e("../internals/engine-is-ios-pebble"),y=e("../internals/engine-is-webos-webkit"),v=e("../internals/engine-is-node"),w=u.MutationObserver||u.WebKitMutationObserver,E=u.document,A=u.process,D=u.Promise,L=d(u,"queueMicrotask"),C=L&&L.value;if(!C){var M=new g,F=function(){var $,U;for(v&&($=A.domain)&&$.exit();U=M.get();)try{U()}catch(j){throw M.head&&s(),j}$&&$.enter()};b||v||y||!w||!E?!m&&D&&D.resolve?((l=D.resolve(void 0)).constructor=D,o=p(l.then,l),s=function(){o(F)}):v?s=function(){A.nextTick(F)}:(h=p(h,u),s=function(){h(F)}):(a=!0,c=E.createTextNode(""),new w(F).observe(c,{characterData:!0}),s=function(){c.data=a=!a}),C=function($){M.head||s(),M.add($)}}n.exports=C},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,n,i){var s=e("../internals/a-callable"),a=TypeError,c=function(l){var o,u;this.promise=new l(function(p,d){if(o!==void 0||u!==void 0)throw new a("Bad Promise constructor");o=p,u=d}),this.resolve=s(o),this.reject=s(u)};n.exports.f=function(l){return new c(l)}},{"../internals/a-callable":222}],304:[function(e,n,i){var s=e("../internals/is-regexp"),a=TypeError;n.exports=function(c){if(s(c))throw new a("The method doesn't accept regular expressions");return c}},{"../internals/is-regexp":291}],305:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/function-uncurry-this"),c=e("../internals/function-call"),l=e("../internals/fails"),o=e("../internals/object-keys"),u=e("../internals/object-get-own-property-symbols"),p=e("../internals/object-property-is-enumerable"),d=e("../internals/to-object"),h=e("../internals/indexed-object"),g=Object.assign,b=Object.defineProperty,m=a([].concat);n.exports=!g||l(function(){if(s&&g({b:1},g(b({},"a",{enumerable:!0,get:function(){b(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var y={},v={},w=Symbol("assign detection");return y[w]=7,"abcdefghijklmnopqrst".split("").forEach(function(E){v[E]=E}),g({},y)[w]!==7||o(g({},v)).join("")!=="abcdefghijklmnopqrst"})?function(y,v){for(var w=d(y),E=arguments.length,A=1,D=u.f,L=p.f;E>A;)for(var C,M=h(arguments[A++]),F=D?m(o(M),D(M)):o(M),$=F.length,U=0;$>U;)C=F[U++],s&&!c(L,M,C)||(w[C]=M[C]);return w}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,n,i){var s,a=e("../internals/an-object"),c=e("../internals/object-define-properties"),l=e("../internals/enum-bug-keys"),o=e("../internals/hidden-keys"),u=e("../internals/html"),p=e("../internals/document-create-element"),d=e("../internals/shared-key"),h=d("IE_PROTO"),g=function(){},b=function(v){return"<script>"+v+"<\/script>"},m=function(v){v.write(b("")),v.close();var w=v.parentWindow.Object;return v=null,w},y=function(){try{s=new ActiveXObject("htmlfile")}catch{}var v,w;y=typeof document<"u"?document.domain&&s?m(s):((w=p("iframe")).style.display="none",u.appendChild(w),w.src="javascript:",(v=w.contentWindow.document).open(),v.write(b("document.F=Object")),v.close(),v.F):m(s);for(var E=l.length;E--;)delete y.prototype[l[E]];return y()};o[h]=!0,n.exports=Object.create||function(v,w){var E;return v!==null?(g.prototype=a(v),E=new g,g.prototype=null,E[h]=v):E=y(),w===void 0?E:c.f(E,w)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/v8-prototype-define-bug"),c=e("../internals/object-define-property"),l=e("../internals/an-object"),o=e("../internals/to-indexed-object"),u=e("../internals/object-keys");i.f=s&&!a?Object.defineProperties:function(p,d){l(p);for(var h,g=o(d),b=u(d),m=b.length,y=0;m>y;)c.f(p,h=b[y++],g[h]);return p}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/ie8-dom-define"),c=e("../internals/v8-prototype-define-bug"),l=e("../internals/an-object"),o=e("../internals/to-property-key"),u=TypeError,p=Object.defineProperty,d=Object.getOwnPropertyDescriptor;i.f=s?c?function(h,g,b){if(l(h),g=o(g),l(b),typeof h=="function"&&g==="prototype"&&"value"in b&&"writable"in b&&!b.writable){var m=d(h,g);m&&m.writable&&(h[g]=b.value,b={configurable:"configurable"in b?b.configurable:m.configurable,enumerable:"enumerable"in b?b.enumerable:m.enumerable,writable:!1})}return p(h,g,b)}:p:function(h,g,b){if(l(h),g=o(g),l(b),a)try{return p(h,g,b)}catch{}if("get"in b||"set"in b)throw new u("Accessors not supported");return"value"in b&&(h[g]=b.value),h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/function-call"),c=e("../internals/object-property-is-enumerable"),l=e("../internals/create-property-descriptor"),o=e("../internals/to-indexed-object"),u=e("../internals/to-property-key"),p=e("../internals/has-own-property"),d=e("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;i.f=s?h:function(g,b){if(g=o(g),b=u(b),d)try{return h(g,b)}catch{}if(p(g,b))return l(!a(c.f,g,b),g[b])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,n,i){var s=e("../internals/classof-raw"),a=e("../internals/to-indexed-object"),c=e("../internals/object-get-own-property-names").f,l=e("../internals/array-slice-simple"),o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return o&&s(u)==="Window"?function(p){try{return c(p)}catch{return l(o)}}(u):c(a(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,n,i){var s=e("../internals/object-keys-internal"),a=e("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(c){return s(c,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,n,i){i.f=Object.getOwnPropertySymbols},{}],313:[function(e,n,i){var s=e("../internals/has-own-property"),a=e("../internals/is-callable"),c=e("../internals/to-object"),l=e("../internals/shared-key"),o=e("../internals/correct-prototype-getter"),u=l("IE_PROTO"),p=Object,d=p.prototype;n.exports=o?p.getPrototypeOf:function(h){var g=c(h);if(s(g,u))return g[u];var b=g.constructor;return a(b)&&g instanceof b?b.prototype:g instanceof p?d:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,n,i){var s=e("../internals/function-uncurry-this");n.exports=s({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/has-own-property"),c=e("../internals/to-indexed-object"),l=e("../internals/array-includes").indexOf,o=e("../internals/hidden-keys"),u=s([].push);n.exports=function(p,d){var h,g=c(p),b=0,m=[];for(h in g)!a(o,h)&&a(g,h)&&u(m,h);for(;d.length>b;)a(g,h=d[b++])&&(~l(m,h)||u(m,h));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,n,i){var s=e("../internals/object-keys-internal"),a=e("../internals/enum-bug-keys");n.exports=Object.keys||function(c){return s(c,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,n,i){var s={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,c=a&&!s.call({1:2},1);i.f=c?function(l){var o=a(this,l);return!!o&&o.enumerable}:s},{}],318:[function(e,n,i){var s=e("../internals/function-uncurry-this-accessor"),a=e("../internals/an-object"),c=e("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,o=!1,u={};try{(l=s(Object.prototype,"__proto__","set"))(u,[]),o=u instanceof Array}catch{}return function(p,d){return a(p),c(d),o?l(p,d):p.__proto__=d,p}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/fails"),c=e("../internals/function-uncurry-this"),l=e("../internals/object-get-prototype-of"),o=e("../internals/object-keys"),u=e("../internals/to-indexed-object"),p=c(e("../internals/object-property-is-enumerable").f),d=c([].push),h=s&&a(function(){var b=Object.create(null);return b[2]=2,!p(b,2)}),g=function(b){return function(m){for(var y,v=u(m),w=o(v),E=h&&l(v)===null,A=w.length,D=0,L=[];A>D;)y=w[D++],s&&!(E?y in v:p(v,y))||d(L,b?[y,v[y]]:v[y]);return L}};n.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,n,i){var s=e("../internals/function-call"),a=e("../internals/is-callable"),c=e("../internals/is-object"),l=TypeError;n.exports=function(o,u){var p,d;if(u==="string"&&a(p=o.toString)&&!c(d=s(p,o))||a(p=o.valueOf)&&!c(d=s(p,o))||u!=="string"&&a(p=o.toString)&&!c(d=s(p,o)))return d;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,n,i){var s=e("../internals/get-built-in"),a=e("../internals/function-uncurry-this"),c=e("../internals/object-get-own-property-names"),l=e("../internals/object-get-own-property-symbols"),o=e("../internals/an-object"),u=a([].concat);n.exports=s("Reflect","ownKeys")||function(p){var d=c.f(o(p)),h=l.f;return h?u(d,h(p)):d}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,n,i){var s=e("../internals/global");n.exports=s},{"../internals/global":274}],323:[function(e,n,i){n.exports=function(s){try{return{error:!1,value:s()}}catch(a){return{error:!0,value:a}}}},{}],324:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/promise-native-constructor"),c=e("../internals/is-callable"),l=e("../internals/is-forced"),o=e("../internals/inspect-source"),u=e("../internals/well-known-symbol"),p=e("../internals/engine-is-browser"),d=e("../internals/engine-is-deno"),h=e("../internals/is-pure"),g=e("../internals/engine-v8-version"),b=a&&a.prototype,m=u("species"),y=!1,v=c(s.PromiseRejectionEvent),w=l("Promise",function(){var E=o(a),A=E!==String(a);if(!A&&g===66||h&&(!b.catch||!b.finally))return!0;if(!g||g<51||!/native code/.test(E)){var D=new a(function(C){C(1)}),L=function(C){C(function(){},function(){})};if((D.constructor={})[m]=L,!(y=D.then(function(){})instanceof L))return!0}return!A&&(p||d)&&!v});n.exports={CONSTRUCTOR:w,REJECTION_EVENT:v,SUBCLASSING:y}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,n,i){var s=e("../internals/global");n.exports=s.Promise},{"../internals/global":274}],326:[function(e,n,i){var s=e("../internals/an-object"),a=e("../internals/is-object"),c=e("../internals/new-promise-capability");n.exports=function(l,o){if(s(l),a(o)&&o.constructor===l)return o;var u=c.f(l);return(0,u.resolve)(o),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,n,i){var s=e("../internals/promise-native-constructor"),a=e("../internals/check-correctness-of-iteration"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=c||!a(function(l){s.all(l).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,n,i){var s=function(){this.head=null,this.tail=null};s.prototype={add:function(a){var c={item:a,next:null},l=this.tail;l?l.next=c:this.head=c,this.tail=c},get:function(){var a=this.head;if(a)return(this.head=a.next)===null&&(this.tail=null),a.item}},n.exports=s},{}],329:[function(e,n,i){var s=e("../internals/is-null-or-undefined"),a=TypeError;n.exports=function(c){if(s(c))throw new a("Can't call method on "+c);return c}},{"../internals/is-null-or-undefined":288}],330:[function(e,n,i){var s=e("../internals/get-built-in"),a=e("../internals/define-built-in-accessor"),c=e("../internals/well-known-symbol"),l=e("../internals/descriptors"),o=c("species");n.exports=function(u){var p=s(u);l&&p&&!p[o]&&a(p,o,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,n,i){var s=e("../internals/object-define-property").f,a=e("../internals/has-own-property"),c=e("../internals/well-known-symbol")("toStringTag");n.exports=function(l,o,u){l&&!u&&(l=l.prototype),l&&!a(l,c)&&s(l,c,{configurable:!0,value:o})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,n,i){var s=e("../internals/shared"),a=e("../internals/uid"),c=s("keys");n.exports=function(l){return c[l]||(c[l]=a(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/define-global-property"),c=s["__core-js_shared__"]||a("__core-js_shared__",{});n.exports=c},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,n,i){var s=e("../internals/is-pure"),a=e("../internals/shared-store");(n.exports=function(c,l){return a[c]||(a[c]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:s?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,n,i){var s=e("../internals/an-object"),a=e("../internals/a-constructor"),c=e("../internals/is-null-or-undefined"),l=e("../internals/well-known-symbol")("species");n.exports=function(o,u){var p,d=s(o).constructor;return d===void 0||c(p=s(d)[l])?u:a(p)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,n,i){var s=e("../internals/engine-v8-version"),a=e("../internals/fails"),c=e("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!a(function(){var l=Symbol("symbol detection");return!c(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&s&&s<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,n,i){var s=e("../internals/function-call"),a=e("../internals/get-built-in"),c=e("../internals/well-known-symbol"),l=e("../internals/define-built-in");n.exports=function(){var o=a("Symbol"),u=o&&o.prototype,p=u&&u.valueOf,d=c("toPrimitive");u&&!u[d]&&l(u,d,function(h){return s(p,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,n,i){var s=e("../internals/symbol-constructor-detection");n.exports=s&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,n,i){var s,a,c,l,o=e("../internals/global"),u=e("../internals/function-apply"),p=e("../internals/function-bind-context"),d=e("../internals/is-callable"),h=e("../internals/has-own-property"),g=e("../internals/fails"),b=e("../internals/html"),m=e("../internals/array-slice"),y=e("../internals/document-create-element"),v=e("../internals/validate-arguments-length"),w=e("../internals/engine-is-ios"),E=e("../internals/engine-is-node"),A=o.setImmediate,D=o.clearImmediate,L=o.process,C=o.Dispatch,M=o.Function,F=o.MessageChannel,$=o.String,U=0,j={};g(function(){s=o.location});var P=function(_){if(h(j,_)){var k=j[_];delete j[_],k()}},N=function(_){return function(){P(_)}},x=function(_){P(_.data)},S=function(_){o.postMessage($(_),s.protocol+"//"+s.host)};A&&D||(A=function(_){v(arguments.length,1);var k=d(_)?_:M(_),T=m(arguments,1);return j[++U]=function(){u(k,void 0,T)},a(U),U},D=function(_){delete j[_]},E?a=function(_){L.nextTick(N(_))}:C&&C.now?a=function(_){C.now(N(_))}:F&&!w?(l=(c=new F).port2,c.port1.onmessage=x,a=p(l.postMessage,l)):o.addEventListener&&d(o.postMessage)&&!o.importScripts&&s&&s.protocol!=="file:"&&!g(S)?(a=S,o.addEventListener("message",x,!1)):a="onreadystatechange"in y("script")?function(_){b.appendChild(y("script")).onreadystatechange=function(){b.removeChild(this),P(_)}}:function(_){setTimeout(N(_),0)}),n.exports={set:A,clear:D}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,n,i){var s=e("../internals/to-integer-or-infinity"),a=Math.max,c=Math.min;n.exports=function(l,o){var u=s(l);return u<0?a(u+o,0):c(u,o)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,n,i){var s=e("../internals/indexed-object"),a=e("../internals/require-object-coercible");n.exports=function(c){return s(a(c))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,n,i){var s=e("../internals/math-trunc");n.exports=function(a){var c=+a;return c!=c||c===0?0:s(c)}},{"../internals/math-trunc":301}],343:[function(e,n,i){var s=e("../internals/to-integer-or-infinity"),a=Math.min;n.exports=function(c){return c>0?a(s(c),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,n,i){var s=e("../internals/require-object-coercible"),a=Object;n.exports=function(c){return a(s(c))}},{"../internals/require-object-coercible":329}],345:[function(e,n,i){var s=e("../internals/function-call"),a=e("../internals/is-object"),c=e("../internals/is-symbol"),l=e("../internals/get-method"),o=e("../internals/ordinary-to-primitive"),u=e("../internals/well-known-symbol"),p=TypeError,d=u("toPrimitive");n.exports=function(h,g){if(!a(h)||c(h))return h;var b,m=l(h,d);if(m){if(g===void 0&&(g="default"),b=s(m,h,g),!a(b)||c(b))return b;throw new p("Can't convert object to primitive value")}return g===void 0&&(g="number"),o(h,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,n,i){var s=e("../internals/to-primitive"),a=e("../internals/is-symbol");n.exports=function(c){var l=s(c,"string");return a(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,n,i){var s={};s[e("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(s)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,n,i){var s=e("../internals/classof"),a=String;n.exports=function(c){if(s(c)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return a(c)}},{"../internals/classof":236}],349:[function(e,n,i){var s=String;n.exports=function(a){try{return s(a)}catch{return"Object"}}},{}],350:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=0,c=Math.random(),l=s(1 .toString);n.exports=function(o){return"Symbol("+(o===void 0?"":o)+")_"+l(++a+c,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,n,i){var s=e("../internals/symbol-constructor-detection");n.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/fails");n.exports=s&&a(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,n,i){var s=TypeError;n.exports=function(a,c){if(a<c)throw new s("Not enough arguments");return a}},{}],354:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/is-callable"),c=s.WeakMap;n.exports=a(c)&&/native code/.test(String(c))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,n,i){var s=e("../internals/path"),a=e("../internals/has-own-property"),c=e("../internals/well-known-symbol-wrapped"),l=e("../internals/object-define-property").f;n.exports=function(o){var u=s.Symbol||(s.Symbol={});a(u,o)||l(u,o,{value:c.f(o)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,n,i){var s=e("../internals/well-known-symbol");i.f=s},{"../internals/well-known-symbol":357}],357:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/shared"),c=e("../internals/has-own-property"),l=e("../internals/uid"),o=e("../internals/symbol-constructor-detection"),u=e("../internals/use-symbol-as-uid"),p=s.Symbol,d=a("wks"),h=u?p.for||p:p&&p.withoutSetter||l;n.exports=function(g){return c(d,g)||(d[g]=o&&c(p,g)?p[g]:h("Symbol."+g)),d[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/array-iteration").findIndex,c=e("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex(function(){l=!1}),s({target:"Array",proto:!0,forced:l},{findIndex:function(o){return a(this,o,arguments.length>1?arguments[1]:void 0)}}),c("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/array-iteration").find,c=e("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),s({target:"Array",proto:!0,forced:l},{find:function(o){return a(this,o,arguments.length>1?arguments[1]:void 0)}}),c("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/array-includes").includes,c=e("../internals/fails"),l=e("../internals/add-to-unscopables");s({target:"Array",proto:!0,forced:c(function(){return!Array(1).includes()})},{includes:function(o){return a(this,o,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,n,i){var s=e("../internals/to-indexed-object"),a=e("../internals/add-to-unscopables"),c=e("../internals/iterators"),l=e("../internals/internal-state"),o=e("../internals/object-define-property").f,u=e("../internals/iterator-define"),p=e("../internals/create-iter-result-object"),d=e("../internals/is-pure"),h=e("../internals/descriptors"),g=l.set,b=l.getterFor("Array Iterator");n.exports=u(Array,"Array",function(y,v){g(this,{type:"Array Iterator",target:s(y),index:0,kind:v})},function(){var y=b(this),v=y.target,w=y.kind,E=y.index++;if(!v||E>=v.length)return y.target=void 0,p(void 0,!0);switch(w){case"keys":return p(E,!1);case"values":return p(v[E],!1)}return p([E,v[E]],!1)},"values");var m=c.Arguments=c.Array;if(a("keys"),a("values"),a("entries"),!d&&h&&m.name!=="values")try{o(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/get-built-in"),c=e("../internals/function-apply"),l=e("../internals/function-call"),o=e("../internals/function-uncurry-this"),u=e("../internals/fails"),p=e("../internals/is-callable"),d=e("../internals/is-symbol"),h=e("../internals/array-slice"),g=e("../internals/get-json-replacer-function"),b=e("../internals/symbol-constructor-detection"),m=String,y=a("JSON","stringify"),v=o(/./.exec),w=o("".charAt),E=o("".charCodeAt),A=o("".replace),D=o(1 .toString),L=/[\uD800-\uDFFF]/g,C=/^[\uD800-\uDBFF]$/,M=/^[\uDC00-\uDFFF]$/,F=!b||u(function(){var P=a("Symbol")("stringify detection");return y([P])!=="[null]"||y({a:P})!=="{}"||y(Object(P))!=="{}"}),$=u(function(){return y("\uDF06\uD834")!=='"\\udf06\\ud834"'||y("\uDEAD")!=='"\\udead"'}),U=function(P,N){var x=h(arguments),S=g(N);if(p(S)||P!==void 0&&!d(P))return x[1]=function(_,k){if(p(S)&&(k=l(S,this,m(_),k)),!d(k))return k},c(y,null,x)},j=function(P,N,x){var S=w(x,N-1),_=w(x,N+1);return v(C,P)&&!v(M,_)||v(M,P)&&!v(C,S)?"\\u"+D(E(P,0),16):P};y&&s({target:"JSON",stat:!0,arity:3,forced:F||$},{stringify:function(P,N,x){var S=h(arguments),_=c(F?U:y,null,S);return $&&typeof _=="string"?A(_,L,j):_}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,n,i){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(s){return s!=s}})},{"../internals/export":259}],364:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/object-assign");s({target:"Object",stat:!0,arity:2,forced:Object.assign!==a},{assign:a})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/symbol-constructor-detection"),c=e("../internals/fails"),l=e("../internals/object-get-own-property-symbols"),o=e("../internals/to-object");s({target:"Object",stat:!0,forced:!a||c(function(){l.f(1)})},{getOwnPropertySymbols:function(u){var p=l.f;return p?p(o(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/to-object"),c=e("../internals/object-keys");s({target:"Object",stat:!0,forced:e("../internals/fails")(function(){c(1)})},{keys:function(l){return c(a(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/object-to-array").values;s({target:"Object",stat:!0},{values:function(c){return a(c)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/function-call"),c=e("../internals/a-callable"),l=e("../internals/new-promise-capability"),o=e("../internals/perform"),u=e("../internals/iterate");s({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(p){var d=this,h=l.f(d),g=h.resolve,b=h.reject,m=o(function(){var y=c(d.resolve),v=[],w=0,E=1;u(p,function(A){var D=w++,L=!1;E++,a(y,d,A).then(function(C){L||(L=!0,v[D]=C,--E||g(v))},b)}),--E||g(v)});return m.error&&b(m.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/is-pure"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR,l=e("../internals/promise-native-constructor"),o=e("../internals/get-built-in"),u=e("../internals/is-callable"),p=e("../internals/define-built-in"),d=l&&l.prototype;if(s({target:"Promise",proto:!0,forced:c,real:!0},{catch:function(g){return this.then(void 0,g)}}),!a&&u(l)){var h=o("Promise").prototype.catch;d.catch!==h&&p(d,"catch",h,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,n,i){var s,a,c,l=e("../internals/export"),o=e("../internals/is-pure"),u=e("../internals/engine-is-node"),p=e("../internals/global"),d=e("../internals/function-call"),h=e("../internals/define-built-in"),g=e("../internals/object-set-prototype-of"),b=e("../internals/set-to-string-tag"),m=e("../internals/set-species"),y=e("../internals/a-callable"),v=e("../internals/is-callable"),w=e("../internals/is-object"),E=e("../internals/an-instance"),A=e("../internals/species-constructor"),D=e("../internals/task").set,L=e("../internals/microtask"),C=e("../internals/host-report-errors"),M=e("../internals/perform"),F=e("../internals/queue"),$=e("../internals/internal-state"),U=e("../internals/promise-native-constructor"),j=e("../internals/promise-constructor-detection"),P=e("../internals/new-promise-capability"),N=j.CONSTRUCTOR,x=j.REJECTION_EVENT,S=j.SUBCLASSING,_=$.getterFor("Promise"),k=$.set,T=U&&U.prototype,B=U,V=T,q=p.TypeError,W=p.document,J=p.process,z=P.f,X=z,O=!!(W&&W.createEvent&&p.dispatchEvent),R=function(se){var de;return!(!w(se)||!v(de=se.then))&&de},H=function(se,de){var ue,he,ge,be=de.value,xe=de.state===1,ke=xe?se.ok:se.fail,Ne=se.resolve,Re=se.reject,$e=se.domain;try{ke?(xe||(de.rejection===2&&oe(de),de.rejection=1),ke===!0?ue=be:($e&&$e.enter(),ue=ke(be),$e&&($e.exit(),ge=!0)),ue===se.promise?Re(new q("Promise-chain cycle")):(he=R(ue))?d(he,ue,Ne,Re):Ne(ue)):Re(be)}catch(Ce){$e&&!ge&&$e.exit(),Re(Ce)}},G=function(se,de){se.notified||(se.notified=!0,L(function(){for(var ue,he=se.reactions;ue=he.get();)H(ue,se);se.notified=!1,de&&!se.rejection&&Z(se)}))},ee=function(se,de,ue){var he,ge;O?((he=W.createEvent("Event")).promise=de,he.reason=ue,he.initEvent(se,!1,!0),p.dispatchEvent(he)):he={promise:de,reason:ue},!x&&(ge=p["on"+se])?ge(he):se==="unhandledrejection"&&C("Unhandled promise rejection",ue)},Z=function(se){d(D,p,function(){var de,ue=se.facade,he=se.value;if(te(se)&&(de=M(function(){u?J.emit("unhandledRejection",he,ue):ee("unhandledrejection",ue,he)}),se.rejection=u||te(se)?2:1,de.error))throw de.value})},te=function(se){return se.rejection!==1&&!se.parent},oe=function(se){d(D,p,function(){var de=se.facade;u?J.emit("rejectionHandled",de):ee("rejectionhandled",de,se.value)})},le=function(se,de,ue){return function(he){se(de,he,ue)}},Y=function(se,de,ue){se.done||(se.done=!0,ue&&(se=ue),se.value=de,se.state=2,G(se,!0))},ie=function(se,de,ue){if(!se.done){se.done=!0,ue&&(se=ue);try{if(se.facade===de)throw new q("Promise can't be resolved itself");var he=R(de);he?L(function(){var ge={done:!1};try{d(he,de,le(ie,ge,se),le(Y,ge,se))}catch(be){Y(ge,be,se)}}):(se.value=de,se.state=1,G(se,!1))}catch(ge){Y({done:!1},ge,se)}}};if(N&&(V=(B=function(se){E(this,V),y(se),d(s,this);var de=_(this);try{se(le(ie,de),le(Y,de))}catch(ue){Y(de,ue)}}).prototype,(s=function(se){k(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new F,rejection:!1,state:0,value:void 0})}).prototype=h(V,"then",function(se,de){var ue=_(this),he=z(A(this,B));return ue.parent=!0,he.ok=!v(se)||se,he.fail=v(de)&&de,he.domain=u?J.domain:void 0,ue.state===0?ue.reactions.add(he):L(function(){H(he,ue)}),he.promise}),a=function(){var se=new s,de=_(se);this.promise=se,this.resolve=le(ie,de),this.reject=le(Y,de)},P.f=z=function(se){return se===B||se===void 0?new a(se):X(se)},!o&&v(U)&&T!==Object.prototype)){c=T.then,S||h(T,"then",function(se,de){var ue=this;return new B(function(he,ge){d(c,ue,he,ge)}).then(se,de)},{unsafe:!0});try{delete T.constructor}catch{}g&&g(T,V)}l({global:!0,constructor:!0,wrap:!0,forced:N},{Promise:B}),b(B,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/is-pure"),c=e("../internals/promise-native-constructor"),l=e("../internals/fails"),o=e("../internals/get-built-in"),u=e("../internals/is-callable"),p=e("../internals/species-constructor"),d=e("../internals/promise-resolve"),h=e("../internals/define-built-in"),g=c&&c.prototype;if(s({target:"Promise",proto:!0,real:!0,forced:!!c&&l(function(){g.finally.call({then:function(){}},function(){})})},{finally:function(m){var y=p(this,o("Promise")),v=u(m);return this.then(v?function(w){return d(y,m()).then(function(){return w})}:m,v?function(w){return d(y,m()).then(function(){throw w})}:m)}}),!a&&u(c)){var b=o("Promise").prototype.finally;g.finally!==b&&h(g,"finally",b,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,n,i){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/function-call"),c=e("../internals/a-callable"),l=e("../internals/new-promise-capability"),o=e("../internals/perform"),u=e("../internals/iterate");s({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(p){var d=this,h=l.f(d),g=h.reject,b=o(function(){var m=c(d.resolve);u(p,function(y){a(m,d,y).then(h.resolve,g)})});return b.error&&g(b.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/function-call"),c=e("../internals/new-promise-capability");s({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var o=c.f(this);return a(o.reject,void 0,l),o.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/get-built-in"),c=e("../internals/is-pure"),l=e("../internals/promise-native-constructor"),o=e("../internals/promise-constructor-detection").CONSTRUCTOR,u=e("../internals/promise-resolve"),p=a("Promise"),d=c&&!o;s({target:"Promise",stat:!0,forced:c||o},{resolve:function(h){return u(d&&this===p?l:this,h)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/function-uncurry-this"),c=e("../internals/to-absolute-index"),l=RangeError,o=String.fromCharCode,u=String.fromCodePoint,p=a([].join);s({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(d){for(var h,g=[],b=arguments.length,m=0;b>m;){if(h=+arguments[m++],c(h,1114111)!==h)throw new l(h+" is not a valid code point");g[m]=h<65536?o(h):o(55296+((h-=65536)>>10),h%1024+56320)}return p(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/function-uncurry-this"),c=e("../internals/not-a-regexp"),l=e("../internals/require-object-coercible"),o=e("../internals/to-string"),u=e("../internals/correct-is-regexp-logic"),p=a("".indexOf);s({target:"String",proto:!0,forced:!u("includes")},{includes:function(d){return!!~p(o(l(this)),o(c(d)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,n,i){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/global"),c=e("../internals/function-call"),l=e("../internals/function-uncurry-this"),o=e("../internals/is-pure"),u=e("../internals/descriptors"),p=e("../internals/symbol-constructor-detection"),d=e("../internals/fails"),h=e("../internals/has-own-property"),g=e("../internals/object-is-prototype-of"),b=e("../internals/an-object"),m=e("../internals/to-indexed-object"),y=e("../internals/to-property-key"),v=e("../internals/to-string"),w=e("../internals/create-property-descriptor"),E=e("../internals/object-create"),A=e("../internals/object-keys"),D=e("../internals/object-get-own-property-names"),L=e("../internals/object-get-own-property-names-external"),C=e("../internals/object-get-own-property-symbols"),M=e("../internals/object-get-own-property-descriptor"),F=e("../internals/object-define-property"),$=e("../internals/object-define-properties"),U=e("../internals/object-property-is-enumerable"),j=e("../internals/define-built-in"),P=e("../internals/define-built-in-accessor"),N=e("../internals/shared"),x=e("../internals/shared-key"),S=e("../internals/hidden-keys"),_=e("../internals/uid"),k=e("../internals/well-known-symbol"),T=e("../internals/well-known-symbol-wrapped"),B=e("../internals/well-known-symbol-define"),V=e("../internals/symbol-define-to-primitive"),q=e("../internals/set-to-string-tag"),W=e("../internals/internal-state"),J=e("../internals/array-iteration").forEach,z=x("hidden"),X=W.set,O=W.getterFor("Symbol"),R=Object.prototype,H=a.Symbol,G=H&&H.prototype,ee=a.RangeError,Z=a.TypeError,te=a.QObject,oe=M.f,le=F.f,Y=L.f,ie=U.f,se=l([].push),de=N("symbols"),ue=N("op-symbols"),he=N("wks"),ge=!te||!te.prototype||!te.prototype.findChild,be=function(Ae,Ee,Fe){var qe=oe(R,Ee);qe&&delete R[Ee],le(Ae,Ee,Fe),qe&&Ae!==R&&le(R,Ee,qe)},xe=u&&d(function(){return E(le({},"a",{get:function(){return le(this,"a",{value:7}).a}})).a!==7})?be:le,ke=function(Ae,Ee){var Fe=de[Ae]=E(G);return X(Fe,{type:"Symbol",tag:Ae,description:Ee}),u||(Fe.description=Ee),Fe},Ne=function(Ae,Ee,Fe){Ae===R&&Ne(ue,Ee,Fe),b(Ae);var qe=y(Ee);return b(Fe),h(de,qe)?(Fe.enumerable?(h(Ae,z)&&Ae[z][qe]&&(Ae[z][qe]=!1),Fe=E(Fe,{enumerable:w(0,!1)})):(h(Ae,z)||le(Ae,z,w(1,{})),Ae[z][qe]=!0),xe(Ae,qe,Fe)):le(Ae,qe,Fe)},Re=function(Ae,Ee){b(Ae);var Fe=m(Ee),qe=A(Fe).concat(Be(Fe));return J(qe,function(ze){u&&!c($e,Fe,ze)||Ne(Ae,ze,Fe[ze])}),Ae},$e=function(Ae){var Ee=y(Ae),Fe=c(ie,this,Ee);return!(this===R&&h(de,Ee)&&!h(ue,Ee))&&(!(Fe||!h(this,Ee)||!h(de,Ee)||h(this,z)&&this[z][Ee])||Fe)},Ce=function(Ae,Ee){var Fe=m(Ae),qe=y(Ee);if(Fe!==R||!h(de,qe)||h(ue,qe)){var ze=oe(Fe,qe);return!ze||!h(de,qe)||h(Fe,z)&&Fe[z][qe]||(ze.enumerable=!0),ze}},Le=function(Ae){var Ee=Y(m(Ae)),Fe=[];return J(Ee,function(qe){h(de,qe)||h(S,qe)||se(Fe,qe)}),Fe},Be=function(Ae){var Ee=Ae===R,Fe=Y(Ee?ue:m(Ae)),qe=[];return J(Fe,function(ze){!h(de,ze)||Ee&&!h(R,ze)||se(qe,de[ze])}),qe};p||(j(G=(H=function(){if(g(G,this))throw new Z("Symbol is not a constructor");var Ae=arguments.length&&arguments[0]!==void 0?v(arguments[0]):void 0,Ee=_(Ae),Fe=function(qe){this===R&&c(Fe,ue,qe),h(this,z)&&h(this[z],Ee)&&(this[z][Ee]=!1);var ze=w(1,qe);try{xe(this,Ee,ze)}catch(bt){if(!(bt instanceof ee))throw bt;be(this,Ee,ze)}};return u&&ge&&xe(R,Ee,{configurable:!0,set:Fe}),ke(Ee,Ae)}).prototype,"toString",function(){return O(this).tag}),j(H,"withoutSetter",function(Ae){return ke(_(Ae),Ae)}),U.f=$e,F.f=Ne,$.f=Re,M.f=Ce,D.f=L.f=Le,C.f=Be,T.f=function(Ae){return ke(k(Ae),Ae)},u&&(P(G,"description",{configurable:!0,get:function(){return O(this).description}}),o||j(R,"propertyIsEnumerable",$e,{unsafe:!0}))),s({global:!0,constructor:!0,wrap:!0,forced:!p,sham:!p},{Symbol:H}),J(A(he),function(Ae){B(Ae)}),s({target:"Symbol",stat:!0,forced:!p},{useSetter:function(){ge=!0},useSimple:function(){ge=!1}}),s({target:"Object",stat:!0,forced:!p,sham:!u},{create:function(Ae,Ee){return Ee===void 0?E(Ae):Re(E(Ae),Ee)},defineProperty:Ne,defineProperties:Re,getOwnPropertyDescriptor:Ce}),s({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:Le}),V(),q(H,"Symbol"),S[z]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/get-built-in"),c=e("../internals/has-own-property"),l=e("../internals/to-string"),o=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),p=o("string-to-symbol-registry"),d=o("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!u},{for:function(h){var g=l(h);if(c(p,g))return p[g];var b=a("Symbol")(g);return p[g]=b,d[b]=g,b}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,n,i){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/has-own-property"),c=e("../internals/is-symbol"),l=e("../internals/try-to-string"),o=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),p=o("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!u},{keyFor:function(d){if(!c(d))throw new TypeError(l(d)+" is not a symbol");if(a(p,d))return p[d]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,n,i){function s(a){return Object.prototype.toString.call(a)}i.isArray=function(a){return Array.isArray?Array.isArray(a):s(a)==="[object Array]"},i.isBoolean=function(a){return typeof a=="boolean"},i.isNull=function(a){return a===null},i.isNullOrUndefined=function(a){return a==null},i.isNumber=function(a){return typeof a=="number"},i.isString=function(a){return typeof a=="string"},i.isSymbol=function(a){return typeof a=="symbol"},i.isUndefined=function(a){return a===void 0},i.isRegExp=function(a){return s(a)==="[object RegExp]"},i.isObject=function(a){return typeof a=="object"&&a!==null},i.isDate=function(a){return s(a)==="[object Date]"},i.isError=function(a){return s(a)==="[object Error]"||a instanceof Error},i.isFunction=function(a){return typeof a=="function"},i.isPrimitive=function(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||a===void 0},i.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,n,i){(function(s){(function(){var a=e("elliptic"),c=e("bn.js");n.exports=function(p){return new o(p)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(p){this.curveType=l[p],this.curveType||(this.curveType={name:p}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}function u(p,d,h){Array.isArray(p)||(p=p.toArray());var g=new s(p);if(h&&g.length<h){var b=new s(h-g.length);b.fill(0),g=s.concat([b,g])}return d?g.toString(d):g}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,o.prototype.generateKeys=function(p,d){return this.keys=this.curve.genKeyPair(),this.getPublicKey(p,d)},o.prototype.computeSecret=function(p,d,h){return d=d||"utf8",s.isBuffer(p)||(p=new s(p,d)),u(this.curve.keyFromPublic(p).getPublic().mul(this.keys.getPrivate()).getX(),h,this.curveType.byteLength)},o.prototype.getPublicKey=function(p,d){var h=this.keys.getPublic(d==="compressed",!0);return d==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),u(h,p)},o.prototype.getPrivateKey=function(p){return u(this.keys.getPrivate(),p)},o.prototype.setPublicKey=function(p,d){return d=d||"utf8",s.isBuffer(p)||(p=new s(p,d)),this.keys._importPublic(p),this},o.prototype.setPrivateKey=function(p,d){d=d||"utf8",s.isBuffer(p)||(p=new s(p,d));var h=new c(p);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],386:[function(e,n,i){var s=e("inherits"),a=e("md5.js"),c=e("ripemd160"),l=e("sha.js"),o=e("cipher-base");function u(p){o.call(this,"digest"),this._hash=p}s(u,o),u.prototype._update=function(p){this._hash.update(p)},u.prototype._final=function(){return this._hash.digest()},n.exports=function(p){return(p=p.toLowerCase())==="md5"?new a:p==="rmd160"||p==="ripemd160"?new c:new u(l(p))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,n,i){var s=e("md5.js");n.exports=function(a){return new s().update(a).digest()}},{"md5.js":450}],388:[function(e,n,i){var s=e("inherits"),a=e("./legacy"),c=e("cipher-base"),l=e("safe-buffer").Buffer,o=e("create-hash/md5"),u=e("ripemd160"),p=e("sha.js"),d=l.alloc(128);function h(g,b){c.call(this,"digest"),typeof b=="string"&&(b=l.from(b));var m=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=b,b.length>m?b=(g==="rmd160"?new u:p(g)).update(b).digest():b.length<m&&(b=l.concat([b,d],m));for(var y=this._ipad=l.allocUnsafe(m),v=this._opad=l.allocUnsafe(m),w=0;w<m;w++)y[w]=54^b[w],v[w]=92^b[w];this._hash=g==="rmd160"?new u:p(g),this._hash.update(y)}s(h,c),h.prototype._update=function(g){this._hash.update(g)},h.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new u:p(this._alg)).update(this._opad).update(g).digest()},n.exports=function(g,b){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new h("rmd160",b):g==="md5"?new a(o,b):new h(g,b)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,n,i){var s=e("inherits"),a=e("safe-buffer").Buffer,c=e("cipher-base"),l=a.alloc(128);function o(u,p){c.call(this,"digest"),typeof p=="string"&&(p=a.from(p)),this._alg=u,this._key=p,p.length>64?p=u(p):p.length<64&&(p=a.concat([p,l],64));for(var d=this._ipad=a.allocUnsafe(64),h=this._opad=a.allocUnsafe(64),g=0;g<64;g++)d[g]=54^p[g],h[g]=92^p[g];this._hash=[d]}s(o,c),o.prototype._update=function(u){this._hash.push(u)},o.prototype._final=function(){var u=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,u]))},n.exports=o},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,n,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=e("randombytes"),i.createHash=i.Hash=e("create-hash"),i.createHmac=i.Hmac=e("create-hmac");var s=e("browserify-sign/algos"),a=Object.keys(s),c=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);i.getHashes=function(){return c};var l=e("pbkdf2");i.pbkdf2=l.pbkdf2,i.pbkdf2Sync=l.pbkdf2Sync;var o=e("browserify-cipher");i.Cipher=o.Cipher,i.createCipher=o.createCipher,i.Cipheriv=o.Cipheriv,i.createCipheriv=o.createCipheriv,i.Decipher=o.Decipher,i.createDecipher=o.createDecipher,i.Decipheriv=o.Decipheriv,i.createDecipheriv=o.createDecipheriv,i.getCiphers=o.getCiphers,i.listCiphers=o.listCiphers;var u=e("diffie-hellman");i.DiffieHellmanGroup=u.DiffieHellmanGroup,i.createDiffieHellmanGroup=u.createDiffieHellmanGroup,i.getDiffieHellman=u.getDiffieHellman,i.createDiffieHellman=u.createDiffieHellman,i.DiffieHellman=u.DiffieHellman;var p=e("browserify-sign");i.createSign=p.createSign,i.Sign=p.Sign,i.createVerify=p.createVerify,i.Verify=p.Verify,i.createECDH=e("create-ecdh");var d=e("public-encrypt");i.publicEncrypt=d.publicEncrypt,i.privateEncrypt=d.privateEncrypt,i.publicDecrypt=d.publicDecrypt,i.privateDecrypt=d.privateDecrypt;var h=e("randomfill");i.randomFill=h.randomFill,i.randomFillSync=h.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,n,i){(function(s,a){typeof i=="object"&&n!==void 0?n.exports=a():(s=typeof globalThis<"u"?globalThis:s||self).dayjs=a()})(void 0,function(){var s=6e4,a=36e5,c="millisecond",l="second",o="minute",u="hour",p="day",d="week",h="month",g="quarter",b="year",m="date",y="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(x){var S=["th","st","nd","rd"],_=x%100;return"["+x+(S[(_-20)%10]||S[_]||S[0])+"]"}},A=function(x,S,_){var k=String(x);return!k||k.length>=S?x:""+Array(S+1-k.length).join(_)+x},D={s:A,z:function(x){var S=-x.utcOffset(),_=Math.abs(S),k=Math.floor(_/60),T=_%60;return(S<=0?"+":"-")+A(k,2,"0")+":"+A(T,2,"0")},m:function x(S,_){if(S.date()<_.date())return-x(_,S);var k=12*(_.year()-S.year())+(_.month()-S.month()),T=S.clone().add(k,h),B=_-T<0,V=S.clone().add(k+(B?-1:1),h);return+(-(k+(_-T)/(B?T-V:V-T))||0)},a:function(x){return x<0?Math.ceil(x)||0:Math.floor(x)},p:function(x){return{M:h,y:b,w:d,d:p,D:m,h:u,m:o,s:l,ms:c,Q:g}[x]||String(x||"").toLowerCase().replace(/s$/,"")},u:function(x){return x===void 0}},L="en",C={};C[L]=E;var M="$isDayjsObject",F=function(x){return x instanceof P||!(!x||!x[M])},$=function x(S,_,k){var T;if(!S)return L;if(typeof S=="string"){var B=S.toLowerCase();C[B]&&(T=B),_&&(C[B]=_,T=B);var V=S.split("-");if(!T&&V.length>1)return x(V[0])}else{var q=S.name;C[q]=S,T=q}return!k&&T&&(L=T),T||!k&&L},U=function(x,S){if(F(x))return x.clone();var _=typeof S=="object"?S:{};return _.date=x,_.args=arguments,new P(_)},j=D;j.l=$,j.i=F,j.w=function(x,S){return U(x,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var P=function(){function x(_){this.$L=$(_.locale,null,!0),this.parse(_),this.$x=this.$x||_.x||{},this[M]=!0}var S=x.prototype;return S.parse=function(_){this.$d=function(k){var T=k.date,B=k.utc;if(T===null)return new Date(NaN);if(j.u(T))return new Date;if(T instanceof Date)return new Date(T);if(typeof T=="string"&&!/Z$/i.test(T)){var V=T.match(v);if(V){var q=V[2]-1||0,W=(V[7]||"0").substring(0,3);return B?new Date(Date.UTC(V[1],q,V[3]||1,V[4]||0,V[5]||0,V[6]||0,W)):new Date(V[1],q,V[3]||1,V[4]||0,V[5]||0,V[6]||0,W)}}return new Date(T)}(_),this.init()},S.init=function(){var _=this.$d;this.$y=_.getFullYear(),this.$M=_.getMonth(),this.$D=_.getDate(),this.$W=_.getDay(),this.$H=_.getHours(),this.$m=_.getMinutes(),this.$s=_.getSeconds(),this.$ms=_.getMilliseconds()},S.$utils=function(){return j},S.isValid=function(){return this.$d.toString()!==y},S.isSame=function(_,k){var T=U(_);return this.startOf(k)<=T&&T<=this.endOf(k)},S.isAfter=function(_,k){return U(_)<this.startOf(k)},S.isBefore=function(_,k){return this.endOf(k)<U(_)},S.$g=function(_,k,T){return j.u(_)?this[k]:this.set(T,_)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(_,k){var T=this,B=!!j.u(k)||k,V=j.p(_),q=function(G,ee){var Z=j.w(T.$u?Date.UTC(T.$y,ee,G):new Date(T.$y,ee,G),T);return B?Z:Z.endOf(p)},W=function(G,ee){return j.w(T.toDate()[G].apply(T.toDate("s"),(B?[0,0,0,0]:[23,59,59,999]).slice(ee)),T)},J=this.$W,z=this.$M,X=this.$D,O="set"+(this.$u?"UTC":"");switch(V){case b:return B?q(1,0):q(31,11);case h:return B?q(1,z):q(0,z+1);case d:var R=this.$locale().weekStart||0,H=(J<R?J+7:J)-R;return q(B?X-H:X+(6-H),z);case p:case m:return W(O+"Hours",0);case u:return W(O+"Minutes",1);case o:return W(O+"Seconds",2);case l:return W(O+"Milliseconds",3);default:return this.clone()}},S.endOf=function(_){return this.startOf(_,!1)},S.$set=function(_,k){var T,B=j.p(_),V="set"+(this.$u?"UTC":""),q=(T={},T[p]=V+"Date",T[m]=V+"Date",T[h]=V+"Month",T[b]=V+"FullYear",T[u]=V+"Hours",T[o]=V+"Minutes",T[l]=V+"Seconds",T[c]=V+"Milliseconds",T)[B],W=B===p?this.$D+(k-this.$W):k;if(B===h||B===b){var J=this.clone().set(m,1);J.$d[q](W),J.init(),this.$d=J.set(m,Math.min(this.$D,J.daysInMonth())).$d}else q&&this.$d[q](W);return this.init(),this},S.set=function(_,k){return this.clone().$set(_,k)},S.get=function(_){return this[j.p(_)]()},S.add=function(_,k){var T,B=this;_=Number(_);var V=j.p(k),q=function(z){var X=U(B);return j.w(X.date(X.date()+Math.round(z*_)),B)};if(V===h)return this.set(h,this.$M+_);if(V===b)return this.set(b,this.$y+_);if(V===p)return q(1);if(V===d)return q(7);var W=(T={},T[o]=s,T[u]=a,T[l]=1e3,T)[V]||1,J=this.$d.getTime()+_*W;return j.w(J,this)},S.subtract=function(_,k){return this.add(-1*_,k)},S.format=function(_){var k=this,T=this.$locale();if(!this.isValid())return T.invalidDate||y;var B=_||"YYYY-MM-DDTHH:mm:ssZ",V=j.z(this),q=this.$H,W=this.$m,J=this.$M,z=T.weekdays,X=T.months,O=T.meridiem,R=function(ee,Z,te,oe){return ee&&(ee[Z]||ee(k,B))||te[Z].slice(0,oe)},H=function(ee){return j.s(q%12||12,ee,"0")},G=O||function(ee,Z,te){var oe=ee<12?"AM":"PM";return te?oe.toLowerCase():oe};return B.replace(w,function(ee,Z){return Z||function(te){switch(te){case"YY":return String(k.$y).slice(-2);case"YYYY":return j.s(k.$y,4,"0");case"M":return J+1;case"MM":return j.s(J+1,2,"0");case"MMM":return R(T.monthsShort,J,X,3);case"MMMM":return R(X,J);case"D":return k.$D;case"DD":return j.s(k.$D,2,"0");case"d":return String(k.$W);case"dd":return R(T.weekdaysMin,k.$W,z,2);case"ddd":return R(T.weekdaysShort,k.$W,z,3);case"dddd":return z[k.$W];case"H":return String(q);case"HH":return j.s(q,2,"0");case"h":return H(1);case"hh":return H(2);case"a":return G(q,W,!0);case"A":return G(q,W,!1);case"m":return String(W);case"mm":return j.s(W,2,"0");case"s":return String(k.$s);case"ss":return j.s(k.$s,2,"0");case"SSS":return j.s(k.$ms,3,"0");case"Z":return V}return null}(ee)||V.replace(":","")})},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(_,k,T){var B,V=this,q=j.p(k),W=U(_),J=(W.utcOffset()-this.utcOffset())*s,z=this-W,X=function(){return j.m(V,W)};switch(q){case b:B=X()/12;break;case h:B=X();break;case g:B=X()/3;break;case d:B=(z-J)/6048e5;break;case p:B=(z-J)/864e5;break;case u:B=z/a;break;case o:B=z/s;break;case l:B=z/1e3;break;default:B=z}return T?B:j.a(B)},S.daysInMonth=function(){return this.endOf(h).$D},S.$locale=function(){return C[this.$L]},S.locale=function(_,k){if(!_)return this.$L;var T=this.clone(),B=$(_,k,!0);return B&&(T.$L=B),T},S.clone=function(){return j.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},x}(),N=P.prototype;return U.prototype=N,[["$ms",c],["$s",l],["$m",o],["$H",u],["$W",p],["$M",h],["$y",b],["$D",m]].forEach(function(x){N[x[1]]=function(S){return this.$g(S,x[0],x[1])}}),U.extend=function(x,S){return x.$i||(x(S,P,U),x.$i=!0),U},U.locale=$,U.isDayjs=F,U.unix=function(x){return U(1e3*x)},U.en=C[L],U.Ls=C,U.p={},U})},{}],392:[function(e,n,i){(function(s,a){typeof i=="object"&&n!==void 0?n.exports=a():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_customParseFormat=a()})(void 0,function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,c=/\d\d/,l=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,u={},p=function(v){return(v=+v)+(v>68?1900:2e3)},d=function(v){return function(w){this[v]=+w}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=function(w){if(!w||w==="Z")return 0;var E=w.match(/([+-]|\d\d)/g),A=60*E[1]+(+E[2]||0);return A===0?0:E[0]==="+"?-A:A}(v)}],g=function(v){var w=u[v];return w&&(w.indexOf?w:w.s.concat(w.f))},b=function(v,w){var E,A=u.meridiem;if(A){for(var D=1;D<=24;D+=1)if(v.indexOf(A(D,0,w))>-1){E=D>12;break}}else E=v===(w?"pm":"PM");return E},m={A:[o,function(v){this.afternoon=b(v,!1)}],a:[o,function(v){this.afternoon=b(v,!0)}],S:[/\d/,function(v){this.milliseconds=100*+v}],SS:[c,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[l,d("seconds")],ss:[l,d("seconds")],m:[l,d("minutes")],mm:[l,d("minutes")],H:[l,d("hours")],h:[l,d("hours")],HH:[l,d("hours")],hh:[l,d("hours")],D:[l,d("day")],DD:[c,d("day")],Do:[o,function(v){var w=u.ordinal,E=v.match(/\d+/);if(this.day=E[0],w)for(var A=1;A<=31;A+=1)w(A).replace(/\[|\]/g,"")===v&&(this.day=A)}],M:[l,d("month")],MM:[c,d("month")],MMM:[o,function(v){var w=g("months"),E=(g("monthsShort")||w.map(function(A){return A.slice(0,3)})).indexOf(v)+1;if(E<1)throw new Error;this.month=E%12||E}],MMMM:[o,function(v){var w=g("months").indexOf(v)+1;if(w<1)throw new Error;this.month=w%12||w}],Y:[/[+-]?\d+/,d("year")],YY:[c,function(v){this.year=p(v)}],YYYY:[/\d{4}/,d("year")],Z:h,ZZ:h};function y(v){var w,E;w=v,E=u&&u.formats;for(var A=(v=w.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(U,j,P){var N=P&&P.toUpperCase();return j||E[P]||s[P]||E[N].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,S,_){return S||_.slice(1)})})).match(a),D=A.length,L=0;L<D;L+=1){var C=A[L],M=m[C],F=M&&M[0],$=M&&M[1];A[L]=$?{regex:F,parser:$}:C.replace(/^\[|\]$/g,"")}return function(U){for(var j={},P=0,N=0;P<D;P+=1){var x=A[P];if(typeof x=="string")N+=x.length;else{var S=x.regex,_=x.parser,k=U.slice(N),T=S.exec(k)[0];_.call(j,T),U=U.replace(T,"")}}return function(B){var V=B.afternoon;if(V!==void 0){var q=B.hours;V?q<12&&(B.hours+=12):q===12&&(B.hours=0),delete B.afternoon}}(j),j}}return function(v,w,E){E.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(p=v.parseTwoDigitYear);var A=w.prototype,D=A.parse;A.parse=function(L){var C=L.date,M=L.utc,F=L.args;this.$u=M;var $=F[1];if(typeof $=="string"){var U=F[2]===!0,j=F[3]===!0,P=U||j,N=F[2];j&&(N=F[2]),u=this.$locale(),!U&&N&&(u=E.Ls[N]),this.$d=function(k,T,B){try{if(["x","X"].indexOf(T)>-1)return new Date((T==="X"?1e3:1)*k);var V=y(T)(k),q=V.year,W=V.month,J=V.day,z=V.hours,X=V.minutes,O=V.seconds,R=V.milliseconds,H=V.zone,G=new Date,ee=J||(q||W?1:G.getDate()),Z=q||G.getFullYear(),te=0;q&&!W||(te=W>0?W-1:G.getMonth());var oe=z||0,le=X||0,Y=O||0,ie=R||0;return H?new Date(Date.UTC(Z,te,ee,oe,le,Y,ie+60*H.offset*1e3)):B?new Date(Date.UTC(Z,te,ee,oe,le,Y,ie)):new Date(Z,te,ee,oe,le,Y,ie)}catch{return new Date("")}}(C,$,M),this.init(),N&&N!==!0&&(this.$L=this.locale(N).$L),P&&C!=this.format($)&&(this.$d=new Date("")),u={}}else if($ instanceof Array)for(var x=$.length,S=1;S<=x;S+=1){F[1]=$[S-1];var _=E.apply(this,F);if(_.isValid()){this.$d=_.$d,this.$L=_.$L,this.init();break}S===x&&(this.$d=new Date(""))}else D.call(this,L)}}})},{}],393:[function(e,n,i){(function(s,a){typeof i=="object"&&n!==void 0?n.exports=a():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_utc=a()})(void 0,function(){var s="minute",a=/[+-]\d\d(?::?\d\d)?/g,c=/([+-]|\d\d)/g;return function(l,o,u){var p=o.prototype;u.utc=function(v){var w={date:v,utc:!0,args:arguments};return new o(w)},p.utc=function(v){var w=u(this.toDate(),{locale:this.$L,utc:!0});return v?w.add(this.utcOffset(),s):w},p.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var d=p.parse;p.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),d.call(this,v)};var h=p.init;p.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else h.call(this)};var g=p.utcOffset;p.utcOffset=function(v,w){var E=this.$utils().u;if(E(v))return this.$u?0:E(this.$offset)?g.call(this):this.$offset;if(typeof v=="string"&&(v=function(C){C===void 0&&(C="");var M=C.match(a);if(!M)return null;var F=(""+M[0]).match(c)||["-",0,0],$=F[0],U=60*+F[1]+ +F[2];return U===0?0:$==="+"?U:-U}(v))===null)return this;var A=Math.abs(v)<=16?60*v:v,D=this;if(w)return D.$offset=A,D.$u=v===0,D;if(v!==0){var L=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(D=this.local().add(A+L,s)).$offset=A,D.$x.$localOffset=L}else D=this.utc();return D};var b=p.format;p.format=function(v){var w=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return b.call(this,w)},p.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},p.isUTC=function(){return!!this.$u},p.toISOString=function(){return this.toDate().toISOString()},p.toString=function(){return this.toDate().toUTCString()};var m=p.toDate;p.toDate=function(v){return v==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var y=p.diff;p.diff=function(v,w,E){if(v&&this.$u===v.$u)return y.call(this,v,w,E);var A=this.local(),D=u(v).local();return y.call(A,D,w,E)}}})},{}],394:[function(e,n,i){i.utils=e("./des/utils"),i.Cipher=e("./des/cipher"),i.DES=e("./des/des"),i.CBC=e("./des/cbc"),i.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,n,i){var s=e("minimalistic-assert"),a=e("inherits"),c={};function l(o){s.equal(o.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=o[u]}i.instantiate=function(o){function u(g){o.call(this,g),this._cbcInit()}a(u,o);for(var p=Object.keys(c),d=0;d<p.length;d++){var h=p[d];u.prototype[h]=c[h]}return u.create=function(g){return new u(g)},u},c._cbcInit=function(){var o=new l(this.options.iv);this._cbcState=o},c._update=function(o,u,p,d){var h=this._cbcState,g=this.constructor.super_.prototype,b=h.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)b[m]^=o[u+m];for(g._update.call(this,b,0,p,d),m=0;m<this.blockSize;m++)b[m]=p[d+m]}else{for(g._update.call(this,o,u,p,d),m=0;m<this.blockSize;m++)p[d+m]^=b[m];for(m=0;m<this.blockSize;m++)b[m]=o[u+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,n,i){var s=e("minimalistic-assert");function a(c){this.options=c,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=c.padding!==!1}n.exports=a,a.prototype._init=function(){},a.prototype.update=function(c){return c.length===0?[]:this.type==="decrypt"?this._updateDecrypt(c):this._updateEncrypt(c)},a.prototype._buffer=function(c,l){for(var o=Math.min(this.buffer.length-this.bufferOff,c.length-l),u=0;u<o;u++)this.buffer[this.bufferOff+u]=c[l+u];return this.bufferOff+=o,o},a.prototype._flushBuffer=function(c,l){return this._update(this.buffer,0,c,l),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(c){var l=0,o=0,u=(this.bufferOff+c.length)/this.blockSize|0,p=new Array(u*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(c,l),this.bufferOff===this.buffer.length&&(o+=this._flushBuffer(p,o)));for(var d=c.length-(c.length-l)%this.blockSize;l<d;l+=this.blockSize)this._update(c,l,p,o),o+=this.blockSize;for(;l<c.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=c[l];return p},a.prototype._updateDecrypt=function(c){for(var l=0,o=0,u=Math.ceil((this.bufferOff+c.length)/this.blockSize)-1,p=new Array(u*this.blockSize);u>0;u--)l+=this._buffer(c,l),o+=this._flushBuffer(p,o);return l+=this._buffer(c,l),p},a.prototype.final=function(c){var l,o;return c&&(l=this.update(c)),o=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(o):o},a.prototype._pad=function(c,l){if(l===0)return!1;for(;l<c.length;)c[l++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var c=new Array(this.blockSize);return this._update(this.buffer,0,c,0),c},a.prototype._unpad=function(c){return c},a.prototype._finalDecrypt=function(){s.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var c=new Array(this.blockSize);return this._flushBuffer(c,0),this._unpad(c)}},{"minimalistic-assert":453}],397:[function(e,n,i){var s=e("minimalistic-assert"),a=e("inherits"),c=e("./utils"),l=e("./cipher");function o(){this.tmp=new Array(2),this.keys=null}function u(d){l.call(this,d);var h=new o;this._desState=h,this.deriveKeys(h,d.key)}a(u,l),n.exports=u,u.create=function(d){return new u(d)};var p=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(d,h){d.keys=new Array(32),s.equal(h.length,this.blockSize,"Invalid key length");var g=c.readUInt32BE(h,0),b=c.readUInt32BE(h,4);c.pc1(g,b,d.tmp,0),g=d.tmp[0],b=d.tmp[1];for(var m=0;m<d.keys.length;m+=2){var y=p[m>>>1];g=c.r28shl(g,y),b=c.r28shl(b,y),c.pc2(g,b,d.keys,m)}},u.prototype._update=function(d,h,g,b){var m=this._desState,y=c.readUInt32BE(d,h),v=c.readUInt32BE(d,h+4);c.ip(y,v,m.tmp,0),y=m.tmp[0],v=m.tmp[1],this.type==="encrypt"?this._encrypt(m,y,v,m.tmp,0):this._decrypt(m,y,v,m.tmp,0),y=m.tmp[0],v=m.tmp[1],c.writeUInt32BE(g,y,b),c.writeUInt32BE(g,v,b+4)},u.prototype._pad=function(d,h){if(this.padding===!1)return!1;for(var g=d.length-h,b=h;b<d.length;b++)d[b]=g;return!0},u.prototype._unpad=function(d){if(this.padding===!1)return d;for(var h=d[d.length-1],g=d.length-h;g<d.length;g++)s.equal(d[g],h);return d.slice(0,d.length-h)},u.prototype._encrypt=function(d,h,g,b,m){for(var y=h,v=g,w=0;w<d.keys.length;w+=2){var E=d.keys[w],A=d.keys[w+1];c.expand(v,d.tmp,0),E^=d.tmp[0],A^=d.tmp[1];var D=c.substitute(E,A),L=v;v=(y^c.permute(D))>>>0,y=L}c.rip(v,y,b,m)},u.prototype._decrypt=function(d,h,g,b,m){for(var y=g,v=h,w=d.keys.length-2;w>=0;w-=2){var E=d.keys[w],A=d.keys[w+1];c.expand(y,d.tmp,0),E^=d.tmp[0],A^=d.tmp[1];var D=c.substitute(E,A),L=y;y=(v^c.permute(D))>>>0,v=L}c.rip(y,v,b,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,n,i){var s=e("minimalistic-assert"),a=e("inherits"),c=e("./cipher"),l=e("./des");function o(p,d){s.equal(d.length,24,"Invalid key length");var h=d.slice(0,8),g=d.slice(8,16),b=d.slice(16,24);this.ciphers=p==="encrypt"?[l.create({type:"encrypt",key:h}),l.create({type:"decrypt",key:g}),l.create({type:"encrypt",key:b})]:[l.create({type:"decrypt",key:b}),l.create({type:"encrypt",key:g}),l.create({type:"decrypt",key:h})]}function u(p){c.call(this,p);var d=new o(this.type,this.options.key);this._edeState=d}a(u,c),n.exports=u,u.create=function(p){return new u(p)},u.prototype._update=function(p,d,h,g){var b=this._edeState;b.ciphers[0]._update(p,d,h,g),b.ciphers[1]._update(h,g,h,g),b.ciphers[2]._update(h,g,h,g)},u.prototype._pad=l.prototype._pad,u.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,n,i){i.readUInt32BE=function(l,o){return(l[0+o]<<24|l[1+o]<<16|l[2+o]<<8|l[3+o])>>>0},i.writeUInt32BE=function(l,o,u){l[0+u]=o>>>24,l[1+u]=o>>>16&255,l[2+u]=o>>>8&255,l[3+u]=255&o},i.ip=function(l,o,u,p){for(var d=0,h=0,g=6;g>=0;g-=2){for(var b=0;b<=24;b+=8)d<<=1,d|=o>>>b+g&1;for(b=0;b<=24;b+=8)d<<=1,d|=l>>>b+g&1}for(g=6;g>=0;g-=2){for(b=1;b<=25;b+=8)h<<=1,h|=o>>>b+g&1;for(b=1;b<=25;b+=8)h<<=1,h|=l>>>b+g&1}u[p+0]=d>>>0,u[p+1]=h>>>0},i.rip=function(l,o,u,p){for(var d=0,h=0,g=0;g<4;g++)for(var b=24;b>=0;b-=8)d<<=1,d|=o>>>b+g&1,d<<=1,d|=l>>>b+g&1;for(g=4;g<8;g++)for(b=24;b>=0;b-=8)h<<=1,h|=o>>>b+g&1,h<<=1,h|=l>>>b+g&1;u[p+0]=d>>>0,u[p+1]=h>>>0},i.pc1=function(l,o,u,p){for(var d=0,h=0,g=7;g>=5;g--){for(var b=0;b<=24;b+=8)d<<=1,d|=o>>b+g&1;for(b=0;b<=24;b+=8)d<<=1,d|=l>>b+g&1}for(b=0;b<=24;b+=8)d<<=1,d|=o>>b+g&1;for(g=1;g<=3;g++){for(b=0;b<=24;b+=8)h<<=1,h|=o>>b+g&1;for(b=0;b<=24;b+=8)h<<=1,h|=l>>b+g&1}for(b=0;b<=24;b+=8)h<<=1,h|=l>>b+g&1;u[p+0]=d>>>0,u[p+1]=h>>>0},i.r28shl=function(l,o){return l<<o&268435455|l>>>28-o};var s=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(l,o,u,p){for(var d=0,h=0,g=s.length>>>1,b=0;b<g;b++)d<<=1,d|=l>>>s[b]&1;for(b=g;b<s.length;b++)h<<=1,h|=o>>>s[b]&1;u[p+0]=d>>>0,u[p+1]=h>>>0},i.expand=function(l,o,u){var p=0,d=0;p=(1&l)<<5|l>>>27;for(var h=23;h>=15;h-=4)p<<=6,p|=l>>>h&63;for(h=11;h>=3;h-=4)d|=l>>>h&63,d<<=6;d|=(31&l)<<1|l>>>31,o[u+0]=p>>>0,o[u+1]=d>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(l,o){for(var u=0,p=0;p<4;p++)u<<=4,u|=a[64*p+(l>>>18-6*p&63)];for(p=0;p<4;p++)u<<=4,u|=a[256+64*p+(o>>>18-6*p&63)];return u>>>0};var c=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(l){for(var o=0,u=0;u<c.length;u++)o<<=1,o|=l>>>c[u]&1;return o>>>0},i.padSplit=function(l,o,u){for(var p=l.toString(2);p.length<o;)p="0"+p;for(var d=[],h=0;h<o;h+=u)d.push(p.slice(h,h+u));return d.join(" ")}},{}],400:[function(e,n,i){(function(s){(function(){var a=e("./lib/generatePrime"),c=e("./lib/primes.json"),l=e("./lib/dh"),o={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(u){var p=new s(c[u].prime,"hex"),d=new s(c[u].gen,"hex");return new l(p,d)},i.createDiffieHellman=i.DiffieHellman=function u(p,d,h,g){return s.isBuffer(d)||o[d]===void 0?u(p,"binary",d,h):(d=d||"binary",g=g||"binary",h=h||new s([2]),s.isBuffer(h)||(h=new s(h,g)),typeof p=="number"?new l(a(p,h),h,!0):(s.isBuffer(p)||(p=new s(p,d)),new l(p,h,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,n,i){(function(s){(function(){var a=e("bn.js"),c=new(e("miller-rabin")),l=new a(24),o=new a(11),u=new a(10),p=new a(3),d=new a(7),h=e("./generatePrime"),g=e("randombytes");function b(E,A){return A=A||"utf8",s.isBuffer(E)||(E=new s(E,A)),this._pub=new a(E),this}function m(E,A){return A=A||"utf8",s.isBuffer(E)||(E=new s(E,A)),this._priv=new a(E),this}n.exports=v;var y={};function v(E,A,D){this.setGenerator(A),this.__prime=new a(E),this._prime=a.mont(this.__prime),this._primeLen=E.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,D?(this.setPublicKey=b,this.setPrivateKey=m):this._primeCode=8}function w(E,A){var D=new s(E.toArray());return A?D.toString(A):D}Object.defineProperty(v.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(E,A){var D=A.toString("hex"),L=[D,E.toString(16)].join("_");if(L in y)return y[L];var C,M=0;if(E.isEven()||!h.simpleSieve||!h.fermatTest(E)||!c.test(E))return M+=1,M+=D==="02"||D==="05"?8:4,y[L]=M,M;switch(c.test(E.shrn(1))||(M+=2),D){case"02":E.mod(l).cmp(o)&&(M+=8);break;case"05":(C=E.mod(u)).cmp(p)&&C.cmp(d)&&(M+=8);break;default:M+=4}return y[L]=M,M}(this.__prime,this.__gen)),this._primeCode}}),v.prototype.generateKeys=function(){return this._priv||(this._priv=new a(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},v.prototype.computeSecret=function(E){var A=(E=(E=new a(E)).toRed(this._prime)).redPow(this._priv).fromRed(),D=new s(A.toArray()),L=this.getPrime();if(D.length<L.length){var C=new s(L.length-D.length);C.fill(0),D=s.concat([C,D])}return D},v.prototype.getPublicKey=function(E){return w(this._pub,E)},v.prototype.getPrivateKey=function(E){return w(this._priv,E)},v.prototype.getPrime=function(E){return w(this.__prime,E)},v.prototype.getGenerator=function(E){return w(this._gen,E)},v.prototype.setGenerator=function(E,A){return A=A||"utf8",s.isBuffer(E)||(E=new s(E,A)),this.__gen=E,this._gen=new a(E),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,n,i){var s=e("randombytes");n.exports=E,E.simpleSieve=v,E.fermatTest=w;var a=e("bn.js"),c=new a(24),l=new(e("miller-rabin")),o=new a(1),u=new a(2),p=new a(5),d=(new a(16),new a(8),new a(10)),h=new a(3),g=(new a(7),new a(11)),b=new a(4),m=(new a(12),null);function y(){if(m!==null)return m;var A=[];A[0]=2;for(var D=1,L=3;L<1048576;L+=2){for(var C=Math.ceil(Math.sqrt(L)),M=0;M<D&&A[M]<=C&&L%A[M]!=0;M++);D!==M&&A[M]<=C||(A[D++]=L)}return m=A,A}function v(A){for(var D=y(),L=0;L<D.length;L++)if(A.modn(D[L])===0)return A.cmpn(D[L])===0;return!0}function w(A){var D=a.mont(A);return u.toRed(D).redPow(A.subn(1)).fromRed().cmpn(1)===0}function E(A,D){if(A<16)return new a(D===2||D===5?[140,123]:[140,39]);var L,C;for(D=new a(D);;){for(L=new a(s(Math.ceil(A/8)));L.bitLength()>A;)L.ishrn(1);if(L.isEven()&&L.iadd(o),L.testn(1)||L.iadd(u),D.cmp(u)){if(!D.cmp(p))for(;L.mod(d).cmp(h);)L.iadd(b)}else for(;L.mod(c).cmp(g);)L.iadd(b);if(v(C=L.shrn(1))&&v(L)&&w(C)&&w(L)&&l.test(C)&&l.test(L))return L}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,n,i){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],405:[function(e,n,i){var s=i;s.version=e("../package.json").version,s.utils=e("./elliptic/utils"),s.rand=e("brorand"),s.curve=e("./elliptic/curve"),s.curves=e("./elliptic/curves"),s.ec=e("./elliptic/ec"),s.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,n,i){var s=e("bn.js"),a=e("../utils"),c=a.getNAF,l=a.getJSF,o=a.assert;function u(d,h){this.type=d,this.p=new s(h.p,16),this.red=h.prime?s.red(h.prime):s.mont(this.p),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.n=h.n&&new s(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function p(d,h){this.curve=d,this.type=h,this.precomputed=null}n.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(d,h){o(d.precomputed);var g=d._getDoubles(),b=c(h,1,this._bitLength),m=(1<<g.step+1)-(g.step%2==0?2:1);m/=3;var y,v,w=[];for(y=0;y<b.length;y+=g.step){v=0;for(var E=y+g.step-1;E>=y;E--)v=(v<<1)+b[E];w.push(v)}for(var A=this.jpoint(null,null,null),D=this.jpoint(null,null,null),L=m;L>0;L--){for(y=0;y<w.length;y++)(v=w[y])===L?D=D.mixedAdd(g.points[y]):v===-L&&(D=D.mixedAdd(g.points[y].neg()));A=A.add(D)}return A.toP()},u.prototype._wnafMul=function(d,h){var g=4,b=d._getNAFPoints(g);g=b.wnd;for(var m=b.points,y=c(h,g,this._bitLength),v=this.jpoint(null,null,null),w=y.length-1;w>=0;w--){for(var E=0;w>=0&&y[w]===0;w--)E++;if(w>=0&&E++,v=v.dblp(E),w<0)break;var A=y[w];o(A!==0),v=d.type==="affine"?A>0?v.mixedAdd(m[A-1>>1]):v.mixedAdd(m[-A-1>>1].neg()):A>0?v.add(m[A-1>>1]):v.add(m[-A-1>>1].neg())}return d.type==="affine"?v.toP():v},u.prototype._wnafMulAdd=function(d,h,g,b,m){var y,v,w,E=this._wnafT1,A=this._wnafT2,D=this._wnafT3,L=0;for(y=0;y<b;y++){var C=(w=h[y])._getNAFPoints(d);E[y]=C.wnd,A[y]=C.points}for(y=b-1;y>=1;y-=2){var M=y-1,F=y;if(E[M]===1&&E[F]===1){var $=[h[M],null,null,h[F]];h[M].y.cmp(h[F].y)===0?($[1]=h[M].add(h[F]),$[2]=h[M].toJ().mixedAdd(h[F].neg())):h[M].y.cmp(h[F].y.redNeg())===0?($[1]=h[M].toJ().mixedAdd(h[F]),$[2]=h[M].add(h[F].neg())):($[1]=h[M].toJ().mixedAdd(h[F]),$[2]=h[M].toJ().mixedAdd(h[F].neg()));var U=[-3,-1,-5,-7,0,7,5,1,3],j=l(g[M],g[F]);for(L=Math.max(j[0].length,L),D[M]=new Array(L),D[F]=new Array(L),v=0;v<L;v++){var P=0|j[0][v],N=0|j[1][v];D[M][v]=U[3*(P+1)+(N+1)],D[F][v]=0,A[M]=$}}else D[M]=c(g[M],E[M],this._bitLength),D[F]=c(g[F],E[F],this._bitLength),L=Math.max(D[M].length,L),L=Math.max(D[F].length,L)}var x=this.jpoint(null,null,null),S=this._wnafT4;for(y=L;y>=0;y--){for(var _=0;y>=0;){var k=!0;for(v=0;v<b;v++)S[v]=0|D[v][y],S[v]!==0&&(k=!1);if(!k)break;_++,y--}if(y>=0&&_++,x=x.dblp(_),y<0)break;for(v=0;v<b;v++){var T=S[v];T!==0&&(T>0?w=A[v][T-1>>1]:T<0&&(w=A[v][-T-1>>1].neg()),x=w.type==="affine"?x.mixedAdd(w):x.add(w))}}for(y=0;y<b;y++)A[y]=null;return m?x:x.toP()},u.BasePoint=p,p.prototype.eq=function(){throw new Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(d,h){d=a.toArray(d,h);var g=this.p.byteLength();if((d[0]===4||d[0]===6||d[0]===7)&&d.length-1==2*g)return d[0]===6?o(d[d.length-1]%2==0):d[0]===7&&o(d[d.length-1]%2==1),this.point(d.slice(1,1+g),d.slice(1+g,1+2*g));if((d[0]===2||d[0]===3)&&d.length-1===g)return this.pointFromX(d.slice(1,1+g),d[0]===3);throw new Error("Unknown point format")},p.prototype.encodeCompressed=function(d){return this.encode(d,!0)},p.prototype._encode=function(d){var h=this.curve.p.byteLength(),g=this.getX().toArray("be",h);return d?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",h))},p.prototype.encode=function(d,h){return a.encode(this._encode(h),d)},p.prototype.precompute=function(d){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,d),h.beta=this._getBeta(),this.precomputed=h,this},p.prototype._hasDoubles=function(d){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return!!h&&h.points.length>=Math.ceil((d.bitLength()+1)/h.step)},p.prototype._getDoubles=function(d,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],b=this,m=0;m<h;m+=d){for(var y=0;y<d;y++)b=b.dbl();g.push(b)}return{step:d,points:g}},p.prototype._getNAFPoints=function(d){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],g=(1<<d)-1,b=g===1?null:this.dbl(),m=1;m<g;m++)h[m]=h[m-1].add(b);return{wnd:d,points:h}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(d){for(var h=this,g=0;g<d;g++)h=h.dbl();return h}},{"../utils":419,"bn.js":420}],407:[function(e,n,i){var s=e("../utils"),a=e("bn.js"),c=e("inherits"),l=e("./base"),o=s.assert;function u(d){this.twisted=(0|d.a)!=1,this.mOneA=this.twisted&&(0|d.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",d),this.a=new a(d.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(d.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(d.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|d.c)==1}function p(d,h,g,b,m){l.BasePoint.call(this,d,"projective"),h===null&&g===null&&b===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(h,16),this.y=new a(g,16),this.z=b?new a(b,16):this.curve.one,this.t=m&&new a(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}c(u,l),n.exports=u,u.prototype._mulA=function(d){return this.mOneA?d.redNeg():this.a.redMul(d)},u.prototype._mulC=function(d){return this.oneC?d:this.c.redMul(d)},u.prototype.jpoint=function(d,h,g,b){return this.point(d,h,g,b)},u.prototype.pointFromX=function(d,h){(d=new a(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr(),b=this.c2.redSub(this.a.redMul(g)),m=this.one.redSub(this.c2.redMul(this.d).redMul(g)),y=b.redMul(m.redInvm()),v=y.redSqrt();if(v.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var w=v.fromRed().isOdd();return(h&&!w||!h&&w)&&(v=v.redNeg()),this.point(d,v)},u.prototype.pointFromY=function(d,h){(d=new a(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr(),b=g.redSub(this.c2),m=g.redMul(this.d).redMul(this.c2).redSub(this.a),y=b.redMul(m.redInvm());if(y.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,d)}var v=y.redSqrt();if(v.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");return v.fromRed().isOdd()!==h&&(v=v.redNeg()),this.point(v,d)},u.prototype.validate=function(d){if(d.isInfinity())return!0;d.normalize();var h=d.x.redSqr(),g=d.y.redSqr(),b=h.redMul(this.a).redAdd(g),m=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(g)));return b.cmp(m)===0},c(p,l.BasePoint),u.prototype.pointFromJSON=function(d){return p.fromJSON(this,d)},u.prototype.point=function(d,h,g,b){return new p(this,d,h,g,b)},p.fromJSON=function(d,h){return new p(d,h[0],h[1],h[2])},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},p.prototype._extDbl=function(){var d=this.x.redSqr(),h=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var b=this.curve._mulA(d),m=this.x.redAdd(this.y).redSqr().redISub(d).redISub(h),y=b.redAdd(h),v=y.redSub(g),w=b.redSub(h),E=m.redMul(v),A=y.redMul(w),D=m.redMul(w),L=v.redMul(y);return this.curve.point(E,A,L,D)},p.prototype._projDbl=function(){var d,h,g,b,m,y,v=this.x.redAdd(this.y).redSqr(),w=this.x.redSqr(),E=this.y.redSqr();if(this.curve.twisted){var A=(b=this.curve._mulA(w)).redAdd(E);this.zOne?(d=v.redSub(w).redSub(E).redMul(A.redSub(this.curve.two)),h=A.redMul(b.redSub(E)),g=A.redSqr().redSub(A).redSub(A)):(m=this.z.redSqr(),y=A.redSub(m).redISub(m),d=v.redSub(w).redISub(E).redMul(y),h=A.redMul(b.redSub(E)),g=A.redMul(y))}else b=w.redAdd(E),m=this.curve._mulC(this.z).redSqr(),y=b.redSub(m).redSub(m),d=this.curve._mulC(v.redISub(b)).redMul(y),h=this.curve._mulC(b).redMul(w.redISub(E)),g=b.redMul(y);return this.curve.point(d,h,g)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},p.prototype._extAdd=function(d){var h=this.y.redSub(this.x).redMul(d.y.redSub(d.x)),g=this.y.redAdd(this.x).redMul(d.y.redAdd(d.x)),b=this.t.redMul(this.curve.dd).redMul(d.t),m=this.z.redMul(d.z.redAdd(d.z)),y=g.redSub(h),v=m.redSub(b),w=m.redAdd(b),E=g.redAdd(h),A=y.redMul(v),D=w.redMul(E),L=y.redMul(E),C=v.redMul(w);return this.curve.point(A,D,C,L)},p.prototype._projAdd=function(d){var h,g,b=this.z.redMul(d.z),m=b.redSqr(),y=this.x.redMul(d.x),v=this.y.redMul(d.y),w=this.curve.d.redMul(y).redMul(v),E=m.redSub(w),A=m.redAdd(w),D=this.x.redAdd(this.y).redMul(d.x.redAdd(d.y)).redISub(y).redISub(v),L=b.redMul(E).redMul(D);return this.curve.twisted?(h=b.redMul(A).redMul(v.redSub(this.curve._mulA(y))),g=E.redMul(A)):(h=b.redMul(A).redMul(v.redSub(y)),g=this.curve._mulC(E).redMul(A)),this.curve.point(L,h,g)},p.prototype.add=function(d){return this.isInfinity()?d:d.isInfinity()?this:this.curve.extended?this._extAdd(d):this._projAdd(d)},p.prototype.mul=function(d){return this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve._wnafMul(this,d)},p.prototype.mulAdd=function(d,h,g){return this.curve._wnafMulAdd(1,[this,h],[d,g],2,!1)},p.prototype.jmulAdd=function(d,h,g){return this.curve._wnafMulAdd(1,[this,h],[d,g],2,!0)},p.prototype.normalize=function(){if(this.zOne)return this;var d=this.z.redInvm();return this.x=this.x.redMul(d),this.y=this.y.redMul(d),this.t&&(this.t=this.t.redMul(d)),this.z=this.curve.one,this.zOne=!0,this},p.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},p.prototype.getX=function(){return this.normalize(),this.x.fromRed()},p.prototype.getY=function(){return this.normalize(),this.y.fromRed()},p.prototype.eq=function(d){return this===d||this.getX().cmp(d.getX())===0&&this.getY().cmp(d.getY())===0},p.prototype.eqXToP=function(d){var h=d.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var g=d.clone(),b=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(b),this.x.cmp(h)===0)return!0}},p.prototype.toP=p.prototype.normalize,p.prototype.mixedAdd=p.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,n,i){var s=i;s.base=e("./base"),s.short=e("./short"),s.mont=e("./mont"),s.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,n,i){var s=e("bn.js"),a=e("inherits"),c=e("./base"),l=e("../utils");function o(p){c.call(this,"mont",p),this.a=new s(p.a,16).toRed(this.red),this.b=new s(p.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(p,d,h){c.BasePoint.call(this,p,"projective"),d===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(d,16),this.z=new s(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(o,c),n.exports=o,o.prototype.validate=function(p){var d=p.normalize().x,h=d.redSqr(),g=h.redMul(d).redAdd(h.redMul(this.a)).redAdd(d);return g.redSqrt().redSqr().cmp(g)===0},a(u,c.BasePoint),o.prototype.decodePoint=function(p,d){return this.point(l.toArray(p,d),1)},o.prototype.point=function(p,d){return new u(this,p,d)},o.prototype.pointFromJSON=function(p){return u.fromJSON(this,p)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(p,d){return new u(p,d[0],d[1]||p.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var p=this.x.redAdd(this.z).redSqr(),d=this.x.redSub(this.z).redSqr(),h=p.redSub(d),g=p.redMul(d),b=h.redMul(d.redAdd(this.curve.a24.redMul(h)));return this.curve.point(g,b)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(p,d){var h=this.x.redAdd(this.z),g=this.x.redSub(this.z),b=p.x.redAdd(p.z),m=p.x.redSub(p.z).redMul(h),y=b.redMul(g),v=d.z.redMul(m.redAdd(y).redSqr()),w=d.x.redMul(m.redISub(y).redSqr());return this.curve.point(v,w)},u.prototype.mul=function(p){for(var d=p.clone(),h=this,g=this.curve.point(null,null),b=[];d.cmpn(0)!==0;d.iushrn(1))b.push(d.andln(1));for(var m=b.length-1;m>=0;m--)b[m]===0?(h=h.diffAdd(g,this),g=g.dbl()):(g=h.diffAdd(g,this),h=h.dbl());return g},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(p){return this.getX().cmp(p.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,n,i){var s=e("../utils"),a=e("bn.js"),c=e("inherits"),l=e("./base"),o=s.assert;function u(h){l.call(this,"short",h),this.a=new a(h.a,16).toRed(this.red),this.b=new a(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function p(h,g,b,m){l.BasePoint.call(this,h,"affine"),g===null&&b===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(g,16),this.y=new a(b,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(h,g,b,m){l.BasePoint.call(this,h,"jacobian"),g===null&&b===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(g,16),this.y=new a(b,16),this.z=new a(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}c(u,l),n.exports=u,u.prototype._getEndomorphism=function(h){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,b;if(h.beta)g=new a(h.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);g=(g=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(h.lambda)b=new a(h.lambda,16);else{var y=this._getEndoRoots(this.n);this.g.mul(y[0]).x.cmp(this.g.x.redMul(g))===0?b=y[0]:(b=y[1],o(this.g.mul(b).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:b,basis:h.basis?h.basis.map(function(v){return{a:new a(v.a,16),b:new a(v.b,16)}}):this._getEndoBasis(b)}}},u.prototype._getEndoRoots=function(h){var g=h===this.p?this.red:a.mont(h),b=new a(2).toRed(g).redInvm(),m=b.redNeg(),y=new a(3).toRed(g).redNeg().redSqrt().redMul(b);return[m.redAdd(y).fromRed(),m.redSub(y).fromRed()]},u.prototype._getEndoBasis=function(h){for(var g,b,m,y,v,w,E,A,D,L=this.n.ushrn(Math.floor(this.n.bitLength()/2)),C=h,M=this.n.clone(),F=new a(1),$=new a(0),U=new a(0),j=new a(1),P=0;C.cmpn(0)!==0;){var N=M.div(C);A=M.sub(N.mul(C)),D=U.sub(N.mul(F));var x=j.sub(N.mul($));if(!m&&A.cmp(L)<0)g=E.neg(),b=F,m=A.neg(),y=D;else if(m&&++P==2)break;E=A,M=C,C=A,U=F,F=D,j=$,$=x}v=A.neg(),w=D;var S=m.sqr().add(y.sqr());return v.sqr().add(w.sqr()).cmp(S)>=0&&(v=g,w=b),m.negative&&(m=m.neg(),y=y.neg()),v.negative&&(v=v.neg(),w=w.neg()),[{a:m,b:y},{a:v,b:w}]},u.prototype._endoSplit=function(h){var g=this.endo.basis,b=g[0],m=g[1],y=m.b.mul(h).divRound(this.n),v=b.b.neg().mul(h).divRound(this.n),w=y.mul(b.a),E=v.mul(m.a),A=y.mul(b.b),D=v.mul(m.b);return{k1:h.sub(w).sub(E),k2:A.add(D).neg()}},u.prototype.pointFromX=function(h,g){(h=new a(h,16)).red||(h=h.toRed(this.red));var b=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),m=b.redSqrt();if(m.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var y=m.fromRed().isOdd();return(g&&!y||!g&&y)&&(m=m.redNeg()),this.point(h,m)},u.prototype.validate=function(h){if(h.inf)return!0;var g=h.x,b=h.y,m=this.a.redMul(g),y=g.redSqr().redMul(g).redIAdd(m).redIAdd(this.b);return b.redSqr().redISub(y).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(h,g,b){for(var m=this._endoWnafT1,y=this._endoWnafT2,v=0;v<h.length;v++){var w=this._endoSplit(g[v]),E=h[v],A=E._getBeta();w.k1.negative&&(w.k1.ineg(),E=E.neg(!0)),w.k2.negative&&(w.k2.ineg(),A=A.neg(!0)),m[2*v]=E,m[2*v+1]=A,y[2*v]=w.k1,y[2*v+1]=w.k2}for(var D=this._wnafMulAdd(1,m,y,2*v,b),L=0;L<2*v;L++)m[L]=null,y[L]=null;return D},c(p,l.BasePoint),u.prototype.point=function(h,g,b){return new p(this,h,g,b)},u.prototype.pointFromJSON=function(h,g){return p.fromJSON(this,h,g)},p.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var b=this.curve,m=function(y){return b.point(y.x.redMul(b.endo.beta),y.y)};h.beta=g,g.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(m)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(m)}}}return g}},p.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},p.fromJSON=function(h,g,b){typeof g=="string"&&(g=JSON.parse(g));var m=h.point(g[0],g[1],b);if(!g[2])return m;function y(w){return h.point(w[0],w[1],b)}var v=g[2];return m.precomputed={beta:null,doubles:v.doubles&&{step:v.doubles.step,points:[m].concat(v.doubles.points.map(y))},naf:v.naf&&{wnd:v.naf.wnd,points:[m].concat(v.naf.points.map(y))}},m},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.inf},p.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var g=this.y.redSub(h.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(h.x).redInvm()));var b=g.redSqr().redISub(this.x).redISub(h.x),m=g.redMul(this.x.redSub(b)).redISub(this.y);return this.curve.point(b,m)},p.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,b=this.x.redSqr(),m=h.redInvm(),y=b.redAdd(b).redIAdd(b).redIAdd(g).redMul(m),v=y.redSqr().redISub(this.x.redAdd(this.x)),w=y.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,w)},p.prototype.getX=function(){return this.x.fromRed()},p.prototype.getY=function(){return this.y.fromRed()},p.prototype.mul=function(h){return h=new a(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},p.prototype.mulAdd=function(h,g,b){var m=[this,g],y=[h,b];return this.curve.endo?this.curve._endoWnafMulAdd(m,y):this.curve._wnafMulAdd(1,m,y,2)},p.prototype.jmulAdd=function(h,g,b){var m=[this,g],y=[h,b];return this.curve.endo?this.curve._endoWnafMulAdd(m,y,!0):this.curve._wnafMulAdd(1,m,y,2,!0)},p.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},p.prototype.neg=function(h){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var b=this.precomputed,m=function(y){return y.neg()};g.precomputed={naf:b.naf&&{wnd:b.naf.wnd,points:b.naf.points.map(m)},doubles:b.doubles&&{step:b.doubles.step,points:b.doubles.points.map(m)}}}return g},p.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},c(d,l.BasePoint),u.prototype.jpoint=function(h,g,b){return new d(this,h,g,b)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),g=h.redSqr(),b=this.x.redMul(g),m=this.y.redMul(g).redMul(h);return this.curve.point(b,m)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var g=h.z.redSqr(),b=this.z.redSqr(),m=this.x.redMul(g),y=h.x.redMul(b),v=this.y.redMul(g.redMul(h.z)),w=h.y.redMul(b.redMul(this.z)),E=m.redSub(y),A=v.redSub(w);if(E.cmpn(0)===0)return A.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var D=E.redSqr(),L=D.redMul(E),C=m.redMul(D),M=A.redSqr().redIAdd(L).redISub(C).redISub(C),F=A.redMul(C.redISub(M)).redISub(v.redMul(L)),$=this.z.redMul(h.z).redMul(E);return this.curve.jpoint(M,F,$)},d.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var g=this.z.redSqr(),b=this.x,m=h.x.redMul(g),y=this.y,v=h.y.redMul(g).redMul(this.z),w=b.redSub(m),E=y.redSub(v);if(w.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=w.redSqr(),D=A.redMul(w),L=b.redMul(A),C=E.redSqr().redIAdd(D).redISub(L).redISub(L),M=E.redMul(L.redISub(C)).redISub(y.redMul(D)),F=this.z.redMul(w);return this.curve.jpoint(C,M,F)},d.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var b=this;for(g=0;g<h;g++)b=b.dbl();return b}var m=this.curve.a,y=this.curve.tinv,v=this.x,w=this.y,E=this.z,A=E.redSqr().redSqr(),D=w.redAdd(w);for(g=0;g<h;g++){var L=v.redSqr(),C=D.redSqr(),M=C.redSqr(),F=L.redAdd(L).redIAdd(L).redIAdd(m.redMul(A)),$=v.redMul(C),U=F.redSqr().redISub($.redAdd($)),j=$.redISub(U),P=F.redMul(j);P=P.redIAdd(P).redISub(M);var N=D.redMul(E);g+1<h&&(A=A.redMul(M)),v=U,E=N,D=P}return this.curve.jpoint(v,D.redMul(y),E)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var h,g,b;if(this.zOne){var m=this.x.redSqr(),y=this.y.redSqr(),v=y.redSqr(),w=this.x.redAdd(y).redSqr().redISub(m).redISub(v);w=w.redIAdd(w);var E=m.redAdd(m).redIAdd(m),A=E.redSqr().redISub(w).redISub(w),D=v.redIAdd(v);D=(D=D.redIAdd(D)).redIAdd(D),h=A,g=E.redMul(w.redISub(A)).redISub(D),b=this.y.redAdd(this.y)}else{var L=this.x.redSqr(),C=this.y.redSqr(),M=C.redSqr(),F=this.x.redAdd(C).redSqr().redISub(L).redISub(M);F=F.redIAdd(F);var $=L.redAdd(L).redIAdd(L),U=$.redSqr(),j=M.redIAdd(M);j=(j=j.redIAdd(j)).redIAdd(j),h=U.redISub(F).redISub(F),g=$.redMul(F.redISub(h)).redISub(j),b=(b=this.y.redMul(this.z)).redIAdd(b)}return this.curve.jpoint(h,g,b)},d.prototype._threeDbl=function(){var h,g,b;if(this.zOne){var m=this.x.redSqr(),y=this.y.redSqr(),v=y.redSqr(),w=this.x.redAdd(y).redSqr().redISub(m).redISub(v);w=w.redIAdd(w);var E=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),A=E.redSqr().redISub(w).redISub(w);h=A;var D=v.redIAdd(v);D=(D=D.redIAdd(D)).redIAdd(D),g=E.redMul(w.redISub(A)).redISub(D),b=this.y.redAdd(this.y)}else{var L=this.z.redSqr(),C=this.y.redSqr(),M=this.x.redMul(C),F=this.x.redSub(L).redMul(this.x.redAdd(L));F=F.redAdd(F).redIAdd(F);var $=M.redIAdd(M),U=($=$.redIAdd($)).redAdd($);h=F.redSqr().redISub(U),b=this.y.redAdd(this.z).redSqr().redISub(C).redISub(L);var j=C.redSqr();j=(j=(j=j.redIAdd(j)).redIAdd(j)).redIAdd(j),g=F.redMul($.redISub(h)).redISub(j)}return this.curve.jpoint(h,g,b)},d.prototype._dbl=function(){var h=this.curve.a,g=this.x,b=this.y,m=this.z,y=m.redSqr().redSqr(),v=g.redSqr(),w=b.redSqr(),E=v.redAdd(v).redIAdd(v).redIAdd(h.redMul(y)),A=g.redAdd(g),D=(A=A.redIAdd(A)).redMul(w),L=E.redSqr().redISub(D.redAdd(D)),C=D.redISub(L),M=w.redSqr();M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M);var F=E.redMul(C).redISub(M),$=b.redAdd(b).redMul(m);return this.curve.jpoint(L,F,$)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),g=this.y.redSqr(),b=this.z.redSqr(),m=g.redSqr(),y=h.redAdd(h).redIAdd(h),v=y.redSqr(),w=this.x.redAdd(g).redSqr().redISub(h).redISub(m),E=(w=(w=(w=w.redIAdd(w)).redAdd(w).redIAdd(w)).redISub(v)).redSqr(),A=m.redIAdd(m);A=(A=(A=A.redIAdd(A)).redIAdd(A)).redIAdd(A);var D=y.redIAdd(w).redSqr().redISub(v).redISub(E).redISub(A),L=g.redMul(D);L=(L=L.redIAdd(L)).redIAdd(L);var C=this.x.redMul(E).redISub(L);C=(C=C.redIAdd(C)).redIAdd(C);var M=this.y.redMul(D.redMul(A.redISub(D)).redISub(w.redMul(E)));M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M);var F=this.z.redAdd(w).redSqr().redISub(b).redISub(E);return this.curve.jpoint(C,M,F)},d.prototype.mul=function(h,g){return h=new a(h,g),this.curve._wnafMul(this,h)},d.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var g=this.z.redSqr(),b=h.z.redSqr();if(this.x.redMul(b).redISub(h.x.redMul(g)).cmpn(0)!==0)return!1;var m=g.redMul(this.z),y=b.redMul(h.z);return this.y.redMul(y).redISub(h.y.redMul(m)).cmpn(0)===0},d.prototype.eqXToP=function(h){var g=this.z.redSqr(),b=h.toRed(this.curve.red).redMul(g);if(this.x.cmp(b)===0)return!0;for(var m=h.clone(),y=this.curve.redN.redMul(g);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(b.redIAdd(y),this.x.cmp(b)===0)return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,n,i){var s,a=i,c=e("hash.js"),l=e("./curve"),o=e("./utils").assert;function u(d){d.type==="short"?this.curve=new l.short(d):d.type==="edwards"?this.curve=new l.edwards(d):this.curve=new l.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function p(d,h){Object.defineProperty(a,d,{configurable:!0,enumerable:!0,get:function(){var g=new u(h);return Object.defineProperty(a,d,{configurable:!0,enumerable:!0,value:g}),g}})}a.PresetCurve=u,p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:c.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:c.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:c.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:c.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:c.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{s=e("./precomputed/secp256k1")}catch{s=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:c.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,n,i){var s=e("bn.js"),a=e("hmac-drbg"),c=e("../utils"),l=e("../curves"),o=e("brorand"),u=c.assert,p=e("./key"),d=e("./signature");function h(g){if(!(this instanceof h))return new h(g);typeof g=="string"&&(u(Object.prototype.hasOwnProperty.call(l,g),"Unknown curve "+g),g=l[g]),g instanceof l.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}n.exports=h,h.prototype.keyPair=function(g){return new p(this,g)},h.prototype.keyFromPrivate=function(g,b){return p.fromPrivate(this,g,b)},h.prototype.keyFromPublic=function(g,b){return p.fromPublic(this,g,b)},h.prototype.genKeyPair=function(g){g||(g={});for(var b=new a({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||o(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),y=this.n.sub(new s(2));;){var v=new s(b.generate(m));if(!(v.cmp(y)>0))return v.iaddn(1),this.keyFromPrivate(v)}},h.prototype._truncateToN=function(g,b){var m=8*g.byteLength()-this.n.bitLength();return m>0&&(g=g.ushrn(m)),!b&&g.cmp(this.n)>=0?g.sub(this.n):g},h.prototype.sign=function(g,b,m,y){typeof m=="object"&&(y=m,m=null),y||(y={}),b=this.keyFromPrivate(b,m),g=this._truncateToN(new s(g,16));for(var v=this.n.byteLength(),w=b.getPrivate().toArray("be",v),E=g.toArray("be",v),A=new a({hash:this.hash,entropy:w,nonce:E,pers:y.pers,persEnc:y.persEnc||"utf8"}),D=this.n.sub(new s(1)),L=0;;L++){var C=y.k?y.k(L):new s(A.generate(this.n.byteLength()));if(!((C=this._truncateToN(C,!0)).cmpn(1)<=0||C.cmp(D)>=0)){var M=this.g.mul(C);if(!M.isInfinity()){var F=M.getX(),$=F.umod(this.n);if($.cmpn(0)!==0){var U=C.invm(this.n).mul($.mul(b.getPrivate()).iadd(g));if((U=U.umod(this.n)).cmpn(0)!==0){var j=(M.getY().isOdd()?1:0)|(F.cmp($)!==0?2:0);return y.canonical&&U.cmp(this.nh)>0&&(U=this.n.sub(U),j^=1),new d({r:$,s:U,recoveryParam:j})}}}}}},h.prototype.verify=function(g,b,m,y){g=this._truncateToN(new s(g,16)),m=this.keyFromPublic(m,y);var v=(b=new d(b,"hex")).r,w=b.s;if(v.cmpn(1)<0||v.cmp(this.n)>=0||w.cmpn(1)<0||w.cmp(this.n)>=0)return!1;var E,A=w.invm(this.n),D=A.mul(g).umod(this.n),L=A.mul(v).umod(this.n);return this.curve._maxwellTrick?!(E=this.g.jmulAdd(D,m.getPublic(),L)).isInfinity()&&E.eqXToP(v):!(E=this.g.mulAdd(D,m.getPublic(),L)).isInfinity()&&E.getX().umod(this.n).cmp(v)===0},h.prototype.recoverPubKey=function(g,b,m,y){u((3&m)===m,"The recovery param is more than two bits"),b=new d(b,y);var v=this.n,w=new s(g),E=b.r,A=b.s,D=1&m,L=m>>1;if(E.cmp(this.curve.p.umod(this.curve.n))>=0&&L)throw new Error("Unable to find sencond key candinate");E=L?this.curve.pointFromX(E.add(this.curve.n),D):this.curve.pointFromX(E,D);var C=b.r.invm(v),M=v.sub(w).mul(C).umod(v),F=A.mul(C).umod(v);return this.g.mulAdd(M,E,F)},h.prototype.getKeyRecoveryParam=function(g,b,m,y){if((b=new d(b,y)).recoveryParam!==null)return b.recoveryParam;for(var v=0;v<4;v++){var w;try{w=this.recoverPubKey(g,b,v)}catch{continue}if(w.eq(m))return v}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,n,i){var s=e("bn.js"),a=e("../utils").assert;function c(l,o){this.ec=l,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}n.exports=c,c.fromPublic=function(l,o,u){return o instanceof c?o:new c(l,{pub:o,pubEnc:u})},c.fromPrivate=function(l,o,u){return o instanceof c?o:new c(l,{priv:o,privEnc:u})},c.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},c.prototype.getPublic=function(l,o){return typeof l=="string"&&(o=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,l):this.pub},c.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},c.prototype._importPrivate=function(l,o){this.priv=new s(l,o||16),this.priv=this.priv.umod(this.ec.curve.n)},c.prototype._importPublic=function(l,o){if(l.x||l.y)return this.ec.curve.type==="mont"?a(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||a(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,o)},c.prototype.derive=function(l){return l.validate()||a(l.validate(),"public point not validated"),l.mul(this.priv).getX()},c.prototype.sign=function(l,o,u){return this.ec.sign(l,this,o,u)},c.prototype.verify=function(l,o){return this.ec.verify(l,o,this)},c.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,n,i){var s=e("bn.js"),a=e("../utils"),c=a.assert;function l(h,g){if(h instanceof l)return h;this._importDER(h,g)||(c(h.r&&h.s,"Signature without r or s"),this.r=new s(h.r,16),this.s=new s(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}function o(){this.place=0}function u(h,g){var b=h[g.place++];if(!(128&b))return b;var m=15&b;if(m===0||m>4)return!1;for(var y=0,v=0,w=g.place;v<m;v++,w++)y<<=8,y|=h[w],y>>>=0;return!(y<=127)&&(g.place=w,y)}function p(h){for(var g=0,b=h.length-1;!h[g]&&!(128&h[g+1])&&g<b;)g++;return g===0?h:h.slice(g)}function d(h,g){if(g<128)h.push(g);else{var b=1+(Math.log(g)/Math.LN2>>>3);for(h.push(128|b);--b;)h.push(g>>>(b<<3)&255);h.push(g)}}n.exports=l,l.prototype._importDER=function(h,g){h=a.toArray(h,g);var b=new o;if(h[b.place++]!==48)return!1;var m=u(h,b);if(m===!1||m+b.place!==h.length||h[b.place++]!==2)return!1;var y=u(h,b);if(y===!1)return!1;var v=h.slice(b.place,y+b.place);if(b.place+=y,h[b.place++]!==2)return!1;var w=u(h,b);if(w===!1||h.length!==w+b.place)return!1;var E=h.slice(b.place,w+b.place);if(v[0]===0){if(!(128&v[1]))return!1;v=v.slice(1)}if(E[0]===0){if(!(128&E[1]))return!1;E=E.slice(1)}return this.r=new s(v),this.s=new s(E),this.recoveryParam=null,!0},l.prototype.toDER=function(h){var g=this.r.toArray(),b=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&b[0]&&(b=[0].concat(b)),g=p(g),b=p(b);!(b[0]||128&b[1]);)b=b.slice(1);var m=[2];d(m,g.length),(m=m.concat(g)).push(2),d(m,b.length);var y=m.concat(b),v=[48];return d(v,y.length),v=v.concat(y),a.encode(v,h)}},{"../utils":419,"bn.js":420}],415:[function(e,n,i){var s=e("hash.js"),a=e("../curves"),c=e("../utils"),l=c.assert,o=c.parseBytes,u=e("./key"),p=e("./signature");function d(h){if(l(h==="ed25519","only tested with ed25519 so far"),!(this instanceof d))return new d(h);h=a[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=s.sha512}n.exports=d,d.prototype.sign=function(h,g){h=o(h);var b=this.keyFromSecret(g),m=this.hashInt(b.messagePrefix(),h),y=this.g.mul(m),v=this.encodePoint(y),w=this.hashInt(v,b.pubBytes(),h).mul(b.priv()),E=m.add(w).umod(this.curve.n);return this.makeSignature({R:y,S:E,Rencoded:v})},d.prototype.verify=function(h,g,b){h=o(h),g=this.makeSignature(g);var m=this.keyFromPublic(b),y=this.hashInt(g.Rencoded(),m.pubBytes(),h),v=this.g.mul(g.S());return g.R().add(m.pub().mul(y)).eq(v)},d.prototype.hashInt=function(){for(var h=this.hash(),g=0;g<arguments.length;g++)h.update(arguments[g]);return c.intFromLE(h.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(h){return u.fromPublic(this,h)},d.prototype.keyFromSecret=function(h){return u.fromSecret(this,h)},d.prototype.makeSignature=function(h){return h instanceof p?h:new p(this,h)},d.prototype.encodePoint=function(h){var g=h.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=h.getX().isOdd()?128:0,g},d.prototype.decodePoint=function(h){var g=(h=c.parseBytes(h)).length-1,b=h.slice(0,g).concat(-129&h[g]),m=(128&h[g])!=0,y=c.intFromLE(b);return this.curve.pointFromY(y,m)},d.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(h){return c.intFromLE(h)},d.prototype.isPoint=function(h){return h instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,n,i){var s=e("../utils"),a=s.assert,c=s.parseBytes,l=s.cachedProperty;function o(u,p){this.eddsa=u,this._secret=c(p.secret),u.isPoint(p.pub)?this._pub=p.pub:this._pubBytes=c(p.pub)}o.fromPublic=function(u,p){return p instanceof o?p:new o(u,{pub:p})},o.fromSecret=function(u,p){return p instanceof o?p:new o(u,{secret:p})},o.prototype.secret=function(){return this._secret},l(o,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(o,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(o,"privBytes",function(){var u=this.eddsa,p=this.hash(),d=u.encodingLength-1,h=p.slice(0,u.encodingLength);return h[0]&=248,h[d]&=127,h[d]|=64,h}),l(o,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(o,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(o,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),o.prototype.sign=function(u){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},o.prototype.verify=function(u,p){return this.eddsa.verify(u,p,this)},o.prototype.getSecret=function(u){return a(this._secret,"KeyPair is public only"),s.encode(this.secret(),u)},o.prototype.getPublic=function(u){return s.encode(this.pubBytes(),u)},n.exports=o},{"../utils":419}],417:[function(e,n,i){var s=e("bn.js"),a=e("../utils"),c=a.assert,l=a.cachedProperty,o=a.parseBytes;function u(p,d){this.eddsa=p,typeof d!="object"&&(d=o(d)),Array.isArray(d)&&(d={R:d.slice(0,p.encodingLength),S:d.slice(p.encodingLength)}),c(d.R&&d.S,"Signature without R or S"),p.isPoint(d.R)&&(this._R=d.R),d.S instanceof s&&(this._S=d.S),this._Rencoded=Array.isArray(d.R)?d.R:d.Rencoded,this._Sencoded=Array.isArray(d.S)?d.S:d.Sencoded}l(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},n.exports=u},{"../utils":419,"bn.js":420}],418:[function(e,n,i){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,n,i){var s=i,a=e("bn.js"),c=e("minimalistic-assert"),l=e("minimalistic-crypto-utils");s.assert=c,s.toArray=l.toArray,s.zero2=l.zero2,s.toHex=l.toHex,s.encode=l.encode,s.getNAF=function(o,u,p){var d=new Array(Math.max(o.bitLength(),p)+1);d.fill(0);for(var h=1<<u+1,g=o.clone(),b=0;b<d.length;b++){var m,y=g.andln(h-1);g.isOdd()?(m=y>(h>>1)-1?(h>>1)-y:y,g.isubn(m)):m=0,d[b]=m,g.iushrn(1)}return d},s.getJSF=function(o,u){var p=[[],[]];o=o.clone(),u=u.clone();for(var d,h=0,g=0;o.cmpn(-h)>0||u.cmpn(-g)>0;){var b,m,y=o.andln(3)+h&3,v=u.andln(3)+g&3;y===3&&(y=-1),v===3&&(v=-1),b=1&y?(d=o.andln(7)+h&7)!==3&&d!==5||v!==2?y:-y:0,p[0].push(b),m=1&v?(d=u.andln(7)+g&7)!==3&&d!==5||y!==2?v:-v:0,p[1].push(m),2*h===b+1&&(h=1-h),2*g===m+1&&(g=1-g),o.iushrn(1),u.iushrn(1)}return p},s.cachedProperty=function(o,u,p){var d="_"+u;o.prototype[u]=function(){return this[d]!==void 0?this[d]:this[d]=p.call(this)}},s.parseBytes=function(o){return typeof o=="string"?s.toArray(o,"hex"):o},s.intFromLE=function(o){return new a(o,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],421:[function(e,n,i){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,n,i){var s=Object.create||function(C){var M=function(){};return M.prototype=C,new M},a=Object.keys||function(C){var M=[];for(var F in C)Object.prototype.hasOwnProperty.call(C,F)&&M.push(F);return F},c=Function.prototype.bind||function(C){var M=this;return function(){return M.apply(C,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=s(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var o,u=10;try{var p={};Object.defineProperty&&Object.defineProperty(p,"x",{value:0}),o=p.x===0}catch{o=!1}function d(C){return C._maxListeners===void 0?l.defaultMaxListeners:C._maxListeners}function h(C,M,F){if(M)C.call(F);else for(var $=C.length,U=L(C,$),j=0;j<$;++j)U[j].call(F)}function g(C,M,F,$){if(M)C.call(F,$);else for(var U=C.length,j=L(C,U),P=0;P<U;++P)j[P].call(F,$)}function b(C,M,F,$,U){if(M)C.call(F,$,U);else for(var j=C.length,P=L(C,j),N=0;N<j;++N)P[N].call(F,$,U)}function m(C,M,F,$,U,j){if(M)C.call(F,$,U,j);else for(var P=C.length,N=L(C,P),x=0;x<P;++x)N[x].call(F,$,U,j)}function y(C,M,F,$){if(M)C.apply(F,$);else for(var U=C.length,j=L(C,U),P=0;P<U;++P)j[P].apply(F,$)}function v(C,M,F,$){var U,j,P;if(typeof F!="function")throw new TypeError('"listener" argument must be a function');if((j=C._events)?(j.newListener&&(C.emit("newListener",M,F.listener?F.listener:F),j=C._events),P=j[M]):(j=C._events=s(null),C._eventsCount=0),P){if(typeof P=="function"?P=j[M]=$?[F,P]:[P,F]:$?P.unshift(F):P.push(F),!P.warned&&(U=d(C))&&U>0&&P.length>U){P.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+P.length+' "'+String(M)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');N.name="MaxListenersExceededWarning",N.emitter=C,N.type=M,N.count=P.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",N.name,N.message)}}else P=j[M]=F,++C._eventsCount;return C}function w(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var C=new Array(arguments.length),M=0;M<C.length;++M)C[M]=arguments[M];this.listener.apply(this.target,C)}}function E(C,M,F){var $={fired:!1,wrapFn:void 0,target:C,type:M,listener:F},U=c.call(w,$);return U.listener=F,$.wrapFn=U,U}function A(C,M,F){var $=C._events;if(!$)return[];var U=$[M];return U?typeof U=="function"?F?[U.listener||U]:[U]:F?function(j){for(var P=new Array(j.length),N=0;N<P.length;++N)P[N]=j[N].listener||j[N];return P}(U):L(U,U.length):[]}function D(C){var M=this._events;if(M){var F=M[C];if(typeof F=="function")return 1;if(F)return F.length}return 0}function L(C,M){for(var F=new Array(M),$=0;$<M;++$)F[$]=C[$];return F}o?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(C){if(typeof C!="number"||C<0||C!=C)throw new TypeError('"defaultMaxListeners" must be a positive number');u=C}}):l.defaultMaxListeners=u,l.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||isNaN(C))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=C,this},l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(C){var M,F,$,U,j,P,N=C==="error";if(P=this._events)N=N&&P.error==null;else if(!N)return!1;if(N){if(arguments.length>1&&(M=arguments[1]),M instanceof Error)throw M;var x=new Error('Unhandled "error" event. ('+M+")");throw x.context=M,x}if(!(F=P[C]))return!1;var S=typeof F=="function";switch($=arguments.length){case 1:h(F,S,this);break;case 2:g(F,S,this,arguments[1]);break;case 3:b(F,S,this,arguments[1],arguments[2]);break;case 4:m(F,S,this,arguments[1],arguments[2],arguments[3]);break;default:for(U=new Array($-1),j=1;j<$;j++)U[j-1]=arguments[j];y(F,S,this,U)}return!0},l.prototype.addListener=function(C,M){return v(this,C,M,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(C,M){return v(this,C,M,!0)},l.prototype.once=function(C,M){if(typeof M!="function")throw new TypeError('"listener" argument must be a function');return this.on(C,E(this,C,M)),this},l.prototype.prependOnceListener=function(C,M){if(typeof M!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(C,E(this,C,M)),this},l.prototype.removeListener=function(C,M){var F,$,U,j,P;if(typeof M!="function")throw new TypeError('"listener" argument must be a function');if(!($=this._events))return this;if(!(F=$[C]))return this;if(F===M||F.listener===M)--this._eventsCount==0?this._events=s(null):(delete $[C],$.removeListener&&this.emit("removeListener",C,F.listener||M));else if(typeof F!="function"){for(U=-1,j=F.length-1;j>=0;j--)if(F[j]===M||F[j].listener===M){P=F[j].listener,U=j;break}if(U<0)return this;U===0?F.shift():function(N,x){for(var S=x,_=S+1,k=N.length;_<k;S+=1,_+=1)N[S]=N[_];N.pop()}(F,U),F.length===1&&($[C]=F[0]),$.removeListener&&this.emit("removeListener",C,P||M)}return this},l.prototype.removeAllListeners=function(C){var M,F,$;if(!(F=this._events))return this;if(!F.removeListener)return arguments.length===0?(this._events=s(null),this._eventsCount=0):F[C]&&(--this._eventsCount==0?this._events=s(null):delete F[C]),this;if(arguments.length===0){var U,j=a(F);for($=0;$<j.length;++$)(U=j[$])!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=s(null),this._eventsCount=0,this}if(typeof(M=F[C])=="function")this.removeListener(C,M);else if(M)for($=M.length-1;$>=0;$--)this.removeListener(C,M[$]);return this},l.prototype.listeners=function(C){return A(this,C,!0)},l.prototype.rawListeners=function(C){return A(this,C,!1)},l.listenerCount=function(C,M){return typeof C.listenerCount=="function"?C.listenerCount(M):D.call(C,M)},l.prototype.listenerCount=D,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("md5.js");n.exports=function(c,l,o,u){if(s.isBuffer(c)||(c=s.from(c,"binary")),l&&(s.isBuffer(l)||(l=s.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var p=o/8,d=s.alloc(p),h=s.alloc(u||0),g=s.alloc(0);p>0||u>0;){var b=new a;b.update(g),b.update(c),l&&b.update(l),g=b.digest();var m=0;if(p>0){var y=d.length-p;m=Math.min(p,g.length),g.copy(d,y,0,m),p-=m}if(m<g.length&&u>0){var v=h.length-u,w=Math.min(u,g.length-m);g.copy(h,v,m,m+w),u-=w}}return g.fill(0),{key:d,iv:h}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=i.ParserOptions=i.parseFile=i.parseStream=i.parseString=i.parse=i.FormatterOptions=i.CsvFormatterStream=i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var s=e("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return s.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return s.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return s.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return s.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return s.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return s.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return s.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return s.FormatterOptions}});var a=e("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return a.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return a.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return a.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return a.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return a.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return a.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("readable-stream").Transform;function c(l){a.call(this),this._block=s.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(c,a),c.prototype._transform=function(l,o,u){var p=null;try{this.update(l,o)}catch(d){p=d}u(p)},c.prototype._flush=function(l){var o=null;try{this.push(this.digest())}catch(u){o=u}l(o)},c.prototype.update=function(l,o){if(function(b,m){if(!s.isBuffer(b)&&typeof b!="string")throw new TypeError(m+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");s.isBuffer(l)||(l=s.from(l,o));for(var u=this._block,p=0;this._blockOffset+l.length-p>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)u[d++]=l[p++];this._update(),this._blockOffset=0}for(;p<l.length;)u[this._blockOffset++]=l[p++];for(var h=0,g=8*l.length;g>0;++h)this._length[h]+=g,(g=this._length[h]/4294967296|0)>0&&(this._length[h]-=4294967296*g);return this},c.prototype._update=function(){throw new Error("_update is not implemented")},c.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var o=this._digest();l!==void 0&&(o=o.toString(l)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return o},c.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=c},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,n,i){var s=i;s.utils=e("./hash/utils"),s.common=e("./hash/common"),s.sha=e("./hash/sha"),s.ripemd=e("./hash/ripemd"),s.hmac=e("./hash/hmac"),s.sha1=s.sha.sha1,s.sha256=s.sha.sha256,s.sha224=s.sha.sha224,s.sha384=s.sha.sha384,s.sha512=s.sha.sha512,s.ripemd160=s.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,n,i){var s=e("./utils"),a=e("minimalistic-assert");function c(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=c,c.prototype.update=function(l,o){if(l=s.toArray(l,o),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var u=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-u,l.length),this.pending.length===0&&(this.pending=null),l=s.join32(l,0,l.length-u,this.endian);for(var p=0;p<l.length;p+=this._delta32)this._update(l,p,p+this._delta32)}return this},c.prototype.digest=function(l){return this.update(this._pad()),a(this.pending===null),this._digest(l)},c.prototype._pad=function(){var l=this.pendingTotal,o=this._delta8,u=o-(l+this.padLength)%o,p=new Array(u+this.padLength);p[0]=128;for(var d=1;d<u;d++)p[d]=0;if(l<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)p[d++]=0;p[d++]=0,p[d++]=0,p[d++]=0,p[d++]=0,p[d++]=l>>>24&255,p[d++]=l>>>16&255,p[d++]=l>>>8&255,p[d++]=255&l}else for(p[d++]=255&l,p[d++]=l>>>8&255,p[d++]=l>>>16&255,p[d++]=l>>>24&255,p[d++]=0,p[d++]=0,p[d++]=0,p[d++]=0,h=8;h<this.padLength;h++)p[d++]=0;return p}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,n,i){var s=e("./utils"),a=e("minimalistic-assert");function c(l,o,u){if(!(this instanceof c))return new c(l,o,u);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(s.toArray(o,u))}n.exports=c,c.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),a(l.length<=this.blockSize);for(var o=l.length;o<this.blockSize;o++)l.push(0);for(o=0;o<l.length;o++)l[o]^=54;for(this.inner=new this.Hash().update(l),o=0;o<l.length;o++)l[o]^=106;this.outer=new this.Hash().update(l)},c.prototype.update=function(l,o){return this.inner.update(l,o),this},c.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,n,i){var s=e("./utils"),a=e("./common"),c=s.rotl32,l=s.sum32,o=s.sum32_3,u=s.sum32_4,p=a.BlockHash;function d(){if(!(this instanceof d))return new d;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(E,A,D,L){return E<=15?A^D^L:E<=31?A&D|~A&L:E<=47?(A|~D)^L:E<=63?A&L|D&~L:A^(D|~L)}function g(E){return E<=15?0:E<=31?1518500249:E<=47?1859775393:E<=63?2400959708:2840853838}function b(E){return E<=15?1352829926:E<=31?1548603684:E<=47?1836072691:E<=63?2053994217:0}s.inherits(d,p),i.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(E,A){for(var D=this.h[0],L=this.h[1],C=this.h[2],M=this.h[3],F=this.h[4],$=D,U=L,j=C,P=M,N=F,x=0;x<80;x++){var S=l(c(u(D,h(x,L,C,M),E[m[x]+A],g(x)),v[x]),F);D=F,F=M,M=c(C,10),C=L,L=S,S=l(c(u($,h(79-x,U,j,P),E[y[x]+A],b(x)),w[x]),N),$=N,N=P,P=c(j,10),j=U,U=S}S=o(this.h[1],C,P),this.h[1]=o(this.h[2],M,N),this.h[2]=o(this.h[3],F,$),this.h[3]=o(this.h[4],D,U),this.h[4]=o(this.h[0],L,j),this.h[0]=S},d.prototype._digest=function(E){return E==="hex"?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,n,i){i.sha1=e("./sha/1"),i.sha224=e("./sha/224"),i.sha256=e("./sha/256"),i.sha384=e("./sha/384"),i.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,n,i){var s=e("../utils"),a=e("../common"),c=e("./common"),l=s.rotl32,o=s.sum32,u=s.sum32_5,p=c.ft_1,d=a.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}s.inherits(g,d),n.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(b,m){for(var y=this.W,v=0;v<16;v++)y[v]=b[m+v];for(;v<y.length;v++)y[v]=l(y[v-3]^y[v-8]^y[v-14]^y[v-16],1);var w=this.h[0],E=this.h[1],A=this.h[2],D=this.h[3],L=this.h[4];for(v=0;v<y.length;v++){var C=~~(v/20),M=u(l(w,5),p(C,E,A,D),L,y[v],h[C]);L=D,D=A,A=l(E,30),E=w,w=M}this.h[0]=o(this.h[0],w),this.h[1]=o(this.h[1],E),this.h[2]=o(this.h[2],A),this.h[3]=o(this.h[3],D),this.h[4]=o(this.h[4],L)},g.prototype._digest=function(b){return b==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,n,i){var s=e("../utils"),a=e("./256");function c(){if(!(this instanceof c))return new c;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}s.inherits(c,a),n.exports=c,c.blockSize=512,c.outSize=224,c.hmacStrength=192,c.padLength=64,c.prototype._digest=function(l){return l==="hex"?s.toHex32(this.h.slice(0,7),"big"):s.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,n,i){var s=e("../utils"),a=e("../common"),c=e("./common"),l=e("minimalistic-assert"),o=s.sum32,u=s.sum32_4,p=s.sum32_5,d=c.ch32,h=c.maj32,g=c.s0_256,b=c.s1_256,m=c.g0_256,y=c.g1_256,v=a.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function E(){if(!(this instanceof E))return new E;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,this.W=new Array(64)}s.inherits(E,v),n.exports=E,E.blockSize=512,E.outSize=256,E.hmacStrength=192,E.padLength=64,E.prototype._update=function(A,D){for(var L=this.W,C=0;C<16;C++)L[C]=A[D+C];for(;C<L.length;C++)L[C]=u(y(L[C-2]),L[C-7],m(L[C-15]),L[C-16]);var M=this.h[0],F=this.h[1],$=this.h[2],U=this.h[3],j=this.h[4],P=this.h[5],N=this.h[6],x=this.h[7];for(l(this.k.length===L.length),C=0;C<L.length;C++){var S=p(x,b(j),d(j,P,N),this.k[C],L[C]),_=o(g(M),h(M,F,$));x=N,N=P,P=j,j=o(U,S),U=$,$=F,F=M,M=o(S,_)}this.h[0]=o(this.h[0],M),this.h[1]=o(this.h[1],F),this.h[2]=o(this.h[2],$),this.h[3]=o(this.h[3],U),this.h[4]=o(this.h[4],j),this.h[5]=o(this.h[5],P),this.h[6]=o(this.h[6],N),this.h[7]=o(this.h[7],x)},E.prototype._digest=function(A){return A==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,n,i){var s=e("../utils"),a=e("./512");function c(){if(!(this instanceof c))return new c;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}s.inherits(c,a),n.exports=c,c.blockSize=1024,c.outSize=384,c.hmacStrength=192,c.padLength=128,c.prototype._digest=function(l){return l==="hex"?s.toHex32(this.h.slice(0,12),"big"):s.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,n,i){var s=e("../utils"),a=e("../common"),c=e("minimalistic-assert"),l=s.rotr64_hi,o=s.rotr64_lo,u=s.shr64_hi,p=s.shr64_lo,d=s.sum64,h=s.sum64_hi,g=s.sum64_lo,b=s.sum64_4_hi,m=s.sum64_4_lo,y=s.sum64_5_hi,v=s.sum64_5_lo,w=a.BlockHash,E=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function A(){if(!(this instanceof A))return new A;w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=E,this.W=new Array(160)}function D(_,k,T,B,V){var q=_&T^~_&V;return q<0&&(q+=4294967296),q}function L(_,k,T,B,V,q){var W=k&B^~k&q;return W<0&&(W+=4294967296),W}function C(_,k,T,B,V){var q=_&T^_&V^T&V;return q<0&&(q+=4294967296),q}function M(_,k,T,B,V,q){var W=k&B^k&q^B&q;return W<0&&(W+=4294967296),W}function F(_,k){var T=l(_,k,28)^l(k,_,2)^l(k,_,7);return T<0&&(T+=4294967296),T}function $(_,k){var T=o(_,k,28)^o(k,_,2)^o(k,_,7);return T<0&&(T+=4294967296),T}function U(_,k){var T=l(_,k,14)^l(_,k,18)^l(k,_,9);return T<0&&(T+=4294967296),T}function j(_,k){var T=o(_,k,14)^o(_,k,18)^o(k,_,9);return T<0&&(T+=4294967296),T}function P(_,k){var T=l(_,k,1)^l(_,k,8)^u(_,k,7);return T<0&&(T+=4294967296),T}function N(_,k){var T=o(_,k,1)^o(_,k,8)^p(_,k,7);return T<0&&(T+=4294967296),T}function x(_,k){var T=l(_,k,19)^l(k,_,29)^u(_,k,6);return T<0&&(T+=4294967296),T}function S(_,k){var T=o(_,k,19)^o(k,_,29)^p(_,k,6);return T<0&&(T+=4294967296),T}s.inherits(A,w),n.exports=A,A.blockSize=1024,A.outSize=512,A.hmacStrength=192,A.padLength=128,A.prototype._prepareBlock=function(_,k){for(var T=this.W,B=0;B<32;B++)T[B]=_[k+B];for(;B<T.length;B+=2){var V=x(T[B-4],T[B-3]),q=S(T[B-4],T[B-3]),W=T[B-14],J=T[B-13],z=P(T[B-30],T[B-29]),X=N(T[B-30],T[B-29]),O=T[B-32],R=T[B-31];T[B]=b(V,q,W,J,z,X,O,R),T[B+1]=m(V,q,W,J,z,X,O,R)}},A.prototype._update=function(_,k){this._prepareBlock(_,k);var T=this.W,B=this.h[0],V=this.h[1],q=this.h[2],W=this.h[3],J=this.h[4],z=this.h[5],X=this.h[6],O=this.h[7],R=this.h[8],H=this.h[9],G=this.h[10],ee=this.h[11],Z=this.h[12],te=this.h[13],oe=this.h[14],le=this.h[15];c(this.k.length===T.length);for(var Y=0;Y<T.length;Y+=2){var ie=oe,se=le,de=U(R,H),ue=j(R,H),he=D(R,H,G,ee,Z),ge=L(R,H,G,ee,Z,te),be=this.k[Y],xe=this.k[Y+1],ke=T[Y],Ne=T[Y+1],Re=y(ie,se,de,ue,he,ge,be,xe,ke,Ne),$e=v(ie,se,de,ue,he,ge,be,xe,ke,Ne);ie=F(B,V),se=$(B,V),de=C(B,V,q,W,J),ue=M(B,V,q,W,J,z);var Ce=h(ie,se,de,ue),Le=g(ie,se,de,ue);oe=Z,le=te,Z=G,te=ee,G=R,ee=H,R=h(X,O,Re,$e),H=g(O,O,Re,$e),X=J,O=z,J=q,z=W,q=B,W=V,B=h(Re,$e,Ce,Le),V=g(Re,$e,Ce,Le)}d(this.h,0,B,V),d(this.h,2,q,W),d(this.h,4,J,z),d(this.h,6,X,O),d(this.h,8,R,H),d(this.h,10,G,ee),d(this.h,12,Z,te),d(this.h,14,oe,le)},A.prototype._digest=function(_){return _==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,n,i){var s=e("../utils").rotr32;function a(o,u,p){return o&u^~o&p}function c(o,u,p){return o&u^o&p^u&p}function l(o,u,p){return o^u^p}i.ft_1=function(o,u,p,d){return o===0?a(u,p,d):o===1||o===3?l(u,p,d):o===2?c(u,p,d):void 0},i.ch32=a,i.maj32=c,i.p32=l,i.s0_256=function(o){return s(o,2)^s(o,13)^s(o,22)},i.s1_256=function(o){return s(o,6)^s(o,11)^s(o,25)},i.g0_256=function(o){return s(o,7)^s(o,18)^o>>>3},i.g1_256=function(o){return s(o,17)^s(o,19)^o>>>10}},{"../utils":437}],437:[function(e,n,i){var s=e("minimalistic-assert"),a=e("inherits");function c(p,d){return(64512&p.charCodeAt(d))==55296&&!(d<0||d+1>=p.length)&&(64512&p.charCodeAt(d+1))==56320}function l(p){return(p>>>24|p>>>8&65280|p<<8&16711680|(255&p)<<24)>>>0}function o(p){return p.length===1?"0"+p:p}function u(p){return p.length===7?"0"+p:p.length===6?"00"+p:p.length===5?"000"+p:p.length===4?"0000"+p:p.length===3?"00000"+p:p.length===2?"000000"+p:p.length===1?"0000000"+p:p}i.inherits=a,i.toArray=function(p,d){if(Array.isArray(p))return p.slice();if(!p)return[];var h=[];if(typeof p=="string")if(d){if(d==="hex")for((p=p.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(p="0"+p),b=0;b<p.length;b+=2)h.push(parseInt(p[b]+p[b+1],16))}else for(var g=0,b=0;b<p.length;b++){var m=p.charCodeAt(b);m<128?h[g++]=m:m<2048?(h[g++]=m>>6|192,h[g++]=63&m|128):c(p,b)?(m=65536+((1023&m)<<10)+(1023&p.charCodeAt(++b)),h[g++]=m>>18|240,h[g++]=m>>12&63|128,h[g++]=m>>6&63|128,h[g++]=63&m|128):(h[g++]=m>>12|224,h[g++]=m>>6&63|128,h[g++]=63&m|128)}else for(b=0;b<p.length;b++)h[b]=0|p[b];return h},i.toHex=function(p){for(var d="",h=0;h<p.length;h++)d+=o(p[h].toString(16));return d},i.htonl=l,i.toHex32=function(p,d){for(var h="",g=0;g<p.length;g++){var b=p[g];d==="little"&&(b=l(b)),h+=u(b.toString(16))}return h},i.zero2=o,i.zero8=u,i.join32=function(p,d,h,g){var b=h-d;s(b%4==0);for(var m=new Array(b/4),y=0,v=d;y<m.length;y++,v+=4){var w;w=g==="big"?p[v]<<24|p[v+1]<<16|p[v+2]<<8|p[v+3]:p[v+3]<<24|p[v+2]<<16|p[v+1]<<8|p[v],m[y]=w>>>0}return m},i.split32=function(p,d){for(var h=new Array(4*p.length),g=0,b=0;g<p.length;g++,b+=4){var m=p[g];d==="big"?(h[b]=m>>>24,h[b+1]=m>>>16&255,h[b+2]=m>>>8&255,h[b+3]=255&m):(h[b+3]=m>>>24,h[b+2]=m>>>16&255,h[b+1]=m>>>8&255,h[b]=255&m)}return h},i.rotr32=function(p,d){return p>>>d|p<<32-d},i.rotl32=function(p,d){return p<<d|p>>>32-d},i.sum32=function(p,d){return p+d>>>0},i.sum32_3=function(p,d,h){return p+d+h>>>0},i.sum32_4=function(p,d,h,g){return p+d+h+g>>>0},i.sum32_5=function(p,d,h,g,b){return p+d+h+g+b>>>0},i.sum64=function(p,d,h,g){var b=p[d],m=g+p[d+1]>>>0,y=(m<g?1:0)+h+b;p[d]=y>>>0,p[d+1]=m},i.sum64_hi=function(p,d,h,g){return(d+g>>>0<d?1:0)+p+h>>>0},i.sum64_lo=function(p,d,h,g){return d+g>>>0},i.sum64_4_hi=function(p,d,h,g,b,m,y,v){var w=0,E=d;return w+=(E=E+g>>>0)<d?1:0,w+=(E=E+m>>>0)<m?1:0,p+h+b+y+(w+=(E=E+v>>>0)<v?1:0)>>>0},i.sum64_4_lo=function(p,d,h,g,b,m,y,v){return d+g+m+v>>>0},i.sum64_5_hi=function(p,d,h,g,b,m,y,v,w,E){var A=0,D=d;return A+=(D=D+g>>>0)<d?1:0,A+=(D=D+m>>>0)<m?1:0,A+=(D=D+v>>>0)<v?1:0,p+h+b+y+w+(A+=(D=D+E>>>0)<E?1:0)>>>0},i.sum64_5_lo=function(p,d,h,g,b,m,y,v,w,E){return d+g+m+v+E>>>0},i.rotr64_hi=function(p,d,h){return(d<<32-h|p>>>h)>>>0},i.rotr64_lo=function(p,d,h){return(p<<32-h|d>>>h)>>>0},i.shr64_hi=function(p,d,h){return p>>>h},i.shr64_lo=function(p,d,h){return(p<<32-h|d>>>h)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,n,i){var s=e("hash.js"),a=e("minimalistic-crypto-utils"),c=e("minimalistic-assert");function l(o){if(!(this instanceof l))return new l(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=a.toArray(o.entropy,o.entropyEnc||"hex"),p=a.toArray(o.nonce,o.nonceEnc||"hex"),d=a.toArray(o.pers,o.persEnc||"hex");c(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,p,d)}n.exports=l,l.prototype._init=function(o,u,p){var d=o.concat(u).concat(p);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new s.hmac(this.hash,this.K)},l.prototype._update=function(o){var u=this._hmac().update(this.V).update([0]);o&&(u=u.update(o)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(o,u,p,d){typeof u!="string"&&(d=p,p=u,u=null),o=a.toArray(o,u),p=a.toArray(p,d),c(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(p||[])),this._reseed=1},l.prototype.generate=function(o,u,p,d){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(d=p,p=u,u=null),p&&(p=a.toArray(p,d||"hex"),this._update(p));for(var h=[];h.length<o;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var g=h.slice(0,o);return this._update(p),this._reseed++,a.encode(g,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,n,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(s,a,c,l,o){var u,p,d=8*o-l-1,h=(1<<d)-1,g=h>>1,b=-7,m=c?o-1:0,y=c?-1:1,v=s[a+m];for(m+=y,u=v&(1<<-b)-1,v>>=-b,b+=d;b>0;u=256*u+s[a+m],m+=y,b-=8);for(p=u&(1<<-b)-1,u>>=-b,b+=l;b>0;p=256*p+s[a+m],m+=y,b-=8);if(u===0)u=1-g;else{if(u===h)return p?NaN:1/0*(v?-1:1);p+=Math.pow(2,l),u-=g}return(v?-1:1)*p*Math.pow(2,u-l)},i.write=function(s,a,c,l,o,u){var p,d,h,g=8*u-o-1,b=(1<<g)-1,m=b>>1,y=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=l?0:u-1,w=l?1:-1,E=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(d=isNaN(a)?1:0,p=b):(p=Math.floor(Math.log(a)/Math.LN2),a*(h=Math.pow(2,-p))<1&&(p--,h*=2),(a+=p+m>=1?y/h:y*Math.pow(2,1-m))*h>=2&&(p++,h/=2),p+m>=b?(d=0,p=b):p+m>=1?(d=(a*h-1)*Math.pow(2,o),p+=m):(d=a*Math.pow(2,m-1)*Math.pow(2,o),p=0));o>=8;s[c+v]=255&d,v+=w,d/=256,o-=8);for(p=p<<o|d,g+=o;g>0;s[c+v]=255&p,v+=w,p/=256,g-=8);s[c+v-w]|=128*E}},{}],440:[function(e,n,i){typeof Object.create=="function"?n.exports=function(s,a){a&&(s.super_=a,s.prototype=Object.create(a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(s,a){if(a){s.super_=a;var c=function(){};c.prototype=a.prototype,s.prototype=new c,s.prototype.constructor=s}}},{}],441:[function(e,n,i){(function(s,a,c,l,o,u,p,d){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(h){typeof i=="object"&&n!==void 0?n.exports=h():(typeof window<"u"?window:a!==void 0?a:typeof self<"u"?self:this).JSZip=h()})(function(){return function h(g,b,m){function y(E,A){if(!b[E]){if(!g[E]){var D=typeof e=="function"&&e;if(!A&&D)return D(E,!0);if(v)return v(E,!0);var L=new Error("Cannot find module '"+E+"'");throw L.code="MODULE_NOT_FOUND",L}var C=b[E]={exports:{}};g[E][0].call(C.exports,function(M){return y(g[E][1][M]||M)},C,C.exports,h,g,b,m)}return b[E].exports}for(var v=typeof e=="function"&&e,w=0;w<m.length;w++)y(m[w]);return y}({1:[function(h,g,b){var m=h("./utils"),y=h("./support"),v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";b.encode=function(w){for(var E,A,D,L,C,M,F,$=[],U=0,j=w.length,P=j,N=m.getTypeOf(w)!=="string";U<w.length;)P=j-U,D=N?(E=w[U++],A=U<j?w[U++]:0,U<j?w[U++]:0):(E=w.charCodeAt(U++),A=U<j?w.charCodeAt(U++):0,U<j?w.charCodeAt(U++):0),L=E>>2,C=(3&E)<<4|A>>4,M=1<P?(15&A)<<2|D>>6:64,F=2<P?63&D:64,$.push(v.charAt(L)+v.charAt(C)+v.charAt(M)+v.charAt(F));return $.join("")},b.decode=function(w){var E,A,D,L,C,M,F=0,$=0,U="data:";if(w.substr(0,U.length)===U)throw new Error("Invalid base64 input, it looks like a data url.");var j,P=3*(w=w.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(w.charAt(w.length-1)===v.charAt(64)&&P--,w.charAt(w.length-2)===v.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(j=y.uint8array?new Uint8Array(0|P):new Array(0|P);F<w.length;)E=v.indexOf(w.charAt(F++))<<2|(L=v.indexOf(w.charAt(F++)))>>4,A=(15&L)<<4|(C=v.indexOf(w.charAt(F++)))>>2,D=(3&C)<<6|(M=v.indexOf(w.charAt(F++))),j[$++]=E,C!==64&&(j[$++]=A),M!==64&&(j[$++]=D);return j}},{"./support":30,"./utils":32}],2:[function(h,g,b){var m=h("./external"),y=h("./stream/DataWorker"),v=h("./stream/Crc32Probe"),w=h("./stream/DataLengthProbe");function E(A,D,L,C,M){this.compressedSize=A,this.uncompressedSize=D,this.crc32=L,this.compression=C,this.compressedContent=M}E.prototype={getContentWorker:function(){var A=new y(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new w("data_length")),D=this;return A.on("end",function(){if(this.streamInfo.data_length!==D.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),A},getCompressedWorker:function(){return new y(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},E.createWorkerFrom=function(A,D,L){return A.pipe(new v).pipe(new w("uncompressedSize")).pipe(D.compressWorker(L)).pipe(new w("compressedSize")).withStreamInfo("compression",D)},g.exports=E},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(h,g,b){var m=h("./stream/GenericWorker");b.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},b.DEFLATE=h("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(h,g,b){var m=h("./utils"),y=function(){for(var v,w=[],E=0;E<256;E++){v=E;for(var A=0;A<8;A++)v=1&v?3988292384^v>>>1:v>>>1;w[E]=v}return w}();g.exports=function(v,w){return v!==void 0&&v.length?m.getTypeOf(v)!=="string"?function(E,A,D,L){var C=y,M=0+D;E^=-1;for(var F=0;F<M;F++)E=E>>>8^C[255&(E^A[F])];return-1^E}(0|w,v,v.length):function(E,A,D,L){var C=y,M=0+D;E^=-1;for(var F=0;F<M;F++)E=E>>>8^C[255&(E^A.charCodeAt(F))];return-1^E}(0|w,v,v.length):0}},{"./utils":32}],5:[function(h,g,b){b.base64=!1,b.binary=!1,b.dir=!1,b.createFolders=!0,b.date=null,b.compression=null,b.compressionOptions=null,b.comment=null,b.unixPermissions=null,b.dosPermissions=null},{}],6:[function(h,g,b){var m;m=typeof Promise<"u"?Promise:h("lie"),g.exports={Promise:m}},{lie:37}],7:[function(h,g,b){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",y=h("pako"),v=h("./utils"),w=h("./stream/GenericWorker"),E=m?"uint8array":"array";function A(D,L){w.call(this,"FlateWorker/"+D),this._pako=null,this._pakoAction=D,this._pakoOptions=L,this.meta={}}b.magic="\b\0",v.inherits(A,w),A.prototype.processChunk=function(D){this.meta=D.meta,this._pako===null&&this._createPako(),this._pako.push(v.transformTo(E,D.data),!1)},A.prototype.flush=function(){w.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},A.prototype.cleanUp=function(){w.prototype.cleanUp.call(this),this._pako=null},A.prototype._createPako=function(){this._pako=new y[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var D=this;this._pako.onData=function(L){D.push({data:L,meta:D.meta})}},b.compressWorker=function(D){return new A("Deflate",D)},b.uncompressWorker=function(){return new A("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(h,g,b){function m(C,M){var F,$="";for(F=0;F<M;F++)$+=String.fromCharCode(255&C),C>>>=8;return $}function y(C,M,F,$,U,j){var P,N,x=C.file,S=C.compression,_=j!==E.utf8encode,k=v.transformTo("string",j(x.name)),T=v.transformTo("string",E.utf8encode(x.name)),B=x.comment,V=v.transformTo("string",j(B)),q=v.transformTo("string",E.utf8encode(B)),W=T.length!==x.name.length,J=q.length!==B.length,z="",X="",O="",R=x.dir,H=x.date,G={crc32:0,compressedSize:0,uncompressedSize:0};M&&!F||(G.crc32=C.crc32,G.compressedSize=C.compressedSize,G.uncompressedSize=C.uncompressedSize);var ee=0;M&&(ee|=8),_||!W&&!J||(ee|=2048);var Z=0,te=0;R&&(Z|=16),U==="UNIX"?(te=798,Z|=function(le,Y){var ie=le;return le||(ie=Y?16893:33204),(65535&ie)<<16}(x.unixPermissions,R)):(te=20,Z|=function(le){return 63&(le||0)}(x.dosPermissions)),P=H.getUTCHours(),P<<=6,P|=H.getUTCMinutes(),P<<=5,P|=H.getUTCSeconds()/2,N=H.getUTCFullYear()-1980,N<<=4,N|=H.getUTCMonth()+1,N<<=5,N|=H.getUTCDate(),W&&(X=m(1,1)+m(A(k),4)+T,z+="up"+m(X.length,2)+X),J&&(O=m(1,1)+m(A(V),4)+q,z+="uc"+m(O.length,2)+O);var oe="";return oe+=`
\0`,oe+=m(ee,2),oe+=S.magic,oe+=m(P,2),oe+=m(N,2),oe+=m(G.crc32,4),oe+=m(G.compressedSize,4),oe+=m(G.uncompressedSize,4),oe+=m(k.length,2),oe+=m(z.length,2),{fileRecord:D.LOCAL_FILE_HEADER+oe+k+z,dirRecord:D.CENTRAL_FILE_HEADER+m(te,2)+oe+m(V.length,2)+"\0\0\0\0"+m(Z,4)+m($,4)+k+z+V}}var v=h("../utils"),w=h("../stream/GenericWorker"),E=h("../utf8"),A=h("../crc32"),D=h("../signature");function L(C,M,F,$){w.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=M,this.zipPlatform=F,this.encodeFileName=$,this.streamFiles=C,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}v.inherits(L,w),L.prototype.push=function(C){var M=C.meta.percent||0,F=this.entriesCount,$=this._sources.length;this.accumulate?this.contentBuffer.push(C):(this.bytesWritten+=C.data.length,w.prototype.push.call(this,{data:C.data,meta:{currentFile:this.currentFile,percent:F?(M+100*(F-$-1))/F:100}}))},L.prototype.openedSource=function(C){this.currentSourceOffset=this.bytesWritten,this.currentFile=C.file.name;var M=this.streamFiles&&!C.file.dir;if(M){var F=y(C,M,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:F.fileRecord,meta:{percent:0}})}else this.accumulate=!0},L.prototype.closedSource=function(C){this.accumulate=!1;var M=this.streamFiles&&!C.file.dir,F=y(C,M,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(F.dirRecord),M)this.push({data:function($){return D.DATA_DESCRIPTOR+m($.crc32,4)+m($.compressedSize,4)+m($.uncompressedSize,4)}(C),meta:{percent:100}});else for(this.push({data:F.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},L.prototype.flush=function(){for(var C=this.bytesWritten,M=0;M<this.dirRecords.length;M++)this.push({data:this.dirRecords[M],meta:{percent:100}});var F=this.bytesWritten-C,$=function(U,j,P,N,x){var S=v.transformTo("string",x(N));return D.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(U,2)+m(U,2)+m(j,4)+m(P,4)+m(S.length,2)+S}(this.dirRecords.length,F,C,this.zipComment,this.encodeFileName);this.push({data:$,meta:{percent:100}})},L.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},L.prototype.registerPrevious=function(C){this._sources.push(C);var M=this;return C.on("data",function(F){M.processChunk(F)}),C.on("end",function(){M.closedSource(M.previous.streamInfo),M._sources.length?M.prepareNextSource():M.end()}),C.on("error",function(F){M.error(F)}),this},L.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},L.prototype.error=function(C){var M=this._sources;if(!w.prototype.error.call(this,C))return!1;for(var F=0;F<M.length;F++)try{M[F].error(C)}catch{}return!0},L.prototype.lock=function(){w.prototype.lock.call(this);for(var C=this._sources,M=0;M<C.length;M++)C[M].lock()},g.exports=L},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(h,g,b){var m=h("../compressions"),y=h("./ZipFileWorker");b.generateWorker=function(v,w,E){var A=new y(w.streamFiles,E,w.platform,w.encodeFileName),D=0;try{v.forEach(function(L,C){D++;var M=function(j,P){var N=j||P,x=m[N];if(!x)throw new Error(N+" is not a valid compression method !");return x}(C.options.compression,w.compression),F=C.options.compressionOptions||w.compressionOptions||{},$=C.dir,U=C.date;C._compressWorker(M,F).withStreamInfo("file",{name:L,dir:$,date:U,comment:C.comment||"",unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions}).pipe(A)}),A.entriesCount=D}catch(L){A.error(L)}return A}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(h,g,b){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var y=new m;for(var v in this)typeof this[v]!="function"&&(y[v]=this[v]);return y}}(m.prototype=h("./object")).loadAsync=h("./load"),m.support=h("./support"),m.defaults=h("./defaults"),m.version="3.10.1",m.loadAsync=function(y,v){return new m().loadAsync(y,v)},m.external=h("./external"),g.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(h,g,b){var m=h("./utils"),y=h("./external"),v=h("./utf8"),w=h("./zipEntries"),E=h("./stream/Crc32Probe"),A=h("./nodejsUtils");function D(L){return new y.Promise(function(C,M){var F=L.decompressed.getContentWorker().pipe(new E);F.on("error",function($){M($)}).on("end",function(){F.streamInfo.crc32!==L.decompressed.crc32?M(new Error("Corrupted zip : CRC32 mismatch")):C()}).resume()})}g.exports=function(L,C){var M=this;return C=m.extend(C||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:v.utf8decode}),A.isNode&&A.isStream(L)?y.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",L,!0,C.optimizedBinaryString,C.base64).then(function(F){var $=new w(C);return $.load(F),$}).then(function(F){var $=[y.Promise.resolve(F)],U=F.files;if(C.checkCRC32)for(var j=0;j<U.length;j++)$.push(D(U[j]));return y.Promise.all($)}).then(function(F){for(var $=F.shift(),U=$.files,j=0;j<U.length;j++){var P=U[j],N=P.fileNameStr,x=m.resolve(P.fileNameStr);M.file(x,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:C.createFolders}),P.dir||(M.file(x).unsafeOriginalName=N)}return $.zipComment.length&&(M.comment=$.zipComment),M})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(h,g,b){var m=h("../utils"),y=h("../stream/GenericWorker");function v(w,E){y.call(this,"Nodejs stream input adapter for "+w),this._upstreamEnded=!1,this._bindStream(E)}m.inherits(v,y),v.prototype._bindStream=function(w){var E=this;(this._stream=w).pause(),w.on("data",function(A){E.push({data:A,meta:{percent:0}})}).on("error",function(A){E.isPaused?this.generatedError=A:E.error(A)}).on("end",function(){E.isPaused?E._upstreamEnded=!0:E.end()})},v.prototype.pause=function(){return!!y.prototype.pause.call(this)&&(this._stream.pause(),!0)},v.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=v},{"../stream/GenericWorker":28,"../utils":32}],13:[function(h,g,b){var m=h("readable-stream").Readable;function y(v,w,E){m.call(this,w),this._helper=v;var A=this;v.on("data",function(D,L){A.push(D)||A._helper.pause(),E&&E(L)}).on("error",function(D){A.emit("error",D)}).on("end",function(){A.push(null)})}h("../utils").inherits(y,m),y.prototype._read=function(){this._helper.resume()},g.exports=y},{"../utils":32,"readable-stream":16}],14:[function(h,g,b){g.exports={isNode:c!==void 0,newBufferFrom:function(m,y){if(c.from&&c.from!==Uint8Array.from)return c.from(m,y);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new c(m,y)},allocBuffer:function(m){if(c.alloc)return c.alloc(m);var y=new c(m);return y.fill(0),y},isBuffer:function(m){return c.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(h,g,b){function m(x,S,_){var k,T=v.getTypeOf(S),B=v.extend(_||{},A);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(x=U(x)),B.createFolders&&(k=$(x))&&j.call(this,k,!0);var V=T==="string"&&B.binary===!1&&B.base64===!1;_&&_.binary!==void 0||(B.binary=!V),(S instanceof D&&S.uncompressedSize===0||B.dir||!S||S.length===0)&&(B.base64=!1,B.binary=!0,S="",B.compression="STORE",T="string");var q;q=S instanceof D||S instanceof w?S:M.isNode&&M.isStream(S)?new F(x,S):v.prepareContent(x,S,B.binary,B.optimizedBinaryString,B.base64);var W=new L(x,q,B);this.files[x]=W}var y=h("./utf8"),v=h("./utils"),w=h("./stream/GenericWorker"),E=h("./stream/StreamHelper"),A=h("./defaults"),D=h("./compressedObject"),L=h("./zipObject"),C=h("./generate"),M=h("./nodejsUtils"),F=h("./nodejs/NodejsStreamInputAdapter"),$=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var S=x.lastIndexOf("/");return 0<S?x.substring(0,S):""},U=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},j=function(x,S){return S=S!==void 0?S:A.createFolders,x=U(x),this.files[x]||m.call(this,x,null,{dir:!0,createFolders:S}),this.files[x]};function P(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var S,_,k;for(S in this.files)k=this.files[S],(_=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&x(_,k)},filter:function(x){var S=[];return this.forEach(function(_,k){x(_,k)&&S.push(k)}),S},file:function(x,S,_){if(arguments.length!==1)return x=this.root+x,m.call(this,x,S,_),this;if(P(x)){var k=x;return this.filter(function(B,V){return!V.dir&&k.test(B)})}var T=this.files[this.root+x];return T&&!T.dir?T:null},folder:function(x){if(!x)return this;if(P(x))return this.filter(function(T,B){return B.dir&&x.test(T)});var S=this.root+x,_=j.call(this,S),k=this.clone();return k.root=_.name,k},remove:function(x){x=this.root+x;var S=this.files[x];if(S||(x.slice(-1)!=="/"&&(x+="/"),S=this.files[x]),S&&!S.dir)delete this.files[x];else for(var _=this.filter(function(T,B){return B.name.slice(0,x.length)===x}),k=0;k<_.length;k++)delete this.files[_[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var S,_={};try{if((_=v.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:y.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");v.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var k=_.comment||this.comment||"";S=C.generateWorker(this,_,k)}catch(T){(S=new w("error")).error(T)}return new E(S,_.type||"string",_.mimeType)},generateAsync:function(x,S){return this.generateInternalStream(x).accumulate(S)},generateNodeStream:function(x,S){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(S)}};g.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(h,g,b){g.exports=h("stream")},{stream:void 0}],17:[function(h,g,b){var m=h("./DataReader");function y(v){m.call(this,v);for(var w=0;w<this.data.length;w++)v[w]=255&v[w]}h("../utils").inherits(y,m),y.prototype.byteAt=function(v){return this.data[this.zero+v]},y.prototype.lastIndexOfSignature=function(v){for(var w=v.charCodeAt(0),E=v.charCodeAt(1),A=v.charCodeAt(2),D=v.charCodeAt(3),L=this.length-4;0<=L;--L)if(this.data[L]===w&&this.data[L+1]===E&&this.data[L+2]===A&&this.data[L+3]===D)return L-this.zero;return-1},y.prototype.readAndCheckSignature=function(v){var w=v.charCodeAt(0),E=v.charCodeAt(1),A=v.charCodeAt(2),D=v.charCodeAt(3),L=this.readData(4);return w===L[0]&&E===L[1]&&A===L[2]&&D===L[3]},y.prototype.readData=function(v){if(this.checkOffset(v),v===0)return[];var w=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,w},g.exports=y},{"../utils":32,"./DataReader":18}],18:[function(h,g,b){var m=h("../utils");function y(v){this.data=v,this.length=v.length,this.index=0,this.zero=0}y.prototype={checkOffset:function(v){this.checkIndex(this.index+v)},checkIndex:function(v){if(this.length<this.zero+v||v<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+v+"). Corrupted zip ?")},setIndex:function(v){this.checkIndex(v),this.index=v},skip:function(v){this.setIndex(this.index+v)},byteAt:function(){},readInt:function(v){var w,E=0;for(this.checkOffset(v),w=this.index+v-1;w>=this.index;w--)E=(E<<8)+this.byteAt(w);return this.index+=v,E},readString:function(v){return m.transformTo("string",this.readData(v))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var v=this.readInt(4);return new Date(Date.UTC(1980+(v>>25&127),(v>>21&15)-1,v>>16&31,v>>11&31,v>>5&63,(31&v)<<1))}},g.exports=y},{"../utils":32}],19:[function(h,g,b){var m=h("./Uint8ArrayReader");function y(v){m.call(this,v)}h("../utils").inherits(y,m),y.prototype.readData=function(v){this.checkOffset(v);var w=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,w},g.exports=y},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(h,g,b){var m=h("./DataReader");function y(v){m.call(this,v)}h("../utils").inherits(y,m),y.prototype.byteAt=function(v){return this.data.charCodeAt(this.zero+v)},y.prototype.lastIndexOfSignature=function(v){return this.data.lastIndexOf(v)-this.zero},y.prototype.readAndCheckSignature=function(v){return v===this.readData(4)},y.prototype.readData=function(v){this.checkOffset(v);var w=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,w},g.exports=y},{"../utils":32,"./DataReader":18}],21:[function(h,g,b){var m=h("./ArrayReader");function y(v){m.call(this,v)}h("../utils").inherits(y,m),y.prototype.readData=function(v){if(this.checkOffset(v),v===0)return new Uint8Array(0);var w=this.data.subarray(this.zero+this.index,this.zero+this.index+v);return this.index+=v,w},g.exports=y},{"../utils":32,"./ArrayReader":17}],22:[function(h,g,b){var m=h("../utils"),y=h("../support"),v=h("./ArrayReader"),w=h("./StringReader"),E=h("./NodeBufferReader"),A=h("./Uint8ArrayReader");g.exports=function(D){var L=m.getTypeOf(D);return m.checkSupport(L),L!=="string"||y.uint8array?L==="nodebuffer"?new E(D):y.uint8array?new A(m.transformTo("uint8array",D)):new v(m.transformTo("array",D)):new w(D)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(h,g,b){b.LOCAL_FILE_HEADER="PK",b.CENTRAL_FILE_HEADER="PK",b.CENTRAL_DIRECTORY_END="PK",b.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",b.ZIP64_CENTRAL_DIRECTORY_END="PK",b.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(h,g,b){var m=h("./GenericWorker"),y=h("../utils");function v(w){m.call(this,"ConvertWorker to "+w),this.destType=w}y.inherits(v,m),v.prototype.processChunk=function(w){this.push({data:y.transformTo(this.destType,w.data),meta:w.meta})},g.exports=v},{"../utils":32,"./GenericWorker":28}],25:[function(h,g,b){var m=h("./GenericWorker"),y=h("../crc32");function v(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h("../utils").inherits(v,m),v.prototype.processChunk=function(w){this.streamInfo.crc32=y(w.data,this.streamInfo.crc32||0),this.push(w)},g.exports=v},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(h,g,b){var m=h("../utils"),y=h("./GenericWorker");function v(w){y.call(this,"DataLengthProbe for "+w),this.propName=w,this.withStreamInfo(w,0)}m.inherits(v,y),v.prototype.processChunk=function(w){if(w){var E=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=E+w.data.length}y.prototype.processChunk.call(this,w)},g.exports=v},{"../utils":32,"./GenericWorker":28}],27:[function(h,g,b){var m=h("../utils"),y=h("./GenericWorker");function v(w){y.call(this,"DataWorker");var E=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,w.then(function(A){E.dataIsReady=!0,E.data=A,E.max=A&&A.length||0,E.type=m.getTypeOf(A),E.isPaused||E._tickAndRepeat()},function(A){E.error(A)})}m.inherits(v,y),v.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this.data=null},v.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},v.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},v.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var w=null,E=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":w=this.data.substring(this.index,E);break;case"uint8array":w=this.data.subarray(this.index,E);break;case"array":case"nodebuffer":w=this.data.slice(this.index,E)}return this.index=E,this.push({data:w,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=v},{"../utils":32,"./GenericWorker":28}],28:[function(h,g,b){function m(y){this.name=y||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(y){this.emit("data",y)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(y){this.emit("error",y)}return!0},error:function(y){return!this.isFinished&&(this.isPaused?this.generatedError=y:(this.isFinished=!0,this.emit("error",y),this.previous&&this.previous.error(y),this.cleanUp()),!0)},on:function(y,v){return this._listeners[y].push(v),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(y,v){if(this._listeners[y])for(var w=0;w<this._listeners[y].length;w++)this._listeners[y][w].call(this,v)},pipe:function(y){return y.registerPrevious(this)},registerPrevious:function(y){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=y.streamInfo,this.mergeStreamInfo(),this.previous=y;var v=this;return y.on("data",function(w){v.processChunk(w)}),y.on("end",function(){v.end()}),y.on("error",function(w){v.error(w)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var y=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),y=!0),this.previous&&this.previous.resume(),!y},flush:function(){},processChunk:function(y){this.push(y)},withStreamInfo:function(y,v){return this.extraStreamInfo[y]=v,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var y in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,y)&&(this.streamInfo[y]=this.extraStreamInfo[y])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var y="Worker "+this.name;return this.previous?this.previous+" -> "+y:y}},g.exports=m},{}],29:[function(h,g,b){var m=h("../utils"),y=h("./ConvertWorker"),v=h("./GenericWorker"),w=h("../base64"),E=h("../support"),A=h("../external"),D=null;if(E.nodestream)try{D=h("../nodejs/NodejsStreamOutputAdapter")}catch{}function L(C,M,F){var $=M;switch(M){case"blob":case"arraybuffer":$="uint8array";break;case"base64":$="string"}try{this._internalType=$,this._outputType=M,this._mimeType=F,m.checkSupport($),this._worker=C.pipe(new y($)),C.lock()}catch(U){this._worker=new v("error"),this._worker.error(U)}}L.prototype={accumulate:function(C){return function(M,F){return new A.Promise(function($,U){var j=[],P=M._internalType,N=M._outputType,x=M._mimeType;M.on("data",function(S,_){j.push(S),F&&F(_)}).on("error",function(S){j=[],U(S)}).on("end",function(){try{var S=function(_,k,T){switch(_){case"blob":return m.newBlob(m.transformTo("arraybuffer",k),T);case"base64":return w.encode(k);default:return m.transformTo(_,k)}}(N,function(_,k){var T,B=0,V=null,q=0;for(T=0;T<k.length;T++)q+=k[T].length;switch(_){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(V=new Uint8Array(q),T=0;T<k.length;T++)V.set(k[T],B),B+=k[T].length;return V;case"nodebuffer":return c.concat(k);default:throw new Error("concat : unsupported type '"+_+"'")}}(P,j),x);$(S)}catch(_){U(_)}j=[]}).resume()})}(this,C)},on:function(C,M){var F=this;return C==="data"?this._worker.on(C,function($){M.call(F,$.data,$.meta)}):this._worker.on(C,function(){m.delay(M,arguments,F)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(C){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new D(this,{objectMode:this._outputType!=="nodebuffer"},C)}},g.exports=L},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(h,g,b){if(b.base64=!0,b.array=!0,b.string=!0,b.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",b.nodebuffer=c!==void 0,b.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")b.blob=!1;else{var m=new ArrayBuffer(0);try{b.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);y.append(m),b.blob=y.getBlob("application/zip").size===0}catch{b.blob=!1}}}try{b.nodestream=!!h("readable-stream").Readable}catch{b.nodestream=!1}},{"readable-stream":16}],31:[function(h,g,b){for(var m=h("./utils"),y=h("./support"),v=h("./nodejsUtils"),w=h("./stream/GenericWorker"),E=new Array(256),A=0;A<256;A++)E[A]=252<=A?6:248<=A?5:240<=A?4:224<=A?3:192<=A?2:1;function D(){w.call(this,"utf-8 decode"),this.leftOver=null}function L(){w.call(this,"utf-8 encode")}E[254]=E[254]=1,b.utf8encode=function(C){return y.nodebuffer?v.newBufferFrom(C,"utf-8"):function(M){var F,$,U,j,P,N=M.length,x=0;for(j=0;j<N;j++)(64512&($=M.charCodeAt(j)))==55296&&j+1<N&&(64512&(U=M.charCodeAt(j+1)))==56320&&($=65536+($-55296<<10)+(U-56320),j++),x+=$<128?1:$<2048?2:$<65536?3:4;for(F=y.uint8array?new Uint8Array(x):new Array(x),j=P=0;P<x;j++)(64512&($=M.charCodeAt(j)))==55296&&j+1<N&&(64512&(U=M.charCodeAt(j+1)))==56320&&($=65536+($-55296<<10)+(U-56320),j++),$<128?F[P++]=$:($<2048?F[P++]=192|$>>>6:($<65536?F[P++]=224|$>>>12:(F[P++]=240|$>>>18,F[P++]=128|$>>>12&63),F[P++]=128|$>>>6&63),F[P++]=128|63&$);return F}(C)},b.utf8decode=function(C){return y.nodebuffer?m.transformTo("nodebuffer",C).toString("utf-8"):function(M){var F,$,U,j,P=M.length,N=new Array(2*P);for(F=$=0;F<P;)if((U=M[F++])<128)N[$++]=U;else if(4<(j=E[U]))N[$++]=65533,F+=j-1;else{for(U&=j===2?31:j===3?15:7;1<j&&F<P;)U=U<<6|63&M[F++],j--;1<j?N[$++]=65533:U<65536?N[$++]=U:(U-=65536,N[$++]=55296|U>>10&1023,N[$++]=56320|1023&U)}return N.length!==$&&(N.subarray?N=N.subarray(0,$):N.length=$),m.applyFromCharCode(N)}(C=m.transformTo(y.uint8array?"uint8array":"array",C))},m.inherits(D,w),D.prototype.processChunk=function(C){var M=m.transformTo(y.uint8array?"uint8array":"array",C.data);if(this.leftOver&&this.leftOver.length){if(y.uint8array){var F=M;(M=new Uint8Array(F.length+this.leftOver.length)).set(this.leftOver,0),M.set(F,this.leftOver.length)}else M=this.leftOver.concat(M);this.leftOver=null}var $=function(j,P){var N;for((P=P||j.length)>j.length&&(P=j.length),N=P-1;0<=N&&(192&j[N])==128;)N--;return N<0||N===0?P:N+E[j[N]]>P?N:P}(M),U=M;$!==M.length&&(y.uint8array?(U=M.subarray(0,$),this.leftOver=M.subarray($,M.length)):(U=M.slice(0,$),this.leftOver=M.slice($,M.length))),this.push({data:b.utf8decode(U),meta:C.meta})},D.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:b.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},b.Utf8DecodeWorker=D,m.inherits(L,w),L.prototype.processChunk=function(C){this.push({data:b.utf8encode(C.data),meta:C.meta})},b.Utf8EncodeWorker=L},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(h,g,b){var m=h("./support"),y=h("./base64"),v=h("./nodejsUtils"),w=h("./external");function E(F){return F}function A(F,$){for(var U=0;U<F.length;++U)$[U]=255&F.charCodeAt(U);return $}h("setimmediate"),b.newBlob=function(F,$){b.checkSupport("blob");try{return new Blob([F],{type:$})}catch{try{var U=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return U.append(F),U.getBlob($)}catch{throw new Error("Bug : can't construct the Blob.")}}};var D={stringifyByChunk:function(F,$,U){var j=[],P=0,N=F.length;if(N<=U)return String.fromCharCode.apply(null,F);for(;P<N;)$==="array"||$==="nodebuffer"?j.push(String.fromCharCode.apply(null,F.slice(P,Math.min(P+U,N)))):j.push(String.fromCharCode.apply(null,F.subarray(P,Math.min(P+U,N)))),P+=U;return j.join("")},stringifyByChar:function(F){for(var $="",U=0;U<F.length;U++)$+=String.fromCharCode(F[U]);return $},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,v.allocBuffer(1)).length===1}catch{return!1}}()}};function L(F){var $=65536,U=b.getTypeOf(F),j=!0;if(U==="uint8array"?j=D.applyCanBeUsed.uint8array:U==="nodebuffer"&&(j=D.applyCanBeUsed.nodebuffer),j)for(;1<$;)try{return D.stringifyByChunk(F,U,$)}catch{$=Math.floor($/2)}return D.stringifyByChar(F)}function C(F,$){for(var U=0;U<F.length;U++)$[U]=F[U];return $}b.applyFromCharCode=L;var M={};M.string={string:E,array:function(F){return A(F,new Array(F.length))},arraybuffer:function(F){return M.string.uint8array(F).buffer},uint8array:function(F){return A(F,new Uint8Array(F.length))},nodebuffer:function(F){return A(F,v.allocBuffer(F.length))}},M.array={string:L,array:E,arraybuffer:function(F){return new Uint8Array(F).buffer},uint8array:function(F){return new Uint8Array(F)},nodebuffer:function(F){return v.newBufferFrom(F)}},M.arraybuffer={string:function(F){return L(new Uint8Array(F))},array:function(F){return C(new Uint8Array(F),new Array(F.byteLength))},arraybuffer:E,uint8array:function(F){return new Uint8Array(F)},nodebuffer:function(F){return v.newBufferFrom(new Uint8Array(F))}},M.uint8array={string:L,array:function(F){return C(F,new Array(F.length))},arraybuffer:function(F){return F.buffer},uint8array:E,nodebuffer:function(F){return v.newBufferFrom(F)}},M.nodebuffer={string:L,array:function(F){return C(F,new Array(F.length))},arraybuffer:function(F){return M.nodebuffer.uint8array(F).buffer},uint8array:function(F){return C(F,new Uint8Array(F.length))},nodebuffer:E},b.transformTo=function(F,$){if($=$||"",!F)return $;b.checkSupport(F);var U=b.getTypeOf($);return M[U][F]($)},b.resolve=function(F){for(var $=F.split("/"),U=[],j=0;j<$.length;j++){var P=$[j];P==="."||P===""&&j!==0&&j!==$.length-1||(P===".."?U.pop():U.push(P))}return U.join("/")},b.getTypeOf=function(F){return typeof F=="string"?"string":Object.prototype.toString.call(F)==="[object Array]"?"array":m.nodebuffer&&v.isBuffer(F)?"nodebuffer":m.uint8array&&F instanceof Uint8Array?"uint8array":m.arraybuffer&&F instanceof ArrayBuffer?"arraybuffer":void 0},b.checkSupport=function(F){if(!m[F.toLowerCase()])throw new Error(F+" is not supported by this platform")},b.MAX_VALUE_16BITS=65535,b.MAX_VALUE_32BITS=-1,b.pretty=function(F){var $,U,j="";for(U=0;U<(F||"").length;U++)j+="\\x"+(($=F.charCodeAt(U))<16?"0":"")+$.toString(16).toUpperCase();return j},b.delay=function(F,$,U){d(function(){F.apply(U||null,$||[])})},b.inherits=function(F,$){function U(){}U.prototype=$.prototype,F.prototype=new U},b.extend=function(){var F,$,U={};for(F=0;F<arguments.length;F++)for($ in arguments[F])Object.prototype.hasOwnProperty.call(arguments[F],$)&&U[$]===void 0&&(U[$]=arguments[F][$]);return U},b.prepareContent=function(F,$,U,j,P){return w.Promise.resolve($).then(function(N){return m.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new w.Promise(function(x,S){var _=new FileReader;_.onload=function(k){x(k.target.result)},_.onerror=function(k){S(k.target.error)},_.readAsArrayBuffer(N)}):N}).then(function(N){var x=b.getTypeOf(N);return x?(x==="arraybuffer"?N=b.transformTo("uint8array",N):x==="string"&&(P?N=y.decode(N):U&&j!==!0&&(N=function(S){return A(S,m.uint8array?new Uint8Array(S.length):new Array(S.length))}(N))),N):w.Promise.reject(new Error("Can't read the data of '"+F+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(h,g,b){var m=h("./reader/readerFor"),y=h("./utils"),v=h("./signature"),w=h("./zipEntry"),E=h("./support");function A(D){this.files=[],this.loadOptions=D}A.prototype={checkSignature:function(D){if(!this.reader.readAndCheckSignature(D)){this.reader.index-=4;var L=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+y.pretty(L)+", expected "+y.pretty(D)+")")}},isSignature:function(D,L){var C=this.reader.index;this.reader.setIndex(D);var M=this.reader.readString(4)===L;return this.reader.setIndex(C),M},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var D=this.reader.readData(this.zipCommentLength),L=E.uint8array?"uint8array":"array",C=y.transformTo(L,D);this.zipComment=this.loadOptions.decodeFileName(C)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var D,L,C,M=this.zip64EndOfCentralSize-44;0<M;)D=this.reader.readInt(2),L=this.reader.readInt(4),C=this.reader.readData(L),this.zip64ExtensibleData[D]={id:D,length:L,value:C}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var D,L;for(D=0;D<this.files.length;D++)L=this.files[D],this.reader.setIndex(L.localHeaderOffset),this.checkSignature(v.LOCAL_FILE_HEADER),L.readLocalPart(this.reader),L.handleUTF8(),L.processAttributes()},readCentralDir:function(){var D;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(v.CENTRAL_FILE_HEADER);)(D=new w({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(D);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var D=this.reader.lastIndexOfSignature(v.CENTRAL_DIRECTORY_END);if(D<0)throw this.isSignature(0,v.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(D);var L=D;if(this.checkSignature(v.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===y.MAX_VALUE_16BITS||this.diskWithCentralDirStart===y.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===y.MAX_VALUE_16BITS||this.centralDirRecords===y.MAX_VALUE_16BITS||this.centralDirSize===y.MAX_VALUE_32BITS||this.centralDirOffset===y.MAX_VALUE_32BITS){if(this.zip64=!0,(D=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(D),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,v.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var C=this.centralDirOffset+this.centralDirSize;this.zip64&&(C+=20,C+=12+this.zip64EndOfCentralSize);var M=L-C;if(0<M)this.isSignature(L,v.CENTRAL_FILE_HEADER)||(this.reader.zero=M);else if(M<0)throw new Error("Corrupted zip: missing "+Math.abs(M)+" bytes.")},prepareReader:function(D){this.reader=m(D)},load:function(D){this.prepareReader(D),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=A},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(h,g,b){var m=h("./reader/readerFor"),y=h("./utils"),v=h("./compressedObject"),w=h("./crc32"),E=h("./utf8"),A=h("./compressions"),D=h("./support");function L(C,M){this.options=C,this.loadOptions=M}L.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(C){var M,F;if(C.skip(22),this.fileNameLength=C.readInt(2),F=C.readInt(2),this.fileName=C.readData(this.fileNameLength),C.skip(F),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((M=function($){for(var U in A)if(Object.prototype.hasOwnProperty.call(A,U)&&A[U].magic===$)return A[U];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+y.pretty(this.compressionMethod)+" unknown (inner file : "+y.transformTo("string",this.fileName)+")");this.decompressed=new v(this.compressedSize,this.uncompressedSize,this.crc32,M,C.readData(this.compressedSize))},readCentralPart:function(C){this.versionMadeBy=C.readInt(2),C.skip(2),this.bitFlag=C.readInt(2),this.compressionMethod=C.readString(2),this.date=C.readDate(),this.crc32=C.readInt(4),this.compressedSize=C.readInt(4),this.uncompressedSize=C.readInt(4);var M=C.readInt(2);if(this.extraFieldsLength=C.readInt(2),this.fileCommentLength=C.readInt(2),this.diskNumberStart=C.readInt(2),this.internalFileAttributes=C.readInt(2),this.externalFileAttributes=C.readInt(4),this.localHeaderOffset=C.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");C.skip(M),this.readExtraFields(C),this.parseZIP64ExtraField(C),this.fileComment=C.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var C=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),C==0&&(this.dosPermissions=63&this.externalFileAttributes),C==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var C=m(this.extraFields[1].value);this.uncompressedSize===y.MAX_VALUE_32BITS&&(this.uncompressedSize=C.readInt(8)),this.compressedSize===y.MAX_VALUE_32BITS&&(this.compressedSize=C.readInt(8)),this.localHeaderOffset===y.MAX_VALUE_32BITS&&(this.localHeaderOffset=C.readInt(8)),this.diskNumberStart===y.MAX_VALUE_32BITS&&(this.diskNumberStart=C.readInt(4))}},readExtraFields:function(C){var M,F,$,U=C.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});C.index+4<U;)M=C.readInt(2),F=C.readInt(2),$=C.readData(F),this.extraFields[M]={id:M,length:F,value:$};C.setIndex(U)},handleUTF8:function(){var C=D.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=E.utf8decode(this.fileName),this.fileCommentStr=E.utf8decode(this.fileComment);else{var M=this.findExtraFieldUnicodePath();if(M!==null)this.fileNameStr=M;else{var F=y.transformTo(C,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(F)}var $=this.findExtraFieldUnicodeComment();if($!==null)this.fileCommentStr=$;else{var U=y.transformTo(C,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(U)}}},findExtraFieldUnicodePath:function(){var C=this.extraFields[28789];if(C){var M=m(C.value);return M.readInt(1)!==1||w(this.fileName)!==M.readInt(4)?null:E.utf8decode(M.readData(C.length-5))}return null},findExtraFieldUnicodeComment:function(){var C=this.extraFields[25461];if(C){var M=m(C.value);return M.readInt(1)!==1||w(this.fileComment)!==M.readInt(4)?null:E.utf8decode(M.readData(C.length-5))}return null}},g.exports=L},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(h,g,b){function m(M,F,$){this.name=M,this.dir=$.dir,this.date=$.date,this.comment=$.comment,this.unixPermissions=$.unixPermissions,this.dosPermissions=$.dosPermissions,this._data=F,this._dataBinary=$.binary,this.options={compression:$.compression,compressionOptions:$.compressionOptions}}var y=h("./stream/StreamHelper"),v=h("./stream/DataWorker"),w=h("./utf8"),E=h("./compressedObject"),A=h("./stream/GenericWorker");m.prototype={internalStream:function(M){var F=null,$="string";try{if(!M)throw new Error("No output type specified.");var U=($=M.toLowerCase())==="string"||$==="text";$!=="binarystring"&&$!=="text"||($="string"),F=this._decompressWorker();var j=!this._dataBinary;j&&!U&&(F=F.pipe(new w.Utf8EncodeWorker)),!j&&U&&(F=F.pipe(new w.Utf8DecodeWorker))}catch(P){(F=new A("error")).error(P)}return new y(F,$,"")},async:function(M,F){return this.internalStream(M).accumulate(F)},nodeStream:function(M,F){return this.internalStream(M||"nodebuffer").toNodejsStream(F)},_compressWorker:function(M,F){if(this._data instanceof E&&this._data.compression.magic===M.magic)return this._data.getCompressedWorker();var $=this._decompressWorker();return this._dataBinary||($=$.pipe(new w.Utf8EncodeWorker)),E.createWorkerFrom($,M,F)},_decompressWorker:function(){return this._data instanceof E?this._data.getContentWorker():this._data instanceof A?this._data:new v(this._data)}};for(var D=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],L=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},C=0;C<D.length;C++)m.prototype[D[C]]=L;g.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(h,g,b){(function(m){var y,v,w=m.MutationObserver||m.WebKitMutationObserver;if(w){var E=0,A=new w(M),D=m.document.createTextNode("");A.observe(D,{characterData:!0}),y=function(){D.data=E=++E%2}}else if(m.setImmediate||m.MessageChannel===void 0)y="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var F=m.document.createElement("script");F.onreadystatechange=function(){M(),F.onreadystatechange=null,F.parentNode.removeChild(F),F=null},m.document.documentElement.appendChild(F)}:function(){setTimeout(M,0)};else{var L=new m.MessageChannel;L.port1.onmessage=M,y=function(){L.port2.postMessage(0)}}var C=[];function M(){var F,$;v=!0;for(var U=C.length;U;){for($=C,C=[],F=-1;++F<U;)$[F]();U=C.length}v=!1}g.exports=function(F){C.push(F)!==1||v||y()}}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(h,g,b){var m=h("immediate");function y(){}var v={},w=["REJECTED"],E=["FULFILLED"],A=["PENDING"];function D(U){if(typeof U!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,U!==y&&F(this,U)}function L(U,j,P){this.promise=U,typeof j=="function"&&(this.onFulfilled=j,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function C(U,j,P){m(function(){var N;try{N=j(P)}catch(x){return v.reject(U,x)}N===U?v.reject(U,new TypeError("Cannot resolve promise with itself")):v.resolve(U,N)})}function M(U){var j=U&&U.then;if(U&&(typeof U=="object"||typeof U=="function")&&typeof j=="function")return function(){j.apply(U,arguments)}}function F(U,j){var P=!1;function N(_){P||(P=!0,v.reject(U,_))}function x(_){P||(P=!0,v.resolve(U,_))}var S=$(function(){j(x,N)});S.status==="error"&&N(S.value)}function $(U,j){var P={};try{P.value=U(j),P.status="success"}catch(N){P.status="error",P.value=N}return P}(g.exports=D).prototype.finally=function(U){if(typeof U!="function")return this;var j=this.constructor;return this.then(function(P){return j.resolve(U()).then(function(){return P})},function(P){return j.resolve(U()).then(function(){throw P})})},D.prototype.catch=function(U){return this.then(null,U)},D.prototype.then=function(U,j){if(typeof U!="function"&&this.state===E||typeof j!="function"&&this.state===w)return this;var P=new this.constructor(y);return this.state!==A?C(P,this.state===E?U:j,this.outcome):this.queue.push(new L(P,U,j)),P},L.prototype.callFulfilled=function(U){v.resolve(this.promise,U)},L.prototype.otherCallFulfilled=function(U){C(this.promise,this.onFulfilled,U)},L.prototype.callRejected=function(U){v.reject(this.promise,U)},L.prototype.otherCallRejected=function(U){C(this.promise,this.onRejected,U)},v.resolve=function(U,j){var P=$(M,j);if(P.status==="error")return v.reject(U,P.value);var N=P.value;if(N)F(U,N);else{U.state=E,U.outcome=j;for(var x=-1,S=U.queue.length;++x<S;)U.queue[x].callFulfilled(j)}return U},v.reject=function(U,j){U.state=w,U.outcome=j;for(var P=-1,N=U.queue.length;++P<N;)U.queue[P].callRejected(j);return U},D.resolve=function(U){return U instanceof this?U:v.resolve(new this(y),U)},D.reject=function(U){var j=new this(y);return v.reject(j,U)},D.all=function(U){var j=this;if(Object.prototype.toString.call(U)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=U.length,N=!1;if(!P)return this.resolve([]);for(var x=new Array(P),S=0,_=-1,k=new this(y);++_<P;)T(U[_],_);return k;function T(B,V){j.resolve(B).then(function(q){x[V]=q,++S!==P||N||(N=!0,v.resolve(k,x))},function(q){N||(N=!0,v.reject(k,q))})}},D.race=function(U){if(Object.prototype.toString.call(U)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=U.length,P=!1;if(!j)return this.resolve([]);for(var N,x=-1,S=new this(y);++x<j;)N=U[x],this.resolve(N).then(function(_){P||(P=!0,v.resolve(S,_))},function(_){P||(P=!0,v.reject(S,_))});return S}},{immediate:36}],38:[function(h,g,b){var m={};(0,h("./lib/utils/common").assign)(m,h("./lib/deflate"),h("./lib/inflate"),h("./lib/zlib/constants")),g.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(h,g,b){var m=h("./zlib/deflate"),y=h("./utils/common"),v=h("./utils/strings"),w=h("./zlib/messages"),E=h("./zlib/zstream"),A=Object.prototype.toString;function D(C){if(!(this instanceof D))return new D(C);this.options=y.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},C||{});var M=this.options;M.raw&&0<M.windowBits?M.windowBits=-M.windowBits:M.gzip&&0<M.windowBits&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var F=m.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(F!==0)throw new Error(w[F]);if(M.header&&m.deflateSetHeader(this.strm,M.header),M.dictionary){var $;if($=typeof M.dictionary=="string"?v.string2buf(M.dictionary):A.call(M.dictionary)==="[object ArrayBuffer]"?new Uint8Array(M.dictionary):M.dictionary,(F=m.deflateSetDictionary(this.strm,$))!==0)throw new Error(w[F]);this._dict_set=!0}}function L(C,M){var F=new D(M);if(F.push(C,!0),F.err)throw F.msg||w[F.err];return F.result}D.prototype.push=function(C,M){var F,$,U=this.strm,j=this.options.chunkSize;if(this.ended)return!1;$=M===~~M?M:M===!0?4:0,typeof C=="string"?U.input=v.string2buf(C):A.call(C)==="[object ArrayBuffer]"?U.input=new Uint8Array(C):U.input=C,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new y.Buf8(j),U.next_out=0,U.avail_out=j),(F=m.deflate(U,$))!==1&&F!==0)return this.onEnd(F),!(this.ended=!0);U.avail_out!==0&&(U.avail_in!==0||$!==4&&$!==2)||(this.options.to==="string"?this.onData(v.buf2binstring(y.shrinkBuf(U.output,U.next_out))):this.onData(y.shrinkBuf(U.output,U.next_out)))}while((0<U.avail_in||U.avail_out===0)&&F!==1);return $===4?(F=m.deflateEnd(this.strm),this.onEnd(F),this.ended=!0,F===0):$!==2||(this.onEnd(0),!(U.avail_out=0))},D.prototype.onData=function(C){this.chunks.push(C)},D.prototype.onEnd=function(C){C===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},b.Deflate=D,b.deflate=L,b.deflateRaw=function(C,M){return(M=M||{}).raw=!0,L(C,M)},b.gzip=function(C,M){return(M=M||{}).gzip=!0,L(C,M)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(h,g,b){var m=h("./zlib/inflate"),y=h("./utils/common"),v=h("./utils/strings"),w=h("./zlib/constants"),E=h("./zlib/messages"),A=h("./zlib/zstream"),D=h("./zlib/gzheader"),L=Object.prototype.toString;function C(F){if(!(this instanceof C))return new C(F);this.options=y.assign({chunkSize:16384,windowBits:0,to:""},F||{});var $=this.options;$.raw&&0<=$.windowBits&&$.windowBits<16&&($.windowBits=-$.windowBits,$.windowBits===0&&($.windowBits=-15)),!(0<=$.windowBits&&$.windowBits<16)||F&&F.windowBits||($.windowBits+=32),15<$.windowBits&&$.windowBits<48&&!(15&$.windowBits)&&($.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var U=m.inflateInit2(this.strm,$.windowBits);if(U!==w.Z_OK)throw new Error(E[U]);this.header=new D,m.inflateGetHeader(this.strm,this.header)}function M(F,$){var U=new C($);if(U.push(F,!0),U.err)throw U.msg||E[U.err];return U.result}C.prototype.push=function(F,$){var U,j,P,N,x,S,_=this.strm,k=this.options.chunkSize,T=this.options.dictionary,B=!1;if(this.ended)return!1;j=$===~~$?$:$===!0?w.Z_FINISH:w.Z_NO_FLUSH,typeof F=="string"?_.input=v.binstring2buf(F):L.call(F)==="[object ArrayBuffer]"?_.input=new Uint8Array(F):_.input=F,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new y.Buf8(k),_.next_out=0,_.avail_out=k),(U=m.inflate(_,w.Z_NO_FLUSH))===w.Z_NEED_DICT&&T&&(S=typeof T=="string"?v.string2buf(T):L.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,U=m.inflateSetDictionary(this.strm,S)),U===w.Z_BUF_ERROR&&B===!0&&(U=w.Z_OK,B=!1),U!==w.Z_STREAM_END&&U!==w.Z_OK)return this.onEnd(U),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&U!==w.Z_STREAM_END&&(_.avail_in!==0||j!==w.Z_FINISH&&j!==w.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=v.utf8border(_.output,_.next_out),N=_.next_out-P,x=v.buf2string(_.output,P),_.next_out=N,_.avail_out=k-N,N&&y.arraySet(_.output,_.output,P,N,0),this.onData(x)):this.onData(y.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(B=!0)}while((0<_.avail_in||_.avail_out===0)&&U!==w.Z_STREAM_END);return U===w.Z_STREAM_END&&(j=w.Z_FINISH),j===w.Z_FINISH?(U=m.inflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===w.Z_OK):j!==w.Z_SYNC_FLUSH||(this.onEnd(w.Z_OK),!(_.avail_out=0))},C.prototype.onData=function(F){this.chunks.push(F)},C.prototype.onEnd=function(F){F===w.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=F,this.msg=this.strm.msg},b.Inflate=C,b.inflate=M,b.inflateRaw=function(F,$){return($=$||{}).raw=!0,M(F,$)},b.ungzip=M},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(h,g,b){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";b.assign=function(w){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var A=E.shift();if(A){if(typeof A!="object")throw new TypeError(A+"must be non-object");for(var D in A)A.hasOwnProperty(D)&&(w[D]=A[D])}}return w},b.shrinkBuf=function(w,E){return w.length===E?w:w.subarray?w.subarray(0,E):(w.length=E,w)};var y={arraySet:function(w,E,A,D,L){if(E.subarray&&w.subarray)w.set(E.subarray(A,A+D),L);else for(var C=0;C<D;C++)w[L+C]=E[A+C]},flattenChunks:function(w){var E,A,D,L,C,M;for(E=D=0,A=w.length;E<A;E++)D+=w[E].length;for(M=new Uint8Array(D),E=L=0,A=w.length;E<A;E++)C=w[E],M.set(C,L),L+=C.length;return M}},v={arraySet:function(w,E,A,D,L){for(var C=0;C<D;C++)w[L+C]=E[A+C]},flattenChunks:function(w){return[].concat.apply([],w)}};b.setTyped=function(w){w?(b.Buf8=Uint8Array,b.Buf16=Uint16Array,b.Buf32=Int32Array,b.assign(b,y)):(b.Buf8=Array,b.Buf16=Array,b.Buf32=Array,b.assign(b,v))},b.setTyped(m)},{}],42:[function(h,g,b){var m=h("./common"),y=!0,v=!0;try{String.fromCharCode.apply(null,[0])}catch{y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{v=!1}for(var w=new m.Buf8(256),E=0;E<256;E++)w[E]=252<=E?6:248<=E?5:240<=E?4:224<=E?3:192<=E?2:1;function A(D,L){if(L<65537&&(D.subarray&&v||!D.subarray&&y))return String.fromCharCode.apply(null,m.shrinkBuf(D,L));for(var C="",M=0;M<L;M++)C+=String.fromCharCode(D[M]);return C}w[254]=w[254]=1,b.string2buf=function(D){var L,C,M,F,$,U=D.length,j=0;for(F=0;F<U;F++)(64512&(C=D.charCodeAt(F)))==55296&&F+1<U&&(64512&(M=D.charCodeAt(F+1)))==56320&&(C=65536+(C-55296<<10)+(M-56320),F++),j+=C<128?1:C<2048?2:C<65536?3:4;for(L=new m.Buf8(j),F=$=0;$<j;F++)(64512&(C=D.charCodeAt(F)))==55296&&F+1<U&&(64512&(M=D.charCodeAt(F+1)))==56320&&(C=65536+(C-55296<<10)+(M-56320),F++),C<128?L[$++]=C:(C<2048?L[$++]=192|C>>>6:(C<65536?L[$++]=224|C>>>12:(L[$++]=240|C>>>18,L[$++]=128|C>>>12&63),L[$++]=128|C>>>6&63),L[$++]=128|63&C);return L},b.buf2binstring=function(D){return A(D,D.length)},b.binstring2buf=function(D){for(var L=new m.Buf8(D.length),C=0,M=L.length;C<M;C++)L[C]=D.charCodeAt(C);return L},b.buf2string=function(D,L){var C,M,F,$,U=L||D.length,j=new Array(2*U);for(C=M=0;C<U;)if((F=D[C++])<128)j[M++]=F;else if(4<($=w[F]))j[M++]=65533,C+=$-1;else{for(F&=$===2?31:$===3?15:7;1<$&&C<U;)F=F<<6|63&D[C++],$--;1<$?j[M++]=65533:F<65536?j[M++]=F:(F-=65536,j[M++]=55296|F>>10&1023,j[M++]=56320|1023&F)}return A(j,M)},b.utf8border=function(D,L){var C;for((L=L||D.length)>D.length&&(L=D.length),C=L-1;0<=C&&(192&D[C])==128;)C--;return C<0||C===0?L:C+w[D[C]]>L?C:L}},{"./common":41}],43:[function(h,g,b){g.exports=function(m,y,v,w){for(var E=65535&m|0,A=m>>>16&65535|0,D=0;v!==0;){for(v-=D=2e3<v?2e3:v;A=A+(E=E+y[w++]|0)|0,--D;);E%=65521,A%=65521}return E|A<<16|0}},{}],44:[function(h,g,b){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(h,g,b){var m=function(){for(var y,v=[],w=0;w<256;w++){y=w;for(var E=0;E<8;E++)y=1&y?3988292384^y>>>1:y>>>1;v[w]=y}return v}();g.exports=function(y,v,w,E){var A=m,D=E+w;y^=-1;for(var L=E;L<D;L++)y=y>>>8^A[255&(y^v[L])];return-1^y}},{}],46:[function(h,g,b){var m,y=h("../utils/common"),v=h("./trees"),w=h("./adler32"),E=h("./crc32"),A=h("./messages"),D=-2,L=258,C=262,M=113;function F(z,X){return z.msg=A[X],X}function $(z){return(z<<1)-(4<z?9:0)}function U(z){for(var X=z.length;0<=--X;)z[X]=0}function j(z){var X=z.state,O=X.pending;O>z.avail_out&&(O=z.avail_out),O!==0&&(y.arraySet(z.output,X.pending_buf,X.pending_out,O,z.next_out),z.next_out+=O,X.pending_out+=O,z.total_out+=O,z.avail_out-=O,X.pending-=O,X.pending===0&&(X.pending_out=0))}function P(z,X){v._tr_flush_block(z,0<=z.block_start?z.block_start:-1,z.strstart-z.block_start,X),z.block_start=z.strstart,j(z.strm)}function N(z,X){z.pending_buf[z.pending++]=X}function x(z,X){z.pending_buf[z.pending++]=X>>>8&255,z.pending_buf[z.pending++]=255&X}function S(z,X){var O,R,H=z.max_chain_length,G=z.strstart,ee=z.prev_length,Z=z.nice_match,te=z.strstart>z.w_size-C?z.strstart-(z.w_size-C):0,oe=z.window,le=z.w_mask,Y=z.prev,ie=z.strstart+L,se=oe[G+ee-1],de=oe[G+ee];z.prev_length>=z.good_match&&(H>>=2),Z>z.lookahead&&(Z=z.lookahead);do if(oe[(O=X)+ee]===de&&oe[O+ee-1]===se&&oe[O]===oe[G]&&oe[++O]===oe[G+1]){G+=2,O++;do;while(oe[++G]===oe[++O]&&oe[++G]===oe[++O]&&oe[++G]===oe[++O]&&oe[++G]===oe[++O]&&oe[++G]===oe[++O]&&oe[++G]===oe[++O]&&oe[++G]===oe[++O]&&oe[++G]===oe[++O]&&G<ie);if(R=L-(ie-G),G=ie-L,ee<R){if(z.match_start=X,Z<=(ee=R))break;se=oe[G+ee-1],de=oe[G+ee]}}while((X=Y[X&le])>te&&--H!=0);return ee<=z.lookahead?ee:z.lookahead}function _(z){var X,O,R,H,G,ee,Z,te,oe,le,Y=z.w_size;do{if(H=z.window_size-z.lookahead-z.strstart,z.strstart>=Y+(Y-C)){for(y.arraySet(z.window,z.window,Y,Y,0),z.match_start-=Y,z.strstart-=Y,z.block_start-=Y,X=O=z.hash_size;R=z.head[--X],z.head[X]=Y<=R?R-Y:0,--O;);for(X=O=Y;R=z.prev[--X],z.prev[X]=Y<=R?R-Y:0,--O;);H+=Y}if(z.strm.avail_in===0)break;if(ee=z.strm,Z=z.window,te=z.strstart+z.lookahead,le=void 0,(oe=H)<(le=ee.avail_in)&&(le=oe),O=le===0?0:(ee.avail_in-=le,y.arraySet(Z,ee.input,ee.next_in,le,te),ee.state.wrap===1?ee.adler=w(ee.adler,Z,le,te):ee.state.wrap===2&&(ee.adler=E(ee.adler,Z,le,te)),ee.next_in+=le,ee.total_in+=le,le),z.lookahead+=O,z.lookahead+z.insert>=3)for(G=z.strstart-z.insert,z.ins_h=z.window[G],z.ins_h=(z.ins_h<<z.hash_shift^z.window[G+1])&z.hash_mask;z.insert&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[G+3-1])&z.hash_mask,z.prev[G&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=G,G++,z.insert--,!(z.lookahead+z.insert<3)););}while(z.lookahead<C&&z.strm.avail_in!==0)}function k(z,X){for(var O,R;;){if(z.lookahead<C){if(_(z),z.lookahead<C&&X===0)return 1;if(z.lookahead===0)break}if(O=0,z.lookahead>=3&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,O=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),O!==0&&z.strstart-O<=z.w_size-C&&(z.match_length=S(z,O)),z.match_length>=3)if(R=v._tr_tally(z,z.strstart-z.match_start,z.match_length-3),z.lookahead-=z.match_length,z.match_length<=z.max_lazy_match&&z.lookahead>=3){for(z.match_length--;z.strstart++,z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,O=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart,--z.match_length!=0;);z.strstart++}else z.strstart+=z.match_length,z.match_length=0,z.ins_h=z.window[z.strstart],z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+1])&z.hash_mask;else R=v._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++;if(R&&(P(z,!1),z.strm.avail_out===0))return 1}return z.insert=z.strstart<2?z.strstart:2,X===4?(P(z,!0),z.strm.avail_out===0?3:4):z.last_lit&&(P(z,!1),z.strm.avail_out===0)?1:2}function T(z,X){for(var O,R,H;;){if(z.lookahead<C){if(_(z),z.lookahead<C&&X===0)return 1;if(z.lookahead===0)break}if(O=0,z.lookahead>=3&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,O=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),z.prev_length=z.match_length,z.prev_match=z.match_start,z.match_length=2,O!==0&&z.prev_length<z.max_lazy_match&&z.strstart-O<=z.w_size-C&&(z.match_length=S(z,O),z.match_length<=5&&(z.strategy===1||z.match_length===3&&4096<z.strstart-z.match_start)&&(z.match_length=2)),z.prev_length>=3&&z.match_length<=z.prev_length){for(H=z.strstart+z.lookahead-3,R=v._tr_tally(z,z.strstart-1-z.prev_match,z.prev_length-3),z.lookahead-=z.prev_length-1,z.prev_length-=2;++z.strstart<=H&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,O=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),--z.prev_length!=0;);if(z.match_available=0,z.match_length=2,z.strstart++,R&&(P(z,!1),z.strm.avail_out===0))return 1}else if(z.match_available){if((R=v._tr_tally(z,0,z.window[z.strstart-1]))&&P(z,!1),z.strstart++,z.lookahead--,z.strm.avail_out===0)return 1}else z.match_available=1,z.strstart++,z.lookahead--}return z.match_available&&(R=v._tr_tally(z,0,z.window[z.strstart-1]),z.match_available=0),z.insert=z.strstart<2?z.strstart:2,X===4?(P(z,!0),z.strm.avail_out===0?3:4):z.last_lit&&(P(z,!1),z.strm.avail_out===0)?1:2}function B(z,X,O,R,H){this.good_length=z,this.max_lazy=X,this.nice_length=O,this.max_chain=R,this.func=H}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(1146),this.dyn_dtree=new y.Buf16(122),this.bl_tree=new y.Buf16(78),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(16),this.heap=new y.Buf16(573),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(573),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function q(z){var X;return z&&z.state?(z.total_in=z.total_out=0,z.data_type=2,(X=z.state).pending=0,X.pending_out=0,X.wrap<0&&(X.wrap=-X.wrap),X.status=X.wrap?42:M,z.adler=X.wrap===2?0:1,X.last_flush=0,v._tr_init(X),0):F(z,D)}function W(z){var X=q(z);return X===0&&function(O){O.window_size=2*O.w_size,U(O.head),O.max_lazy_match=m[O.level].max_lazy,O.good_match=m[O.level].good_length,O.nice_match=m[O.level].nice_length,O.max_chain_length=m[O.level].max_chain,O.strstart=0,O.block_start=0,O.lookahead=0,O.insert=0,O.match_length=O.prev_length=2,O.match_available=0,O.ins_h=0}(z.state),X}function J(z,X,O,R,H,G){if(!z)return D;var ee=1;if(X===-1&&(X=6),R<0?(ee=0,R=-R):15<R&&(ee=2,R-=16),H<1||9<H||O!==8||R<8||15<R||X<0||9<X||G<0||4<G)return F(z,D);R===8&&(R=9);var Z=new V;return(z.state=Z).strm=z,Z.wrap=ee,Z.gzhead=null,Z.w_bits=R,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=H+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+3-1)/3),Z.window=new y.Buf8(2*Z.w_size),Z.head=new y.Buf16(Z.hash_size),Z.prev=new y.Buf16(Z.w_size),Z.lit_bufsize=1<<H+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new y.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=X,Z.strategy=G,Z.method=O,W(z)}m=[new B(0,0,0,0,function(z,X){var O=65535;for(O>z.pending_buf_size-5&&(O=z.pending_buf_size-5);;){if(z.lookahead<=1){if(_(z),z.lookahead===0&&X===0)return 1;if(z.lookahead===0)break}z.strstart+=z.lookahead,z.lookahead=0;var R=z.block_start+O;if((z.strstart===0||z.strstart>=R)&&(z.lookahead=z.strstart-R,z.strstart=R,P(z,!1),z.strm.avail_out===0)||z.strstart-z.block_start>=z.w_size-C&&(P(z,!1),z.strm.avail_out===0))return 1}return z.insert=0,X===4?(P(z,!0),z.strm.avail_out===0?3:4):(z.strstart>z.block_start&&(P(z,!1),z.strm.avail_out),1)}),new B(4,4,8,4,k),new B(4,5,16,8,k),new B(4,6,32,32,k),new B(4,4,16,16,T),new B(8,16,32,32,T),new B(8,16,128,128,T),new B(8,32,128,256,T),new B(32,128,258,1024,T),new B(32,258,258,4096,T)],b.deflateInit=function(z,X){return J(z,X,8,15,8,0)},b.deflateInit2=J,b.deflateReset=W,b.deflateResetKeep=q,b.deflateSetHeader=function(z,X){return z&&z.state?z.state.wrap!==2?D:(z.state.gzhead=X,0):D},b.deflate=function(z,X){var O,R,H,G;if(!z||!z.state||5<X||X<0)return z?F(z,D):D;if(R=z.state,!z.output||!z.input&&z.avail_in!==0||R.status===666&&X!==4)return F(z,z.avail_out===0?-5:D);if(R.strm=z,O=R.last_flush,R.last_flush=X,R.status===42)if(R.wrap===2)z.adler=0,N(R,31),N(R,139),N(R,8),R.gzhead?(N(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),N(R,255&R.gzhead.time),N(R,R.gzhead.time>>8&255),N(R,R.gzhead.time>>16&255),N(R,R.gzhead.time>>24&255),N(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),N(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(N(R,255&R.gzhead.extra.length),N(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(z.adler=E(z.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(N(R,0),N(R,0),N(R,0),N(R,0),N(R,0),N(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),N(R,3),R.status=M);else{var ee=8+(R.w_bits-8<<4)<<8;ee|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(ee|=32),ee+=31-ee%31,R.status=M,x(R,ee),R.strstart!==0&&(x(R,z.adler>>>16),x(R,65535&z.adler)),z.adler=1}if(R.status===69)if(R.gzhead.extra){for(H=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>H&&(z.adler=E(z.adler,R.pending_buf,R.pending-H,H)),j(z),H=R.pending,R.pending!==R.pending_buf_size));)N(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>H&&(z.adler=E(z.adler,R.pending_buf,R.pending-H,H)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){H=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>H&&(z.adler=E(z.adler,R.pending_buf,R.pending-H,H)),j(z),H=R.pending,R.pending===R.pending_buf_size)){G=1;break}G=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,N(R,G)}while(G!==0);R.gzhead.hcrc&&R.pending>H&&(z.adler=E(z.adler,R.pending_buf,R.pending-H,H)),G===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){H=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>H&&(z.adler=E(z.adler,R.pending_buf,R.pending-H,H)),j(z),H=R.pending,R.pending===R.pending_buf_size)){G=1;break}G=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,N(R,G)}while(G!==0);R.gzhead.hcrc&&R.pending>H&&(z.adler=E(z.adler,R.pending_buf,R.pending-H,H)),G===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&j(z),R.pending+2<=R.pending_buf_size&&(N(R,255&z.adler),N(R,z.adler>>8&255),z.adler=0,R.status=M)):R.status=M),R.pending!==0){if(j(z),z.avail_out===0)return R.last_flush=-1,0}else if(z.avail_in===0&&$(X)<=$(O)&&X!==4)return F(z,-5);if(R.status===666&&z.avail_in!==0)return F(z,-5);if(z.avail_in!==0||R.lookahead!==0||X!==0&&R.status!==666){var Z=R.strategy===2?function(te,oe){for(var le;;){if(te.lookahead===0&&(_(te),te.lookahead===0)){if(oe===0)return 1;break}if(te.match_length=0,le=v._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++,le&&(P(te,!1),te.strm.avail_out===0))return 1}return te.insert=0,oe===4?(P(te,!0),te.strm.avail_out===0?3:4):te.last_lit&&(P(te,!1),te.strm.avail_out===0)?1:2}(R,X):R.strategy===3?function(te,oe){for(var le,Y,ie,se,de=te.window;;){if(te.lookahead<=L){if(_(te),te.lookahead<=L&&oe===0)return 1;if(te.lookahead===0)break}if(te.match_length=0,te.lookahead>=3&&0<te.strstart&&(Y=de[ie=te.strstart-1])===de[++ie]&&Y===de[++ie]&&Y===de[++ie]){se=te.strstart+L;do;while(Y===de[++ie]&&Y===de[++ie]&&Y===de[++ie]&&Y===de[++ie]&&Y===de[++ie]&&Y===de[++ie]&&Y===de[++ie]&&Y===de[++ie]&&ie<se);te.match_length=L-(se-ie),te.match_length>te.lookahead&&(te.match_length=te.lookahead)}if(te.match_length>=3?(le=v._tr_tally(te,1,te.match_length-3),te.lookahead-=te.match_length,te.strstart+=te.match_length,te.match_length=0):(le=v._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++),le&&(P(te,!1),te.strm.avail_out===0))return 1}return te.insert=0,oe===4?(P(te,!0),te.strm.avail_out===0?3:4):te.last_lit&&(P(te,!1),te.strm.avail_out===0)?1:2}(R,X):m[R.level].func(R,X);if(Z!==3&&Z!==4||(R.status=666),Z===1||Z===3)return z.avail_out===0&&(R.last_flush=-1),0;if(Z===2&&(X===1?v._tr_align(R):X!==5&&(v._tr_stored_block(R,0,0,!1),X===3&&(U(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),j(z),z.avail_out===0))return R.last_flush=-1,0}return X!==4?0:R.wrap<=0?1:(R.wrap===2?(N(R,255&z.adler),N(R,z.adler>>8&255),N(R,z.adler>>16&255),N(R,z.adler>>24&255),N(R,255&z.total_in),N(R,z.total_in>>8&255),N(R,z.total_in>>16&255),N(R,z.total_in>>24&255)):(x(R,z.adler>>>16),x(R,65535&z.adler)),j(z),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?0:1)},b.deflateEnd=function(z){var X;return z&&z.state?(X=z.state.status)!==42&&X!==69&&X!==73&&X!==91&&X!==103&&X!==M&&X!==666?F(z,D):(z.state=null,X===M?F(z,-3):0):D},b.deflateSetDictionary=function(z,X){var O,R,H,G,ee,Z,te,oe,le=X.length;if(!z||!z.state||(G=(O=z.state).wrap)===2||G===1&&O.status!==42||O.lookahead)return D;for(G===1&&(z.adler=w(z.adler,X,le,0)),O.wrap=0,le>=O.w_size&&(G===0&&(U(O.head),O.strstart=0,O.block_start=0,O.insert=0),oe=new y.Buf8(O.w_size),y.arraySet(oe,X,le-O.w_size,O.w_size,0),X=oe,le=O.w_size),ee=z.avail_in,Z=z.next_in,te=z.input,z.avail_in=le,z.next_in=0,z.input=X,_(O);O.lookahead>=3;){for(R=O.strstart,H=O.lookahead-2;O.ins_h=(O.ins_h<<O.hash_shift^O.window[R+3-1])&O.hash_mask,O.prev[R&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=R,R++,--H;);O.strstart=R,O.lookahead=2,_(O)}return O.strstart+=O.lookahead,O.block_start=O.strstart,O.insert=O.lookahead,O.lookahead=0,O.match_length=O.prev_length=2,O.match_available=0,z.next_in=Z,z.input=te,z.avail_in=ee,O.wrap=G,0},b.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(h,g,b){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(h,g,b){g.exports=function(m,y){var v,w,E,A,D,L,C,M,F,$,U,j,P,N,x,S,_,k,T,B,V,q,W,J,z;v=m.state,w=m.next_in,J=m.input,E=w+(m.avail_in-5),A=m.next_out,z=m.output,D=A-(y-m.avail_out),L=A+(m.avail_out-257),C=v.dmax,M=v.wsize,F=v.whave,$=v.wnext,U=v.window,j=v.hold,P=v.bits,N=v.lencode,x=v.distcode,S=(1<<v.lenbits)-1,_=(1<<v.distbits)-1;e:do{P<15&&(j+=J[w++]<<P,P+=8,j+=J[w++]<<P,P+=8),k=N[j&S];t:for(;;){if(j>>>=T=k>>>24,P-=T,(T=k>>>16&255)==0)z[A++]=65535&k;else{if(!(16&T)){if(!(64&T)){k=N[(65535&k)+(j&(1<<T)-1)];continue t}if(32&T){v.mode=12;break e}m.msg="invalid literal/length code",v.mode=30;break e}B=65535&k,(T&=15)&&(P<T&&(j+=J[w++]<<P,P+=8),B+=j&(1<<T)-1,j>>>=T,P-=T),P<15&&(j+=J[w++]<<P,P+=8,j+=J[w++]<<P,P+=8),k=x[j&_];r:for(;;){if(j>>>=T=k>>>24,P-=T,!(16&(T=k>>>16&255))){if(!(64&T)){k=x[(65535&k)+(j&(1<<T)-1)];continue r}m.msg="invalid distance code",v.mode=30;break e}if(V=65535&k,P<(T&=15)&&(j+=J[w++]<<P,(P+=8)<T&&(j+=J[w++]<<P,P+=8)),C<(V+=j&(1<<T)-1)){m.msg="invalid distance too far back",v.mode=30;break e}if(j>>>=T,P-=T,(T=A-D)<V){if(F<(T=V-T)&&v.sane){m.msg="invalid distance too far back",v.mode=30;break e}if(W=U,(q=0)===$){if(q+=M-T,T<B){for(B-=T;z[A++]=U[q++],--T;);q=A-V,W=z}}else if($<T){if(q+=M+$-T,(T-=$)<B){for(B-=T;z[A++]=U[q++],--T;);if(q=0,$<B){for(B-=T=$;z[A++]=U[q++],--T;);q=A-V,W=z}}}else if(q+=$-T,T<B){for(B-=T;z[A++]=U[q++],--T;);q=A-V,W=z}for(;2<B;)z[A++]=W[q++],z[A++]=W[q++],z[A++]=W[q++],B-=3;B&&(z[A++]=W[q++],1<B&&(z[A++]=W[q++]))}else{for(q=A-V;z[A++]=z[q++],z[A++]=z[q++],z[A++]=z[q++],2<(B-=3););B&&(z[A++]=z[q++],1<B&&(z[A++]=z[q++]))}break}}break}}while(w<E&&A<L);w-=B=P>>3,j&=(1<<(P-=B<<3))-1,m.next_in=w,m.next_out=A,m.avail_in=w<E?E-w+5:5-(w-E),m.avail_out=A<L?L-A+257:257-(A-L),v.hold=j,v.bits=P}},{}],49:[function(h,g,b){var m=h("../utils/common"),y=h("./adler32"),v=h("./crc32"),w=h("./inffast"),E=h("./inftrees"),A=-2;function D(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function L(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(S){var _;return S&&S.state?(_=S.state,S.total_in=S.total_out=_.total=0,S.msg="",_.wrap&&(S.adler=1&_.wrap),_.mode=1,_.last=0,_.havedict=0,_.dmax=32768,_.head=null,_.hold=0,_.bits=0,_.lencode=_.lendyn=new m.Buf32(852),_.distcode=_.distdyn=new m.Buf32(592),_.sane=1,_.back=-1,0):A}function M(S){var _;return S&&S.state?((_=S.state).wsize=0,_.whave=0,_.wnext=0,C(S)):A}function F(S,_){var k,T;return S&&S.state?(T=S.state,_<0?(k=0,_=-_):(k=1+(_>>4),_<48&&(_&=15)),_&&(_<8||15<_)?A:(T.window!==null&&T.wbits!==_&&(T.window=null),T.wrap=k,T.wbits=_,M(S))):A}function $(S,_){var k,T;return S?(T=new L,(S.state=T).window=null,(k=F(S,_))!==0&&(S.state=null),k):A}var U,j,P=!0;function N(S){if(P){var _;for(U=new m.Buf32(512),j=new m.Buf32(32),_=0;_<144;)S.lens[_++]=8;for(;_<256;)S.lens[_++]=9;for(;_<280;)S.lens[_++]=7;for(;_<288;)S.lens[_++]=8;for(E(1,S.lens,0,288,U,0,S.work,{bits:9}),_=0;_<32;)S.lens[_++]=5;E(2,S.lens,0,32,j,0,S.work,{bits:5}),P=!1}S.lencode=U,S.lenbits=9,S.distcode=j,S.distbits=5}function x(S,_,k,T){var B,V=S.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new m.Buf8(V.wsize)),T>=V.wsize?(m.arraySet(V.window,_,k-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):(T<(B=V.wsize-V.wnext)&&(B=T),m.arraySet(V.window,_,k-T,B,V.wnext),(T-=B)?(m.arraySet(V.window,_,k-T,T,0),V.wnext=T,V.whave=V.wsize):(V.wnext+=B,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=B))),0}b.inflateReset=M,b.inflateReset2=F,b.inflateResetKeep=C,b.inflateInit=function(S){return $(S,15)},b.inflateInit2=$,b.inflate=function(S,_){var k,T,B,V,q,W,J,z,X,O,R,H,G,ee,Z,te,oe,le,Y,ie,se,de,ue,he,ge=0,be=new m.Buf8(4),xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return A;(k=S.state).mode===12&&(k.mode=13),q=S.next_out,B=S.output,J=S.avail_out,V=S.next_in,T=S.input,W=S.avail_in,z=k.hold,X=k.bits,O=W,R=J,de=0;e:for(;;)switch(k.mode){case 1:if(k.wrap===0){k.mode=13;break}for(;X<16;){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}if(2&k.wrap&&z===35615){be[k.check=0]=255&z,be[1]=z>>>8&255,k.check=v(k.check,be,2,0),X=z=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&z)<<8)+(z>>8))%31){S.msg="incorrect header check",k.mode=30;break}if((15&z)!=8){S.msg="unknown compression method",k.mode=30;break}if(X-=4,se=8+(15&(z>>>=4)),k.wbits===0)k.wbits=se;else if(se>k.wbits){S.msg="invalid window size",k.mode=30;break}k.dmax=1<<se,S.adler=k.check=1,k.mode=512&z?10:12,X=z=0;break;case 2:for(;X<16;){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}if(k.flags=z,(255&k.flags)!=8){S.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){S.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=z>>8&1),512&k.flags&&(be[0]=255&z,be[1]=z>>>8&255,k.check=v(k.check,be,2,0)),X=z=0,k.mode=3;case 3:for(;X<32;){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}k.head&&(k.head.time=z),512&k.flags&&(be[0]=255&z,be[1]=z>>>8&255,be[2]=z>>>16&255,be[3]=z>>>24&255,k.check=v(k.check,be,4,0)),X=z=0,k.mode=4;case 4:for(;X<16;){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}k.head&&(k.head.xflags=255&z,k.head.os=z>>8),512&k.flags&&(be[0]=255&z,be[1]=z>>>8&255,k.check=v(k.check,be,2,0)),X=z=0,k.mode=5;case 5:if(1024&k.flags){for(;X<16;){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}k.length=z,k.head&&(k.head.extra_len=z),512&k.flags&&(be[0]=255&z,be[1]=z>>>8&255,k.check=v(k.check,be,2,0)),X=z=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(W<(H=k.length)&&(H=W),H&&(k.head&&(se=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),m.arraySet(k.head.extra,T,V,H,se)),512&k.flags&&(k.check=v(k.check,T,H,V)),W-=H,V+=H,k.length-=H),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(W===0)break e;for(H=0;se=T[V+H++],k.head&&se&&k.length<65536&&(k.head.name+=String.fromCharCode(se)),se&&H<W;);if(512&k.flags&&(k.check=v(k.check,T,H,V)),W-=H,V+=H,se)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(W===0)break e;for(H=0;se=T[V+H++],k.head&&se&&k.length<65536&&(k.head.comment+=String.fromCharCode(se)),se&&H<W;);if(512&k.flags&&(k.check=v(k.check,T,H,V)),W-=H,V+=H,se)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;X<16;){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}if(z!==(65535&k.check)){S.msg="header crc mismatch",k.mode=30;break}X=z=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),S.adler=k.check=0,k.mode=12;break;case 10:for(;X<32;){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}S.adler=k.check=D(z),X=z=0,k.mode=11;case 11:if(k.havedict===0)return S.next_out=q,S.avail_out=J,S.next_in=V,S.avail_in=W,k.hold=z,k.bits=X,2;S.adler=k.check=1,k.mode=12;case 12:if(_===5||_===6)break e;case 13:if(k.last){z>>>=7&X,X-=7&X,k.mode=27;break}for(;X<3;){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}switch(k.last=1&z,X-=1,3&(z>>>=1)){case 0:k.mode=14;break;case 1:if(N(k),k.mode=20,_!==6)break;z>>>=2,X-=2;break e;case 2:k.mode=17;break;case 3:S.msg="invalid block type",k.mode=30}z>>>=2,X-=2;break;case 14:for(z>>>=7&X,X-=7&X;X<32;){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}if((65535&z)!=(z>>>16^65535)){S.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&z,X=z=0,k.mode=15,_===6)break e;case 15:k.mode=16;case 16:if(H=k.length){if(W<H&&(H=W),J<H&&(H=J),H===0)break e;m.arraySet(B,T,V,H,q),W-=H,V+=H,J-=H,q+=H,k.length-=H;break}k.mode=12;break;case 17:for(;X<14;){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}if(k.nlen=257+(31&z),z>>>=5,X-=5,k.ndist=1+(31&z),z>>>=5,X-=5,k.ncode=4+(15&z),z>>>=4,X-=4,286<k.nlen||30<k.ndist){S.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;X<3;){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}k.lens[xe[k.have++]]=7&z,z>>>=3,X-=3}for(;k.have<19;)k.lens[xe[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,ue={bits:k.lenbits},de=E(0,k.lens,0,19,k.lencode,0,k.work,ue),k.lenbits=ue.bits,de){S.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;te=(ge=k.lencode[z&(1<<k.lenbits)-1])>>>16&255,oe=65535&ge,!((Z=ge>>>24)<=X);){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}if(oe<16)z>>>=Z,X-=Z,k.lens[k.have++]=oe;else{if(oe===16){for(he=Z+2;X<he;){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}if(z>>>=Z,X-=Z,k.have===0){S.msg="invalid bit length repeat",k.mode=30;break}se=k.lens[k.have-1],H=3+(3&z),z>>>=2,X-=2}else if(oe===17){for(he=Z+3;X<he;){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}X-=Z,se=0,H=3+(7&(z>>>=Z)),z>>>=3,X-=3}else{for(he=Z+7;X<he;){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}X-=Z,se=0,H=11+(127&(z>>>=Z)),z>>>=7,X-=7}if(k.have+H>k.nlen+k.ndist){S.msg="invalid bit length repeat",k.mode=30;break}for(;H--;)k.lens[k.have++]=se}}if(k.mode===30)break;if(k.lens[256]===0){S.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,ue={bits:k.lenbits},de=E(1,k.lens,0,k.nlen,k.lencode,0,k.work,ue),k.lenbits=ue.bits,de){S.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,ue={bits:k.distbits},de=E(2,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,ue),k.distbits=ue.bits,de){S.msg="invalid distances set",k.mode=30;break}if(k.mode=20,_===6)break e;case 20:k.mode=21;case 21:if(6<=W&&258<=J){S.next_out=q,S.avail_out=J,S.next_in=V,S.avail_in=W,k.hold=z,k.bits=X,w(S,R),q=S.next_out,B=S.output,J=S.avail_out,V=S.next_in,T=S.input,W=S.avail_in,z=k.hold,X=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;te=(ge=k.lencode[z&(1<<k.lenbits)-1])>>>16&255,oe=65535&ge,!((Z=ge>>>24)<=X);){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}if(te&&!(240&te)){for(le=Z,Y=te,ie=oe;te=(ge=k.lencode[ie+((z&(1<<le+Y)-1)>>le)])>>>16&255,oe=65535&ge,!(le+(Z=ge>>>24)<=X);){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}z>>>=le,X-=le,k.back+=le}if(z>>>=Z,X-=Z,k.back+=Z,k.length=oe,te===0){k.mode=26;break}if(32&te){k.back=-1,k.mode=12;break}if(64&te){S.msg="invalid literal/length code",k.mode=30;break}k.extra=15&te,k.mode=22;case 22:if(k.extra){for(he=k.extra;X<he;){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}k.length+=z&(1<<k.extra)-1,z>>>=k.extra,X-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;te=(ge=k.distcode[z&(1<<k.distbits)-1])>>>16&255,oe=65535&ge,!((Z=ge>>>24)<=X);){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}if(!(240&te)){for(le=Z,Y=te,ie=oe;te=(ge=k.distcode[ie+((z&(1<<le+Y)-1)>>le)])>>>16&255,oe=65535&ge,!(le+(Z=ge>>>24)<=X);){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}z>>>=le,X-=le,k.back+=le}if(z>>>=Z,X-=Z,k.back+=Z,64&te){S.msg="invalid distance code",k.mode=30;break}k.offset=oe,k.extra=15&te,k.mode=24;case 24:if(k.extra){for(he=k.extra;X<he;){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}k.offset+=z&(1<<k.extra)-1,z>>>=k.extra,X-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){S.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(J===0)break e;if(H=R-J,k.offset>H){if((H=k.offset-H)>k.whave&&k.sane){S.msg="invalid distance too far back",k.mode=30;break}G=H>k.wnext?(H-=k.wnext,k.wsize-H):k.wnext-H,H>k.length&&(H=k.length),ee=k.window}else ee=B,G=q-k.offset,H=k.length;for(J<H&&(H=J),J-=H,k.length-=H;B[q++]=ee[G++],--H;);k.length===0&&(k.mode=21);break;case 26:if(J===0)break e;B[q++]=k.length,J--,k.mode=21;break;case 27:if(k.wrap){for(;X<32;){if(W===0)break e;W--,z|=T[V++]<<X,X+=8}if(R-=J,S.total_out+=R,k.total+=R,R&&(S.adler=k.check=k.flags?v(k.check,B,R,q-R):y(k.check,B,R,q-R)),R=J,(k.flags?z:D(z))!==k.check){S.msg="incorrect data check",k.mode=30;break}X=z=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;X<32;){if(W===0)break e;W--,z+=T[V++]<<X,X+=8}if(z!==(4294967295&k.total)){S.msg="incorrect length check",k.mode=30;break}X=z=0}k.mode=29;case 29:de=1;break e;case 30:de=-3;break e;case 31:return-4;case 32:default:return A}return S.next_out=q,S.avail_out=J,S.next_in=V,S.avail_in=W,k.hold=z,k.bits=X,(k.wsize||R!==S.avail_out&&k.mode<30&&(k.mode<27||_!==4))&&x(S,S.output,S.next_out,R-S.avail_out)?(k.mode=31,-4):(O-=S.avail_in,R-=S.avail_out,S.total_in+=O,S.total_out+=R,k.total+=R,k.wrap&&R&&(S.adler=k.check=k.flags?v(k.check,B,R,S.next_out-R):y(k.check,B,R,S.next_out-R)),S.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(O==0&&R===0||_===4)&&de===0&&(de=-5),de)},b.inflateEnd=function(S){if(!S||!S.state)return A;var _=S.state;return _.window&&(_.window=null),S.state=null,0},b.inflateGetHeader=function(S,_){var k;return S&&S.state&&2&(k=S.state).wrap?((k.head=_).done=!1,0):A},b.inflateSetDictionary=function(S,_){var k,T=_.length;return S&&S.state?(k=S.state).wrap!==0&&k.mode!==11?A:k.mode===11&&y(1,_,T,0)!==k.check?-3:x(S,_,T,T)?(k.mode=31,-4):(k.havedict=1,0):A},b.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(h,g,b){var m=h("../utils/common"),y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],E=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(A,D,L,C,M,F,$,U){var j,P,N,x,S,_,k,T,B,V=U.bits,q=0,W=0,J=0,z=0,X=0,O=0,R=0,H=0,G=0,ee=0,Z=null,te=0,oe=new m.Buf16(16),le=new m.Buf16(16),Y=null,ie=0;for(q=0;q<=15;q++)oe[q]=0;for(W=0;W<C;W++)oe[D[L+W]]++;for(X=V,z=15;1<=z&&oe[z]===0;z--);if(z<X&&(X=z),z===0)return M[F++]=20971520,M[F++]=20971520,U.bits=1,0;for(J=1;J<z&&oe[J]===0;J++);for(X<J&&(X=J),q=H=1;q<=15;q++)if(H<<=1,(H-=oe[q])<0)return-1;if(0<H&&(A===0||z!==1))return-1;for(le[1]=0,q=1;q<15;q++)le[q+1]=le[q]+oe[q];for(W=0;W<C;W++)D[L+W]!==0&&($[le[D[L+W]]++]=W);if(_=A===0?(Z=Y=$,19):A===1?(Z=y,te-=257,Y=v,ie-=257,256):(Z=w,Y=E,-1),q=J,S=F,R=W=ee=0,N=-1,x=(G=1<<(O=X))-1,A===1&&852<G||A===2&&592<G)return 1;for(;;){for(k=q-R,B=$[W]<_?(T=0,$[W]):$[W]>_?(T=Y[ie+$[W]],Z[te+$[W]]):(T=96,0),j=1<<q-R,J=P=1<<O;M[S+(ee>>R)+(P-=j)]=k<<24|T<<16|B|0,P!==0;);for(j=1<<q-1;ee&j;)j>>=1;if(j!==0?(ee&=j-1,ee+=j):ee=0,W++,--oe[q]==0){if(q===z)break;q=D[L+$[W]]}if(X<q&&(ee&x)!==N){for(R===0&&(R=X),S+=J,H=1<<(O=q-R);O+R<z&&!((H-=oe[O+R])<=0);)O++,H<<=1;if(G+=1<<O,A===1&&852<G||A===2&&592<G)return 1;M[N=ee&x]=X<<24|O<<16|S-F|0}}return ee!==0&&(M[S+ee]=q-R<<24|64<<16|0),U.bits=X,0}},{"../utils/common":41}],51:[function(h,g,b){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(h,g,b){var m=h("../utils/common");function y(Y){for(var ie=Y.length;0<=--ie;)Y[ie]=0}var v=256,w=286,E=30,A=15,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(576);y(F);var $=new Array(60);y($);var U=new Array(512);y(U);var j=new Array(256);y(j);var P=new Array(29);y(P);var N,x,S,_=new Array(E);function k(Y,ie,se,de,ue){this.static_tree=Y,this.extra_bits=ie,this.extra_base=se,this.elems=de,this.max_length=ue,this.has_stree=Y&&Y.length}function T(Y,ie){this.dyn_tree=Y,this.max_code=0,this.stat_desc=ie}function B(Y){return Y<256?U[Y]:U[256+(Y>>>7)]}function V(Y,ie){Y.pending_buf[Y.pending++]=255&ie,Y.pending_buf[Y.pending++]=ie>>>8&255}function q(Y,ie,se){Y.bi_valid>16-se?(Y.bi_buf|=ie<<Y.bi_valid&65535,V(Y,Y.bi_buf),Y.bi_buf=ie>>16-Y.bi_valid,Y.bi_valid+=se-16):(Y.bi_buf|=ie<<Y.bi_valid&65535,Y.bi_valid+=se)}function W(Y,ie,se){q(Y,se[2*ie],se[2*ie+1])}function J(Y,ie){for(var se=0;se|=1&Y,Y>>>=1,se<<=1,0<--ie;);return se>>>1}function z(Y,ie,se){var de,ue,he=new Array(16),ge=0;for(de=1;de<=A;de++)he[de]=ge=ge+se[de-1]<<1;for(ue=0;ue<=ie;ue++){var be=Y[2*ue+1];be!==0&&(Y[2*ue]=J(he[be]++,be))}}function X(Y){var ie;for(ie=0;ie<w;ie++)Y.dyn_ltree[2*ie]=0;for(ie=0;ie<E;ie++)Y.dyn_dtree[2*ie]=0;for(ie=0;ie<19;ie++)Y.bl_tree[2*ie]=0;Y.dyn_ltree[512]=1,Y.opt_len=Y.static_len=0,Y.last_lit=Y.matches=0}function O(Y){8<Y.bi_valid?V(Y,Y.bi_buf):0<Y.bi_valid&&(Y.pending_buf[Y.pending++]=Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0}function R(Y,ie,se,de){var ue=2*ie,he=2*se;return Y[ue]<Y[he]||Y[ue]===Y[he]&&de[ie]<=de[se]}function H(Y,ie,se){for(var de=Y.heap[se],ue=se<<1;ue<=Y.heap_len&&(ue<Y.heap_len&&R(ie,Y.heap[ue+1],Y.heap[ue],Y.depth)&&ue++,!R(ie,de,Y.heap[ue],Y.depth));)Y.heap[se]=Y.heap[ue],se=ue,ue<<=1;Y.heap[se]=de}function G(Y,ie,se){var de,ue,he,ge,be=0;if(Y.last_lit!==0)for(;de=Y.pending_buf[Y.d_buf+2*be]<<8|Y.pending_buf[Y.d_buf+2*be+1],ue=Y.pending_buf[Y.l_buf+be],be++,de===0?W(Y,ue,ie):(W(Y,(he=j[ue])+v+1,ie),(ge=D[he])!==0&&q(Y,ue-=P[he],ge),W(Y,he=B(--de),se),(ge=L[he])!==0&&q(Y,de-=_[he],ge)),be<Y.last_lit;);W(Y,256,ie)}function ee(Y,ie){var se,de,ue,he=ie.dyn_tree,ge=ie.stat_desc.static_tree,be=ie.stat_desc.has_stree,xe=ie.stat_desc.elems,ke=-1;for(Y.heap_len=0,Y.heap_max=573,se=0;se<xe;se++)he[2*se]!==0?(Y.heap[++Y.heap_len]=ke=se,Y.depth[se]=0):he[2*se+1]=0;for(;Y.heap_len<2;)he[2*(ue=Y.heap[++Y.heap_len]=ke<2?++ke:0)]=1,Y.depth[ue]=0,Y.opt_len--,be&&(Y.static_len-=ge[2*ue+1]);for(ie.max_code=ke,se=Y.heap_len>>1;1<=se;se--)H(Y,he,se);for(ue=xe;se=Y.heap[1],Y.heap[1]=Y.heap[Y.heap_len--],H(Y,he,1),de=Y.heap[1],Y.heap[--Y.heap_max]=se,Y.heap[--Y.heap_max]=de,he[2*ue]=he[2*se]+he[2*de],Y.depth[ue]=(Y.depth[se]>=Y.depth[de]?Y.depth[se]:Y.depth[de])+1,he[2*se+1]=he[2*de+1]=ue,Y.heap[1]=ue++,H(Y,he,1),2<=Y.heap_len;);Y.heap[--Y.heap_max]=Y.heap[1],function(Ne,Re){var $e,Ce,Le,Be,Ae,Ee,Fe=Re.dyn_tree,qe=Re.max_code,ze=Re.stat_desc.static_tree,bt=Re.stat_desc.has_stree,At=Re.stat_desc.extra_bits,Ke=Re.stat_desc.extra_base,vt=Re.stat_desc.max_length,gt=0;for(Be=0;Be<=A;Be++)Ne.bl_count[Be]=0;for(Fe[2*Ne.heap[Ne.heap_max]+1]=0,$e=Ne.heap_max+1;$e<573;$e++)vt<(Be=Fe[2*Fe[2*(Ce=Ne.heap[$e])+1]+1]+1)&&(Be=vt,gt++),Fe[2*Ce+1]=Be,qe<Ce||(Ne.bl_count[Be]++,Ae=0,Ke<=Ce&&(Ae=At[Ce-Ke]),Ee=Fe[2*Ce],Ne.opt_len+=Ee*(Be+Ae),bt&&(Ne.static_len+=Ee*(ze[2*Ce+1]+Ae)));if(gt!==0){do{for(Be=vt-1;Ne.bl_count[Be]===0;)Be--;Ne.bl_count[Be]--,Ne.bl_count[Be+1]+=2,Ne.bl_count[vt]--,gt-=2}while(0<gt);for(Be=vt;Be!==0;Be--)for(Ce=Ne.bl_count[Be];Ce!==0;)qe<(Le=Ne.heap[--$e])||(Fe[2*Le+1]!==Be&&(Ne.opt_len+=(Be-Fe[2*Le+1])*Fe[2*Le],Fe[2*Le+1]=Be),Ce--)}}(Y,ie),z(he,ke,Y.bl_count)}function Z(Y,ie,se){var de,ue,he=-1,ge=ie[1],be=0,xe=7,ke=4;for(ge===0&&(xe=138,ke=3),ie[2*(se+1)+1]=65535,de=0;de<=se;de++)ue=ge,ge=ie[2*(de+1)+1],++be<xe&&ue===ge||(be<ke?Y.bl_tree[2*ue]+=be:ue!==0?(ue!==he&&Y.bl_tree[2*ue]++,Y.bl_tree[32]++):be<=10?Y.bl_tree[34]++:Y.bl_tree[36]++,he=ue,ke=(be=0)===ge?(xe=138,3):ue===ge?(xe=6,3):(xe=7,4))}function te(Y,ie,se){var de,ue,he=-1,ge=ie[1],be=0,xe=7,ke=4;for(ge===0&&(xe=138,ke=3),de=0;de<=se;de++)if(ue=ge,ge=ie[2*(de+1)+1],!(++be<xe&&ue===ge)){if(be<ke)for(;W(Y,ue,Y.bl_tree),--be!=0;);else ue!==0?(ue!==he&&(W(Y,ue,Y.bl_tree),be--),W(Y,16,Y.bl_tree),q(Y,be-3,2)):be<=10?(W(Y,17,Y.bl_tree),q(Y,be-3,3)):(W(Y,18,Y.bl_tree),q(Y,be-11,7));he=ue,ke=(be=0)===ge?(xe=138,3):ue===ge?(xe=6,3):(xe=7,4)}}y(_);var oe=!1;function le(Y,ie,se,de){q(Y,0+(de?1:0),3),function(ue,he,ge,be){O(ue),V(ue,ge),V(ue,~ge),m.arraySet(ue.pending_buf,ue.window,he,ge,ue.pending),ue.pending+=ge}(Y,ie,se)}b._tr_init=function(Y){oe||(function(){var ie,se,de,ue,he,ge=new Array(16);for(ue=de=0;ue<28;ue++)for(P[ue]=de,ie=0;ie<1<<D[ue];ie++)j[de++]=ue;for(j[de-1]=ue,ue=he=0;ue<16;ue++)for(_[ue]=he,ie=0;ie<1<<L[ue];ie++)U[he++]=ue;for(he>>=7;ue<E;ue++)for(_[ue]=he<<7,ie=0;ie<1<<L[ue]-7;ie++)U[256+he++]=ue;for(se=0;se<=A;se++)ge[se]=0;for(ie=0;ie<=143;)F[2*ie+1]=8,ie++,ge[8]++;for(;ie<=255;)F[2*ie+1]=9,ie++,ge[9]++;for(;ie<=279;)F[2*ie+1]=7,ie++,ge[7]++;for(;ie<=287;)F[2*ie+1]=8,ie++,ge[8]++;for(z(F,287,ge),ie=0;ie<E;ie++)$[2*ie+1]=5,$[2*ie]=J(ie,5);N=new k(F,D,257,w,A),x=new k($,L,0,E,A),S=new k(new Array(0),C,0,19,7)}(),oe=!0),Y.l_desc=new T(Y.dyn_ltree,N),Y.d_desc=new T(Y.dyn_dtree,x),Y.bl_desc=new T(Y.bl_tree,S),Y.bi_buf=0,Y.bi_valid=0,X(Y)},b._tr_stored_block=le,b._tr_flush_block=function(Y,ie,se,de){var ue,he,ge=0;0<Y.level?(Y.strm.data_type===2&&(Y.strm.data_type=function(be){var xe,ke=4093624447;for(xe=0;xe<=31;xe++,ke>>>=1)if(1&ke&&be.dyn_ltree[2*xe]!==0)return 0;if(be.dyn_ltree[18]!==0||be.dyn_ltree[20]!==0||be.dyn_ltree[26]!==0)return 1;for(xe=32;xe<v;xe++)if(be.dyn_ltree[2*xe]!==0)return 1;return 0}(Y)),ee(Y,Y.l_desc),ee(Y,Y.d_desc),ge=function(be){var xe;for(Z(be,be.dyn_ltree,be.l_desc.max_code),Z(be,be.dyn_dtree,be.d_desc.max_code),ee(be,be.bl_desc),xe=18;3<=xe&&be.bl_tree[2*M[xe]+1]===0;xe--);return be.opt_len+=3*(xe+1)+5+5+4,xe}(Y),ue=Y.opt_len+3+7>>>3,(he=Y.static_len+3+7>>>3)<=ue&&(ue=he)):ue=he=se+5,se+4<=ue&&ie!==-1?le(Y,ie,se,de):Y.strategy===4||he===ue?(q(Y,2+(de?1:0),3),G(Y,F,$)):(q(Y,4+(de?1:0),3),function(be,xe,ke,Ne){var Re;for(q(be,xe-257,5),q(be,ke-1,5),q(be,Ne-4,4),Re=0;Re<Ne;Re++)q(be,be.bl_tree[2*M[Re]+1],3);te(be,be.dyn_ltree,xe-1),te(be,be.dyn_dtree,ke-1)}(Y,Y.l_desc.max_code+1,Y.d_desc.max_code+1,ge+1),G(Y,Y.dyn_ltree,Y.dyn_dtree)),X(Y),de&&O(Y)},b._tr_tally=function(Y,ie,se){return Y.pending_buf[Y.d_buf+2*Y.last_lit]=ie>>>8&255,Y.pending_buf[Y.d_buf+2*Y.last_lit+1]=255&ie,Y.pending_buf[Y.l_buf+Y.last_lit]=255&se,Y.last_lit++,ie===0?Y.dyn_ltree[2*se]++:(Y.matches++,ie--,Y.dyn_ltree[2*(j[se]+v+1)]++,Y.dyn_dtree[2*B(ie)]++),Y.last_lit===Y.lit_bufsize-1},b._tr_align=function(Y){q(Y,2,3),W(Y,256,F),function(ie){ie.bi_valid===16?(V(ie,ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0):8<=ie.bi_valid&&(ie.pending_buf[ie.pending++]=255&ie.bi_buf,ie.bi_buf>>=8,ie.bi_valid-=8)}(Y)}},{"../utils/common":41}],53:[function(h,g,b){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(h,g,b){(function(m){(function(y,v){if(!y.setImmediate){var w,E,A,D,L=1,C={},M=!1,F=y.document,$=Object.getPrototypeOf&&Object.getPrototypeOf(y);$=$&&$.setTimeout?$:y,w={}.toString.call(y.process)==="[object process]"?function(N){s.nextTick(function(){j(N)})}:function(){if(y.postMessage&&!y.importScripts){var N=!0,x=y.onmessage;return y.onmessage=function(){N=!1},y.postMessage("","*"),y.onmessage=x,N}}()?(D="setImmediate$"+Math.random()+"$",y.addEventListener?y.addEventListener("message",P,!1):y.attachEvent("onmessage",P),function(N){y.postMessage(D+N,"*")}):y.MessageChannel?((A=new MessageChannel).port1.onmessage=function(N){j(N.data)},function(N){A.port2.postMessage(N)}):F&&"onreadystatechange"in F.createElement("script")?(E=F.documentElement,function(N){var x=F.createElement("script");x.onreadystatechange=function(){j(N),x.onreadystatechange=null,E.removeChild(x),x=null},E.appendChild(x)}):function(N){setTimeout(j,0,N)},$.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var x=new Array(arguments.length-1),S=0;S<x.length;S++)x[S]=arguments[S+1];var _={callback:N,args:x};return C[L]=_,w(L),L++},$.clearImmediate=U}function U(N){delete C[N]}function j(N){if(M)setTimeout(j,0,N);else{var x=C[N];if(x){M=!0;try{(function(S){var _=S.callback,k=S.args;switch(k.length){case 0:_();break;case 1:_(k[0]);break;case 2:_(k[0],k[1]);break;case 3:_(k[0],k[1],k[2]);break;default:_.apply(void 0,k)}})(x)}finally{U(N),M=!1}}}}function P(N){N.source===y&&typeof N.data=="string"&&N.data.indexOf(D)===0&&j(+N.data.slice(D.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,n,i){(function(s){(function(){var a=/[\\^$.*+?()[\]{}|]/g,c=RegExp(a.source),l=typeof s=="object"&&s&&s.Object===Object&&s,o=typeof self=="object"&&self&&self.Object===Object&&self,u=l||o||Function("return this")(),p=Object.prototype.toString,d=u.Symbol,h=d?d.prototype:void 0,g=h?h.toString:void 0;function b(m){if(typeof m=="string")return m;if(function(v){return typeof v=="symbol"||function(w){return!!w&&typeof w=="object"}(v)&&p.call(v)=="[object Symbol]"}(m))return g?g.call(m):"";var y=m+"";return y=="0"&&1/m==-1/0?"-0":y}n.exports=function(m){var y;return(m=(y=m)==null?"":b(y))&&c.test(m)?m.replace(a,"\\$&"):m}}).call(this)}).call(this,typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,n,i){(function(s){(function(){var a="[object Arguments]",c="[object Map]",l="[object Object]",o="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/,d=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,b=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[a]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y[c]=y["[object Number]"]=y[l]=y["[object RegExp]"]=y[o]=y["[object String]"]=y["[object WeakMap]"]=!1;var v=typeof s=="object"&&s&&s.Object===Object&&s,w=typeof self=="object"&&self&&self.Object===Object&&self,E=v||w||Function("return this")(),A=typeof i=="object"&&i&&!i.nodeType&&i,D=A&&typeof n=="object"&&n&&!n.nodeType&&n,L=D&&D.exports===A&&v.process,C=function(){try{return L&&L.binding("util")}catch{}}(),M=C&&C.isTypedArray;function F(ne,pe,we,Se){for(var Ue=-1,Te=ne?ne.length:0;++Ue<Te;){var Me=ne[Ue];pe(Se,Me,we(Me),ne)}return Se}function $(ne,pe){for(var we=-1,Se=ne?ne.length:0;++we<Se;)if(pe(ne[we],we,ne))return!0;return!1}function U(ne){var pe=!1;if(ne!=null&&typeof ne.toString!="function")try{pe=!!(ne+"")}catch{}return pe}function j(ne){var pe=-1,we=Array(ne.size);return ne.forEach(function(Se,Ue){we[++pe]=[Ue,Se]}),we}function P(ne){var pe=-1,we=Array(ne.size);return ne.forEach(function(Se){we[++pe]=Se}),we}var N,x,S,_=Array.prototype,k=Function.prototype,T=Object.prototype,B=E["__core-js_shared__"],V=(N=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",q=k.toString,W=T.hasOwnProperty,J=T.toString,z=RegExp("^"+q.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X=E.Symbol,O=E.Uint8Array,R=T.propertyIsEnumerable,H=_.splice,G=(x=Object.keys,S=Object,function(ne){return x(S(ne))}),ee=Xe(E,"DataView"),Z=Xe(E,"Map"),te=Xe(E,"Promise"),oe=Xe(E,"Set"),le=Xe(E,"WeakMap"),Y=Xe(Object,"create"),ie=fe(ee),se=fe(Z),de=fe(te),ue=fe(oe),he=fe(le),ge=X?X.prototype:void 0,be=ge?ge.valueOf:void 0,xe=ge?ge.toString:void 0;function ke(ne){var pe=-1,we=ne?ne.length:0;for(this.clear();++pe<we;){var Se=ne[pe];this.set(Se[0],Se[1])}}function Ne(ne){var pe=-1,we=ne?ne.length:0;for(this.clear();++pe<we;){var Se=ne[pe];this.set(Se[0],Se[1])}}function Re(ne){var pe=-1,we=ne?ne.length:0;for(this.clear();++pe<we;){var Se=ne[pe];this.set(Se[0],Se[1])}}function $e(ne){var pe=-1,we=ne?ne.length:0;for(this.__data__=new Re;++pe<we;)this.add(ne[pe])}function Ce(ne){this.__data__=new Ne(ne)}function Le(ne,pe){var we=Ye(ne)||et(ne)?function(Me,wt){for(var ut=-1,pt=Array(Me);++ut<Me;)pt[ut]=wt(ut);return pt}(ne.length,String):[],Se=we.length,Ue=!!Se;for(var Te in ne)!W.call(ne,Te)||Ue&&(Te=="length"||jt(Te,Se))||we.push(Te);return we}function Be(ne,pe){for(var we=ne.length;we--;)if(Oe(ne[we][0],pe))return we;return-1}function Ae(ne,pe,we,Se){return Fe(ne,function(Ue,Te,Me){pe(Se,Ue,we(Ue),Me)}),Se}ke.prototype.clear=function(){this.__data__=Y?Y(null):{}},ke.prototype.delete=function(ne){return this.has(ne)&&delete this.__data__[ne]},ke.prototype.get=function(ne){var pe=this.__data__;if(Y){var we=pe[ne];return we==="__lodash_hash_undefined__"?void 0:we}return W.call(pe,ne)?pe[ne]:void 0},ke.prototype.has=function(ne){var pe=this.__data__;return Y?pe[ne]!==void 0:W.call(pe,ne)},ke.prototype.set=function(ne,pe){return this.__data__[ne]=Y&&pe===void 0?"__lodash_hash_undefined__":pe,this},Ne.prototype.clear=function(){this.__data__=[]},Ne.prototype.delete=function(ne){var pe=this.__data__,we=Be(pe,ne);return!(we<0)&&(we==pe.length-1?pe.pop():H.call(pe,we,1),!0)},Ne.prototype.get=function(ne){var pe=this.__data__,we=Be(pe,ne);return we<0?void 0:pe[we][1]},Ne.prototype.has=function(ne){return Be(this.__data__,ne)>-1},Ne.prototype.set=function(ne,pe){var we=this.__data__,Se=Be(we,ne);return Se<0?we.push([ne,pe]):we[Se][1]=pe,this},Re.prototype.clear=function(){this.__data__={hash:new ke,map:new(Z||Ne),string:new ke}},Re.prototype.delete=function(ne){return kt(this,ne).delete(ne)},Re.prototype.get=function(ne){return kt(this,ne).get(ne)},Re.prototype.has=function(ne){return kt(this,ne).has(ne)},Re.prototype.set=function(ne,pe){return kt(this,ne).set(ne,pe),this},$e.prototype.add=$e.prototype.push=function(ne){return this.__data__.set(ne,"__lodash_hash_undefined__"),this},$e.prototype.has=function(ne){return this.__data__.has(ne)},Ce.prototype.clear=function(){this.__data__=new Ne},Ce.prototype.delete=function(ne){return this.__data__.delete(ne)},Ce.prototype.get=function(ne){return this.__data__.get(ne)},Ce.prototype.has=function(ne){return this.__data__.has(ne)},Ce.prototype.set=function(ne,pe){var we=this.__data__;if(we instanceof Ne){var Se=we.__data__;if(!Z||Se.length<199)return Se.push([ne,pe]),this;we=this.__data__=new Re(Se)}return we.set(ne,pe),this};var Ee,Fe=(Ee=function(ne,pe){return ne&&qe(ne,pe,sr)},function(ne,pe){if(ne==null)return ne;if(!Ge(ne))return Ee(ne,pe);for(var we=ne.length,Se=-1,Ue=Object(ne);++Se<we&&pe(Ue[Se],Se,Ue)!==!1;);return ne}),qe=function(ne){return function(pe,we,Se){for(var Ue=-1,Te=Object(pe),Me=Se(pe),wt=Me.length;wt--;){var ut=Me[++Ue];if(we(Te[ut],ut,Te)===!1)break}return pe}}();function ze(ne,pe){for(var we=0,Se=(pe=rt(pe,ne)?[pe]:nt(pe)).length;ne!=null&&we<Se;)ne=ne[ce(pe[we++])];return we&&we==Se?ne:void 0}function bt(ne,pe){return ne!=null&&pe in Object(ne)}function At(ne,pe,we,Se,Ue){return ne===pe||(ne==null||pe==null||!ft(ne)&&!Gt(pe)?ne!=ne&&pe!=pe:function(Te,Me,wt,ut,pt,Ze){var It=Ye(Te),Rt=Ye(Me),Ft="[object Array]",qt="[object Array]";It||(Ft=(Ft=xt(Te))==a?l:Ft),Rt||(qt=(qt=xt(Me))==a?l:qt);var dr=Ft==l&&!U(Te),Er=qt==l&&!U(Me),rn=Ft==qt;if(rn&&!dr)return Ze||(Ze=new Ce),It||Zt(Te)?St(Te,Me,wt,ut,pt,Ze):function(Tt,yt,On,Mt,pi,mr,Kr){switch(On){case"[object DataView]":if(Tt.byteLength!=yt.byteLength||Tt.byteOffset!=yt.byteOffset)return!1;Tt=Tt.buffer,yt=yt.buffer;case"[object ArrayBuffer]":return!(Tt.byteLength!=yt.byteLength||!Mt(new O(Tt),new O(yt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Oe(+Tt,+yt);case"[object Error]":return Tt.name==yt.name&&Tt.message==yt.message;case"[object RegExp]":case"[object String]":return Tt==yt+"";case c:var Yn=j;case o:var $i=2&mr;if(Yn||(Yn=P),Tt.size!=yt.size&&!$i)return!1;var da=Kr.get(Tt);if(da)return da==yt;mr|=1,Kr.set(Tt,yt);var Hi=St(Yn(Tt),Yn(yt),Mt,pi,mr,Kr);return Kr.delete(Tt),Hi;case"[object Symbol]":if(be)return be.call(Tt)==be.call(yt)}return!1}(Te,Me,Ft,wt,ut,pt,Ze);if(!(2&pt)){var Qn=dr&&W.call(Te,"__wrapped__"),Ui=Er&&W.call(Me,"__wrapped__");if(Qn||Ui){var nn=Qn?Te.value():Te,Dr=Ui?Me.value():Me;return Ze||(Ze=new Ce),wt(nn,Dr,ut,pt,Ze)}}return rn?(Ze||(Ze=new Ce),function(Tt,yt,On,Mt,pi,mr){var Kr=2&pi,Yn=sr(Tt),$i=Yn.length,da=sr(yt).length;if($i!=da&&!Kr)return!1;for(var Hi=$i;Hi--;){var Zn=Yn[Hi];if(!(Kr?Zn in yt:W.call(yt,Zn)))return!1}var uc=mr.get(Tt);if(uc&&mr.get(yt))return uc==yt;var Jn=!0;mr.set(Tt,yt),mr.set(yt,Tt);for(var Nn=Kr;++Hi<$i;){Zn=Yn[Hi];var Is=Tt[Zn],Rs=yt[Zn];if(Mt)var yo=Kr?Mt(Rs,Is,Zn,yt,Tt,mr):Mt(Is,Rs,Zn,Tt,yt,mr);if(!(yo===void 0?Is===Rs||On(Is,Rs,Mt,pi,mr):yo)){Jn=!1;break}Nn||(Nn=Zn=="constructor")}if(Jn&&!Nn){var Dn=Tt.constructor,ha=yt.constructor;Dn==ha||!("constructor"in Tt)||!("constructor"in yt)||typeof Dn=="function"&&Dn instanceof Dn&&typeof ha=="function"&&ha instanceof ha||(Jn=!1)}return mr.delete(Tt),mr.delete(yt),Jn}(Te,Me,wt,ut,pt,Ze)):!1}(ne,pe,At,we,Se,Ue))}function Ke(ne){return!(!ft(ne)||function(pe){return!!V&&V in pe}(ne))&&(st(ne)||U(ne)?z:b).test(fe(ne))}function vt(ne){return typeof ne=="function"?ne:ne==null?Nr:typeof ne=="object"?Ye(ne)?function(Se,Ue){return rt(Se)&&at(Ue)?Dt(ce(Se),Ue):function(Te){var Me=function(wt,ut,pt){var Ze=wt==null?void 0:ze(wt,ut);return Ze===void 0?pt:Ze}(Te,Se);return Me===void 0&&Me===Ue?function(wt,ut){return wt!=null&&function(pt,Ze,It){Ze=rt(Ze,pt)?[Ze]:nt(Ze);for(var Rt,Ft=-1,qt=Ze.length;++Ft<qt;){var dr=ce(Ze[Ft]);if(!(Rt=pt!=null&&It(pt,dr)))break;pt=pt[dr]}return Rt||!!(qt=pt?pt.length:0)&&Qe(qt)&&jt(dr,qt)&&(Ye(pt)||et(pt))}(wt,ut,bt)}(Te,Se):At(Ue,Me,void 0,3)}}(ne[0],ne[1]):function(Se){var Ue=function(Te){for(var Me=sr(Te),wt=Me.length;wt--;){var ut=Me[wt],pt=Te[ut];Me[wt]=[ut,pt,at(pt)]}return Me}(Se);return Ue.length==1&&Ue[0][2]?Dt(Ue[0][0],Ue[0][1]):function(Te){return Te===Se||function(Me,wt,ut,pt){var Ze=ut.length,It=Ze;if(Me==null)return!It;for(Me=Object(Me);Ze--;){var Rt=ut[Ze];if(Rt[2]?Rt[1]!==Me[Rt[0]]:!(Rt[0]in Me))return!1}for(;++Ze<It;){var Ft=(Rt=ut[Ze])[0],qt=Me[Ft],dr=Rt[1];if(Rt[2]){if(qt===void 0&&!(Ft in Me))return!1}else{var Er=new Ce,rn;if(!(rn===void 0?At(dr,qt,pt,3,Er):rn))return!1}}return!0}(Te,Se,Ue)}}(ne):rt(pe=ne)?(we=ce(pe),function(Se){return Se==null?void 0:Se[we]}):function(Se){return function(Ue){return ze(Ue,Se)}}(pe);var pe,we}function gt(ne){if(we=(pe=ne)&&pe.constructor,Se=typeof we=="function"&&we.prototype||T,pe!==Se)return G(ne);var pe,we,Se,Ue=[];for(var Te in Object(ne))W.call(ne,Te)&&Te!="constructor"&&Ue.push(Te);return Ue}function nt(ne){return Ye(ne)?ne:it(ne)}function St(ne,pe,we,Se,Ue,Te){var Me=2&Ue,wt=ne.length,ut=pe.length;if(wt!=ut&&!(Me&&ut>wt))return!1;var pt=Te.get(ne);if(pt&&Te.get(pe))return pt==pe;var Ze=-1,It=!0,Rt=1&Ue?new $e:void 0;for(Te.set(ne,pe),Te.set(pe,ne);++Ze<wt;){var Ft=ne[Ze],qt=pe[Ze];if(Se)var dr=Me?Se(qt,Ft,Ze,pe,ne,Te):Se(Ft,qt,Ze,ne,pe,Te);if(dr!==void 0){if(dr)continue;It=!1;break}if(Rt){if(!$(pe,function(Er,rn){if(!Rt.has(rn)&&(Ft===Er||we(Ft,Er,Se,Ue,Te)))return Rt.add(rn)})){It=!1;break}}else if(Ft!==qt&&!we(Ft,qt,Se,Ue,Te)){It=!1;break}}return Te.delete(ne),Te.delete(pe),It}function kt(ne,pe){var we,Se,Ue=ne.__data__;return((Se=typeof(we=pe))=="string"||Se=="number"||Se=="symbol"||Se=="boolean"?we!=="__proto__":we===null)?Ue[typeof pe=="string"?"string":"hash"]:Ue.map}function Xe(ne,pe){var we=function(Se,Ue){return Se==null?void 0:Se[Ue]}(ne,pe);return Ke(we)?we:void 0}var xt=function(ne){return J.call(ne)};function jt(ne,pe){return!!(pe=pe??9007199254740991)&&(typeof ne=="number"||m.test(ne))&&ne>-1&&ne%1==0&&ne<pe}function rt(ne,pe){if(Ye(ne))return!1;var we=typeof ne;return!(we!="number"&&we!="symbol"&&we!="boolean"&&ne!=null&&!Vt(ne))||p.test(ne)||!u.test(ne)||pe!=null&&ne in Object(pe)}function at(ne){return ne==ne&&!ft(ne)}function Dt(ne,pe){return function(we){return we!=null&&we[ne]===pe&&(pe!==void 0||ne in Object(we))}}(ee&&xt(new ee(new ArrayBuffer(1)))!="[object DataView]"||Z&&xt(new Z)!=c||te&&xt(te.resolve())!="[object Promise]"||oe&&xt(new oe)!=o||le&&xt(new le)!="[object WeakMap]")&&(xt=function(ne){var pe=J.call(ne),we=pe==l?ne.constructor:void 0,Se=we?fe(we):void 0;if(Se)switch(Se){case ie:return"[object DataView]";case se:return c;case de:return"[object Promise]";case ue:return o;case he:return"[object WeakMap]"}return pe});var it=Je(function(ne){var pe;ne=(pe=ne)==null?"":function(Se){if(typeof Se=="string")return Se;if(Vt(Se))return xe?xe.call(Se):"";var Ue=Se+"";return Ue=="0"&&1/Se==-1/0?"-0":Ue}(pe);var we=[];return d.test(ne)&&we.push(""),ne.replace(h,function(Se,Ue,Te,Me){we.push(Te?Me.replace(g,"$1"):Ue||Se)}),we});function ce(ne){if(typeof ne=="string"||Vt(ne))return ne;var pe=ne+"";return pe=="0"&&1/ne==-1/0?"-0":pe}function fe(ne){if(ne!=null){try{return q.call(ne)}catch{}try{return ne+""}catch{}}return""}var ye,Pe=(ye=function(ne,pe,we){W.call(ne,we)?ne[we].push(pe):ne[we]=[pe]},function(ne,pe){var we=Ye(ne)?F:Ae,Se={};return we(ne,ye,vt(pe),Se)});function Je(ne,pe){if(typeof ne!="function"||pe&&typeof pe!="function")throw new TypeError("Expected a function");var we=function(){var Se=arguments,Ue=pe?pe.apply(this,Se):Se[0],Te=we.cache;if(Te.has(Ue))return Te.get(Ue);var Me=ne.apply(this,Se);return we.cache=Te.set(Ue,Me),Me};return we.cache=new(Je.Cache||Re),we}function Oe(ne,pe){return ne===pe||ne!=ne&&pe!=pe}function et(ne){return function(pe){return Gt(pe)&&Ge(pe)}(ne)&&W.call(ne,"callee")&&(!R.call(ne,"callee")||J.call(ne)==a)}Je.Cache=Re;var Ye=Array.isArray;function Ge(ne){return ne!=null&&Qe(ne.length)&&!st(ne)}function st(ne){var pe=ft(ne)?J.call(ne):"";return pe=="[object Function]"||pe=="[object GeneratorFunction]"}function Qe(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=9007199254740991}function ft(ne){var pe=typeof ne;return!!ne&&(pe=="object"||pe=="function")}function Gt(ne){return!!ne&&typeof ne=="object"}function Vt(ne){return typeof ne=="symbol"||Gt(ne)&&J.call(ne)=="[object Symbol]"}var Zt=M?function(ne){return function(pe){return ne(pe)}}(M):function(ne){return Gt(ne)&&Qe(ne.length)&&!!y[J.call(ne)]};function sr(ne){return Ge(ne)?Le(ne):gt(ne)}function Nr(ne){return ne}n.exports=Pe}).call(this)}).call(this,typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,n,i){var s=Object.prototype.toString;n.exports=function(a){return a===!0||a===!1||function(c){return!!c&&typeof c=="object"}(a)&&s.call(a)=="[object Boolean]"}},{}],445:[function(e,n,i){(function(s){(function(){var a="[object Arguments]",c="[object Map]",l="[object Object]",o="[object Set]",u=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[a]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d[c]=d["[object Number]"]=d[l]=d["[object RegExp]"]=d[o]=d["[object String]"]=d["[object WeakMap]"]=!1;var h=typeof s=="object"&&s&&s.Object===Object&&s,g=typeof self=="object"&&self&&self.Object===Object&&self,b=h||g||Function("return this")(),m=typeof i=="object"&&i&&!i.nodeType&&i,y=m&&typeof n=="object"&&n&&!n.nodeType&&n,v=y&&y.exports===m,w=v&&h.process,E=function(){try{return w&&w.binding&&w.binding("util")}catch{}}(),A=E&&E.isTypedArray;function D(ce,fe){for(var ye=-1,Pe=ce==null?0:ce.length;++ye<Pe;)if(fe(ce[ye],ye,ce))return!0;return!1}function L(ce){var fe=-1,ye=Array(ce.size);return ce.forEach(function(Pe,Je){ye[++fe]=[Je,Pe]}),ye}function C(ce){var fe=-1,ye=Array(ce.size);return ce.forEach(function(Pe){ye[++fe]=Pe}),ye}var M,F,$,U=Array.prototype,j=Function.prototype,P=Object.prototype,N=b["__core-js_shared__"],x=j.toString,S=P.hasOwnProperty,_=(M=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"",k=P.toString,T=RegExp("^"+x.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=v?b.Buffer:void 0,V=b.Symbol,q=b.Uint8Array,W=P.propertyIsEnumerable,J=U.splice,z=V?V.toStringTag:void 0,X=Object.getOwnPropertySymbols,O=B?B.isBuffer:void 0,R=(F=Object.keys,$=Object,function(ce){return F($(ce))}),H=bt(b,"DataView"),G=bt(b,"Map"),ee=bt(b,"Promise"),Z=bt(b,"Set"),te=bt(b,"WeakMap"),oe=bt(Object,"create"),le=gt(H),Y=gt(G),ie=gt(ee),se=gt(Z),de=gt(te),ue=V?V.prototype:void 0,he=ue?ue.valueOf:void 0;function ge(ce){var fe=-1,ye=ce==null?0:ce.length;for(this.clear();++fe<ye;){var Pe=ce[fe];this.set(Pe[0],Pe[1])}}function be(ce){var fe=-1,ye=ce==null?0:ce.length;for(this.clear();++fe<ye;){var Pe=ce[fe];this.set(Pe[0],Pe[1])}}function xe(ce){var fe=-1,ye=ce==null?0:ce.length;for(this.clear();++fe<ye;){var Pe=ce[fe];this.set(Pe[0],Pe[1])}}function ke(ce){var fe=-1,ye=ce==null?0:ce.length;for(this.__data__=new xe;++fe<ye;)this.add(ce[fe])}function Ne(ce){var fe=this.__data__=new be(ce);this.size=fe.size}function Re(ce,fe){var ye=kt(ce),Pe=!ye&&St(ce),Je=!ye&&!Pe&&Xe(ce),Oe=!ye&&!Pe&&!Je&&Dt(ce),et=ye||Pe||Je||Oe,Ye=et?function(Qe,ft){for(var Gt=-1,Vt=Array(Qe);++Gt<Qe;)Vt[Gt]=ft(Gt);return Vt}(ce.length,String):[],Ge=Ye.length;for(var st in ce)!S.call(ce,st)||et&&(st=="length"||Je&&(st=="offset"||st=="parent")||Oe&&(st=="buffer"||st=="byteLength"||st=="byteOffset")||vt(st,Ge))||Ye.push(st);return Ye}function $e(ce,fe){for(var ye=ce.length;ye--;)if(nt(ce[ye][0],fe))return ye;return-1}function Ce(ce){return ce==null?ce===void 0?"[object Undefined]":"[object Null]":z&&z in Object(ce)?function(fe){var ye=S.call(fe,z),Pe=fe[z];try{fe[z]=void 0;var Je=!0}catch{}var Oe=k.call(fe);return Je&&(ye?fe[z]=Pe:delete fe[z]),Oe}(ce):function(fe){return k.call(fe)}(ce)}function Le(ce){return at(ce)&&Ce(ce)==a}function Be(ce,fe,ye,Pe,Je){return ce===fe||(ce==null||fe==null||!at(ce)&&!at(fe)?ce!=ce&&fe!=fe:function(Oe,et,Ye,Ge,st,Qe){var ft=kt(Oe),Gt=kt(et),Vt=ft?"[object Array]":Ke(Oe),Zt=Gt?"[object Array]":Ke(et),sr=(Vt=Vt==a?l:Vt)==l,Nr=(Zt=Zt==a?l:Zt)==l,ne=Vt==Zt;if(ne&&Xe(Oe)){if(!Xe(et))return!1;ft=!0,sr=!1}if(ne&&!sr)return Qe||(Qe=new Ne),ft||Dt(Oe)?Fe(Oe,et,Ye,Ge,st,Qe):function(Te,Me,wt,ut,pt,Ze,It){switch(wt){case"[object DataView]":if(Te.byteLength!=Me.byteLength||Te.byteOffset!=Me.byteOffset)return!1;Te=Te.buffer,Me=Me.buffer;case"[object ArrayBuffer]":return!(Te.byteLength!=Me.byteLength||!Ze(new q(Te),new q(Me)));case"[object Boolean]":case"[object Date]":case"[object Number]":return nt(+Te,+Me);case"[object Error]":return Te.name==Me.name&&Te.message==Me.message;case"[object RegExp]":case"[object String]":return Te==Me+"";case c:var Rt=L;case o:var Ft=1&ut;if(Rt||(Rt=C),Te.size!=Me.size&&!Ft)return!1;var qt=It.get(Te);if(qt)return qt==Me;ut|=2,It.set(Te,Me);var dr=Fe(Rt(Te),Rt(Me),ut,pt,Ze,It);return It.delete(Te),dr;case"[object Symbol]":if(he)return he.call(Te)==he.call(Me)}return!1}(Oe,et,Vt,Ye,Ge,st,Qe);if(!(1&Ye)){var pe=sr&&S.call(Oe,"__wrapped__"),we=Nr&&S.call(et,"__wrapped__");if(pe||we){var Se=pe?Oe.value():Oe,Ue=we?et.value():et;return Qe||(Qe=new Ne),st(Se,Ue,Ye,Ge,Qe)}}return ne?(Qe||(Qe=new Ne),function(Te,Me,wt,ut,pt,Ze){var It=1&wt,Rt=qe(Te),Ft=Rt.length,qt=qe(Me).length;if(Ft!=qt&&!It)return!1;for(var dr=Ft;dr--;){var Er=Rt[dr];if(!(It?Er in Me:S.call(Me,Er)))return!1}var rn=Ze.get(Te);if(rn&&Ze.get(Me))return rn==Me;var Qn=!0;Ze.set(Te,Me),Ze.set(Me,Te);for(var Ui=It;++dr<Ft;){Er=Rt[dr];var nn=Te[Er],Dr=Me[Er];if(ut)var Tt=It?ut(Dr,nn,Er,Me,Te,Ze):ut(nn,Dr,Er,Te,Me,Ze);if(!(Tt===void 0?nn===Dr||pt(nn,Dr,wt,ut,Ze):Tt)){Qn=!1;break}Ui||(Ui=Er=="constructor")}if(Qn&&!Ui){var yt=Te.constructor,On=Me.constructor;yt==On||!("constructor"in Te)||!("constructor"in Me)||typeof yt=="function"&&yt instanceof yt&&typeof On=="function"&&On instanceof On||(Qn=!1)}return Ze.delete(Te),Ze.delete(Me),Qn}(Oe,et,Ye,Ge,st,Qe)):!1}(ce,fe,ye,Pe,Be,Je))}function Ae(ce){return!(!rt(ce)||function(fe){return!!_&&_ in fe}(ce))&&(xt(ce)?T:u).test(gt(ce))}function Ee(ce){if(ye=(fe=ce)&&fe.constructor,Pe=typeof ye=="function"&&ye.prototype||P,fe!==Pe)return R(ce);var fe,ye,Pe,Je=[];for(var Oe in Object(ce))S.call(ce,Oe)&&Oe!="constructor"&&Je.push(Oe);return Je}function Fe(ce,fe,ye,Pe,Je,Oe){var et=1&ye,Ye=ce.length,Ge=fe.length;if(Ye!=Ge&&!(et&&Ge>Ye))return!1;var st=Oe.get(ce);if(st&&Oe.get(fe))return st==fe;var Qe=-1,ft=!0,Gt=2&ye?new ke:void 0;for(Oe.set(ce,fe),Oe.set(fe,ce);++Qe<Ye;){var Vt=ce[Qe],Zt=fe[Qe];if(Pe)var sr=et?Pe(Zt,Vt,Qe,fe,ce,Oe):Pe(Vt,Zt,Qe,ce,fe,Oe);if(sr!==void 0){if(sr)continue;ft=!1;break}if(Gt){if(!D(fe,function(Nr,ne){if(pe=ne,!Gt.has(pe)&&(Vt===Nr||Je(Vt,Nr,ye,Pe,Oe)))return Gt.push(ne);var pe})){ft=!1;break}}else if(Vt!==Zt&&!Je(Vt,Zt,ye,Pe,Oe)){ft=!1;break}}return Oe.delete(ce),Oe.delete(fe),ft}function qe(ce){return function(fe,ye,Pe){var Je=ye(fe);return kt(fe)?Je:function(Oe,et){for(var Ye=-1,Ge=et.length,st=Oe.length;++Ye<Ge;)Oe[st+Ye]=et[Ye];return Oe}(Je,Pe(fe))}(ce,it,At)}function ze(ce,fe){var ye,Pe,Je=ce.__data__;return((Pe=typeof(ye=fe))=="string"||Pe=="number"||Pe=="symbol"||Pe=="boolean"?ye!=="__proto__":ye===null)?Je[typeof fe=="string"?"string":"hash"]:Je.map}function bt(ce,fe){var ye=function(Pe,Je){return Pe==null?void 0:Pe[Je]}(ce,fe);return Ae(ye)?ye:void 0}ge.prototype.clear=function(){this.__data__=oe?oe(null):{},this.size=0},ge.prototype.delete=function(ce){var fe=this.has(ce)&&delete this.__data__[ce];return this.size-=fe?1:0,fe},ge.prototype.get=function(ce){var fe=this.__data__;if(oe){var ye=fe[ce];return ye==="__lodash_hash_undefined__"?void 0:ye}return S.call(fe,ce)?fe[ce]:void 0},ge.prototype.has=function(ce){var fe=this.__data__;return oe?fe[ce]!==void 0:S.call(fe,ce)},ge.prototype.set=function(ce,fe){var ye=this.__data__;return this.size+=this.has(ce)?0:1,ye[ce]=oe&&fe===void 0?"__lodash_hash_undefined__":fe,this},be.prototype.clear=function(){this.__data__=[],this.size=0},be.prototype.delete=function(ce){var fe=this.__data__,ye=$e(fe,ce);return!(ye<0)&&(ye==fe.length-1?fe.pop():J.call(fe,ye,1),--this.size,!0)},be.prototype.get=function(ce){var fe=this.__data__,ye=$e(fe,ce);return ye<0?void 0:fe[ye][1]},be.prototype.has=function(ce){return $e(this.__data__,ce)>-1},be.prototype.set=function(ce,fe){var ye=this.__data__,Pe=$e(ye,ce);return Pe<0?(++this.size,ye.push([ce,fe])):ye[Pe][1]=fe,this},xe.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(G||be),string:new ge}},xe.prototype.delete=function(ce){var fe=ze(this,ce).delete(ce);return this.size-=fe?1:0,fe},xe.prototype.get=function(ce){return ze(this,ce).get(ce)},xe.prototype.has=function(ce){return ze(this,ce).has(ce)},xe.prototype.set=function(ce,fe){var ye=ze(this,ce),Pe=ye.size;return ye.set(ce,fe),this.size+=ye.size==Pe?0:1,this},ke.prototype.add=ke.prototype.push=function(ce){return this.__data__.set(ce,"__lodash_hash_undefined__"),this},ke.prototype.has=function(ce){return this.__data__.has(ce)},Ne.prototype.clear=function(){this.__data__=new be,this.size=0},Ne.prototype.delete=function(ce){var fe=this.__data__,ye=fe.delete(ce);return this.size=fe.size,ye},Ne.prototype.get=function(ce){return this.__data__.get(ce)},Ne.prototype.has=function(ce){return this.__data__.has(ce)},Ne.prototype.set=function(ce,fe){var ye=this.__data__;if(ye instanceof be){var Pe=ye.__data__;if(!G||Pe.length<199)return Pe.push([ce,fe]),this.size=++ye.size,this;ye=this.__data__=new xe(Pe)}return ye.set(ce,fe),this.size=ye.size,this};var At=X?function(ce){return ce==null?[]:(ce=Object(ce),function(fe,ye){for(var Pe=-1,Je=fe==null?0:fe.length,Oe=0,et=[];++Pe<Je;){var Ye=fe[Pe];ye(Ye,Pe,fe)&&(et[Oe++]=Ye)}return et}(X(ce),function(fe){return W.call(ce,fe)}))}:function(){return[]},Ke=Ce;function vt(ce,fe){return!!(fe=fe??9007199254740991)&&(typeof ce=="number"||p.test(ce))&&ce>-1&&ce%1==0&&ce<fe}function gt(ce){if(ce!=null){try{return x.call(ce)}catch{}try{return ce+""}catch{}}return""}function nt(ce,fe){return ce===fe||ce!=ce&&fe!=fe}(H&&Ke(new H(new ArrayBuffer(1)))!="[object DataView]"||G&&Ke(new G)!=c||ee&&Ke(ee.resolve())!="[object Promise]"||Z&&Ke(new Z)!=o||te&&Ke(new te)!="[object WeakMap]")&&(Ke=function(ce){var fe=Ce(ce),ye=fe==l?ce.constructor:void 0,Pe=ye?gt(ye):"";if(Pe)switch(Pe){case le:return"[object DataView]";case Y:return c;case ie:return"[object Promise]";case se:return o;case de:return"[object WeakMap]"}return fe});var St=Le(function(){return arguments}())?Le:function(ce){return at(ce)&&S.call(ce,"callee")&&!W.call(ce,"callee")},kt=Array.isArray,Xe=O||function(){return!1};function xt(ce){if(!rt(ce))return!1;var fe=Ce(ce);return fe=="[object Function]"||fe=="[object GeneratorFunction]"||fe=="[object AsyncFunction]"||fe=="[object Proxy]"}function jt(ce){return typeof ce=="number"&&ce>-1&&ce%1==0&&ce<=9007199254740991}function rt(ce){var fe=typeof ce;return ce!=null&&(fe=="object"||fe=="function")}function at(ce){return ce!=null&&typeof ce=="object"}var Dt=A?function(ce){return function(fe){return ce(fe)}}(A):function(ce){return at(ce)&&jt(ce.length)&&!!d[Ce(ce)]};function it(ce){return(fe=ce)!=null&&jt(fe.length)&&!xt(fe)?Re(ce):Ee(ce);var fe}n.exports=function(ce,fe){return Be(ce,fe)}}).call(this)}).call(this,typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,n,i){(function(s){(function(){var a=typeof s=="object"&&s&&s.Object===Object&&s,c=typeof self=="object"&&self&&self.Object===Object&&self,l=a||c||Function("return this")(),o=Object.prototype,u=o.hasOwnProperty,p=o.toString,d=l.Symbol,h=d?d.toStringTag:void 0;function g(b){return b==null?b===void 0?"[object Undefined]":"[object Null]":h&&h in Object(b)?function(m){var y=u.call(m,h),v=m[h];try{m[h]=void 0;var w=!0}catch{}var E=p.call(m);return w&&(y?m[h]=v:delete m[h]),E}(b):function(m){return p.call(m)}(b)}n.exports=function(b){if(!function(y){var v=typeof y;return y!=null&&(v=="object"||v=="function")}(b))return!1;var m=g(b);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,n,i){n.exports=function(s){return s==null}},{}],448:[function(e,n,i){n.exports=function(s){return s===void 0}},{}],449:[function(e,n,i){(function(s){(function(){var a=/^\[object .+?Constructor\]$/,c=typeof s=="object"&&s&&s.Object===Object&&s,l=typeof self=="object"&&self&&self.Object===Object&&self,o=c||l||Function("return this")();function u(V,q){return!!(V&&V.length)&&function(W,J,z){if(J!=J)return function(R,H,G,ee){for(var Z=R.length,te=G+-1;++te<Z;)if(H(R[te],te,R))return te;return-1}(W,p,z);for(var X=z-1,O=W.length;++X<O;)if(W[X]===J)return X;return-1}(V,q,0)>-1}function p(V){return V!=V}function d(V,q){return V.has(q)}function h(V){var q=-1,W=Array(V.size);return V.forEach(function(J){W[++q]=J}),W}var g,b=Array.prototype,m=Function.prototype,y=Object.prototype,v=o["__core-js_shared__"],w=(g=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",E=m.toString,A=y.hasOwnProperty,D=y.toString,L=RegExp("^"+E.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=b.splice,M=T(o,"Map"),F=T(o,"Set"),$=T(Object,"create");function U(V){var q=-1,W=V?V.length:0;for(this.clear();++q<W;){var J=V[q];this.set(J[0],J[1])}}function j(V){var q=-1,W=V?V.length:0;for(this.clear();++q<W;){var J=V[q];this.set(J[0],J[1])}}function P(V){var q=-1,W=V?V.length:0;for(this.clear();++q<W;){var J=V[q];this.set(J[0],J[1])}}function N(V){var q=-1,W=V?V.length:0;for(this.__data__=new P;++q<W;)this.add(V[q])}function x(V,q){for(var W,J,z=V.length;z--;)if((W=V[z][0])===(J=q)||W!=W&&J!=J)return z;return-1}function S(V){return!(!B(V)||(q=V,w&&w in q))&&(function(W){var J=B(W)?D.call(W):"";return J=="[object Function]"||J=="[object GeneratorFunction]"}(V)||function(W){var J=!1;if(W!=null&&typeof W.toString!="function")try{J=!!(W+"")}catch{}return J}(V)?L:a).test(function(W){if(W!=null){try{return E.call(W)}catch{}try{return W+""}catch{}}return""}(V));var q}U.prototype.clear=function(){this.__data__=$?$(null):{}},U.prototype.delete=function(V){return this.has(V)&&delete this.__data__[V]},U.prototype.get=function(V){var q=this.__data__;if($){var W=q[V];return W==="__lodash_hash_undefined__"?void 0:W}return A.call(q,V)?q[V]:void 0},U.prototype.has=function(V){var q=this.__data__;return $?q[V]!==void 0:A.call(q,V)},U.prototype.set=function(V,q){return this.__data__[V]=$&&q===void 0?"__lodash_hash_undefined__":q,this},j.prototype.clear=function(){this.__data__=[]},j.prototype.delete=function(V){var q=this.__data__,W=x(q,V);return!(W<0)&&(W==q.length-1?q.pop():C.call(q,W,1),!0)},j.prototype.get=function(V){var q=this.__data__,W=x(q,V);return W<0?void 0:q[W][1]},j.prototype.has=function(V){return x(this.__data__,V)>-1},j.prototype.set=function(V,q){var W=this.__data__,J=x(W,V);return J<0?W.push([V,q]):W[J][1]=q,this},P.prototype.clear=function(){this.__data__={hash:new U,map:new(M||j),string:new U}},P.prototype.delete=function(V){return k(this,V).delete(V)},P.prototype.get=function(V){return k(this,V).get(V)},P.prototype.has=function(V){return k(this,V).has(V)},P.prototype.set=function(V,q){return k(this,V).set(V,q),this},N.prototype.add=N.prototype.push=function(V){return this.__data__.set(V,"__lodash_hash_undefined__"),this},N.prototype.has=function(V){return this.__data__.has(V)};var _=F&&1/h(new F([,-0]))[1]==1/0?function(V){return new F(V)}:function(){};function k(V,q){var W,J,z=V.__data__;return((J=typeof(W=q))=="string"||J=="number"||J=="symbol"||J=="boolean"?W!=="__proto__":W===null)?z[typeof q=="string"?"string":"hash"]:z.map}function T(V,q){var W=function(J,z){return J==null?void 0:J[z]}(V,q);return S(W)?W:void 0}function B(V){var q=typeof V;return!!V&&(q=="object"||q=="function")}n.exports=function(V){return V&&V.length?function(q,W,J){var z=-1,X=u,O=q.length,R=!0,H=[],G=H;if(O>=200){var ee=_(q);if(ee)return h(ee);R=!1,X=d,G=new N}else G=H;e:for(;++z<O;){var Z=q[z],te=Z;if(Z=Z!==0?Z:0,R&&te==te){for(var oe=G.length;oe--;)if(G[oe]===te)continue e;H.push(Z)}else X(G,te,J)||(G!==H&&G.push(te),H.push(Z))}return H}(V):[]}}).call(this)}).call(this,typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,n,i){var s=e("inherits"),a=e("hash-base"),c=e("safe-buffer").Buffer,l=new Array(16);function o(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(b,m){return b<<m|b>>>32-m}function p(b,m,y,v,w,E,A){return u(b+(m&y|~m&v)+w+E|0,A)+m|0}function d(b,m,y,v,w,E,A){return u(b+(m&v|y&~v)+w+E|0,A)+m|0}function h(b,m,y,v,w,E,A){return u(b+(m^y^v)+w+E|0,A)+m|0}function g(b,m,y,v,w,E,A){return u(b+(y^(m|~v))+w+E|0,A)+m|0}s(o,a),o.prototype._update=function(){for(var b=l,m=0;m<16;++m)b[m]=this._block.readInt32LE(4*m);var y=this._a,v=this._b,w=this._c,E=this._d;y=p(y,v,w,E,b[0],3614090360,7),E=p(E,y,v,w,b[1],3905402710,12),w=p(w,E,y,v,b[2],606105819,17),v=p(v,w,E,y,b[3],3250441966,22),y=p(y,v,w,E,b[4],4118548399,7),E=p(E,y,v,w,b[5],1200080426,12),w=p(w,E,y,v,b[6],2821735955,17),v=p(v,w,E,y,b[7],4249261313,22),y=p(y,v,w,E,b[8],1770035416,7),E=p(E,y,v,w,b[9],2336552879,12),w=p(w,E,y,v,b[10],4294925233,17),v=p(v,w,E,y,b[11],2304563134,22),y=p(y,v,w,E,b[12],1804603682,7),E=p(E,y,v,w,b[13],4254626195,12),w=p(w,E,y,v,b[14],2792965006,17),y=d(y,v=p(v,w,E,y,b[15],1236535329,22),w,E,b[1],4129170786,5),E=d(E,y,v,w,b[6],3225465664,9),w=d(w,E,y,v,b[11],643717713,14),v=d(v,w,E,y,b[0],3921069994,20),y=d(y,v,w,E,b[5],3593408605,5),E=d(E,y,v,w,b[10],38016083,9),w=d(w,E,y,v,b[15],3634488961,14),v=d(v,w,E,y,b[4],3889429448,20),y=d(y,v,w,E,b[9],568446438,5),E=d(E,y,v,w,b[14],3275163606,9),w=d(w,E,y,v,b[3],4107603335,14),v=d(v,w,E,y,b[8],1163531501,20),y=d(y,v,w,E,b[13],2850285829,5),E=d(E,y,v,w,b[2],4243563512,9),w=d(w,E,y,v,b[7],1735328473,14),y=h(y,v=d(v,w,E,y,b[12],2368359562,20),w,E,b[5],4294588738,4),E=h(E,y,v,w,b[8],2272392833,11),w=h(w,E,y,v,b[11],1839030562,16),v=h(v,w,E,y,b[14],4259657740,23),y=h(y,v,w,E,b[1],2763975236,4),E=h(E,y,v,w,b[4],1272893353,11),w=h(w,E,y,v,b[7],4139469664,16),v=h(v,w,E,y,b[10],3200236656,23),y=h(y,v,w,E,b[13],681279174,4),E=h(E,y,v,w,b[0],3936430074,11),w=h(w,E,y,v,b[3],3572445317,16),v=h(v,w,E,y,b[6],76029189,23),y=h(y,v,w,E,b[9],3654602809,4),E=h(E,y,v,w,b[12],3873151461,11),w=h(w,E,y,v,b[15],530742520,16),y=g(y,v=h(v,w,E,y,b[2],3299628645,23),w,E,b[0],4096336452,6),E=g(E,y,v,w,b[7],1126891415,10),w=g(w,E,y,v,b[14],2878612391,15),v=g(v,w,E,y,b[5],4237533241,21),y=g(y,v,w,E,b[12],1700485571,6),E=g(E,y,v,w,b[3],2399980690,10),w=g(w,E,y,v,b[10],4293915773,15),v=g(v,w,E,y,b[1],2240044497,21),y=g(y,v,w,E,b[8],1873313359,6),E=g(E,y,v,w,b[15],4264355552,10),w=g(w,E,y,v,b[6],2734768916,15),v=g(v,w,E,y,b[13],1309151649,21),y=g(y,v,w,E,b[4],4149444226,6),E=g(E,y,v,w,b[11],3174756917,10),w=g(w,E,y,v,b[2],718787259,15),v=g(v,w,E,y,b[9],3951481745,21),this._a=this._a+y|0,this._b=this._b+v|0,this._c=this._c+w|0,this._d=this._d+E|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var b=c.allocUnsafe(16);return b.writeInt32LE(this._a,0),b.writeInt32LE(this._b,4),b.writeInt32LE(this._c,8),b.writeInt32LE(this._d,12),b},n.exports=o},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,n,i){var s=e("bn.js"),a=e("brorand");function c(l){this.rand=l||new a.Rand}n.exports=c,c.create=function(l){return new c(l)},c.prototype._randbelow=function(l){var o=l.bitLength(),u=Math.ceil(o/8);do var p=new s(this.rand.generate(u));while(p.cmp(l)>=0);return p},c.prototype._randrange=function(l,o){var u=o.sub(l);return l.add(this._randbelow(u))},c.prototype.test=function(l,o,u){var p=l.bitLength(),d=s.mont(l),h=new s(1).toRed(d);o||(o=Math.max(1,p/48|0));for(var g=l.subn(1),b=0;!g.testn(b);b++);for(var m=l.shrn(b),y=g.toRed(d);o>0;o--){var v=this._randrange(new s(2),g);u&&u(v);var w=v.toRed(d).redPow(m);if(w.cmp(h)!==0&&w.cmp(y)!==0){for(var E=1;E<b;E++){if((w=w.redSqr()).cmp(h)===0)return!1;if(w.cmp(y)===0)break}if(E===b)return!1}}return!0},c.prototype.getDivisor=function(l,o){var u=l.bitLength(),p=s.mont(l),d=new s(1).toRed(p);o||(o=Math.max(1,u/48|0));for(var h=l.subn(1),g=0;!h.testn(g);g++);for(var b=l.shrn(g),m=h.toRed(p);o>0;o--){var y=this._randrange(new s(2),h),v=l.gcd(y);if(v.cmpn(1)!==0)return v;var w=y.toRed(p).redPow(b);if(w.cmp(d)!==0&&w.cmp(m)!==0){for(var E=1;E<g;E++){if((w=w.redSqr()).cmp(d)===0)return w.fromRed().subn(1).gcd(l);if(w.cmp(m)===0)break}if(E===g)return(w=w.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],453:[function(e,n,i){function s(a,c){if(!a)throw new Error(c||"Assertion failed")}n.exports=s,s.equal=function(a,c,l){if(a!=c)throw new Error(l||"Assertion failed: "+a+" != "+c)}},{}],454:[function(e,n,i){var s=i;function a(l){return l.length===1?"0"+l:l}function c(l){for(var o="",u=0;u<l.length;u++)o+=a(l[u].toString(16));return o}s.toArray=function(l,o){if(Array.isArray(l))return l.slice();if(!l)return[];var u=[];if(typeof l!="string"){for(var p=0;p<l.length;p++)u[p]=0|l[p];return u}if(o==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),p=0;p<l.length;p+=2)u.push(parseInt(l[p]+l[p+1],16));else for(p=0;p<l.length;p++){var d=l.charCodeAt(p),h=d>>8,g=255&d;h?u.push(h,g):u.push(g)}return u},s.zero2=a,s.toHex=c,s.encode=function(l,o){return o==="hex"?c(l):l}},{}],455:[function(e,n,i){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,n,i){var s=e("asn1.js");i.certificate=e("./certificate");var a=s.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});i.RSAPrivateKey=a;var c=s.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});i.RSAPublicKey=c;var l=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())});i.PublicKey=l;var o=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=s.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())});i.PrivateKey=u;var p=s.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});i.EncryptedPrivateKey=p;var d=s.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});i.DSAPrivateKey=d,i.DSAparam=s.define("DSAparam",function(){this.int()});var h=s.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())});i.ECPrivateKey=h;var g=s.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});i.signature=s.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,n,i){var s=e("asn1.js"),a=s.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),c=s.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),o=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),u=s.define("RelativeDistinguishedName",function(){this.setof(c)}),p=s.define("RDNSequence",function(){this.seqof(u)}),d=s.define("Name",function(){this.choice({rdnSequence:this.use(p)})}),h=s.define("Validity",function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))}),g=s.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),b=s.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(d),this.key("validity").use(h),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())}),m=s.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(b),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});n.exports=m},{"asn1.js":170}],458:[function(e,n,i){var s=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,c=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=e("evp_bytestokey"),o=e("browserify-aes"),u=e("safe-buffer").Buffer;n.exports=function(p,d){var h,g=p.toString(),b=g.match(s);if(b){var m="aes"+b[1],y=u.from(b[2],"hex"),v=u.from(b[3].replace(/[\r\n]/g,""),"base64"),w=l(d,y.slice(0,8),parseInt(b[1],10)).key,E=[],A=o.createDecipheriv(m,w,y);E.push(A.update(v)),E.push(A.final()),h=u.concat(E)}else{var D=g.match(c);h=u.from(D[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(a)[1],data:h}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,n,i){var s=e("./asn1"),a=e("./aesid.json"),c=e("./fixProc"),l=e("browserify-aes"),o=e("pbkdf2"),u=e("safe-buffer").Buffer;function p(d){var h;typeof d!="object"||u.isBuffer(d)||(h=d.passphrase,d=d.key),typeof d=="string"&&(d=u.from(d));var g,b,m=c(d,h),y=m.tag,v=m.data;switch(y){case"CERTIFICATE":b=s.certificate.decode(v,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(b||(b=s.PublicKey.decode(v,"der")),g=b.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPublicKey.decode(b.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return b.subjectPrivateKey=b.subjectPublicKey,{type:"ec",data:b};case"1.2.840.10040.4.1":return b.algorithm.params.pub_key=s.DSAparam.decode(b.subjectPublicKey.data,"der"),{type:"dsa",data:b.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":v=function(w,E){var A=w.algorithm.decrypt.kde.kdeparams.salt,D=parseInt(w.algorithm.decrypt.kde.kdeparams.iters.toString(),10),L=a[w.algorithm.decrypt.cipher.algo.join(".")],C=w.algorithm.decrypt.cipher.iv,M=w.subjectPrivateKey,F=parseInt(L.split("-")[1],10)/8,$=o.pbkdf2Sync(E,A,D,F,"sha1"),U=l.createDecipheriv(L,$,C),j=[];return j.push(U.update(M)),j.push(U.final()),u.concat(j)}(v=s.EncryptedPrivateKey.decode(v,"der"),h);case"PRIVATE KEY":switch(g=(b=s.PrivateKey.decode(v,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPrivateKey.decode(b.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:b.algorithm.curve,privateKey:s.ECPrivateKey.decode(b.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return b.algorithm.params.priv_key=s.DSAparam.decode(b.subjectPrivateKey,"der"),{type:"dsa",params:b.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return s.RSAPublicKey.decode(v,"der");case"RSA PRIVATE KEY":return s.RSAPrivateKey.decode(v,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:s.DSAPrivateKey.decode(v,"der")};case"EC PRIVATE KEY":return{curve:(v=s.ECPrivateKey.decode(v,"der")).parameters.value,privateKey:v.privateKey};default:throw new Error("unknown key type "+y)}}n.exports=p,p.signature=s.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,n,i){i.pbkdf2=e("./lib/async"),i.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,n,i){(function(s){(function(){var a,c,l=e("safe-buffer").Buffer,o=e("./precondition"),u=e("./default-encoding"),p=e("./sync"),d=e("./to-buffer"),h=s.crypto&&s.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},b=[];function m(){return c||(c=s.process&&s.process.nextTick?s.process.nextTick:s.queueMicrotask?s.queueMicrotask:s.setImmediate?s.setImmediate:s.setTimeout)}function y(v,w,E,A,D){return h.importKey("raw",v,{name:"PBKDF2"},!1,["deriveBits"]).then(function(L){return h.deriveBits({name:"PBKDF2",salt:w,iterations:E,hash:{name:D}},L,A<<3)}).then(function(L){return l.from(L)})}n.exports=function(v,w,E,A,D,L){typeof D=="function"&&(L=D,D=void 0);var C=g[(D=D||"sha1").toLowerCase()];if(C&&typeof s.Promise=="function"){if(o(E,A),v=d(v,u,"Password"),w=d(w,u,"Salt"),typeof L!="function")throw new Error("No callback provided to pbkdf2");(function(M,F){M.then(function($){m()(function(){F(null,$)})},function($){m()(function(){F($)})})})(function(M){if(s.process&&!s.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(b[M]!==void 0)return b[M];var F=y(a=a||l.alloc(8),a,10,128,M).then(function(){return!0}).catch(function(){return!1});return b[M]=F,F}(C).then(function(M){return M?y(v,w,E,A,C):p(v,w,E,A,D)}),L)}else m()(function(){var M;try{M=p(v,w,E,A,D)}catch(F){return L(F)}L(null,M)})}}).call(this)}).call(this,typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,n,i){(function(s,a){(function(){var c;a.process&&a.process.browser?c="utf-8":a.process&&a.process.version?c=parseInt(s.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":c="utf-8",n.exports=c}).call(this)}).call(this,e("_process"),typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,n,i){var s=Math.pow(2,30)-1;n.exports=function(a,c){if(typeof a!="number")throw new TypeError("Iterations not a number");if(a<0)throw new TypeError("Bad iterations");if(typeof c!="number")throw new TypeError("Key length not a number");if(c<0||c>s||c!=c)throw new TypeError("Bad key length")}},{}],464:[function(e,n,i){var s=e("create-hash/md5"),a=e("ripemd160"),c=e("sha.js"),l=e("safe-buffer").Buffer,o=e("./precondition"),u=e("./default-encoding"),p=e("./to-buffer"),d=l.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(b,m,y){var v=function(C){function M(F){return c(C).update(F).digest()}return C==="rmd160"||C==="ripemd160"?function(F){return new a().update(F).digest()}:C==="md5"?s:M}(b),w=b==="sha512"||b==="sha384"?128:64;m.length>w?m=v(m):m.length<w&&(m=l.concat([m,d],w));for(var E=l.allocUnsafe(w+h[b]),A=l.allocUnsafe(w+h[b]),D=0;D<w;D++)E[D]=54^m[D],A[D]=92^m[D];var L=l.allocUnsafe(w+y+4);E.copy(L,0,0,w),this.ipad1=L,this.ipad2=E,this.opad=A,this.alg=b,this.blocksize=w,this.hash=v,this.size=h[b]}g.prototype.run=function(b,m){return b.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(b,m,y,v,w){o(y,v);var E=new g(w=w||"sha1",b=p(b,u,"Password"),(m=p(m,u,"Salt")).length),A=l.allocUnsafe(v),D=l.allocUnsafe(m.length+4);m.copy(D,0,0,m.length);for(var L=0,C=h[w],M=Math.ceil(v/C),F=1;F<=M;F++){D.writeUInt32BE(F,m.length);for(var $=E.run(D,E.ipad1),U=$,j=1;j<y;j++){U=E.run(U,E.ipad2);for(var P=0;P<C;P++)$[P]^=U[P]}$.copy(A,L),L+=C}return A}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,n,i){var s=e("safe-buffer").Buffer;n.exports=function(a,c,l){if(s.isBuffer(a))return a;if(typeof a=="string")return s.from(a,c);if(ArrayBuffer.isView(a))return s.from(a.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,n,i){(function(s){(function(){s===void 0||!s.version||s.version.indexOf("v0.")===0||s.version.indexOf("v1.")===0&&s.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(a,c,l,o){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var u,p,d=arguments.length;switch(d){case 0:case 1:return s.nextTick(a);case 2:return s.nextTick(function(){a.call(null,c)});case 3:return s.nextTick(function(){a.call(null,c,l)});case 4:return s.nextTick(function(){a.call(null,c,l,o)});default:for(u=new Array(d-1),p=0;p<u.length;)u[p++]=arguments[p];return s.nextTick(function(){a.apply(null,u)})}}}:n.exports=s}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,n,i){var s,a,c=n.exports={};function l(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(w){if(s===setTimeout)return setTimeout(w,0);if((s===l||!s)&&setTimeout)return s=setTimeout,setTimeout(w,0);try{return s(w,0)}catch{try{return s.call(null,w,0)}catch{return s.call(this,w,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:l}catch{s=l}try{a=typeof clearTimeout=="function"?clearTimeout:o}catch{a=o}})();var p,d=[],h=!1,g=-1;function b(){h&&p&&(h=!1,p.length?d=p.concat(d):g=-1,d.length&&m())}function m(){if(!h){var w=u(b);h=!0;for(var E=d.length;E;){for(p=d,d=[];++g<E;)p&&p[g].run();g=-1,E=d.length}p=null,h=!1,function(A){if(a===clearTimeout)return clearTimeout(A);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(A);try{a(A)}catch{try{return a.call(null,A)}catch{return a.call(this,A)}}}(w)}}function y(w,E){this.fun=w,this.array=E}function v(){}c.nextTick=function(w){var E=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)E[A-1]=arguments[A];d.push(new y(w,E)),d.length!==1||h||u(m)},y.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=v,c.addListener=v,c.once=v,c.off=v,c.removeListener=v,c.removeAllListeners=v,c.emit=v,c.prependListener=v,c.prependOnceListener=v,c.listeners=function(w){return[]},c.binding=function(w){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(w){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],468:[function(e,n,i){i.publicEncrypt=e("./publicEncrypt"),i.privateDecrypt=e("./privateDecrypt"),i.privateEncrypt=function(s,a){return i.publicEncrypt(s,a,!0)},i.publicDecrypt=function(s,a){return i.privateDecrypt(s,a,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,n,i){var s=e("create-hash"),a=e("safe-buffer").Buffer;function c(l){var o=a.allocUnsafe(4);return o.writeUInt32BE(l,0),o}n.exports=function(l,o){for(var u,p=a.alloc(0),d=0;p.length<o;)u=c(d++),p=a.concat([p,s("sha1").update(l).update(u).digest()]);return p.slice(0,o)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],471:[function(e,n,i){var s=e("parse-asn1"),a=e("./mgf"),c=e("./xor"),l=e("bn.js"),o=e("browserify-rsa"),u=e("create-hash"),p=e("./withPublic"),d=e("safe-buffer").Buffer;n.exports=function(h,g,b){var m;m=h.padding?h.padding:b?1:4;var y,v=s(h),w=v.modulus.byteLength();if(g.length>w||new l(g).cmp(v.modulus)>=0)throw new Error("decryption error");y=b?p(new l(g),v):o(g,v);var E=d.alloc(w-y.length);if(y=d.concat([E,y],w),m===4)return function(A,D){var L=A.modulus.byteLength(),C=u("sha1").update(d.alloc(0)).digest(),M=C.length;if(D[0]!==0)throw new Error("decryption error");var F=D.slice(1,M+1),$=D.slice(M+1),U=c(F,a($,M)),j=c($,a(U,L-M-1));if(function(N,x){N=d.from(N),x=d.from(x);var S=0,_=N.length;N.length!==x.length&&(S++,_=Math.min(N.length,x.length));for(var k=-1;++k<_;)S+=N[k]^x[k];return S}(C,j.slice(0,M)))throw new Error("decryption error");for(var P=M;j[P]===0;)P++;if(j[P++]!==1)throw new Error("decryption error");return j.slice(P)}(v,y);if(m===1)return function(A,D,L){for(var C=D.slice(0,2),M=2,F=0;D[M++]!==0;)if(M>=D.length){F++;break}var $=D.slice(2,M-1);if((C.toString("hex")!=="0002"&&!L||C.toString("hex")!=="0001"&&L)&&F++,$.length<8&&F++,F)throw new Error("decryption error");return D.slice(M)}(0,y,b);if(m===3)return y;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,n,i){var s=e("parse-asn1"),a=e("randombytes"),c=e("create-hash"),l=e("./mgf"),o=e("./xor"),u=e("bn.js"),p=e("./withPublic"),d=e("browserify-rsa"),h=e("safe-buffer").Buffer;n.exports=function(g,b,m){var y;y=g.padding?g.padding:m?1:4;var v,w=s(g);if(y===4)v=function(E,A){var D=E.modulus.byteLength(),L=A.length,C=c("sha1").update(h.alloc(0)).digest(),M=C.length,F=2*M;if(L>D-F-2)throw new Error("message too long");var $=h.alloc(D-L-F-2),U=D-M-1,j=a(M),P=o(h.concat([C,$,h.alloc(1,1),A],U),l(j,U)),N=o(j,l(P,M));return new u(h.concat([h.alloc(1),N,P],D))}(w,b);else if(y===1)v=function(E,A,D){var L,C=A.length,M=E.modulus.byteLength();if(C>M-11)throw new Error("message too long");return L=D?h.alloc(M-C-3,255):function(F){for(var $,U=h.allocUnsafe(F),j=0,P=a(2*F),N=0;j<F;)N===P.length&&(P=a(2*F),N=0),($=P[N++])&&(U[j++]=$);return U}(M-C-3),new u(h.concat([h.from([0,D?1:2]),L,h.alloc(1),A],M))}(w,b,m);else{if(y!==3)throw new Error("unknown padding");if((v=new u(b)).cmp(w.modulus)>=0)throw new Error("data too long for modulus")}return m?d(v,w):p(v,w)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,n,i){var s=e("bn.js"),a=e("safe-buffer").Buffer;n.exports=function(c,l){return a.from(c.toRed(s.mont(l.modulus)).redPow(new s(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,n,i){n.exports=function(s,a){for(var c=s.length,l=-1;++l<c;)s[l]^=a[l];return s}},{}],475:[function(e,n,i){(function(s,a){(function(){var c=e("safe-buffer").Buffer,l=a.crypto||a.msCrypto;l&&l.getRandomValues?n.exports=function(o,u){if(o>4294967295)throw new RangeError("requested too many random bytes");var p=c.allocUnsafe(o);if(o>0)if(o>65536)for(var d=0;d<o;d+=65536)l.getRandomValues(p.slice(d,d+65536));else l.getRandomValues(p);return typeof u=="function"?s.nextTick(function(){u(null,p)}):p}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,n,i){(function(s,a){(function(){function c(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=e("safe-buffer"),o=e("randombytes"),u=l.Buffer,p=l.kMaxLength,d=a.crypto||a.msCrypto,h=Math.pow(2,32)-1;function g(y,v){if(typeof y!="number"||y!=y)throw new TypeError("offset must be a number");if(y>h||y<0)throw new TypeError("offset must be a uint32");if(y>p||y>v)throw new RangeError("offset out of range")}function b(y,v,w){if(typeof y!="number"||y!=y)throw new TypeError("size must be a number");if(y>h||y<0)throw new TypeError("size must be a uint32");if(y+v>w||y>p)throw new RangeError("buffer too small")}function m(y,v,w,E){if(s.browser){var A=y.buffer,D=new Uint8Array(A,v,w);return d.getRandomValues(D),E?void s.nextTick(function(){E(null,y)}):y}if(!E)return o(w).copy(y,v),y;o(w,function(L,C){if(L)return E(L);C.copy(y,v),E(null,y)})}d&&d.getRandomValues||!s.browser?(i.randomFill=function(y,v,w,E){if(!(u.isBuffer(y)||y instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof v=="function")E=v,v=0,w=y.length;else if(typeof w=="function")E=w,w=y.length-v;else if(typeof E!="function")throw new TypeError('"cb" argument must be a function');return g(v,y.length),b(w,v,y.length),m(y,v,w,E)},i.randomFillSync=function(y,v,w){if(v===void 0&&(v=0),!(u.isBuffer(y)||y instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(v,y.length),w===void 0&&(w=y.length-v),b(w,v,y.length),m(y,v,w)}):(i.randomFill=c,i.randomFillSync=c)}).call(this)}).call(this,e("_process"),typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,n,i){var s={};function a(l,o,u){u||(u=Error);var p=function(d){var h,g;function b(m,y,v){return d.call(this,function(w,E,A){return typeof o=="string"?o:o(w,E,A)}(m,y,v))||this}return g=d,(h=b).prototype=Object.create(g.prototype),h.prototype.constructor=h,h.__proto__=g,b}(u);p.prototype.name=u.name,p.prototype.code=l,s[l]=p}function c(l,o){if(Array.isArray(l)){var u=l.length;return l=l.map(function(p){return String(p)}),u>2?"one of ".concat(o," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(o," ").concat(l[0]," or ").concat(l[1]):"of ".concat(o," ").concat(l[0])}return"of ".concat(o," ").concat(String(l))}a("ERR_INVALID_OPT_VALUE",function(l,o){return'The value "'+o+'" is invalid for option "'+l+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(l,o,u){var p,d,h;if(typeof o=="string"&&(d="not ",o.substr(0,d.length)===d)?(p="must not be",o=o.replace(/^not /,"")):p="must be",function(b,m,y){return(y===void 0||y>b.length)&&(y=b.length),b.substring(y-m.length,y)===m}(l," argument"))h="The ".concat(l," ").concat(p," ").concat(c(o,"type"));else{var g=function(b,m,y){return typeof y!="number"&&(y=0),!(y+m.length>b.length)&&b.indexOf(m,y)!==-1}(l,".")?"property":"argument";h='The "'.concat(l,'" ').concat(g," ").concat(p," ").concat(c(o,"type"))}return h+=". Received type ".concat(typeof u)},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=s},{}],478:[function(e,n,i){(function(s){(function(){var a=Object.keys||function(b){var m=[];for(var y in b)m.push(y);return m};n.exports=d;var c=e("./_stream_readable"),l=e("./_stream_writable");e("inherits")(d,c);for(var o=a(l.prototype),u=0;u<o.length;u++){var p=o[u];d.prototype[p]||(d.prototype[p]=l.prototype[p])}function d(b){if(!(this instanceof d))return new d(b);c.call(this,b),l.call(this,b),this.allowHalfOpen=!0,b&&(b.readable===!1&&(this.readable=!1),b.writable===!1&&(this.writable=!1),b.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||s.nextTick(g,this)}function g(b){b.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,n,i){n.exports=a;var s=e("./_stream_transform");function a(c){if(!(this instanceof a))return new a(c);s.call(this,c)}e("inherits")(a,s),a.prototype._transform=function(c,l,o){o(null,c)}},{"./_stream_transform":481,inherits:440}],480:[function(e,n,i){(function(s,a){(function(){var c;n.exports=U,U.ReadableState=$,e("events").EventEmitter;var l=function(O,R){return O.listeners(R).length},o=e("./internal/streams/stream"),u=e("buffer").Buffer,p=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,h=e("util");d=h&&h.debuglog?h.debuglog("stream"):function(){};var g,b,m,y=e("./internal/streams/buffer_list"),v=e("./internal/streams/destroy"),w=e("./internal/streams/state").getHighWaterMark,E=e("../errors").codes,A=E.ERR_INVALID_ARG_TYPE,D=E.ERR_STREAM_PUSH_AFTER_EOF,L=E.ERR_METHOD_NOT_IMPLEMENTED,C=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(U,o);var M=v.errorOrDestroy,F=["error","close","destroy","pause","resume"];function $(O,R,H){c=c||e("./_stream_duplex"),O=O||{},typeof H!="boolean"&&(H=R instanceof c),this.objectMode=!!O.objectMode,H&&(this.objectMode=this.objectMode||!!O.readableObjectMode),this.highWaterMark=w(this,O,"readableHighWaterMark",H),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(O.encoding),this.encoding=O.encoding)}function U(O){if(c=c||e("./_stream_duplex"),!(this instanceof U))return new U(O);var R=this instanceof c;this._readableState=new $(O,this,R),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),o.call(this)}function j(O,R,H,G,ee){d("readableAddChunk",R);var Z,te=O._readableState;if(R===null)te.reading=!1,function(oe,le){if(d("onEofChunk"),!le.ended){if(le.decoder){var Y=le.decoder.end();Y&&Y.length&&(le.buffer.push(Y),le.length+=le.objectMode?1:Y.length)}le.ended=!0,le.sync?x(oe):(le.needReadable=!1,le.emittedReadable||(le.emittedReadable=!0,S(oe)))}}(O,te);else if(ee||(Z=function(oe,le){var Y;ie=le,u.isBuffer(ie)||ie instanceof p||typeof le=="string"||le===void 0||oe.objectMode||(Y=new A("chunk",["string","Buffer","Uint8Array"],le));var ie;return Y}(te,R)),Z)M(O,Z);else if(te.objectMode||R&&R.length>0)if(typeof R=="string"||te.objectMode||Object.getPrototypeOf(R)===u.prototype||(R=function(oe){return u.from(oe)}(R)),G)te.endEmitted?M(O,new C):P(O,te,R,!0);else if(te.ended)M(O,new D);else{if(te.destroyed)return!1;te.reading=!1,te.decoder&&!H?(R=te.decoder.write(R),te.objectMode||R.length!==0?P(O,te,R,!1):_(O,te)):P(O,te,R,!1)}else G||(te.reading=!1,_(O,te));return!te.ended&&(te.length<te.highWaterMark||te.length===0)}function P(O,R,H,G){R.flowing&&R.length===0&&!R.sync?(R.awaitDrain=0,O.emit("data",H)):(R.length+=R.objectMode?1:H.length,G?R.buffer.unshift(H):R.buffer.push(H),R.needReadable&&x(O)),_(O,R)}Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),U.prototype.destroy=v.destroy,U.prototype._undestroy=v.undestroy,U.prototype._destroy=function(O,R){R(O)},U.prototype.push=function(O,R){var H,G=this._readableState;return G.objectMode?H=!0:typeof O=="string"&&((R=R||G.defaultEncoding)!==G.encoding&&(O=u.from(O,R),R=""),H=!0),j(this,O,R,!1,H)},U.prototype.unshift=function(O){return j(this,O,null,!0,!1)},U.prototype.isPaused=function(){return this._readableState.flowing===!1},U.prototype.setEncoding=function(O){g||(g=e("string_decoder/").StringDecoder);var R=new g(O);this._readableState.decoder=R,this._readableState.encoding=this._readableState.decoder.encoding;for(var H=this._readableState.buffer.head,G="";H!==null;)G+=R.write(H.data),H=H.next;return this._readableState.buffer.clear(),G!==""&&this._readableState.buffer.push(G),this._readableState.length=G.length,this};function N(O,R){return O<=0||R.length===0&&R.ended?0:R.objectMode?1:O!=O?R.flowing&&R.length?R.buffer.head.data.length:R.length:(O>R.highWaterMark&&(R.highWaterMark=function(H){return H>=1073741824?H=1073741824:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H}(O)),O<=R.length?O:R.ended?R.length:(R.needReadable=!0,0))}function x(O){var R=O._readableState;d("emitReadable",R.needReadable,R.emittedReadable),R.needReadable=!1,R.emittedReadable||(d("emitReadable",R.flowing),R.emittedReadable=!0,s.nextTick(S,O))}function S(O){var R=O._readableState;d("emitReadable_",R.destroyed,R.length,R.ended),R.destroyed||!R.length&&!R.ended||(O.emit("readable"),R.emittedReadable=!1),R.needReadable=!R.flowing&&!R.ended&&R.length<=R.highWaterMark,q(O)}function _(O,R){R.readingMore||(R.readingMore=!0,s.nextTick(k,O,R))}function k(O,R){for(;!R.reading&&!R.ended&&(R.length<R.highWaterMark||R.flowing&&R.length===0);){var H=R.length;if(d("maybeReadMore read 0"),O.read(0),H===R.length)break}R.readingMore=!1}function T(O){var R=O._readableState;R.readableListening=O.listenerCount("readable")>0,R.resumeScheduled&&!R.paused?R.flowing=!0:O.listenerCount("data")>0&&O.resume()}function B(O){d("readable nexttick read 0"),O.read(0)}function V(O,R){d("resume",R.reading),R.reading||O.read(0),R.resumeScheduled=!1,O.emit("resume"),q(O),R.flowing&&!R.reading&&O.read(0)}function q(O){var R=O._readableState;for(d("flow",R.flowing);R.flowing&&O.read()!==null;);}function W(O,R){return R.length===0?null:(R.objectMode?H=R.buffer.shift():!O||O>=R.length?(H=R.decoder?R.buffer.join(""):R.buffer.length===1?R.buffer.first():R.buffer.concat(R.length),R.buffer.clear()):H=R.buffer.consume(O,R.decoder),H);var H}function J(O){var R=O._readableState;d("endReadable",R.endEmitted),R.endEmitted||(R.ended=!0,s.nextTick(z,R,O))}function z(O,R){if(d("endReadableNT",O.endEmitted,O.length),!O.endEmitted&&O.length===0&&(O.endEmitted=!0,R.readable=!1,R.emit("end"),O.autoDestroy)){var H=R._writableState;(!H||H.autoDestroy&&H.finished)&&R.destroy()}}function X(O,R){for(var H=0,G=O.length;H<G;H++)if(O[H]===R)return H;return-1}U.prototype.read=function(O){d("read",O),O=parseInt(O,10);var R=this._readableState,H=O;if(O!==0&&(R.emittedReadable=!1),O===0&&R.needReadable&&((R.highWaterMark!==0?R.length>=R.highWaterMark:R.length>0)||R.ended))return d("read: emitReadable",R.length,R.ended),R.length===0&&R.ended?J(this):x(this),null;if((O=N(O,R))===0&&R.ended)return R.length===0&&J(this),null;var G,ee=R.needReadable;return d("need readable",ee),(R.length===0||R.length-O<R.highWaterMark)&&d("length less than watermark",ee=!0),R.ended||R.reading?d("reading or ended",ee=!1):ee&&(d("do read"),R.reading=!0,R.sync=!0,R.length===0&&(R.needReadable=!0),this._read(R.highWaterMark),R.sync=!1,R.reading||(O=N(H,R))),(G=O>0?W(O,R):null)===null?(R.needReadable=R.length<=R.highWaterMark,O=0):(R.length-=O,R.awaitDrain=0),R.length===0&&(R.ended||(R.needReadable=!0),H!==O&&R.ended&&J(this)),G!==null&&this.emit("data",G),G},U.prototype._read=function(O){M(this,new L("_read()"))},U.prototype.pipe=function(O,R){var H=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=O;break;case 1:G.pipes=[G.pipes,O];break;default:G.pipes.push(O)}G.pipesCount+=1,d("pipe count=%d opts=%j",G.pipesCount,R);var ee=(!R||R.end!==!1)&&O!==s.stdout&&O!==s.stderr?te:ue;function Z(he,ge){d("onunpipe"),he===H&&ge&&ge.hasUnpiped===!1&&(ge.hasUnpiped=!0,d("cleanup"),O.removeListener("close",se),O.removeListener("finish",de),O.removeListener("drain",oe),O.removeListener("error",ie),O.removeListener("unpipe",Z),H.removeListener("end",te),H.removeListener("end",ue),H.removeListener("data",Y),le=!0,!G.awaitDrain||O._writableState&&!O._writableState.needDrain||oe())}function te(){d("onend"),O.end()}G.endEmitted?s.nextTick(ee):H.once("end",ee),O.on("unpipe",Z);var oe=function(he){return function(){var ge=he._readableState;d("pipeOnDrain",ge.awaitDrain),ge.awaitDrain&&ge.awaitDrain--,ge.awaitDrain===0&&l(he,"data")&&(ge.flowing=!0,q(he))}}(H);O.on("drain",oe);var le=!1;function Y(he){d("ondata");var ge=O.write(he);d("dest.write",ge),ge===!1&&((G.pipesCount===1&&G.pipes===O||G.pipesCount>1&&X(G.pipes,O)!==-1)&&!le&&(d("false write response, pause",G.awaitDrain),G.awaitDrain++),H.pause())}function ie(he){d("onerror",he),ue(),O.removeListener("error",ie),l(O,"error")===0&&M(O,he)}function se(){O.removeListener("finish",de),ue()}function de(){d("onfinish"),O.removeListener("close",se),ue()}function ue(){d("unpipe"),H.unpipe(O)}return H.on("data",Y),function(he,ge,be){if(typeof he.prependListener=="function")return he.prependListener(ge,be);he._events&&he._events[ge]?Array.isArray(he._events[ge])?he._events[ge].unshift(be):he._events[ge]=[be,he._events[ge]]:he.on(ge,be)}(O,"error",ie),O.once("close",se),O.once("finish",de),O.emit("pipe",H),G.flowing||(d("pipe resume"),H.resume()),O},U.prototype.unpipe=function(O){var R=this._readableState,H={hasUnpiped:!1};if(R.pipesCount===0)return this;if(R.pipesCount===1)return O&&O!==R.pipes||(O||(O=R.pipes),R.pipes=null,R.pipesCount=0,R.flowing=!1,O&&O.emit("unpipe",this,H)),this;if(!O){var G=R.pipes,ee=R.pipesCount;R.pipes=null,R.pipesCount=0,R.flowing=!1;for(var Z=0;Z<ee;Z++)G[Z].emit("unpipe",this,{hasUnpiped:!1});return this}var te=X(R.pipes,O);return te===-1||(R.pipes.splice(te,1),R.pipesCount-=1,R.pipesCount===1&&(R.pipes=R.pipes[0]),O.emit("unpipe",this,H)),this},U.prototype.on=function(O,R){var H=o.prototype.on.call(this,O,R),G=this._readableState;return O==="data"?(G.readableListening=this.listenerCount("readable")>0,G.flowing!==!1&&this.resume()):O==="readable"&&(G.endEmitted||G.readableListening||(G.readableListening=G.needReadable=!0,G.flowing=!1,G.emittedReadable=!1,d("on readable",G.length,G.reading),G.length?x(this):G.reading||s.nextTick(B,this))),H},U.prototype.addListener=U.prototype.on,U.prototype.removeListener=function(O,R){var H=o.prototype.removeListener.call(this,O,R);return O==="readable"&&s.nextTick(T,this),H},U.prototype.removeAllListeners=function(O){var R=o.prototype.removeAllListeners.apply(this,arguments);return O!=="readable"&&O!==void 0||s.nextTick(T,this),R},U.prototype.resume=function(){var O=this._readableState;return O.flowing||(d("resume"),O.flowing=!O.readableListening,function(R,H){H.resumeScheduled||(H.resumeScheduled=!0,s.nextTick(V,R,H))}(this,O)),O.paused=!1,this},U.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},U.prototype.wrap=function(O){var R=this,H=this._readableState,G=!1;for(var ee in O.on("end",function(){if(d("wrapped end"),H.decoder&&!H.ended){var te=H.decoder.end();te&&te.length&&R.push(te)}R.push(null)}),O.on("data",function(te){d("wrapped data"),H.decoder&&(te=H.decoder.write(te)),H.objectMode&&te==null||(H.objectMode||te&&te.length)&&(R.push(te)||(G=!0,O.pause()))}),O)this[ee]===void 0&&typeof O[ee]=="function"&&(this[ee]=function(te){return function(){return O[te].apply(O,arguments)}}(ee));for(var Z=0;Z<F.length;Z++)O.on(F[Z],this.emit.bind(this,F[Z]));return this._read=function(te){d("wrapped _read",te),G&&(G=!1,O.resume())},this},typeof Symbol=="function"&&(U.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=e("./internal/streams/async_iterator")),b(this)}),Object.defineProperty(U.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(U.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(U.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),U._fromList=W,Object.defineProperty(U.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(U.from=function(O,R){return m===void 0&&(m=e("./internal/streams/from")),m(U,O,R)})}).call(this)}).call(this,e("_process"),typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,n,i){n.exports=d;var s=e("../errors").codes,a=s.ERR_METHOD_NOT_IMPLEMENTED,c=s.ERR_MULTIPLE_CALLBACK,l=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=s.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function p(b,m){var y=this._transformState;y.transforming=!1;var v=y.writecb;if(v===null)return this.emit("error",new c);y.writechunk=null,y.writecb=null,m!=null&&this.push(m),v(b);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function d(b){if(!(this instanceof d))return new d(b);u.call(this,b),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),this.on("prefinish",h)}function h(){var b=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush(function(m,y){g(b,m,y)})}function g(b,m,y){if(m)return b.emit("error",m);if(y!=null&&b.push(y),b._writableState.length)throw new o;if(b._transformState.transforming)throw new l;return b.push(null)}e("inherits")(d,u),d.prototype.push=function(b,m){return this._transformState.needTransform=!1,u.prototype.push.call(this,b,m)},d.prototype._transform=function(b,m,y){y(new a("_transform()"))},d.prototype._write=function(b,m,y){var v=this._transformState;if(v.writecb=y,v.writechunk=b,v.writeencoding=m,!v.transforming){var w=this._readableState;(v.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},d.prototype._read=function(b){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},d.prototype._destroy=function(b,m){u.prototype._destroy.call(this,b,function(y){m(y)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,n,i){(function(s,a){(function(){function c(k){var T=this;this.next=null,this.entry=null,this.finish=function(){(function(B,V,q){var W=B.entry;for(B.entry=null;W;){var J=W.callback;V.pendingcb--,J(q),W=W.next}V.corkedRequestsFree.next=B})(T,k)}}var l;n.exports=U,U.WritableState=$;var o={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),p=e("buffer").Buffer,d=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,g=e("./internal/streams/destroy"),b=e("./internal/streams/state").getHighWaterMark,m=e("../errors").codes,y=m.ERR_INVALID_ARG_TYPE,v=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_MULTIPLE_CALLBACK,E=m.ERR_STREAM_CANNOT_PIPE,A=m.ERR_STREAM_DESTROYED,D=m.ERR_STREAM_NULL_VALUES,L=m.ERR_STREAM_WRITE_AFTER_END,C=m.ERR_UNKNOWN_ENCODING,M=g.errorOrDestroy;function F(){}function $(k,T,B){l=l||e("./_stream_duplex"),k=k||{},typeof B!="boolean"&&(B=T instanceof l),this.objectMode=!!k.objectMode,B&&(this.objectMode=this.objectMode||!!k.writableObjectMode),this.highWaterMark=b(this,k,"writableHighWaterMark",B),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var V=k.decodeStrings===!1;this.decodeStrings=!V,this.defaultEncoding=k.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(q){(function(W,J){var z=W._writableState,X=z.sync,O=z.writecb;if(typeof O!="function")throw new w;if(function(H){H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0}(z),J)(function(H,G,ee,Z,te){--G.pendingcb,ee?(s.nextTick(te,Z),s.nextTick(_,H,G),H._writableState.errorEmitted=!0,M(H,Z)):(te(Z),H._writableState.errorEmitted=!0,M(H,Z),_(H,G))})(W,z,X,J,O);else{var R=x(z)||W.destroyed;R||z.corked||z.bufferProcessing||!z.bufferedRequest||N(W,z),X?s.nextTick(P,W,z,R,O):P(W,z,R,O)}})(T,q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=k.emitClose!==!1,this.autoDestroy=!!k.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function U(k){var T=this instanceof(l=l||e("./_stream_duplex"));if(!T&&!h.call(U,this))return new U(k);this._writableState=new $(k,this,T),this.writable=!0,k&&(typeof k.write=="function"&&(this._write=k.write),typeof k.writev=="function"&&(this._writev=k.writev),typeof k.destroy=="function"&&(this._destroy=k.destroy),typeof k.final=="function"&&(this._final=k.final)),u.call(this)}function j(k,T,B,V,q,W,J){T.writelen=V,T.writecb=J,T.writing=!0,T.sync=!0,T.destroyed?T.onwrite(new A("write")):B?k._writev(q,T.onwrite):k._write(q,W,T.onwrite),T.sync=!1}function P(k,T,B,V){B||function(q,W){W.length===0&&W.needDrain&&(W.needDrain=!1,q.emit("drain"))}(k,T),T.pendingcb--,V(),_(k,T)}function N(k,T){T.bufferProcessing=!0;var B=T.bufferedRequest;if(k._writev&&B&&B.next){var V=T.bufferedRequestCount,q=new Array(V),W=T.corkedRequestsFree;W.entry=B;for(var J=0,z=!0;B;)q[J]=B,B.isBuf||(z=!1),B=B.next,J+=1;q.allBuffers=z,j(k,T,!0,T.length,q,"",W.finish),T.pendingcb++,T.lastBufferedRequest=null,W.next?(T.corkedRequestsFree=W.next,W.next=null):T.corkedRequestsFree=new c(T),T.bufferedRequestCount=0}else{for(;B;){var X=B.chunk,O=B.encoding,R=B.callback;if(j(k,T,!1,T.objectMode?1:X.length,X,O,R),B=B.next,T.bufferedRequestCount--,T.writing)break}B===null&&(T.lastBufferedRequest=null)}T.bufferedRequest=B,T.bufferProcessing=!1}function x(k){return k.ending&&k.length===0&&k.bufferedRequest===null&&!k.finished&&!k.writing}function S(k,T){k._final(function(B){T.pendingcb--,B&&M(k,B),T.prefinished=!0,k.emit("prefinish"),_(k,T)})}function _(k,T){var B=x(T);if(B&&(function(q,W){W.prefinished||W.finalCalled||(typeof q._final!="function"||W.destroyed?(W.prefinished=!0,q.emit("prefinish")):(W.pendingcb++,W.finalCalled=!0,s.nextTick(S,q,W)))}(k,T),T.pendingcb===0&&(T.finished=!0,k.emit("finish"),T.autoDestroy))){var V=k._readableState;(!V||V.autoDestroy&&V.endEmitted)&&k.destroy()}return B}e("inherits")(U,u),$.prototype.getBuffer=function(){for(var k=this.bufferedRequest,T=[];k;)T.push(k),k=k.next;return T},function(){try{Object.defineProperty($.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(k){return!!h.call(this,k)||this===U&&k&&k._writableState instanceof $}})):h=function(k){return k instanceof this},U.prototype.pipe=function(){M(this,new E)},U.prototype.write=function(k,T,B){var V,q=this._writableState,W=!1,J=!q.objectMode&&(V=k,p.isBuffer(V)||V instanceof d);return J&&!p.isBuffer(k)&&(k=function(z){return p.from(z)}(k)),typeof T=="function"&&(B=T,T=null),J?T="buffer":T||(T=q.defaultEncoding),typeof B!="function"&&(B=F),q.ending?function(z,X){var O=new L;M(z,O),s.nextTick(X,O)}(this,B):(J||function(z,X,O,R){var H;return O===null?H=new D:typeof O=="string"||X.objectMode||(H=new y("chunk",["string","Buffer"],O)),!H||(M(z,H),s.nextTick(R,H),!1)}(this,q,k,B))&&(q.pendingcb++,W=function(z,X,O,R,H,G){if(!O){var ee=function(le,Y,ie){return le.objectMode||le.decodeStrings===!1||typeof Y!="string"||(Y=p.from(Y,ie)),Y}(X,R,H);R!==ee&&(O=!0,H="buffer",R=ee)}var Z=X.objectMode?1:R.length;X.length+=Z;var te=X.length<X.highWaterMark;if(te||(X.needDrain=!0),X.writing||X.corked){var oe=X.lastBufferedRequest;X.lastBufferedRequest={chunk:R,encoding:H,isBuf:O,callback:G,next:null},oe?oe.next=X.lastBufferedRequest:X.bufferedRequest=X.lastBufferedRequest,X.bufferedRequestCount+=1}else j(z,X,!1,Z,R,H,G);return te}(this,q,J,k,T,B)),W},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var k=this._writableState;k.corked&&(k.corked--,k.writing||k.corked||k.bufferProcessing||!k.bufferedRequest||N(this,k))},U.prototype.setDefaultEncoding=function(k){if(typeof k=="string"&&(k=k.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((k+"").toLowerCase())>-1))throw new C(k);return this._writableState.defaultEncoding=k,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),U.prototype._write=function(k,T,B){B(new v("_write()"))},U.prototype._writev=null,U.prototype.end=function(k,T,B){var V=this._writableState;return typeof k=="function"?(B=k,k=null,T=null):typeof T=="function"&&(B=T,T=null),k!=null&&this.write(k,T),V.corked&&(V.corked=1,this.uncork()),V.ending||function(q,W,J){W.ending=!0,_(q,W),J&&(W.finished?s.nextTick(J):q.once("finish",J)),W.ended=!0,q.writable=!1}(this,V,B),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(k){this._writableState&&(this._writableState.destroyed=k)}}),U.prototype.destroy=g.destroy,U.prototype._undestroy=g.undestroy,U.prototype._destroy=function(k,T){T(k)}}).call(this)}).call(this,e("_process"),typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,n,i){(function(s){(function(){var a;function c(A,D,L){return(D=function(C){var M=function(F,$){if(typeof F!="object"||F===null)return F;var U=F[Symbol.toPrimitive];if(U!==void 0){var j=U.call(F,$);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(F)}(C,"string");return typeof M=="symbol"?M:String(M)}(D))in A?Object.defineProperty(A,D,{value:L,enumerable:!0,configurable:!0,writable:!0}):A[D]=L,A}var l=e("./end-of-stream"),o=Symbol("lastResolve"),u=Symbol("lastReject"),p=Symbol("error"),d=Symbol("ended"),h=Symbol("lastPromise"),g=Symbol("handlePromise"),b=Symbol("stream");function m(A,D){return{value:A,done:D}}function y(A){var D=A[o];if(D!==null){var L=A[b].read();L!==null&&(A[h]=null,A[o]=null,A[u]=null,D(m(L,!1)))}}function v(A){s.nextTick(y,A)}var w=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((c(a={get stream(){return this[b]},next:function(){var A=this,D=this[p];if(D!==null)return Promise.reject(D);if(this[d])return Promise.resolve(m(void 0,!0));if(this[b].destroyed)return new Promise(function(F,$){s.nextTick(function(){A[p]?$(A[p]):F(m(void 0,!0))})});var L,C=this[h];if(C)L=new Promise(function(F,$){return function(U,j){F.then(function(){$[d]?U(m(void 0,!0)):$[g](U,j)},j)}}(C,this));else{var M=this[b].read();if(M!==null)return Promise.resolve(m(M,!1));L=new Promise(this[g])}return this[h]=L,L}},Symbol.asyncIterator,function(){return this}),c(a,"return",function(){var A=this;return new Promise(function(D,L){A[b].destroy(null,function(C){C?L(C):D(m(void 0,!0))})})}),a),w);n.exports=function(A){var D,L=Object.create(E,(c(D={},b,{value:A,writable:!0}),c(D,o,{value:null,writable:!0}),c(D,u,{value:null,writable:!0}),c(D,p,{value:null,writable:!0}),c(D,d,{value:A._readableState.endEmitted,writable:!0}),c(D,g,{value:function(C,M){var F=L[b].read();F?(L[h]=null,L[o]=null,L[u]=null,C(m(F,!1))):(L[o]=C,L[u]=M)},writable:!0}),D));return L[h]=null,l(A,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=L[u];return M!==null&&(L[h]=null,L[o]=null,L[u]=null,M(C)),void(L[p]=C)}var F=L[o];F!==null&&(L[h]=null,L[o]=null,L[u]=null,F(m(void 0,!0))),L[d]=!0}),A.on("readable",v.bind(null,L)),L}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,n,i){function s(h,g){var b=Object.keys(h);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(h);g&&(m=m.filter(function(y){return Object.getOwnPropertyDescriptor(h,y).enumerable})),b.push.apply(b,m)}return b}function a(h){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?s(Object(b),!0).forEach(function(m){c(h,m,b[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(b)):s(Object(b)).forEach(function(m){Object.defineProperty(h,m,Object.getOwnPropertyDescriptor(b,m))})}return h}function c(h,g,b){return(g=o(g))in h?Object.defineProperty(h,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):h[g]=b,h}function l(h,g){for(var b=0;b<g.length;b++){var m=g[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,o(m.key),m)}}function o(h){var g=function(b,m){if(typeof b!="object"||b===null)return b;var y=b[Symbol.toPrimitive];if(y!==void 0){var v=y.call(b,m);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(b)}(h,"string");return typeof g=="symbol"?g:String(g)}var u=e("buffer").Buffer,p=e("util").inspect,d=p&&p.custom||"inspect";n.exports=function(){function h(){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}var g,b;return g=h,(b=[{key:"push",value:function(m){var y={data:m,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(m){var y={data:m,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var y=this.head,v=""+y.data;y=y.next;)v+=m+y.data;return v}},{key:"concat",value:function(m){if(this.length===0)return u.alloc(0);for(var y,v,w,E=u.allocUnsafe(m>>>0),A=this.head,D=0;A;)y=A.data,v=E,w=D,u.prototype.copy.call(y,v,w),D+=A.data.length,A=A.next;return E}},{key:"consume",value:function(m,y){var v;return m<this.head.data.length?(v=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):v=m===this.head.data.length?this.shift():y?this._getString(m):this._getBuffer(m),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var y=this.head,v=1,w=y.data;for(m-=w.length;y=y.next;){var E=y.data,A=m>E.length?E.length:m;if(A===E.length?w+=E:w+=E.slice(0,m),(m-=A)==0){A===E.length?(++v,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=E.slice(A));break}++v}return this.length-=v,w}},{key:"_getBuffer",value:function(m){var y=u.allocUnsafe(m),v=this.head,w=1;for(v.data.copy(y),m-=v.data.length;v=v.next;){var E=v.data,A=m>E.length?E.length:m;if(E.copy(y,y.length-m,0,A),(m-=A)==0){A===E.length?(++w,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=E.slice(A));break}++w}return this.length-=w,y}},{key:d,value:function(m,y){return p(this,a(a({},y),{},{depth:0,customInspect:!1}))}}])&&l(g.prototype,b),Object.defineProperty(g,"prototype",{writable:!1}),h}()},{buffer:220,util:188}],485:[function(e,n,i){(function(s){(function(){function a(o,u){l(o,u),c(o)}function c(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function l(o,u){o.emit("error",u)}n.exports={destroy:function(o,u){var p=this,d=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return d||h?(u?u(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(l,this,o)):s.nextTick(l,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(g){!u&&g?p._writableState?p._writableState.errorEmitted?s.nextTick(c,p):(p._writableState.errorEmitted=!0,s.nextTick(a,p,g)):s.nextTick(a,p,g):u?(s.nextTick(c,p),u(g)):s.nextTick(c,p)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(o,u){var p=o._readableState,d=o._writableState;p&&p.autoDestroy||d&&d.autoDestroy?o.destroy(u):o.emit("error",u)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,n,i){var s=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function a(){}n.exports=function c(l,o,u){if(typeof o=="function")return c(l,null,o);o||(o={}),u=function(A){var D=!1;return function(){if(!D){D=!0;for(var L=arguments.length,C=new Array(L),M=0;M<L;M++)C[M]=arguments[M];A.apply(this,C)}}}(u||a);var p=o.readable||o.readable!==!1&&l.readable,d=o.writable||o.writable!==!1&&l.writable,h=function(){l.writable||b()},g=l._writableState&&l._writableState.finished,b=function(){d=!1,g=!0,p||u.call(l)},m=l._readableState&&l._readableState.endEmitted,y=function(){p=!1,m=!0,d||u.call(l)},v=function(A){u.call(l,A)},w=function(){var A;return p&&!m?(l._readableState&&l._readableState.ended||(A=new s),u.call(l,A)):d&&!g?(l._writableState&&l._writableState.ended||(A=new s),u.call(l,A)):void 0},E=function(){l.req.on("finish",b)};return function(A){return A.setHeader&&typeof A.abort=="function"}(l)?(l.on("complete",b),l.on("abort",w),l.req?E():l.on("request",E)):d&&!l._writableState&&(l.on("end",h),l.on("close",h)),l.on("end",y),l.on("finish",b),o.error!==!1&&l.on("error",v),l.on("close",w),function(){l.removeListener("complete",b),l.removeListener("abort",w),l.removeListener("request",E),l.req&&l.req.removeListener("finish",b),l.removeListener("end",h),l.removeListener("close",h),l.removeListener("finish",b),l.removeListener("end",y),l.removeListener("error",v),l.removeListener("close",w)}}},{"../../../errors":477}],487:[function(e,n,i){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,n,i){var s,a=e("../../../errors").codes,c=a.ERR_MISSING_ARGS,l=a.ERR_STREAM_DESTROYED;function o(g){if(g)throw g}function u(g,b,m,y){y=function(E){var A=!1;return function(){A||(A=!0,E.apply(void 0,arguments))}}(y);var v=!1;g.on("close",function(){v=!0}),s===void 0&&(s=e("./end-of-stream")),s(g,{readable:b,writable:m},function(E){if(E)return y(E);v=!0,y()});var w=!1;return function(E){if(!v&&!w)return w=!0,function(A){return A.setHeader&&typeof A.abort=="function"}(g)?g.abort():typeof g.destroy=="function"?g.destroy():void y(E||new l("pipe"))}}function p(g){g()}function d(g,b){return g.pipe(b)}function h(g){return g.length?typeof g[g.length-1]!="function"?o:g.pop():o}n.exports=function(){for(var g=arguments.length,b=new Array(g),m=0;m<g;m++)b[m]=arguments[m];var y,v=h(b);if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new c("streams");var w=b.map(function(E,A){var D=A<b.length-1;return u(E,D,A>0,function(L){y||(y=L),L&&w.forEach(p),D||(w.forEach(p),v(y))})});return b.reduce(d)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,n,i){var s=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(a,c,l,o){var u=function(p,d,h){return p.highWaterMark!=null?p.highWaterMark:d?p[h]:null}(c,o,l);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new s(o?l:"highWaterMark",u);return Math.floor(u)}return a.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,n,i){n.exports=e("events").EventEmitter},{events:422}],491:[function(e,n,i){(i=n.exports=e("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js"),i.finished=e("./lib/internal/streams/end-of-stream.js"),i.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,n,i){var s=function(a){var c=Object.prototype,l=c.hasOwnProperty,o=Object.defineProperty||function(_,k,T){_[k]=T.value},u=typeof Symbol=="function"?Symbol:{},p=u.iterator||"@@iterator",d=u.asyncIterator||"@@asyncIterator",h=u.toStringTag||"@@toStringTag";function g(_,k,T){return Object.defineProperty(_,k,{value:T,enumerable:!0,configurable:!0,writable:!0}),_[k]}try{g({},"")}catch{g=function(k,T,B){return k[T]=B}}function b(_,k,T,B){var V=k&&k.prototype instanceof v?k:v,q=Object.create(V.prototype),W=new N(B||[]);return o(q,"_invoke",{value:$(_,T,W)}),q}function m(_,k,T){try{return{type:"normal",arg:_.call(k,T)}}catch(B){return{type:"throw",arg:B}}}a.wrap=b;var y={};function v(){}function w(){}function E(){}var A={};g(A,p,function(){return this});var D=Object.getPrototypeOf,L=D&&D(D(x([])));L&&L!==c&&l.call(L,p)&&(A=L);var C=E.prototype=v.prototype=Object.create(A);function M(_){["next","throw","return"].forEach(function(k){g(_,k,function(T){return this._invoke(k,T)})})}function F(_,k){var T;o(this,"_invoke",{value:function(B,V){function q(){return new k(function(W,J){(function z(X,O,R,H){var G=m(_[X],_,O);if(G.type!=="throw"){var ee=G.arg,Z=ee.value;return Z&&typeof Z=="object"&&l.call(Z,"__await")?k.resolve(Z.__await).then(function(te){z("next",te,R,H)},function(te){z("throw",te,R,H)}):k.resolve(Z).then(function(te){ee.value=te,R(ee)},function(te){return z("throw",te,R,H)})}H(G.arg)})(B,V,W,J)})}return T=T?T.then(q,q):q()}})}function $(_,k,T){var B="suspendedStart";return function(V,q){if(B==="executing")throw new Error("Generator is already running");if(B==="completed"){if(V==="throw")throw q;return S()}for(T.method=V,T.arg=q;;){var W=T.delegate;if(W){var J=U(W,T);if(J){if(J===y)continue;return J}}if(T.method==="next")T.sent=T._sent=T.arg;else if(T.method==="throw"){if(B==="suspendedStart")throw B="completed",T.arg;T.dispatchException(T.arg)}else T.method==="return"&&T.abrupt("return",T.arg);B="executing";var z=m(_,k,T);if(z.type==="normal"){if(B=T.done?"completed":"suspendedYield",z.arg===y)continue;return{value:z.arg,done:T.done}}z.type==="throw"&&(B="completed",T.method="throw",T.arg=z.arg)}}}function U(_,k){var T=k.method,B=_.iterator[T];if(B===void 0)return k.delegate=null,T==="throw"&&_.iterator.return&&(k.method="return",k.arg=void 0,U(_,k),k.method==="throw")||T!=="return"&&(k.method="throw",k.arg=new TypeError("The iterator does not provide a '"+T+"' method")),y;var V=m(B,_.iterator,k.arg);if(V.type==="throw")return k.method="throw",k.arg=V.arg,k.delegate=null,y;var q=V.arg;return q?q.done?(k[_.resultName]=q.value,k.next=_.nextLoc,k.method!=="return"&&(k.method="next",k.arg=void 0),k.delegate=null,y):q:(k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,y)}function j(_){var k={tryLoc:_[0]};1 in _&&(k.catchLoc=_[1]),2 in _&&(k.finallyLoc=_[2],k.afterLoc=_[3]),this.tryEntries.push(k)}function P(_){var k=_.completion||{};k.type="normal",delete k.arg,_.completion=k}function N(_){this.tryEntries=[{tryLoc:"root"}],_.forEach(j,this),this.reset(!0)}function x(_){if(_){var k=_[p];if(k)return k.call(_);if(typeof _.next=="function")return _;if(!isNaN(_.length)){var T=-1,B=function V(){for(;++T<_.length;)if(l.call(_,T))return V.value=_[T],V.done=!1,V;return V.value=void 0,V.done=!0,V};return B.next=B}}return{next:S}}function S(){return{value:void 0,done:!0}}return w.prototype=E,o(C,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=g(E,h,"GeneratorFunction"),a.isGeneratorFunction=function(_){var k=typeof _=="function"&&_.constructor;return!!k&&(k===w||(k.displayName||k.name)==="GeneratorFunction")},a.mark=function(_){return Object.setPrototypeOf?Object.setPrototypeOf(_,E):(_.__proto__=E,g(_,h,"GeneratorFunction")),_.prototype=Object.create(C),_},a.awrap=function(_){return{__await:_}},M(F.prototype),g(F.prototype,d,function(){return this}),a.AsyncIterator=F,a.async=function(_,k,T,B,V){V===void 0&&(V=Promise);var q=new F(b(_,k,T,B),V);return a.isGeneratorFunction(k)?q:q.next().then(function(W){return W.done?W.value:q.next()})},M(C),g(C,h,"Generator"),g(C,p,function(){return this}),g(C,"toString",function(){return"[object Generator]"}),a.keys=function(_){var k=Object(_),T=[];for(var B in k)T.push(B);return T.reverse(),function V(){for(;T.length;){var q=T.pop();if(q in k)return V.value=q,V.done=!1,V}return V.done=!0,V}},a.values=x,N.prototype={constructor:N,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!_)for(var k in this)k.charAt(0)==="t"&&l.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var k=this;function T(z,X){return q.type="throw",q.arg=_,k.next=z,X&&(k.method="next",k.arg=void 0),!!X}for(var B=this.tryEntries.length-1;B>=0;--B){var V=this.tryEntries[B],q=V.completion;if(V.tryLoc==="root")return T("end");if(V.tryLoc<=this.prev){var W=l.call(V,"catchLoc"),J=l.call(V,"finallyLoc");if(W&&J){if(this.prev<V.catchLoc)return T(V.catchLoc,!0);if(this.prev<V.finallyLoc)return T(V.finallyLoc)}else if(W){if(this.prev<V.catchLoc)return T(V.catchLoc,!0)}else{if(!J)throw new Error("try statement without catch or finally");if(this.prev<V.finallyLoc)return T(V.finallyLoc)}}}},abrupt:function(_,k){for(var T=this.tryEntries.length-1;T>=0;--T){var B=this.tryEntries[T];if(B.tryLoc<=this.prev&&l.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var V=B;break}}V&&(_==="break"||_==="continue")&&V.tryLoc<=k&&k<=V.finallyLoc&&(V=null);var q=V?V.completion:{};return q.type=_,q.arg=k,V?(this.method="next",this.next=V.finallyLoc,y):this.complete(q)},complete:function(_,k){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&k&&(this.next=k),y},finish:function(_){for(var k=this.tryEntries.length-1;k>=0;--k){var T=this.tryEntries[k];if(T.finallyLoc===_)return this.complete(T.completion,T.afterLoc),P(T),y}},catch:function(_){for(var k=this.tryEntries.length-1;k>=0;--k){var T=this.tryEntries[k];if(T.tryLoc===_){var B=T.completion;if(B.type==="throw"){var V=B.arg;P(T)}return V}}throw new Error("illegal catch attempt")},delegateYield:function(_,k,T){return this.delegate={iterator:x(_),resultName:k,nextLoc:T},this.method==="next"&&(this.arg=void 0),y}},a}(typeof n=="object"?n.exports:{});try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}},{}],493:[function(e,n,i){var s=e("buffer").Buffer,a=e("inherits"),c=e("hash-base"),l=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function b(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(D,L){return D<<L|D>>>32-L}function y(D,L,C,M,F,$,U,j){return m(D+(L^C^M)+$+U|0,j)+F|0}function v(D,L,C,M,F,$,U,j){return m(D+(L&C|~L&M)+$+U|0,j)+F|0}function w(D,L,C,M,F,$,U,j){return m(D+((L|~C)^M)+$+U|0,j)+F|0}function E(D,L,C,M,F,$,U,j){return m(D+(L&M|C&~M)+$+U|0,j)+F|0}function A(D,L,C,M,F,$,U,j){return m(D+(L^(C|~M))+$+U|0,j)+F|0}a(b,c),b.prototype._update=function(){for(var D=l,L=0;L<16;++L)D[L]=this._block.readInt32LE(4*L);for(var C=0|this._a,M=0|this._b,F=0|this._c,$=0|this._d,U=0|this._e,j=0|this._a,P=0|this._b,N=0|this._c,x=0|this._d,S=0|this._e,_=0;_<80;_+=1){var k,T;_<16?(k=y(C,M,F,$,U,D[o[_]],h[0],p[_]),T=A(j,P,N,x,S,D[u[_]],g[0],d[_])):_<32?(k=v(C,M,F,$,U,D[o[_]],h[1],p[_]),T=E(j,P,N,x,S,D[u[_]],g[1],d[_])):_<48?(k=w(C,M,F,$,U,D[o[_]],h[2],p[_]),T=w(j,P,N,x,S,D[u[_]],g[2],d[_])):_<64?(k=E(C,M,F,$,U,D[o[_]],h[3],p[_]),T=v(j,P,N,x,S,D[u[_]],g[3],d[_])):(k=A(C,M,F,$,U,D[o[_]],h[4],p[_]),T=y(j,P,N,x,S,D[u[_]],g[4],d[_])),C=U,U=$,$=m(F,10),F=M,M=k,j=S,S=x,x=m(N,10),N=P,P=T}var B=this._b+F+x|0;this._b=this._c+$+S|0,this._c=this._d+U+j|0,this._d=this._e+C+P|0,this._e=this._a+M+N|0,this._a=B},b.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var D=s.alloc?s.alloc(20):new s(20);return D.writeInt32LE(this._a,0),D.writeInt32LE(this._b,4),D.writeInt32LE(this._c,8),D.writeInt32LE(this._d,12),D.writeInt32LE(this._e,16),D},n.exports=b},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,n,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var s=e("buffer"),a=s.Buffer;function c(o,u){for(var p in o)u[p]=o[p]}function l(o,u,p){return a(o,u,p)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=s:(c(s,i),i.Buffer=l),l.prototype=Object.create(a.prototype),c(a,l),l.from=function(o,u,p){if(typeof o=="number")throw new TypeError("Argument must not be a number");return a(o,u,p)},l.alloc=function(o,u,p){if(typeof o!="number")throw new TypeError("Argument must be a number");var d=a(o);return u!==void 0?typeof p=="string"?d.fill(u,p):d.fill(u):d.fill(0),d},l.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a(o)},l.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(o)}},{buffer:220}],495:[function(e,n,i){(function(s){(function(){var a,c=e("buffer"),l=c.Buffer,o={};for(a in c)c.hasOwnProperty(a)&&a!=="SlowBuffer"&&a!=="Buffer"&&(o[a]=c[a]);var u=o.Buffer={};for(a in l)l.hasOwnProperty(a)&&a!=="allocUnsafe"&&a!=="allocUnsafeSlow"&&(u[a]=l[a]);if(o.Buffer.prototype=l.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(p,d,h){if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof p);if(p&&p.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);return l(p,d,h)}),u.alloc||(u.alloc=function(p,d,h){if(typeof p!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof p);if(p<0||p>=2*(1<<30))throw new RangeError('The value "'+p+'" is invalid for option "size"');var g=l(p);return d&&d.length!==0?typeof h=="string"?g.fill(d,h):g.fill(d):g.fill(0),g}),!o.kStringMaxLength)try{o.kStringMaxLength=s.binding("buffer").kStringMaxLength}catch{}o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),n.exports=o}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0});const s=e("xmlchars/xml/1.0/ed5"),a=e("xmlchars/xml/1.1/ed2"),c=e("xmlchars/xmlns/1.0/ed3");var l=s.isS,o=s.isChar,u=s.isNameStartChar,p=s.isNameChar,d=s.S_LIST,h=s.NAME_RE,g=a.isChar,b=c.isNCNameStartChar,m=c.isNCNameChar,y=c.NC_NAME_RE;const v="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",E={__proto__:null,xml:v,xmlns:w},A={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},D=x=>x===34||x===39,L=[34,39],C=[...L,91,62],M=[...L,60,93],F=[61,63,...d],$=[...d,62,38,60];function U(x,S,_){switch(S){case"xml":_!==v&&x.fail(`xml prefix must be bound to ${v}.`);break;case"xmlns":_!==w&&x.fail(`xmlns prefix must be bound to ${w}.`)}switch(_){case w:x.fail(S===""?`the default namespace may not be set to ${_}.`:`may not assign a prefix (even "xmlns") to the URI ${w}.`);break;case v:switch(S){case"xml":break;case"":x.fail(`the default namespace may not be set to ${_}.`);break;default:x.fail("may not assign the xml namespace to another prefix.")}}}const j=x=>y.test(x),P=x=>h.test(x);i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const N={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};i.SaxesParser=class{constructor(x){this.opt=x??{},this.fragmentOpt=!!this.opt.fragment;const S=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,S){this.nameStartCheck=b,this.nameCheck=m,this.isName=j,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},E);const _=this.opt.additionalNamespaces;_!=null&&(function(k,T){for(const B of Object.keys(T))U(k,B,T[B])}(this,_),Object.assign(this.ns,_))}else this.nameStartCheck=u,this.nameCheck=p,this.isName=P,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var x;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:S}=this;this.state=S?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=S,this.xmlDeclPossible=!S,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:_}=this.opt;if(_===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");_="1.0"}this.setXMLVersion(_),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(A),(x=this.readyHandler)===null||x===void 0||x.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(x,S){this[N[x]]=S}off(x){this[N[x]]=void 0}makeError(x){var S;let _=(S=this.fileName)!==null&&S!==void 0?S:"";return this.trackPosition&&(_.length>0&&(_+=":"),_+=`${this.line}:${this.column}`),_.length>0&&(_+=": "),new Error(_+x)}fail(x){const S=this.makeError(x),_=this.errorHandler;if(_===void 0)throw S;return _(S),this}write(x){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let S=!1;x===null?(S=!0,x=""):typeof x=="object"&&(x=x.toString()),this.carriedFromPrevious!==void 0&&(x=`${this.carriedFromPrevious}${x}`,this.carriedFromPrevious=void 0);let _=x.length;const k=x.charCodeAt(_-1);!S&&(k===13||k>=55296&&k<=56319)&&(this.carriedFromPrevious=x[_-1],_--,x=x.slice(0,_));const{stateTable:T}=this;for(this.chunk=x,this.i=0;this.i<_;)T[this.state].call(this);return this.chunkPosition+=_,S?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:x,i:S}=this;if(this.prevI=S,this.i=S+1,S>=x.length)return-1;const _=x.charCodeAt(S);if(this.column++,_<55296){if(_>=32||_===9)return _;switch(_){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return x.charCodeAt(S+1)===10&&(this.i=S+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),_}}if(_>56319)return _>=57344&&_<=65533||this.fail("disallowed character."),_;const k=65536+1024*(_-55296)+(x.charCodeAt(S+1)-56320);return this.i=S+2,k>1114111&&this.fail("disallowed character."),k}getCode11(){const{chunk:x,i:S}=this;if(this.prevI=S,this.i=S+1,S>=x.length)return-1;const _=x.charCodeAt(S);if(this.column++,_<55296){if(_>31&&_<127||_>159&&_!==8232||_===9)return _;switch(_){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const T=x.charCodeAt(S+1);T!==10&&T!==133||(this.i=S+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),_}}if(_>56319)return _>=57344&&_<=65533||this.fail("disallowed character."),_;const k=65536+1024*(_-55296)+(x.charCodeAt(S+1)-56320);return this.i=S+2,k>1114111&&this.fail("disallowed character."),k}getCodeNorm(){const x=this.getCode();return x===-2?10:x}unget(){this.i=this.prevI,this.column--}captureTo(x){let{i:S}=this;const{chunk:_}=this;for(;;){const k=this.getCode(),T=k===-2,B=T?10:k;if(B===-1||x.includes(B))return this.text+=_.slice(S,this.prevI),B;T&&(this.text+=_.slice(S,this.prevI)+`
`,S=this.i)}}captureToChar(x){let{i:S}=this;const{chunk:_}=this;for(;;){let k=this.getCode();switch(k){case-2:this.text+=_.slice(S,this.prevI)+`
`,S=this.i,k=10;break;case-1:return this.text+=_.slice(S),!1}if(k===x)return this.text+=_.slice(S,this.prevI),!0}}captureNameChars(){const{chunk:x,i:S}=this;for(;;){const _=this.getCode();if(_===-1)return this.name+=x.slice(S),-1;if(!p(_))return this.name+=x.slice(S,this.prevI),_===-2?10:_}}skipSpaces(){for(;;){const x=this.getCodeNorm();if(x===-1||!l(x))return x}}setXMLVersion(x){this.currentXMLVersion=x,x==="1.0"?(this.isChar=o,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const x=this.i,S=this.skipSpaces();switch(this.prevI!==x&&(this.xmlDeclPossible=!1),S){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var x;const S=this.captureTo(C);switch(S){case 62:(x=this.doctypeHandler)===null||x===void 0||x.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(S),S===91?this.state=4:D(S)&&(this.state=3,this.q=S)}}sDoctypeQuote(){const x=this.q;this.captureToChar(x)&&(this.text+=String.fromCodePoint(x),this.q=null,this.state=2)}sDTD(){const x=this.captureTo(M);x!==-1&&(this.text+=String.fromCodePoint(x),x===93?this.state=2:x===60?this.state=6:D(x)&&(this.state=5,this.q=x))}sDTDQuoted(){const x=this.q;this.captureToChar(x)&&(this.text+=String.fromCodePoint(x),this.state=4,this.q=null)}sDTDOpenWaka(){const x=this.getCodeNorm();switch(this.text+=String.fromCodePoint(x),x){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const x=String.fromCodePoint(this.getCodeNorm()),S=this.openWakaBang+=x;this.text+=x,S!=="-"&&(this.state=S==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const x=this.getCodeNorm();this.text+=String.fromCodePoint(x),this.state=x===45?10:8}sDTDCommentEnded(){const x=this.getCodeNorm();this.text+=String.fromCodePoint(x),x===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const x=this.getCodeNorm();this.text+=String.fromCodePoint(x),x===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:x}=this;const{chunk:S}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=S.slice(x,this.prevI)+`
`,x=this.i;break;case 59:{const{entityReturnState:_}=this,k=this.entity+S.slice(x,this.prevI);let T;this.state=_,k===""?(this.fail("empty entity name."),T="&;"):(T=this.parseEntity(k),this.entity=""),_===13&&this.textHandler===void 0||(this.text+=T);break e}case-1:this.entity+=S.slice(x);break e}}sOpenWaka(){const x=this.getCode();if(u(x))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(x){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var x;const S=this.getCodeNorm();S===45?(this.state=19,(x=this.commentHandler)===null||x===void 0||x.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(S),this.state=17)}sCommentEnded(){const x=this.getCodeNorm();x!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(x),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const x=this.getCodeNorm();x===93?this.state=22:(this.text+="]"+String.fromCodePoint(x),this.state=20)}sCDataEnding2(){var x;const S=this.getCodeNorm();switch(S){case 62:(x=this.cdataHandler)===null||x===void 0||x.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(S),this.state=20}}sPIFirstChar(){const x=this.getCodeNorm();this.nameStartCheck(x)?(this.piTarget+=String.fromCodePoint(x),this.state=24):x===63||l(x)?(this.fail("processing instruction without a target."),this.state=x===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(x),this.state=24)}sPIRest(){const{chunk:x,i:S}=this;for(;;){const _=this.getCodeNorm();if(_===-1)return void(this.piTarget+=x.slice(S));if(!this.nameCheck(_)){this.piTarget+=x.slice(S,this.prevI);const k=_===63;k||l(_)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=k?33:27):this.state=k?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_));break}}}sPIBody(){if(this.text.length===0){const x=this.getCodeNorm();x===63?this.state=26:l(x)||(this.text=String.fromCodePoint(x))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var x;const S=this.getCodeNorm();if(S===62){const{piTarget:_}=this;_.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(x=this.piHandler)===null||x===void 0||x.call(this,{target:_,body:this.text}),this.piTarget=this.text="",this.state=13}else S===63?this.text+="?":(this.text+="?"+String.fromCodePoint(S),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const x=this.skipSpaces();x!==63?x!==-1&&(this.state=28,this.name=String.fromCodePoint(x)):this.state=33}sXMLDeclName(){const x=this.captureTo(F);if(x===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(x)||x===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=x===61?30:29}}sXMLDeclEq(){const x=this.getCodeNorm();if(x===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(x)||(x!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const x=this.getCodeNorm();if(x===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(x)||(D(x)?this.q=x:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const x=this.captureTo([this.q,63]);if(x===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(x===-1)return;const S=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const _=S;this.xmlDecl.version=_,/^1\.[0-9]+$/.test(_)?this.opt.forceXMLVersion||this.setXMLVersion(_):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(S)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=S;break;case"standalone":S!=="yes"&&S!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=S}this.name="",this.state=32}sXMLDeclSeparator(){const x=this.getCodeNorm();x!==63?(l(x)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var x;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(x=this.xmldeclHandler)===null||x===void 0||x.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var x;const S=this.captureNameChars();if(S===-1)return;const _=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=_.ns=Object.create(null)),(x=this.openTagStartHandler)===null||x===void 0||x.call(this,_),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),S){case 62:this.openTag();break;case 47:this.state=35;break;default:l(S)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const x=this.skipSpaces();x!==-1&&(u(x)?(this.unget(),this.state=37):x===62?this.openTag():x===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const x=this.captureNameChars();x===61?this.state=39:l(x)?this.state=38:x===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):x!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const x=this.skipSpaces();switch(x){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",x===62?this.openTag():u(x)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const x=this.getCodeNorm();D(x)?(this.q=x,this.state=40):l(x)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:x,chunk:S}=this;let{i:_}=this;for(;;)switch(this.getCode()){case x:return this.pushAttrib(this.name,this.text+S.slice(_,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=S.slice(_,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=S.slice(_,this.prevI)+" ",_=this.i;break;case 60:return this.text+=S.slice(_,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=S.slice(_))}}sAttribValueClosed(){const x=this.getCodeNorm();l(x)?this.state=36:x===62?this.openTag():x===47?this.state=35:u(x)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const x=this.captureTo($);switch(x){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",x===62?this.openTag():this.state=36}}sCloseTag(){const x=this.captureNameChars();x===62?this.closeTag():l(x)?this.state=44:x!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:x,forbiddenState:S}=this;const{chunk:_,textHandler:k}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,k!==void 0){const{text:T}=this,B=_.slice(x,this.prevI);T.length!==0?(k(T+B),this.text=""):B.length!==0&&k(B)}S=0;break e;case 38:this.state=14,this.entityReturnState=13,k!==void 0&&(this.text+=_.slice(x,this.prevI)),S=0;break e;case 93:switch(S){case 0:S=1;break;case 1:S=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:S===2&&this.fail('the string "]]>" is disallowed in char data.'),S=0;break;case-2:k!==void 0&&(this.text+=_.slice(x,this.prevI)+`
`),x=this.i,S=0;break;case-1:k!==void 0&&(this.text+=_.slice(x));break e;default:S=0}this.forbiddenState=S}handleTextOutsideRoot(){let{i:x}=this;const{chunk:S,textHandler:_}=this;let k=!1;e:for(;;){const T=this.getCode();switch(T){case 60:if(this.state=15,_!==void 0){const{text:B}=this,V=S.slice(x,this.prevI);B.length!==0?(_(B+V),this.text=""):V.length!==0&&_(V)}break e;case 38:this.state=14,this.entityReturnState=13,_!==void 0&&(this.text+=S.slice(x,this.prevI)),k=!0;break e;case-2:_!==void 0&&(this.text+=S.slice(x,this.prevI)+`
`),x=this.i;break;case-1:_!==void 0&&(this.text+=S.slice(x));break e;default:l(T)||(k=!0)}}k&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(x,S){var _;const{prefix:k,local:T}=this.qname(x),B={name:x,prefix:k,local:T,value:S};if(this.attribList.push(B),(_=this.attributeHandler)===null||_===void 0||_.call(this,B),k==="xmlns"){const V=S.trim();this.currentXMLVersion==="1.0"&&V===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[T]=V,U(this,T,V)}else if(x==="xmlns"){const V=S.trim();this.topNS[""]=V,U(this,"",V)}}pushAttribPlain(x,S){var _;const k={name:x,value:S};this.attribList.push(k),(_=this.attributeHandler)===null||_===void 0||_.call(this,k)}end(){var x,S;this.sawRoot||this.fail("document must contain a root element.");const{tags:_}=this;for(;_.length>0;){const T=_.pop();this.fail("unclosed tag: "+T.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:k}=this;return k.length!==0&&((x=this.textHandler)===null||x===void 0||x.call(this,k),this.text=""),this._closed=!0,(S=this.endHandler)===null||S===void 0||S.call(this),this._init(),this}resolve(x){var S,_;let k=this.topNS[x];if(k!==void 0)return k;const{tags:T}=this;for(let B=T.length-1;B>=0;B--)if(k=T[B].ns[x],k!==void 0)return k;return k=this.ns[x],k!==void 0?k:(_=(S=this.opt).resolvePrefix)===null||_===void 0?void 0:_.call(S,x)}qname(x){const S=x.indexOf(":");if(S===-1)return{prefix:"",local:x};const _=x.slice(S+1),k=x.slice(0,S);return(k===""||_===""||_.includes(":"))&&this.fail(`malformed name: ${x}.`),{prefix:k,local:_}}processAttribsNS(){var x;const{attribList:S}=this,_=this.tag;{const{prefix:B,local:V}=this.qname(_.name);_.prefix=B,_.local=V;const q=_.uri=(x=this.resolve(B))!==null&&x!==void 0?x:"";B!==""&&(B==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),q===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(B)}.`),_.uri=B))}if(S.length===0)return;const{attributes:k}=_,T=new Set;for(const B of S){const{name:V,prefix:q,local:W}=B;let J,z;q===""?(J=V==="xmlns"?w:"",z=V):(J=this.resolve(q),J===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(q)}.`),J=q),z=`{${J}}${W}`),T.has(z)&&this.fail(`duplicate attribute: ${z}.`),T.add(z),B.uri=J,k[V]=B}this.attribList=[]}processAttribsPlain(){const{attribList:x}=this,S=this.tag.attributes;for(const{name:_,value:k}of x)S[_]!==void 0&&this.fail(`duplicate attribute: ${_}.`),S[_]=k;this.attribList=[]}openTag(){var x;this.processAttribs();const{tags:S}=this,_=this.tag;_.isSelfClosing=!1,(x=this.openTagHandler)===null||x===void 0||x.call(this,_),S.push(_),this.state=13,this.name=""}openSelfClosingTag(){var x,S,_;this.processAttribs();const{tags:k}=this,T=this.tag;T.isSelfClosing=!0,(x=this.openTagHandler)===null||x===void 0||x.call(this,T),(S=this.closeTagHandler)===null||S===void 0||S.call(this,T),(this.tag=(_=k[k.length-1])!==null&&_!==void 0?_:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:x,name:S}=this;if(this.state=13,this.name="",S==="")return this.fail("weird empty close tag."),void(this.text+="</>");const _=this.closeTagHandler;let k=x.length;for(;k-- >0;){const T=this.tag=x.pop();if(this.topNS=T.ns,_==null||_(T),T.name===S)break;this.fail("unexpected close tag.")}k===0?this.closedRoot=!0:k<0&&(this.fail(`unmatched closing tag: ${S}.`),this.text+=`</${S}>`)}parseEntity(x){if(x[0]!=="#"){const _=this.ENTITIES[x];return _!==void 0?_:(this.fail(this.isName(x)?"undefined entity.":"disallowed character in entity name."),`&${x};`)}let S=NaN;return x[1]==="x"&&/^#x[0-9a-f]+$/i.test(x)?S=parseInt(x.slice(2),16):/^#[0-9]+$/.test(x)&&(S=parseInt(x.slice(1),10)),this.isChar(S)?String.fromCodePoint(S):(this.fail("malformed character entity."),`&${x};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,n,i){var s=e("safe-buffer").Buffer;function a(c,l){this._block=s.alloc(c),this._finalSize=l,this._blockSize=c,this._len=0}a.prototype.update=function(c,l){typeof c=="string"&&(l=l||"utf8",c=s.from(c,l));for(var o=this._block,u=this._blockSize,p=c.length,d=this._len,h=0;h<p;){for(var g=d%u,b=Math.min(p-h,u-g),m=0;m<b;m++)o[g+m]=c[h+m];h+=b,(d+=b)%u==0&&this._update(o)}return this._len+=p,this},a.prototype.digest=function(c){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var o=8*this._len;if(o<=4294967295)this._block.writeUInt32BE(o,this._blockSize-4);else{var u=(4294967295&o)>>>0,p=(o-u)/4294967296;this._block.writeUInt32BE(p,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var d=this._hash();return c?d.toString(c):d},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=a},{"safe-buffer":494}],498:[function(e,n,i){var s=n.exports=function(a){a=a.toLowerCase();var c=s[a];if(!c)throw new Error(a+" is not supported (we accept pull requests)");return new c};s.sha=e("./sha"),s.sha1=e("./sha1"),s.sha224=e("./sha224"),s.sha256=e("./sha256"),s.sha384=e("./sha384"),s.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,n,i){var s=e("inherits"),a=e("./hash"),c=e("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,a.call(this,64,56)}function p(h){return h<<30|h>>>2}function d(h,g,b,m){return h===0?g&b|~g&m:h===2?g&b|g&m|b&m:g^b^m}s(u,a),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(h){for(var g,b=this._w,m=0|this._a,y=0|this._b,v=0|this._c,w=0|this._d,E=0|this._e,A=0;A<16;++A)b[A]=h.readInt32BE(4*A);for(;A<80;++A)b[A]=b[A-3]^b[A-8]^b[A-14]^b[A-16];for(var D=0;D<80;++D){var L=~~(D/20),C=0|((g=m)<<5|g>>>27)+d(L,y,v,w)+E+b[D]+l[L];E=w,w=v,v=p(y),y=m,m=C}this._a=m+this._a|0,this._b=y+this._b|0,this._c=v+this._c|0,this._d=w+this._d|0,this._e=E+this._e|0},u.prototype._hash=function(){var h=c.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,n,i){var s=e("inherits"),a=e("./hash"),c=e("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,a.call(this,64,56)}function p(g){return g<<5|g>>>27}function d(g){return g<<30|g>>>2}function h(g,b,m,y){return g===0?b&m|~b&y:g===2?b&m|b&y|m&y:b^m^y}s(u,a),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(g){for(var b,m=this._w,y=0|this._a,v=0|this._b,w=0|this._c,E=0|this._d,A=0|this._e,D=0;D<16;++D)m[D]=g.readInt32BE(4*D);for(;D<80;++D)m[D]=(b=m[D-3]^m[D-8]^m[D-14]^m[D-16])<<1|b>>>31;for(var L=0;L<80;++L){var C=~~(L/20),M=p(y)+h(C,v,w,E)+A+m[L]+l[C]|0;A=E,E=w,w=d(v),v=y,y=M}this._a=y+this._a|0,this._b=v+this._b|0,this._c=w+this._c|0,this._d=E+this._d|0,this._e=A+this._e|0},u.prototype._hash=function(){var g=c.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,n,i){var s=e("inherits"),a=e("./sha256"),c=e("./hash"),l=e("safe-buffer").Buffer,o=new Array(64);function u(){this.init(),this._w=o,c.call(this,64,56)}s(u,a),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var p=l.allocUnsafe(28);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p},n.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,n,i){var s=e("inherits"),a=e("./hash"),c=e("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function u(){this.init(),this._w=o,a.call(this,64,56)}function p(m,y,v){return v^m&(y^v)}function d(m,y,v){return m&y|v&(m|y)}function h(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function g(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function b(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}s(u,a),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(m){for(var y,v=this._w,w=0|this._a,E=0|this._b,A=0|this._c,D=0|this._d,L=0|this._e,C=0|this._f,M=0|this._g,F=0|this._h,$=0;$<16;++$)v[$]=m.readInt32BE(4*$);for(;$<64;++$)v[$]=0|(((y=v[$-2])>>>17|y<<15)^(y>>>19|y<<13)^y>>>10)+v[$-7]+b(v[$-15])+v[$-16];for(var U=0;U<64;++U){var j=F+g(L)+p(L,C,M)+l[U]+v[U]|0,P=h(w)+d(w,E,A)|0;F=M,M=C,C=L,L=D+j|0,D=A,A=E,E=w,w=j+P|0}this._a=w+this._a|0,this._b=E+this._b|0,this._c=A+this._c|0,this._d=D+this._d|0,this._e=L+this._e|0,this._f=C+this._f|0,this._g=M+this._g|0,this._h=F+this._h|0},u.prototype._hash=function(){var m=c.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,n,i){var s=e("inherits"),a=e("./sha512"),c=e("./hash"),l=e("safe-buffer").Buffer,o=new Array(160);function u(){this.init(),this._w=o,c.call(this,128,112)}s(u,a),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var p=l.allocUnsafe(48);function d(h,g,b){p.writeInt32BE(h,b),p.writeInt32BE(g,b+4)}return d(this._ah,this._al,0),d(this._bh,this._bl,8),d(this._ch,this._cl,16),d(this._dh,this._dl,24),d(this._eh,this._el,32),d(this._fh,this._fl,40),p},n.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,n,i){var s=e("inherits"),a=e("./hash"),c=e("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function u(){this.init(),this._w=o,a.call(this,128,112)}function p(E,A,D){return D^E&(A^D)}function d(E,A,D){return E&A|D&(E|A)}function h(E,A){return(E>>>28|A<<4)^(A>>>2|E<<30)^(A>>>7|E<<25)}function g(E,A){return(E>>>14|A<<18)^(E>>>18|A<<14)^(A>>>9|E<<23)}function b(E,A){return(E>>>1|A<<31)^(E>>>8|A<<24)^E>>>7}function m(E,A){return(E>>>1|A<<31)^(E>>>8|A<<24)^(E>>>7|A<<25)}function y(E,A){return(E>>>19|A<<13)^(A>>>29|E<<3)^E>>>6}function v(E,A){return(E>>>19|A<<13)^(A>>>29|E<<3)^(E>>>6|A<<26)}function w(E,A){return E>>>0<A>>>0?1:0}s(u,a),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(E){for(var A=this._w,D=0|this._ah,L=0|this._bh,C=0|this._ch,M=0|this._dh,F=0|this._eh,$=0|this._fh,U=0|this._gh,j=0|this._hh,P=0|this._al,N=0|this._bl,x=0|this._cl,S=0|this._dl,_=0|this._el,k=0|this._fl,T=0|this._gl,B=0|this._hl,V=0;V<32;V+=2)A[V]=E.readInt32BE(4*V),A[V+1]=E.readInt32BE(4*V+4);for(;V<160;V+=2){var q=A[V-30],W=A[V-30+1],J=b(q,W),z=m(W,q),X=y(q=A[V-4],W=A[V-4+1]),O=v(W,q),R=A[V-14],H=A[V-14+1],G=A[V-32],ee=A[V-32+1],Z=z+H|0,te=J+R+w(Z,z)|0;te=(te=te+X+w(Z=Z+O|0,O)|0)+G+w(Z=Z+ee|0,ee)|0,A[V]=te,A[V+1]=Z}for(var oe=0;oe<160;oe+=2){te=A[oe],Z=A[oe+1];var le=d(D,L,C),Y=d(P,N,x),ie=h(D,P),se=h(P,D),de=g(F,_),ue=g(_,F),he=l[oe],ge=l[oe+1],be=p(F,$,U),xe=p(_,k,T),ke=B+ue|0,Ne=j+de+w(ke,B)|0;Ne=(Ne=(Ne=Ne+be+w(ke=ke+xe|0,xe)|0)+he+w(ke=ke+ge|0,ge)|0)+te+w(ke=ke+Z|0,Z)|0;var Re=se+Y|0,$e=ie+le+w(Re,se)|0;j=U,B=T,U=$,T=k,$=F,k=_,F=M+Ne+w(_=S+ke|0,S)|0,M=C,S=x,C=L,x=N,L=D,N=P,D=Ne+$e+w(P=ke+Re|0,ke)|0}this._al=this._al+P|0,this._bl=this._bl+N|0,this._cl=this._cl+x|0,this._dl=this._dl+S|0,this._el=this._el+_|0,this._fl=this._fl+k|0,this._gl=this._gl+T|0,this._hl=this._hl+B|0,this._ah=this._ah+D+w(this._al,P)|0,this._bh=this._bh+L+w(this._bl,N)|0,this._ch=this._ch+C+w(this._cl,x)|0,this._dh=this._dh+M+w(this._dl,S)|0,this._eh=this._eh+F+w(this._el,_)|0,this._fh=this._fh+$+w(this._fl,k)|0,this._gh=this._gh+U+w(this._gl,T)|0,this._hh=this._hh+j+w(this._hl,B)|0},u.prototype._hash=function(){var E=c.allocUnsafe(64);function A(D,L,C){E.writeInt32BE(D,C),E.writeInt32BE(L,C+4)}return A(this._ah,this._al,0),A(this._bh,this._bl,8),A(this._ch,this._cl,16),A(this._dh,this._dl,24),A(this._eh,this._el,32),A(this._fh,this._fl,40),A(this._gh,this._gl,48),A(this._hh,this._hl,56),E},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,n,i){n.exports=a;var s=e("events").EventEmitter;function a(){s.call(this)}e("inherits")(a,s),a.Readable=e("readable-stream/readable.js"),a.Writable=e("readable-stream/writable.js"),a.Duplex=e("readable-stream/duplex.js"),a.Transform=e("readable-stream/transform.js"),a.PassThrough=e("readable-stream/passthrough.js"),a.Stream=a,a.prototype.pipe=function(c,l){var o=this;function u(y){c.writable&&c.write(y)===!1&&o.pause&&o.pause()}function p(){o.readable&&o.resume&&o.resume()}o.on("data",u),c.on("drain",p),c._isStdio||l&&l.end===!1||(o.on("end",h),o.on("close",g));var d=!1;function h(){d||(d=!0,c.end())}function g(){d||(d=!0,typeof c.destroy=="function"&&c.destroy())}function b(y){if(m(),s.listenerCount(this,"error")===0)throw y}function m(){o.removeListener("data",u),c.removeListener("drain",p),o.removeListener("end",h),o.removeListener("close",g),o.removeListener("error",b),c.removeListener("error",b),o.removeListener("end",m),o.removeListener("close",m),c.removeListener("close",m)}return o.on("error",b),c.on("error",b),o.on("end",m),o.on("close",m),c.on("close",m),c.emit("pipe",o),c}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,n,i){var s={}.toString;n.exports=Array.isArray||function(a){return s.call(a)=="[object Array]"}},{}],507:[function(e,n,i){n.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,n,i){var s=e("process-nextick-args"),a=Object.keys||function(m){var y=[];for(var v in m)y.push(v);return y};n.exports=h;var c=Object.create(e("core-util-is"));c.inherits=e("inherits");var l=e("./_stream_readable"),o=e("./_stream_writable");c.inherits(h,l);for(var u=a(o.prototype),p=0;p<u.length;p++){var d=u[p];h.prototype[d]||(h.prototype[d]=o.prototype[d])}function h(m){if(!(this instanceof h))return new h(m);l.call(this,m),o.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||s.nextTick(b,this)}function b(m){m.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),h.prototype._destroy=function(m,y){this.push(null),this.end(),s.nextTick(y,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,n,i){n.exports=c;var s=e("./_stream_transform"),a=Object.create(e("core-util-is"));function c(l){if(!(this instanceof c))return new c(l);s.call(this,l)}a.inherits=e("inherits"),a.inherits(c,s),c.prototype._transform=function(l,o,u){u(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,n,i){(function(s,a){(function(){var c=e("process-nextick-args");n.exports=D;var l,o=e("isarray");D.ReadableState=A,e("events").EventEmitter;var u=function(B,V){return B.listeners(V).length},p=e("./internal/streams/stream"),d=e("safe-buffer").Buffer,h=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(e("core-util-is"));g.inherits=e("inherits");var b=e("util"),m=void 0;m=b&&b.debuglog?b.debuglog("stream"):function(){};var y,v=e("./internal/streams/BufferList"),w=e("./internal/streams/destroy");g.inherits(D,p);var E=["error","close","destroy","pause","resume"];function A(B,V){B=B||{};var q=V instanceof(l=l||e("./_stream_duplex"));this.objectMode=!!B.objectMode,q&&(this.objectMode=this.objectMode||!!B.readableObjectMode);var W=B.highWaterMark,J=B.readableHighWaterMark,z=this.objectMode?16:16384;this.highWaterMark=W||W===0?W:q&&(J||J===0)?J:z,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(y||(y=e("string_decoder/").StringDecoder),this.decoder=new y(B.encoding),this.encoding=B.encoding)}function D(B){if(l=l||e("./_stream_duplex"),!(this instanceof D))return new D(B);this._readableState=new A(B,this),this.readable=!0,B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy)),p.call(this)}function L(B,V,q,W,J){var z,X=B._readableState;return V===null?(X.reading=!1,function(O,R){if(!R.ended){if(R.decoder){var H=R.decoder.end();H&&H.length&&(R.buffer.push(H),R.length+=R.objectMode?1:H.length)}R.ended=!0,F(O)}}(B,X)):(J||(z=function(O,R){var H;G=R,d.isBuffer(G)||G instanceof h||typeof R=="string"||R===void 0||O.objectMode||(H=new TypeError("Invalid non-string/buffer chunk"));var G;return H}(X,V)),z?B.emit("error",z):X.objectMode||V&&V.length>0?(typeof V=="string"||X.objectMode||Object.getPrototypeOf(V)===d.prototype||(V=function(O){return d.from(O)}(V)),W?X.endEmitted?B.emit("error",new Error("stream.unshift() after end event")):C(B,X,V,!0):X.ended?B.emit("error",new Error("stream.push() after EOF")):(X.reading=!1,X.decoder&&!q?(V=X.decoder.write(V),X.objectMode||V.length!==0?C(B,X,V,!1):U(B,X)):C(B,X,V,!1))):W||(X.reading=!1)),function(O){return!O.ended&&(O.needReadable||O.length<O.highWaterMark||O.length===0)}(X)}function C(B,V,q,W){V.flowing&&V.length===0&&!V.sync?(B.emit("data",q),B.read(0)):(V.length+=V.objectMode?1:q.length,W?V.buffer.unshift(q):V.buffer.push(q),V.needReadable&&F(B)),U(B,V)}Object.defineProperty(D.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(B){this._readableState&&(this._readableState.destroyed=B)}}),D.prototype.destroy=w.destroy,D.prototype._undestroy=w.undestroy,D.prototype._destroy=function(B,V){this.push(null),V(B)},D.prototype.push=function(B,V){var q,W=this._readableState;return W.objectMode?q=!0:typeof B=="string"&&((V=V||W.defaultEncoding)!==W.encoding&&(B=d.from(B,V),V=""),q=!0),L(this,B,V,!1,q)},D.prototype.unshift=function(B){return L(this,B,null,!0,!1)},D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(B){return y||(y=e("string_decoder/").StringDecoder),this._readableState.decoder=new y(B),this._readableState.encoding=B,this};function M(B,V){return B<=0||V.length===0&&V.ended?0:V.objectMode?1:B!=B?V.flowing&&V.length?V.buffer.head.data.length:V.length:(B>V.highWaterMark&&(V.highWaterMark=function(q){return q>=8388608?q=8388608:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}(B)),B<=V.length?B:V.ended?V.length:(V.needReadable=!0,0))}function F(B){var V=B._readableState;V.needReadable=!1,V.emittedReadable||(m("emitReadable",V.flowing),V.emittedReadable=!0,V.sync?c.nextTick($,B):$(B))}function $(B){m("emit readable"),B.emit("readable"),x(B)}function U(B,V){V.readingMore||(V.readingMore=!0,c.nextTick(j,B,V))}function j(B,V){for(var q=V.length;!V.reading&&!V.flowing&&!V.ended&&V.length<V.highWaterMark&&(m("maybeReadMore read 0"),B.read(0),q!==V.length);)q=V.length;V.readingMore=!1}function P(B){m("readable nexttick read 0"),B.read(0)}function N(B,V){V.reading||(m("resume read 0"),B.read(0)),V.resumeScheduled=!1,V.awaitDrain=0,B.emit("resume"),x(B),V.flowing&&!V.reading&&B.read(0)}function x(B){var V=B._readableState;for(m("flow",V.flowing);V.flowing&&B.read()!==null;);}function S(B,V){return V.length===0?null:(V.objectMode?q=V.buffer.shift():!B||B>=V.length?(q=V.decoder?V.buffer.join(""):V.buffer.length===1?V.buffer.head.data:V.buffer.concat(V.length),V.buffer.clear()):q=function(W,J,z){var X;return W<J.head.data.length?(X=J.head.data.slice(0,W),J.head.data=J.head.data.slice(W)):X=W===J.head.data.length?J.shift():z?function(O,R){var H=R.head,G=1,ee=H.data;for(O-=ee.length;H=H.next;){var Z=H.data,te=O>Z.length?Z.length:O;if(te===Z.length?ee+=Z:ee+=Z.slice(0,O),(O-=te)===0){te===Z.length?(++G,H.next?R.head=H.next:R.head=R.tail=null):(R.head=H,H.data=Z.slice(te));break}++G}return R.length-=G,ee}(W,J):function(O,R){var H=d.allocUnsafe(O),G=R.head,ee=1;for(G.data.copy(H),O-=G.data.length;G=G.next;){var Z=G.data,te=O>Z.length?Z.length:O;if(Z.copy(H,H.length-O,0,te),(O-=te)===0){te===Z.length?(++ee,G.next?R.head=G.next:R.head=R.tail=null):(R.head=G,G.data=Z.slice(te));break}++ee}return R.length-=ee,H}(W,J),X}(B,V.buffer,V.decoder),q);var q}function _(B){var V=B._readableState;if(V.length>0)throw new Error('"endReadable()" called on non-empty stream');V.endEmitted||(V.ended=!0,c.nextTick(k,V,B))}function k(B,V){B.endEmitted||B.length!==0||(B.endEmitted=!0,V.readable=!1,V.emit("end"))}function T(B,V){for(var q=0,W=B.length;q<W;q++)if(B[q]===V)return q;return-1}D.prototype.read=function(B){m("read",B),B=parseInt(B,10);var V=this._readableState,q=B;if(B!==0&&(V.emittedReadable=!1),B===0&&V.needReadable&&(V.length>=V.highWaterMark||V.ended))return m("read: emitReadable",V.length,V.ended),V.length===0&&V.ended?_(this):F(this),null;if((B=M(B,V))===0&&V.ended)return V.length===0&&_(this),null;var W,J=V.needReadable;return m("need readable",J),(V.length===0||V.length-B<V.highWaterMark)&&m("length less than watermark",J=!0),V.ended||V.reading?m("reading or ended",J=!1):J&&(m("do read"),V.reading=!0,V.sync=!0,V.length===0&&(V.needReadable=!0),this._read(V.highWaterMark),V.sync=!1,V.reading||(B=M(q,V))),(W=B>0?S(B,V):null)===null?(V.needReadable=!0,B=0):V.length-=B,V.length===0&&(V.ended||(V.needReadable=!0),q!==B&&V.ended&&_(this)),W!==null&&this.emit("data",W),W},D.prototype._read=function(B){this.emit("error",new Error("_read() is not implemented"))},D.prototype.pipe=function(B,V){var q=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=B;break;case 1:W.pipes=[W.pipes,B];break;default:W.pipes.push(B)}W.pipesCount+=1,m("pipe count=%d opts=%j",W.pipesCount,V);var J=(!V||V.end!==!1)&&B!==s.stdout&&B!==s.stderr?X:oe;function z(le,Y){m("onunpipe"),le===q&&Y&&Y.hasUnpiped===!1&&(Y.hasUnpiped=!0,m("cleanup"),B.removeListener("close",Z),B.removeListener("finish",te),B.removeListener("drain",O),B.removeListener("error",ee),B.removeListener("unpipe",z),q.removeListener("end",X),q.removeListener("end",oe),q.removeListener("data",G),R=!0,!W.awaitDrain||B._writableState&&!B._writableState.needDrain||O())}function X(){m("onend"),B.end()}W.endEmitted?c.nextTick(J):q.once("end",J),B.on("unpipe",z);var O=function(le){return function(){var Y=le._readableState;m("pipeOnDrain",Y.awaitDrain),Y.awaitDrain&&Y.awaitDrain--,Y.awaitDrain===0&&u(le,"data")&&(Y.flowing=!0,x(le))}}(q);B.on("drain",O);var R=!1,H=!1;function G(le){m("ondata"),H=!1,B.write(le)!==!1||H||((W.pipesCount===1&&W.pipes===B||W.pipesCount>1&&T(W.pipes,B)!==-1)&&!R&&(m("false write response, pause",W.awaitDrain),W.awaitDrain++,H=!0),q.pause())}function ee(le){m("onerror",le),oe(),B.removeListener("error",ee),u(B,"error")===0&&B.emit("error",le)}function Z(){B.removeListener("finish",te),oe()}function te(){m("onfinish"),B.removeListener("close",Z),oe()}function oe(){m("unpipe"),q.unpipe(B)}return q.on("data",G),function(le,Y,ie){if(typeof le.prependListener=="function")return le.prependListener(Y,ie);le._events&&le._events[Y]?o(le._events[Y])?le._events[Y].unshift(ie):le._events[Y]=[ie,le._events[Y]]:le.on(Y,ie)}(B,"error",ee),B.once("close",Z),B.once("finish",te),B.emit("pipe",q),W.flowing||(m("pipe resume"),q.resume()),B},D.prototype.unpipe=function(B){var V=this._readableState,q={hasUnpiped:!1};if(V.pipesCount===0)return this;if(V.pipesCount===1)return B&&B!==V.pipes||(B||(B=V.pipes),V.pipes=null,V.pipesCount=0,V.flowing=!1,B&&B.emit("unpipe",this,q)),this;if(!B){var W=V.pipes,J=V.pipesCount;V.pipes=null,V.pipesCount=0,V.flowing=!1;for(var z=0;z<J;z++)W[z].emit("unpipe",this,{hasUnpiped:!1});return this}var X=T(V.pipes,B);return X===-1||(V.pipes.splice(X,1),V.pipesCount-=1,V.pipesCount===1&&(V.pipes=V.pipes[0]),B.emit("unpipe",this,q)),this},D.prototype.on=function(B,V){var q=p.prototype.on.call(this,B,V);if(B==="data")this._readableState.flowing!==!1&&this.resume();else if(B==="readable"){var W=this._readableState;W.endEmitted||W.readableListening||(W.readableListening=W.needReadable=!0,W.emittedReadable=!1,W.reading?W.length&&F(this):c.nextTick(P,this))}return q},D.prototype.addListener=D.prototype.on,D.prototype.resume=function(){var B=this._readableState;return B.flowing||(m("resume"),B.flowing=!0,function(V,q){q.resumeScheduled||(q.resumeScheduled=!0,c.nextTick(N,V,q))}(this,B)),this},D.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},D.prototype.wrap=function(B){var V=this,q=this._readableState,W=!1;for(var J in B.on("end",function(){if(m("wrapped end"),q.decoder&&!q.ended){var X=q.decoder.end();X&&X.length&&V.push(X)}V.push(null)}),B.on("data",function(X){m("wrapped data"),q.decoder&&(X=q.decoder.write(X)),q.objectMode&&X==null||(q.objectMode||X&&X.length)&&(V.push(X)||(W=!0,B.pause()))}),B)this[J]===void 0&&typeof B[J]=="function"&&(this[J]=function(X){return function(){return B[X].apply(B,arguments)}}(J));for(var z=0;z<E.length;z++)B.on(E[z],this.emit.bind(this,E[z]));return this._read=function(X){m("wrapped _read",X),W&&(W=!1,B.resume())},this},Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),D._fromList=S}).call(this)}).call(this,e("_process"),typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,n,i){n.exports=l;var s=e("./_stream_duplex"),a=Object.create(e("core-util-is"));function c(p,d){var h=this._transformState;h.transforming=!1;var g=h.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,d!=null&&this.push(d),g(p);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function l(p){if(!(this instanceof l))return new l(p);s.call(this,p),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",o)}function o(){var p=this;typeof this._flush=="function"?this._flush(function(d,h){u(p,d,h)}):u(this,null,null)}function u(p,d,h){if(d)return p.emit("error",d);if(h!=null&&p.push(h),p._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(p._transformState.transforming)throw new Error("Calling transform done when still transforming");return p.push(null)}a.inherits=e("inherits"),a.inherits(l,s),l.prototype.push=function(p,d){return this._transformState.needTransform=!1,s.prototype.push.call(this,p,d)},l.prototype._transform=function(p,d,h){throw new Error("_transform() is not implemented")},l.prototype._write=function(p,d,h){var g=this._transformState;if(g.writecb=h,g.writechunk=p,g.writeencoding=d,!g.transforming){var b=this._readableState;(g.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},l.prototype._read=function(p){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},l.prototype._destroy=function(p,d){var h=this;s.prototype._destroy.call(this,p,function(g){d(g),h.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,n,i){(function(s,a,c){(function(){var l=e("process-nextick-args");function o(U){var j=this;this.next=null,this.entry=null,this.finish=function(){(function(P,N,x){var S=P.entry;for(P.entry=null;S;){var _=S.callback;N.pendingcb--,_(x),S=S.next}N.corkedRequestsFree.next=P})(j,U)}}n.exports=A;var u,p=!s.browser&&["v0.10","v0.9."].indexOf(s.version.slice(0,5))>-1?c:l.nextTick;A.WritableState=E;var d=Object.create(e("core-util-is"));d.inherits=e("inherits");var h={deprecate:e("util-deprecate")},g=e("./internal/streams/stream"),b=e("safe-buffer").Buffer,m=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},y,v=e("./internal/streams/destroy");function w(){}function E(U,j){u=u||e("./_stream_duplex"),U=U||{};var P=j instanceof u;this.objectMode=!!U.objectMode,P&&(this.objectMode=this.objectMode||!!U.writableObjectMode);var N=U.highWaterMark,x=U.writableHighWaterMark,S=this.objectMode?16:16384;this.highWaterMark=N||N===0?N:P&&(x||x===0)?x:S,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var _=U.decodeStrings===!1;this.decodeStrings=!_,this.defaultEncoding=U.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(k){(function(T,B){var V=T._writableState,q=V.sync,W=V.writecb;if(function(z){z.writing=!1,z.writecb=null,z.length-=z.writelen,z.writelen=0}(V),B)(function(z,X,O,R,H){--X.pendingcb,O?(l.nextTick(H,R),l.nextTick($,z,X),z._writableState.errorEmitted=!0,z.emit("error",R)):(H(R),z._writableState.errorEmitted=!0,z.emit("error",R),$(z,X))})(T,V,q,B,W);else{var J=M(V);J||V.corked||V.bufferProcessing||!V.bufferedRequest||C(T,V),q?p(L,T,V,J,W):L(T,V,J,W)}})(j,k)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function A(U){if(u=u||e("./_stream_duplex"),!(y.call(A,this)||this instanceof u))return new A(U);this._writableState=new E(U,this),this.writable=!0,U&&(typeof U.write=="function"&&(this._write=U.write),typeof U.writev=="function"&&(this._writev=U.writev),typeof U.destroy=="function"&&(this._destroy=U.destroy),typeof U.final=="function"&&(this._final=U.final)),g.call(this)}function D(U,j,P,N,x,S,_){j.writelen=N,j.writecb=_,j.writing=!0,j.sync=!0,P?U._writev(x,j.onwrite):U._write(x,S,j.onwrite),j.sync=!1}function L(U,j,P,N){P||function(x,S){S.length===0&&S.needDrain&&(S.needDrain=!1,x.emit("drain"))}(U,j),j.pendingcb--,N(),$(U,j)}function C(U,j){j.bufferProcessing=!0;var P=j.bufferedRequest;if(U._writev&&P&&P.next){var N=j.bufferedRequestCount,x=new Array(N),S=j.corkedRequestsFree;S.entry=P;for(var _=0,k=!0;P;)x[_]=P,P.isBuf||(k=!1),P=P.next,_+=1;x.allBuffers=k,D(U,j,!0,j.length,x,"",S.finish),j.pendingcb++,j.lastBufferedRequest=null,S.next?(j.corkedRequestsFree=S.next,S.next=null):j.corkedRequestsFree=new o(j),j.bufferedRequestCount=0}else{for(;P;){var T=P.chunk,B=P.encoding,V=P.callback;if(D(U,j,!1,j.objectMode?1:T.length,T,B,V),P=P.next,j.bufferedRequestCount--,j.writing)break}P===null&&(j.lastBufferedRequest=null)}j.bufferedRequest=P,j.bufferProcessing=!1}function M(U){return U.ending&&U.length===0&&U.bufferedRequest===null&&!U.finished&&!U.writing}function F(U,j){U._final(function(P){j.pendingcb--,P&&U.emit("error",P),j.prefinished=!0,U.emit("prefinish"),$(U,j)})}function $(U,j){var P=M(j);return P&&(function(N,x){x.prefinished||x.finalCalled||(typeof N._final=="function"?(x.pendingcb++,x.finalCalled=!0,l.nextTick(F,N,x)):(x.prefinished=!0,N.emit("prefinish")))}(U,j),j.pendingcb===0&&(j.finished=!0,U.emit("finish"))),P}d.inherits(A,g),E.prototype.getBuffer=function(){for(var U=this.bufferedRequest,j=[];U;)j.push(U),U=U.next;return j},function(){try{Object.defineProperty(E.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(U){return!!y.call(this,U)||this===A&&U&&U._writableState instanceof E}})):y=function(U){return U instanceof this},A.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},A.prototype.write=function(U,j,P){var N,x=this._writableState,S=!1,_=!x.objectMode&&(N=U,b.isBuffer(N)||N instanceof m);return _&&!b.isBuffer(U)&&(U=function(k){return b.from(k)}(U)),typeof j=="function"&&(P=j,j=null),_?j="buffer":j||(j=x.defaultEncoding),typeof P!="function"&&(P=w),x.ended?function(k,T){var B=new Error("write after end");k.emit("error",B),l.nextTick(T,B)}(this,P):(_||function(k,T,B,V){var q=!0,W=!1;return B===null?W=new TypeError("May not write null values to stream"):typeof B=="string"||B===void 0||T.objectMode||(W=new TypeError("Invalid non-string/buffer chunk")),W&&(k.emit("error",W),l.nextTick(V,W),q=!1),q}(this,x,U,P))&&(x.pendingcb++,S=function(k,T,B,V,q,W){if(!B){var J=function(R,H,G){return R.objectMode||R.decodeStrings===!1||typeof H!="string"||(H=b.from(H,G)),H}(T,V,q);V!==J&&(B=!0,q="buffer",V=J)}var z=T.objectMode?1:V.length;T.length+=z;var X=T.length<T.highWaterMark;if(X||(T.needDrain=!0),T.writing||T.corked){var O=T.lastBufferedRequest;T.lastBufferedRequest={chunk:V,encoding:q,isBuf:B,callback:W,next:null},O?O.next=T.lastBufferedRequest:T.bufferedRequest=T.lastBufferedRequest,T.bufferedRequestCount+=1}else D(k,T,!1,z,V,q,W);return X}(this,x,_,U,j,P)),S},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var U=this._writableState;U.corked&&(U.corked--,U.writing||U.corked||U.bufferProcessing||!U.bufferedRequest||C(this,U))},A.prototype.setDefaultEncoding=function(U){if(typeof U=="string"&&(U=U.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((U+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+U);return this._writableState.defaultEncoding=U,this},Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(U,j,P){P(new Error("_write() is not implemented"))},A.prototype._writev=null,A.prototype.end=function(U,j,P){var N=this._writableState;typeof U=="function"?(P=U,U=null,j=null):typeof j=="function"&&(P=j,j=null),U!=null&&this.write(U,j),N.corked&&(N.corked=1,this.uncork()),N.ending||function(x,S,_){S.ending=!0,$(x,S),_&&(S.finished?l.nextTick(_):x.once("finish",_)),S.ended=!0,x.writable=!1}(this,N,P)},Object.defineProperty(A.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(U){this._writableState&&(this._writableState.destroyed=U)}}),A.prototype.destroy=v.destroy,A.prototype._undestroy=v.undestroy,A.prototype._destroy=function(U,j){this.end(),j(U)}}).call(this)}).call(this,e("_process"),typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("util");n.exports=function(){function c(){(function(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(l){var o={data:l,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length},c.prototype.unshift=function(l){var o={data:l,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length},c.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(l){if(this.length===0)return"";for(var o=this.head,u=""+o.data;o=o.next;)u+=l+o.data;return u},c.prototype.concat=function(l){if(this.length===0)return s.alloc(0);for(var o,u,p,d=s.allocUnsafe(l>>>0),h=this.head,g=0;h;)o=h.data,u=d,p=g,o.copy(u,p),g+=h.data.length,h=h.next;return d},c}(),a&&a.inspect&&a.inspect.custom&&(n.exports.prototype[a.inspect.custom]=function(){var c=a.inspect({length:this.length});return this.constructor.name+" "+c})},{"safe-buffer":520,util:188}],514:[function(e,n,i){var s=e("process-nextick-args");function a(c,l){c.emit("error",l)}n.exports={destroy:function(c,l){var o=this,u=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return u||p?(l?l(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(a,this,c)):s.nextTick(a,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(d){!l&&d?o._writableState?o._writableState.errorEmitted||(o._writableState.errorEmitted=!0,s.nextTick(a,o,d)):s.nextTick(a,o,d):l&&l(d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,n,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:422}],516:[function(e,n,i){n.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,n,i){(i=n.exports=e("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,n,i){n.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,n,i){n.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,n,i){arguments[4][217][0].apply(i,arguments)},{buffer:220,dup:217}],521:[function(e,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,n,i){(function(s,a){(function(){var c=e("process/browser.js").nextTick,l=Function.prototype.apply,o=Array.prototype.slice,u={},p=0;function d(h,g){this._id=h,this._clearFn=g}i.setTimeout=function(){return new d(l.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new d(l.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(h){h.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(h,g){clearTimeout(h._idleTimeoutId),h._idleTimeout=g},i.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},i._unrefActive=i.active=function(h){clearTimeout(h._idleTimeoutId);var g=h._idleTimeout;g>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},g))},i.setImmediate=typeof s=="function"?s:function(h){var g=p++,b=!(arguments.length<2)&&o.call(arguments,1);return u[g]=!0,c(function(){u[g]&&(b?h.apply(null,b):h.call(null),i.clearImmediate(g))}),g},i.clearImmediate=typeof a=="function"?a:function(h){delete u[h]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,n,i){(function(s){(function(){function a(c){try{if(!s.localStorage)return!1}catch{return!1}var l=s.localStorage[c];return l!=null&&String(l).toLowerCase()==="true"}n.exports=function(c,l){if(a("noDeprecation"))return c;var o=!1;return function(){if(!o){if(a("throwDeprecation"))throw new Error(l);a("traceDeprecation")?console.trace(l):console.warn(l),o=!0}return c.apply(this,arguments)}}}).call(this)}).call(this,typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,n,i){typeof Object.create=="function"?n.exports=function(s,a){s.super_=a,s.prototype=Object.create(a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(s,a){s.super_=a;var c=function(){};c.prototype=a.prototype,s.prototype=new c,s.prototype.constructor=s}},{}],526:[function(e,n,i){n.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},{}],527:[function(e,n,i){(function(s,a){(function(){var c=/%[sdj%]/g;i.format=function(x){if(!E(x)){for(var S=[],_=0;_<arguments.length;_++)S.push(u(arguments[_]));return S.join(" ")}_=1;for(var k=arguments,T=k.length,B=String(x).replace(c,function(q){if(q==="%%")return"%";if(_>=T)return q;switch(q){case"%s":return String(k[_++]);case"%d":return Number(k[_++]);case"%j":try{return JSON.stringify(k[_++])}catch{return"[Circular]"}default:return q}}),V=k[_];_<T;V=k[++_])v(V)||!L(V)?B+=" "+V:B+=" "+u(V);return B},i.deprecate=function(x,S){if(A(a.process))return function(){return i.deprecate(x,S).apply(this,arguments)};if(s.noDeprecation===!0)return x;var _=!1;return function(){if(!_){if(s.throwDeprecation)throw new Error(S);s.traceDeprecation?console.trace(S):console.error(S),_=!0}return x.apply(this,arguments)}};var l,o={};function u(x,S){var _={seen:[],stylize:d};return arguments.length>=3&&(_.depth=arguments[2]),arguments.length>=4&&(_.colors=arguments[3]),y(S)?_.showHidden=S:S&&i._extend(_,S),A(_.showHidden)&&(_.showHidden=!1),A(_.depth)&&(_.depth=2),A(_.colors)&&(_.colors=!1),A(_.customInspect)&&(_.customInspect=!0),_.colors&&(_.stylize=p),h(_,x,_.depth)}function p(x,S){var _=u.styles[S];return _?"\x1B["+u.colors[_][0]+"m"+x+"\x1B["+u.colors[_][1]+"m":x}function d(x,S){return x}function h(x,S,_){if(x.customInspect&&S&&F(S.inspect)&&S.inspect!==i.inspect&&(!S.constructor||S.constructor.prototype!==S)){var k=S.inspect(_,x);return E(k)||(k=h(x,k,_)),k}var T=function(O,R){if(A(R))return O.stylize("undefined","undefined");if(E(R)){var H="'"+JSON.stringify(R).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return O.stylize(H,"string")}if(w(R))return O.stylize(""+R,"number");if(y(R))return O.stylize(""+R,"boolean");if(v(R))return O.stylize("null","null")}(x,S);if(T)return T;var B=Object.keys(S),V=function(O){var R={};return O.forEach(function(H,G){R[H]=!0}),R}(B);if(x.showHidden&&(B=Object.getOwnPropertyNames(S)),M(S)&&(B.indexOf("message")>=0||B.indexOf("description")>=0))return g(S);if(B.length===0){if(F(S)){var q=S.name?": "+S.name:"";return x.stylize("[Function"+q+"]","special")}if(D(S))return x.stylize(RegExp.prototype.toString.call(S),"regexp");if(C(S))return x.stylize(Date.prototype.toString.call(S),"date");if(M(S))return g(S)}var W,J="",z=!1,X=["{","}"];return m(S)&&(z=!0,X=["[","]"]),F(S)&&(J=" [Function"+(S.name?": "+S.name:"")+"]"),D(S)&&(J=" "+RegExp.prototype.toString.call(S)),C(S)&&(J=" "+Date.prototype.toUTCString.call(S)),M(S)&&(J=" "+g(S)),B.length!==0||z&&S.length!=0?_<0?D(S)?x.stylize(RegExp.prototype.toString.call(S),"regexp"):x.stylize("[Object]","special"):(x.seen.push(S),W=z?function(O,R,H,G,ee){for(var Z=[],te=0,oe=R.length;te<oe;++te)N(R,String(te))?Z.push(b(O,R,H,G,String(te),!0)):Z.push("");return ee.forEach(function(le){le.match(/^\d+$/)||Z.push(b(O,R,H,G,le,!0))}),Z}(x,S,_,V,B):B.map(function(O){return b(x,S,_,V,O,z)}),x.seen.pop(),function(O,R,H){return O.reduce(function(G,ee){return ee.indexOf(`
`)>=0,G+ee.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?H[0]+(R===""?"":R+`
 `)+" "+O.join(`,
  `)+" "+H[1]:H[0]+R+" "+O.join(", ")+" "+H[1]}(W,J,X)):X[0]+J+X[1]}function g(x){return"["+Error.prototype.toString.call(x)+"]"}function b(x,S,_,k,T,B){var V,q,W;if((W=Object.getOwnPropertyDescriptor(S,T)||{value:S[T]}).get?q=W.set?x.stylize("[Getter/Setter]","special"):x.stylize("[Getter]","special"):W.set&&(q=x.stylize("[Setter]","special")),N(k,T)||(V="["+T+"]"),q||(x.seen.indexOf(W.value)<0?(q=v(_)?h(x,W.value,null):h(x,W.value,_-1)).indexOf(`
`)>-1&&(q=B?q.split(`
`).map(function(J){return"  "+J}).join(`
`).substr(2):`
`+q.split(`
`).map(function(J){return"   "+J}).join(`
`)):q=x.stylize("[Circular]","special")),A(V)){if(B&&T.match(/^\d+$/))return q;(V=JSON.stringify(""+T)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(V=V.substr(1,V.length-2),V=x.stylize(V,"name")):(V=V.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),V=x.stylize(V,"string"))}return V+": "+q}function m(x){return Array.isArray(x)}function y(x){return typeof x=="boolean"}function v(x){return x===null}function w(x){return typeof x=="number"}function E(x){return typeof x=="string"}function A(x){return x===void 0}function D(x){return L(x)&&$(x)==="[object RegExp]"}function L(x){return typeof x=="object"&&x!==null}function C(x){return L(x)&&$(x)==="[object Date]"}function M(x){return L(x)&&($(x)==="[object Error]"||x instanceof Error)}function F(x){return typeof x=="function"}function $(x){return Object.prototype.toString.call(x)}function U(x){return x<10?"0"+x.toString(10):x.toString(10)}i.debuglog=function(x){if(A(l)&&(l=s.env.NODE_DEBUG||""),x=x.toUpperCase(),!o[x])if(new RegExp("\\b"+x+"\\b","i").test(l)){var S=s.pid;o[x]=function(){var _=i.format.apply(i,arguments);console.error("%s %d: %s",x,S,_)}}else o[x]=function(){};return o[x]},i.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=m,i.isBoolean=y,i.isNull=v,i.isNullOrUndefined=function(x){return x==null},i.isNumber=w,i.isString=E,i.isSymbol=function(x){return typeof x=="symbol"},i.isUndefined=A,i.isRegExp=D,i.isObject=L,i.isDate=C,i.isError=M,i.isFunction=F,i.isPrimitive=function(x){return x===null||typeof x=="boolean"||typeof x=="number"||typeof x=="string"||typeof x=="symbol"||x===void 0},i.isBuffer=e("./support/isBuffer");var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var x=new Date,S=[U(x.getHours()),U(x.getMinutes()),U(x.getSeconds())].join(":");return[x.getDate(),j[x.getMonth()],S].join(" ")}function N(x,S){return Object.prototype.hasOwnProperty.call(x,S)}i.log=function(){console.log("%s - %s",P(),i.format.apply(i,arguments))},i.inherits=e("inherits"),i._extend=function(x,S){if(!S||!L(S))return x;for(var _=Object.keys(S),k=_.length;k--;)x[_[k]]=S[_[k]];return x}}).call(this)}).call(this,e("_process"),typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return h.default}});var s=g(e("./v1.js")),a=g(e("./v3.js")),c=g(e("./v4.js")),l=g(e("./v5.js")),o=g(e("./nil.js")),u=g(e("./version.js")),p=g(e("./validate.js")),d=g(e("./stringify.js")),h=g(e("./parse.js"));function g(b){return b&&b.__esModule?b:{default:b}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,n,i){function s(h){return 14+(h+64>>>9<<4)+1}function a(h,g){const b=(65535&h)+(65535&g);return(h>>16)+(g>>16)+(b>>16)<<16|65535&b}function c(h,g,b,m,y,v){return a((w=a(a(g,h),a(m,v)))<<(E=y)|w>>>32-E,b);var w,E}function l(h,g,b,m,y,v,w){return c(g&b|~g&m,h,g,y,v,w)}function o(h,g,b,m,y,v,w){return c(g&m|b&~m,h,g,y,v,w)}function u(h,g,b,m,y,v,w){return c(g^b^m,h,g,y,v,w)}function p(h,g,b,m,y,v,w){return c(b^(g|~m),h,g,y,v,w)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var d=function(h){if(typeof h=="string"){const g=unescape(encodeURIComponent(h));h=new Uint8Array(g.length);for(let b=0;b<g.length;++b)h[b]=g.charCodeAt(b)}return function(g){const b=[],m=32*g.length;for(let y=0;y<m;y+=8){const v=g[y>>5]>>>y%32&255,w=parseInt("0123456789abcdef".charAt(v>>>4&15)+"0123456789abcdef".charAt(15&v),16);b.push(w)}return b}(function(g,b){g[b>>5]|=128<<b%32,g[s(b)-1]=b;let m=1732584193,y=-271733879,v=-1732584194,w=271733878;for(let E=0;E<g.length;E+=16){const A=m,D=y,L=v,C=w;m=l(m,y,v,w,g[E],7,-680876936),w=l(w,m,y,v,g[E+1],12,-389564586),v=l(v,w,m,y,g[E+2],17,606105819),y=l(y,v,w,m,g[E+3],22,-1044525330),m=l(m,y,v,w,g[E+4],7,-176418897),w=l(w,m,y,v,g[E+5],12,1200080426),v=l(v,w,m,y,g[E+6],17,-1473231341),y=l(y,v,w,m,g[E+7],22,-45705983),m=l(m,y,v,w,g[E+8],7,1770035416),w=l(w,m,y,v,g[E+9],12,-1958414417),v=l(v,w,m,y,g[E+10],17,-42063),y=l(y,v,w,m,g[E+11],22,-1990404162),m=l(m,y,v,w,g[E+12],7,1804603682),w=l(w,m,y,v,g[E+13],12,-40341101),v=l(v,w,m,y,g[E+14],17,-1502002290),y=l(y,v,w,m,g[E+15],22,1236535329),m=o(m,y,v,w,g[E+1],5,-165796510),w=o(w,m,y,v,g[E+6],9,-1069501632),v=o(v,w,m,y,g[E+11],14,643717713),y=o(y,v,w,m,g[E],20,-373897302),m=o(m,y,v,w,g[E+5],5,-701558691),w=o(w,m,y,v,g[E+10],9,38016083),v=o(v,w,m,y,g[E+15],14,-660478335),y=o(y,v,w,m,g[E+4],20,-405537848),m=o(m,y,v,w,g[E+9],5,568446438),w=o(w,m,y,v,g[E+14],9,-1019803690),v=o(v,w,m,y,g[E+3],14,-187363961),y=o(y,v,w,m,g[E+8],20,1163531501),m=o(m,y,v,w,g[E+13],5,-1444681467),w=o(w,m,y,v,g[E+2],9,-51403784),v=o(v,w,m,y,g[E+7],14,1735328473),y=o(y,v,w,m,g[E+12],20,-1926607734),m=u(m,y,v,w,g[E+5],4,-378558),w=u(w,m,y,v,g[E+8],11,-2022574463),v=u(v,w,m,y,g[E+11],16,1839030562),y=u(y,v,w,m,g[E+14],23,-35309556),m=u(m,y,v,w,g[E+1],4,-1530992060),w=u(w,m,y,v,g[E+4],11,1272893353),v=u(v,w,m,y,g[E+7],16,-155497632),y=u(y,v,w,m,g[E+10],23,-1094730640),m=u(m,y,v,w,g[E+13],4,681279174),w=u(w,m,y,v,g[E],11,-358537222),v=u(v,w,m,y,g[E+3],16,-722521979),y=u(y,v,w,m,g[E+6],23,76029189),m=u(m,y,v,w,g[E+9],4,-640364487),w=u(w,m,y,v,g[E+12],11,-421815835),v=u(v,w,m,y,g[E+15],16,530742520),y=u(y,v,w,m,g[E+2],23,-995338651),m=p(m,y,v,w,g[E],6,-198630844),w=p(w,m,y,v,g[E+7],10,1126891415),v=p(v,w,m,y,g[E+14],15,-1416354905),y=p(y,v,w,m,g[E+5],21,-57434055),m=p(m,y,v,w,g[E+12],6,1700485571),w=p(w,m,y,v,g[E+3],10,-1894986606),v=p(v,w,m,y,g[E+10],15,-1051523),y=p(y,v,w,m,g[E+1],21,-2054922799),m=p(m,y,v,w,g[E+8],6,1873313359),w=p(w,m,y,v,g[E+15],10,-30611744),v=p(v,w,m,y,g[E+6],15,-1560198380),y=p(y,v,w,m,g[E+13],21,1309151649),m=p(m,y,v,w,g[E+4],6,-145523070),w=p(w,m,y,v,g[E+11],10,-1120210379),v=p(v,w,m,y,g[E+2],15,718787259),y=p(y,v,w,m,g[E+9],21,-343485551),m=a(m,A),y=a(y,D),v=a(v,L),w=a(w,C)}return[m,y,v,w]}(function(g){if(g.length===0)return[];const b=8*g.length,m=new Uint32Array(s(b));for(let y=0;y<b;y+=8)m[y>>5]|=(255&g[y/8])<<y%32;return m}(h),8*h.length))};i.default=d},{}],530:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,a=(s=e("./validate.js"))&&s.__esModule?s:{default:s},c=function(l){if(!(0,a.default)(l))throw TypeError("Invalid UUID");let o;const u=new Uint8Array(16);return u[0]=(o=parseInt(l.slice(0,8),16))>>>24,u[1]=o>>>16&255,u[2]=o>>>8&255,u[3]=255&o,u[4]=(o=parseInt(l.slice(9,13),16))>>>8,u[5]=255&o,u[6]=(o=parseInt(l.slice(14,18),16))>>>8,u[7]=255&o,u[8]=(o=parseInt(l.slice(19,23),16))>>>8,u[9]=255&o,u[10]=(o=parseInt(l.slice(24,36),16))/1099511627776&255,u[11]=o/4294967296&255,u[12]=o>>>24&255,u[13]=o>>>16&255,u[14]=o>>>8&255,u[15]=255&o,u};i.default=c},{"./validate.js":541}],532:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,n,i){let s;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!s&&(s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(a)};const a=new Uint8Array(16)},{}],534:[function(e,n,i){function s(l,o,u,p){switch(l){case 0:return o&u^~o&p;case 1:return o^u^p;case 2:return o&u^o&p^u&p;case 3:return o^u^p}}function a(l,o){return l<<o|l>>>32-o}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var c=function(l){const o=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const g=unescape(encodeURIComponent(l));l=[];for(let b=0;b<g.length;++b)l.push(g.charCodeAt(b))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const p=l.length/4+2,d=Math.ceil(p/16),h=new Array(d);for(let g=0;g<d;++g){const b=new Uint32Array(16);for(let m=0;m<16;++m)b[m]=l[64*g+4*m]<<24|l[64*g+4*m+1]<<16|l[64*g+4*m+2]<<8|l[64*g+4*m+3];h[g]=b}h[d-1][14]=8*(l.length-1)/Math.pow(2,32),h[d-1][14]=Math.floor(h[d-1][14]),h[d-1][15]=8*(l.length-1)&4294967295;for(let g=0;g<d;++g){const b=new Uint32Array(80);for(let A=0;A<16;++A)b[A]=h[g][A];for(let A=16;A<80;++A)b[A]=a(b[A-3]^b[A-8]^b[A-14]^b[A-16],1);let m=u[0],y=u[1],v=u[2],w=u[3],E=u[4];for(let A=0;A<80;++A){const D=Math.floor(A/20),L=a(m,5)+s(D,y,v,w)+E+o[D]+b[A]>>>0;E=w,w=v,v=a(y,30)>>>0,y=m,m=L}u[0]=u[0]+m>>>0,u[1]=u[1]+y>>>0,u[2]=u[2]+v>>>0,u[3]=u[3]+w>>>0,u[4]=u[4]+E>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};i.default=c},{}],535:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,a=(s=e("./validate.js"))&&s.__esModule?s:{default:s};const c=[];for(let o=0;o<256;++o)c.push((o+256).toString(16).substr(1));var l=function(o){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const p=(c[o[u+0]]+c[o[u+1]]+c[o[u+2]]+c[o[u+3]]+"-"+c[o[u+4]]+c[o[u+5]]+"-"+c[o[u+6]]+c[o[u+7]]+"-"+c[o[u+8]]+c[o[u+9]]+"-"+c[o[u+10]]+c[o[u+11]]+c[o[u+12]]+c[o[u+13]]+c[o[u+14]]+c[o[u+15]]).toLowerCase();if(!(0,a.default)(p))throw TypeError("Stringified UUID is invalid");return p};i.default=l},{"./validate.js":541}],536:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=c(e("./rng.js")),a=c(e("./stringify.js"));function c(h){return h&&h.__esModule?h:{default:h}}let l,o,u=0,p=0;var d=function(h,g,b){let m=g&&b||0;const y=g||new Array(16);let v=(h=h||{}).node||l,w=h.clockseq!==void 0?h.clockseq:o;if(v==null||w==null){const M=h.random||(h.rng||s.default)();v==null&&(v=l=[1|M[0],M[1],M[2],M[3],M[4],M[5]]),w==null&&(w=o=16383&(M[6]<<8|M[7]))}let E=h.msecs!==void 0?h.msecs:Date.now(),A=h.nsecs!==void 0?h.nsecs:p+1;const D=E-u+(A-p)/1e4;if(D<0&&h.clockseq===void 0&&(w=w+1&16383),(D<0||E>u)&&h.nsecs===void 0&&(A=0),A>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=E,p=A,o=w,E+=122192928e5;const L=(1e4*(268435455&E)+A)%4294967296;y[m++]=L>>>24&255,y[m++]=L>>>16&255,y[m++]=L>>>8&255,y[m++]=255&L;const C=E/4294967296*1e4&268435455;y[m++]=C>>>8&255,y[m++]=255&C,y[m++]=C>>>24&15|16,y[m++]=C>>>16&255,y[m++]=w>>>8|128,y[m++]=255&w;for(let M=0;M<6;++M)y[m+M]=v[M];return g||(0,a.default)(y)};i.default=d},{"./rng.js":533,"./stringify.js":535}],537:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=c(e("./v35.js")),a=c(e("./md5.js"));function c(o){return o&&o.__esModule?o:{default:o}}var l=(0,s.default)("v3",48,a.default);i.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(u,p,d){function h(g,b,m,y){if(typeof g=="string"&&(g=function(w){w=unescape(encodeURIComponent(w));const E=[];for(let A=0;A<w.length;++A)E.push(w.charCodeAt(A));return E}(g)),typeof b=="string"&&(b=(0,a.default)(b)),b.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let v=new Uint8Array(16+g.length);if(v.set(b),v.set(g,b.length),v=d(v),v[6]=15&v[6]|p,v[8]=63&v[8]|128,m){y=y||0;for(let w=0;w<16;++w)m[y+w]=v[w];return m}return(0,s.default)(v)}try{h.name=u}catch{}return h.DNS=l,h.URL=o,h},i.URL=i.DNS=void 0;var s=c(e("./stringify.js")),a=c(e("./parse.js"));function c(u){return u&&u.__esModule?u:{default:u}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=l;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=o},{"./parse.js":531,"./stringify.js":535}],539:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=c(e("./rng.js")),a=c(e("./stringify.js"));function c(o){return o&&o.__esModule?o:{default:o}}var l=function(o,u,p){const d=(o=o||{}).random||(o.rng||s.default)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,u){p=p||0;for(let h=0;h<16;++h)u[p+h]=d[h];return u}return(0,a.default)(d)};i.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=c(e("./v35.js")),a=c(e("./sha1.js"));function c(o){return o&&o.__esModule?o:{default:o}}var l=(0,s.default)("v5",80,a.default);i.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,a=(s=e("./regex.js"))&&s.__esModule?s:{default:s},c=function(l){return typeof l=="string"&&a.default.test(l)};i.default=c},{"./regex.js":532}],542:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,a=(s=e("./validate.js"))&&s.__esModule?s:{default:s},c=function(l){if(!(0,a.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};i.default=c},{"./validate.js":541}],543:[function(e,n,i){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r ---`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(a){return a>=32&&a<=55295||a===10||a===13||a===9||a>=57344&&a<=65533||a>=65536&&a<=1114111},i.isS=function(a){return a===32||a===10||a===13||a===9},i.isNameStartChar=s,i.isNameChar=function(a){return s(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],544:[function(e,n,i){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="---",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(a){return a>=1&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},i.isRestrictedChar=function(a){return a>=1&&a<=8||a===11||a===12||a>=14&&a<=31||a>=127&&a<=132||a>=134&&a<=159},i.isCharAndNotRestricted=function(a){return a===9||a===10||a===13||a>31&&a<127||a===133||a>159&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},i.isS=function(a){return a===32||a===10||a===13||a===9},i.isNameStartChar=s,i.isNameChar=function(a){return s(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],545:[function(e,n,i){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function s(a){return a>=65&&a<=90||a===95||a>=97&&a<=122||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8204&&a<=8205||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-z------------",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9--",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=s,i.isNCNameChar=function(a){return s(a)||a===45||a===46||a>=48&&a<=57||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}]},{},[15])(15)})})(p5);var xC=p5.exports;const wC=qv(xC);function av(r,t){const e=l5[t];if(!e)return"";const n=r[e];return n==null?"":typeof n=="object"?[n.last,n.first,n.mi].filter(Boolean).join(" ")||"":String(n)}function _C(r){return!r||typeof r!="string"?"Sheet":(r.replace(/[*?:\\\/[\]]/g," ").replace(/\s+/g," ").trim()||"Sheet").slice(0,31)}const $c=15e3;async function SC(r,t,e){if(!Array.isArray(r))throw new Error("Invalid records");const n=r.length>$c?r.slice(0,$c):r;r.length>$c&&console.warn(`[exportExcel] Capped at ${$c} records (had ${r.length})`);const i=new wC.Workbook;i.creator="Regulatory Division Portal";const s=_C(e||t),a=i.addWorksheet(s,{pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0}});if(n.length===0){a.addRow(["No records to export."]);const D=await i.xlsx.writeBuffer();lv(D,`Records_${t}_${ov()}.xlsx`);return}const c=["id","createdAt","createdBy","updatedAt"],l=[...Jt,"recommendation"],o=new Set;n.forEach(D=>{Object.keys(D).filter(L=>!c.includes(L)).forEach(L=>o.add(L))});const u=hu[t]||[],p=u.filter(D=>o.has(D)&&!l.includes(D)),d=Array.from(o).filter(D=>!u.includes(D)&&!l.includes(D)),h=[...p,...d],g=vi==null?void 0:vi[t],b=D=>g&&g[D]?g[D]:Sp(D),m=["No.","Name / Title",...h.map(b)],y=["No.","Name/Title",...h],v=a.addRow(m);v.font={bold:!0,color:{argb:"FFFFFFFF"}},v.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E4D2B"}},v.alignment={vertical:"middle",wrapText:!0},v.height=22,a.getRow(1).eachCell(D=>{D.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),n.forEach((D,L)=>{const C=_p(D),M=av(D,t),F=[L+1,M,...y.slice(2).map(U=>C[U]??"")],$=a.addRow(F);$.eachCell(U=>{U.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},U.alignment={vertical:"top",wrapText:!0}}),$.height=30});const w=m.length,E=[];for(let D=0;D<w;D++){let L=12;n.forEach((M,F)=>{const $=_p(M),U=av(M,t),j=D===0?String(F+1):D===1?U:$[y[D]]??"",x=String(j).split(/\r?\n/).reduce((S,_)=>Math.max(S,_.length),0);L=Math.max(L,Math.min(x,80))});const C=(m[D]||"").length;L=Math.max(L,C+2),E[D]=Math.min(50,Math.max(14,L+1))}a.columns=E.map((D,L)=>({width:D}));const A=await i.xlsx.writeBuffer();lv(A,`Records_${t}_${ov()}.xlsx`)}function ov(){const r=new Date;return`${r.getFullYear()}${String(r.getMonth()+1).padStart(2,"0")}${String(r.getDate()).padStart(2,"0")}_${String(r.getHours()).padStart(2,"0")}${String(r.getMinutes()).padStart(2,"0")}`}function lv(r,t){const e=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.download=t,i.click(),URL.revokeObjectURL(n)}function mt({options:r=[],groups:t=null,value:e="",onChange:n,placeholder:i="Select...",className:s="",disabled:a=!1,leftIcon:c,"aria-label":l}){const[o,u]=ae.useState(!1),[p,d]=ae.useState({top:0,left:0,width:0}),h=ae.useRef(null),g=ae.useRef(null),m=(t?t.flatMap(A=>A.options||[]):r).find(A=>String(A.value)===String(e)),y=m?m.label:i,v=()=>{if(h.current){const A=h.current.getBoundingClientRect();d({top:A.bottom+6,left:A.left,width:A.width})}};ae.useEffect(()=>{if(!o)return;v();const A=L=>{var C,M,F,$;(C=h.current)!=null&&C.contains(L.target)||(F=(M=L.target).closest)!=null&&F.call(M,"[data-app-select-panel]")||(($=g.current)==null||$.focus(),u(!1))},D=()=>v();return window.addEventListener("scroll",D,!0),window.addEventListener("resize",D),document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A),window.removeEventListener("scroll",D,!0),window.removeEventListener("resize",D)}},[o]);const w=A=>{var D;A.disabled||(n==null||n(A.value),(D=g.current)==null||D.focus(),u(!1))},E=f.jsx("div",{"data-app-select-panel":!0,role:"listbox","aria-hidden":!o,...o?{}:{inert:""},className:o?"app-select-panel-open":"app-select-panel-closed",style:{zIndex:10001,position:"fixed",top:p.top,left:p.left,width:p.width,minWidth:140,background:"white",border:"2px solid #e8e0d4",borderRadius:"0.75rem",overflow:"hidden",boxShadow:"0 20px 25px rgba(30, 77, 43, 0.12)"},children:f.jsx("div",{className:`max-h-56 overflow-y-auto custom-scrollbar ${t?"py-1":"py-1.5"}`,children:t?t.map((A,D)=>f.jsxs("div",{className:"pt-1 first:pt-0",children:[f.jsx("div",{className:"px-3 py-1.5 text-[10px] font-black text-[#5c7355] uppercase tracking-wider sticky top-0 bg-[#faf8f5] border-b border-[#e8e0d4]/60 z-10",children:A.sectionLabel}),(A.options||[]).map((L,C)=>{const M=String(L.value)===String(e),F=L.value===""||L.value==null,$=L.disabled===!0;return f.jsx("button",{type:"button",role:"option","aria-selected":M,"aria-disabled":$,onClick:()=>w(L),disabled:$,style:o?{animationDelay:`${(D*20+C)*25}ms`}:void 0,className:`
                      app-select-option w-full text-left px-4 py-2 text-sm font-semibold
                      transition-all duration-200 ease-[cubic-bezier(0.33,1,0.68,1)]
                      ${$?"text-[#8a857c] opacity-60 cursor-not-allowed":""}
                      ${!$&&F?"text-[#8a857c] hover:bg-[#faf8f5] hover:text-[#5c7355]":""}
                      ${!$&&!F?"text-[#1e4d2b] hover:bg-[#f0f5ee] hover:text-[#153019] hover:translate-x-0.5 active:scale-[0.99]":""}
                      ${M?"bg-[#f0f5ee]":""}
                    `,children:L.label},L.value??"empty")})]},D)):r.map((A,D)=>{const L=String(A.value)===String(e),C=A.value===""||A.value==null;return f.jsx("button",{type:"button",role:"option","aria-selected":L,onClick:()=>w(A),style:o?{animationDelay:`${D*35}ms`}:void 0,className:`
                  app-select-option w-full text-left px-4 py-2.5 text-sm font-semibold text-[#1e4d2b]
                  transition-all duration-200 ease-[cubic-bezier(0.33,1,0.68,1)]
                  ${C?"text-[#8a857c] hover:bg-[#faf8f5] hover:text-[#5c7355]":"hover:bg-[#f0f5ee] hover:text-[#153019]"}
                  ${L?"bg-[#f0f5ee]":""}
                  hover:translate-x-0.5 active:scale-[0.99]
                `,children:A.label},A.value??"empty")})})});return f.jsxs(f.Fragment,{children:[f.jsx("div",{ref:h,className:`relative ${s}`,children:f.jsxs("button",{ref:g,type:"button",disabled:a,"aria-haspopup":"listbox","aria-expanded":o,"aria-label":l||i,onClick:()=>{a||(o||v(),u(A=>!A))},className:`
            w-full flex items-center justify-between gap-2
            py-2.5 pr-10 min-h-[44px] pl-3 sm:pl-4
            bg-white border-2 border-[#e8e0d4] rounded-xl
            text-left text-sm font-semibold text-[#1e4d2b]
            transition-all duration-350 ease-[cubic-bezier(0.33,1,0.68,1)]
            hover:border-[#1e4d2b]/50 hover:bg-[#faf8f5] hover:shadow-md hover:shadow-[#1e4d2b]/10
            focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/40 focus:border-[#1e4d2b]
            disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:shadow-none
            active:scale-[0.99]
            ${o?"app-select-trigger-open":""}
            ${m?"":"text-[#8a857c]"}
          `,children:[f.jsxs("span",{className:"flex items-center gap-2 min-w-0",children:[c&&f.jsx("span",{className:"shrink-0 flex items-center justify-center text-[#5c7355] transition-transform duration-300 w-6",children:c}),f.jsx("span",{className:"truncate",children:y})]}),f.jsx("span",{className:`absolute right-3 top-1/2 -translate-y-1/2 shrink-0 text-[#1e4d2b] transition-transform duration-400 ease-[cubic-bezier(0.34,1.56,0.64,1)] ${o?"rotate-180":""}`,"aria-hidden":!0,children:f.jsx("iconify-icon",{icon:"mdi:chevron-down",width:"20"})})]})}),Tl.createPortal(E,document.body)]})}function Tr(r,t){if(t==="goodAgriPractices"){const i=(r==null?void 0:r.nameOfFarmer)??(r==null?void 0:r.nameOfApplicant);return i!=null&&i!==""?String(i):""}const e=l5[t];if(!e)return"";const n=r[e];return n==null?"":typeof n=="object"?[n.last,n.first,n.mi].filter(Boolean).join(" ")||JSON.stringify(n):String(n)}function m5(r){return r==null?"":typeof r!="object"?String(r):Object.values(r).map(m5).join(" ")}const kC=[{sectionLabel:"Registration & Licensing",unitIds:["animalFeed","animalWelfare","livestockHandlers","transportCarrier","plantMaterial","organicAgri"]},{sectionLabel:"Quality Control",unitIds:["goodAgriPractices","goodAnimalHusbandry","organicPostMarket","landUseMatter","foodSafety","safdzValidation"]},{sectionLabel:"Surveillance",unitIds:["plantPestSurveillance","cfsAdmcc","animalDiseaseSurveillance"]}],ti={animalFeed:Jt,animalWelfare:Jt,livestockHandlers:Jt,transportCarrier:Jt,plantMaterial:Jt,organicAgri:Jt,goodAgriPractices:Jt,goodAnimalHusbandry:Jt,organicPostMarket:Jt,landUseMatter:Jt,foodSafety:Jt,plantPestSurveillance:Jt,cfsAdmcc:Jt,animalDiseaseSurveillance:Jt,safdzValidation:Jt};function Mo(r,t){const e=ti[t]||[];if(e.length===0)return null;const n=e.map(i=>{const s=r[i];if(s===""||s==null)return null;const a=parseInt(s,10);return isNaN(a)?null:a}).filter(i=>i!=null);return n.length===0?null:(n.reduce((i,s)=>i+s,0)/n.length).toFixed(1)}function NC(){var H;const{disabledUnitIds:r}=Zd(),[t,e]=ae.useState(Un[0].id),[n,i]=ae.useState([]),[s,a]=ae.useState(""),[c,l]=ae.useState(""),[o,u]=ae.useState(""),[p,d]=ae.useState(null),[h,g]=ae.useState({}),[b,m]=ae.useState(!1),[y,v]=ae.useState(null),[w,E]=ae.useState(null),{user:A,role:D}=ua(),{showNotification:L}=L0();ae.useEffect(()=>{const G=new Set(Un.filter(ee=>!r.includes(ee.id)).map(ee=>ee.id));if(G.size!==0&&!G.has(t)){const ee=Un.find(Z=>G.has(Z.id));ee&&e(ee.id)}},[r,t]);const C=5e3;ae.useEffect(()=>{E(null);const G=so(Sr,t),ee=E4(G,j4(C)),Z=I0(ee,te=>{i(te.docs.map(oe=>({id:oe.id,...oe.data()})))},te=>{console.error("[ViewRecords] Firestore error:",te),E((te==null?void 0:te.message)||"Failed to load records")});return()=>Z()},[t]);const M=QT(n),F=((H=Un.find(G=>G.id===t))==null?void 0:H.label)||t;let $=n;if(s.trim()){const G=s.trim().toLowerCase();$=$.filter(ee=>m5(ee).toLowerCase().includes(G))}c&&($=$.filter(G=>B0(G)===c)),o&&($=$.filter(G=>c5(G)===o));const U=t==="goodAgriPractices",j=U?$.filter(G=>G.formType==="gapCertification"):[],P=U?$.filter(G=>G.formType==="monitoring"):[],N=U?$.filter(G=>G.formType!=="gapCertification"&&G.formType!=="monitoring"):[],x=G=>D==="admin"||G.createdBy===(A==null?void 0:A.uid),S=()=>D==="admin",_=async G=>{try{await _j(_n(Sr,t,G)),v(null),L({type:"success",title:"Record deleted",message:"The record has been permanently deleted."}),Rn({action:"record_deleted",userId:A==null?void 0:A.uid,userEmail:A==null?void 0:A.email,role:D||"staff",details:`${t} record deleted.`}).catch(()=>{})}catch(ee){L({type:"error",title:"Delete failed",message:ee.message||"Failed to delete."})}},k=G=>{const{id:ee,createdAt:Z,createdBy:te,...oe}=G,le=["createdBy","updatedAt"];let Y=hu[t];if(t==="goodAgriPractices"&&zc){const ie=oe.formType,se=ie&&zc[ie];se!=null&&se.length&&(Y=se)}if(Y&&Y.length){const ie=Y.filter(de=>!le.includes(de)),se={};ie.forEach(de=>{se[de]=oe[de]}),g(se)}else g(oe);d(ee)},T=async()=>{if(p)try{await P4(_n(Sr,t,p),{...h,updatedAt:new Date().toISOString()}),d(null),L({type:"success",title:"Changes saved",message:"Record updated successfully."}),Rn({action:"record_updated",userId:A==null?void 0:A.uid,userEmail:A==null?void 0:A.email,role:D||"staff",details:`${t} record updated.`}).catch(()=>{})}catch(G){L({type:"error",title:"Save failed",message:G.message||"Failed to save changes."})}},B=(G,ee)=>g(Z=>({...Z,[G]:ee})),V=[...Jt,"recommendation","attachmentData","attachmentFileName","attachmentUrl","linkFile"],q=(G,ee=20,Z=!0)=>{if(!G||typeof G!="string")return"";const te=G.replace(/\bDate of Application\/Valuated\b/gi,"Date Appl./Val.").replace(/\bDate of Application Received & Evaluated\b/gi,"Date Recv. & Eval.").replace(/\bDate of Application Received and Evaluated\b/gi,"Date Recv. & Eval.").replace(/\bName of Establishment\b/gi,"Establishment").replace(/\bName of Applicant\b/gi,"Applicant").replace(/\bComplete Address\b/gi,"Address").replace(/\bDate of Inspection\b/gi,"Date Insp.").replace(/\bDate of Monitoring\b/gi,"Date Mon.").replace(/\bDate of Certification\b/gi,"Date Cert.").replace(/\bDate of Endorsement\b/gi,"Date Endors.").replace(/\bAmount of Fee Collected\b/gi,"Fee Collected").replace(/\bType of Application\b/gi,"App Type").replace(/\bDate of Inspection and Monitoring\b/gi,"Date Insp. & Mon.").replace(/\bTransmittal Date to BAI\b/gi,"Transmittal to BAI").replace(/\bSubmission of Client's Filled Application Form to DA-Regulatory Division\b/gi,"Submission of Appl. Form").replace(/\bEvaluation of Submitted Documentary Requirements\b/gi,"Eval. of Documentary Req.").replace(/\bPayment of Application Fee\b/gi,"Payment of Fee").replace(/\bDate of Inspection and Evaluation of Nursery\b/gi,"Date Insp. & Eval.").replace(/\bApproved Validated Result of Inspection and Validation of Areas\b/gi,"Approved Validated Result").replace(/\bEndorsement of Application to BPI\b/gi,"Endorsement to BPI").replace(/\bDate of Request and Collection\b/gi,"Date Req. & Coll.").replace(/\bDate of Request\b/gi,"Date Req.").replace(/\bDate of Pre-assessment\b/gi,"Date Pre-assess.").replace(/\bDate of Endorsement to BPI\b/gi,"Date Endors. BPI").replace(/\bDate of Final Inspection\b/gi,"Date Final Insp.").replace(/\bDate of Surveillance\b/gi,"Date Surveill.").replace(/\bDate Received and Evaluated\b/gi,"Date Recv. & Eval.").replace(/\bDate of Reply to the Request\b/gi,"Date Reply").replace(/\bDate Received by the Applicant\b/gi,"Date Recv. by Applicant").replace(/\bIssuance of Certificate\b/gi,"Issuance Cert.").replace(/\bQuantity of Goods\/Services Provided\b/gi,"Quantity").replace(/\bServices Rendered by Personnel\b/gi,"Services/Personnel").replace(/\bFor training consider its relevance\b/gi,"Training").replace(/\bAttitude \(courteousness\)\b/gi,"Attitude").replace(/\bPromptness in attending the request\b/gi,"Promptness").replace(/\bGood Agricultural Practices\b/gi,"GAP").trim();let oe=te.length>ee?te.slice(0,ee-1).trim()+".":te;if(Z&&oe.length>14){const le=oe.lastIndexOf(" ",14),Y=le>6?le:14;oe=oe.slice(0,Y)+"<br>"+oe.slice(Y).trim()}return oe},W=()=>{const G=Ce=>Ce==null||Ce===""?"":String(Ce).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),ee=["createdBy","updatedAt"],Z=["id","createdAt","createdBy","updatedAt"],te=new Set;$.forEach(Ce=>{Object.keys(Ce).filter(Le=>!Z.includes(Le)).forEach(Le=>te.add(Le))});const oe=hu[t]||[],le=oe.filter(Ce=>te.has(Ce)&&!ee.includes(Ce)&&!V.includes(Ce)),Y=Array.from(te).filter(Ce=>!oe.includes(Ce)&&!ee.includes(Ce)&&!V.includes(Ce));let ie=[...le,...Y];if(t==="animalFeed"){const Ce=["companyName","lastName","middleName","firstName","nameExt","barangay","municipality","officeAddress","plantAddress"];ie=ie.filter(Le=>!Ce.includes(Le))}const se=vi==null?void 0:vi[t],de=Ce=>se&&se[Ce]?se[Ce]:Sp(Ce),he=["No.","Name / Title",...ie.map(de)].map(Ce=>q(Ce,20,!0)),ge=he.length,be=(Ce,Le)=>{const Be=_p(Ce),Ae=Tr(Ce,t);let Ee="<tr><td>"+G(Le+1)+"</td><td>"+G(Ae)+"</td>";return ie.forEach(Fe=>{Ee+="<td>"+G(Be[Fe]??"")+"</td>"}),Ee+"</tr>"};let xe="";if(t==="goodAgriPractices"){const Ce=$.filter(Ae=>Ae.formType==="gapCertification"),Le=$.filter(Ae=>Ae.formType==="monitoring"),Be=$.filter(Ae=>Ae.formType!=="gapCertification"&&Ae.formType!=="monitoring");xe+='<tr><td colspan="'+ge+'" style="background:#065f46;color:#fff;font-weight:700;padding:6px 8px;">GAP CERTIFICATION'+(Ce.length?" ("+Ce.length+" record(s))":"")+"</td></tr>",Ce.forEach((Ae,Ee)=>{xe+=be(Ae,Ee)}),xe+='<tr><td colspan="'+ge+'" style="background:#065f46;color:#fff;font-weight:700;padding:6px 8px;">MONITORING OF GAP CERTIFIED FARMER'+(Le.length?" ("+Le.length+" record(s))":"")+"</td></tr>",Le.forEach((Ae,Ee)=>{xe+=be(Ae,Ee)}),Be.length&&(xe+='<tr><td colspan="'+ge+'" style="background:#78716c;color:#fff;font-weight:700;padding:6px 8px;">OTHER ('+Be.length+" record(s))</td></tr>",Be.forEach((Ae,Ee)=>{xe+=be(Ae,Ee)}))}else $.forEach((Ce,Le)=>{xe+=be(Ce,Le)});const ke=he.map(Ce=>"<th>"+Ce.split("<br>").map(Be=>G(Be)).join("<br>")+"</th>").join(""),Ne=[];c&&Ne.push(`Month: ${wp(c)}`),o&&Ne.push(`Province: ${o}`),Ne.push(`Printed: ${new Date().toLocaleString()}`),Ne.push(`Total: ${$.length} record(s)`);const Re=Ne.join("  "),$e=window.open("","_blank");$e.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="utf-8">
          <title>Records - ${G(F)}</title>
          <style>
            /* A4 Landscape - magkasya lahat; puwede rin Legal sa print dialog */
            @page { 
              size: A4 landscape; 
              margin: 8mm; 
            }
            @media print {
              html, body { 
                -webkit-print-color-adjust: exact; 
                print-color-adjust: exact; 
                overflow: visible !important;
                height: auto !important;
                max-width: 100% !important;
              }
              .print-body { overflow: visible !important; }
              thead { display: table-header-group; }
              tr { page-break-inside: avoid; }
              table, th, td { border-color: #000 !important; }
              th, td { border: 1px solid #000 !important; }
              th { font-weight: 700 !important; }
              .print-table-wrapper { overflow: visible !important; transform-origin: top left; }
            }
            body { font-family: 'Segoe UI', Arial, sans-serif; color: #1e293b; margin: 0; padding: 10px; overflow-x: auto; }
            .print-header { margin-bottom: 12px; border-bottom: 2px solid #000; padding-bottom: 6px; flex-shrink: 0; }
            .print-title { color: #064e3b; font-size: 22px; font-weight: 800; margin: 0; text-transform: uppercase; letter-spacing: 0.5px; }
            .print-unit { color: #059669; font-size: 19px; font-weight: 600; margin: 2px 0; }
            .print-meta { color: #64748b; font-size: 14px; margin: 0; }
            .print-table-wrapper { width: fit-content; max-width: 100%; margin: 0 auto; }
            table { 
              border-collapse: collapse; 
              font-size: 16px; 
              table-layout: auto; 
              width: max-content; 
              min-width: 100%;
            }
            th, td { 
              border: 1px solid #000; 
              padding: 8px 10px; 
              vertical-align: top; 
              word-wrap: break-word; 
              word-break: break-word; 
              overflow-wrap: break-word;
              max-width: 95px;
              line-height: 1.45;
            }
            td { text-align: left; }
            th { 
              background: #065f46; 
              color: #fff; 
              font-weight: 700; 
              font-size: 15px; 
              letter-spacing: 0.1px; 
              text-align: center; 
              white-space: normal; 
              line-height: 1.45;
            }
            tr { min-height: 2.2em; }
            tr:nth-child(even) td { background: #f0fdf4; }
            th:nth-child(1), td:nth-child(1) { width: 2%; min-width: 28px; white-space: nowrap; }
            td:nth-child(1) { text-align: center; }
            th:nth-child(2), td:nth-child(2) { max-width: 100px; }
          </style>
        </head>
        <body class="print-body">
          <div class="print-header">
            <p class="print-title">Regulatory Division Data Report</p>
            <p class="print-unit">${G(F)}</p>
            <p class="print-meta">${G(Re)}</p>
          </div>
          <div class="print-table-wrapper" id="printTableWrapper">
            <table id="printTable">
              <thead><tr>${ke}</tr></thead>
              <tbody>${xe}</tbody>
            </table>
          </div>
          <script>
            (function() {
              function fitTableToPage() {
                var wrapper = document.getElementById('printTableWrapper');
                var table = document.getElementById('printTable');
                if (!wrapper || !table) return;
                var marginMm = 16;
                var a4LandscapeMm = 297;
                var legalLandscapeMm = 356;
                var contentWidthMm = a4LandscapeMm - marginMm;
                var contentWidthPx = contentWidthMm * 96 / 25.4;
                var tableWidth = table.scrollWidth || table.offsetWidth;
                if (tableWidth > contentWidthPx && tableWidth > 0) {
                  var scale = (contentWidthPx - 30) / tableWidth;
                  if (scale < 1) {
                    wrapper.style.transform = 'scale(' + Math.min(scale, 0.98) + ')';
                    wrapper.style.transformOrigin = 'top left';
                  }
                }
              }
              if (document.readyState === 'complete') fitTableToPage();
              else window.addEventListener('load', fitTableToPage);
              setTimeout(fitTableToPage, 150);
            })();
          <\/script>
        </body>
      </html>
    `),$e.document.close(),$e.focus(),setTimeout(()=>{$e.print(),$e.close()},600)},J=async()=>{if(!($.length>5e3&&!window.confirm(`Exporting ${$.length} records may take a while and use more memory. Continue?`))){m(!0);try{await SC($,t,F)}catch(ee){alert(ee.message||"Export failed.")}m(!1)}},z=[{value:"",label:"Select rating..."},{value:"1",label:"Poor (1)"},{value:"2",label:"Fair (2)"},{value:"3",label:"Satisfied (3)"},{value:"4",label:"Very Satisfied (4)"},{value:"5",label:"Excellent (5)"}],X=G=>!G||typeof G!="string"?!1:G.toLowerCase().includes("date"),O=G=>G==null||G===""?"":typeof G=="string"?G.slice(0,10):G&&typeof G.toDate=="function"?G.toDate().toISOString().slice(0,10):"",R=(G,ee)=>{const Z="w-full px-3 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/40 focus:border-[#1e4d2b] text-sm font-medium text-[#1e4d2b] placeholder:text-[#8a857c] transition-all";if(Jt.includes(G)){const Y=ee!=null&&ee!==""?String(ee):"";return f.jsx("div",{className:"view-records-edit-rating-select",children:f.jsx(mt,{options:z,value:Y,onChange:ie=>B(G,ie),placeholder:"Select rating...","aria-label":G,className:"w-full"})})}if(X(G)){const Y=O(ee);return f.jsx("input",{type:"date",value:Y,onChange:ie=>B(G,ie.target.value),className:Z,"aria-label":G})}if(G==="attachmentData"){const Y=ee&&String(ee),ie=h.attachmentFileName||"attachment",se=()=>{try{const ue=atob(Y),he=new Uint8Array(ue.length);for(let ke=0;ke<ue.length;ke++)he[ke]=ue.charCodeAt(ke);const ge=new Blob([he]),be=URL.createObjectURL(ge),xe=document.createElement("a");xe.href=be,xe.download=ie,xe.click(),URL.revokeObjectURL(be)}catch{}},de=()=>{B("attachmentData",""),B("attachmentFileName","")};return!Y||Y.length===0?f.jsx("span",{className:"text-sm text-[#5c7355]",children:"No file uploaded"}):f.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-3 rounded-xl border-2 border-[#e8e0d4] bg-[#faf8f5]",children:[f.jsx("span",{className:"text-sm font-semibold text-[#1e4d2b] truncate flex-1 min-w-0",title:ie,children:ie}),f.jsx("button",{type:"button",onClick:se,className:"px-3 py-2 min-h-[44px] bg-[#1e4d2b] text-white rounded-xl text-sm font-bold hover:bg-[#153019] whitespace-nowrap touch-manipulation",children:"Download"}),f.jsx("button",{type:"button",onClick:de,className:"px-3 py-2 min-h-[44px] border-2 border-red-400 text-red-600 rounded-xl text-sm font-bold hover:bg-red-50 whitespace-nowrap touch-manipulation",children:"Remove"})]})}const te=G==="linkFile"||G==="attachmentUrl"||typeof G=="string"&&(G.endsWith("File")||G.endsWith("Url"))&&G!=="attachmentFileName"&&G!=="attachmentData",oe=typeof ee=="string"?ee.trim():"",le=oe&&(oe.startsWith("http://")||oe.startsWith("https://"));return te?f.jsxs("div",{className:"space-y-2",children:[le&&f.jsxs("a",{href:oe,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm font-bold text-[#1e4d2b] hover:underline break-all",children:[f.jsx("iconify-icon",{icon:"mdi:open-in-new",width:"16"}),"Open link / file"]}),f.jsx("input",{type:"url",value:oe,onChange:Y=>B(G,Y.target.value),className:Z,placeholder:"https://..."})]}):ee==null?f.jsx("input",{type:"text",value:"",onChange:Y=>B(G,Y.target.value),className:Z}):typeof ee=="object"&&!Array.isArray(ee)&&ee!==null?f.jsx("div",{className:"space-y-3 pl-3 border-l-2 border-[#1e4d2b]/30 bg-[#1e4d2b]/5 p-3 rounded-r-xl",children:Object.entries(ee).map(([Y,ie])=>f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-center",children:[f.jsx("span",{className:"text-xs font-bold text-[#5c7355] uppercase tracking-wider w-24",children:Y}),f.jsx("input",{type:"text",value:typeof ie=="object"?JSON.stringify(ie):ie,onChange:se=>B(G,{...ee,[Y]:se.target.value}),className:Z})]},Y))}):f.jsx("input",{type:"text",value:Array.isArray(ee)?ee.join(", "):ee,onChange:Y=>B(G,Y.target.value),className:Z})};return f.jsxs("div",{className:"space-y-4 sm:space-y-6 pb-10 sm:pb-12 min-w-0 w-full max-w-full overflow-x-hidden",children:[f.jsx("div",{className:"view-records-anim-1 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:f.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)] transition-opacity duration-500 group-hover:opacity-80"}),f.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Master Records"}),f.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-1",children:"Manage, view, and update regulatory data entries"})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[f.jsxs("button",{onClick:W,className:"inline-flex items-center gap-2 px-3 py-2.5 sm:px-4 min-h-[44px] bg-white text-[#1e4d2b] rounded-xl hover:bg-[#faf8f5] hover:scale-105 active:scale-[0.98] shadow-md hover:shadow-xl transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] font-bold text-xs sm:text-sm border border-white/30 touch-manipulation",children:[f.jsx("iconify-icon",{icon:"mdi:printer",width:"18",className:"shrink-0"}),"Print List"]}),f.jsxs("button",{onClick:J,disabled:b,className:"inline-flex items-center gap-2 px-3 py-2.5 sm:px-4 min-h-[44px] bg-[#b8a066] text-[#153019] rounded-xl hover:bg-[#d4c4a0] hover:scale-105 active:scale-[0.98] shadow-md hover:shadow-xl transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] font-bold text-xs sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 border border-[#b8a066]/50 touch-manipulation",children:[b?f.jsx("iconify-icon",{icon:"mdi:loading",width:"18",class:"animate-spin shrink-0"}):f.jsx("iconify-icon",{icon:"mdi:microsoft-excel",width:"18",className:"shrink-0"}),b?"Exporting...":"Export Excel"]}),f.jsxs(_r,{to:"/dashboard",className:"inline-flex items-center gap-2 px-3 py-2.5 sm:px-4 min-h-[44px] bg-white/15 backdrop-blur-sm text-white border border-white/25 rounded-xl hover:bg-white/25 hover:border-white/40 hover:scale-105 active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] font-bold text-xs sm:text-sm touch-manipulation",children:[f.jsx("iconify-icon",{icon:"mdi:arrow-left",width:"18",className:"shrink-0"}),"Dashboard"]})]})]})]})}),w&&f.jsx("div",{className:"rounded-xl border-2 border-red-200 bg-red-50 px-4 py-3 text-sm font-medium text-red-800",children:f.jsxs("span",{className:"inline-flex items-center gap-2",children:[f.jsx("iconify-icon",{icon:"mdi:alert-circle",width:"20"}),w]})}),f.jsxs("div",{className:"view-records-anim-2 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#b8a066]/10 overflow-visible hover:shadow-xl hover:shadow-[#b8a066]/15 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("div",{className:"px-4 py-3 bg-gradient-to-r from-[#9a7b4f] via-[#b8a066] to-[#8f7a45] relative border-b-2 border-[#b8a066]/25 rounded-t-2xl overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_80%_0%,rgba(255,255,255,0.12),transparent_50%)]"}),f.jsx("span",{className:"relative z-10 text-[10px] font-black text-white uppercase tracking-widest",children:"Filters & Search"})]}),f.jsxs("div",{className:"p-4 sm:p-5 border-l-4 border-[#b8a066]/25 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-[1fr_1fr_1fr_1.25fr] gap-4 lg:gap-5 lg:items-end",children:[f.jsxs("div",{className:"flex flex-col min-w-0",children:[f.jsx("label",{className:"block text-[10px] font-bold text-[#5c7355] uppercase tracking-wider mb-1.5 transition-colors duration-300",children:"Select Unit"}),f.jsx(mt,{value:t,onChange:G=>e(G),groups:kC.map(G=>({sectionLabel:G.sectionLabel,options:G.unitIds.map(ee=>{const Z=Un.find(oe=>oe.id===ee),te=r.includes(ee);return{value:ee,label:Z?te?`${Z.label} (Disabled)`:Z.label:ee,disabled:te}})})),leftIcon:f.jsx("iconify-icon",{icon:"mdi:folder-table-outline",width:"20"}),"aria-label":"Select Unit"})]}),f.jsxs("div",{className:"flex flex-col min-w-0",children:[f.jsx("label",{className:"block text-[10px] font-bold text-[#5c7355] uppercase tracking-wider mb-1.5",children:"Month"}),f.jsx(mt,{value:c,onChange:l,placeholder:"All Months",options:[{value:"",label:"All Months"},...M.map(G=>({value:G,label:wp(G)}))],leftIcon:f.jsx("iconify-icon",{icon:"mdi:calendar-month-outline",width:"18"}),"aria-label":"Month",className:"min-w-0"})]}),f.jsxs("div",{className:"flex flex-col min-w-0",children:[f.jsx("label",{className:"block text-[10px] font-bold text-[#5c7355] uppercase tracking-wider mb-1.5",children:"Province"}),f.jsx(mt,{value:o,onChange:u,placeholder:"All Provinces",options:[{value:"",label:"All Provinces"},...kr.map(G=>({value:G,label:G}))],leftIcon:f.jsx("iconify-icon",{icon:"mdi:map-marker-outline",width:"18"}),"aria-label":"Province",className:"min-w-0"})]}),f.jsxs("div",{className:"flex flex-col min-w-0 sm:col-span-2 lg:col-span-1",children:[f.jsx("label",{className:"block text-[10px] font-bold text-[#5c7355] uppercase tracking-wider mb-1.5",children:"Search Records"}),f.jsxs("div",{className:"relative group flex items-stretch",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-[#5c7355] group-focus-within:text-[#1e4d2b] transition-colors duration-300",children:f.jsx("iconify-icon",{icon:"mdi:magnify",width:"20"})}),f.jsx("input",{type:"text",value:s,onChange:G=>a(G.target.value),placeholder:"Name, ID, or keyword...",className:"w-full min-h-[42px] pl-10 pr-10 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-[#1e4d2b] text-sm font-medium focus:ring-2 focus:ring-[#1e4d2b]/40 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c] box-border"}),s&&f.jsx("button",{onClick:()=>a(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-[#5c7355] hover:text-[#1e4d2b] hover:scale-110 transition-all duration-200",children:f.jsx("iconify-icon",{icon:"mdi:close-circle",width:"18"})})]})]})]})]}),f.jsxs("div",{className:"view-records-anim-3 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden flex flex-col min-h-[400px] hover:shadow-xl hover:shadow-[#1e4d2b]/10 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-3 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_80%_0%,rgba(255,255,255,0.08),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-black text-white uppercase tracking-tight",children:"Records"}),f.jsx("span",{className:"text-[11px] font-semibold text-white/85",children:F})]})]}),f.jsx("div",{className:"overflow-x-auto overflow-y-auto max-h-[calc(100vh-260px)] sm:max-h-[calc(100vh-280px)] min-h-0 custom-scrollbar view-records-scroll flex-1 border-l-4 border-[#1e4d2b]/25 -mx-1 px-1 sm:mx-0 sm:px-0",children:f.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[f.jsx("thead",{className:"sticky top-0 z-10 bg-gradient-to-r from-[#faf8f5] to-[#f2ede6] border-b-2 border-[#e8e0d4]",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-3 sm:px-5 py-3 sm:py-3.5 font-black text-[#1e4d2b] uppercase text-[10px] tracking-wider whitespace-nowrap",children:"Name / Identifier"}),ti[t]&&f.jsx("th",{className:"px-3 sm:px-5 py-3 sm:py-3.5 font-black text-[#1e4d2b] uppercase text-[10px] tracking-wider whitespace-nowrap",children:"Avg. Rating"}),f.jsx("th",{className:"px-3 sm:px-5 py-3 sm:py-3.5 font-black text-[#1e4d2b] uppercase text-[10px] tracking-wider whitespace-nowrap",children:"Date"}),f.jsx("th",{className:"px-3 sm:px-5 py-3 sm:py-3.5 font-black text-[#1e4d2b] uppercase text-[10px] tracking-wider text-center w-24 sm:w-28",children:"Actions"})]})}),f.jsx("tbody",{className:"divide-y divide-[#e8e0d4]",children:$.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:ti[t]?4:3,className:"px-6 py-16 text-center",children:f.jsxs("div",{className:"flex flex-col items-center justify-center text-[#5c7355] rounded-xl border-2 border-dashed border-[#1e4d2b]/25 bg-[#f0f5ee]/80 py-12 mx-4",children:[f.jsx("iconify-icon",{icon:"mdi:database-off-outline",width:"56",class:"opacity-60 animate-pulse"}),f.jsx("p",{className:"mt-3 font-semibold text-[#1e4d2b]",children:"No records found"}),f.jsx("p",{className:"text-xs text-[#5c7355] mt-1",children:"Try adjusting filters or search."})]})})}):U?f.jsxs(f.Fragment,{children:[f.jsx("tr",{className:"bg-[#1e4d2b]/10 border-y-2 border-[#1e4d2b]/20",children:f.jsxs("td",{colSpan:ti[t]?4:3,className:"px-5 py-2.5",children:[f.jsx("span",{className:"text-xs font-black text-[#1e4d2b] uppercase tracking-wider",children:"GAP Certification"}),j.length>0&&f.jsxs("span",{className:"ml-2 text-[10px] font-semibold text-[#5c7355]",children:["(",j.length," record(s))"]})]})}),j.map(G=>f.jsxs("tr",{className:"hover:bg-[#faf8f5]/90 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] group",children:[f.jsx("td",{className:"px-5 py-3.5",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-[#1e4d2b]/15 to-[#5c7355]/10 text-[#1e4d2b] flex items-center justify-center font-black text-sm shrink-0 border border-[#e8e0d4]/50 group-hover:scale-105 group-hover:from-[#1e4d2b]/20 group-hover:to-[#5c7355]/15 transition-all duration-300",children:Tr(G,t).charAt(0).toUpperCase()}),f.jsx("div",{className:"font-bold text-[#1e4d2b] group-hover:text-[#153019] transition-colors duration-300 max-w-xs sm:max-w-md truncate",title:Tr(G,t),children:Tr(G,t)})]})}),ti[t]&&f.jsx("td",{className:"px-5 py-3.5 whitespace-nowrap",children:(()=>{const ee=Mo(G,t);return ee?f.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-[#b8a066]/15 text-[#1e4d2b] font-bold text-xs border border-[#b8a066]/30 group-hover:bg-[#b8a066]/25 group-hover:border-[#b8a066]/50 transition-all duration-300",children:[f.jsx("iconify-icon",{icon:"mdi:star",width:"14",class:"text-[#b8a066]"}),ee,"/5"]}):f.jsx("span",{className:"text-[#8a857c] text-sm",children:""})})()}),f.jsxs("td",{className:"px-5 py-3.5 whitespace-nowrap",children:[f.jsx("div",{className:"text-[#1e4d2b] text-xs font-semibold",children:G.createdAt?new Date(G.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):""}),f.jsx("div",{className:"text-[#5c7355] text-[10px] font-medium",children:G.createdAt?new Date(G.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),f.jsx("td",{className:"px-5 py-3.5 text-center",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x(G)&&f.jsxs("button",{onClick:()=>k(G),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl font-semibold text-sm bg-[#1e4d2b]/10 border-2 border-[#1e4d2b]/30 text-[#1e4d2b] hover:bg-[#1e4d2b]/20 hover:border-[#1e4d2b] hover:shadow-md hover:shadow-[#1e4d2b]/20 active:scale-[0.98] transition-all duration-300",title:"Edit Record",children:[f.jsx("iconify-icon",{icon:"mdi:pencil-outline",width:"18"}),f.jsx("span",{children:"Edit"})]}),S()&&f.jsxs("button",{onClick:()=>v({id:G.id,name:Tr(G,t)}),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl font-semibold text-sm bg-red-50 border-2 border-red-200 text-red-700 hover:bg-red-100 hover:border-red-400 hover:shadow-md hover:shadow-red-200/30 active:scale-[0.98] transition-all duration-300",title:"Delete Record",children:[f.jsx("iconify-icon",{icon:"mdi:trash-can-outline",width:"18"}),f.jsx("span",{children:"Delete"})]})]})})]},G.id)),f.jsx("tr",{className:"bg-[#1e4d2b]/10 border-y-2 border-[#1e4d2b]/20",children:f.jsxs("td",{colSpan:ti[t]?4:3,className:"px-5 py-2.5",children:[f.jsx("span",{className:"text-xs font-black text-[#1e4d2b] uppercase tracking-wider",children:"Monitoring of GAP Certified Farmer"}),P.length>0&&f.jsxs("span",{className:"ml-2 text-[10px] font-semibold text-[#5c7355]",children:["(",P.length," record(s))"]})]})}),P.map(G=>f.jsxs("tr",{className:"hover:bg-[#faf8f5]/90 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] group",children:[f.jsx("td",{className:"px-5 py-3.5",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-[#1e4d2b]/15 to-[#5c7355]/10 text-[#1e4d2b] flex items-center justify-center font-black text-sm shrink-0 border border-[#e8e0d4]/50 group-hover:scale-105 group-hover:from-[#1e4d2b]/20 group-hover:to-[#5c7355]/15 transition-all duration-300",children:Tr(G,t).charAt(0).toUpperCase()}),f.jsx("div",{className:"font-bold text-[#1e4d2b] group-hover:text-[#153019] transition-colors duration-300 max-w-xs sm:max-w-md truncate",title:Tr(G,t),children:Tr(G,t)})]})}),ti[t]&&f.jsx("td",{className:"px-5 py-3.5 whitespace-nowrap",children:(()=>{const ee=Mo(G,t);return ee?f.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-[#b8a066]/15 text-[#1e4d2b] font-bold text-xs border border-[#b8a066]/30 group-hover:bg-[#b8a066]/25 group-hover:border-[#b8a066]/50 transition-all duration-300",children:[f.jsx("iconify-icon",{icon:"mdi:star",width:"14",class:"text-[#b8a066]"}),ee,"/5"]}):f.jsx("span",{className:"text-[#8a857c] text-sm",children:""})})()}),f.jsxs("td",{className:"px-5 py-3.5 whitespace-nowrap",children:[f.jsx("div",{className:"text-[#1e4d2b] text-xs font-semibold",children:G.createdAt?new Date(G.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):""}),f.jsx("div",{className:"text-[#5c7355] text-[10px] font-medium",children:G.createdAt?new Date(G.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),f.jsx("td",{className:"px-5 py-3.5 text-center",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x(G)&&f.jsxs("button",{onClick:()=>k(G),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl font-semibold text-sm bg-[#1e4d2b]/10 border-2 border-[#1e4d2b]/30 text-[#1e4d2b] hover:bg-[#1e4d2b]/20 hover:border-[#1e4d2b] hover:shadow-md hover:shadow-[#1e4d2b]/20 active:scale-[0.98] transition-all duration-300",title:"Edit Record",children:[f.jsx("iconify-icon",{icon:"mdi:pencil-outline",width:"18"}),f.jsx("span",{children:"Edit"})]}),S()&&f.jsxs("button",{onClick:()=>v({id:G.id,name:Tr(G,t)}),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl font-semibold text-sm bg-red-50 border-2 border-red-200 text-red-700 hover:bg-red-100 hover:border-red-400 hover:shadow-md hover:shadow-red-200/30 active:scale-[0.98] transition-all duration-300",title:"Delete Record",children:[f.jsx("iconify-icon",{icon:"mdi:trash-can-outline",width:"18"}),f.jsx("span",{children:"Delete"})]})]})})]},G.id)),N.length>0&&f.jsxs(f.Fragment,{children:[f.jsx("tr",{className:"bg-[#b8a066]/10 border-y-2 border-[#b8a066]/20",children:f.jsxs("td",{colSpan:ti[t]?4:3,className:"px-5 py-2.5",children:[f.jsx("span",{className:"text-xs font-black text-[#5c574f] uppercase tracking-wider",children:"Other"}),f.jsxs("span",{className:"ml-2 text-[10px] font-semibold text-[#5c7355]",children:["(",N.length," record(s))"]})]})}),N.map(G=>f.jsxs("tr",{className:"hover:bg-[#faf8f5]/90 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] group",children:[f.jsx("td",{className:"px-5 py-3.5",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-[#1e4d2b]/15 to-[#5c7355]/10 text-[#1e4d2b] flex items-center justify-center font-black text-sm shrink-0 border border-[#e8e0d4]/50",children:Tr(G,t).charAt(0).toUpperCase()}),f.jsx("div",{className:"font-bold text-[#1e4d2b] max-w-xs sm:max-w-md truncate",title:Tr(G,t),children:Tr(G,t)})]})}),ti[t]&&f.jsx("td",{className:"px-5 py-3.5 whitespace-nowrap",children:Mo(G,t)?f.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-[#b8a066]/15 text-[#1e4d2b] font-bold text-xs border border-[#b8a066]/30",children:[f.jsx("iconify-icon",{icon:"mdi:star",width:"14",class:"text-[#b8a066]"}),Mo(G,t),"/5"]}):f.jsx("span",{className:"text-[#8a857c] text-sm",children:""})}),f.jsxs("td",{className:"px-5 py-3.5 whitespace-nowrap",children:[f.jsx("div",{className:"text-[#1e4d2b] text-xs font-semibold",children:G.createdAt?new Date(G.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):""}),f.jsx("div",{className:"text-[#5c7355] text-[10px] font-medium",children:G.createdAt?new Date(G.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),f.jsx("td",{className:"px-5 py-3.5 text-center",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x(G)&&f.jsxs("button",{onClick:()=>k(G),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl font-semibold text-sm bg-[#1e4d2b]/10 border-2 border-[#1e4d2b]/30 text-[#1e4d2b] hover:bg-[#1e4d2b]/20 hover:border-[#1e4d2b] hover:shadow-md hover:shadow-[#1e4d2b]/20 active:scale-[0.98] transition-all duration-300",title:"Edit Record",children:[f.jsx("iconify-icon",{icon:"mdi:pencil-outline",width:"18"}),f.jsx("span",{children:"Edit"})]}),S()&&f.jsxs("button",{onClick:()=>v({id:G.id,name:Tr(G,t)}),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl font-semibold text-sm bg-red-50 border-2 border-red-200 text-red-700 hover:bg-red-100 hover:border-red-400 hover:shadow-md hover:shadow-red-200/30 active:scale-[0.98] transition-all duration-300",title:"Delete Record",children:[f.jsx("iconify-icon",{icon:"mdi:trash-can-outline",width:"18"}),f.jsx("span",{children:"Delete"})]})]})})]},G.id))]})]}):$.map(G=>f.jsxs("tr",{className:"hover:bg-[#faf8f5]/90 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] group",children:[f.jsx("td",{className:"px-5 py-3.5",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-[#1e4d2b]/15 to-[#5c7355]/10 text-[#1e4d2b] flex items-center justify-center font-black text-sm shrink-0 border border-[#e8e0d4]/50 group-hover:scale-105 group-hover:from-[#1e4d2b]/20 group-hover:to-[#5c7355]/15 transition-all duration-300",children:Tr(G,t).charAt(0).toUpperCase()}),f.jsx("div",{className:"font-bold text-[#1e4d2b] group-hover:text-[#153019] transition-colors duration-300 max-w-xs sm:max-w-md truncate",title:Tr(G,t),children:Tr(G,t)})]})}),ti[t]&&f.jsx("td",{className:"px-5 py-3.5 whitespace-nowrap",children:(()=>{const ee=Mo(G,t);return ee?f.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-[#b8a066]/15 text-[#1e4d2b] font-bold text-xs border border-[#b8a066]/30 group-hover:bg-[#b8a066]/25 group-hover:border-[#b8a066]/50 transition-all duration-300",children:[f.jsx("iconify-icon",{icon:"mdi:star",width:"14",class:"text-[#b8a066]"}),ee,"/5"]}):f.jsx("span",{className:"text-[#8a857c] text-sm",children:""})})()}),f.jsxs("td",{className:"px-5 py-3.5 whitespace-nowrap",children:[f.jsx("div",{className:"text-[#1e4d2b] text-xs font-semibold",children:G.createdAt?new Date(G.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):""}),f.jsx("div",{className:"text-[#5c7355] text-[10px] font-medium",children:G.createdAt?new Date(G.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),f.jsx("td",{className:"px-5 py-3.5 text-center",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x(G)&&f.jsxs("button",{onClick:()=>k(G),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl font-semibold text-sm bg-[#1e4d2b]/10 border-2 border-[#1e4d2b]/30 text-[#1e4d2b] hover:bg-[#1e4d2b]/20 hover:border-[#1e4d2b] hover:shadow-md hover:shadow-[#1e4d2b]/20 active:scale-[0.98] transition-all duration-300",title:"Edit Record",children:[f.jsx("iconify-icon",{icon:"mdi:pencil-outline",width:"18"}),f.jsx("span",{children:"Edit"})]}),S()&&f.jsxs("button",{onClick:()=>v({id:G.id,name:Tr(G,t)}),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl font-semibold text-sm bg-red-50 border-2 border-red-200 text-red-700 hover:bg-red-100 hover:border-red-400 hover:shadow-md hover:shadow-red-200/30 active:scale-[0.98] transition-all duration-300",title:"Delete Record",children:[f.jsx("iconify-icon",{icon:"mdi:trash-can-outline",width:"18"}),f.jsx("span",{children:"Delete"})]})]})})]},G.id))})]})}),f.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-[#faf8f5] to-[#f2ede6] border-t-2 border-[#1e4d2b]/15 px-5 py-2.5 flex flex-wrap justify-between items-center gap-2 text-[11px] font-bold text-[#5c7355] transition-colors duration-300",children:[f.jsxs("span",{children:["Showing ",$.length," record(s)"]}),f.jsxs("span",{className:"flex items-center gap-2",children:[n.length>=C&&f.jsxs("span",{className:"italic text-amber-700",children:["First ",C," loaded  use filters to narrow"]}),$.length>20&&f.jsx("span",{className:"italic",children:"Scroll for more"})]})]})]}),y&&Tl.createPortal(f.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 animate-in fade-in duration-300",children:[f.jsx("div",{className:"absolute inset-0 min-h-[100dvh] min-w-full bg-red-950/45 backdrop-blur-md animate-in fade-in duration-300",style:{top:0,left:0,right:0,bottom:0},onClick:()=>v(null)}),f.jsxs("div",{className:"relative bg-white rounded-xl sm:rounded-2xl border-2 border-[#e8e0d4] shadow-2xl shadow-[#1e4d2b]/20 w-full max-w-md overflow-hidden animate-in zoom-in-95 fade-in duration-300 ease-out",style:{animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:[f.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-red-600 via-red-700 to-red-800 px-6 py-4 flex items-center gap-3 relative overflow-hidden border-b-2 border-red-900/30",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_20%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsx("span",{className:"relative z-10 p-2 rounded-xl bg-white/15 border border-white/20",children:f.jsx("iconify-icon",{icon:"mdi:alert-circle-outline",width:"24",class:"text-white"})}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("h3",{className:"text-lg font-black text-white uppercase tracking-tight",children:"Delete Record"}),f.jsx("p",{className:"text-[11px] font-semibold text-white/90 mt-0.5",children:"This action cannot be undone."})]})]}),f.jsxs("div",{className:"p-6 border-l-4 border-red-500/30 bg-gradient-to-b from-[#fef2f2] to-[#faf8f5]",children:[f.jsx("p",{className:"text-sm font-medium text-[#1e293b] mb-1",children:"Are you sure you want to permanently delete this record?"}),y.name&&y.name!==""&&f.jsx("p",{className:"text-xs text-[#64748b] mt-2 px-3 py-2 rounded-lg bg-white/80 border border-[#e8e0d4]",children:f.jsx("span",{className:"font-semibold text-[#1e4d2b]",children:y.name})})]}),f.jsxs("div",{className:"shrink-0 px-4 sm:px-6 py-4 border-t border-[#e8e0d4] bg-gradient-to-r from-[#faf8f5] to-[#f2ede6] flex justify-end gap-3",children:[f.jsx("button",{type:"button",onClick:()=>v(null),className:"min-h-[44px] px-4 sm:px-5 py-2.5 rounded-xl border-2 border-[#e8e0d4] text-[#1e4d2b] font-bold hover:bg-white hover:border-[#1e4d2b]/50 hover:scale-105 active:scale-[0.98] transition-all duration-300 text-xs sm:text-sm touch-manipulation",children:"Cancel"}),f.jsxs("button",{type:"button",onClick:()=>_(y.id),className:"min-h-[44px] px-4 sm:px-5 py-2.5 rounded-xl bg-red-600 text-white font-bold hover:bg-red-700 hover:scale-105 active:scale-[0.98] shadow-lg hover:shadow-xl transition-all duration-300 text-xs sm:text-sm flex items-center gap-2 touch-manipulation",children:[f.jsx("iconify-icon",{icon:"mdi:trash-can-outline",width:"18"}),"Delete"]})]})]})]}),document.body),p&&Tl.createPortal(f.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 animate-in fade-in duration-300",children:[f.jsx("div",{className:"absolute inset-0 min-h-[100dvh] min-w-full bg-[#153019]/80 backdrop-blur-md animate-in fade-in duration-300",style:{top:0,left:0,right:0,bottom:0},onClick:()=>d(null)}),f.jsxs("div",{className:"relative bg-white rounded-xl sm:rounded-2xl border-2 border-[#e8e0d4] shadow-2xl shadow-[#1e4d2b]/20 w-full max-w-2xl max-h-[85vh] sm:max-h-[90vh] flex flex-col overflow-hidden animate-in zoom-in-95 fade-in duration-300 ease-out",style:{animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:[f.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-4 sm:px-6 py-4 flex justify-between items-center relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_20%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 min-w-0",children:[f.jsx("h3",{className:"text-base sm:text-lg font-black text-white uppercase tracking-tight truncate",children:"Edit Record"}),f.jsxs("p",{className:"text-[11px] font-semibold text-white/80 mt-0.5",children:["ID: ",f.jsx("span",{className:"font-mono",children:p})]})]}),f.jsx("button",{onClick:()=>d(null),className:"relative z-10 p-2 min-h-[44px] min-w-[44px] rounded-xl bg-white/15 hover:bg-white/25 hover:scale-110 active:scale-95 text-white transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] touch-manipulation","aria-label":"Close",children:f.jsx("iconify-icon",{icon:"mdi:close",width:"24"})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 custom-scrollbar view-records-scroll bg-gradient-to-b from-[#faf8f5] to-[#f2ede6] border-l-4 border-[#1e4d2b]/25",children:f.jsx("div",{className:"grid gap-5",children:(()=>{const G=["createdBy","updatedAt"];let ee=hu[t];if(t==="goodAgriPractices"&&zc){const Y=h.formType,ie=Y&&zc[Y];ie!=null&&ie.length&&(ee=ie)}const Z=vi==null?void 0:vi[t],te=Y=>!G.includes(Y)&&!(Y==="attachmentFileName"&&h.attachmentData),oe=ee!=null&&ee.length?ee.filter(te).map(Y=>[Y,h[Y]]):Object.entries(h).filter(([Y])=>te(Y)),le=Y=>Z&&Z[Y]?Z[Y]:Sp(Y);return oe.map(([Y,ie])=>f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-black text-[#1e4d2b] uppercase tracking-wider mb-1.5",children:le(Y)}),R(Y,ie)]},Y))})()})}),f.jsxs("div",{className:"shrink-0 px-4 sm:px-6 py-4 border-t border-[#e8e0d4] bg-gradient-to-r from-[#faf8f5] to-[#f2ede6] flex justify-end gap-3",children:[f.jsx("button",{type:"button",onClick:()=>d(null),className:"min-h-[44px] px-4 sm:px-5 py-2.5 rounded-xl border-2 border-[#e8e0d4] text-[#1e4d2b] font-bold hover:bg-white hover:border-[#1e4d2b]/50 hover:scale-105 active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] text-xs sm:text-sm touch-manipulation",children:"Cancel"}),f.jsxs("button",{type:"button",onClick:T,className:"min-h-[44px] px-4 sm:px-5 py-2.5 rounded-xl bg-[#1e4d2b] text-white font-bold hover:bg-[#153019] hover:scale-105 active:scale-[0.98] shadow-lg hover:shadow-xl transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] text-xs sm:text-sm flex items-center gap-2 touch-manipulation",children:[f.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"18"}),"Save Changes"]})]})]})]}),document.body)]})}/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=(...r)=>r.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase());/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=r=>{const t=jC(r);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=ae.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...c},l)=>ae.createElement("svg",{ref:l,...TC,width:t,height:t,stroke:r,strokeWidth:n?Number(e)*24/Number(t):e,className:g5("lucide",i),...!s&&!CC(c)&&{"aria-hidden":"true"},...c},[...a.map(([o,u])=>ae.createElement(o,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(r,t)=>{const e=ae.forwardRef(({className:n,...i},s)=>ae.createElement(AC,{ref:s,iconNode:t,className:g5(`lucide-${EC(cv(r))}`,`lucide-${r}`,n),...i}));return e.displayName=cv(r),e};/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Jd=lt("activity",IC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],uv=lt("arrow-left",RC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],kp=lt("award",PC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],OC=lt("book-open",MC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],FC=lt("bug",DC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Np=lt("building-2",LC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],VC=lt("calendar-clock",BC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],UC=lt("calendar-days",zC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],HC=lt("calendar",$C);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],dv=lt("chart-no-axes-column",qC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],GC=lt("chevron-right",WC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hv=lt("circle-check",KC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],QC=lt("clipboard-check",XC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],oc=lt("clipboard-list",YC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],JC=lt("clock",ZC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],U0=lt("file-check",eA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M4.226 20.925A2 2 0 0 0 6 22h12a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v3.127",key:"wfxp4w"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]],rA=lt("file-output",tA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],eh=lt("file-text",nA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],sA=lt("hash",iA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],oA=lt("layout-grid",aA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],cA=lt("link",lA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ji=lt("map-pin",uA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],hA=lt("map",dA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],b5=lt("message-square",fA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],mA=lt("microscope",pA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],bA=lt("package",gA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],yA=lt("phone",vA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wA=lt("refresh-cw",xA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],v5=lt("ruler",_A);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],kA=lt("scan",SA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],y5=lt("search",NA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],jA=lt("send",EA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],CA=lt("shield-check",TA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],IA=lt("smile",AA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],fv=lt("sprout",RA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-6 0c0 2 1 2 1 3.5V13",key:"i9gjdv"}],["path",{d:"M20 15.5a2.5 2.5 0 0 0-2.5-2.5h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1z",key:"1vzg3v"}],["path",{d:"M5 22h14",key:"ehvnwv"}]],MA=lt("stamp",PA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ga=lt("star",OA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],FA=lt("stethoscope",DA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],pv=lt("store",LA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],Ep=lt("syringe",BA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],zA=lt("tag",VA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]],$A=lt("test-tube-diagonal",UA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],qA=lt("trending-up",HA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],GA=lt("triangle-alert",WA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],oo=lt("user",KA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],QA=lt("users",XA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ZA=lt("x",YA),JA={ratingQuantity:"Quantity of Goods/Services",ratingServicesPersonnel:"Services Rendered by Personnel",ratingTraining:"Training Relevance",ratingAttitude:"Attitude (Courteousness)",ratingPromptness:"Promptness"},eI={ratingQuantity:bA,ratingServicesPersonnel:QA,ratingTraining:OC,ratingAttitude:IA,ratingPromptness:JC},mv=[{title:"Registration & Licensing",icon:kp,theme:"primary",bgHeader:"bg-[#1e4d2b]",textHeader:"text-white",borderColor:"border-[#1e4d2b]",softBg:"bg-[#1e4d2b]/5",hoverBorder:"hover:border-[#1e4d2b]",accentText:"text-[#1e4d2b]",units:["animalFeed","animalWelfare","livestockHandlers","transportCarrier","plantMaterial","organicAgri"]},{title:"Quality Control",icon:CA,theme:"secondary",bgHeader:"bg-[#9a7b4f]",textHeader:"text-white",borderColor:"border-[#9a7b4f]",softBg:"bg-[#9a7b4f]/5",hoverBorder:"hover:border-[#9a7b4f]",accentText:"text-[#9a7b4f]",units:["goodAgriPractices","goodAnimalHusbandry","organicPostMarket","landUseMatter","foodSafety","safdzValidation"]},{title:"Surveillance",icon:Jd,theme:"accent",bgHeader:"bg-[#6b8e5a]",textHeader:"text-white",borderColor:"border-[#6b8e5a]",softBg:"bg-[#6b8e5a]/10",hoverBorder:"hover:border-[#6b8e5a]",accentText:"text-[#6b8e5a]",units:["plantPestSurveillance","cfsAdmcc","animalDiseaseSurveillance"]}];function tI(){const{stats:r,refresh:t}=ZT(),[e,n]=ae.useState(!1),[i,s]=ae.useState(null),[a,c]=ae.useState("card"),[l,o]=ae.useState(!1),[u,p]=ae.useState(()=>new Date),[d,h]=ae.useState(!1),g=()=>{l||(o(!0),h(!1),t().then(()=>{p(new Date),h(!0)}).finally(()=>o(!1)))};ae.useEffect(()=>{if(!d)return;const E=setTimeout(()=>h(!1),3500);return()=>clearTimeout(E)},[d]);const b=Object.entries(r.byMonth).sort((E,A)=>E[0].localeCompare(A[0])).slice(-12),m=Object.entries(r.byProvince).sort((E,A)=>A[1]-E[1]),y=Object.entries(r.byUnit).sort((E,A)=>A[1].count-E[1].count),v=Math.max(...b.map(([,E])=>E),1),w=Math.max(...y.map(([,E])=>E.count),1);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-4 sm:space-y-5 pb-8 sm:pb-10 relative font-sans text-[#2d2a26]",children:[f.jsx("div",{className:"analytics-section rounded-xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden",style:{animationDelay:"0ms"},children:f.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-4 sm:px-6 py-4 relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Analytics Dashboard"}),f.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[f.jsxs("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider",children:["Live system data  Updated: ",u.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),d&&f.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-white/25 backdrop-blur-sm border border-white/40 text-white text-[11px] font-bold animate-in fade-in zoom-in-95 duration-300",children:[f.jsx(hv,{size:14,className:"text-emerald-300 shrink-0"}),"Data reloaded"]})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[f.jsxs("button",{onClick:()=>n(!0),className:"group inline-flex items-center gap-1.5 px-3 py-2.5 sm:px-4 min-h-[44px] bg-[#b8a066] text-[#153019] rounded-xl hover:bg-[#d4c4a0] hover:scale-105 active:scale-[0.98] shadow-md hover:shadow-lg transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] font-bold text-xs border border-[#b8a066]/50 touch-manipulation",children:[f.jsx(ga,{size:16,className:"fill-[#153019] transition-transform duration-300 group-hover:scale-110 shrink-0"}),"View Ratings"]}),f.jsxs("button",{type:"button",onClick:g,disabled:l,className:"group/ref inline-flex items-center gap-2 px-3 py-2.5 sm:px-4 min-h-[44px] bg-white text-[#1e4d2b] rounded-xl hover:bg-[#faf8f5] hover:scale-105 active:scale-[0.98] shadow-md hover:shadow-lg transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] font-bold text-xs sm:text-sm border-2 border-white/40 disabled:opacity-70 disabled:cursor-wait disabled:hover:scale-100 touch-manipulation",children:[f.jsx(wA,{size:18,className:`shrink-0 transition-transform duration-300 ${l?"animate-spin":"group-hover/ref:rotate-[-360deg]"}`}),l?"Refreshing...":"Refresh"]}),f.jsxs(_r,{to:"/dashboard",className:"inline-flex items-center gap-1.5 px-3 py-2.5 sm:px-4 min-h-[44px] bg-white/15 backdrop-blur-sm text-white border border-white/25 rounded-xl hover:bg-white/25 hover:border-white/40 hover:scale-105 active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] font-bold text-xs touch-manipulation",children:[f.jsx(uv,{size:16,className:"shrink-0"}),"Dashboard"]})]})]})]})}),f.jsxs("div",{className:"analytics-section grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",style:{animationDelay:"80ms"},children:[f.jsx(Hc,{title:"Total Records",value:r.total,icon:eh,gradient:"from-[#1e4d2b] to-[#153019]",iconColor:"text-white"}),f.jsx(Hc,{title:"Active Units",value:Un.length,icon:oA,gradient:"from-[#5c7355] to-[#4a6b3c]",iconColor:"text-white"}),f.jsx(Hc,{title:"Data Points",value:Object.keys(r.byMonth).length,icon:HC,gradient:"from-[#b8a066] to-[#d4c4a0]",iconColor:"text-[#153019]"}),f.jsx(Hc,{title:"Provinces",value:Object.keys(r.byProvince).length,icon:ji,gradient:"from-[#9a7b4f] to-[#8f7a45]",iconColor:"text-white"})]}),f.jsxs("div",{className:"analytics-section grid lg:grid-cols-3 gap-4 h-full",style:{animationDelay:"160ms"},children:[f.jsxs("div",{className:"lg:col-span-2 rounded-xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 overflow-hidden flex flex-col min-h-[320px] bg-white group/card hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-4 sm:px-5 py-3 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.12),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-base font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Monthly Trends"}),f.jsx("p",{className:"text-[10px] font-semibold text-white/80 tracking-wider mt-0.5",children:"Volume over time"})]}),f.jsx("div",{className:"p-2 rounded-lg bg-white/15 backdrop-blur-sm border border-white/20 text-[#d4c4a0]",children:f.jsx(qA,{size:18})})]})]}),f.jsx("div",{className:"flex-1 p-4 sm:p-5 flex flex-col min-h-0 bg-[linear-gradient(180deg,#faf8f5_0%,#f5f0e8_50%,#efe9e0_100%)] border-l-4 border-[#1e4d2b]/25",children:f.jsxs("div",{className:"flex-1 flex items-end gap-1.5 sm:gap-2 pb-1 overflow-x-auto custom-scrollbar view-records-scroll min-h-[200px] relative",children:[f.jsx("div",{className:"absolute inset-0 pointer-events-none flex flex-col justify-between pt-0 pb-8 px-2","aria-hidden":!0,children:[0,1,2,3,4].map(E=>f.jsx("div",{className:"w-full h-px bg-[#d4cdc0]/40"},E))}),b.length===0?f.jsx("div",{className:"w-full flex items-center justify-center text-[#5c574f] py-8 rounded-lg border-2 border-dashed border-[#1e4d2b]/25 bg-[#f0f5ee]/80",children:f.jsx("span",{className:"text-xs font-medium",children:"No data available"})}):b.map(([E,A])=>{const D=v>0?A/v*100:0,L=A===v&&v>0;return f.jsxs("div",{className:"group flex flex-col items-center flex-1 min-w-[32px] sm:min-w-[40px] relative z-10",children:[f.jsxs("div",{className:"mb-1.5 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] -translate-y-1 group-hover:translate-y-0 bg-[#1e4d2b] text-white text-[9px] font-bold px-2 py-1 rounded-md shadow-xl whitespace-nowrap z-20 pointer-events-none border border-white/30 backdrop-blur-sm",children:[A," ",f.jsx("span",{className:"opacity-90",children:"records"})]}),f.jsx("div",{className:"relative w-full rounded-t-lg flex items-end overflow-hidden h-[165px] bg-white/50 border border-[#e8e0d4] shadow-inner",children:f.jsx("div",{className:`w-full rounded-t-lg transition-all duration-700 ease-[cubic-bezier(0.16,1,0.3,1)] group-hover:brightness-110 relative overflow-hidden ${L?"bg-gradient-to-t from-[#0d1f14] via-[#153019] to-[#1e4d2b] shadow-inner":"bg-gradient-to-t from-[#153019] via-[#1e4d2b] to-[#5c7355]"}`,style:{height:`${Math.max(D,4)}%`},children:f.jsx("div",{className:"absolute top-0 left-0 right-0 h-4 bg-gradient-to-b from-white/25 to-transparent rounded-t-lg"})})}),f.jsx("div",{className:"mt-2 text-[9px] font-bold text-[#5c574f] truncate w-full text-center group-hover:text-[#1e4d2b] transition-colors duration-300",children:wp(E)})]},E)})]})})]}),f.jsxs("div",{className:"rounded-xl border-2 border-[#e8e0d4] shadow-lg shadow-[#b8a066]/15 overflow-hidden flex flex-col max-h-[380px] bg-white hover:shadow-xl hover:shadow-[#b8a066]/20 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-[#9a7b4f] via-[#b8a066] to-[#8f7a45] px-4 sm:px-5 py-3 relative overflow-hidden border-b-2 border-[#b8a066]/25",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_80%_0%,rgba(255,255,255,0.12),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-base font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Top Units"}),f.jsx("p",{className:"text-[10px] font-semibold text-white/80 tracking-wider mt-0.5",children:"By submission volume"})]}),f.jsx("div",{className:"p-2 rounded-lg bg-white/15 backdrop-blur-sm border border-white/20 text-white",children:f.jsx(kp,{size:18})})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-3 custom-scrollbar view-records-scroll bg-gradient-to-b from-[#faf8f5] to-[#f2ede6] min-h-0 border-l-4 border-[#b8a066]/25",children:f.jsx("div",{className:"space-y-2.5",children:y.map(([E,A],D)=>f.jsxs("div",{className:"group relative bg-white/80 backdrop-blur-sm rounded-lg border border-[#e8e0d4] p-2.5 hover:border-[#b8a066]/40 hover:shadow-md hover:bg-white transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[f.jsxs("div",{className:"flex items-center gap-2 overflow-hidden min-w-0",children:[f.jsx("div",{className:`w-6 h-6 rounded-md flex items-center justify-center text-[10px] font-black shrink-0 shadow-md ring-1 ring-black/5
                            ${D===0?"bg-gradient-to-br from-[#b8a066] to-[#9a7b4f] text-[#153019]":D===1?"bg-gradient-to-br from-[#9a7b4f] to-[#8f7a45] text-white":D===2?"bg-gradient-to-br from-[#1e4d2b] to-[#153019] text-white":"bg-[#e8e0d4] text-[#5c574f]"}`,children:D+1}),f.jsx("span",{className:"text-[11px] font-bold text-[#1e4d2b] truncate uppercase tracking-tight",title:A.label,children:A.label})]}),f.jsx("span",{className:"text-xs font-black text-[#1e4d2b] shrink-0 ml-1.5",children:A.count})]}),f.jsx("div",{className:"w-full h-1.5 bg-[#e8e0d4]/80 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full rounded-full transition-all duration-700 ease-[cubic-bezier(0.16,1,0.3,1)] ${D===0?"bg-gradient-to-r from-[#b8a066] to-[#9a7b4f]":D===1?"bg-gradient-to-r from-[#9a7b4f] to-[#8f7a45]":"bg-gradient-to-r from-[#1e4d2b] to-[#153019]"}`,style:{width:`${A.count/w*100}%`}})})]},E))})})]})]}),f.jsxs("div",{className:"analytics-section w-full min-w-0 max-w-full rounded-xl border-2 border-[#e8e0d4] shadow-lg shadow-[#b8a066]/12 overflow-hidden bg-white hover:shadow-xl hover:shadow-[#b8a066]/18 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",style:{animationDelay:"240ms"},children:[f.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-[#9a7b4f] via-[#b8a066] to-[#8f7a45] px-3 sm:px-5 py-3 relative overflow-hidden border-b-2 border-[#b8a066]/25",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_20%_0%,rgba(255,255,255,0.12),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-3 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[f.jsx("div",{className:"p-1.5 sm:p-2 rounded-lg bg-white/15 backdrop-blur-sm border border-white/20 text-white shrink-0",children:f.jsx(ji,{size:16,className:"sm:w-[18px] sm:h-[18px]"})}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("h3",{className:"text-sm sm:text-base font-black text-white uppercase tracking-tight drop-shadow-sm truncate",children:"Geographic Data"}),f.jsx("p",{className:"text-[9px] sm:text-[10px] font-semibold text-white/85 tracking-wider mt-0.5 truncate",children:"Records by Province"})]})]}),f.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-white/25 bg-white/10 p-0.5 shrink-0 w-full sm:w-auto",children:[f.jsxs("button",{type:"button",onClick:()=>c("card"),className:`flex-1 sm:flex-none inline-flex items-center justify-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-2 sm:py-1.5 text-[9px] sm:text-[10px] font-bold rounded-md transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] min-h-[44px] sm:min-h-0 touch-manipulation ${a==="card"?"bg-white text-[#153019] shadow-sm":"text-white/90 hover:text-white hover:bg-white/10"}`,children:[f.jsx("span",{"aria-hidden":!0,children:""})," Card View"]}),f.jsxs("button",{type:"button",onClick:()=>c("analytics"),className:`flex-1 sm:flex-none inline-flex items-center justify-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-2 sm:py-1.5 text-[9px] sm:text-[10px] font-bold rounded-md transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] min-h-[44px] sm:min-h-0 touch-manipulation ${a==="analytics"?"bg-white text-[#153019] shadow-sm":"text-white/90 hover:text-white hover:bg-white/10"}`,children:[f.jsx("span",{"aria-hidden":!0,children:""})," Analytics View"]})]})]})]}),f.jsx("div",{className:"p-3 sm:p-5 bg-[linear-gradient(180deg,#faf8f5_0%,#f5f0e8_50%,#efe9e0_100%)] border-l-4 border-[#b8a066]/25 min-w-0 overflow-x-hidden",children:a==="card"?f.jsx("div",{className:"grid grid-cols-1 min-[400px]:grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2 sm:gap-3 min-w-0",children:m.map(([E,A],D)=>{const L=m.length>0?Math.max(...m.map(([,F])=>F)):1,C=L>0?A/L*100:0,M=D<3;return f.jsxs("div",{className:"group relative bg-white rounded-lg border-2 border-[#e8e0d4] p-2.5 sm:p-3 shadow-md hover:shadow-xl hover:shadow-[#b8a066]/15 hover:border-[#b8a066]/50 hover:-translate-y-1 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] overflow-hidden animate-in fade-in min-w-0",style:{animationDelay:`${D*40}ms`,animationDuration:"700ms",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",animationFillMode:"both"},children:[f.jsx("div",{className:"absolute top-1.5 left-1.5 p-1 sm:p-1.5 rounded-md sm:rounded-lg bg-[#faf8f5] border border-[#e8e0d4] text-[#9a7b4f] group-hover:bg-[#b8a066]/15 group-hover:border-[#b8a066]/30 group-hover:text-[#8f7a45] transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] z-10 shrink-0",children:f.jsx(ji,{size:12,className:"sm:w-[14px] sm:h-[14px]"})}),f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-[#b8a066]/15 to-transparent rounded-bl-full pointer-events-none transition-opacity duration-500 group-hover:opacity-80"}),M&&f.jsx("div",{className:`absolute top-1.5 right-1.5 w-6 h-6 rounded-md flex items-center justify-center text-[10px] font-black shadow-md ring-1 ring-black/10 transition-transform duration-500 group-hover:scale-110 ${D===0?"bg-gradient-to-br from-[#b8a066] to-[#9a7b4f] text-[#153019]":D===1?"bg-gradient-to-br from-[#5c7355] to-[#4a6b3c] text-white":"bg-gradient-to-br from-[#1e4d2b] to-[#153019] text-white"}`,children:D+1}),f.jsxs("div",{className:"flex flex-col items-center text-center relative z-10 pt-5 sm:pt-6 min-w-0",children:[f.jsx("span",{className:"text-lg sm:text-xl md:text-2xl font-black tabular-nums text-[#1e4d2b] group-hover:scale-110 transition-transform duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:A}),f.jsx("span",{className:"text-[8px] sm:text-[9px] font-bold text-[#5c7355] uppercase tracking-wider mt-0.5 sm:mt-1 truncate w-full max-w-full px-0.5",children:E}),f.jsx("div",{className:"w-full h-1.5 mt-2 bg-[#e8e0d4]/80 rounded-full overflow-hidden shadow-inner",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-[#9a7b4f] to-[#b8a066] rounded-full transition-[width] duration-1000 ease-[cubic-bezier(0.16,1,0.3,1)]",style:{width:`${Math.max(C,8)}%`}})})]})]},E)})}):f.jsx("div",{className:"space-y-2 sm:space-y-2.5 max-h-[360px] sm:max-h-[400px] overflow-y-auto overflow-x-hidden custom-scrollbar view-records-scroll pr-1 min-w-0",children:m.length===0?f.jsx("div",{className:"flex items-center justify-center py-12 text-[#5c574f] rounded-xl border-2 border-dashed border-[#b8a066]/30 bg-white/60 animate-in fade-in duration-500",children:f.jsx("span",{className:"text-sm font-medium",children:"No province data available"})}):m.map(([E,A],D)=>{const L=m.length>0?Math.max(...m.map(([,M])=>M)):1,C=L>0?A/L*100:0;return f.jsxs("div",{className:"group flex items-center gap-2 sm:gap-3 min-w-0 animate-in fade-in",style:{animationDelay:`${D*60}ms`,animationDuration:"700ms",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)",animationFillMode:"both"},children:[f.jsx("div",{className:`w-6 h-6 sm:w-7 sm:h-7 rounded-lg flex items-center justify-center text-[9px] sm:text-[10px] font-black shrink-0 shadow-sm transition-transform duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover:scale-110 flex-shrink-0 ${D===0?"bg-gradient-to-br from-[#b8a066] to-[#9a7b4f] text-[#153019]":D===1?"bg-gradient-to-br from-[#5c7355] to-[#4a6b3c] text-white":D===2?"bg-gradient-to-br from-[#1e4d2b] to-[#153019] text-white":"bg-[#e8e0d4] text-[#5c574f]"}`,children:D+1}),f.jsxs("div",{className:"flex-1 min-w-0 flex flex-col sm:flex-row sm:items-center gap-0.5 sm:gap-3 overflow-hidden",children:[f.jsx("span",{className:"text-[11px] sm:text-sm font-bold text-[#1e4d2b] truncate min-w-0 sm:min-w-[80px] md:min-w-[120px] transition-colors duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover:text-[#153019]",children:E}),f.jsx("div",{className:"flex-1 min-w-0 h-6 sm:h-7 md:h-8 bg-[#e8e0d4]/80 rounded-lg overflow-hidden relative group/bar",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-[#9a7b4f] to-[#b8a066] rounded-lg flex items-center justify-end pr-1.5 min-w-[2rem] transition-[width,filter] duration-[1200ms] ease-[cubic-bezier(0.16,1,0.3,1)] group-hover/bar:brightness-110",style:{width:`${Math.max(C,4)}%`},children:C>=25&&f.jsx("span",{className:"text-[8px] sm:text-[9px] font-black text-white drop-shadow-sm animate-in fade-in duration-500",children:A})})}),f.jsx("span",{className:"text-[11px] sm:text-xs font-black text-[#1e4d2b] w-7 sm:w-8 md:w-10 text-right shrink-0 flex-shrink-0 transition-transform duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover:scale-110 tabular-nums",children:A})]})]},E)})})})]})]}),e&&Tl.createPortal(f.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 sm:p-6 w-full h-full overflow-hidden isolate",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#153019]/95 via-[#1e4d2b]/90 to-[#0d1f14]/95 backdrop-blur-lg animate-in fade-in duration-500 ease-out",style:{animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},onClick:()=>{n(!1),s(null)}}),f.jsx("div",{className:"relative w-full max-w-5xl max-h-[88vh] flex flex-col overflow-hidden animate-in zoom-in-95 duration-500 z-50 rounded-[1.75rem] shadow-[0_25px_80px_-12px_rgba(0,0,0,0.4),0_0_0_1px_rgba(255,255,255,0.1)_inset] ring-2 ring-white/20",style:{animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:f.jsxs("div",{className:"rounded-[1.75rem] overflow-hidden bg-[#faf8f5] flex flex-col h-full min-h-0",children:[f.jsxs("div",{className:"px-6 sm:px-8 py-5 sm:py-6 flex justify-between items-start sm:items-center shrink-0 z-10 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_80%_at_50%_-20%,rgba(255,255,255,0.15),transparent)]"}),f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"}),f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 relative z-10 flex-1 min-w-0 pr-14 sm:pr-12",children:[f.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-shrink-0",children:[f.jsx("div",{className:"p-3 rounded-2xl bg-white/15 backdrop-blur-sm border border-white/25 shadow-lg shrink-0",children:f.jsx(ga,{size:26,className:"text-[#d4c4a0] fill-[#d4c4a0]"})}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("h3",{className:"text-xl sm:text-2xl font-black uppercase tracking-tight leading-tight text-white drop-shadow-sm",children:i?"Unit Performance":"Satisfaction Ratings"}),i&&f.jsx("p",{className:"text-[11px] font-semibold text-white/80 tracking-widest uppercase mt-1.5",children:"Detailed feedback analysis"})]})]}),!i&&f.jsx("div",{className:"flex-shrink-0",children:(()=>{let E=0,A=0;mv.forEach(C=>{C.units.forEach(M=>{const F=r.unitRatings&&r.unitRatings[M];F&&F.ratedCount>0&&F.overallAvg!=null&&(E+=F.overallAvg*F.ratedCount,A+=F.ratedCount)})});const D=A>0?E/A:null;return D!=null&&A>0?f.jsxs("div",{className:"inline-flex flex-wrap items-center gap-x-2.5 gap-y-1.5 px-3 py-2 rounded-xl bg-white/25 backdrop-blur-md border border-white/40 shadow-md ring-1 ring-white/20 max-w-full",children:[f.jsx("span",{className:"text-[10px] font-black text-white/95 uppercase tracking-widest",children:"Overall"}),f.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(C=>f.jsx(ga,{size:14,className:`shrink-0 ${C<=Math.round(D)?"text-amber-300 fill-amber-300":"text-white/35"}`,strokeWidth:1.5},C))}),f.jsx("span",{className:"text-sm font-black text-white tabular-nums",children:D.toFixed(1)}),f.jsx("span",{className:"text-[10px] font-bold text-white/80",children:"/ 5"}),f.jsxs("span",{className:"text-[9px] font-semibold text-white/75",children:[A," rating",A!==1?"s":""]})]}):f.jsx("p",{className:"text-[11px] font-semibold text-white/70 uppercase tracking-widest",children:"No ratings yet"})})()})]}),f.jsx("button",{onClick:()=>{n(!1),s(null)},className:"absolute top-5 right-6 sm:top-6 sm:right-8 z-20 shrink-0 p-2.5 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-xl bg-white/10 hover:bg-white/25 text-white/90 hover:text-white transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] border border-white/20 hover:border-white/40 hover:scale-105 active:scale-95 touch-manipulation",children:f.jsx(ZA,{size:22,strokeWidth:2.5})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar ratings-modal-scroll p-5 sm:p-6 md:p-7 relative bg-[linear-gradient(180deg,#faf8f5_0%,#f5f0e8_100%)] min-h-0",children:[!i&&f.jsx("div",{className:"grid md:grid-cols-3 gap-6 h-full items-stretch",children:mv.map((E,A)=>{const D=(()=>{let C=0,M=0;return E.units.forEach($=>{const U=r.unitRatings&&r.unitRatings[$];U&&U.ratedCount>0&&U.overallAvg!=null&&(C+=U.overallAvg*U.ratedCount,M+=U.ratedCount)}),{avg:M>0?C/M:null,totalRatings:M}})(),L=D.avg!=null&&D.totalRatings>0;return f.jsxs("div",{className:`group/card rounded-2xl border-2 ${E.borderColor} bg-white shadow-lg hover:shadow-xl hover:shadow-[#2d2a26]/10 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] overflow-hidden flex flex-col min-h-[280px] animate-in slide-in-from-bottom-4 fade-in`,style:{animationDelay:`${A*120}ms`,animationDuration:"0.6s",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:[f.jsxs("div",{className:`px-5 py-4 ${E.bgHeader} flex flex-col items-center text-center gap-2 relative overflow-hidden shrink-0 transition-transform duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover/card:scale-[1.02]`,children:[f.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(135deg,transparent_0%,rgba(0,0,0,0.08)_100%)] opacity-60 transition-opacity duration-500"}),f.jsx(E.icon,{className:"absolute -right-4 -top-4 w-20 h-20 text-white/10 rotate-12 transition-transform duration-700 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover/card:rotate-6 group-hover/card:scale-110",size:80,strokeWidth:1.5}),f.jsx("div",{className:"relative z-10 p-3 rounded-2xl bg-white/25 backdrop-blur-sm border border-white/40 shadow-inner",children:f.jsx(E.icon,{size:24,strokeWidth:2,className:"text-white"})}),f.jsx("h4",{className:`font-black text-[11px] uppercase tracking-[0.2em] ${E.textHeader} relative z-10 leading-tight`,children:E.title}),f.jsx("div",{className:`relative z-10 w-full mt-2 px-3 py-2.5 rounded-xl border backdrop-blur-sm ${L?"bg-white/25 border-white/40 shadow-inner":"bg-white/10 border-white/20"}`,children:L?f.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[f.jsx("span",{className:"text-[8px] font-black text-white/90 uppercase tracking-widest",children:"Section Overall"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(C=>f.jsx(ga,{size:12,className:C<=Math.round(D.avg)?"text-[#fcd34d] fill-[#fcd34d]":"text-white/40"},C))}),f.jsx("span",{className:"text-base font-black text-white tabular-nums",children:D.avg.toFixed(1)}),f.jsx("span",{className:"text-[10px] font-bold text-white/80",children:"/ 5"})]}),f.jsxs("p",{className:"text-[8px] font-bold text-white/85",children:[D.totalRatings," rating",D.totalRatings!==1?"s":""," across units"]})]}):f.jsx("p",{className:"text-[9px] font-semibold text-white/75 uppercase tracking-wider",children:"No ratings yet"})})]}),f.jsx("div",{className:`p-3 sm:p-4 space-y-2.5 flex-1 ${E.softBg} flex flex-col`,children:E.units.map((C,M)=>{var j,P;const F=((j=Un.find(N=>N.id===C))==null?void 0:j.label)||C,$=r.unitRatings&&((P=r.unitRatings[C])==null?void 0:P.totalRecords)>0,U=$?r.unitRatings[C].ratedCount:0;return f.jsxs("button",{onClick:()=>s(C),disabled:!$,className:`w-full flex items-center justify-between gap-3 p-3.5 rounded-xl text-left transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] group/item relative overflow-hidden
                                ${$?`bg-white border border-[#e8e0d4] hover:border-[currentColor] ${E.hoverBorder} hover:shadow-md cursor-pointer shadow-sm hover:bg-white hover:translate-x-1`:"bg-[#f5f0e8]/60 border border-transparent opacity-70 cursor-not-allowed"}
                              `,children:[$&&f.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 rounded-l-xl ${E.bgHeader} opacity-0 group-hover/item:opacity-100 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] scale-y-0 group-hover/item:scale-y-100 origin-center`}),f.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[f.jsx("span",{className:`text-[11px] font-extrabold uppercase tracking-tight truncate transition-colors duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] ${$?`text-[#2d2a26] group-hover/item:${E.accentText}`:"text-[#5c574f]"}`,children:F}),$?f.jsxs("span",{className:`inline-flex items-center gap-1.5 mt-1.5 w-fit text-[9px] font-bold ${E.accentText} opacity-90`,children:[f.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${E.bgHeader} shrink-0`}),U," rating",U!==1?"s":""]}):f.jsx("span",{className:"text-[9px] text-[#8a857c] italic mt-1 font-medium",children:"No data"})]}),$&&f.jsx("div",{className:"p-2 rounded-lg bg-[#faf8f5] border border-[#e8e0d4] text-[#2d2a26] shrink-0 transition-transform duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover/item:translate-x-0.5",children:f.jsx(GC,{size:16,strokeWidth:2.5,className:"opacity-100"})})]},C)})})]},A)})}),i&&f.jsx("div",{className:"animate-in slide-in-from-right-6 fade-in h-full flex flex-col relative z-10",style:{animationDuration:"0.5s",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:(()=>{var D;const E=r.unitRatings[i],A=((D=Un.find(L=>L.id===i))==null?void 0:D.label)||i;return f.jsxs("div",{className:"max-w-5xl mx-auto w-full h-full flex flex-col min-h-0",children:[f.jsxs("button",{onClick:()=>s(null),className:"group shrink-0 inline-flex items-center gap-2.5 text-[11px] font-black uppercase tracking-widest text-[#5c7355] hover:text-[#1e4d2b] bg-white px-4 py-2.5 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] border-2 border-[#e8e0d4] hover:border-[#1e4d2b] w-fit mb-4",children:[f.jsx(uv,{size:16,className:"transition-transform duration-300 group-hover:-translate-x-0.5",strokeWidth:2.5}),"Back to Units"]}),f.jsxs("div",{className:"flex-1 min-h-0 flex flex-col bg-white rounded-2xl border-2 border-[#e8e0d4] shadow-xl shadow-[#1e4d2b]/8 overflow-hidden",children:[f.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-5 text-white relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_90%_70%_at_50%_0%,rgba(255,255,255,0.12),transparent_50%)]"}),f.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 opacity-[0.07]",children:f.jsx(kp,{size:96})}),f.jsxs("div",{className:"relative z-10 flex flex-wrap items-center gap-x-5 gap-y-2",children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-black uppercase tracking-tight text-white drop-shadow-sm",children:A}),f.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-xl bg-white/15 border border-white/25 text-[11px] font-bold backdrop-blur-sm",children:[f.jsx(dv,{size:14,className:"text-[#d4c4a0]"})," Metrics"]}),f.jsxs("span",{className:"inline-flex items-center gap-1.5 text-[11px] font-semibold text-white/90",children:[f.jsx(hv,{size:14,className:"text-[#b8a066]"})," ",E.ratedCount," validated record",E.ratedCount!==1?"s":""]})]})]}),f.jsxs("div",{className:"flex-1 min-h-0 p-5 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5 bg-gradient-to-b from-[#faf8f5] to-[#f2ede6]",children:[f.jsxs("div",{className:"flex flex-col justify-center items-center text-center p-5 sm:p-6 bg-white rounded-2xl border-2 border-[#e8e0d4] relative overflow-hidden group hover:border-[#b8a066]/50 hover:shadow-xl hover:shadow-[#b8a066]/10 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,#b8a066_0px,transparent_60px)] opacity-[0.06] group-hover:opacity-10 transition-opacity duration-300"}),f.jsx("p",{className:"relative z-10 text-[10px] font-black text-[#5c7355] uppercase tracking-[0.2em] mb-3",children:"Overall Satisfaction"}),f.jsxs("div",{className:"relative z-10 flex items-baseline gap-1.5",children:[f.jsx("span",{className:"text-5xl sm:text-6xl font-black text-[#1e4d2b] leading-none drop-shadow-sm",children:E.overallAvg.toFixed(1)}),f.jsx("span",{className:"text-base font-bold text-[#8a857c]",children:"/ 5"})]}),f.jsx("div",{className:"relative z-10 flex gap-1.5 mt-4 px-3 py-2 rounded-xl bg-[#faf8f5] border border-[#e8e0d4]",children:[1,2,3,4,5].map(L=>f.jsx(ga,{size:18,fill:L<=Math.round(E.overallAvg)?"#b8a066":"#e5e7eb",className:`transition-transform duration-200 group-hover:scale-105 ${L<=Math.round(E.overallAvg)?"text-[#b8a066]":"text-gray-200"}`},L))})]}),f.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl border-2 border-[#e8e0d4] p-4 shadow-lg shadow-[#1e4d2b]/5 flex flex-col",children:[f.jsxs("h4",{className:"text-[10px] font-black text-[#1e4d2b] uppercase tracking-wider mb-3 flex items-center gap-2",children:[f.jsx("span",{className:"p-1.5 rounded-lg bg-[#1e4d2b]/10",children:f.jsx(Jd,{size:14,className:"text-[#1e4d2b]"})}),"Criteria Breakdown"]}),f.jsx("div",{className:"space-y-2",children:Object.entries(E.averages||{}).map(([L,C])=>{const F=(C!=null?parseFloat(C):0)/5*100,$=eI[L];return f.jsxs("div",{className:"group/crit px-3 py-2 rounded-xl bg-[#faf8f5] border border-[#e8e0d4] hover:border-[#1e4d2b]/30 hover:bg-white transition-all duration-200",children:[f.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[$&&f.jsx("span",{className:"p-1.5 rounded-lg bg-[#1e4d2b]/10 shrink-0",children:f.jsx($,{size:12,className:"text-[#1e4d2b]"})}),f.jsx("span",{className:"text-[9px] sm:text-[10px] font-bold uppercase tracking-tight text-[#2d2a26] truncate",children:JA[L]||L})]}),f.jsx("span",{className:"px-2 py-0.5 rounded-lg bg-[#1e4d2b] text-white text-[10px] font-black shrink-0",children:C??""})]}),f.jsx("div",{className:"w-full h-2 bg-[#e8e0d4] rounded-full overflow-hidden shadow-inner",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-[#5c7355] to-[#1e4d2b] rounded-full transition-[width] duration-700 ease-[cubic-bezier(0.16,1,0.3,1)]",style:{width:`${F}%`}})})]},L)})})]}),f.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl border-2 border-[#e8e0d4] p-4 shadow-lg shadow-[#1e4d2b]/5 flex flex-col min-h-0",children:[f.jsxs("h4",{className:"text-[10px] font-black text-[#1e4d2b] uppercase tracking-wider mb-3 flex items-center gap-2 shrink-0",children:[f.jsx("span",{className:"p-1.5 rounded-lg bg-[#6b8e5a]/20",children:f.jsx(dv,{size:14,className:"text-[#6b8e5a]"})}),"Response Distribution"]}),f.jsx("div",{className:"flex items-end gap-2 flex-1 min-h-[88px] h-24",children:[1,2,3,4,5].map(L=>{const C=E.byScore||{},M=Number(C[L]??C[String(L)]??0),F=Object.keys(C).reduce((N,x)=>N+Number(C[x]||0),0),$=F>0?M/F*100:0,U=F>0?Math.max($/100*88,6):6,j=L>=4,P=L===3;return f.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center gap-2 group relative h-full",children:[f.jsxs("span",{className:"absolute -top-7 left-1/2 -translate-x-1/2 text-[9px] font-bold text-[#1e4d2b] opacity-0 group-hover:opacity-100 bg-white px-2 py-1 rounded-lg shadow-md border border-[#e8e0d4] whitespace-nowrap z-10 transition-all duration-200",children:[$.toFixed(0),"% (",M,")"]}),f.jsx("div",{className:`w-full rounded-t-lg flex-shrink-0 transition-all duration-500 ease-[cubic-bezier(0.16,1,0.3,1)] group-hover:brightness-110 ${j?"bg-gradient-to-t from-[#153019] to-[#1e4d2b]":P?"bg-gradient-to-t from-[#8f7a45] to-[#b8a066]":"bg-gradient-to-t from-[#a04a3a] to-[#c45c4a]"}`,style:{height:`${U}px`,minHeight:"6px"}}),f.jsxs("span",{className:"text-[9px] font-bold text-[#5c7355] flex items-center gap-1 shrink-0",children:[f.jsx(ga,{size:10,className:"fill-[#b8a066] text-[#b8a066]"}),L]})]},L)})})]})]})]})]})})()})]})]})})]}),document.body)]})}function Hc({title:r,value:t,icon:e,gradient:n,iconColor:i}){return f.jsxs("div",{className:"relative bg-white p-4 rounded-xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/5 hover:shadow-xl hover:shadow-[#1e4d2b]/10 hover:-translate-y-0.5 hover:border-[#1e4d2b]/30 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-[#1e4d2b]/40 via-[#5c7355]/30 to-[#b8a066]/20 rounded-t-xl"}),f.jsx("div",{className:`absolute top-0 right-0 w-28 h-28 bg-gradient-to-br ${n} opacity-[0.06] rounded-bl-full -mr-8 -mt-8 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover:opacity-10 group-hover:scale-110`}),f.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[9px] font-black text-[#5c574f] uppercase tracking-[0.18em] transition-colors duration-300 group-hover:text-[#1e4d2b]",children:r}),f.jsx("h3",{className:"text-2xl sm:text-3xl font-black mt-1.5 tracking-tighter text-[#1e4d2b] transition-transform duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover:scale-105",children:t})]}),f.jsx("div",{className:`w-10 h-10 rounded-xl bg-gradient-to-br ${n} flex items-center justify-center shadow-lg ring-2 ring-white/50 transform rotate-3 transition-transform duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover:rotate-6 group-hover:scale-110`,children:f.jsx(e,{size:18,className:`${i} transition-transform duration-300 group-hover:scale-110`})})]})]})}const ba="w-full px-4 py-2.5 border-2 border-[#e8e0d4] rounded-xl bg-white text-[#1e4d2b] text-sm font-medium focus:ring-2 focus:ring-[#1e4d2b]/40 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-200 placeholder:text-[#8a857c]",rI="px-5 py-2.5 bg-[#1e4d2b] text-white font-bold rounded-xl hover:bg-[#153019] disabled:opacity-60 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] hover:scale-[1.02] active:scale-[0.98] shadow-md hover:shadow-lg border border-[#1e4d2b]/20",nI="px-5 py-2.5 bg-[#b8a066] text-[#153019] font-bold rounded-xl hover:bg-[#d4c4a0] disabled:opacity-60 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] hover:scale-[1.02] active:scale-[0.98] shadow-md hover:shadow-lg border border-[#b8a066]/50";function iI(){const{user:r,role:t}=ua(),{showNotification:e}=L0(),{disabledUnitIds:n}=Zd(),i=t==="admin",[s,a]=ae.useState(null),[c,l]=ae.useState(""),[o,u]=ae.useState(""),[p,d]=ae.useState(""),[h,g]=ae.useState({type:"",text:""}),[b,m]=ae.useState(!1),[y,v]=ae.useState(!1),[w,E]=ae.useState(!1),[A,D]=ae.useState(""),[L,C]=ae.useState(""),[M,F]=ae.useState(""),[$,U]=ae.useState(""),[j,P]=ae.useState({type:"",text:""}),[N,x]=ae.useState(!1),[S,_]=ae.useState(!1),[k,T]=ae.useState(!1),[B,V]=ae.useState(!1);ae.useEffect(()=>{i&&f5().then(U)},[i]);const q=async z=>{if(z.preventDefault(),g({type:"",text:""}),!c.trim()||!o.trim()||!p.trim()){g({type:"error",text:"Please fill in all password fields."});return}if(o!==p){g({type:"error",text:"New password and confirmation do not match."});return}if(o.length<6){g({type:"error",text:"New password must be at least 6 characters."});return}m(!0);try{const X=oa.credential(r.email,c);await nN(ln.currentUser,X),await aN(ln.currentUser,o),await Rn({action:"password_change",userId:r.uid,userEmail:r.email,role:t||"staff",details:"Password updated successfully."}),g({type:"",text:""}),l(""),u(""),d(""),e({type:"success",title:"Password updated",message:"Your password has been changed successfully."})}catch(X){const O=X.code==="auth/wrong-password"||X.code==="auth/invalid-credential"?"Current password is incorrect.":X.message||"Failed to update password.";g({type:"error",text:O}),e({type:"error",title:"Update failed",message:O})}m(!1)},W=async z=>{if(z.preventDefault(),P({type:"",text:""}),!A.trim()||!L.trim()||!M.trim()){P({type:"error",text:"Please fill in all fields."});return}if(A.trim()!==$){P({type:"error",text:"Current admin code is incorrect."});return}if(L!==M){P({type:"error",text:"New code and confirmation do not match."});return}x(!0);try{await mC(L.trim()),U(L.trim()),await Rn({action:"admin_code_change",userId:r.uid,userEmail:r.email,role:"admin",details:"Admin registration code was updated."}),P({type:"",text:""}),D(""),C(""),F(""),e({type:"success",title:"Admin code updated",message:"Admin registration code has been updated successfully."})}catch(X){const O=X.message||"Failed to update code.";P({type:"error",text:O}),e({type:"error",title:"Update failed",message:O})}x(!1)},J=async(z,X)=>{if(i){a(z);try{const O=X?n.filter(R=>R!==z):[...n,z];await pC(O),await Rn({action:"admin_code_change",userId:r.uid,userEmail:r.email,role:"admin",details:X?`Unit enabled: ${z}`:`Unit disabled: ${z}`}),e({type:"success",title:"Units updated",message:X?"Unit is now visible to staff.":"Unit is now hidden from staff.",toast:!0})}catch(O){e({type:"error",title:"Update failed",message:O.message||"Could not update units.",toast:!0})}a(null)}};return f.jsxs("div",{className:"space-y-4 sm:space-y-6 pb-10 sm:pb-12 min-w-0 w-full max-w-full overflow-x-hidden",children:[f.jsx("div",{className:"settings-anim-1 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:f.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Settings"}),f.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-1",children:"Manage your account and security"})]}),f.jsxs(_r,{to:"/dashboard",className:"inline-flex items-center gap-2 px-3 py-2.5 sm:px-4 min-h-[44px] bg-white/15 backdrop-blur-sm text-white border border-white/25 rounded-xl hover:bg-white/25 hover:border-white/40 hover:scale-105 active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] font-bold text-xs sm:text-sm shrink-0 touch-manipulation",children:[f.jsx("iconify-icon",{icon:"mdi:arrow-left",width:"18",className:"shrink-0"}),"Dashboard"]})]})]})}),f.jsxs("div",{className:`grid gap-6 ${i?"lg:grid-cols-2":"max-w-2xl"}`,children:[f.jsxs("div",{className:"settings-anim-2 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/5 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/10 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] flex flex-col",children:[f.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 py-3.5 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.08),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-xl bg-white/15 border border-white/25",children:f.jsx("iconify-icon",{icon:"mdi:lock-reset",width:"22",className:"text-[#d4c4a0]"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-base font-black text-white uppercase tracking-tight",children:"Change Password"}),f.jsx("p",{className:"text-[10px] font-semibold text-white/80 tracking-wider mt-0.5",children:"Update your login password"})]})]})]}),f.jsx("div",{className:"p-5 sm:p-6 flex-1 bg-gradient-to-b from-[#faf8f5] to-[#f5f0e8] border-l-4 border-[#1e4d2b]/25",children:f.jsxs("form",{onSubmit:q,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-[#5c7355] uppercase tracking-wider mb-1.5",children:"Current password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:y?"text":"password",value:c,onChange:z=>l(z.target.value),className:ba,placeholder:"Enter current password",autoComplete:"current-password"}),f.jsx("button",{type:"button",onClick:()=>v(z=>!z),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#5c7355] hover:text-[#1e4d2b] p-1",children:f.jsx("iconify-icon",{icon:y?"mdi:eye-off":"mdi:eye",width:"20"})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-[#5c7355] uppercase tracking-wider mb-1.5",children:"New password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:w?"text":"password",value:o,onChange:z=>u(z.target.value),className:ba,placeholder:"At least 6 characters",autoComplete:"new-password"}),f.jsx("button",{type:"button",onClick:()=>E(z=>!z),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#5c7355] hover:text-[#1e4d2b] p-1",children:f.jsx("iconify-icon",{icon:w?"mdi:eye-off":"mdi:eye",width:"20"})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-[#5c7355] uppercase tracking-wider mb-1.5",children:"Confirm new password"}),f.jsx("input",{type:"password",value:p,onChange:z=>d(z.target.value),className:ba,placeholder:"Re-enter new password",autoComplete:"new-password"})]}),h.text&&f.jsx("p",{className:`text-sm font-semibold ${h.type==="success"?"text-[#1e4d2b]":"text-red-600"}`,children:h.text}),f.jsx("button",{type:"submit",disabled:b,className:`${rI} min-h-[44px] touch-manipulation`,children:b?"Updating...":"Update password"})]})})]}),i&&f.jsxs("div",{className:"settings-anim-3 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#b8a066]/10 overflow-hidden hover:shadow-xl hover:shadow-[#b8a066]/15 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] flex flex-col",children:[f.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-[#9a7b4f] via-[#b8a066] to-[#8f7a45] px-5 py-3.5 relative overflow-hidden border-b-2 border-[#b8a066]/25",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_80%_0%,rgba(255,255,255,0.12),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-xl bg-white/15 border border-white/25",children:f.jsx("iconify-icon",{icon:"mdi:key-variant",width:"22",className:"text-white"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-base font-black text-white uppercase tracking-tight",children:"Admin registration code"}),f.jsx("p",{className:"text-[10px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Only admins can register with this code"})]})]})]}),f.jsxs("div",{className:"p-5 sm:p-6 flex-1 bg-gradient-to-b from-[#faf8f5] to-[#f2ede6] border-l-4 border-[#b8a066]/25",children:[f.jsxs("div",{className:"mb-5 p-4 rounded-xl bg-white/90 border-2 border-[#e8e0d4] shadow-inner",children:[f.jsx("label",{className:"block text-[10px] font-bold text-[#5c7355] uppercase tracking-wider mb-1.5",children:"Current admin registration code"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("code",{className:"flex-1 px-4 py-2.5 rounded-xl bg-[#faf8f5] border-2 border-[#e8e0d4] text-[#1e4d2b] font-mono text-sm min-h-[42px] flex items-center font-semibold",children:$?B?$:"":"Loading..."}),f.jsx("button",{type:"button",onClick:()=>V(z=>!z),className:"shrink-0 p-2.5 rounded-xl border-2 border-[#e8e0d4] text-[#5c7355] hover:text-[#1e4d2b] hover:bg-[#faf8f5] hover:border-[#1e4d2b]/30 transition-all duration-200",title:B?"Hide code":"Show code",children:f.jsx("iconify-icon",{icon:B?"mdi:eye-off":"mdi:eye",width:"20"})})]}),f.jsx("p",{className:"text-[10px] text-[#5c574f] mt-2 font-medium",children:"Stored in Firestore settings, or from config if not set."})]}),f.jsxs("form",{onSubmit:W,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-[#5c7355] uppercase tracking-wider mb-1.5",children:"Enter current code (to change it)"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:S?"text":"password",value:A,onChange:z=>D(z.target.value),className:ba,placeholder:"Enter current code"}),f.jsx("button",{type:"button",onClick:()=>_(z=>!z),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#5c7355] hover:text-[#1e4d2b] p-1",children:f.jsx("iconify-icon",{icon:S?"mdi:eye-off":"mdi:eye",width:"20"})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-[#5c7355] uppercase tracking-wider mb-1.5",children:"New admin code"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:k?"text":"password",value:L,onChange:z=>C(z.target.value),className:ba,placeholder:"Enter new code"}),f.jsx("button",{type:"button",onClick:()=>T(z=>!z),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#5c7355] hover:text-[#1e4d2b] p-1",children:f.jsx("iconify-icon",{icon:k?"mdi:eye-off":"mdi:eye",width:"20"})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-[#5c7355] uppercase tracking-wider mb-1.5",children:"Confirm new code"}),f.jsx("input",{type:"password",value:M,onChange:z=>F(z.target.value),className:ba,placeholder:"Re-enter new code"})]}),j.text&&f.jsx("p",{className:`text-sm font-semibold ${j.type==="success"?"text-[#1e4d2b]":"text-red-600"}`,children:j.text}),f.jsx("button",{type:"submit",disabled:N,className:nI,children:N?"Updating...":"Update admin code"})]})]})]}),i&&f.jsxs("div",{className:"settings-anim-3 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] flex flex-col",children:[f.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 py-3.5 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.08),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("div",{className:"p-2 rounded-xl bg-white/15 border border-white/25",children:f.jsx("iconify-icon",{icon:"mdi:toggle-switch-outline",width:"22",className:"text-[#d4c4a0]"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-base font-black text-white uppercase tracking-tight",children:"Disable / Enable units"}),f.jsx("p",{className:"text-[10px] font-semibold text-white/80 tracking-wider mt-0.5",children:"Disabled units stay visible but cannot be opened (Dashboard, sidebar, View Records)"})]})]})]}),f.jsxs("div",{className:"p-5 sm:p-6 flex-1 bg-gradient-to-b from-[#faf8f5] to-[#f2ede6] border-l-4 border-[#1e4d2b]/25",children:[f.jsxs("p",{className:"text-[11px] text-[#5c574f] font-medium mb-4",children:["Only admins can change this. Use ",f.jsx("strong",{children:"Disable"})," / ",f.jsx("strong",{children:"Enable"})," per unit below, grouped by section."]}),f.jsx("div",{className:"space-y-5 max-h-[420px] overflow-y-auto custom-scrollbar pr-1",children:[{sectionLabel:"Registration & Licensing",unitIds:["animalFeed","animalWelfare","livestockHandlers","transportCarrier","plantMaterial","organicAgri"]},{sectionLabel:"Quality Control",unitIds:["goodAgriPractices","goodAnimalHusbandry","organicPostMarket","landUseMatter","foodSafety","safdzValidation"]},{sectionLabel:"Surveillance",unitIds:["plantPestSurveillance","cfsAdmcc","animalDiseaseSurveillance"]}].map(z=>f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{className:"text-xs font-black text-[#1e4d2b] uppercase tracking-wider border-b-2 border-[#e8e0d4] pb-1.5 sticky top-0 bg-gradient-to-b from-[#faf8f5] to-[#f2ede6] z-10",children:z.sectionLabel}),f.jsx("div",{className:"space-y-2",children:z.unitIds.map(X=>{const O=Un.find(H=>H.id===X);if(!O)return null;const R=n.includes(O.id);return f.jsxs("div",{className:`flex items-center justify-between gap-3 p-3 rounded-xl border-2 transition-all duration-200 ${R?"bg-red-50/80 border-red-200":"bg-white border-[#e8e0d4]"}`,children:[f.jsx("span",{className:"text-sm font-bold text-[#1e4d2b] flex-1 min-w-0 truncate",children:O.label}),f.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[f.jsx("span",{className:`text-[10px] font-bold uppercase ${R?"text-red-600":"text-[#5c7355]"}`,children:R?"Disabled":"Enabled"}),f.jsx("button",{type:"button",onClick:()=>J(O.id,R),disabled:!!s,className:`relative w-11 h-6 rounded-full transition-colors duration-300 ease-out ${R?"bg-red-500":"bg-[#1e4d2b]"} disabled:opacity-60 focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/40 focus:ring-offset-2 rounded-full`,"aria-label":R?`Enable ${O.label}`:`Disable ${O.label}`,children:f.jsx("span",{className:`absolute top-1 w-4 h-4 rounded-full bg-white shadow-md transition-all duration-300 ease-out ${R?"left-1 translate-x-0":"left-1 translate-x-5"}`,style:{willChange:"transform"}})})]})]},O.id)})})]},z.sectionLabel))})]})]})]})]})}const x5={login:"Login",logout:"Logout",password_change:"Password change",admin_code_change:"Admin code changed",record_submitted:"Record submitted",record_updated:"Record updated",record_deleted:"Record deleted"},sI=[{value:"",label:"All actions"},...Object.entries(x5).map(([r,t])=>({value:r,label:t}))],aI=[{value:"",label:"All roles"},{value:"admin",label:"Admin"},{value:"staff",label:"Staff"}],oI={login:"mdi:login",logout:"mdi:logout",password_change:"mdi:lock-reset",admin_code_change:"mdi:key-variant",record_submitted:"mdi:file-document-plus",record_updated:"mdi:file-document-edit",record_deleted:"mdi:file-document-remove"},va=10;function lI(){const[r,t]=ae.useState([]),[e,n]=ae.useState(!0),[i,s]=ae.useState(""),[a,c]=ae.useState(""),[l,o]=ae.useState(""),[u,p]=ae.useState(1);ae.useEffect(()=>{let m=!1;return n(!0),s(""),aC(500).then(y=>{m||t(y)}).catch(y=>{m||s(y.message||"Failed to load logs.")}).finally(()=>{m||n(!1)}),()=>{m=!0}},[]);const d=ae.useMemo(()=>r.filter(m=>{const y=!a||m.action===a,v=!l||(m.role||"").toLowerCase()===l.toLowerCase();return y&&v}),[r,a,l]),h=Math.max(1,Math.ceil(d.length/va)),g=ae.useMemo(()=>{const m=(u-1)*va;return d.slice(m,m+va)},[d,u]);ae.useEffect(()=>{p(1)},[a,l]);const b=m=>m?new Date(m).toLocaleString("en-PH",{dateStyle:"short",timeStyle:"medium"}):"";return f.jsxs("div",{className:"space-y-6 pb-10 min-w-0 w-full max-w-full overflow-x-hidden",children:[f.jsx("div",{className:"system-logs-anim-1 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:f.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-3 rounded-2xl bg-white/15 backdrop-blur-sm border border-white/25 shadow-lg",children:f.jsx("iconify-icon",{icon:"mdi:clipboard-list-outline",width:"28",className:"text-[#d4c4a0]"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"System Logs"}),f.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-1",children:"Activity audit: logins, record changes, password & admin code updates"})]})]}),f.jsxs(_r,{to:"/dashboard",className:"inline-flex items-center gap-2 px-4 py-2.5 bg-white/15 backdrop-blur-sm text-white border border-white/25 rounded-xl hover:bg-white/25 hover:border-white/40 hover:scale-105 active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] font-bold text-sm shrink-0",children:[f.jsx("iconify-icon",{icon:"mdi:arrow-left",width:"18"}),"Dashboard"]})]})]})}),f.jsxs("div",{className:"system-logs-anim-2 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#b8a066]/10 overflow-hidden hover:shadow-xl hover:shadow-[#b8a066]/15 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("div",{className:"px-4 py-3 bg-gradient-to-r from-[#9a7b4f] via-[#b8a066] to-[#8f7a45] relative border-b-2 border-[#b8a066]/25 rounded-t-2xl overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_80%_0%,rgba(255,255,255,0.12),transparent_50%)]"}),f.jsx("span",{className:"relative z-10 text-[10px] font-black text-white uppercase tracking-widest",children:"Filters"})]}),f.jsxs("div",{className:"p-4 sm:p-5 border-l-4 border-[#b8a066]/25 grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-[auto_auto_1fr] gap-4 lg:gap-6 lg:items-end bg-gradient-to-b from-[#faf8f5] to-[#f5f0e8]",children:[f.jsxs("div",{className:"flex flex-col min-w-0",children:[f.jsx("label",{className:"block text-[10px] font-bold text-[#5c7355] uppercase tracking-wider mb-1.5",children:"Action"}),f.jsx(mt,{options:sI,value:a,onChange:m=>c(m),placeholder:"All actions","aria-label":"Filter by action",className:"min-w-0"})]}),f.jsxs("div",{className:"flex flex-col min-w-0",children:[f.jsx("label",{className:"block text-[10px] font-bold text-[#5c7355] uppercase tracking-wider mb-1.5",children:"Role"}),f.jsx(mt,{options:aI,value:l,onChange:m=>o(m),placeholder:"All roles","aria-label":"Filter by role",className:"min-w-0"})]}),f.jsxs("div",{className:"flex items-center justify-end gap-2 lg:pb-0.5",children:[f.jsxs("span",{className:"text-sm font-bold text-[#1e4d2b]",children:[f.jsx("span",{className:"tabular-nums",children:d.length}),f.jsx("span",{className:"text-[#5c574f] font-semibold",children:" of "}),f.jsx("span",{className:"tabular-nums",children:r.length}),f.jsx("span",{className:"text-[#5c574f] font-semibold",children:" logs"})]}),f.jsxs("span",{className:"text-[10px] font-semibold text-[#8a857c] uppercase tracking-wider",children:[" ",va," per page"]})]})]})]}),f.jsxs("div",{className:"system-logs-anim-3 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden flex flex-col min-h-[320px] hover:shadow-xl hover:shadow-[#1e4d2b]/10 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-3 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.08),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-black text-white uppercase tracking-tight",children:"Activity log"}),f.jsxs("span",{className:"text-[11px] font-semibold text-white/85",children:["Page ",u," of ",h]})]})]}),f.jsxs("div",{className:"flex-1 min-h-0 overflow-x-auto overflow-y-auto max-h-[calc(100vh-380px)] custom-scrollbar view-records-scroll border-l-4 border-[#1e4d2b]/25",children:[i&&f.jsxs("div",{className:"m-4 p-4 rounded-xl bg-red-50 border-2 border-red-200 flex items-center gap-3",children:[f.jsx("iconify-icon",{icon:"mdi:alert-circle-outline",width:"24",className:"text-red-600 shrink-0"}),f.jsx("p",{className:"text-sm font-semibold text-red-800",children:i})]}),e?f.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[f.jsx("iconify-icon",{icon:"mdi:loading",width:"40",className:"animate-spin text-[#1e4d2b] mb-4"}),f.jsx("p",{className:"text-sm font-semibold text-[#5c7355]",children:"Loading logs..."})]}):d.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[f.jsx("div",{className:"p-4 rounded-2xl bg-[#f0f5ee]/80 border-2 border-dashed border-[#1e4d2b]/25 mb-4",children:f.jsx("iconify-icon",{icon:"mdi:clipboard-text-off-outline",width:"48",className:"text-[#5c7355] opacity-70"})}),f.jsx("p",{className:"text-sm font-bold text-[#1e4d2b]",children:"No logs found"}),f.jsx("p",{className:"text-xs text-[#5c574f] mt-1",children:"Try adjusting filters."})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"system-logs-table-wrap",children:f.jsxs("table",{className:"w-full min-w-[640px] text-sm border-collapse",children:[f.jsx("thead",{className:"sticky top-0 z-10 bg-gradient-to-r from-[#faf8f5] to-[#f2ede6] border-b-2 border-[#e8e0d4]",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-5 py-3.5 font-black text-[#1e4d2b] uppercase text-[10px] tracking-wider whitespace-nowrap text-left",children:"Time"}),f.jsx("th",{className:"px-5 py-3.5 font-black text-[#1e4d2b] uppercase text-[10px] tracking-wider whitespace-nowrap text-left",children:"Action"}),f.jsx("th",{className:"px-5 py-3.5 font-black text-[#1e4d2b] uppercase text-[10px] tracking-wider whitespace-nowrap text-left",children:"User"}),f.jsx("th",{className:"px-5 py-3.5 font-black text-[#1e4d2b] uppercase text-[10px] tracking-wider whitespace-nowrap text-left",children:"Role"}),f.jsx("th",{className:"px-5 py-3.5 font-black text-[#1e4d2b] uppercase text-[10px] tracking-wider text-left",children:"Details"})]})}),f.jsx("tbody",{className:"divide-y divide-[#e8e0d4] bg-white",children:g.map((m,y)=>f.jsxs("tr",{className:"system-logs-row group hover:bg-[#f0f5ee]/60 transition-colors duration-200",style:{animationDelay:`${y*35}ms`},children:[f.jsx("td",{className:"px-5 py-3 text-[#5c574f] font-medium whitespace-nowrap tabular-nums",children:b(m.timestamp)}),f.jsx("td",{className:"px-5 py-3",children:f.jsxs("span",{className:"inline-flex items-center gap-2 font-semibold text-[#1e4d2b]",children:[f.jsx("span",{className:"p-1.5 rounded-lg bg-[#1e4d2b]/10 text-[#1e4d2b]",children:f.jsx("iconify-icon",{icon:oI[m.action]||"mdi:circle",width:"16"})}),x5[m.action]||m.action]})}),f.jsx("td",{className:"px-5 py-3 text-[#2d2a26] font-medium truncate max-w-[200px]",title:m.userEmail||"",children:m.userEmail||""}),f.jsx("td",{className:"px-5 py-3",children:f.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-lg text-[10px] font-bold uppercase tracking-wider ${(m.role||"").toLowerCase()==="admin"?"bg-[#1e4d2b]/15 text-[#1e4d2b] border border-[#1e4d2b]/25":"bg-[#b8a066]/15 text-[#8f7a45] border border-[#b8a066]/25"}`,children:m.role||""})}),f.jsx("td",{className:"px-5 py-3 text-[#5c574f] text-xs max-w-[240px] truncate",title:m.details||"",children:m.details||""})]},m.id))})]})},u),f.jsxs("div",{className:"shrink-0 px-5 py-4 border-t-2 border-[#e8e0d4] bg-gradient-to-r from-[#faf8f5] to-[#f5f0e8] flex flex-wrap items-center justify-between gap-3",children:[f.jsxs("p",{className:"text-sm font-semibold text-[#5c7355]",children:["Showing ",f.jsx("span",{className:"text-[#1e4d2b] font-black tabular-nums",children:(u-1)*va+1}),"",f.jsx("span",{className:"text-[#1e4d2b] font-black tabular-nums",children:Math.min(u*va,d.length)}),f.jsx("span",{className:"text-[#5c574f]",children:" of "}),f.jsx("span",{className:"text-[#1e4d2b] font-black tabular-nums",children:d.length})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{type:"button",onClick:()=>p(m=>Math.max(1,m-1)),disabled:u<=1,className:"inline-flex items-center gap-1.5 px-4 py-2.5 rounded-xl border-2 border-[#e8e0d4] bg-white text-[#1e4d2b] font-bold text-sm hover:bg-[#faf8f5] hover:border-[#1e4d2b]/40 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] disabled:hover:scale-100",children:[f.jsx("iconify-icon",{icon:"mdi:chevron-left",width:"18"}),"Previous"]}),f.jsxs("button",{type:"button",onClick:()=>p(m=>Math.min(h,m+1)),disabled:u>=h,className:"inline-flex items-center gap-1.5 px-4 py-2.5 rounded-xl border-2 border-[#e8e0d4] bg-white text-[#1e4d2b] font-bold text-sm hover:bg-[#faf8f5] hover:border-[#1e4d2b]/40 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] disabled:hover:scale-100",children:["Next",f.jsx("iconify-icon",{icon:"mdi:chevron-right",width:"18"})]})]})]})]})]})]})]})}function en({title:r,children:t}){return f.jsxs("div",{className:"w-full min-w-0 max-w-full overflow-x-hidden px-0",children:[f.jsx("div",{className:"flex items-center gap-2 sm:gap-4 mb-3 sm:mb-6",children:f.jsxs(_r,{to:"/dashboard",className:"inline-flex items-center gap-2 px-3 py-2.5 sm:px-4 min-h-[44px] bg-white border-2 border-[#e8e0d4] rounded-xl text-[#1e4d2b] font-bold text-xs sm:text-sm shadow-sm hover:bg-[#1e4d2b]/10 hover:border-[#1e4d2b]/50 hover:shadow-md hover:scale-105 active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] touch-manipulation",children:[f.jsx("iconify-icon",{icon:"mdi:arrow-left",width:"20",className:"shrink-0"}),"Back to Dashboard"]})}),f.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-bold text-primary mb-3 sm:mb-6 break-words",children:r}),f.jsx("div",{className:"form-layout-inner bg-white rounded-lg sm:rounded-xl border border-border p-4 sm:p-6 lg:p-8 overflow-x-hidden min-w-0 max-w-full",children:t})]})}const Oo=[{value:"",label:"Select..."},{value:"1",label:"Poor (1)"},{value:"2",label:"Fair (2)"},{value:"3",label:"Satisfied (3)"},{value:"4",label:"Very Satisfied (4)"},{value:"5",label:"Excellent (5)"}];function pn({ratings:r={},onChange:t}){const e=n=>r[n]??"";return f.jsx("div",{className:"overflow-hidden border-2 border-[#e8e0d4] rounded-xl mb-5 hover:border-[#1e4d2b]/20 transition-colors duration-300",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-[#f0f5ee] border-b-2 border-[#1e4d2b]/15",children:[f.jsx("th",{className:"text-left py-4 px-4 font-bold text-[#1e4d2b] uppercase text-xs",children:"Rating Criteria"}),f.jsx("th",{className:"text-center py-4 px-2 w-48 font-bold text-[#1e4d2b] uppercase text-xs",children:"Score"})]})}),f.jsxs("tbody",{className:"divide-y divide-[#e8e0d4]",children:[f.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[f.jsx("td",{className:"py-3 px-4 font-medium text-[#1e4d2b]",children:"1. Quantity of Services Provided"}),f.jsx("td",{className:"py-2 px-2",children:f.jsx(mt,{options:Oo,value:e("ratingQuantity"),onChange:n=>t==null?void 0:t("ratingQuantity",n),placeholder:"Select...","aria-label":"Score",className:"min-w-[140px]"})})]}),f.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[f.jsx("td",{className:"py-3 px-4 font-medium text-[#1e4d2b]",children:"2. Personnel Service Quality"}),f.jsx("td",{className:"py-2 px-2",children:f.jsx(mt,{options:Oo,value:e("ratingServicesPersonnel"),onChange:n=>t==null?void 0:t("ratingServicesPersonnel",n),placeholder:"Select...","aria-label":"Score",className:"min-w-[140px]"})})]}),f.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[f.jsx("td",{className:"py-3 px-4 pl-8 text-[#5c574f] italic",children:"2.1 Relevance of training"}),f.jsx("td",{className:"py-2 px-2",children:f.jsx(mt,{options:Oo,value:e("ratingTraining"),onChange:n=>t==null?void 0:t("ratingTraining",n),placeholder:"Select...","aria-label":"Score",className:"min-w-[140px]"})})]}),f.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[f.jsx("td",{className:"py-3 px-4 pl-8 text-[#5c574f] italic",children:"2.2 Attitude (Courteousness)"}),f.jsx("td",{className:"py-2 px-2",children:f.jsx(mt,{options:Oo,value:e("ratingAttitude"),onChange:n=>t==null?void 0:t("ratingAttitude",n),placeholder:"Select...","aria-label":"Score",className:"min-w-[140px]"})})]}),f.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[f.jsx("td",{className:"py-3 px-4 pl-8 text-[#5c574f] italic",children:"2.3 Promptness"}),f.jsx("td",{className:"py-2 px-2",children:f.jsx(mt,{options:Oo,value:e("ratingPromptness"),onChange:n=>t==null?void 0:t("ratingPromptness",n),placeholder:"Select...","aria-label":"Score",className:"min-w-[140px]"})})]})]})]})})})}function tn(r){const[t,e]=ae.useState(!1),[n,i]=ae.useState(null),{user:s,role:a}=ua(),{showNotification:c}=L0();return{submit:async(o,u=null)=>{e(!0),i(null);try{const p={...o,createdBy:(s==null?void 0:s.uid)||null,createdAt:new Date().toISOString()};return u?(await P4(_n(Sr,r,u),{...o,updatedAt:new Date().toISOString()}),i({type:"success",text:"Record updated successfully."}),c({type:"success",title:"Changes saved",message:"Record updated successfully."}),Rn({action:"record_updated",userId:s==null?void 0:s.uid,userEmail:s==null?void 0:s.email,role:a||"staff",details:`${r} record updated.`}).catch(()=>{})):(await M4(so(Sr,r),p),i({type:"success",text:"Record saved successfully."}),c({type:"success",title:"Record submitted",message:"Record saved successfully."}),Rn({action:"record_submitted",userId:s==null?void 0:s.uid,userEmail:s==null?void 0:s.email,role:a||"staff",details:`${r} record submitted.`}).catch(()=>{})),!0}catch(p){const d=p.message||"Failed to save.";return i({type:"error",text:d}),c({type:"error",title:"Error",message:d}),!1}finally{e(!1)}},loading:t,message:n,setMessage:i}}/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 3.0.2
*/const w5=Object.freeze({left:0,top:0,width:16,height:16}),ad=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),lc=Object.freeze({...w5,...ad}),jp=Object.freeze({...lc,body:"",hidden:!1}),cI=Object.freeze({width:null,height:null}),_5=Object.freeze({...cI,...ad});function uI(r,t=0){const e=r.replace(/^-?[0-9.]*/,"");function n(i){for(;i<0;)i+=4;return i%4}if(e===""){const i=parseInt(r);return isNaN(i)?0:n(i)}else if(e!==r){let i=0;switch(e){case"%":i=25;break;case"deg":i=90}if(i){let s=parseFloat(r.slice(0,r.length-e.length));return isNaN(s)?0:(s=s/i,s%1===0?n(s):0)}}return t}const dI=/[\s,]+/;function hI(r,t){t.split(dI).forEach(e=>{switch(e.trim()){case"horizontal":r.hFlip=!0;break;case"vertical":r.vFlip=!0;break}})}const S5={..._5,preserveAspectRatio:""};function gv(r){const t={...S5},e=(n,i)=>r.getAttribute(n)||i;return t.width=e("width",null),t.height=e("height",null),t.rotate=uI(e("rotate","")),hI(t,e("flip","")),t.preserveAspectRatio=e("preserveAspectRatio",e("preserveaspectratio","")),t}function fI(r,t){for(const e in S5)if(r[e]!==t[e])return!0;return!1}const k5=/^[a-z0-9]+(-[a-z0-9]+)*$/,cc=(r,t,e,n="")=>{const i=r.split(":");if(r.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const c=i.pop(),l=i.pop(),o={provider:i.length>0?i[0]:n,prefix:l,name:c};return t&&!fu(o)?null:o}const s=i[0],a=s.split("-");if(a.length>1){const c={provider:n,prefix:a.shift(),name:a.join("-")};return t&&!fu(c)?null:c}if(e&&n===""){const c={provider:n,prefix:"",name:s};return t&&!fu(c,e)?null:c}return null},fu=(r,t)=>r?!!((t&&r.prefix===""||r.prefix)&&r.name):!1;function pI(r,t){const e=r.icons,n=r.aliases||Object.create(null),i=Object.create(null);function s(a){if(e[a])return i[a]=[];if(!(a in i)){i[a]=null;const c=n[a]&&n[a].parent,l=c&&s(c);l&&(i[a]=[c].concat(l))}return i[a]}return Object.keys(e).concat(Object.keys(n)).forEach(s),i}function mI(r,t){const e={};!r.hFlip!=!t.hFlip&&(e.hFlip=!0),!r.vFlip!=!t.vFlip&&(e.vFlip=!0);const n=((r.rotate||0)+(t.rotate||0))%4;return n&&(e.rotate=n),e}function bv(r,t){const e=mI(r,t);for(const n in jp)n in ad?n in r&&!(n in e)&&(e[n]=ad[n]):n in t?e[n]=t[n]:n in r&&(e[n]=r[n]);return e}function gI(r,t,e){const n=r.icons,i=r.aliases||Object.create(null);let s={};function a(c){s=bv(n[c]||i[c],s)}return a(t),e.forEach(a),bv(r,s)}function N5(r,t){const e=[];if(typeof r!="object"||typeof r.icons!="object")return e;r.not_found instanceof Array&&r.not_found.forEach(i=>{t(i,null),e.push(i)});const n=pI(r);for(const i in n){const s=n[i];s&&(t(i,gI(r,i,s)),e.push(i))}return e}const bI={provider:"",aliases:{},not_found:{},...w5};function Qh(r,t){for(const e in t)if(e in r&&typeof r[e]!=typeof t[e])return!1;return!0}function E5(r){if(typeof r!="object"||r===null)return null;const t=r;if(typeof t.prefix!="string"||!r.icons||typeof r.icons!="object"||!Qh(r,bI))return null;const e=t.icons;for(const i in e){const s=e[i];if(!i||typeof s.body!="string"||!Qh(s,jp))return null}const n=t.aliases||Object.create(null);for(const i in n){const s=n[i],a=s.parent;if(!i||typeof a!="string"||!e[a]&&!n[a]||!Qh(s,jp))return null}return t}const od=Object.create(null);function vI(r,t){return{provider:r,prefix:t,icons:Object.create(null),missing:new Set}}function Fi(r,t){const e=od[r]||(od[r]=Object.create(null));return e[t]||(e[t]=vI(r,t))}function j5(r,t){return E5(t)?N5(t,(e,n)=>{n?r.icons[e]=n:r.missing.add(e)}):[]}function yI(r,t,e){try{if(typeof e.body=="string")return r.icons[t]={...e},!0}catch{}return!1}function xI(r,t){let e=[];return(typeof r=="string"?[r]:Object.keys(od)).forEach(n=>{(typeof n=="string"&&typeof t=="string"?[t]:Object.keys(od[n]||{})).forEach(i=>{const s=Fi(n,i);e=e.concat(Object.keys(s.icons).map(a=>(n!==""?"@"+n+":":"")+i+":"+a))})}),e}let zl=!1;function T5(r){return typeof r=="boolean"&&(zl=r),zl}function Ul(r){const t=typeof r=="string"?cc(r,!0,zl):r;if(t){const e=Fi(t.provider,t.prefix),n=t.name;return e.icons[n]||(e.missing.has(n)?null:void 0)}}function C5(r,t){const e=cc(r,!0,zl);if(!e)return!1;const n=Fi(e.provider,e.prefix);return t?yI(n,e.name,t):(n.missing.add(e.name),!0)}function vv(r,t){if(typeof r!="object")return!1;if(typeof t!="string"&&(t=r.provider||""),zl&&!t&&!r.prefix){let n=!1;return E5(r)&&(r.prefix="",N5(r,(i,s)=>{C5(i,s)&&(n=!0)})),n}const e=r.prefix;return fu({prefix:e,name:"a"})?!!j5(Fi(t,e),r):!1}function wI(r){return!!Ul(r)}function _I(r){const t=Ul(r);return t&&{...lc,...t}}function A5(r,t){r.forEach(e=>{const n=e.loaderCallbacks;n&&(e.loaderCallbacks=n.filter(i=>i.id!==t))})}function SI(r){r.pendingCallbacksFlag||(r.pendingCallbacksFlag=!0,setTimeout(()=>{r.pendingCallbacksFlag=!1;const t=r.loaderCallbacks?r.loaderCallbacks.slice(0):[];if(!t.length)return;let e=!1;const n=r.provider,i=r.prefix;t.forEach(s=>{const a=s.icons,c=a.pending.length;a.pending=a.pending.filter(l=>{if(l.prefix!==i)return!0;const o=l.name;if(r.icons[o])a.loaded.push({provider:n,prefix:i,name:o});else if(r.missing.has(o))a.missing.push({provider:n,prefix:i,name:o});else return e=!0,!0;return!1}),a.pending.length!==c&&(e||A5([r],s.id),s.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),s.abort))})}))}let kI=0;function NI(r,t,e){const n=kI++,i=A5.bind(null,e,n);if(!t.pending.length)return i;const s={id:n,icons:t,callback:r,abort:i};return e.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(s)}),i}function EI(r){const t={loaded:[],missing:[],pending:[]},e=Object.create(null);r.sort((i,s)=>i.provider!==s.provider?i.provider.localeCompare(s.provider):i.prefix!==s.prefix?i.prefix.localeCompare(s.prefix):i.name.localeCompare(s.name));let n={provider:"",prefix:"",name:""};return r.forEach(i=>{if(n.name===i.name&&n.prefix===i.prefix&&n.provider===i.provider)return;n=i;const s=i.provider,a=i.prefix,c=i.name,l=e[s]||(e[s]=Object.create(null)),o=l[a]||(l[a]=Fi(s,a));let u;c in o.icons?u=t.loaded:a===""||o.missing.has(c)?u=t.missing:u=t.pending;const p={provider:s,prefix:a,name:c};u.push(p)}),t}const Tp=Object.create(null);function yv(r,t){Tp[r]=t}function Cp(r){return Tp[r]||Tp[""]}function jI(r,t=!0,e=!1){const n=[];return r.forEach(i=>{const s=typeof i=="string"?cc(i,t,e):i;s&&n.push(s)}),n}function $0(r){let t;if(typeof r.resources=="string")t=[r.resources];else if(t=r.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:r.path||"/",maxURL:r.maxURL||500,rotate:r.rotate||750,timeout:r.timeout||5e3,random:r.random===!0,index:r.index||0,dataAfterTimeout:r.dataAfterTimeout!==!1}}const th=Object.create(null),Do=["https://api.simplesvg.com","https://api.unisvg.com"],pu=[];for(;Do.length>0;)Do.length===1||Math.random()>.5?pu.push(Do.shift()):pu.push(Do.pop());th[""]=$0({resources:["https://api.iconify.design"].concat(pu)});function xv(r,t){const e=$0(t);return e===null?!1:(th[r]=e,!0)}function rh(r){return th[r]}function TI(){return Object.keys(th)}const CI={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function AI(r,t,e,n){const i=r.resources.length,s=r.random?Math.floor(Math.random()*i):r.index;let a;if(r.random){let D=r.resources.slice(0);for(a=[];D.length>1;){const L=Math.floor(Math.random()*D.length);a.push(D[L]),D=D.slice(0,L).concat(D.slice(L+1))}a=a.concat(D)}else a=r.resources.slice(s).concat(r.resources.slice(0,s));const c=Date.now();let l="pending",o=0,u,p=null,d=[],h=[];typeof n=="function"&&h.push(n);function g(){p&&(clearTimeout(p),p=null)}function b(){l==="pending"&&(l="aborted"),g(),d.forEach(D=>{D.status==="pending"&&(D.status="aborted")}),d=[]}function m(D,L){L&&(h=[]),typeof D=="function"&&h.push(D)}function y(){return{startTime:c,payload:t,status:l,queriesSent:o,queriesPending:d.length,subscribe:m,abort:b}}function v(){l="failed",h.forEach(D=>{D(void 0,u)})}function w(){d.forEach(D=>{D.status==="pending"&&(D.status="aborted")}),d=[]}function E(D,L,C){const M=L!=="success";switch(d=d.filter(F=>F!==D),l){case"pending":break;case"failed":if(M||!r.dataAfterTimeout)return;break;default:return}if(L==="abort"){u=C,v();return}if(M){u=C,d.length||(a.length?A():v());return}if(g(),w(),!r.random){const F=r.resources.indexOf(D.resource);F!==-1&&F!==r.index&&(r.index=F)}l="completed",h.forEach(F=>{F(C)})}function A(){if(l!=="pending")return;g();const D=a.shift();if(D===void 0){if(d.length){p=setTimeout(()=>{g(),l==="pending"&&(w(),v())},r.timeout);return}v();return}const L={status:"pending",resource:D,callback:(C,M)=>{E(L,C,M)}};d.push(L),o++,p=setTimeout(A,r.rotate),e(D,t,L.callback)}return setTimeout(A),y}function I5(r){const t={...CI,...r};let e=[];function n(){e=e.filter(a=>a().status==="pending")}function i(a,c,l){const o=AI(t,a,c,(u,p)=>{n(),l&&l(u,p)});return e.push(o),o}function s(a){return e.find(c=>a(c))||null}return{query:i,find:s,setIndex:a=>{t.index=a},getIndex:()=>t.index,cleanup:n}}function wv(){}const Yh=Object.create(null);function II(r){if(!Yh[r]){const t=rh(r);if(!t)return;Yh[r]={config:t,redundancy:I5(t)}}return Yh[r]}function R5(r,t,e){let n,i;if(typeof r=="string"){const s=Cp(r);if(!s)return e(void 0,424),wv;i=s.send;const a=II(r);a&&(n=a.redundancy)}else{const s=$0(r);if(s){n=I5(s);const a=Cp(r.resources?r.resources[0]:"");a&&(i=a.send)}}return!n||!i?(e(void 0,424),wv):n.query(t,i,e)().abort}function _v(){}function RI(r){r.iconsLoaderFlag||(r.iconsLoaderFlag=!0,setTimeout(()=>{r.iconsLoaderFlag=!1,SI(r)}))}function PI(r){const t=[],e=[];return r.forEach(n=>{(n.match(k5)?t:e).push(n)}),{valid:t,invalid:e}}function Fo(r,t,e){function n(){const i=r.pendingIcons;t.forEach(s=>{i&&i.delete(s),r.icons[s]||r.missing.add(s)})}if(e&&typeof e=="object")try{if(!j5(r,e).length){n();return}}catch(i){console.error(i)}n(),RI(r)}function Sv(r,t){r instanceof Promise?r.then(e=>{t(e)}).catch(()=>{t(null)}):t(r)}function MI(r,t){r.iconsToLoad?r.iconsToLoad=r.iconsToLoad.concat(t).sort():r.iconsToLoad=t,r.iconsQueueFlag||(r.iconsQueueFlag=!0,setTimeout(()=>{r.iconsQueueFlag=!1;const{provider:e,prefix:n}=r,i=r.iconsToLoad;if(delete r.iconsToLoad,!i||!i.length)return;const s=r.loadIcon;if(r.loadIcons&&(i.length>1||!s)){Sv(r.loadIcons(i,n,e),o=>{Fo(r,i,o)});return}if(s){i.forEach(o=>{Sv(s(o,n,e),u=>{Fo(r,[o],u?{prefix:n,icons:{[o]:u}}:null)})});return}const{valid:a,invalid:c}=PI(i);if(c.length&&Fo(r,c,null),!a.length)return;const l=n.match(k5)?Cp(e):null;if(!l){Fo(r,a,null);return}l.prepare(e,n,a).forEach(o=>{R5(e,o,u=>{Fo(r,o.icons,u)})})}))}const H0=(r,t)=>{const e=EI(jI(r,!0,T5()));if(!e.pending.length){let c=!0;return t&&setTimeout(()=>{c&&t(e.loaded,e.missing,e.pending,_v)}),()=>{c=!1}}const n=Object.create(null),i=[];let s,a;return e.pending.forEach(c=>{const{provider:l,prefix:o}=c;if(o===a&&l===s)return;s=l,a=o,i.push(Fi(l,o));const u=n[l]||(n[l]=Object.create(null));u[o]||(u[o]=[])}),e.pending.forEach(c=>{const{provider:l,prefix:o,name:u}=c,p=Fi(l,o),d=p.pendingIcons||(p.pendingIcons=new Set);d.has(u)||(d.add(u),n[l][o].push(u))}),i.forEach(c=>{const l=n[c.provider][c.prefix];l.length&&MI(c,l)}),t?NI(t,e,i):_v},OI=r=>new Promise((t,e)=>{const n=typeof r=="string"?cc(r,!0):r;if(!n){e(r);return}H0([n||r],i=>{if(i.length&&n){const s=Ul(n);if(s){t({...lc,...s});return}}e(r)})});function kv(r){try{const t=typeof r=="string"?JSON.parse(r):r;if(typeof t.body=="string")return{...t}}catch{}}function DI(r,t){if(typeof r=="object")return{data:kv(r),value:r};if(typeof r!="string")return{value:r};if(r.includes("{")){const s=kv(r);if(s)return{data:s,value:r}}const e=cc(r,!0,!0);if(!e)return{value:r};const n=Ul(e);if(n!==void 0||!e.prefix)return{value:r,name:e,data:n};const i=H0([e],()=>t(r,e,Ul(e)));return{value:r,name:e,loading:i}}let P5=!1;try{P5=navigator.vendor.indexOf("Apple")===0}catch{}function FI(r,t){switch(t){case"svg":case"bg":case"mask":return t}return t!=="style"&&(P5||r.indexOf("<a")===-1)?"svg":r.indexOf("currentColor")===-1?"bg":"mask"}const LI=/(-?[0-9.]*[0-9]+[0-9.]*)/g,BI=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Ap(r,t,e){if(t===1)return r;if(e=e||100,typeof r=="number")return Math.ceil(r*t*e)/e;if(typeof r!="string")return r;const n=r.split(LI);if(n===null||!n.length)return r;const i=[];let s=n.shift(),a=BI.test(s);for(;;){if(a){const c=parseFloat(s);isNaN(c)?i.push(s):i.push(Math.ceil(c*t*e)/e)}else i.push(s);if(s=n.shift(),s===void 0)return i.join("");a=!a}}function VI(r,t="defs"){let e="";const n=r.indexOf("<"+t);for(;n>=0;){const i=r.indexOf(">",n),s=r.indexOf("</"+t);if(i===-1||s===-1)break;const a=r.indexOf(">",s);if(a===-1)break;e+=r.slice(i+1,s).trim(),r=r.slice(0,n).trim()+r.slice(a+1)}return{defs:e,content:r}}function zI(r,t){return r?"<defs>"+r+"</defs>"+t:t}function UI(r,t,e){const n=VI(r);return zI(n.defs,t+n.content+e)}const $I=r=>r==="unset"||r==="undefined"||r==="none";function M5(r,t){const e={...lc,...r},n={..._5,...t},i={left:e.left,top:e.top,width:e.width,height:e.height};let s=e.body;[e,n].forEach(b=>{const m=[],y=b.hFlip,v=b.vFlip;let w=b.rotate;y?v?w+=2:(m.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),m.push("scale(-1 1)"),i.top=i.left=0):v&&(m.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),m.push("scale(1 -1)"),i.top=i.left=0);let E;switch(w<0&&(w-=Math.floor(w/4)*4),w=w%4,w){case 1:E=i.height/2+i.top,m.unshift("rotate(90 "+E.toString()+" "+E.toString()+")");break;case 2:m.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:E=i.width/2+i.left,m.unshift("rotate(-90 "+E.toString()+" "+E.toString()+")");break}w%2===1&&(i.left!==i.top&&(E=i.left,i.left=i.top,i.top=E),i.width!==i.height&&(E=i.width,i.width=i.height,i.height=E)),m.length&&(s=UI(s,'<g transform="'+m.join(" ")+'">',"</g>"))});const a=n.width,c=n.height,l=i.width,o=i.height;let u,p;a===null?(p=c===null?"1em":c==="auto"?o:c,u=Ap(p,l/o)):(u=a==="auto"?l:a,p=c===null?Ap(u,o/l):c==="auto"?o:c);const d={},h=(b,m)=>{$I(m)||(d[b]=m.toString())};h("width",u),h("height",p);const g=[i.left,i.top,l,o];return d.viewBox=g.join(" "),{attributes:d,viewBox:g,body:s}}function q0(r,t){let e=r.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)e+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+e+">"+r+"</svg>"}function HI(r){return r.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function qI(r){return"data:image/svg+xml,"+HI(r)}function O5(r){return'url("'+qI(r)+'")'}const WI=()=>{let r;try{if(r=fetch,typeof r=="function")return r}catch{}};let ld=WI();function GI(r){ld=r}function KI(){return ld}function XI(r,t){const e=rh(r);if(!e)return 0;let n;if(!e.maxURL)n=0;else{let i=0;e.resources.forEach(a=>{i=Math.max(i,a.length)});const s=t+".json?icons=";n=e.maxURL-i-e.path.length-s.length}return n}function QI(r){return r===404}const YI=(r,t,e)=>{const n=[],i=XI(r,t),s="icons";let a={type:s,provider:r,prefix:t,icons:[]},c=0;return e.forEach((l,o)=>{c+=l.length+1,c>=i&&o>0&&(n.push(a),a={type:s,provider:r,prefix:t,icons:[]},c=l.length),a.icons.push(l)}),n.push(a),n};function ZI(r){if(typeof r=="string"){const t=rh(r);if(t)return t.path}return"/"}const JI=(r,t,e)=>{if(!ld){e("abort",424);return}let n=ZI(t.provider);switch(t.type){case"icons":{const s=t.prefix,a=t.icons.join(","),c=new URLSearchParams({icons:a});n+=s+".json?"+c.toString();break}case"custom":{const s=t.uri;n+=s.slice(0,1)==="/"?s.slice(1):s;break}default:e("abort",400);return}let i=503;ld(r+n).then(s=>{const a=s.status;if(a!==200){setTimeout(()=>{e(QI(a)?"abort":"next",a)});return}return i=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?e("abort",s):e("next",i)});return}setTimeout(()=>{e("success",s)})}).catch(()=>{e("next",i)})},eR={prepare:YI,send:JI};function tR(r,t,e){Fi(e||"",t).loadIcons=r}function rR(r,t,e){Fi(e||"",t).loadIcon=r}const Zh="data-style";let D5="";function nR(r){D5=r}function Nv(r,t){let e=Array.from(r.childNodes).find(n=>n.hasAttribute&&n.hasAttribute(Zh));e||(e=document.createElement("style"),e.setAttribute(Zh,Zh),r.appendChild(e)),e.textContent=":host{display:inline-block;vertical-align:"+(t?"-0.125em":"0")+"}span,svg{display:block;margin:auto}"+D5}function F5(){yv("",eR),T5(!0);let r;try{r=window}catch{}if(r){if(r.IconifyPreload!==void 0){const e=r.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(i=>{try{(typeof i!="object"||i===null||i instanceof Array||typeof i.icons!="object"||typeof i.prefix!="string"||!vv(i))&&console.error(n)}catch{console.error(n)}})}if(r.IconifyProviders!==void 0){const e=r.IconifyProviders;if(typeof e=="object"&&e!==null)for(const n in e){const i="IconifyProviders["+n+"] is invalid.";try{const s=e[n];if(typeof s!="object"||!s||s.resources===void 0)continue;xv(n,s)||console.error(i)}catch{console.error(i)}}}}return{iconLoaded:wI,getIcon:_I,listIcons:xI,addIcon:C5,addCollection:vv,calculateSize:Ap,buildIcon:M5,iconToHTML:q0,svgToURL:O5,loadIcons:H0,loadIcon:OI,addAPIProvider:xv,setCustomIconLoader:rR,setCustomIconsLoader:tR,appendCustomStyle:nR,_api:{getAPIConfig:rh,setAPIModule:yv,sendAPIQuery:R5,setFetch:GI,getFetch:KI,listAPIProviders:TI}}}const Ip={"background-color":"currentColor"},L5={"background-color":"transparent"},Ev={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},jv={"-webkit-mask":Ip,mask:Ip,background:L5};for(const r in jv){const t=jv[r];for(const e in Ev)t[r+"-"+e]=Ev[e]}function Tv(r){return r?r+(r.match(/^[-0-9.]+$/)?"px":""):"inherit"}function iR(r,t,e){const n=document.createElement("span");let i=r.body;i.indexOf("<a")!==-1&&(i+="<!-- "+Date.now()+" -->");const s=r.attributes,a=q0(i,{...s,width:t.width+"",height:t.height+""}),c=O5(a),l=n.style,o={"--svg":c,width:Tv(s.width),height:Tv(s.height),...e?Ip:L5};for(const u in o)l.setProperty(u,o[u]);return n}let ul;function sR(){try{ul=window.trustedTypes.createPolicy("iconify",{createHTML:r=>r})}catch{ul=null}}function aR(r){return ul===void 0&&sR(),ul?ul.createHTML(r):r}function oR(r){const t=document.createElement("span"),e=r.attributes;let n="";e.width||(n="width: inherit;"),e.height||(n+="height: inherit;"),n&&(e.style=n);const i=q0(r.body,e);return t.innerHTML=aR(i),t.firstChild}function Rp(r){return Array.from(r.childNodes).find(t=>{const e=t.tagName&&t.tagName.toUpperCase();return e==="SPAN"||e==="SVG"})}function Cv(r,t){const e=t.icon.data,n=t.customisations,i=M5(e,n);n.preserveAspectRatio&&(i.attributes.preserveAspectRatio=n.preserveAspectRatio);const s=t.renderedMode;let a;switch(s){case"svg":a=oR(i);break;default:a=iR(i,{...lc,...e},s==="mask")}const c=Rp(r);c?a.tagName==="SPAN"&&c.tagName===a.tagName?c.setAttribute("style",a.getAttribute("style")):r.replaceChild(a,c):r.appendChild(a)}function Av(r,t,e){const n=e&&(e.rendered?e:e.lastRender);return{rendered:!1,inline:t,icon:r,lastRender:n}}function lR(r="iconify-icon"){let t,e;try{t=window.customElements,e=window.HTMLElement}catch{return}if(!t||!e)return;const n=t.get(r);if(n)return n;const i=["icon","mode","inline","noobserver","width","height","rotate","flip"],s=class extends e{constructor(){super();Wi(this,"_shadowRoot");Wi(this,"_initialised",!1);Wi(this,"_state");Wi(this,"_checkQueued",!1);Wi(this,"_connected",!1);Wi(this,"_observer",null);Wi(this,"_visible",!0);const l=this._shadowRoot=this.attachShadow({mode:"open"}),o=this.hasAttribute("inline");Nv(l,o),this._state=Av({value:""},o),this._queueCheck()}connectedCallback(){this._connected=!0,this.startObserver()}disconnectedCallback(){this._connected=!1,this.stopObserver()}static get observedAttributes(){return i.slice(0)}attributeChangedCallback(l){switch(l){case"inline":{const o=this.hasAttribute("inline"),u=this._state;o!==u.inline&&(u.inline=o,Nv(this._shadowRoot,o));break}case"noobserver":{this.hasAttribute("noobserver")?this.startObserver():this.stopObserver();break}default:this._queueCheck()}}get icon(){const l=this.getAttribute("icon");if(l&&l.slice(0,1)==="{")try{return JSON.parse(l)}catch{}return l}set icon(l){typeof l=="object"&&(l=JSON.stringify(l)),this.setAttribute("icon",l)}get inline(){return this.hasAttribute("inline")}set inline(l){l?this.setAttribute("inline","true"):this.removeAttribute("inline")}get observer(){return this.hasAttribute("observer")}set observer(l){l?this.setAttribute("observer","true"):this.removeAttribute("observer")}restartAnimation(){const l=this._state;if(l.rendered){const o=this._shadowRoot;if(l.renderedMode==="svg")try{o.lastChild.setCurrentTime(0);return}catch{}Cv(o,l)}}get status(){const l=this._state;return l.rendered?"rendered":l.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const l=this._state,o=this.getAttribute("icon");if(o!==l.icon.value){this._iconChanged(o);return}if(!l.rendered||!this._visible)return;const u=this.getAttribute("mode"),p=gv(this);(l.attrMode!==u||fI(l.customisations,p)||!Rp(this._shadowRoot))&&this._renderIcon(l.icon,p,u)}_iconChanged(l){const o=DI(l,(u,p,d)=>{const h=this._state;if(h.rendered||this.getAttribute("icon")!==u)return;const g={value:u,name:p,data:d};g.data?this._gotIconData(g):h.icon=g});o.data?this._gotIconData(o):this._state=Av(o,this._state.inline,this._state)}_forceRender(){if(!this._visible){const l=Rp(this._shadowRoot);l&&this._shadowRoot.removeChild(l);return}this._queueCheck()}_gotIconData(l){this._checkQueued=!1,this._renderIcon(l,gv(this),this.getAttribute("mode"))}_renderIcon(l,o,u){const p=FI(l.data.body,u),d=this._state.inline;Cv(this._shadowRoot,this._state={rendered:!0,icon:l,inline:d,customisations:o,attrMode:u,renderedMode:p})}startObserver(){if(!this._observer&&!this.hasAttribute("noobserver"))try{this._observer=new IntersectionObserver(l=>{const o=l.some(u=>u.isIntersecting);o!==this._visible&&(this._visible=o,this._forceRender())}),this._observer.observe(this)}catch{if(this._observer){try{this._observer.disconnect()}catch{}this._observer=null}}}stopObserver(){this._observer&&(this._observer.disconnect(),this._observer=null,this._visible=!0,this._connected&&this._forceRender())}};i.forEach(c=>{c in s.prototype||Object.defineProperty(s.prototype,c,{get:function(){return this.getAttribute(c)},set:function(l){l!==null?this.setAttribute(c,l):this.removeAttribute(c)}})});const a=F5();for(const c in a)s[c]=s.prototype[c]=a[c];return t.define(r,s),s}const cR=lR()||F5(),{iconLoaded:WR,getIcon:GR,listIcons:KR,addIcon:XR,addCollection:QR,calculateSize:YR,buildIcon:ZR,iconToHTML:JR,svgToURL:eP,loadIcons:tP,loadIcon:rP,setCustomIconLoader:nP,setCustomIconsLoader:iP,addAPIProvider:sP,_api:aP}=cR,uR=["Mixed Feed","Feed Ingredient Manufacturer","Toll Manufacturer","Importer","Indentor","Supplier","Distributor","Retailer"],dR=["Sole Proprietorship","Partnership","Corporate","Cooperative"],hR=["New","Renewal","Amendment"],Iv=700*1024;function fR({lastName:r="",firstName:t="",middleName:e="",nameExt:n=""}){const i=String(r).trim(),s=String(t).trim(),a=String(e).trim(),c=String(n).trim(),o=[s,a,c].filter(Boolean).join(" ");return i&&o?`${i}, ${o}`:i||o}const Rv={date:"",province:"",controlNo:"",registrationNo:"",dateOfInspection:"",dateOfMonitoring:"",companyName:"",lastName:"",middleName:"",firstName:"",nameExt:"",completeName:"",birthDate:"",barangay:"",municipality:"",completeAddress:"",officeAddress:"",plantAddress:"",cellphone:"",email:"",natureOfBusiness:"",businessOrg:"",productLines:"",type:"",orNo:"",orDate:"",fee:"",dateIssued:"",dateOfFeedSampling1stSem:"",dateOfFeedSampling2ndSem:"",noOfFeedSamples1stSem:"",noOfFeedSamples2ndSem:"",attachmentFileName:"",attachmentData:"",remarks:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function pR(){const[r,t]=ae.useState(Rv),{submit:e,loading:n,message:i,setMessage:s}=tn("animalFeed"),a=(b,m)=>t(y=>({...y,[b]:m})),c=(b,m)=>t(y=>{const v={...y,[b]:m};return v.completeName=fR(v),v}),l=b=>{var v;const m=(v=b.target.files)==null?void 0:v[0];if(!m){a("attachmentFileName",""),a("attachmentData","");return}if(m.size>Iv){s({type:"error",text:`File too large. Max ${Math.round(Iv/1024)} KB.`}),b.target.value="";return}const y=new FileReader;y.onload=()=>{const w=y.result,E=typeof w=="string"?w.split(",")[1]||w:"";t(A=>({...A,attachmentFileName:m.name,attachmentData:E})),s(null)},y.readAsDataURL(m)},o=async b=>{b.preventDefault(),await e(r)&&(t(Rv),window.scrollTo({top:0,behavior:"smooth"}))},u="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",p="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",d="w-full px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c]",h="w-full px-3 py-2 bg-white border-2 border-[#e8e0d4] rounded-lg text-sm text-[#1e4d2b] focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c]";return f.jsx(en,{title:"Animal Feeds Registration",children:f.jsxs("div",{className:"max-w-5xl mx-auto pb-10",children:[f.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:f.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:f.jsx("iconify-icon",{icon:"mdi:food-variant",width:"24",class:"text-white"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Feeds Regulation Form"}),f.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Complete the details below for establishment accreditation and monitoring."})]})]})]})}),f.jsxs("form",{onSubmit:o,className:"space-y-8",children:[f.jsxs("div",{className:"animal-feed-section animal-feed-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:u,children:[f.jsx("iconify-icon",{icon:"mdi:clipboard-clock-outline",width:"18",class:"opacity-90"}),"Registration Logistics"]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Date of Application"}),f.jsx("input",{type:"date",value:r.date,onChange:b=>a("date",b.target.value),className:d,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Province Scope"}),f.jsx(mt,{value:r.province,onChange:b=>a("province",b),placeholder:"Select Province",options:[{value:"",label:"Select Province"},...kr.map(b=>({value:b,label:b}))],"aria-label":"Province"})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Control No."}),f.jsx("input",{type:"text",value:r.controlNo,onChange:b=>a("controlNo",b.target.value),className:d,placeholder:"--/--"})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Registration No."}),f.jsx("input",{type:"text",value:r.registrationNo,onChange:b=>a("registrationNo",b.target.value),className:d})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Date of Inspection"}),f.jsx("input",{type:"date",value:r.dateOfInspection,onChange:b=>a("dateOfInspection",b.target.value),className:d})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Date of Monitoring"}),f.jsx("input",{type:"date",value:r.dateOfMonitoring,onChange:b=>a("dateOfMonitoring",b.target.value),className:d})]})]})]}),f.jsxs("div",{className:"animal-feed-section animal-feed-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:u,children:[f.jsx("iconify-icon",{icon:"mdi:domain",width:"18",class:"opacity-90"}),"Establishment Profile"]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Name of Establishment"}),f.jsx("input",{type:"text",value:r.companyName,onChange:b=>a("companyName",b.target.value),className:`${d} font-semibold text-lg`,required:!0,placeholder:"Enter Business Name"})]}),f.jsxs("div",{className:"bg-[#faf8f5]/80 p-4 rounded-xl border-2 border-[#e8e0d4] hover:border-[#b8a066]/30 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("div",{className:"mb-4 flex items-center gap-2 text-[#5c574f]",children:[f.jsx("iconify-icon",{icon:"mdi:account-tie",width:"16"}),f.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Owner / Propreitor Details"})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Last Name"}),f.jsx("input",{type:"text",value:r.lastName,onChange:b=>c("lastName",b.target.value),className:h})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"First Name"}),f.jsx("input",{type:"text",value:r.firstName,onChange:b=>c("firstName",b.target.value),className:h})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Middle Name"}),f.jsx("input",{type:"text",value:r.middleName,onChange:b=>c("middleName",b.target.value),className:h})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Suffix"}),f.jsx("input",{type:"text",value:r.nameExt,onChange:b=>c("nameExt",b.target.value),className:h,placeholder:"e.g. Jr."})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:p,children:"Full Name (Auto/Manual)"}),f.jsx("input",{type:"text",value:r.completeName,onChange:b=>a("completeName",b.target.value),className:h,placeholder:"Auto-filled from above or type here"})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:p,children:"Birth Date"}),f.jsx("input",{type:"date",value:r.birthDate,onChange:b=>a("birthDate",b.target.value),className:h})]})]})]})]})]}),f.jsxs("div",{className:"animal-feed-section animal-feed-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:u,children:[f.jsx("iconify-icon",{icon:"mdi:map-marker-radius",width:"18",class:"opacity-90"}),"Location & Contact"]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-5 mb-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Province"}),f.jsx("input",{type:"text",value:r.province,readOnly:!0,className:`${d} bg-[#f5f0e8] text-[#5c574f] cursor-not-allowed border-[#e8e0d4]`})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Municipality"}),f.jsx("input",{type:"text",value:r.municipality,onChange:b=>a("municipality",b.target.value),className:d})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Barangay"}),f.jsx("input",{type:"text",value:r.barangay,onChange:b=>a("barangay",b.target.value),className:d})]}),f.jsxs("div",{className:"sm:col-span-3",children:[f.jsx("label",{className:p,children:"Complete Main Address"}),f.jsx("input",{type:"text",value:r.completeAddress,onChange:b=>a("completeAddress",b.target.value),className:d,placeholder:"Street / Bldg / Block / Lot"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Office Address"}),f.jsx("input",{type:"text",value:r.officeAddress,onChange:b=>a("officeAddress",b.target.value),className:d})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Plant/Warehouse Address"}),f.jsx("input",{type:"text",value:r.plantAddress,onChange:b=>a("plantAddress",b.target.value),className:d})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Mobile / Tel No."}),f.jsx("input",{type:"text",value:r.cellphone,onChange:b=>a("cellphone",b.target.value),className:d})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Email Address"}),f.jsx("input",{type:"email",value:r.email,onChange:b=>a("email",b.target.value),className:d})]})]})]}),f.jsxs("div",{className:"animal-feed-section animal-feed-section-4 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:u,children:[f.jsx("iconify-icon",{icon:"mdi:briefcase-variant-outline",width:"18",class:"opacity-90"}),"Business Classification"]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Nature of Business"}),f.jsx(mt,{value:r.natureOfBusiness,onChange:b=>a("natureOfBusiness",b),placeholder:"Select Nature",options:[{value:"",label:"Select Nature"},...uR.map(b=>({value:b,label:b}))],"aria-label":"Nature of Business"})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Business Organization"}),f.jsx(mt,{value:r.businessOrg,onChange:b=>a("businessOrg",b),placeholder:"Select Organization",options:[{value:"",label:"Select Organization"},...dR.map(b=>({value:b,label:b}))],"aria-label":"Business Organization"})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Product Line(s)"}),f.jsx("input",{type:"text",value:r.productLines,onChange:b=>a("productLines",b.target.value),className:d,placeholder:"e.g. Swine, Poultry Feeds"})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Establishment Type"}),f.jsx("input",{type:"text",value:r.type,onChange:b=>a("type",b.target.value),className:d})]})]})]}),f.jsxs("div",{className:"animal-feed-section animal-feed-section-5 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:u,children:[f.jsx("iconify-icon",{icon:"mdi:cash-multiple",width:"18",class:"opacity-90"}),"Licensing & Fees"]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:p,children:"O.R. No."}),f.jsx("input",{type:"text",value:r.orNo,onChange:b=>a("orNo",b.target.value),className:d})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"O.R. Date"}),f.jsx("input",{type:"date",value:r.orDate,onChange:b=>a("orDate",b.target.value),className:d})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Fees Collected"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-2.5 text-[#5c574f] font-serif text-sm",children:""}),f.jsx("input",{type:"number",value:r.fee,onChange:b=>a("fee",b.target.value),className:`${d} pl-7`,placeholder:"0.00"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Date Issued (LTO)"}),f.jsx("input",{type:"date",value:r.dateIssued,onChange:b=>a("dateIssued",b.target.value),className:d})]})]})]}),f.jsxs("div",{className:"animal-feed-section animal-feed-section-6 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:u,children:[f.jsx("iconify-icon",{icon:"mdi:test-tube",width:"18",class:"opacity-90"}),"Sampling Monitoring"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-[#f0f5ee]/80 border-2 border-[#1e4d2b]/20 rounded-xl p-5 hover:border-[#1e4d2b]/40 hover:-translate-y-0.5 hover:shadow-md hover:shadow-[#1e4d2b]/10 transition-all duration-400 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("span",{className:"bg-[#1e4d2b]/15 text-[#1e4d2b] text-xs font-bold px-2.5 py-1 rounded-lg border border-[#1e4d2b]/20",children:"1st Semester"}),f.jsx("div",{className:"h-px bg-[#e8e0d4] flex-1"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Date of Feed Sampling"}),f.jsx("input",{type:"date",value:r.dateOfFeedSampling1stSem,onChange:b=>a("dateOfFeedSampling1stSem",b.target.value),className:h})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Samples Collected"}),f.jsx("input",{type:"number",min:"0",value:r.noOfFeedSamples1stSem,onChange:b=>a("noOfFeedSamples1stSem",b.target.value),className:h,placeholder:"0"})]})]})]}),f.jsxs("div",{className:"bg-[#faf6f0]/80 border-2 border-[#b8a066]/25 rounded-xl p-5 hover:border-[#b8a066]/50 hover:-translate-y-0.5 hover:shadow-md hover:shadow-[#b8a066]/10 transition-all duration-400 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("span",{className:"bg-[#b8a066]/15 text-[#8f7a45] text-xs font-bold px-2.5 py-1 rounded-lg border border-[#b8a066]/25",children:"2nd Semester"}),f.jsx("div",{className:"h-px bg-[#e8e0d4] flex-1"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Date of Feed Sampling"}),f.jsx("input",{type:"date",value:r.dateOfFeedSampling2ndSem,onChange:b=>a("dateOfFeedSampling2ndSem",b.target.value),className:h})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Samples Collected"}),f.jsx("input",{type:"number",min:"0",value:r.noOfFeedSamples2ndSem,onChange:b=>a("noOfFeedSamples2ndSem",b.target.value),className:h,placeholder:"0"})]})]})]})]})]}),f.jsxs("div",{className:"animal-feed-section animal-feed-section-7 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:u,children:[f.jsx("iconify-icon",{icon:"mdi:star-circle-outline",width:"18",class:"opacity-90"}),"Customer Feedback"]}),f.jsxs("div",{className:"space-y-6",children:[f.jsx(pn,{ratings:r,onChange:(b,m)=>a(b,m)}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Recommendation / Comments"}),f.jsx("textarea",{value:r.recommendation,onChange:b=>a("recommendation",(b.target.value||"").toUpperCase()),className:"w-full px-4 py-3 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] uppercase placeholder:normal-case placeholder:text-[#8a857c] min-h-[100px]",rows:"3",placeholder:"Enter any additional recommendations or remarks..."})]})]})]}),f.jsxs("div",{className:"animal-feed-section animal-feed-section-8 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:u,children:[f.jsx("iconify-icon",{icon:"mdi:file-check-outline",width:"18",class:"opacity-90"}),"Finalization"]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 items-start",children:[f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Attachments"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("label",{className:"flex-1 cursor-pointer group",children:[f.jsx("span",{className:"sr-only",children:"Choose file"}),f.jsx("input",{type:"file",onChange:l,className:"block w-full text-sm text-[#5c574f] file:mr-4 file:py-2.5 file:px-4 file:rounded-xl file:border-0 file:text-xs file:font-bold file:bg-[#1e4d2b]/10 file:text-[#1e4d2b] hover:file:bg-[#1e4d2b]/20 transition-all duration-300 border-2 border-dashed border-[#e8e0d4] rounded-xl group-hover:border-[#1e4d2b]/50 py-3 px-4"})]}),r.attachmentFileName&&f.jsx("button",{type:"button",onClick:()=>{a("attachmentFileName",""),a("attachmentData","")},className:"p-2.5 text-red-600 bg-red-50 hover:bg-red-100 rounded-xl hover:scale-110 active:scale-95 transition-all duration-300",title:"Remove File",children:f.jsx("iconify-icon",{icon:"mdi:trash-can-outline",width:"20"})})]}),f.jsx("p",{className:"mt-2 text-[10px] text-[#5c574f]",children:r.attachmentFileName?f.jsxs("span",{className:"text-[#1e4d2b] font-bold",children:["Selected: ",r.attachmentFileName]}):"Max file size: 700KB (Images/PDF)"})]}),f.jsxs("div",{children:[f.jsx("label",{className:p,children:"Status / Remarks"}),f.jsx(mt,{value:r.remarks,onChange:b=>a("remarks",b),placeholder:"Select Status",options:[{value:"",label:"Select Status"},...hR.map(b=>({value:b,label:b}))],"aria-label":"Status"})]})]})]}),f.jsxs("div",{className:"animal-feed-section animal-feed-section-9 pt-2",children:[i&&f.jsxs("div",{className:`animal-feed-message-enter mb-4 mx-auto max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[f.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),f.jsx("p",{className:"font-medium",children:i.text})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto min-h-[44px] px-6 sm:px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] touch-manipulation transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT RECORD"]})})})]})]})]})})}const mR=["New","Renewal","Amendment","Others"];function gR(){const[r,t]=ae.useState(""),[e,n]=ae.useState(""),[i,s]=ae.useState(""),[a,c]=ae.useState(""),[l,o]=ae.useState(""),[u,p]=ae.useState(""),[d,h]=ae.useState(""),[g,b]=ae.useState(""),[m,y]=ae.useState(""),[v,w]=ae.useState(""),[E,A]=ae.useState(""),[D,L]=ae.useState(""),[C,M]=ae.useState(""),[F,$]=ae.useState(""),[U,j]=ae.useState({ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:""}),[P,N]=ae.useState(""),{submit:x,loading:S,message:_}=tn("livestockHandlers"),k=()=>({controlNo:r,registrationNo:e,nameOfEstablishment:i,nameOfApplicant:a,address:l,province:u,typeOfApplication:d==="Others"?g.trim()||"Others":d,dateOfApplicationReceivedAndEvaluated:m,orNumber:v,orDate:E,amountOfFeeCollected:D,dateOfInspection:C,validity:F,...U,recommendation:P}),T=async W=>{W.preventDefault(),await x(k()),t(""),n(""),s(""),c(""),o(""),p(""),h(""),b(""),y(""),w(""),A(""),L(""),M(""),$(""),j({ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:""}),N(""),window.scrollTo({top:0,behavior:"smooth"})},B="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",V="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",q="w-full px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c]";return f.jsx(en,{title:"Livestock & Poultry Handlers",children:f.jsxs("div",{className:"max-w-5xl mx-auto pb-10",children:[f.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:f.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:f.jsx("iconify-icon",{icon:"mdi:cow",width:"24",class:"text-white"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Handlers Registration"}),f.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Application for Livestock, Poultry, and By-Products Handlers License. Fields connected to View Records."})]})]})]})}),f.jsxs("form",{onSubmit:T,className:"space-y-8",children:[f.jsxs("div",{className:"livestock-handlers-section bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:B,children:[f.jsx("iconify-icon",{icon:"mdi:file-document-edit-outline",width:"18",class:"opacity-90"}),"Application Details"]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:V,children:"No."}),f.jsx("input",{type:"text",value:r,onChange:W=>t(W.target.value),className:q,placeholder:"Control / Reference No."})]}),f.jsxs("div",{children:[f.jsx("label",{className:V,children:"Registration No."}),f.jsx("input",{type:"text",value:e,onChange:W=>n(W.target.value),className:q,placeholder:"Registration No."})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:V,children:"Name of Establishment"}),f.jsx("input",{type:"text",value:i,onChange:W=>s(W.target.value),className:q,placeholder:"Name of Establishment"})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:V,children:"Name of Applicant"}),f.jsx("input",{type:"text",value:a,onChange:W=>c(W.target.value),className:q,placeholder:"Name of Applicant"})]}),f.jsxs("div",{children:[f.jsx("label",{className:V,children:"Province"}),f.jsx(mt,{value:u,onChange:p,placeholder:"Select Province",options:[{value:"",label:"Select Province"},...kr.map(W=>({value:W,label:W}))],"aria-label":"Province"})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:V,children:"Address"}),f.jsx("input",{type:"text",value:l,onChange:W=>o(W.target.value),className:q,placeholder:"Complete Address"})]}),f.jsxs("div",{children:[f.jsx("label",{className:V,children:"Type of Application"}),f.jsx(mt,{value:d,onChange:W=>{h(W),W!=="Others"&&b("")},placeholder:"Select Type",options:[{value:"",label:"Select Type of Application"},...mR.map(W=>({value:W,label:W}))],"aria-label":"Type of Application"}),d==="Others"&&f.jsx("input",{type:"text",value:g,onChange:W=>b(W.target.value),className:`${q} mt-2`,placeholder:"Please specify (type here)..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:V,children:"Date of Application Received & Evaluated"}),f.jsx("input",{type:"date",value:m,onChange:W=>y(W.target.value),className:q})]}),f.jsxs("div",{children:[f.jsx("label",{className:V,children:"OR Number"}),f.jsx("input",{type:"text",value:v,onChange:W=>w(W.target.value),className:q,placeholder:"Official Receipt Number"})]}),f.jsxs("div",{children:[f.jsx("label",{className:V,children:"OR Date"}),f.jsx("input",{type:"date",value:E,onChange:W=>A(W.target.value),className:q})]}),f.jsxs("div",{children:[f.jsx("label",{className:V,children:"Amount of Fee Collected"}),f.jsx("input",{type:"text",value:D,onChange:W=>L(W.target.value),className:q,placeholder:"Amount"})]}),f.jsxs("div",{children:[f.jsx("label",{className:V,children:"Date of Inspection"}),f.jsx("input",{type:"date",value:C,onChange:W=>M(W.target.value),className:q})]}),f.jsxs("div",{children:[f.jsx("label",{className:V,children:"Validity"}),f.jsx("input",{type:"date",value:F,onChange:W=>$(W.target.value),className:q})]})]})]}),f.jsxs("div",{className:"livestock-handlers-section bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:B,children:[f.jsx("iconify-icon",{icon:"mdi:star-face",width:"18",class:"opacity-90"}),"Evaluation & Remarks"]}),f.jsxs("div",{className:"space-y-6",children:[f.jsx(pn,{ratings:U,onChange:(W,J)=>j(z=>({...z,[W]:J}))}),f.jsxs("div",{children:[f.jsx("label",{className:V,children:"Recommendation"}),f.jsx("textarea",{value:P,onChange:W=>N((W.target.value||"").toUpperCase()),className:`${q} min-h-[100px] uppercase placeholder:normal-case`,rows:3,placeholder:"Enter official recommendations..."})]})]})]}),f.jsxs("div",{className:"pt-2",children:[_&&f.jsxs("div",{className:`mb-4 mx-auto max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${_.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[f.jsx("iconify-icon",{icon:_.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),f.jsx("p",{className:"font-medium",children:_.text})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"submit",disabled:S,className:"w-full sm:w-auto min-h-[44px] px-6 sm:px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] touch-manipulation transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:S?f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT RECORD"]})})})]})]})]})})}const bR=["New","Renewal","Amendment","Others"];function vR(){const[r,t]=ae.useState(""),[e,n]=ae.useState(""),[i,s]=ae.useState(""),[a,c]=ae.useState(""),[l,o]=ae.useState(""),[u,p]=ae.useState(""),[d,h]=ae.useState(""),[g,b]=ae.useState(""),[m,y]=ae.useState(""),[v,w]=ae.useState(""),[E,A]=ae.useState(""),[D,L]=ae.useState(""),[C,M]=ae.useState(""),[F,$]=ae.useState(""),[U,j]=ae.useState(""),[P,N]=ae.useState(""),[x,S]=ae.useState({ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:""}),[_,k]=ae.useState(""),{submit:T,loading:B,message:V}=tn("transportCarrier"),q=()=>({controlNo:r,registrationNo:e,nameOfEstablishment:i,nameOfApplicant:a,address:l,province:u,typeOfApplication:d==="Others"?g.trim()||"Others":d,dateOfApplicationReceivedAndEvaluated:m,orNumber:v,orDate:E,amountOfFeeCollected:D,dateOfInspectionAndMonitoring:C,dateOfCertification:F,transmittalDateToBAI:U,validity:P,...x,recommendation:_}),W=async O=>{O.preventDefault(),await T(q()),t(""),n(""),s(""),c(""),o(""),p(""),h(""),b(""),y(""),w(""),A(""),L(""),M(""),$(""),j(""),N(""),S({ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:""}),k(""),window.scrollTo({top:0,behavior:"smooth"})},J="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",z="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",X="w-full px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c]";return f.jsx(en,{title:"Transport Carrier Accreditation",children:f.jsxs("div",{className:"max-w-5xl mx-auto pb-10",children:[f.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:f.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:f.jsx("iconify-icon",{icon:"mdi:truck-outline",width:"24",class:"text-white"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Land Transport Carrier"}),f.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Registration form for livestock, poultry, and by-products transport vehicles. Fields connected to View Records."})]})]})]})}),f.jsxs("form",{onSubmit:W,className:"space-y-8",children:[f.jsxs("div",{className:"transport-carrier-section bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:J,children:[f.jsx("iconify-icon",{icon:"mdi:file-document-edit-outline",width:"18",class:"opacity-90"}),"Application Details"]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:z,children:"No."}),f.jsx("input",{type:"text",value:r,onChange:O=>t(O.target.value),className:X,placeholder:"Control / Reference No."})]}),f.jsxs("div",{children:[f.jsx("label",{className:z,children:"Registration No."}),f.jsx("input",{type:"text",value:e,onChange:O=>n(O.target.value),className:X,placeholder:"Registration No."})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:z,children:"Name of Establishment"}),f.jsx("input",{type:"text",value:i,onChange:O=>s(O.target.value),className:X,placeholder:"Name of Establishment"})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:z,children:"Name of Applicant"}),f.jsx("input",{type:"text",value:a,onChange:O=>c(O.target.value),className:X,placeholder:"Name of Applicant"})]}),f.jsxs("div",{children:[f.jsx("label",{className:z,children:"Province"}),f.jsx(mt,{value:u,onChange:p,placeholder:"Select Province",options:[{value:"",label:"Select Province"},...kr.map(O=>({value:O,label:O}))],"aria-label":"Province"})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:z,children:"Address"}),f.jsx("input",{type:"text",value:l,onChange:O=>o(O.target.value),className:X,placeholder:"Complete Address"})]}),f.jsxs("div",{children:[f.jsx("label",{className:z,children:"Type of Application"}),f.jsx(mt,{value:d,onChange:O=>{h(O),O!=="Others"&&b("")},placeholder:"Select Type",options:[{value:"",label:"Select Type of Application"},...bR.map(O=>({value:O,label:O}))],"aria-label":"Type of Application"}),d==="Others"&&f.jsx("input",{type:"text",value:g,onChange:O=>b(O.target.value),className:`${X} mt-2`,placeholder:"Please specify (type here)..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:z,children:"Date of Application Received & Evaluated"}),f.jsx("input",{type:"date",value:m,onChange:O=>y(O.target.value),className:X})]}),f.jsxs("div",{children:[f.jsx("label",{className:z,children:"OR Number"}),f.jsx("input",{type:"text",value:v,onChange:O=>w(O.target.value),className:X,placeholder:"Official Receipt Number"})]}),f.jsxs("div",{children:[f.jsx("label",{className:z,children:"OR Date"}),f.jsx("input",{type:"date",value:E,onChange:O=>A(O.target.value),className:X})]}),f.jsxs("div",{children:[f.jsx("label",{className:z,children:"Amount of Fee Collected"}),f.jsx("input",{type:"text",value:D,onChange:O=>L(O.target.value),className:X,placeholder:"Amount"})]}),f.jsxs("div",{children:[f.jsx("label",{className:z,children:"Date of Inspection and Monitoring"}),f.jsx("input",{type:"date",value:C,onChange:O=>M(O.target.value),className:X})]}),f.jsxs("div",{children:[f.jsx("label",{className:z,children:"Date of Certification"}),f.jsx("input",{type:"date",value:F,onChange:O=>$(O.target.value),className:X})]}),f.jsxs("div",{children:[f.jsx("label",{className:z,children:"Transmittal Date to BAI"}),f.jsx("input",{type:"date",value:U,onChange:O=>j(O.target.value),className:X})]}),f.jsxs("div",{children:[f.jsx("label",{className:z,children:"Validity"}),f.jsx("input",{type:"date",value:P,onChange:O=>N(O.target.value),className:X})]})]})]}),f.jsxs("div",{className:"transport-carrier-section bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:J,children:[f.jsx("iconify-icon",{icon:"mdi:star-face",width:"18",class:"opacity-90"}),"Evaluation & Remarks"]}),f.jsxs("div",{className:"space-y-6",children:[f.jsx(pn,{ratings:x,onChange:(O,R)=>S(H=>({...H,[O]:R}))}),f.jsxs("div",{children:[f.jsx("label",{className:z,children:"Recommendation"}),f.jsx("textarea",{value:_,onChange:O=>k((O.target.value||"").toUpperCase()),className:`${X} min-h-[100px] uppercase placeholder:normal-case`,rows:3,placeholder:"Enter official recommendations..."})]})]})]}),f.jsxs("div",{className:"pt-2",children:[V&&f.jsxs("div",{className:`mb-4 mx-auto max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${V.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[f.jsx("iconify-icon",{icon:V.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),f.jsx("p",{className:"font-medium",children:V.text})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"submit",disabled:B,className:"w-full sm:w-auto min-h-[44px] px-6 sm:px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] touch-manipulation transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:B?f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT RECORD"]})})})]})]})]})})}const yR=["Pet Shop","Veterinary Clinic","Grooming Center","Breeding Kennel","Animal Shelter","Zoo / Wildlife","Research Facility","Pound"],xR=["Pending Inspection","Inspected - Passed","Inspected - Failed","Registered","Expired"],Pv={dateApplied:"",facilityName:"",ownerName:"",province:"",address:"",facilityType:"",speciesHandled:"",headVet:"",prcLicenseNo:"",certificateNo:"",validityDate:"",status:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function wR(){const[r,t]=ae.useState(Pv),{submit:e,loading:n,message:i}=tn("animalWelfare"),s=(u,p)=>t(d=>({...d,[u]:p})),a=async u=>{u.preventDefault(),await e(r)&&(t(Pv),window.scrollTo({top:0,behavior:"smooth"}))},c="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",l="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",o="w-full px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c]";return f.jsx(en,{title:"Animal Welfare Registration",children:f.jsxs("div",{className:"max-w-4xl mx-auto pb-10",children:[f.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:f.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20",children:f.jsx("iconify-icon",{icon:"mdi:paw",width:"24",class:"text-white"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Welfare Concern Form"}),f.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Register and monitor animal facilities for compliance with RA 8485 (Animal Welfare Act)."})]})]})]})}),f.jsxs("form",{onSubmit:a,className:"space-y-8",children:[f.jsxs("div",{className:"animal-welfare-section animal-welfare-section-1 bg-white p-6 sm:p-8 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:c,children:[f.jsx("iconify-icon",{icon:"mdi:domain",width:"18",class:"opacity-90"}),"Facility Information"]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:l,children:"Facility Name (Business Name)"}),f.jsx("input",{type:"text",value:r.facilityName,onChange:u=>s("facilityName",u.target.value),className:`${o} text-lg font-semibold`,required:!0,placeholder:"e.g. Happy Paws Clinic"})]}),f.jsxs("div",{children:[f.jsx("label",{className:l,children:"Owner / Operator Name"}),f.jsxs("div",{className:"relative group",children:[f.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300",children:f.jsx("iconify-icon",{icon:"mdi:account",width:"18"})}),f.jsx("input",{type:"text",value:r.ownerName,onChange:u=>s("ownerName",u.target.value),className:`${o} pl-10`})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:l,children:"Date of Application"}),f.jsx("input",{type:"date",value:r.dateApplied,onChange:u=>s("dateApplied",u.target.value),className:o,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:l,children:"Province"}),f.jsx(mt,{value:r.province,onChange:u=>s("province",u),placeholder:"Select Province",options:[{value:"",label:"Select Province"},...kr.map(u=>({value:u,label:u}))],"aria-label":"Province"})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:l,children:"Complete Address"}),f.jsxs("div",{className:"relative group",children:[f.jsx("span",{className:"absolute top-2.5 left-3 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300",children:f.jsx("iconify-icon",{icon:"mdi:map-marker",width:"18"})}),f.jsx("input",{type:"text",value:r.address,onChange:u=>s("address",u.target.value),className:`${o} pl-10`,placeholder:"Street, Barangay, Municipality"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:l,children:"Facility Type"}),f.jsx(mt,{value:r.facilityType,onChange:u=>s("facilityType",u),placeholder:"Select Type...",options:[{value:"",label:"Select Type..."},...yR.map(u=>({value:u,label:u}))],"aria-label":"Facility Type"})]}),f.jsxs("div",{children:[f.jsx("label",{className:l,children:"Species Handled"}),f.jsx("input",{type:"text",value:r.speciesHandled,onChange:u=>s("speciesHandled",u.target.value),placeholder:"Dogs, Cats, Birds, etc.",className:o})]})]})]}),f.jsxs("div",{className:"animal-welfare-section animal-welfare-section-2 bg-white p-6 sm:p-8 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:c,children:[f.jsx("iconify-icon",{icon:"mdi:doctor",width:"18",class:"opacity-90"}),"Veterinary Compliance"]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6",children:[f.jsxs("div",{className:"bg-[#f0f5ee]/80 p-4 rounded-xl border-2 border-[#1e4d2b]/20 hover:border-[#1e4d2b]/40 transition-all duration-400 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsx("label",{className:l,children:"Head Veterinarian"}),f.jsx("input",{type:"text",value:r.headVet,onChange:u=>s("headVet",u.target.value),className:o,placeholder:"Dr. Full Name"})]}),f.jsxs("div",{className:"bg-[#faf6f0]/80 p-4 rounded-xl border-2 border-[#b8a066]/25 hover:border-[#b8a066]/50 transition-all duration-400 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsx("label",{className:l,children:"PRC License No."}),f.jsx("input",{type:"text",value:r.prcLicenseNo,onChange:u=>s("prcLicenseNo",u.target.value),className:o,placeholder:"0000000"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:l,children:"Certificate No. (AWC)"}),f.jsx("input",{type:"text",value:r.certificateNo,onChange:u=>s("certificateNo",u.target.value),className:o})]}),f.jsxs("div",{children:[f.jsx("label",{className:l,children:"Validity Date"}),f.jsx("input",{type:"date",value:r.validityDate,onChange:u=>s("validityDate",u.target.value),className:o})]}),f.jsxs("div",{children:[f.jsx("label",{className:l,children:"Current Status"}),f.jsx(mt,{value:r.status,onChange:u=>s("status",u),placeholder:"Select Status...",options:[{value:"",label:"Select Status..."},...xR.map(u=>({value:u,label:u}))],"aria-label":"Status"})]})]})]}),f.jsxs("div",{className:"animal-welfare-section animal-welfare-section-3 bg-white p-6 sm:p-8 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:c,children:[f.jsx("iconify-icon",{icon:"mdi:star-circle-outline",width:"18",class:"opacity-90"}),"Evaluation & Feedback"]}),f.jsxs("div",{className:"space-y-6",children:[f.jsx(pn,{ratings:r,onChange:(u,p)=>s(u,p)}),f.jsxs("div",{children:[f.jsx("label",{className:l,children:"Recommendation"}),f.jsx("textarea",{value:r.recommendation,onChange:u=>s("recommendation",(u.target.value||"").toUpperCase()),className:`${o} min-h-[100px] uppercase placeholder:normal-case`,rows:"3",placeholder:"Enter findings and recommendations..."})]})]})]}),f.jsxs("div",{className:"animal-welfare-section animal-welfare-section-4 pt-2",children:[i&&f.jsxs("div",{className:`animal-feed-message-enter mb-4 mx-auto max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[f.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),f.jsx("p",{className:"font-medium",children:i.text})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto min-h-[44px] px-6 sm:px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] touch-manipulation transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT RECORD"]})})})]})]})]})})}const _R=["Pending","On-Process","Approved","Denied","Expired"],Mv={applicant:"",operator:"",province:"",location:"",cropsVariety:"",submissionOfApplicationForm:"",evaluationOfDocumentary:"",paymentOfApplicationFee:"",amountOfFee:"",dateOfInspectionAndEvaluation:"",approvedValidatedResult:"",endorsementToBPI:"",dateOfInspection1stSem:"",dateOfInspection2ndSem:"",status:"",validity:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function SR(){const[r,t]=ae.useState(Mv),{submit:e,loading:n,message:i}=tn("plantMaterial"),s=(d,h)=>t(g=>({...g,[d]:h})),a=d=>h=>s(d,(h.target.value||"").toUpperCase()),c=async d=>{d.preventDefault(),await e(r)&&(t(Mv),window.scrollTo({top:0,behavior:"smooth"}))},l="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",o="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",u="w-full px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c] uppercase",p="w-full px-3 py-2 bg-white border-2 border-[#e8e0d4] rounded-lg text-sm text-[#1e4d2b] focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 placeholder:text-[#8a857c]";return f.jsx(en,{title:"Nursery Accreditation",children:f.jsxs("div",{className:"max-w-4xl mx-auto pb-10",children:[f.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:f.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20",children:f.jsx("iconify-icon",{icon:"mdi:flower-tulip-outline",width:"24",class:"text-white"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Plant Material & Nursery"}),f.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Accreditation form for plant nurseries and material distribution."})]})]})]})}),f.jsxs("form",{onSubmit:c,className:"space-y-8",children:[f.jsxs("div",{className:"plant-material-section plant-material-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx("iconify-icon",{icon:"mdi:account-details-outline",width:"18",class:"opacity-90"}),"Applicant Information"]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-5 mb-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Name of Applicant"}),f.jsx("input",{type:"text",value:r.applicant,onChange:a("applicant"),className:`${u} font-semibold`,placeholder:"FULL NAME",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Name of Operator"}),f.jsx("input",{type:"text",value:r.operator,onChange:a("operator"),className:u,placeholder:"OPERATOR NAME"})]})]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Province"}),f.jsx(mt,{value:r.province,onChange:d=>s("province",d),placeholder:"Select Province",options:[{value:"",label:"Select Province"},...kr.map(d=>({value:d,label:d}))],"aria-label":"Province"})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Location / Address"}),f.jsxs("div",{className:"relative group",children:[f.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300",children:f.jsx("iconify-icon",{icon:"mdi:map-marker-outline",width:"18"})}),f.jsx("input",{type:"text",value:r.location,onChange:a("location"),className:`${u} pl-10`,placeholder:"NURSERY LOCATION"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Crops / Variety"}),f.jsxs("div",{className:"relative group",children:[f.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300",children:f.jsx("iconify-icon",{icon:"mdi:sprout-outline",width:"18"})}),f.jsx("input",{type:"text",value:r.cropsVariety,onChange:a("cropsVariety"),className:`${u} pl-10`,placeholder:"E.G. MANGO, CACAO"})]})]})]})]}),f.jsxs("div",{className:"plant-material-section plant-material-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx("iconify-icon",{icon:"mdi:clipboard-text-clock-outline",width:"18",class:"opacity-90"}),"Application Process"]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-5 mb-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Submission of Application"}),f.jsx("input",{type:"date",value:r.submissionOfApplicationForm,onChange:d=>s("submissionOfApplicationForm",d.target.value),className:u})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Documentary Evaluation"}),f.jsx("input",{type:"date",value:r.evaluationOfDocumentary,onChange:d=>s("evaluationOfDocumentary",d.target.value),className:u})]})]}),f.jsxs("div",{className:"bg-[#f0f5ee]/80 p-4 rounded-xl border-2 border-[#1e4d2b]/20 hover:border-[#1e4d2b]/35 grid sm:grid-cols-2 gap-5 mb-5 transition-all duration-400 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Payment Date"}),f.jsx("input",{type:"date",value:r.paymentOfApplicationFee,onChange:d=>s("paymentOfApplicationFee",d.target.value),className:p})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Amount Paid"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-2.5 text-[#1e4d2b] font-bold text-sm",children:""}),f.jsx("input",{type:"text",value:r.amountOfFee,onChange:a("amountOfFee"),className:`${p} pl-8 font-bold`,placeholder:"0.00"})]})]})]}),f.jsx("div",{className:"grid sm:grid-cols-2 gap-5",children:f.jsxs("div",{children:[f.jsx("label",{className:o,children:"BPI Endorsement Date"}),f.jsx("input",{type:"date",value:r.endorsementToBPI,onChange:d=>s("endorsementToBPI",d.target.value),className:u})]})})]}),f.jsxs("div",{className:"plant-material-section plant-material-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx("iconify-icon",{icon:"mdi:eye-check-outline",width:"18",class:"opacity-90"}),"Inspection & Monitoring"]}),f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Initial Inspection Date"}),f.jsx("input",{type:"date",value:r.dateOfInspectionAndEvaluation,onChange:d=>s("dateOfInspectionAndEvaluation",d.target.value),className:u})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Validated Result / Remarks"}),f.jsx("input",{type:"text",value:r.approvedValidatedResult,onChange:a("approvedValidatedResult"),className:u,placeholder:"PASSED / FOR COMPLIANCE"})]})]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-5 pt-2",children:[f.jsxs("div",{className:"bg-[#f0f5ee]/80 p-3 rounded-xl border-2 border-[#1e4d2b]/20 hover:border-[#1e4d2b]/40 transition-all duration-400",children:[f.jsx("label",{className:o,children:"1st Semester Monitoring"}),f.jsx("input",{type:"date",value:r.dateOfInspection1stSem,onChange:d=>s("dateOfInspection1stSem",d.target.value),className:p})]}),f.jsxs("div",{className:"bg-[#faf6f0]/80 p-3 rounded-xl border-2 border-[#b8a066]/25 hover:border-[#b8a066]/50 transition-all duration-400",children:[f.jsx("label",{className:o,children:"2nd Semester Monitoring"}),f.jsx("input",{type:"date",value:r.dateOfInspection2ndSem,onChange:d=>s("dateOfInspection2ndSem",d.target.value),className:p})]})]})]})]}),f.jsx("div",{className:"plant-material-section plant-material-section-4 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:f.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Accreditation Status"}),f.jsx(mt,{value:r.status,onChange:d=>s("status",(d||"").toUpperCase()),placeholder:"Select Status",options:[{value:"",label:"Select Status"},..._R.map(d=>({value:d.toUpperCase(),label:d}))],"aria-label":"Status"})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Validity Date"}),f.jsx("input",{type:"date",value:r.validity,onChange:d=>s("validity",d.target.value),className:u})]})]})}),f.jsxs("div",{className:"plant-material-section plant-material-section-5 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx("iconify-icon",{icon:"mdi:star-face",width:"18",class:"opacity-90"}),"Customer Satisfaction Feedback"]}),f.jsx(pn,{ratings:r,onChange:(d,h)=>s(d,h)}),f.jsxs("div",{className:"mt-6",children:[f.jsx("label",{className:o,children:"Recommendation"}),f.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:`${u} min-h-[100px] normal-case placeholder:normal-case`,rows:"3",placeholder:"Enter any feedback or recommendations..."})]})]}),f.jsxs("div",{className:"plant-material-section plant-material-section-6 pt-2",children:[i&&f.jsxs("div",{className:`animal-feed-message-enter mb-4 mx-auto max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[f.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),f.jsx("p",{className:"font-medium",children:i.text})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto min-h-[44px] px-6 sm:px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] touch-manipulation transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT RECORD"]})})})]})]})]})})}const kR=["Pending","On-Process","Approved","Denied","Certified"],Lo=[{value:"",label:"Select..."},{value:"1",label:"Poor (1)"},{value:"2",label:"Fair (2)"},{value:"3",label:"Satisfied (3)"},{value:"4",label:"Very Satisfied (4)"},{value:"5",label:"Excellent (5)"}],Ov={application:"",nameOfGroup:"",nameOfApplicant:"",province:"",location:"",area:"",dateOfEvaluation:"",remarks:"",dateOfEndorsement:"",finalInspection:"",status:"",issuanceOfCertificate:"",finalRemarks:"",linkFile:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function NR(){const[r,t]=ae.useState(Ov),{submit:e,loading:n,message:i}=tn("organicAgri"),s=(p,d)=>t(h=>({...h,[p]:d})),a=p=>d=>s(p,(d.target.value||"").toUpperCase()),c=async p=>{p.preventDefault(),await e(r)&&(t(Ov),window.scrollTo({top:0,behavior:"smooth"}))},l="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",o="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",u="w-full px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c] uppercase";return f.jsx(en,{title:"Organic Agriculture",children:f.jsxs("div",{className:"max-w-4xl mx-auto pb-10",children:[f.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:f.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20",children:f.jsx("iconify-icon",{icon:"mdi:sprout-outline",width:"24",class:"text-white"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Organic Agriculture Certification"}),f.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Official certification form for organic farming groups and individuals."})]})]})]})}),f.jsxs("form",{onSubmit:c,className:"space-y-8",children:[f.jsxs("div",{className:"organic-agri-section organic-agri-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx("iconify-icon",{icon:"mdi:account-details-outline",width:"18",class:"opacity-90"}),"Applicant Profile"]}),f.jsxs("div",{className:"mb-5",children:[f.jsx("label",{className:o,children:"Application / Project Name"}),f.jsx("input",{type:"text",value:r.application,onChange:a("application"),className:`${u} font-semibold`,placeholder:"PROJECT TITLE OR REFERENCE",required:!0})]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-5 mb-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Name of Group"}),f.jsxs("div",{className:"relative group",children:[f.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300",children:f.jsx("iconify-icon",{icon:"mdi:account-group-outline",width:"18"})}),f.jsx("input",{type:"text",value:r.nameOfGroup,onChange:a("nameOfGroup"),className:`${u} pl-10`,placeholder:"GROUP / ASSOCIATION"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Name of Applicant"}),f.jsxs("div",{className:"relative group",children:[f.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300",children:f.jsx("iconify-icon",{icon:"mdi:account-outline",width:"18"})}),f.jsx("input",{type:"text",value:r.nameOfApplicant,onChange:a("nameOfApplicant"),className:`${u} pl-10`,placeholder:"REPRESENTATIVE NAME"})]})]})]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Province"}),f.jsx(mt,{value:r.province,onChange:p=>s("province",p),placeholder:"Select Province",options:[{value:"",label:"Select Province"},...kr.map(p=>({value:p,label:p}))],"aria-label":"Province"})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Location"}),f.jsxs("div",{className:"relative group",children:[f.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300",children:f.jsx("iconify-icon",{icon:"mdi:map-marker-outline",width:"18"})}),f.jsx("input",{type:"text",value:r.location,onChange:a("location"),className:`${u} pl-10`,placeholder:"FARM ADDRESS"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Total Area"}),f.jsxs("div",{className:"relative group",children:[f.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300",children:f.jsx("iconify-icon",{icon:"mdi:texture-box",width:"18"})}),f.jsx("input",{type:"text",value:r.area,onChange:a("area"),className:`${u} pl-10`,placeholder:"E.G. 5 HECTARES"})]})]})]})]}),f.jsxs("div",{className:"organic-agri-section organic-agri-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx("iconify-icon",{icon:"mdi:clipboard-check-outline",width:"18",class:"opacity-90"}),"Evaluation Process"]}),f.jsxs("div",{className:"grid sm:grid-cols-3 gap-5 mb-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Date of Evaluation"}),f.jsx("input",{type:"date",value:r.dateOfEvaluation,onChange:p=>s("dateOfEvaluation",p.target.value),className:u})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Date of Endorsement"}),f.jsx("input",{type:"date",value:r.dateOfEndorsement,onChange:p=>s("dateOfEndorsement",p.target.value),className:u})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Final Inspection"}),f.jsx("input",{type:"date",value:r.finalInspection,onChange:p=>s("finalInspection",p.target.value),className:u})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Initial Remarks"}),f.jsx("textarea",{value:r.remarks,onChange:a("remarks"),className:`${u} min-h-[80px] normal-case placeholder:normal-case`,rows:"2",placeholder:"Initial findings..."})]})]}),f.jsxs("div",{className:"organic-agri-section organic-agri-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx("iconify-icon",{icon:"mdi:certificate-outline",width:"18",class:"opacity-90"}),"Certification Details"]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-5 mb-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Current Status"}),f.jsx(mt,{value:r.status,onChange:p=>s("status",(p||"").toUpperCase()),placeholder:"Select Status",options:[{value:"",label:"Select Status"},...kR.map(p=>({value:p.toUpperCase(),label:p}))],"aria-label":"Status"})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Date Certificate Issued"}),f.jsx("input",{type:"date",value:r.issuanceOfCertificate,onChange:p=>s("issuanceOfCertificate",p.target.value),className:u})]})]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Remarks"}),f.jsx("textarea",{value:r.finalRemarks,onChange:a("finalRemarks"),className:`${u} min-h-[80px] resize-none overflow-y-auto normal-case placeholder:normal-case`,rows:2,placeholder:"Remarks..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Digital File Link"}),f.jsxs("div",{className:"relative group",children:[f.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-[#1e4d2b] group-focus-within:text-[#153019] transition-colors duration-300",children:f.jsx("iconify-icon",{icon:"mdi:link-variant",width:"18"})}),f.jsx("input",{type:"url",value:r.linkFile,onChange:p=>s("linkFile",p.target.value),className:`${u} pl-10 normal-case placeholder:normal-case`,placeholder:"https://..."})]}),f.jsx("p",{className:"text-[10px] text-[#5c574f] mt-1 ml-1",children:"Link to scanned documents."})]})]})]}),f.jsxs("div",{className:"organic-agri-section organic-agri-section-4 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx("iconify-icon",{icon:"mdi:star-face",width:"18",class:"opacity-90"}),"Customer Satisfaction Feedback"]}),f.jsx("div",{className:"overflow-hidden border-2 border-[#e8e0d4] rounded-xl mb-5 hover:border-[#1e4d2b]/20 transition-colors duration-300",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-[#f0f5ee] border-b-2 border-[#1e4d2b]/15",children:[f.jsx("th",{className:"text-left py-4 px-4 font-bold text-[#1e4d2b] uppercase text-xs",children:"Rating Criteria"}),f.jsx("th",{className:"text-center py-4 px-2 w-48 font-bold text-[#1e4d2b] uppercase text-xs",children:"Score"})]})}),f.jsxs("tbody",{className:"divide-y divide-[#e8e0d4]",children:[f.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[f.jsx("td",{className:"py-3 px-4 font-medium text-[#1e4d2b]",children:"1. Quantity of Services Provided"}),f.jsx("td",{className:"py-2 px-2",children:f.jsx(mt,{options:Lo,value:r.ratingQuantity,onChange:p=>s("ratingQuantity",p),placeholder:"Select...",className:"min-w-[140px]","aria-label":"Score"})})]}),f.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[f.jsx("td",{className:"py-3 px-4 font-medium text-[#1e4d2b]",children:"2. Personnel Service Quality"}),f.jsx("td",{className:"py-2 px-2",children:f.jsx(mt,{options:Lo,value:r.ratingServicesPersonnel,onChange:p=>s("ratingServicesPersonnel",p),placeholder:"Select...",className:"min-w-[140px]","aria-label":"Score"})})]}),f.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[f.jsx("td",{className:"py-3 px-4 pl-8 text-[#5c574f] italic",children:"2.1 Relevance of training"}),f.jsx("td",{className:"py-2 px-2",children:f.jsx(mt,{options:Lo,value:r.ratingTraining,onChange:p=>s("ratingTraining",p),placeholder:"Select...",className:"min-w-[140px]","aria-label":"Score"})})]}),f.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[f.jsx("td",{className:"py-3 px-4 pl-8 text-[#5c574f] italic",children:"2.2 Attitude (Courteousness)"}),f.jsx("td",{className:"py-2 px-2",children:f.jsx(mt,{options:Lo,value:r.ratingAttitude,onChange:p=>s("ratingAttitude",p),placeholder:"Select...",className:"min-w-[140px]","aria-label":"Score"})})]}),f.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[f.jsx("td",{className:"py-3 px-4 pl-8 text-[#5c574f] italic",children:"2.3 Promptness"}),f.jsx("td",{className:"py-2 px-2",children:f.jsx(mt,{options:Lo,value:r.ratingPromptness,onChange:p=>s("ratingPromptness",p),placeholder:"Select...",className:"min-w-[140px]","aria-label":"Score"})})]})]})]})})}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Recommendation"}),f.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:`${u} min-h-[100px] normal-case placeholder:normal-case`,rows:"3",placeholder:"Enter recommendation..."})]})]}),f.jsxs("div",{className:"organic-agri-section organic-agri-section-5 pt-2",children:[i&&f.jsxs("div",{className:`animal-feed-message-enter mb-4 mx-auto max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[f.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),f.jsx("p",{className:"font-medium",children:i.text})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto min-h-[44px] px-6 sm:px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl touch-manipulation font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT RECORD"]})})})]})]})]})})}const ER=[{value:"gapCertification",label:"GAP Certification Form"},{value:"monitoring",label:"Monitoring of GAP Certified Farmer"}],jR=["Pending","On-Process","Approved","Denied","Certified"];function TR(){const[r,t]=ae.useState(""),[e,n]=ae.useState(""),[i,s]=ae.useState(""),[a,c]=ae.useState(""),[l,o]=ae.useState(""),[u,p]=ae.useState(""),[d,h]=ae.useState(""),[g,b]=ae.useState(""),[m,y]=ae.useState(""),[v,w]=ae.useState(""),[E,A]=ae.useState(""),[D,L]=ae.useState(""),[C,M]=ae.useState(""),[F,$]=ae.useState(""),[U,j]=ae.useState(""),[P,N]=ae.useState(""),[x,S]=ae.useState(""),[_,k]=ae.useState({ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:""}),[T,B]=ae.useState(""),{submit:V,loading:q,message:W}=tn("goodAgriPractices"),J=()=>{const G={formType:r,controlNo:e,location:l,province:u,area:d,remarks:v,..._,recommendation:T};return r==="gapCertification"?{...G,dateOfRequest:i,nameOfApplicant:a,crop:g,dateOfPreAssessment:m,dateOfEndorsementToBPI:E,dateOfFinalInspection:D,status:C}:r==="monitoring"?{...G,dateOfMonitoring:F,nameOfFarmer:U,certificateNumber:P,certificateValidity:x}:G},z=()=>{n(""),s(""),c(""),o(""),p(""),h(""),b(""),y(""),w(""),A(""),L(""),M(""),$(""),j(""),N(""),S(""),k({ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:""}),B("")},X=async G=>{G.preventDefault(),r&&(await V(J()),z(),t(""),window.scrollTo({top:0,behavior:"smooth"}))},O="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",R="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",H="w-full px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c]";return f.jsx(en,{title:"Good Agricultural Practices (GAP) Unit",children:f.jsxs("div",{className:"max-w-5xl mx-auto pb-10",children:[f.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:f.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:f.jsx("iconify-icon",{icon:"mdi:leaf",width:"24",class:"text-white"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Good Agricultural Practices"}),f.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Select form type: GAP Certification or Monitoring of GAP Certified Farmer. Connected to View Records."})]})]})]})}),f.jsxs("form",{onSubmit:X,className:"space-y-8",children:[f.jsxs("div",{className:"good-agri-section bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:O,children:[f.jsx("iconify-icon",{icon:"mdi:form-select",width:"18",class:"opacity-90"}),"Select Form Type"]}),f.jsx("div",{className:"flex flex-wrap gap-4",children:ER.map(({value:G,label:ee})=>f.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 flex-1 min-w-[260px] ${r===G?"border-[#1e4d2b] bg-[#f0f5ee] text-[#1e4d2b] shadow-md ring-2 ring-[#1e4d2b]/30":"border-[#e8e0d4] hover:border-[#1e4d2b]/40 hover:bg-[#faf8f5] text-[#5c574f]"}`,children:[f.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center shrink-0 ${r===G?"border-[#1e4d2b]":"border-[#e8e0d4]"}`,children:r===G&&f.jsx("div",{className:"w-2.5 h-2.5 bg-[#1e4d2b] rounded-full"})}),f.jsx("input",{type:"radio",name:"formType",value:G,checked:r===G,onChange:()=>t(G),className:"hidden"}),f.jsx("span",{className:"font-semibold text-sm",children:ee})]},G))})]}),r&&f.jsxs(f.Fragment,{children:[r==="gapCertification"&&f.jsxs("div",{className:"good-agri-section bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:O,children:[f.jsx("iconify-icon",{icon:"mdi:certificate-outline",width:"18",class:"opacity-90"}),"GAP Certification Form"]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:R,children:"No."}),f.jsx("input",{type:"text",value:e,onChange:G=>n(G.target.value),className:H,placeholder:"Control / Reference No."})]}),f.jsxs("div",{children:[f.jsx("label",{className:R,children:"Date of Request"}),f.jsx("input",{type:"date",value:i,onChange:G=>s(G.target.value),className:H})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:R,children:"Name of Applicant"}),f.jsx("input",{type:"text",value:a,onChange:G=>c(G.target.value),className:H,placeholder:"Full Name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:R,children:"Province"}),f.jsx(mt,{value:u,onChange:p,placeholder:"Select Province",options:[{value:"",label:"Select Province"},...kr.map(G=>({value:G,label:G}))],"aria-label":"Province"})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:R,children:"Location"}),f.jsx("input",{type:"text",value:l,onChange:G=>o(G.target.value),className:H,placeholder:"Farm / Address"})]}),f.jsxs("div",{children:[f.jsx("label",{className:R,children:"Area (ha)"}),f.jsx("input",{type:"text",value:d,onChange:G=>h(G.target.value),className:H,placeholder:"e.g. 5.00"})]}),f.jsxs("div",{children:[f.jsx("label",{className:R,children:"Crop"}),f.jsx("input",{type:"text",value:g,onChange:G=>b(G.target.value),className:H,placeholder:"Crop / Commodity"})]}),f.jsxs("div",{children:[f.jsx("label",{className:R,children:"Date of Pre-assessment"}),f.jsx("input",{type:"date",value:m,onChange:G=>y(G.target.value),className:H})]}),f.jsxs("div",{children:[f.jsx("label",{className:R,children:"Date of Endorsement to BPI"}),f.jsx("input",{type:"date",value:E,onChange:G=>A(G.target.value),className:H})]}),f.jsxs("div",{children:[f.jsx("label",{className:R,children:"Date of Final Inspection"}),f.jsx("input",{type:"date",value:D,onChange:G=>L(G.target.value),className:H})]}),f.jsxs("div",{children:[f.jsx("label",{className:R,children:"Status"}),f.jsx(mt,{value:C,onChange:M,placeholder:"Select Status",options:[{value:"",label:"Select Status"},...jR.map(G=>({value:G,label:G}))],"aria-label":"Status"})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:R,children:"Remarks"}),f.jsx("textarea",{value:v,onChange:G=>w(G.target.value),className:`${H} min-h-[80px] resize-y`,rows:2,placeholder:"Remarks..."})]})]})]}),r==="monitoring"&&f.jsxs("div",{className:"good-agri-section bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:O,children:[f.jsx("iconify-icon",{icon:"mdi:clipboard-check-outline",width:"18",class:"opacity-90"}),"Monitoring of GAP Certified Farmer"]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:R,children:"No."}),f.jsx("input",{type:"text",value:e,onChange:G=>n(G.target.value),className:H,placeholder:"Control / Reference No."})]}),f.jsxs("div",{children:[f.jsx("label",{className:R,children:"Date of Monitoring"}),f.jsx("input",{type:"date",value:F,onChange:G=>$(G.target.value),className:H})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:R,children:"Name of Farmer"}),f.jsx("input",{type:"text",value:U,onChange:G=>j(G.target.value),className:H,placeholder:"Name of Farmer"})]}),f.jsxs("div",{children:[f.jsx("label",{className:R,children:"Province"}),f.jsx(mt,{value:u,onChange:p,placeholder:"Select Province",options:[{value:"",label:"Select Province"},...kr.map(G=>({value:G,label:G}))],"aria-label":"Province"})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:R,children:"Location"}),f.jsx("input",{type:"text",value:l,onChange:G=>o(G.target.value),className:H,placeholder:"Location"})]}),f.jsxs("div",{children:[f.jsx("label",{className:R,children:"Area (ha)"}),f.jsx("input",{type:"text",value:d,onChange:G=>h(G.target.value),className:H,placeholder:"e.g. 5.00"})]}),f.jsxs("div",{children:[f.jsx("label",{className:R,children:"Certificate Number"}),f.jsx("input",{type:"text",value:P,onChange:G=>N(G.target.value),className:H,placeholder:"Certificate No."})]}),f.jsxs("div",{children:[f.jsx("label",{className:R,children:"Certificate Validity"}),f.jsx("input",{type:"text",value:x,onChange:G=>S(G.target.value),className:H,placeholder:"Validity date or period"})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:R,children:"Remarks"}),f.jsx("textarea",{value:v,onChange:G=>w(G.target.value),className:`${H} min-h-[80px] resize-y`,rows:2,placeholder:"Remarks..."})]})]})]}),f.jsxs("div",{className:"good-agri-section bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:O,children:[f.jsx("iconify-icon",{icon:"mdi:star-face",width:"18",class:"opacity-90"}),"Evaluation & Remarks"]}),f.jsxs("div",{className:"space-y-6",children:[f.jsx(pn,{ratings:_,onChange:(G,ee)=>k(Z=>({...Z,[G]:ee}))}),f.jsxs("div",{children:[f.jsx("label",{className:R,children:"Recommendation"}),f.jsx("textarea",{value:T,onChange:G=>B(G.target.value),className:`${H} min-h-[100px]`,rows:3,placeholder:"Enter recommendation..."})]})]})]})]}),f.jsxs("div",{className:"pt-2",children:[W&&f.jsxs("div",{className:`mb-4 mx-auto max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${W.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[f.jsx("iconify-icon",{icon:W.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),f.jsx("p",{className:"font-medium",children:W.text})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"submit",disabled:q||!r,className:"w-full sm:w-auto min-h-[44px] px-6 sm:px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] touch-manipulation transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:q?f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT RECORD"]})})})]})]})]})})}const Dv={province:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function CR(){const[r,t]=ae.useState(Dv),{submit:e,loading:n,message:i}=tn("goodAnimalHusbandry"),s=(u,p)=>t(d=>({...d,[u]:p})),a=u=>p=>s(u,(p.target.value||"").toUpperCase()),c=async u=>{u.preventDefault(),await e(r)&&t(Dv)},l="block text-sm font-medium text-primary mb-1";return f.jsx(en,{title:"Good Animal Husbandry Practices (GAHP) Unit",children:f.jsxs("form",{onSubmit:c,className:"space-y-4 max-w-2xl",children:[f.jsxs("div",{children:[f.jsx("label",{className:l,children:"Province"}),f.jsx(mt,{value:r.province,onChange:u=>s("province",u),placeholder:"Select Province",options:[{value:"",label:"Select Province"},...kr.map(u=>({value:u,label:u}))],"aria-label":"Province"})]}),f.jsx(pn,{ratings:r,onChange:(u,p)=>s(u,p)}),f.jsxs("div",{children:[f.jsx("label",{className:l,children:"Recommendation"}),f.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:"w-full px-3 py-2.5 bg-background border border-border rounded-lg text-content text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all placeholder:text-text-muted uppercase min-h-[80px]",rows:"3",placeholder:"Recommendations..."})]}),i&&f.jsx("p",{className:`p-3 rounded ${i.type==="success"?"bg-primary/10 text-primary border border-primary/30":"bg-red-50 text-red-700 border border-red-200"}`,children:i.text}),f.jsx("button",{type:"submit",disabled:n,className:"min-h-[44px] px-6 py-2.5 bg-primary text-white rounded-lg hover:bg-primary-dark disabled:opacity-50 font-semibold touch-manipulation",children:n?"Saving...":"Submit"})]})})}const Fv={requestLetterDate:"",identifiedMarketOutlet:"",dateOfCommunicationLetter:"",nameOfProduct:"",commodity:"",certification:"",nameOfOwnerManager:"",province:"",location:"",dateOfSurveillance:"",remarks:"",linkFile:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function AR(){const[r,t]=ae.useState(Fv),{submit:e,loading:n,message:i}=tn("organicPostMarket"),s=(h,g)=>t(b=>({...b,[h]:g})),a=h=>g=>s(h,(g.target.value||"").toUpperCase()),c=async h=>{h.preventDefault(),await e(r)&&(t(Fv),window.scrollTo({top:0,behavior:"smooth"}))},l="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",o="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",u="w-full px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c] uppercase",p="w-full px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 placeholder:text-[#8a857c] normal-case",d=`${u} min-h-[100px] resize-y normal-case placeholder:normal-case`;return f.jsx(en,{title:"Organic Product Post-Market Surveillance",children:f.jsxs("div",{className:"max-w-5xl mx-auto pb-10",children:[f.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:f.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:f.jsx("iconify-icon",{icon:"mdi:store-marker-outline",width:"24",class:"text-white"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Post-Market Surveillance"}),f.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Organic product surveillance and market outlet monitoring."})]})]})]})}),f.jsxs("form",{onSubmit:c,className:"space-y-8",children:[f.jsxs("div",{className:"organic-post-market-section organic-post-market-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(UC,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Communication Timeline"]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Date of Request Letter"}),f.jsx("input",{type:"date",value:r.requestLetterDate,onChange:h=>s("requestLetterDate",h.target.value),className:u,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Date of Communication Letter"}),f.jsx("input",{type:"date",value:r.dateOfCommunicationLetter,onChange:h=>s("dateOfCommunicationLetter",h.target.value),className:u})]})]})]}),f.jsxs("div",{className:"organic-post-market-section organic-post-market-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(pv,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Market & Product Information"]}),f.jsxs("div",{className:"grid sm:grid-cols-12 gap-6",children:[f.jsxs("div",{className:"sm:col-span-8",children:[f.jsx("label",{className:o,children:"Identified Market Outlet / Establishment"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(pv,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.identifiedMarketOutlet,onChange:a("identifiedMarketOutlet"),className:`${u} pl-10`,placeholder:"Name of Establishment",required:!0})]})]}),f.jsxs("div",{className:"sm:col-span-4",children:[f.jsx("label",{className:o,children:"Owner / Manager"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(oo,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.nameOfOwnerManager,onChange:a("nameOfOwnerManager"),className:`${u} pl-10`,placeholder:"Full Name"})]})]}),f.jsxs("div",{className:"sm:col-span-6",children:[f.jsx("label",{className:o,children:"Province"}),f.jsx(mt,{value:r.province,onChange:h=>s("province",h),placeholder:"Select Province",options:[{value:"",label:"Select Province"},...kr.map(h=>({value:h,label:h}))],"aria-label":"Province"})]}),f.jsxs("div",{className:"sm:col-span-12",children:[f.jsx("label",{className:o,children:"Location Address"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(ji,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.location,onChange:a("location"),className:`${u} pl-10`,placeholder:"Complete Address of Market/Outlet"})]})]}),f.jsxs("div",{className:"sm:col-span-6",children:[f.jsx("label",{className:o,children:"Name of Product"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(zA,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.nameOfProduct,onChange:a("nameOfProduct"),className:`${u} pl-10`,placeholder:"Product Brand/Name"})]})]}),f.jsxs("div",{className:"sm:col-span-3",children:[f.jsx("label",{className:o,children:"Commodity"}),f.jsx("input",{type:"text",value:r.commodity,onChange:a("commodity"),className:u,placeholder:"e.g. Rice"})]}),f.jsxs("div",{className:"sm:col-span-3",children:[f.jsx("label",{className:o,children:"Certification"}),f.jsx("input",{type:"text",value:r.certification,onChange:a("certification"),className:u,placeholder:"Cert. Body/No."})]})]})]}),f.jsxs("div",{className:"organic-post-market-section organic-post-market-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(y5,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Surveillance Findings"]}),f.jsxs("div",{className:"grid gap-6",children:[f.jsxs("div",{className:"w-full sm:max-w-xs",children:[f.jsx("label",{className:o,children:"Date of Surveillance"}),f.jsx("input",{type:"date",value:r.dateOfSurveillance,onChange:h=>s("dateOfSurveillance",h.target.value),className:u})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Remarks / Observations"}),f.jsx("textarea",{value:r.remarks,onChange:a("remarks"),className:d,placeholder:"Enter detailed observations during surveillance..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Related File Link"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(cA,{className:"h-4 w-4 text-[#1e4d2b] group-focus-within:text-[#153019] transition-colors duration-300"})}),f.jsx("input",{type:"url",value:r.linkFile,onChange:h=>s("linkFile",h.target.value),className:`${p} pl-10`,placeholder:"https://drive.google.com/..."})]})]})]})]}),f.jsxs("div",{className:"organic-post-market-section organic-post-market-section-4 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(oc,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Feedback & Recommendations"]}),f.jsxs("div",{className:"space-y-6",children:[f.jsx(pn,{ratings:r,onChange:(h,g)=>s(h,g)}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Recommendation"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute top-3 left-3 pointer-events-none",children:f.jsx(b5,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:`${d} pl-10`,rows:"3",placeholder:"Enter final recommendation regarding the product/market..."})]})]})]})]}),f.jsxs("div",{className:"organic-post-market-section organic-post-market-section-5 pt-2 flex flex-col items-end gap-4",children:[i&&f.jsxs("div",{className:`animal-feed-message-enter w-full max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[f.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),f.jsx("p",{className:"font-medium",children:i.text})]}),f.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto min-h-[44px] px-6 sm:px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] touch-manipulation transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT SURVEILLANCE REPORT"]})})]})]})]})})}const Lv={controlNo:"",nameOfApplicant:"",purposeOfApplication:"",sizeOfArea:"",province:"",location:"",dateOfRequest:"",dateReceivedAndEvaluated:"",dateOfReplyToRequest:"",dateReceivedByApplicant:"",fieldInvestigation:"",dateOfEndorsement:"",issuanceOfCertificate:"",remarks:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function IR(){const[r,t]=ae.useState(Lv),{submit:e,loading:n,message:i}=tn("landUseMatter"),s=(d,h)=>t(g=>({...g,[d]:h})),a=d=>h=>s(d,(h.target.value||"").toUpperCase()),c=async d=>{d.preventDefault(),await e(r)&&(t(Lv),window.scrollTo({top:0,behavior:"smooth"}))},l="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",o="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",u="w-full min-w-0 px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c] uppercase",p=`${u} min-h-[100px] resize-y normal-case placeholder:normal-case`;return f.jsx(en,{title:"Land Use Matter (Reclassification)",children:f.jsxs("div",{className:"max-w-5xl mx-auto pb-10 min-w-0 w-full",children:[f.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:f.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:f.jsx("iconify-icon",{icon:"mdi:terrain",width:"24",class:"text-white"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Land Use Reclassification"}),f.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Application and processing for land use matter reclassification."})]})]})]})}),f.jsxs("form",{onSubmit:c,className:"space-y-8",children:[f.jsxs("div",{className:"land-use-matter-section land-use-matter-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(eh,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Application Profile"]}),f.jsxs("div",{className:"grid sm:grid-cols-12 gap-6",children:[f.jsxs("div",{className:"sm:col-span-4",children:[f.jsx("label",{className:o,children:"Control No."}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(sA,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.controlNo,onChange:a("controlNo"),placeholder:"Ex. 2023-001",required:!0,className:`${u} pl-10`})]})]}),f.jsxs("div",{className:"sm:col-span-8",children:[f.jsx("label",{className:o,children:"Name of Applicant"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(oo,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.nameOfApplicant,onChange:a("nameOfApplicant"),placeholder:"Full Name of Applicant",className:`${u} pl-10`})]})]}),f.jsxs("div",{className:"sm:col-span-12",children:[f.jsx("label",{className:o,children:"Purpose of Application"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(QC,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.purposeOfApplication,onChange:a("purposeOfApplication"),placeholder:"State the purpose (e.g., Residential, Commercial)",className:`${u} pl-10`})]})]})]})]}),f.jsxs("div",{className:"land-use-matter-section land-use-matter-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(hA,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Land Specifications"]}),f.jsxs("div",{className:"grid sm:grid-cols-12 gap-6",children:[f.jsxs("div",{className:"sm:col-span-4",children:[f.jsx("label",{className:o,children:"Size of Area (Has.)"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(v5,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.sizeOfArea,onChange:a("sizeOfArea"),placeholder:"0.00",className:`${u} pl-10`})]})]}),f.jsxs("div",{className:"sm:col-span-8",children:[f.jsx("label",{className:o,children:"Province"}),f.jsx(mt,{value:r.province,onChange:d=>s("province",d),placeholder:"Select Province",options:[{value:"",label:"Select Province"},...kr.map(d=>({value:d,label:d}))],"aria-label":"Province"})]}),f.jsxs("div",{className:"sm:col-span-6",children:[f.jsx("label",{className:o,children:"Location"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(ji,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.location,onChange:a("location"),placeholder:"Barangay, Municipality",className:`${u} pl-10`})]})]})]})]}),f.jsxs("div",{className:"land-use-matter-section land-use-matter-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(VC,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Processing Timeline"]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-x-8 gap-y-6",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsx("h4",{className:"text-sm font-bold text-[#1e4d2b] uppercase tracking-wider border-l-4 border-[#1e4d2b]/30 pl-2",children:"Incoming"}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Date of Request"}),f.jsx("input",{type:"date",value:r.dateOfRequest,onChange:d=>s("dateOfRequest",d.target.value),className:u})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Date Received & Evaluated"}),f.jsx("input",{type:"date",value:r.dateReceivedAndEvaluated,onChange:d=>s("dateReceivedAndEvaluated",d.target.value),className:u})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("h4",{className:"text-sm font-bold text-[#1e4d2b] uppercase tracking-wider border-l-4 border-[#b8a066]/40 pl-2",children:"Outgoing / Action"}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Date of Reply to Request"}),f.jsx("input",{type:"date",value:r.dateOfReplyToRequest,onChange:d=>s("dateOfReplyToRequest",d.target.value),className:u})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Date Received by Applicant"}),f.jsx("input",{type:"date",value:r.dateReceivedByApplicant,onChange:d=>s("dateReceivedByApplicant",d.target.value),className:u})]})]})]})]}),f.jsxs("div",{className:"land-use-matter-section land-use-matter-section-4 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(U0,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Investigation & Outcome"]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Field Investigation Details"}),f.jsx("input",{type:"text",value:r.fieldInvestigation,onChange:a("fieldInvestigation"),className:u,placeholder:"Findings summary"})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Date of Endorsement"}),f.jsx("input",{type:"date",value:r.dateOfEndorsement,onChange:d=>s("dateOfEndorsement",d.target.value),className:u})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Cert. Issuance Date"}),f.jsx("input",{type:"date",value:r.issuanceOfCertificate,onChange:d=>s("issuanceOfCertificate",d.target.value),className:u})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Remarks"}),f.jsx("textarea",{value:r.remarks,onChange:a("remarks"),className:p,placeholder:"Additional notes or remarks..."})]})]})]}),f.jsxs("div",{className:"land-use-matter-section land-use-matter-section-5 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(b5,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Evaluation & Recommendation"]}),f.jsxs("div",{className:"space-y-6",children:[f.jsx(pn,{ratings:r,onChange:(d,h)=>s(d,h)}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Recommendation"}),f.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:p,placeholder:"Final recommendations..."})]})]})]}),f.jsxs("div",{className:"land-use-matter-section land-use-matter-section-6 pt-2 flex flex-col items-end gap-4",children:[i&&f.jsxs("div",{className:`animal-feed-message-enter w-full max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[f.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),f.jsx("p",{className:"font-medium",children:i.text})]}),f.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto min-h-[44px] px-6 sm:px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] touch-manipulation transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT LAND USE RECORD"]})})]})]})]})})}const Bv={province:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function RR(){const[r,t]=ae.useState(Bv),{submit:e,loading:n,message:i}=tn("foodSafety"),s=(u,p)=>t(d=>({...d,[u]:p})),a=u=>p=>s(u,(p.target.value||"").toUpperCase()),c=async u=>{u.preventDefault(),await e(r)&&t(Bv)},l="block text-sm font-medium text-primary mb-1";return f.jsx(en,{title:"Food Safety Unit",children:f.jsxs("form",{onSubmit:c,className:"space-y-4 max-w-2xl",children:[f.jsxs("div",{children:[f.jsx("label",{className:l,children:"Province"}),f.jsx(mt,{value:r.province,onChange:u=>s("province",u),placeholder:"Select Province",options:[{value:"",label:"Select Province"},...kr.map(u=>({value:u,label:u}))],"aria-label":"Province"})]}),f.jsx(pn,{ratings:r,onChange:(u,p)=>s(u,p)}),f.jsxs("div",{children:[f.jsx("label",{className:l,children:"Recommendation"}),f.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:"w-full px-3 py-2.5 bg-background border border-border rounded-lg text-content text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all placeholder:text-text-muted uppercase min-h-[80px]",rows:"3",placeholder:"Recommendations..."})]}),i&&f.jsx("p",{className:`p-3 rounded ${i.type==="success"?"bg-primary/10 text-primary border border-primary/30":"bg-red-50 text-red-700 border border-red-200"}`,children:i.text}),f.jsx("button",{type:"submit",disabled:n,className:"min-h-[44px] px-6 py-2.5 bg-primary text-white rounded-lg hover:bg-primary-dark disabled:opacity-50 font-semibold touch-manipulation",children:n?"Saving...":"Submit"})]})})}const Vv={dateOfRequestAndCollection:"",farmerName:"",province:"",address:"",contactNumber:"",gpsLocation:"",crop:"",variety:"",datePlanted:"",areaPlanted:"",areaAffected:"",percentInfestation:"",pestsDiseases:"",remarks:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function PR(){const[r,t]=ae.useState(Vv),{submit:e,loading:n,message:i}=tn("plantPestSurveillance"),s=(d,h)=>t(g=>({...g,[d]:h})),a=d=>h=>s(d,(h.target.value||"").toUpperCase()),c=async d=>{d.preventDefault(),await e(r)&&(t(Vv),window.scrollTo({top:0,behavior:"smooth"}))},l="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",o="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",u="w-full min-w-0 px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c] uppercase",p=`${u} min-h-[100px] resize-y normal-case placeholder:normal-case`;return f.jsx(en,{title:"Plant Pest and Disease Surveillance",children:f.jsxs("div",{className:"max-w-5xl mx-auto pb-10 min-w-0 w-full",children:[f.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:f.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:f.jsx("iconify-icon",{icon:"mdi:bug-outline",width:"24",class:"text-white"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Plant Pest & Disease Surveillance"}),f.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Farmer and crop surveillance for pests and diseases."})]})]})]})}),f.jsxs("form",{onSubmit:c,className:"space-y-8",children:[f.jsxs("div",{className:"plant-pest-surveillance-section plant-pest-surveillance-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(oo,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Farmer & Location Profile"]}),f.jsxs("div",{className:"grid sm:grid-cols-12 gap-6",children:[f.jsxs("div",{className:"sm:col-span-4",children:[f.jsx("label",{className:o,children:"Date of Request / Collection"}),f.jsx("div",{className:"relative",children:f.jsx("input",{type:"date",value:r.dateOfRequestAndCollection,onChange:d=>s("dateOfRequestAndCollection",d.target.value),className:u,required:!0})})]}),f.jsxs("div",{className:"sm:col-span-8",children:[f.jsx("label",{className:o,children:"Name of Farmer"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(oo,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.farmerName,onChange:a("farmerName"),placeholder:"Full Name",className:`${u} pl-10`})]})]}),f.jsxs("div",{className:"sm:col-span-6",children:[f.jsx("label",{className:o,children:"Province"}),f.jsx(mt,{value:r.province,onChange:d=>s("province",d),placeholder:"Select Province",options:[{value:"",label:"Select Province"},...kr.map(d=>({value:d,label:d}))],"aria-label":"Province"})]}),f.jsxs("div",{className:"sm:col-span-12",children:[f.jsx("label",{className:o,children:"Address"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(ji,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.address,onChange:a("address"),placeholder:"Complete Farm Address",className:`${u} pl-10`})]})]}),f.jsxs("div",{className:"sm:col-span-6",children:[f.jsx("label",{className:o,children:"Contact Number"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(yA,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.contactNumber,onChange:a("contactNumber"),placeholder:"09XX-XXX-XXXX",className:`${u} pl-10`})]})]}),f.jsxs("div",{className:"sm:col-span-6",children:[f.jsx("label",{className:o,children:"GPS Location"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(kA,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.gpsLocation,onChange:a("gpsLocation"),placeholder:"Lat, Long (e.g., 13.41, 121.18)",className:`${u} pl-10`})]})]})]})]}),f.jsxs("div",{className:"plant-pest-surveillance-section plant-pest-surveillance-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(fv,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Crop Information"]}),f.jsxs("div",{className:"grid sm:grid-cols-4 gap-6",children:[f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:o,children:"Crop"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(fv,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.crop,onChange:a("crop"),placeholder:"e.g. Rice",className:`${u} pl-10`})]})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:o,children:"Variety"}),f.jsx("input",{type:"text",value:r.variety,onChange:a("variety"),className:u,placeholder:"e.g. NSIC Rc 222"})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:o,children:"Date Planted"}),f.jsx("input",{type:"date",value:r.datePlanted,onChange:d=>s("datePlanted",d.target.value),className:u})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:o,children:"Area Planted (Ha)"}),f.jsx("input",{type:"text",value:r.areaPlanted,onChange:a("areaPlanted"),className:u,placeholder:"Total Hectares"})]})]})]}),f.jsxs("div",{className:"plant-pest-surveillance-section plant-pest-surveillance-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(FC,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Surveillance Findings"]}),f.jsxs("div",{className:"grid sm:grid-cols-12 gap-6",children:[f.jsxs("div",{className:"sm:col-span-12",children:[f.jsx("label",{className:o,children:"Observed Pests / Diseases"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(GA,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.pestsDiseases,onChange:a("pestsDiseases"),className:`${u} pl-10`,placeholder:"e.g. Fall Armyworm, Rice Blast, Stem Borer"})]})]}),f.jsxs("div",{className:"sm:col-span-6",children:[f.jsx("label",{className:o,children:"Area Affected (Ha)"}),f.jsx("input",{type:"text",value:r.areaAffected,onChange:a("areaAffected"),className:u,placeholder:"Size of damage"})]}),f.jsxs("div",{className:"sm:col-span-6",children:[f.jsx("label",{className:o,children:"Percent Infestation (%)"}),f.jsx("input",{type:"text",value:r.percentInfestation,onChange:a("percentInfestation"),className:u,placeholder:"e.g. 15%"})]}),f.jsxs("div",{className:"sm:col-span-12",children:[f.jsx("label",{className:o,children:"Remarks / Observations"}),f.jsx("textarea",{value:r.remarks,onChange:a("remarks"),className:p,placeholder:"Additional notes on severity or control measures needed..."})]})]})]}),f.jsxs("div",{className:"plant-pest-surveillance-section plant-pest-surveillance-section-4 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(oc,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Feedback & Satisfaction"]}),f.jsx(pn,{ratings:r,onChange:(d,h)=>s(d,h)}),f.jsxs("div",{className:"mt-6",children:[f.jsx("label",{className:o,children:"Recommendation"}),f.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:p,placeholder:"Enter final recommendation here..."})]})]}),f.jsxs("div",{className:"plant-pest-surveillance-section plant-pest-surveillance-section-5 pt-2 flex flex-col items-end gap-4",children:[i&&f.jsxs("div",{className:`animal-feed-message-enter w-full max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[f.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),f.jsx("p",{className:"font-medium",children:i.text})]}),f.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto min-h-[44px] px-6 sm:px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] touch-manipulation transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT SURVEILLANCE REPORT"]})})]})]})]})})}const zv={clientName:"",typeOfDiseaseSurveillance:"",purpose:"",province:"",address:"",dateOfRequest:"",dateOfSurveillance:"",numberOfSamples:"",dateSubmittedToLab:"",dateOfEndorsementToDA:"",remarks:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function MR(){const[r,t]=ae.useState(zv),{submit:e,loading:n,message:i}=tn("cfsAdmcc"),s=(d,h)=>t(g=>({...g,[d]:h})),a=d=>h=>s(d,(h.target.value||"").toUpperCase()),c=async d=>{d.preventDefault(),await e(r)&&(t(zv),window.scrollTo({top:0,behavior:"smooth"}))},l="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",o="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",u="w-full min-w-0 px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c] uppercase",p=`${u} min-h-[100px] resize-y normal-case placeholder:normal-case`;return f.jsx(en,{title:"CFS/ADMCC (Animal Disease Surveillance)",children:f.jsxs("div",{className:"max-w-5xl mx-auto pb-10 min-w-0 w-full",children:[f.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:f.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:f.jsx("iconify-icon",{icon:"mdi:microscope",width:"24",class:"text-white"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"CFS / ADMCC"}),f.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Animal disease surveillance  specimen collection and lab endorsement."})]})]})]})}),f.jsxs("form",{onSubmit:c,className:"space-y-8",children:[f.jsxs("div",{className:"cfs-admcc-section cfs-admcc-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(Np,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Client & Request Details"]}),f.jsxs("div",{className:"grid sm:grid-cols-12 gap-6",children:[f.jsxs("div",{className:"sm:col-span-8",children:[f.jsx("label",{className:o,children:"Name of LGU / Client / Farm"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(oo,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.clientName,onChange:a("clientName"),placeholder:"Name of Client or Farm",required:!0,className:`${u} pl-10`})]})]}),f.jsxs("div",{className:"sm:col-span-4",children:[f.jsx("label",{className:o,children:"Date of Request"}),f.jsx("div",{className:"relative",children:f.jsx("input",{type:"date",value:r.dateOfRequest,onChange:d=>s("dateOfRequest",d.target.value),className:u,required:!0})})]}),f.jsxs("div",{className:"sm:col-span-6",children:[f.jsx("label",{className:o,children:"Province"}),f.jsx(mt,{value:r.province,onChange:d=>s("province",d),placeholder:"Select Province",options:[{value:"",label:"Select Province"},...kr.map(d=>({value:d,label:d}))],"aria-label":"Province"})]}),f.jsxs("div",{className:"sm:col-span-12",children:[f.jsx("label",{className:o,children:"Address"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(ji,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.address,onChange:a("address"),placeholder:"Complete Address",className:`${u} pl-10`})]})]}),f.jsxs("div",{className:"sm:col-span-6",children:[f.jsx("label",{className:o,children:"Type of Disease Surveillance"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Jd,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.typeOfDiseaseSurveillance,onChange:a("typeOfDiseaseSurveillance"),placeholder:"e.g. Avian Influenza (AI), ASF",className:`${u} pl-10`})]})]}),f.jsxs("div",{className:"sm:col-span-6",children:[f.jsx("label",{className:o,children:"Purpose"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(eh,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.purpose,onChange:a("purpose"),placeholder:"Reason for surveillance",className:`${u} pl-10`})]})]})]})]}),f.jsxs("div",{className:"cfs-admcc-section cfs-admcc-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(mA,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Specimen Collection & Lab Data"]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-[#1e4d2b]/5 p-5 rounded-xl border-2 border-[#1e4d2b]/20",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3 text-[#1e4d2b] font-bold text-sm uppercase tracking-wide",children:[f.jsx(Ep,{className:"w-4 h-4"}),f.jsx("span",{children:"Collection Details"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Date of Blood Collection"}),f.jsx("input",{type:"date",value:r.dateOfSurveillance,onChange:d=>s("dateOfSurveillance",d.target.value),className:u})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"No. of Samples Collected"}),f.jsx("input",{type:"text",value:r.numberOfSamples,onChange:a("numberOfSamples"),className:u,placeholder:"e.g. 50 Vials"})]})]})]}),f.jsxs("div",{className:"bg-[#1e4d2b]/5 p-5 rounded-xl border-2 border-[#b8a066]/30",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3 text-[#1e4d2b] font-bold text-sm uppercase tracking-wide",children:[f.jsx(U0,{className:"w-4 h-4"}),f.jsx("span",{children:"Submission & Endorsement"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Date Submitted to Lab"}),f.jsx("input",{type:"date",value:r.dateSubmittedToLab,onChange:d=>s("dateSubmittedToLab",d.target.value),className:u})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Date Endorsed to DA-BAI"}),f.jsx("input",{type:"date",value:r.dateOfEndorsementToDA,onChange:d=>s("dateOfEndorsementToDA",d.target.value),className:u})]})]})]}),f.jsxs("div",{className:"sm:col-span-2 mt-2",children:[f.jsx("label",{className:o,children:"Remarks / Technical Findings"}),f.jsx("textarea",{value:r.remarks,onChange:a("remarks"),className:p,placeholder:"Additional notes on samples or findings..."})]})]})]}),f.jsxs("div",{className:"cfs-admcc-section cfs-admcc-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(oc,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Customer Satisfaction"]}),f.jsx(pn,{ratings:r,onChange:(d,h)=>s(d,h)}),f.jsxs("div",{className:"mt-6",children:[f.jsx("label",{className:o,children:"Recommendation"}),f.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:p,placeholder:"Client recommendations for service improvement..."})]})]}),f.jsxs("div",{className:"cfs-admcc-section cfs-admcc-section-4 pt-2 flex flex-col items-end gap-4",children:[i&&f.jsxs("div",{className:`animal-feed-message-enter w-full max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[f.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),f.jsx("p",{className:"font-medium",children:i.text})]}),f.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto min-h-[44px] px-6 sm:px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] touch-manipulation transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT ADMCC RECORD"]})})]})]})]})})}const Uv={clientName:"",typeOfDiseaseSurveillance:"",purpose:"",province:"",address:"",dateOfRequest:"",dateOfSurveillance:"",numberOfSamples:"",dateSubmittedToLab:"",dateOfEndorsementToDA:"",remarks:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function OR(){const[r,t]=ae.useState(Uv),{submit:e,loading:n,message:i}=tn("animalDiseaseSurveillance"),s=(d,h)=>t(g=>({...g,[d]:h})),a=d=>h=>s(d,(h.target.value||"").toUpperCase()),c=async d=>{d.preventDefault(),await e(r)&&(t(Uv),window.scrollTo({top:0,behavior:"smooth"}))},l="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",o="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",u="w-full min-w-0 px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c] uppercase",p=`${u} min-h-[100px] resize-y normal-case placeholder:normal-case`;return f.jsx(en,{title:"Animal Disease Surveillance",children:f.jsxs("div",{className:"max-w-5xl mx-auto pb-10 min-w-0 w-full",children:[f.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:f.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:f.jsx("iconify-icon",{icon:"mdi:stethoscope",width:"24",class:"text-white"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Animal Disease Surveillance"}),f.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Client details, specimen collection, and lab endorsement tracking."})]})]})]})}),f.jsxs("form",{onSubmit:c,className:"space-y-8",children:[f.jsxs("div",{className:"animal-disease-surveillance-section animal-disease-surveillance-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(Np,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Client & Surveillance Details"]}),f.jsxs("div",{className:"grid sm:grid-cols-12 gap-6",children:[f.jsxs("div",{className:"sm:col-span-8",children:[f.jsx("label",{className:o,children:"Name of LGU / Client / Farm"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Np,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.clientName,onChange:a("clientName"),placeholder:"Name of LGU, Client or Farm",required:!0,className:`${u} pl-10`})]})]}),f.jsxs("div",{className:"sm:col-span-4",children:[f.jsx("label",{className:o,children:"Date of Request"}),f.jsx("div",{className:"relative",children:f.jsx("input",{type:"date",value:r.dateOfRequest,onChange:d=>s("dateOfRequest",d.target.value),className:u,required:!0})})]}),f.jsxs("div",{className:"sm:col-span-6",children:[f.jsx("label",{className:o,children:"Province"}),f.jsx(mt,{value:r.province,onChange:d=>s("province",d),placeholder:"Select Province",options:[{value:"",label:"Select Province"},...kr.map(d=>({value:d,label:d}))],"aria-label":"Province"})]}),f.jsxs("div",{className:"sm:col-span-12",children:[f.jsx("label",{className:o,children:"Address"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(ji,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.address,onChange:a("address"),placeholder:"Complete Address",className:`${u} pl-10`})]})]}),f.jsxs("div",{className:"sm:col-span-6",children:[f.jsx("label",{className:o,children:"Type of Disease Surveillance"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Jd,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.typeOfDiseaseSurveillance,onChange:a("typeOfDiseaseSurveillance"),placeholder:"e.g. Avian Influenza, ASF, Rabies",className:`${u} pl-10`})]})]}),f.jsxs("div",{className:"sm:col-span-6",children:[f.jsx("label",{className:o,children:"Purpose"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(FA,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.purpose,onChange:a("purpose"),placeholder:"Reason for surveillance",className:`${u} pl-10`})]})]})]})]}),f.jsxs("div",{className:"animal-disease-surveillance-section animal-disease-surveillance-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(Ep,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Operation & Sample Data"]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2 text-[#1e4d2b] font-bold text-sm uppercase tracking-wider mb-2",children:[f.jsx(Ep,{className:"w-4 h-4"})," Field Activities"]}),f.jsxs("div",{className:"bg-[#1e4d2b]/5 p-5 rounded-xl border-2 border-[#1e4d2b]/20 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Date of Surveillance (Blood Coll.)"}),f.jsx("input",{type:"date",value:r.dateOfSurveillance,onChange:d=>s("dateOfSurveillance",d.target.value),className:u})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"No. of Samples Collected"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx($A,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.numberOfSamples,onChange:a("numberOfSamples"),placeholder:"e.g. 50 Vials",className:`${u} pl-10`})]})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2 text-[#1e4d2b] font-bold text-sm uppercase tracking-wider mb-2",children:[f.jsx(rA,{className:"w-4 h-4"})," Lab & Admin"]}),f.jsxs("div",{className:"bg-[#1e4d2b]/5 p-5 rounded-xl border-2 border-[#b8a066]/30 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Date Submitted to Lab"}),f.jsx("input",{type:"date",value:r.dateSubmittedToLab,onChange:d=>s("dateSubmittedToLab",d.target.value),className:u})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Date Endorsed to DA-BAI"}),f.jsx("input",{type:"date",value:r.dateOfEndorsementToDA,onChange:d=>s("dateOfEndorsementToDA",d.target.value),className:u})]})]})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:o,children:"Remarks / Observations"}),f.jsx("textarea",{value:r.remarks,onChange:a("remarks"),className:p,placeholder:"Additional notes, clinical signs observed, etc..."})]})]})]}),f.jsxs("div",{className:"animal-disease-surveillance-section animal-disease-surveillance-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(oc,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Customer Feedback"]}),f.jsx(pn,{ratings:r,onChange:(d,h)=>s(d,h)}),f.jsxs("div",{className:"mt-6",children:[f.jsx("label",{className:o,children:"Recommendation"}),f.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:p,placeholder:"Final recommendations..."})]})]}),f.jsxs("div",{className:"animal-disease-surveillance-section animal-disease-surveillance-section-4 pt-2 flex flex-col items-end gap-4",children:[i&&f.jsxs("div",{className:`animal-feed-message-enter w-full max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[f.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),f.jsx("p",{className:"font-medium",children:i.text})]}),f.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto min-h-[44px] px-6 sm:px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] touch-manipulation transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT SURVEILLANCE DATA"]})})]})]})]})})}const DR=["Pending","On-Process","Approved","Denied"],$v={explorationPermitApplicationNo:"",nameOfApplicant:"",dateReceived:"",province:"",location:"",area:"",dateOfReplyToRequest:"",endorsementToBSWM:"",endorsementToMGB:"",fieldValidation:"",remarks:"",rescheduledDate:"",fieldValidationReport:"",issuanceOfCertificateAndEndorsementToMGB:"",status:"",findings:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function FR(){const[r,t]=ae.useState($v),{submit:e,loading:n,message:i}=tn("safdzValidation"),s=(d,h)=>t(g=>({...g,[d]:h})),a=d=>h=>s(d,(h.target.value||"").toUpperCase()),c=async d=>{d.preventDefault(),await e(r)&&(t($v),window.scrollTo({top:0,behavior:"smooth"}))},l="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",o="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",u="w-full min-w-0 px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c] uppercase",p=`${u} min-h-[100px] resize-y normal-case placeholder:normal-case`;return f.jsx(en,{title:"SAFDZ Validation",children:f.jsxs("div",{className:"max-w-5xl mx-auto pb-10 min-w-0 w-full",children:[f.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:f.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:f.jsx("iconify-icon",{icon:"mdi:map-marker-check",width:"24",class:"text-white"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"SAFDZ Validation"}),f.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Strategic Agricultural and Fisheries Development Zone validation and endorsement."})]})]})]})}),f.jsxs("form",{onSubmit:c,className:"space-y-8",children:[f.jsxs("div",{className:"safdz-validation-section safdz-validation-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(eh,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Application Overview"]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Exploration Permit App. No."}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(U0,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.explorationPermitApplicationNo,onChange:a("explorationPermitApplicationNo"),placeholder:"Permit Number",required:!0,className:`${u} pl-10`})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Name of Applicant"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(oo,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.nameOfApplicant,onChange:a("nameOfApplicant"),placeholder:"Applicant Full Name",className:`${u} pl-10`})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Province"}),f.jsx(mt,{value:r.province,onChange:d=>s("province",d),placeholder:"Select Province",options:[{value:"",label:"Select Province"},...kr.map(d=>({value:d,label:d}))],"aria-label":"Province"})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Location"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(ji,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.location,onChange:a("location"),placeholder:"Site Location",className:`${u} pl-10`})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Area (Hectares)"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(v5,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),f.jsx("input",{type:"text",value:r.area,onChange:a("area"),placeholder:"e.g. 5.00",className:`${u} pl-10`})]})]})]})]}),f.jsxs("div",{className:"safdz-validation-section safdz-validation-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(jA,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Timeline & Endorsements"]}),f.jsxs("div",{className:"grid sm:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:o,children:"Date Received"}),f.jsx("input",{type:"date",value:r.dateReceived,onChange:d=>s("dateReceived",d.target.value),className:u})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:o,children:"Date Replied"}),f.jsx("input",{type:"date",value:r.dateOfReplyToRequest,onChange:d=>s("dateOfReplyToRequest",d.target.value),className:u})]}),f.jsx("div",{className:"sm:col-span-4 h-px bg-[#e8e0d4] my-2"}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:o,children:"Endorsement to BSWM"}),f.jsx("input",{type:"date",value:r.endorsementToBSWM,onChange:d=>s("endorsementToBSWM",d.target.value),className:u}),f.jsx("p",{className:"text-[10px] text-[#5c574f]/80 mt-1",children:"Bureau of Soils and Water Management"})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:o,children:"Endorsement to MGB"}),f.jsx("input",{type:"date",value:r.endorsementToMGB,onChange:d=>s("endorsementToMGB",d.target.value),className:u}),f.jsx("p",{className:"text-[10px] text-[#5c574f]/80 mt-1",children:"Mines and Geosciences Bureau"})]})]})]}),f.jsxs("div",{className:"safdz-validation-section safdz-validation-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(y5,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Field Validation & Findings"]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:o,children:"Field Validation Activities"}),f.jsx("input",{type:"text",value:r.fieldValidation,onChange:a("fieldValidation"),className:u,placeholder:"Describe validation activities..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Rescheduled Date (If any)"}),f.jsx("div",{className:"relative",children:f.jsx("input",{type:"date",value:r.rescheduledDate,onChange:d=>s("rescheduledDate",d.target.value),className:u})})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Validation Report Ref."}),f.jsx("input",{type:"text",value:r.fieldValidationReport,onChange:a("fieldValidationReport"),className:u,placeholder:"Report No. / Reference"})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:o,children:"Findings"}),f.jsx("textarea",{value:r.findings,onChange:a("findings"),className:p,placeholder:"Enter validation findings here..."})]})]})]}),f.jsxs("div",{className:"safdz-validation-section safdz-validation-section-4 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(MA,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Issuance & Status"]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Issuance of Certificate & Endorsement (MGB)"}),f.jsx("input",{type:"date",value:r.issuanceOfCertificateAndEndorsementToMGB,onChange:d=>s("issuanceOfCertificateAndEndorsementToMGB",d.target.value),className:u})]}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Current Status"}),f.jsx(mt,{value:r.status,onChange:d=>s("status",d),placeholder:"Select Application Status",options:[{value:"",label:"Select Application Status"},...DR.map(d=>({value:d,label:d}))],"aria-label":"Status"})]}),f.jsxs("div",{className:"sm:col-span-2",children:[f.jsx("label",{className:o,children:"General Remarks"}),f.jsx("textarea",{value:r.remarks,onChange:a("remarks"),className:`${u} min-h-[80px]`,rows:"2",placeholder:"Additional remarks..."})]})]})]}),f.jsxs("div",{className:"safdz-validation-section safdz-validation-section-5 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[f.jsxs("h3",{className:l,children:[f.jsx(oc,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Feedback & Recommendation"]}),f.jsxs("div",{className:"space-y-6",children:[f.jsx(pn,{ratings:r,onChange:(d,h)=>s(d,h)}),f.jsxs("div",{children:[f.jsx("label",{className:o,children:"Recommendation"}),f.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:p,placeholder:"Final recommendation based on validation..."})]})]})]}),f.jsxs("div",{className:"safdz-validation-section safdz-validation-section-6 pt-2 flex flex-col items-end gap-4",children:[i&&f.jsxs("div",{className:`animal-feed-message-enter w-full max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[f.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),f.jsx("p",{className:"font-medium",children:i.text})]}),f.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto min-h-[44px] px-6 sm:px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] touch-manipulation transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):f.jsxs(f.Fragment,{children:[f.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT VALIDATION"]})})]})]})]})})}function Hv({children:r,requireAdmin:t}){const{user:e,role:n,loading:i}=ua();return i?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:f.jsx("div",{className:"animate-pulse text-muted",children:"Loading..."})}):e?t&&n!=="admin"?f.jsx(Kf,{to:"/dashboard",replace:!0}):r:f.jsx(Kf,{to:"/",replace:!0})}function LR(){return f.jsxs(m8,{children:[f.jsxs(zt,{path:"/",element:f.jsx(sC,{}),children:[f.jsx(zt,{index:!0,element:f.jsx(cC,{})}),f.jsx(zt,{path:"about",element:f.jsx(uC,{})}),f.jsx(zt,{path:"features",element:f.jsx(dC,{})}),f.jsx(zt,{path:"contact",element:f.jsx(hC,{})}),f.jsx(zt,{path:"admin-login",element:f.jsx(gC,{})}),f.jsx(zt,{path:"staff-login",element:f.jsx(bC,{})})]}),f.jsxs(zt,{path:"/dashboard",element:f.jsx(Hv,{children:f.jsx(eC,{children:f.jsx(oC,{})})}),children:[f.jsx(zt,{index:!0,element:f.jsx(yC,{})}),f.jsx(zt,{path:"analytics",element:f.jsx(tI,{})}),f.jsx(zt,{path:"records",element:f.jsx(NC,{})}),f.jsx(zt,{path:"settings",element:f.jsx(iI,{})}),f.jsx(zt,{path:"system-logs",element:f.jsx(Hv,{requireAdmin:!0,children:f.jsx(lI,{})})}),f.jsx(zt,{path:"forms/animal-feed",element:f.jsx(pR,{})}),f.jsx(zt,{path:"forms/livestock-handlers",element:f.jsx(gR,{})}),f.jsx(zt,{path:"forms/transport-carrier",element:f.jsx(vR,{})}),f.jsx(zt,{path:"forms/animal-welfare",element:f.jsx(wR,{})}),f.jsx(zt,{path:"forms/plant-material",element:f.jsx(SR,{})}),f.jsx(zt,{path:"forms/organic-agri",element:f.jsx(NR,{})}),f.jsx(zt,{path:"forms/good-agri-practices",element:f.jsx(TR,{})}),f.jsx(zt,{path:"forms/good-animal-husbandry",element:f.jsx(CR,{})}),f.jsx(zt,{path:"forms/organic-post-market",element:f.jsx(AR,{})}),f.jsx(zt,{path:"forms/land-use-matter",element:f.jsx(IR,{})}),f.jsx(zt,{path:"forms/food-safety",element:f.jsx(RR,{})}),f.jsx(zt,{path:"forms/safdz-validation",element:f.jsx(FR,{})}),f.jsx(zt,{path:"forms/plant-pest-surveillance",element:f.jsx(PR,{})}),f.jsx(zt,{path:"forms/cfs-admcc",element:f.jsx(MR,{})}),f.jsx(zt,{path:"forms/animal-disease-surveillance",element:f.jsx(OR,{})})]}),f.jsx(zt,{path:"*",element:f.jsx(Kf,{to:"/",replace:!0})})]})}function BR(){return f.jsx(qT,{children:f.jsx(KT,{children:f.jsx(XT,{children:f.jsx(LR,{})})})})}class VR extends Fp.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("[ErrorBoundary]",t,e)}render(){return this.state.hasError?f.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#faf8f5] p-6 text-center",children:f.jsxs("div",{className:"max-w-md w-full rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg p-8",children:[f.jsx("div",{className:"w-14 h-14 mx-auto mb-4 rounded-full bg-amber-100 flex items-center justify-center",children:f.jsx("iconify-icon",{icon:"mdi:alert-circle",width:"32",className:"text-amber-600"})}),f.jsx("h1",{className:"text-xl font-bold text-[#1e4d2b] mb-2",children:"Something went wrong"}),f.jsx("p",{className:"text-sm text-[#5c7355] mb-6",children:"The page encountered an unexpected error. Please refresh or go back to the dashboard."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[f.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2.5 bg-[#1e4d2b] text-white rounded-xl font-semibold text-sm hover:bg-[#153019] transition-colors",children:"Refresh Page"}),f.jsx("a",{href:"/dashboard",className:"px-4 py-2.5 bg-[#b8a066] text-[#153019] rounded-xl font-semibold text-sm hover:bg-[#d4c4a0] transition-colors",children:"Go to Dashboard"})]})]})}):this.props.children}}nC();Jh.createRoot(document.getElementById("root")).render(f.jsx(Fp.StrictMode,{children:f.jsx(VR,{children:f.jsx(_8,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:f.jsx(BR,{})})})}));
