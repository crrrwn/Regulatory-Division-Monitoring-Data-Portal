var b_=Object.defineProperty;var y_=(r,t,e)=>t in r?b_(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var Li=(r,t,e)=>y_(r,typeof t!="symbol"?t+"":t,e);function v_(r,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();var kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ky(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ny={exports:{}},Yu={},Ey={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cl=Symbol.for("react.element"),x_=Symbol.for("react.portal"),w_=Symbol.for("react.fragment"),__=Symbol.for("react.strict_mode"),S_=Symbol.for("react.profiler"),k_=Symbol.for("react.provider"),N_=Symbol.for("react.context"),E_=Symbol.for("react.forward_ref"),T_=Symbol.for("react.suspense"),j_=Symbol.for("react.memo"),C_=Symbol.for("react.lazy"),J0=Symbol.iterator;function A_(r){return r===null||typeof r!="object"?null:(r=J0&&r[J0]||r["@@iterator"],typeof r=="function"?r:null)}var Ty={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jy=Object.assign,Cy={};function Xa(r,t,e){this.props=r,this.context=t,this.refs=Cy,this.updater=e||Ty}Xa.prototype.isReactComponent={};Xa.prototype.setState=function(r,t){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,t,"setState")};Xa.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function Ay(){}Ay.prototype=Xa.prototype;function Np(r,t,e){this.props=r,this.context=t,this.refs=Cy,this.updater=e||Ty}var Ep=Np.prototype=new Ay;Ep.constructor=Np;jy(Ep,Xa.prototype);Ep.isPureReactComponent=!0;var eg=Array.isArray,Iy=Object.prototype.hasOwnProperty,Tp={current:null},Ry={key:!0,ref:!0,__self:!0,__source:!0};function Py(r,t,e){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Iy.call(t,n)&&!Ry.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(c===1)i.children=e;else if(1<c){for(var l=Array(c),o=0;o<c;o++)l[o]=arguments[o+2];i.children=l}if(r&&r.defaultProps)for(n in c=r.defaultProps,c)i[n]===void 0&&(i[n]=c[n]);return{$$typeof:Cl,type:r,key:s,ref:a,props:i,_owner:Tp.current}}function I_(r,t){return{$$typeof:Cl,type:r.type,key:t,ref:r.ref,props:r.props,_owner:r._owner}}function jp(r){return typeof r=="object"&&r!==null&&r.$$typeof===Cl}function R_(r){var t={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(e){return t[e]})}var tg=/\/+/g;function Gd(r,t){return typeof r=="object"&&r!==null&&r.key!=null?R_(""+r.key):t.toString(36)}function Ic(r,t,e,n,i){var s=typeof r;(s==="undefined"||s==="boolean")&&(r=null);var a=!1;if(r===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(r.$$typeof){case Cl:case x_:a=!0}}if(a)return a=r,i=i(a),r=n===""?"."+Gd(a,0):n,eg(i)?(e="",r!=null&&(e=r.replace(tg,"$&/")+"/"),Ic(i,t,e,"",function(o){return o})):i!=null&&(jp(i)&&(i=I_(i,e+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(tg,"$&/")+"/")+r)),t.push(i)),1;if(a=0,n=n===""?".":n+":",eg(r))for(var c=0;c<r.length;c++){s=r[c];var l=n+Gd(s,c);a+=Ic(s,t,e,l,i)}else if(l=A_(r),typeof l=="function")for(r=l.call(r),c=0;!(s=r.next()).done;)s=s.value,l=n+Gd(s,c++),a+=Ic(s,t,e,l,i);else if(s==="object")throw t=String(r),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ac(r,t,e){if(r==null)return r;var n=[],i=0;return Ic(r,n,"","",function(s){return t.call(e,s,i++)}),n}function P_(r){if(r._status===-1){var t=r._result;t=t(),t.then(function(e){(r._status===0||r._status===-1)&&(r._status=1,r._result=e)},function(e){(r._status===0||r._status===-1)&&(r._status=2,r._result=e)}),r._status===-1&&(r._status=0,r._result=t)}if(r._status===1)return r._result.default;throw r._result}var Kr={current:null},Rc={transition:null},M_={ReactCurrentDispatcher:Kr,ReactCurrentBatchConfig:Rc,ReactCurrentOwner:Tp};function My(){throw Error("act(...) is not supported in production builds of React.")}wt.Children={map:ac,forEach:function(r,t,e){ac(r,function(){t.apply(this,arguments)},e)},count:function(r){var t=0;return ac(r,function(){t++}),t},toArray:function(r){return ac(r,function(t){return t})||[]},only:function(r){if(!jp(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};wt.Component=Xa;wt.Fragment=w_;wt.Profiler=S_;wt.PureComponent=Np;wt.StrictMode=__;wt.Suspense=T_;wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M_;wt.act=My;wt.cloneElement=function(r,t,e){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=jy({},r.props),i=r.key,s=r.ref,a=r._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Tp.current),t.key!==void 0&&(i=""+t.key),r.type&&r.type.defaultProps)var c=r.type.defaultProps;for(l in t)Iy.call(t,l)&&!Ry.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&c!==void 0?c[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=e;else if(1<l){c=Array(l);for(var o=0;o<l;o++)c[o]=arguments[o+2];n.children=c}return{$$typeof:Cl,type:r.type,key:i,ref:s,props:n,_owner:a}};wt.createContext=function(r){return r={$$typeof:N_,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:k_,_context:r},r.Consumer=r};wt.createElement=Py;wt.createFactory=function(r){var t=Py.bind(null,r);return t.type=r,t};wt.createRef=function(){return{current:null}};wt.forwardRef=function(r){return{$$typeof:E_,render:r}};wt.isValidElement=jp;wt.lazy=function(r){return{$$typeof:C_,_payload:{_status:-1,_result:r},_init:P_}};wt.memo=function(r,t){return{$$typeof:j_,type:r,compare:t===void 0?null:t}};wt.startTransition=function(r){var t=Rc.transition;Rc.transition={};try{r()}finally{Rc.transition=t}};wt.unstable_act=My;wt.useCallback=function(r,t){return Kr.current.useCallback(r,t)};wt.useContext=function(r){return Kr.current.useContext(r)};wt.useDebugValue=function(){};wt.useDeferredValue=function(r){return Kr.current.useDeferredValue(r)};wt.useEffect=function(r,t){return Kr.current.useEffect(r,t)};wt.useId=function(){return Kr.current.useId()};wt.useImperativeHandle=function(r,t,e){return Kr.current.useImperativeHandle(r,t,e)};wt.useInsertionEffect=function(r,t){return Kr.current.useInsertionEffect(r,t)};wt.useLayoutEffect=function(r,t){return Kr.current.useLayoutEffect(r,t)};wt.useMemo=function(r,t){return Kr.current.useMemo(r,t)};wt.useReducer=function(r,t,e){return Kr.current.useReducer(r,t,e)};wt.useRef=function(r){return Kr.current.useRef(r)};wt.useState=function(r){return Kr.current.useState(r)};wt.useSyncExternalStore=function(r,t,e){return Kr.current.useSyncExternalStore(r,t,e)};wt.useTransition=function(){return Kr.current.useTransition()};wt.version="18.3.1";Ey.exports=wt;var de=Ey.exports;const Oy=ky(de),O_=v_({__proto__:null,default:Oy},[de]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_=de,L_=Symbol.for("react.element"),F_=Symbol.for("react.fragment"),B_=Object.prototype.hasOwnProperty,V_=D_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z_={key:!0,ref:!0,__self:!0,__source:!0};function Dy(r,t,e){var n,i={},s=null,a=null;e!==void 0&&(s=""+e),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)B_.call(t,n)&&!z_.hasOwnProperty(n)&&(i[n]=t[n]);if(r&&r.defaultProps)for(n in t=r.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:L_,type:r,key:s,ref:a,props:i,_owner:V_.current}}Yu.Fragment=F_;Yu.jsx=Dy;Yu.jsxs=Dy;Ny.exports=Yu;var p=Ny.exports,Hh={},Ly={exports:{}},bn={},Fy={exports:{}},By={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function t(S,k){var j=S.length;S.push(k);e:for(;0<j;){var L=j-1>>>1,D=S[L];if(0<i(D,k))S[L]=k,S[j]=D,j=L;else break e}}function e(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var k=S[0],j=S.pop();if(j!==k){S[0]=j;e:for(var L=0,D=S.length,q=D>>>1;L<q;){var W=2*(L+1)-1,Q=S[W],z=W+1,K=S[z];if(0>i(Q,j))z<D&&0>i(K,Q)?(S[L]=K,S[z]=j,L=z):(S[L]=Q,S[W]=j,L=W);else if(z<D&&0>i(K,j))S[L]=K,S[z]=j,L=z;else break e}}return k}function i(S,k){var j=S.sortIndex-k.sortIndex;return j!==0?j:S.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();r.unstable_now=function(){return a.now()-c}}var l=[],o=[],u=1,f=null,d=3,h=!1,g=!1,b=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(S){for(var k=e(o);k!==null;){if(k.callback===null)n(o);else if(k.startTime<=S)n(o),k.sortIndex=k.expirationTime,t(l,k);else break;k=e(o)}}function T(S){if(b=!1,w(S),!g)if(e(l)!==null)g=!0,x(I);else{var k=e(o);k!==null&&_(T,k.startTime-S)}}function I(S,k){g=!1,b&&(b=!1,v(A),A=-1),h=!0;var j=d;try{for(w(k),f=e(l);f!==null&&(!(f.expirationTime>k)||S&&!$());){var L=f.callback;if(typeof L=="function"){f.callback=null,d=f.priorityLevel;var D=L(f.expirationTime<=k);k=r.unstable_now(),typeof D=="function"?f.callback=D:f===e(l)&&n(l),w(k)}else n(l);f=e(l)}if(f!==null)var q=!0;else{var W=e(o);W!==null&&_(T,W.startTime-k),q=!1}return q}finally{f=null,d=j,h=!1}}var V=!1,B=null,A=-1,M=5,F=-1;function $(){return!(r.unstable_now()-F<M)}function U(){if(B!==null){var S=r.unstable_now();F=S;var k=!0;try{k=B(!0,S)}finally{k?E():(V=!1,B=null)}}else V=!1}var E;if(typeof y=="function")E=function(){y(U)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,N=P.port2;P.port1.onmessage=U,E=function(){N.postMessage(null)}}else E=function(){m(U,0)};function x(S){B=S,V||(V=!0,E())}function _(S,k){A=m(function(){S(r.unstable_now())},k)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(S){S.callback=null},r.unstable_continueExecution=function(){g||h||(g=!0,x(I))},r.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<S?Math.floor(1e3/S):5},r.unstable_getCurrentPriorityLevel=function(){return d},r.unstable_getFirstCallbackNode=function(){return e(l)},r.unstable_next=function(S){switch(d){case 1:case 2:case 3:var k=3;break;default:k=d}var j=d;d=k;try{return S()}finally{d=j}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(S,k){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var j=d;d=S;try{return k()}finally{d=j}},r.unstable_scheduleCallback=function(S,k,j){var L=r.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?L+j:L):j=L,S){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=j+D,S={id:u++,callback:k,priorityLevel:S,startTime:j,expirationTime:D,sortIndex:-1},j>L?(S.sortIndex=j,t(o,S),e(l)===null&&S===e(o)&&(b?(v(A),A=-1):b=!0,_(T,j-L))):(S.sortIndex=D,t(l,S),g||h||(g=!0,x(I))),S},r.unstable_shouldYield=$,r.unstable_wrapCallback=function(S){var k=d;return function(){var j=d;d=k;try{return S.apply(this,arguments)}finally{d=j}}}})(By);Fy.exports=By;var U_=Fy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_=de,gn=U_;function je(r){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+r,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+r+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vy=new Set,Zo={};function Ys(r,t){Oa(r,t),Oa(r+"Capture",t)}function Oa(r,t){for(Zo[r]=t,r=0;r<t.length;r++)Vy.add(t[r])}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qh=Object.prototype.hasOwnProperty,H_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rg={},ng={};function q_(r){return qh.call(ng,r)?!0:qh.call(rg,r)?!1:H_.test(r)?ng[r]=!0:(rg[r]=!0,!1)}function W_(r,t,e,n){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:e!==null?!e.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function G_(r,t,e,n){if(t===null||typeof t>"u"||W_(r,t,e,n))return!0;if(n)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xr(r,t,e,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=r,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Ar[r]=new Xr(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var t=r[0];Ar[t]=new Xr(t,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Ar[r]=new Xr(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Ar[r]=new Xr(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Ar[r]=new Xr(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Ar[r]=new Xr(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Ar[r]=new Xr(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Ar[r]=new Xr(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Ar[r]=new Xr(r,5,!1,r.toLowerCase(),null,!1,!1)});var Cp=/[\-:]([a-z])/g;function Ap(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var t=r.replace(Cp,Ap);Ar[t]=new Xr(t,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var t=r.replace(Cp,Ap);Ar[t]=new Xr(t,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var t=r.replace(Cp,Ap);Ar[t]=new Xr(t,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Ar[r]=new Xr(r,1,!1,r.toLowerCase(),null,!1,!1)});Ar.xlinkHref=new Xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Ar[r]=new Xr(r,1,!1,r.toLowerCase(),null,!0,!0)});function Ip(r,t,e,n){var i=Ar.hasOwnProperty(t)?Ar[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(G_(t,e,i,n)&&(e=null),n||i===null?q_(t)&&(e===null?r.removeAttribute(t):r.setAttribute(t,""+e)):i.mustUseProperty?r[i.propertyName]=e===null?i.type===3?!1:"":e:(t=i.attributeName,n=i.attributeNamespace,e===null?r.removeAttribute(t):(i=i.type,e=i===3||i===4&&e===!0?"":""+e,n?r.setAttributeNS(n,t,e):r.setAttribute(t,e))))}var Ci=$_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oc=Symbol.for("react.element"),ha=Symbol.for("react.portal"),fa=Symbol.for("react.fragment"),Rp=Symbol.for("react.strict_mode"),Wh=Symbol.for("react.profiler"),zy=Symbol.for("react.provider"),Uy=Symbol.for("react.context"),Pp=Symbol.for("react.forward_ref"),Gh=Symbol.for("react.suspense"),Kh=Symbol.for("react.suspense_list"),Mp=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),$y=Symbol.for("react.offscreen"),ig=Symbol.iterator;function ho(r){return r===null||typeof r!="object"?null:(r=ig&&r[ig]||r["@@iterator"],typeof r=="function"?r:null)}var tr=Object.assign,Kd;function Eo(r){if(Kd===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Kd=t&&t[1]||""}return`
`+Kd+r}var Xd=!1;function Qd(r,t){if(!r||Xd)return"";Xd=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(o){var n=o}Reflect.construct(r,[],t)}else{try{t.call()}catch(o){n=o}r.call(t.prototype)}else{try{throw Error()}catch(o){n=o}r()}}catch(o){if(o&&n&&typeof o.stack=="string"){for(var i=o.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,c=s.length-1;1<=a&&0<=c&&i[a]!==s[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==s[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==s[c]){var l=`
`+i[a].replace(" at new "," at ");return r.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",r.displayName)),l}while(1<=a&&0<=c);break}}}finally{Xd=!1,Error.prepareStackTrace=e}return(r=r?r.displayName||r.name:"")?Eo(r):""}function K_(r){switch(r.tag){case 5:return Eo(r.type);case 16:return Eo("Lazy");case 13:return Eo("Suspense");case 19:return Eo("SuspenseList");case 0:case 2:case 15:return r=Qd(r.type,!1),r;case 11:return r=Qd(r.type.render,!1),r;case 1:return r=Qd(r.type,!0),r;default:return""}}function Xh(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case fa:return"Fragment";case ha:return"Portal";case Wh:return"Profiler";case Rp:return"StrictMode";case Gh:return"Suspense";case Kh:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Uy:return(r.displayName||"Context")+".Consumer";case zy:return(r._context.displayName||"Context")+".Provider";case Pp:var t=r.render;return r=r.displayName,r||(r=t.displayName||t.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Mp:return t=r.displayName||null,t!==null?t:Xh(r.type)||"Memo";case Vi:t=r._payload,r=r._init;try{return Xh(r(t))}catch{}}return null}function X_(r){var t=r.type;switch(r.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=t.render,r=r.displayName||r.name||"",t.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xh(t);case 8:return t===Rp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hs(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Hy(r){var t=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Q_(r){var t=Hy(r)?"checked":"value",e=Object.getOwnPropertyDescriptor(r.constructor.prototype,t),n=""+r[t];if(!r.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var i=e.get,s=e.set;return Object.defineProperty(r,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(r,t,{enumerable:e.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){r._valueTracker=null,delete r[t]}}}}function lc(r){r._valueTracker||(r._valueTracker=Q_(r))}function qy(r){if(!r)return!1;var t=r._valueTracker;if(!t)return!0;var e=t.getValue(),n="";return r&&(n=Hy(r)?r.checked?"true":"false":r.value),r=n,r!==e?(t.setValue(r),!0):!1}function tu(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Qh(r,t){var e=t.checked;return tr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??r._wrapperState.initialChecked})}function sg(r,t){var e=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;e=hs(t.value!=null?t.value:e),r._wrapperState={initialChecked:n,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wy(r,t){t=t.checked,t!=null&&Ip(r,"checked",t,!1)}function Yh(r,t){Wy(r,t);var e=hs(t.value),n=t.type;if(e!=null)n==="number"?(e===0&&r.value===""||r.value!=e)&&(r.value=""+e):r.value!==""+e&&(r.value=""+e);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}t.hasOwnProperty("value")?Zh(r,t.type,e):t.hasOwnProperty("defaultValue")&&Zh(r,t.type,hs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(r.defaultChecked=!!t.defaultChecked)}function ag(r,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+r._wrapperState.initialValue,e||t===r.value||(r.value=t),r.defaultValue=t}e=r.name,e!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,e!==""&&(r.name=e)}function Zh(r,t,e){(t!=="number"||tu(r.ownerDocument)!==r)&&(e==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+e&&(r.defaultValue=""+e))}var To=Array.isArray;function Na(r,t,e,n){if(r=r.options,t){t={};for(var i=0;i<e.length;i++)t["$"+e[i]]=!0;for(e=0;e<r.length;e++)i=t.hasOwnProperty("$"+r[e].value),r[e].selected!==i&&(r[e].selected=i),i&&n&&(r[e].defaultSelected=!0)}else{for(e=""+hs(e),t=null,i=0;i<r.length;i++){if(r[i].value===e){r[i].selected=!0,n&&(r[i].defaultSelected=!0);return}t!==null||r[i].disabled||(t=r[i])}t!==null&&(t.selected=!0)}}function Jh(r,t){if(t.dangerouslySetInnerHTML!=null)throw Error(je(91));return tr({},t,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function og(r,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(je(92));if(To(e)){if(1<e.length)throw Error(je(93));e=e[0]}t=e}t==null&&(t=""),e=t}r._wrapperState={initialValue:hs(e)}}function Gy(r,t){var e=hs(t.value),n=hs(t.defaultValue);e!=null&&(e=""+e,e!==r.value&&(r.value=e),t.defaultValue==null&&r.defaultValue!==e&&(r.defaultValue=e)),n!=null&&(r.defaultValue=""+n)}function lg(r){var t=r.textContent;t===r._wrapperState.initialValue&&t!==""&&t!==null&&(r.value=t)}function Ky(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ef(r,t){return r==null||r==="http://www.w3.org/1999/xhtml"?Ky(t):r==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var cc,Xy=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction(function(){return r(t,e,n,i)})}:r}(function(r,t){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=t;else{for(cc=cc||document.createElement("div"),cc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cc.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;t.firstChild;)r.appendChild(t.firstChild)}});function Jo(r,t){if(t){var e=r.firstChild;if(e&&e===r.lastChild&&e.nodeType===3){e.nodeValue=t;return}}r.textContent=t}var Do={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y_=["Webkit","ms","Moz","O"];Object.keys(Do).forEach(function(r){Y_.forEach(function(t){t=t+r.charAt(0).toUpperCase()+r.substring(1),Do[t]=Do[r]})});function Qy(r,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||Do.hasOwnProperty(r)&&Do[r]?(""+t).trim():t+"px"}function Yy(r,t){r=r.style;for(var e in t)if(t.hasOwnProperty(e)){var n=e.indexOf("--")===0,i=Qy(e,t[e],n);e==="float"&&(e="cssFloat"),n?r.setProperty(e,i):r[e]=i}}var Z_=tr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tf(r,t){if(t){if(Z_[r]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(je(137,r));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(je(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(je(61))}if(t.style!=null&&typeof t.style!="object")throw Error(je(62))}}function rf(r,t){if(r.indexOf("-")===-1)return typeof t.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nf=null;function Op(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var sf=null,Ea=null,Ta=null;function cg(r){if(r=Rl(r)){if(typeof sf!="function")throw Error(je(280));var t=r.stateNode;t&&(t=rd(t),sf(r.stateNode,r.type,t))}}function Zy(r){Ea?Ta?Ta.push(r):Ta=[r]:Ea=r}function Jy(){if(Ea){var r=Ea,t=Ta;if(Ta=Ea=null,cg(r),t)for(r=0;r<t.length;r++)cg(t[r])}}function ev(r,t){return r(t)}function tv(){}var Yd=!1;function rv(r,t,e){if(Yd)return r(t,e);Yd=!0;try{return ev(r,t,e)}finally{Yd=!1,(Ea!==null||Ta!==null)&&(tv(),Jy())}}function el(r,t){var e=r.stateNode;if(e===null)return null;var n=rd(e);if(n===null)return null;e=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(e&&typeof e!="function")throw Error(je(231,t,typeof e));return e}var af=!1;if(yi)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){af=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{af=!1}function J_(r,t,e,n,i,s,a,c,l){var o=Array.prototype.slice.call(arguments,3);try{t.apply(e,o)}catch(u){this.onError(u)}}var Lo=!1,ru=null,nu=!1,of=null,e3={onError:function(r){Lo=!0,ru=r}};function t3(r,t,e,n,i,s,a,c,l){Lo=!1,ru=null,J_.apply(e3,arguments)}function r3(r,t,e,n,i,s,a,c,l){if(t3.apply(this,arguments),Lo){if(Lo){var o=ru;Lo=!1,ru=null}else throw Error(je(198));nu||(nu=!0,of=o)}}function Zs(r){var t=r,e=r;if(r.alternate)for(;t.return;)t=t.return;else{r=t;do t=r,t.flags&4098&&(e=t.return),r=t.return;while(r)}return t.tag===3?e:null}function nv(r){if(r.tag===13){var t=r.memoizedState;if(t===null&&(r=r.alternate,r!==null&&(t=r.memoizedState)),t!==null)return t.dehydrated}return null}function ug(r){if(Zs(r)!==r)throw Error(je(188))}function n3(r){var t=r.alternate;if(!t){if(t=Zs(r),t===null)throw Error(je(188));return t!==r?null:r}for(var e=r,n=t;;){var i=e.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){e=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===e)return ug(i),r;if(s===n)return ug(i),t;s=s.sibling}throw Error(je(188))}if(e.return!==n.return)e=i,n=s;else{for(var a=!1,c=i.child;c;){if(c===e){a=!0,e=i,n=s;break}if(c===n){a=!0,n=i,e=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===e){a=!0,e=s,n=i;break}if(c===n){a=!0,n=s,e=i;break}c=c.sibling}if(!a)throw Error(je(189))}}if(e.alternate!==n)throw Error(je(190))}if(e.tag!==3)throw Error(je(188));return e.stateNode.current===e?r:t}function iv(r){return r=n3(r),r!==null?sv(r):null}function sv(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var t=sv(r);if(t!==null)return t;r=r.sibling}return null}var av=gn.unstable_scheduleCallback,dg=gn.unstable_cancelCallback,i3=gn.unstable_shouldYield,s3=gn.unstable_requestPaint,lr=gn.unstable_now,a3=gn.unstable_getCurrentPriorityLevel,Dp=gn.unstable_ImmediatePriority,ov=gn.unstable_UserBlockingPriority,iu=gn.unstable_NormalPriority,o3=gn.unstable_LowPriority,lv=gn.unstable_IdlePriority,Zu=null,Qn=null;function l3(r){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Zu,r,void 0,(r.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:d3,c3=Math.log,u3=Math.LN2;function d3(r){return r>>>=0,r===0?32:31-(c3(r)/u3|0)|0}var uc=64,dc=4194304;function jo(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function su(r,t){var e=r.pendingLanes;if(e===0)return 0;var n=0,i=r.suspendedLanes,s=r.pingedLanes,a=e&268435455;if(a!==0){var c=a&~i;c!==0?n=jo(c):(s&=a,s!==0&&(n=jo(s)))}else a=e&~i,a!==0?n=jo(a):s!==0&&(n=jo(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=e&16),t=r.entangledLanes,t!==0)for(r=r.entanglements,t&=n;0<t;)e=31-Dn(t),i=1<<e,n|=r[e],t&=~i;return n}function h3(r,t){switch(r){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f3(r,t){for(var e=r.suspendedLanes,n=r.pingedLanes,i=r.expirationTimes,s=r.pendingLanes;0<s;){var a=31-Dn(s),c=1<<a,l=i[a];l===-1?(!(c&e)||c&n)&&(i[a]=h3(c,t)):l<=t&&(r.expiredLanes|=c),s&=~c}}function lf(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function cv(){var r=uc;return uc<<=1,!(uc&4194240)&&(uc=64),r}function Zd(r){for(var t=[],e=0;31>e;e++)t.push(r);return t}function Al(r,t,e){r.pendingLanes|=t,t!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,t=31-Dn(t),r[t]=e}function p3(r,t){var e=r.pendingLanes&~t;r.pendingLanes=t,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=t,r.mutableReadLanes&=t,r.entangledLanes&=t,t=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<e;){var i=31-Dn(e),s=1<<i;t[i]=0,n[i]=-1,r[i]=-1,e&=~s}}function Lp(r,t){var e=r.entangledLanes|=t;for(r=r.entanglements;e;){var n=31-Dn(e),i=1<<n;i&t|r[n]&t&&(r[n]|=t),e&=~i}}var zt=0;function uv(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var dv,Fp,hv,fv,pv,cf=!1,hc=[],Ji=null,es=null,ts=null,tl=new Map,rl=new Map,Ui=[],m3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hg(r,t){switch(r){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":tl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(t.pointerId)}}function po(r,t,e,n,i,s){return r===null||r.nativeEvent!==s?(r={blockedOn:t,domEventName:e,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Rl(t),t!==null&&Fp(t)),r):(r.eventSystemFlags|=n,t=r.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),r)}function g3(r,t,e,n,i){switch(t){case"focusin":return Ji=po(Ji,r,t,e,n,i),!0;case"dragenter":return es=po(es,r,t,e,n,i),!0;case"mouseover":return ts=po(ts,r,t,e,n,i),!0;case"pointerover":var s=i.pointerId;return tl.set(s,po(tl.get(s)||null,r,t,e,n,i)),!0;case"gotpointercapture":return s=i.pointerId,rl.set(s,po(rl.get(s)||null,r,t,e,n,i)),!0}return!1}function mv(r){var t=As(r.target);if(t!==null){var e=Zs(t);if(e!==null){if(t=e.tag,t===13){if(t=nv(e),t!==null){r.blockedOn=t,pv(r.priority,function(){hv(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){r.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Pc(r){if(r.blockedOn!==null)return!1;for(var t=r.targetContainers;0<t.length;){var e=uf(r.domEventName,r.eventSystemFlags,t[0],r.nativeEvent);if(e===null){e=r.nativeEvent;var n=new e.constructor(e.type,e);nf=n,e.target.dispatchEvent(n),nf=null}else return t=Rl(e),t!==null&&Fp(t),r.blockedOn=e,!1;t.shift()}return!0}function fg(r,t,e){Pc(r)&&e.delete(t)}function b3(){cf=!1,Ji!==null&&Pc(Ji)&&(Ji=null),es!==null&&Pc(es)&&(es=null),ts!==null&&Pc(ts)&&(ts=null),tl.forEach(fg),rl.forEach(fg)}function mo(r,t){r.blockedOn===t&&(r.blockedOn=null,cf||(cf=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,b3)))}function nl(r){function t(i){return mo(i,r)}if(0<hc.length){mo(hc[0],r);for(var e=1;e<hc.length;e++){var n=hc[e];n.blockedOn===r&&(n.blockedOn=null)}}for(Ji!==null&&mo(Ji,r),es!==null&&mo(es,r),ts!==null&&mo(ts,r),tl.forEach(t),rl.forEach(t),e=0;e<Ui.length;e++)n=Ui[e],n.blockedOn===r&&(n.blockedOn=null);for(;0<Ui.length&&(e=Ui[0],e.blockedOn===null);)mv(e),e.blockedOn===null&&Ui.shift()}var ja=Ci.ReactCurrentBatchConfig,au=!0;function y3(r,t,e,n){var i=zt,s=ja.transition;ja.transition=null;try{zt=1,Bp(r,t,e,n)}finally{zt=i,ja.transition=s}}function v3(r,t,e,n){var i=zt,s=ja.transition;ja.transition=null;try{zt=4,Bp(r,t,e,n)}finally{zt=i,ja.transition=s}}function Bp(r,t,e,n){if(au){var i=uf(r,t,e,n);if(i===null)lh(r,t,n,ou,e),hg(r,n);else if(g3(i,r,t,e,n))n.stopPropagation();else if(hg(r,n),t&4&&-1<m3.indexOf(r)){for(;i!==null;){var s=Rl(i);if(s!==null&&dv(s),s=uf(r,t,e,n),s===null&&lh(r,t,n,ou,e),s===i)break;i=s}i!==null&&n.stopPropagation()}else lh(r,t,n,null,e)}}var ou=null;function uf(r,t,e,n){if(ou=null,r=Op(n),r=As(r),r!==null)if(t=Zs(r),t===null)r=null;else if(e=t.tag,e===13){if(r=nv(t),r!==null)return r;r=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;r=null}else t!==r&&(r=null);return ou=r,null}function gv(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a3()){case Dp:return 1;case ov:return 4;case iu:case o3:return 16;case lv:return 536870912;default:return 16}default:return 16}}var Ki=null,Vp=null,Mc=null;function bv(){if(Mc)return Mc;var r,t=Vp,e=t.length,n,i="value"in Ki?Ki.value:Ki.textContent,s=i.length;for(r=0;r<e&&t[r]===i[r];r++);var a=e-r;for(n=1;n<=a&&t[e-n]===i[s-n];n++);return Mc=i.slice(r,1<n?1-n:void 0)}function Oc(r){var t=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&t===13&&(r=13)):r=t,r===10&&(r=13),32<=r||r===13?r:0}function fc(){return!0}function pg(){return!1}function yn(r){function t(e,n,i,s,a){this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var c in r)r.hasOwnProperty(c)&&(e=r[c],this[c]=e?e(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fc:pg,this.isPropagationStopped=pg,this}return tr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=fc)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=fc)},persist:function(){},isPersistent:fc}),t}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zp=yn(Qa),Il=tr({},Qa,{view:0,detail:0}),x3=yn(Il),Jd,eh,go,Ju=tr({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Up,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==go&&(go&&r.type==="mousemove"?(Jd=r.screenX-go.screenX,eh=r.screenY-go.screenY):eh=Jd=0,go=r),Jd)},movementY:function(r){return"movementY"in r?r.movementY:eh}}),mg=yn(Ju),w3=tr({},Ju,{dataTransfer:0}),_3=yn(w3),S3=tr({},Il,{relatedTarget:0}),th=yn(S3),k3=tr({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),N3=yn(k3),E3=tr({},Qa,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),T3=yn(E3),j3=tr({},Qa,{data:0}),gg=yn(j3),C3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R3(r){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(r):(r=I3[r])?!!t[r]:!1}function Up(){return R3}var P3=tr({},Il,{key:function(r){if(r.key){var t=C3[r.key]||r.key;if(t!=="Unidentified")return t}return r.type==="keypress"?(r=Oc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?A3[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Up,charCode:function(r){return r.type==="keypress"?Oc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Oc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),M3=yn(P3),O3=tr({},Ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bg=yn(O3),D3=tr({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Up}),L3=yn(D3),F3=tr({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),B3=yn(F3),V3=tr({},Ju,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),z3=yn(V3),U3=[9,13,27,32],$p=yi&&"CompositionEvent"in window,Fo=null;yi&&"documentMode"in document&&(Fo=document.documentMode);var $3=yi&&"TextEvent"in window&&!Fo,yv=yi&&(!$p||Fo&&8<Fo&&11>=Fo),yg=" ",vg=!1;function vv(r,t){switch(r){case"keyup":return U3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xv(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var pa=!1;function H3(r,t){switch(r){case"compositionend":return xv(t);case"keypress":return t.which!==32?null:(vg=!0,yg);case"textInput":return r=t.data,r===yg&&vg?null:r;default:return null}}function q3(r,t){if(pa)return r==="compositionend"||!$p&&vv(r,t)?(r=bv(),Mc=Vp=Ki=null,pa=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yv&&t.locale!=="ko"?null:t.data;default:return null}}var W3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t==="input"?!!W3[r.type]:t==="textarea"}function wv(r,t,e,n){Zy(n),t=lu(t,"onChange"),0<t.length&&(e=new zp("onChange","change",null,e,n),r.push({event:e,listeners:t}))}var Bo=null,il=null;function G3(r){Rv(r,0)}function ed(r){var t=ba(r);if(qy(t))return r}function K3(r,t){if(r==="change")return t}var _v=!1;if(yi){var rh;if(yi){var nh="oninput"in document;if(!nh){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),nh=typeof wg.oninput=="function"}rh=nh}else rh=!1;_v=rh&&(!document.documentMode||9<document.documentMode)}function _g(){Bo&&(Bo.detachEvent("onpropertychange",Sv),il=Bo=null)}function Sv(r){if(r.propertyName==="value"&&ed(il)){var t=[];wv(t,il,r,Op(r)),rv(G3,t)}}function X3(r,t,e){r==="focusin"?(_g(),Bo=t,il=e,Bo.attachEvent("onpropertychange",Sv)):r==="focusout"&&_g()}function Q3(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ed(il)}function Y3(r,t){if(r==="click")return ed(t)}function Z3(r,t){if(r==="input"||r==="change")return ed(t)}function J3(r,t){return r===t&&(r!==0||1/r===1/t)||r!==r&&t!==t}var Fn=typeof Object.is=="function"?Object.is:J3;function sl(r,t){if(Fn(r,t))return!0;if(typeof r!="object"||r===null||typeof t!="object"||t===null)return!1;var e=Object.keys(r),n=Object.keys(t);if(e.length!==n.length)return!1;for(n=0;n<e.length;n++){var i=e[n];if(!qh.call(t,i)||!Fn(r[i],t[i]))return!1}return!0}function Sg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function kg(r,t){var e=Sg(r);r=0;for(var n;e;){if(e.nodeType===3){if(n=r+e.textContent.length,r<=t&&n>=t)return{node:e,offset:t-r};r=n}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=Sg(e)}}function kv(r,t){return r&&t?r===t?!0:r&&r.nodeType===3?!1:t&&t.nodeType===3?kv(r,t.parentNode):"contains"in r?r.contains(t):r.compareDocumentPosition?!!(r.compareDocumentPosition(t)&16):!1:!1}function Nv(){for(var r=window,t=tu();t instanceof r.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)r=t.contentWindow;else break;t=tu(r.document)}return t}function Hp(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t&&(t==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||t==="textarea"||r.contentEditable==="true")}function e5(r){var t=Nv(),e=r.focusedElem,n=r.selectionRange;if(t!==e&&e&&e.ownerDocument&&kv(e.ownerDocument.documentElement,e)){if(n!==null&&Hp(e)){if(t=n.start,r=n.end,r===void 0&&(r=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(r,e.value.length);else if(r=(t=e.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var i=e.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!r.extend&&s>n&&(i=n,n=s,s=i),i=kg(e,s);var a=kg(e,n);i&&a&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==a.node||r.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),r.removeAllRanges(),s>n?(r.addRange(t),r.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),r.addRange(t)))}}for(t=[],r=e;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)r=t[e],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var t5=yi&&"documentMode"in document&&11>=document.documentMode,ma=null,df=null,Vo=null,hf=!1;function Ng(r,t,e){var n=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;hf||ma==null||ma!==tu(n)||(n=ma,"selectionStart"in n&&Hp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vo&&sl(Vo,n)||(Vo=n,n=lu(df,"onSelect"),0<n.length&&(t=new zp("onSelect","select",null,t,e),r.push({event:t,listeners:n}),t.target=ma)))}function pc(r,t){var e={};return e[r.toLowerCase()]=t.toLowerCase(),e["Webkit"+r]="webkit"+t,e["Moz"+r]="moz"+t,e}var ga={animationend:pc("Animation","AnimationEnd"),animationiteration:pc("Animation","AnimationIteration"),animationstart:pc("Animation","AnimationStart"),transitionend:pc("Transition","TransitionEnd")},ih={},Ev={};yi&&(Ev=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function td(r){if(ih[r])return ih[r];if(!ga[r])return r;var t=ga[r],e;for(e in t)if(t.hasOwnProperty(e)&&e in Ev)return ih[r]=t[e];return r}var Tv=td("animationend"),jv=td("animationiteration"),Cv=td("animationstart"),Av=td("transitionend"),Iv=new Map,Eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(r,t){Iv.set(r,t),Ys(t,[r])}for(var sh=0;sh<Eg.length;sh++){var ah=Eg[sh],r5=ah.toLowerCase(),n5=ah[0].toUpperCase()+ah.slice(1);bs(r5,"on"+n5)}bs(Tv,"onAnimationEnd");bs(jv,"onAnimationIteration");bs(Cv,"onAnimationStart");bs("dblclick","onDoubleClick");bs("focusin","onFocus");bs("focusout","onBlur");bs(Av,"onTransitionEnd");Oa("onMouseEnter",["mouseout","mouseover"]);Oa("onMouseLeave",["mouseout","mouseover"]);Oa("onPointerEnter",["pointerout","pointerover"]);Oa("onPointerLeave",["pointerout","pointerover"]);Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function Tg(r,t,e){var n=r.type||"unknown-event";r.currentTarget=e,r3(n,t,void 0,r),r.currentTarget=null}function Rv(r,t){t=(t&4)!==0;for(var e=0;e<r.length;e++){var n=r[e],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var c=n[a],l=c.instance,o=c.currentTarget;if(c=c.listener,l!==s&&i.isPropagationStopped())break e;Tg(i,c,o),s=l}else for(a=0;a<n.length;a++){if(c=n[a],l=c.instance,o=c.currentTarget,c=c.listener,l!==s&&i.isPropagationStopped())break e;Tg(i,c,o),s=l}}}if(nu)throw r=of,nu=!1,of=null,r}function Kt(r,t){var e=t[bf];e===void 0&&(e=t[bf]=new Set);var n=r+"__bubble";e.has(n)||(Pv(t,r,2,!1),e.add(n))}function oh(r,t,e){var n=0;t&&(n|=4),Pv(e,r,n,t)}var mc="_reactListening"+Math.random().toString(36).slice(2);function al(r){if(!r[mc]){r[mc]=!0,Vy.forEach(function(e){e!=="selectionchange"&&(i5.has(e)||oh(e,!1,r),oh(e,!0,r))});var t=r.nodeType===9?r:r.ownerDocument;t===null||t[mc]||(t[mc]=!0,oh("selectionchange",!1,t))}}function Pv(r,t,e,n){switch(gv(t)){case 1:var i=y3;break;case 4:i=v3;break;default:i=Bp}e=i.bind(null,t,e,r),i=void 0,!af||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?r.addEventListener(t,e,{capture:!0,passive:i}):r.addEventListener(t,e,!0):i!==void 0?r.addEventListener(t,e,{passive:i}):r.addEventListener(t,e,!1)}function lh(r,t,e,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var c=n.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;c!==null;){if(a=As(c),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}c=c.parentNode}}n=n.return}rv(function(){var o=s,u=Op(e),f=[];e:{var d=Iv.get(r);if(d!==void 0){var h=zp,g=r;switch(r){case"keypress":if(Oc(e)===0)break e;case"keydown":case"keyup":h=M3;break;case"focusin":g="focus",h=th;break;case"focusout":g="blur",h=th;break;case"beforeblur":case"afterblur":h=th;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=_3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=L3;break;case Tv:case jv:case Cv:h=N3;break;case Av:h=B3;break;case"scroll":h=x3;break;case"wheel":h=z3;break;case"copy":case"cut":case"paste":h=T3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=bg}var b=(t&4)!==0,m=!b&&r==="scroll",v=b?d!==null?d+"Capture":null:d;b=[];for(var y=o,w;y!==null;){w=y;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,v!==null&&(T=el(y,v),T!=null&&b.push(ol(y,T,w)))),m)break;y=y.return}0<b.length&&(d=new h(d,g,null,e,u),f.push({event:d,listeners:b}))}}if(!(t&7)){e:{if(d=r==="mouseover"||r==="pointerover",h=r==="mouseout"||r==="pointerout",d&&e!==nf&&(g=e.relatedTarget||e.fromElement)&&(As(g)||g[vi]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(g=e.relatedTarget||e.toElement,h=o,g=g?As(g):null,g!==null&&(m=Zs(g),g!==m||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=o),h!==g)){if(b=mg,T="onMouseLeave",v="onMouseEnter",y="mouse",(r==="pointerout"||r==="pointerover")&&(b=bg,T="onPointerLeave",v="onPointerEnter",y="pointer"),m=h==null?d:ba(h),w=g==null?d:ba(g),d=new b(T,y+"leave",h,e,u),d.target=m,d.relatedTarget=w,T=null,As(u)===o&&(b=new b(v,y+"enter",g,e,u),b.target=w,b.relatedTarget=m,T=b),m=T,h&&g)t:{for(b=h,v=g,y=0,w=b;w;w=oa(w))y++;for(w=0,T=v;T;T=oa(T))w++;for(;0<y-w;)b=oa(b),y--;for(;0<w-y;)v=oa(v),w--;for(;y--;){if(b===v||v!==null&&b===v.alternate)break t;b=oa(b),v=oa(v)}b=null}else b=null;h!==null&&jg(f,d,h,b,!1),g!==null&&m!==null&&jg(f,m,g,b,!0)}}e:{if(d=o?ba(o):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var I=K3;else if(xg(d))if(_v)I=Z3;else{I=Q3;var V=X3}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=Y3);if(I&&(I=I(r,o))){wv(f,I,e,u);break e}V&&V(r,d,o),r==="focusout"&&(V=d._wrapperState)&&V.controlled&&d.type==="number"&&Zh(d,"number",d.value)}switch(V=o?ba(o):window,r){case"focusin":(xg(V)||V.contentEditable==="true")&&(ma=V,df=o,Vo=null);break;case"focusout":Vo=df=ma=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,Ng(f,e,u);break;case"selectionchange":if(t5)break;case"keydown":case"keyup":Ng(f,e,u)}var B;if($p)e:{switch(r){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else pa?vv(r,e)&&(A="onCompositionEnd"):r==="keydown"&&e.keyCode===229&&(A="onCompositionStart");A&&(yv&&e.locale!=="ko"&&(pa||A!=="onCompositionStart"?A==="onCompositionEnd"&&pa&&(B=bv()):(Ki=u,Vp="value"in Ki?Ki.value:Ki.textContent,pa=!0)),V=lu(o,A),0<V.length&&(A=new gg(A,r,null,e,u),f.push({event:A,listeners:V}),B?A.data=B:(B=xv(e),B!==null&&(A.data=B)))),(B=$3?H3(r,e):q3(r,e))&&(o=lu(o,"onBeforeInput"),0<o.length&&(u=new gg("onBeforeInput","beforeinput",null,e,u),f.push({event:u,listeners:o}),u.data=B))}Rv(f,t)})}function ol(r,t,e){return{instance:r,listener:t,currentTarget:e}}function lu(r,t){for(var e=t+"Capture",n=[];r!==null;){var i=r,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=el(r,e),s!=null&&n.unshift(ol(r,s,i)),s=el(r,t),s!=null&&n.push(ol(r,s,i))),r=r.return}return n}function oa(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function jg(r,t,e,n,i){for(var s=t._reactName,a=[];e!==null&&e!==n;){var c=e,l=c.alternate,o=c.stateNode;if(l!==null&&l===n)break;c.tag===5&&o!==null&&(c=o,i?(l=el(e,s),l!=null&&a.unshift(ol(e,l,c))):i||(l=el(e,s),l!=null&&a.push(ol(e,l,c)))),e=e.return}a.length!==0&&r.push({event:t,listeners:a})}var s5=/\r\n?/g,a5=/\u0000|\uFFFD/g;function Cg(r){return(typeof r=="string"?r:""+r).replace(s5,`
`).replace(a5,"")}function gc(r,t,e){if(t=Cg(t),Cg(r)!==t&&e)throw Error(je(425))}function cu(){}var ff=null,pf=null;function mf(r,t){return r==="textarea"||r==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gf=typeof setTimeout=="function"?setTimeout:void 0,o5=typeof clearTimeout=="function"?clearTimeout:void 0,Ag=typeof Promise=="function"?Promise:void 0,l5=typeof queueMicrotask=="function"?queueMicrotask:typeof Ag<"u"?function(r){return Ag.resolve(null).then(r).catch(c5)}:gf;function c5(r){setTimeout(function(){throw r})}function ch(r,t){var e=t,n=0;do{var i=e.nextSibling;if(r.removeChild(e),i&&i.nodeType===8)if(e=i.data,e==="/$"){if(n===0){r.removeChild(i),nl(t);return}n--}else e!=="$"&&e!=="$?"&&e!=="$!"||n++;e=i}while(e);nl(t)}function rs(r){for(;r!=null;r=r.nextSibling){var t=r.nodeType;if(t===1||t===3)break;if(t===8){if(t=r.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return r}function Ig(r){r=r.previousSibling;for(var t=0;r;){if(r.nodeType===8){var e=r.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return r;t--}else e==="/$"&&t++}r=r.previousSibling}return null}var Ya=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Ya,ll="__reactProps$"+Ya,vi="__reactContainer$"+Ya,bf="__reactEvents$"+Ya,u5="__reactListeners$"+Ya,d5="__reactHandles$"+Ya;function As(r){var t=r[Kn];if(t)return t;for(var e=r.parentNode;e;){if(t=e[vi]||e[Kn]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(r=Ig(r);r!==null;){if(e=r[Kn])return e;r=Ig(r)}return t}r=e,e=r.parentNode}return null}function Rl(r){return r=r[Kn]||r[vi],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ba(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(je(33))}function rd(r){return r[ll]||null}var yf=[],ya=-1;function ys(r){return{current:r}}function Xt(r){0>ya||(r.current=yf[ya],yf[ya]=null,ya--)}function Wt(r,t){ya++,yf[ya]=r.current,r.current=t}var fs={},Ur=ys(fs),nn=ys(!1),Fs=fs;function Da(r,t){var e=r.type.contextTypes;if(!e)return fs;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in e)i[s]=t[s];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=i),i}function sn(r){return r=r.childContextTypes,r!=null}function uu(){Xt(nn),Xt(Ur)}function Rg(r,t,e){if(Ur.current!==fs)throw Error(je(168));Wt(Ur,t),Wt(nn,e)}function Mv(r,t,e){var n=r.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return e;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(je(108,X_(r)||"Unknown",i));return tr({},e,n)}function du(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||fs,Fs=Ur.current,Wt(Ur,r),Wt(nn,nn.current),!0}function Pg(r,t,e){var n=r.stateNode;if(!n)throw Error(je(169));e?(r=Mv(r,t,Fs),n.__reactInternalMemoizedMergedChildContext=r,Xt(nn),Xt(Ur),Wt(Ur,r)):Xt(nn),Wt(nn,e)}var ci=null,nd=!1,uh=!1;function Ov(r){ci===null?ci=[r]:ci.push(r)}function h5(r){nd=!0,Ov(r)}function vs(){if(!uh&&ci!==null){uh=!0;var r=0,t=zt;try{var e=ci;for(zt=1;r<e.length;r++){var n=e[r];do n=n(!0);while(n!==null)}ci=null,nd=!1}catch(i){throw ci!==null&&(ci=ci.slice(r+1)),av(Dp,vs),i}finally{zt=t,uh=!1}}return null}var va=[],xa=0,hu=null,fu=0,xn=[],wn=0,Bs=null,ui=1,di="";function Ts(r,t){va[xa++]=fu,va[xa++]=hu,hu=r,fu=t}function Dv(r,t,e){xn[wn++]=ui,xn[wn++]=di,xn[wn++]=Bs,Bs=r;var n=ui;r=di;var i=32-Dn(n)-1;n&=~(1<<i),e+=1;var s=32-Dn(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,ui=1<<32-Dn(t)+i|e<<i|n,di=s+r}else ui=1<<s|e<<i|n,di=r}function qp(r){r.return!==null&&(Ts(r,1),Dv(r,1,0))}function Wp(r){for(;r===hu;)hu=va[--xa],va[xa]=null,fu=va[--xa],va[xa]=null;for(;r===Bs;)Bs=xn[--wn],xn[wn]=null,di=xn[--wn],xn[wn]=null,ui=xn[--wn],xn[wn]=null}var pn=null,hn=null,Qt=!1,On=null;function Lv(r,t){var e=_n(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=r,t=r.deletions,t===null?(r.deletions=[e],r.flags|=16):t.push(e)}function Mg(r,t){switch(r.tag){case 5:var e=r.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(r.stateNode=t,pn=r,hn=rs(t.firstChild),!0):!1;case 6:return t=r.pendingProps===""||t.nodeType!==3?null:t,t!==null?(r.stateNode=t,pn=r,hn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=Bs!==null?{id:ui,overflow:di}:null,r.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=_n(18,null,null,0),e.stateNode=t,e.return=r,r.child=e,pn=r,hn=null,!0):!1;default:return!1}}function vf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function xf(r){if(Qt){var t=hn;if(t){var e=t;if(!Mg(r,t)){if(vf(r))throw Error(je(418));t=rs(e.nextSibling);var n=pn;t&&Mg(r,t)?Lv(n,e):(r.flags=r.flags&-4097|2,Qt=!1,pn=r)}}else{if(vf(r))throw Error(je(418));r.flags=r.flags&-4097|2,Qt=!1,pn=r}}}function Og(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;pn=r}function bc(r){if(r!==pn)return!1;if(!Qt)return Og(r),Qt=!0,!1;var t;if((t=r.tag!==3)&&!(t=r.tag!==5)&&(t=r.type,t=t!=="head"&&t!=="body"&&!mf(r.type,r.memoizedProps)),t&&(t=hn)){if(vf(r))throw Fv(),Error(je(418));for(;t;)Lv(r,t),t=rs(t.nextSibling)}if(Og(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(je(317));e:{for(r=r.nextSibling,t=0;r;){if(r.nodeType===8){var e=r.data;if(e==="/$"){if(t===0){hn=rs(r.nextSibling);break e}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}r=r.nextSibling}hn=null}}else hn=pn?rs(r.stateNode.nextSibling):null;return!0}function Fv(){for(var r=hn;r;)r=rs(r.nextSibling)}function La(){hn=pn=null,Qt=!1}function Gp(r){On===null?On=[r]:On.push(r)}var f5=Ci.ReactCurrentBatchConfig;function bo(r,t,e){if(r=e.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(je(309));var n=e.stateNode}if(!n)throw Error(je(147,r));var i=n,s=""+r;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var c=i.refs;a===null?delete c[s]:c[s]=a},t._stringRef=s,t)}if(typeof r!="string")throw Error(je(284));if(!e._owner)throw Error(je(290,r))}return r}function yc(r,t){throw r=Object.prototype.toString.call(t),Error(je(31,r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r))}function Dg(r){var t=r._init;return t(r._payload)}function Bv(r){function t(v,y){if(r){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function e(v,y){if(!r)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=as(v,y),v.index=0,v.sibling=null,v}function s(v,y,w){return v.index=w,r?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function a(v){return r&&v.alternate===null&&(v.flags|=2),v}function c(v,y,w,T){return y===null||y.tag!==6?(y=bh(w,v.mode,T),y.return=v,y):(y=i(y,w),y.return=v,y)}function l(v,y,w,T){var I=w.type;return I===fa?u(v,y,w.props.children,T,w.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Vi&&Dg(I)===y.type)?(T=i(y,w.props),T.ref=bo(v,y,w),T.return=v,T):(T=Uc(w.type,w.key,w.props,null,v.mode,T),T.ref=bo(v,y,w),T.return=v,T)}function o(v,y,w,T){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=yh(w,v.mode,T),y.return=v,y):(y=i(y,w.children||[]),y.return=v,y)}function u(v,y,w,T,I){return y===null||y.tag!==7?(y=Ds(w,v.mode,T,I),y.return=v,y):(y=i(y,w),y.return=v,y)}function f(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=bh(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case oc:return w=Uc(y.type,y.key,y.props,null,v.mode,w),w.ref=bo(v,null,y),w.return=v,w;case ha:return y=yh(y,v.mode,w),y.return=v,y;case Vi:var T=y._init;return f(v,T(y._payload),w)}if(To(y)||ho(y))return y=Ds(y,v.mode,w,null),y.return=v,y;yc(v,y)}return null}function d(v,y,w,T){var I=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return I!==null?null:c(v,y,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case oc:return w.key===I?l(v,y,w,T):null;case ha:return w.key===I?o(v,y,w,T):null;case Vi:return I=w._init,d(v,y,I(w._payload),T)}if(To(w)||ho(w))return I!==null?null:u(v,y,w,T,null);yc(v,w)}return null}function h(v,y,w,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(w)||null,c(y,v,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case oc:return v=v.get(T.key===null?w:T.key)||null,l(y,v,T,I);case ha:return v=v.get(T.key===null?w:T.key)||null,o(y,v,T,I);case Vi:var V=T._init;return h(v,y,w,V(T._payload),I)}if(To(T)||ho(T))return v=v.get(w)||null,u(y,v,T,I,null);yc(y,T)}return null}function g(v,y,w,T){for(var I=null,V=null,B=y,A=y=0,M=null;B!==null&&A<w.length;A++){B.index>A?(M=B,B=null):M=B.sibling;var F=d(v,B,w[A],T);if(F===null){B===null&&(B=M);break}r&&B&&F.alternate===null&&t(v,B),y=s(F,y,A),V===null?I=F:V.sibling=F,V=F,B=M}if(A===w.length)return e(v,B),Qt&&Ts(v,A),I;if(B===null){for(;A<w.length;A++)B=f(v,w[A],T),B!==null&&(y=s(B,y,A),V===null?I=B:V.sibling=B,V=B);return Qt&&Ts(v,A),I}for(B=n(v,B);A<w.length;A++)M=h(B,v,A,w[A],T),M!==null&&(r&&M.alternate!==null&&B.delete(M.key===null?A:M.key),y=s(M,y,A),V===null?I=M:V.sibling=M,V=M);return r&&B.forEach(function($){return t(v,$)}),Qt&&Ts(v,A),I}function b(v,y,w,T){var I=ho(w);if(typeof I!="function")throw Error(je(150));if(w=I.call(w),w==null)throw Error(je(151));for(var V=I=null,B=y,A=y=0,M=null,F=w.next();B!==null&&!F.done;A++,F=w.next()){B.index>A?(M=B,B=null):M=B.sibling;var $=d(v,B,F.value,T);if($===null){B===null&&(B=M);break}r&&B&&$.alternate===null&&t(v,B),y=s($,y,A),V===null?I=$:V.sibling=$,V=$,B=M}if(F.done)return e(v,B),Qt&&Ts(v,A),I;if(B===null){for(;!F.done;A++,F=w.next())F=f(v,F.value,T),F!==null&&(y=s(F,y,A),V===null?I=F:V.sibling=F,V=F);return Qt&&Ts(v,A),I}for(B=n(v,B);!F.done;A++,F=w.next())F=h(B,v,A,F.value,T),F!==null&&(r&&F.alternate!==null&&B.delete(F.key===null?A:F.key),y=s(F,y,A),V===null?I=F:V.sibling=F,V=F);return r&&B.forEach(function(U){return t(v,U)}),Qt&&Ts(v,A),I}function m(v,y,w,T){if(typeof w=="object"&&w!==null&&w.type===fa&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case oc:e:{for(var I=w.key,V=y;V!==null;){if(V.key===I){if(I=w.type,I===fa){if(V.tag===7){e(v,V.sibling),y=i(V,w.props.children),y.return=v,v=y;break e}}else if(V.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Vi&&Dg(I)===V.type){e(v,V.sibling),y=i(V,w.props),y.ref=bo(v,V,w),y.return=v,v=y;break e}e(v,V);break}else t(v,V);V=V.sibling}w.type===fa?(y=Ds(w.props.children,v.mode,T,w.key),y.return=v,v=y):(T=Uc(w.type,w.key,w.props,null,v.mode,T),T.ref=bo(v,y,w),T.return=v,v=T)}return a(v);case ha:e:{for(V=w.key;y!==null;){if(y.key===V)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){e(v,y.sibling),y=i(y,w.children||[]),y.return=v,v=y;break e}else{e(v,y);break}else t(v,y);y=y.sibling}y=yh(w,v.mode,T),y.return=v,v=y}return a(v);case Vi:return V=w._init,m(v,y,V(w._payload),T)}if(To(w))return g(v,y,w,T);if(ho(w))return b(v,y,w,T);yc(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(e(v,y.sibling),y=i(y,w),y.return=v,v=y):(e(v,y),y=bh(w,v.mode,T),y.return=v,v=y),a(v)):e(v,y)}return m}var Fa=Bv(!0),Vv=Bv(!1),pu=ys(null),mu=null,wa=null,Kp=null;function Xp(){Kp=wa=mu=null}function Qp(r){var t=pu.current;Xt(pu),r._currentValue=t}function wf(r,t,e){for(;r!==null;){var n=r.alternate;if((r.childLanes&t)!==t?(r.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),r===e)break;r=r.return}}function Ca(r,t){mu=r,Kp=wa=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&t&&(rn=!0),r.firstContext=null)}function Tn(r){var t=r._currentValue;if(Kp!==r)if(r={context:r,memoizedValue:t,next:null},wa===null){if(mu===null)throw Error(je(308));wa=r,mu.dependencies={lanes:0,firstContext:r}}else wa=wa.next=r;return t}var Is=null;function Yp(r){Is===null?Is=[r]:Is.push(r)}function zv(r,t,e,n){var i=t.interleaved;return i===null?(e.next=e,Yp(t)):(e.next=i.next,i.next=e),t.interleaved=e,xi(r,n)}function xi(r,t){r.lanes|=t;var e=r.alternate;for(e!==null&&(e.lanes|=t),e=r,r=r.return;r!==null;)r.childLanes|=t,e=r.alternate,e!==null&&(e.childLanes|=t),e=r,r=r.return;return e.tag===3?e.stateNode:null}var zi=!1;function Zp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uv(r,t){r=r.updateQueue,t.updateQueue===r&&(t.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function mi(r,t){return{eventTime:r,lane:t,tag:0,payload:null,callback:null,next:null}}function ns(r,t,e){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,Mt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,xi(r,e)}return i=n.interleaved,i===null?(t.next=t,Yp(n)):(t.next=i.next,i.next=t),n.interleaved=t,xi(r,e)}function Dc(r,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var n=t.lanes;n&=r.pendingLanes,e|=n,t.lanes=e,Lp(r,e)}}function Lg(r,t){var e=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,e===n)){var i=null,s=null;if(e=e.firstBaseUpdate,e!==null){do{var a={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};s===null?i=s=a:s=s.next=a,e=e.next}while(e!==null);s===null?i=s=t:s=s.next=t}else i=s=t;e={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},r.updateQueue=e;return}r=e.lastBaseUpdate,r===null?e.firstBaseUpdate=t:r.next=t,e.lastBaseUpdate=t}function gu(r,t,e,n){var i=r.updateQueue;zi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var l=c,o=l.next;l.next=null,a===null?s=o:a.next=o,a=l;var u=r.alternate;u!==null&&(u=u.updateQueue,c=u.lastBaseUpdate,c!==a&&(c===null?u.firstBaseUpdate=o:c.next=o,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,u=o=l=null,c=s;do{var d=c.lane,h=c.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var g=r,b=c;switch(d=t,h=e,b.tag){case 1:if(g=b.payload,typeof g=="function"){f=g.call(h,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,d=typeof g=="function"?g.call(h,f,d):g,d==null)break e;f=tr({},f,d);break e;case 2:zi=!0}}c.callback!==null&&c.lane!==0&&(r.flags|=64,d=i.effects,d===null?i.effects=[c]:d.push(c))}else h={eventTime:h,lane:d,tag:c.tag,payload:c.payload,callback:c.callback,next:null},u===null?(o=u=h,l=f):u=u.next=h,a|=d;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;d=c,c=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=o,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);zs|=a,r.lanes=a,r.memoizedState=f}}function Fg(r,t,e){if(r=t.effects,t.effects=null,r!==null)for(t=0;t<r.length;t++){var n=r[t],i=n.callback;if(i!==null){if(n.callback=null,n=e,typeof i!="function")throw Error(je(191,i));i.call(n)}}}var Pl={},Yn=ys(Pl),cl=ys(Pl),ul=ys(Pl);function Rs(r){if(r===Pl)throw Error(je(174));return r}function Jp(r,t){switch(Wt(ul,t),Wt(cl,r),Wt(Yn,Pl),r=t.nodeType,r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ef(null,"");break;default:r=r===8?t.parentNode:t,t=r.namespaceURI||null,r=r.tagName,t=ef(t,r)}Xt(Yn),Wt(Yn,t)}function Ba(){Xt(Yn),Xt(cl),Xt(ul)}function $v(r){Rs(ul.current);var t=Rs(Yn.current),e=ef(t,r.type);t!==e&&(Wt(cl,r),Wt(Yn,e))}function em(r){cl.current===r&&(Xt(Yn),Xt(cl))}var Jt=ys(0);function bu(r){for(var t=r;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dh=[];function tm(){for(var r=0;r<dh.length;r++)dh[r]._workInProgressVersionPrimary=null;dh.length=0}var Lc=Ci.ReactCurrentDispatcher,hh=Ci.ReactCurrentBatchConfig,Vs=0,er=null,mr=null,xr=null,yu=!1,zo=!1,dl=0,p5=0;function Or(){throw Error(je(321))}function rm(r,t){if(t===null)return!1;for(var e=0;e<t.length&&e<r.length;e++)if(!Fn(r[e],t[e]))return!1;return!0}function nm(r,t,e,n,i,s){if(Vs=s,er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Lc.current=r===null||r.memoizedState===null?y5:v5,r=e(n,i),zo){s=0;do{if(zo=!1,dl=0,25<=s)throw Error(je(301));s+=1,xr=mr=null,t.updateQueue=null,Lc.current=x5,r=e(n,i)}while(zo)}if(Lc.current=vu,t=mr!==null&&mr.next!==null,Vs=0,xr=mr=er=null,yu=!1,t)throw Error(je(300));return r}function im(){var r=dl!==0;return dl=0,r}function Gn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xr===null?er.memoizedState=xr=r:xr=xr.next=r,xr}function jn(){if(mr===null){var r=er.alternate;r=r!==null?r.memoizedState:null}else r=mr.next;var t=xr===null?er.memoizedState:xr.next;if(t!==null)xr=t,mr=r;else{if(r===null)throw Error(je(310));mr=r,r={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},xr===null?er.memoizedState=xr=r:xr=xr.next=r}return xr}function hl(r,t){return typeof t=="function"?t(r):t}function fh(r){var t=jn(),e=t.queue;if(e===null)throw Error(je(311));e.lastRenderedReducer=r;var n=mr,i=n.baseQueue,s=e.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,e.pending=null}if(i!==null){s=i.next,n=n.baseState;var c=a=null,l=null,o=s;do{var u=o.lane;if((Vs&u)===u)l!==null&&(l=l.next={lane:0,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null}),n=o.hasEagerState?o.eagerState:r(n,o.action);else{var f={lane:u,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null};l===null?(c=l=f,a=n):l=l.next=f,er.lanes|=u,zs|=u}o=o.next}while(o!==null&&o!==s);l===null?a=n:l.next=c,Fn(n,t.memoizedState)||(rn=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,e.lastRenderedState=n}if(r=e.interleaved,r!==null){i=r;do s=i.lane,er.lanes|=s,zs|=s,i=i.next;while(i!==r)}else i===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function ph(r){var t=jn(),e=t.queue;if(e===null)throw Error(je(311));e.lastRenderedReducer=r;var n=e.dispatch,i=e.pending,s=t.memoizedState;if(i!==null){e.pending=null;var a=i=i.next;do s=r(s,a.action),a=a.next;while(a!==i);Fn(s,t.memoizedState)||(rn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),e.lastRenderedState=s}return[s,n]}function Hv(){}function qv(r,t){var e=er,n=jn(),i=t(),s=!Fn(n.memoizedState,i);if(s&&(n.memoizedState=i,rn=!0),n=n.queue,sm(Kv.bind(null,e,n,r),[r]),n.getSnapshot!==t||s||xr!==null&&xr.memoizedState.tag&1){if(e.flags|=2048,fl(9,Gv.bind(null,e,n,i,t),void 0,null),wr===null)throw Error(je(349));Vs&30||Wv(e,t,i)}return i}function Wv(r,t,e){r.flags|=16384,r={getSnapshot:t,value:e},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.stores=[r]):(e=t.stores,e===null?t.stores=[r]:e.push(r))}function Gv(r,t,e,n){t.value=e,t.getSnapshot=n,Xv(t)&&Qv(r)}function Kv(r,t,e){return e(function(){Xv(t)&&Qv(r)})}function Xv(r){var t=r.getSnapshot;r=r.value;try{var e=t();return!Fn(r,e)}catch{return!0}}function Qv(r){var t=xi(r,1);t!==null&&Ln(t,r,1,-1)}function Bg(r){var t=Gn();return typeof r=="function"&&(r=r()),t.memoizedState=t.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:r},t.queue=r,r=r.dispatch=b5.bind(null,er,r),[t.memoizedState,r]}function fl(r,t,e,n){return r={tag:r,create:t,destroy:e,deps:n,next:null},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.lastEffect=r.next=r):(e=t.lastEffect,e===null?t.lastEffect=r.next=r:(n=e.next,e.next=r,r.next=n,t.lastEffect=r)),r}function Yv(){return jn().memoizedState}function Fc(r,t,e,n){var i=Gn();er.flags|=r,i.memoizedState=fl(1|t,e,void 0,n===void 0?null:n)}function id(r,t,e,n){var i=jn();n=n===void 0?null:n;var s=void 0;if(mr!==null){var a=mr.memoizedState;if(s=a.destroy,n!==null&&rm(n,a.deps)){i.memoizedState=fl(t,e,s,n);return}}er.flags|=r,i.memoizedState=fl(1|t,e,s,n)}function Vg(r,t){return Fc(8390656,8,r,t)}function sm(r,t){return id(2048,8,r,t)}function Zv(r,t){return id(4,2,r,t)}function Jv(r,t){return id(4,4,r,t)}function e2(r,t){if(typeof t=="function")return r=r(),t(r),function(){t(null)};if(t!=null)return r=r(),t.current=r,function(){t.current=null}}function t2(r,t,e){return e=e!=null?e.concat([r]):null,id(4,4,e2.bind(null,t,r),e)}function am(){}function r2(r,t){var e=jn();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&rm(t,n[1])?n[0]:(e.memoizedState=[r,t],r)}function n2(r,t){var e=jn();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&rm(t,n[1])?n[0]:(r=r(),e.memoizedState=[r,t],r)}function i2(r,t,e){return Vs&21?(Fn(e,t)||(e=cv(),er.lanes|=e,zs|=e,r.baseState=!0),t):(r.baseState&&(r.baseState=!1,rn=!0),r.memoizedState=e)}function m5(r,t){var e=zt;zt=e!==0&&4>e?e:4,r(!0);var n=hh.transition;hh.transition={};try{r(!1),t()}finally{zt=e,hh.transition=n}}function s2(){return jn().memoizedState}function g5(r,t,e){var n=ss(r);if(e={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null},a2(r))o2(t,e);else if(e=zv(r,t,e,n),e!==null){var i=Wr();Ln(e,r,n,i),l2(e,t,n)}}function b5(r,t,e){var n=ss(r),i={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null};if(a2(r))o2(t,i);else{var s=r.alternate;if(r.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,c=s(a,e);if(i.hasEagerState=!0,i.eagerState=c,Fn(c,a)){var l=t.interleaved;l===null?(i.next=i,Yp(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}e=zv(r,t,i,n),e!==null&&(i=Wr(),Ln(e,r,n,i),l2(e,t,n))}}function a2(r){var t=r.alternate;return r===er||t!==null&&t===er}function o2(r,t){zo=yu=!0;var e=r.pending;e===null?t.next=t:(t.next=e.next,e.next=t),r.pending=t}function l2(r,t,e){if(e&4194240){var n=t.lanes;n&=r.pendingLanes,e|=n,t.lanes=e,Lp(r,e)}}var vu={readContext:Tn,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},y5={readContext:Tn,useCallback:function(r,t){return Gn().memoizedState=[r,t===void 0?null:t],r},useContext:Tn,useEffect:Vg,useImperativeHandle:function(r,t,e){return e=e!=null?e.concat([r]):null,Fc(4194308,4,e2.bind(null,t,r),e)},useLayoutEffect:function(r,t){return Fc(4194308,4,r,t)},useInsertionEffect:function(r,t){return Fc(4,2,r,t)},useMemo:function(r,t){var e=Gn();return t=t===void 0?null:t,r=r(),e.memoizedState=[r,t],r},useReducer:function(r,t,e){var n=Gn();return t=e!==void 0?e(t):t,n.memoizedState=n.baseState=t,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:t},n.queue=r,r=r.dispatch=g5.bind(null,er,r),[n.memoizedState,r]},useRef:function(r){var t=Gn();return r={current:r},t.memoizedState=r},useState:Bg,useDebugValue:am,useDeferredValue:function(r){return Gn().memoizedState=r},useTransition:function(){var r=Bg(!1),t=r[0];return r=m5.bind(null,r[1]),Gn().memoizedState=r,[t,r]},useMutableSource:function(){},useSyncExternalStore:function(r,t,e){var n=er,i=Gn();if(Qt){if(e===void 0)throw Error(je(407));e=e()}else{if(e=t(),wr===null)throw Error(je(349));Vs&30||Wv(n,t,e)}i.memoizedState=e;var s={value:e,getSnapshot:t};return i.queue=s,Vg(Kv.bind(null,n,s,r),[r]),n.flags|=2048,fl(9,Gv.bind(null,n,s,e,t),void 0,null),e},useId:function(){var r=Gn(),t=wr.identifierPrefix;if(Qt){var e=di,n=ui;e=(n&~(1<<32-Dn(n)-1)).toString(32)+e,t=":"+t+"R"+e,e=dl++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=p5++,t=":"+t+"r"+e.toString(32)+":";return r.memoizedState=t},unstable_isNewReconciler:!1},v5={readContext:Tn,useCallback:r2,useContext:Tn,useEffect:sm,useImperativeHandle:t2,useInsertionEffect:Zv,useLayoutEffect:Jv,useMemo:n2,useReducer:fh,useRef:Yv,useState:function(){return fh(hl)},useDebugValue:am,useDeferredValue:function(r){var t=jn();return i2(t,mr.memoizedState,r)},useTransition:function(){var r=fh(hl)[0],t=jn().memoizedState;return[r,t]},useMutableSource:Hv,useSyncExternalStore:qv,useId:s2,unstable_isNewReconciler:!1},x5={readContext:Tn,useCallback:r2,useContext:Tn,useEffect:sm,useImperativeHandle:t2,useInsertionEffect:Zv,useLayoutEffect:Jv,useMemo:n2,useReducer:ph,useRef:Yv,useState:function(){return ph(hl)},useDebugValue:am,useDeferredValue:function(r){var t=jn();return mr===null?t.memoizedState=r:i2(t,mr.memoizedState,r)},useTransition:function(){var r=ph(hl)[0],t=jn().memoizedState;return[r,t]},useMutableSource:Hv,useSyncExternalStore:qv,useId:s2,unstable_isNewReconciler:!1};function Pn(r,t){if(r&&r.defaultProps){t=tr({},t),r=r.defaultProps;for(var e in r)t[e]===void 0&&(t[e]=r[e]);return t}return t}function _f(r,t,e,n){t=r.memoizedState,e=e(n,t),e=e==null?t:tr({},t,e),r.memoizedState=e,r.lanes===0&&(r.updateQueue.baseState=e)}var sd={isMounted:function(r){return(r=r._reactInternals)?Zs(r)===r:!1},enqueueSetState:function(r,t,e){r=r._reactInternals;var n=Wr(),i=ss(r),s=mi(n,i);s.payload=t,e!=null&&(s.callback=e),t=ns(r,s,i),t!==null&&(Ln(t,r,i,n),Dc(t,r,i))},enqueueReplaceState:function(r,t,e){r=r._reactInternals;var n=Wr(),i=ss(r),s=mi(n,i);s.tag=1,s.payload=t,e!=null&&(s.callback=e),t=ns(r,s,i),t!==null&&(Ln(t,r,i,n),Dc(t,r,i))},enqueueForceUpdate:function(r,t){r=r._reactInternals;var e=Wr(),n=ss(r),i=mi(e,n);i.tag=2,t!=null&&(i.callback=t),t=ns(r,i,n),t!==null&&(Ln(t,r,n,e),Dc(t,r,n))}};function zg(r,t,e,n,i,s,a){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!sl(e,n)||!sl(i,s):!0}function c2(r,t,e){var n=!1,i=fs,s=t.contextType;return typeof s=="object"&&s!==null?s=Tn(s):(i=sn(t)?Fs:Ur.current,n=t.contextTypes,s=(n=n!=null)?Da(r,i):fs),t=new t(e,s),r.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sd,r.stateNode=t,t._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=s),t}function Ug(r,t,e,n){r=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,n),t.state!==r&&sd.enqueueReplaceState(t,t.state,null)}function Sf(r,t,e,n){var i=r.stateNode;i.props=e,i.state=r.memoizedState,i.refs={},Zp(r);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Tn(s):(s=sn(t)?Fs:Ur.current,i.context=Da(r,s)),i.state=r.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(_f(r,t,s,e),i.state=r.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&sd.enqueueReplaceState(i,i.state,null),gu(r,e,i,n),i.state=r.memoizedState),typeof i.componentDidMount=="function"&&(r.flags|=4194308)}function Va(r,t){try{var e="",n=t;do e+=K_(n),n=n.return;while(n);var i=e}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:r,source:t,stack:i,digest:null}}function mh(r,t,e){return{value:r,source:null,stack:e??null,digest:t??null}}function kf(r,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var w5=typeof WeakMap=="function"?WeakMap:Map;function u2(r,t,e){e=mi(-1,e),e.tag=3,e.payload={element:null};var n=t.value;return e.callback=function(){wu||(wu=!0,Mf=n),kf(r,t)},e}function d2(r,t,e){e=mi(-1,e),e.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;e.payload=function(){return n(i)},e.callback=function(){kf(r,t)}}var s=r.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){kf(r,t),typeof n!="function"&&(is===null?is=new Set([this]):is.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),e}function $g(r,t,e){var n=r.pingCache;if(n===null){n=r.pingCache=new w5;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(e)||(i.add(e),r=O5.bind(null,r,t,e),t.then(r,r))}function Hg(r){do{var t;if((t=r.tag===13)&&(t=r.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return r;r=r.return}while(r!==null);return null}function qg(r,t,e,n,i){return r.mode&1?(r.flags|=65536,r.lanes=i,r):(r===t?r.flags|=65536:(r.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=mi(-1,1),t.tag=2,ns(e,t,1))),e.lanes|=1),r)}var _5=Ci.ReactCurrentOwner,rn=!1;function qr(r,t,e,n){t.child=r===null?Vv(t,null,e,n):Fa(t,r.child,e,n)}function Wg(r,t,e,n,i){e=e.render;var s=t.ref;return Ca(t,i),n=nm(r,t,e,n,s,i),e=im(),r!==null&&!rn?(t.updateQueue=r.updateQueue,t.flags&=-2053,r.lanes&=~i,wi(r,t,i)):(Qt&&e&&qp(t),t.flags|=1,qr(r,t,n,i),t.child)}function Gg(r,t,e,n,i){if(r===null){var s=e.type;return typeof s=="function"&&!pm(s)&&s.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=s,h2(r,t,s,n,i)):(r=Uc(e.type,null,n,t,t.mode,i),r.ref=t.ref,r.return=t,t.child=r)}if(s=r.child,!(r.lanes&i)){var a=s.memoizedProps;if(e=e.compare,e=e!==null?e:sl,e(a,n)&&r.ref===t.ref)return wi(r,t,i)}return t.flags|=1,r=as(s,n),r.ref=t.ref,r.return=t,t.child=r}function h2(r,t,e,n,i){if(r!==null){var s=r.memoizedProps;if(sl(s,n)&&r.ref===t.ref)if(rn=!1,t.pendingProps=n=s,(r.lanes&i)!==0)r.flags&131072&&(rn=!0);else return t.lanes=r.lanes,wi(r,t,i)}return Nf(r,t,e,n,i)}function f2(r,t,e){var n=t.pendingProps,i=n.children,s=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Sa,dn),dn|=e;else{if(!(e&1073741824))return r=s!==null?s.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:r,cachePool:null,transitions:null},t.updateQueue=null,Wt(Sa,dn),dn|=r,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:e,Wt(Sa,dn),dn|=n}else s!==null?(n=s.baseLanes|e,t.memoizedState=null):n=e,Wt(Sa,dn),dn|=n;return qr(r,t,i,e),t.child}function p2(r,t){var e=t.ref;(r===null&&e!==null||r!==null&&r.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function Nf(r,t,e,n,i){var s=sn(e)?Fs:Ur.current;return s=Da(t,s),Ca(t,i),e=nm(r,t,e,n,s,i),n=im(),r!==null&&!rn?(t.updateQueue=r.updateQueue,t.flags&=-2053,r.lanes&=~i,wi(r,t,i)):(Qt&&n&&qp(t),t.flags|=1,qr(r,t,e,i),t.child)}function Kg(r,t,e,n,i){if(sn(e)){var s=!0;du(t)}else s=!1;if(Ca(t,i),t.stateNode===null)Bc(r,t),c2(t,e,n),Sf(t,e,n,i),n=!0;else if(r===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var l=a.context,o=e.contextType;typeof o=="object"&&o!==null?o=Tn(o):(o=sn(e)?Fs:Ur.current,o=Da(t,o));var u=e.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==n||l!==o)&&Ug(t,a,n,o),zi=!1;var d=t.memoizedState;a.state=d,gu(t,n,a,i),l=t.memoizedState,c!==n||d!==l||nn.current||zi?(typeof u=="function"&&(_f(t,e,u,n),l=t.memoizedState),(c=zi||zg(t,e,c,n,d,l,o))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=o,n=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Uv(r,t),c=t.memoizedProps,o=t.type===t.elementType?c:Pn(t.type,c),a.props=o,f=t.pendingProps,d=a.context,l=e.contextType,typeof l=="object"&&l!==null?l=Tn(l):(l=sn(e)?Fs:Ur.current,l=Da(t,l));var h=e.getDerivedStateFromProps;(u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==f||d!==l)&&Ug(t,a,n,l),zi=!1,d=t.memoizedState,a.state=d,gu(t,n,a,i);var g=t.memoizedState;c!==f||d!==g||nn.current||zi?(typeof h=="function"&&(_f(t,e,h,n),g=t.memoizedState),(o=zi||zg(t,e,o,n,d,g,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===r.memoizedProps&&d===r.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===r.memoizedProps&&d===r.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=l,n=o):(typeof a.componentDidUpdate!="function"||c===r.memoizedProps&&d===r.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===r.memoizedProps&&d===r.memoizedState||(t.flags|=1024),n=!1)}return Ef(r,t,e,n,s,i)}function Ef(r,t,e,n,i,s){p2(r,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&Pg(t,e,!1),wi(r,t,s);n=t.stateNode,_5.current=t;var c=a&&typeof e.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,r!==null&&a?(t.child=Fa(t,r.child,null,s),t.child=Fa(t,null,c,s)):qr(r,t,c,s),t.memoizedState=n.state,i&&Pg(t,e,!0),t.child}function m2(r){var t=r.stateNode;t.pendingContext?Rg(r,t.pendingContext,t.pendingContext!==t.context):t.context&&Rg(r,t.context,!1),Jp(r,t.containerInfo)}function Xg(r,t,e,n,i){return La(),Gp(i),t.flags|=256,qr(r,t,e,n),t.child}var Tf={dehydrated:null,treeContext:null,retryLane:0};function jf(r){return{baseLanes:r,cachePool:null,transitions:null}}function g2(r,t,e){var n=t.pendingProps,i=Jt.current,s=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=r!==null&&r.memoizedState===null?!1:(i&2)!==0),c?(s=!0,t.flags&=-129):(r===null||r.memoizedState!==null)&&(i|=1),Wt(Jt,i&1),r===null)return xf(t),r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(t.mode&1?r.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,r=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=ld(a,n,0,null),r=Ds(r,n,e,null),s.return=t,r.return=t,s.sibling=r,t.child=s,t.child.memoizedState=jf(e),t.memoizedState=Tf,r):om(t,a));if(i=r.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return S5(r,t,a,n,c,i,e);if(s){s=n.fallback,a=t.mode,i=r.child,c=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=as(i,l),n.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=as(c,s):(s=Ds(s,a,e,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=r.child.memoizedState,a=a===null?jf(e):{baseLanes:a.baseLanes|e,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=r.childLanes&~e,t.memoizedState=Tf,n}return s=r.child,r=s.sibling,n=as(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=e),n.return=t,n.sibling=null,r!==null&&(e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)),t.child=n,t.memoizedState=null,n}function om(r,t){return t=ld({mode:"visible",children:t},r.mode,0,null),t.return=r,r.child=t}function vc(r,t,e,n){return n!==null&&Gp(n),Fa(t,r.child,null,e),r=om(t,t.pendingProps.children),r.flags|=2,t.memoizedState=null,r}function S5(r,t,e,n,i,s,a){if(e)return t.flags&256?(t.flags&=-257,n=mh(Error(je(422))),vc(r,t,a,n)):t.memoizedState!==null?(t.child=r.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=ld({mode:"visible",children:n.children},i,0,null),s=Ds(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Fa(t,r.child,null,a),t.child.memoizedState=jf(a),t.memoizedState=Tf,s);if(!(t.mode&1))return vc(r,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var c=n.dgst;return n=c,s=Error(je(419)),n=mh(s,n,void 0),vc(r,t,a,n)}if(c=(a&r.childLanes)!==0,rn||c){if(n=wr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xi(r,i),Ln(n,r,i,-1))}return fm(),n=mh(Error(je(421))),vc(r,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=r.child,t=D5.bind(null,r),i._reactRetry=t,null):(r=s.treeContext,hn=rs(i.nextSibling),pn=t,Qt=!0,On=null,r!==null&&(xn[wn++]=ui,xn[wn++]=di,xn[wn++]=Bs,ui=r.id,di=r.overflow,Bs=t),t=om(t,n.children),t.flags|=4096,t)}function Qg(r,t,e){r.lanes|=t;var n=r.alternate;n!==null&&(n.lanes|=t),wf(r.return,t,e)}function gh(r,t,e,n,i){var s=r.memoizedState;s===null?r.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:e,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=e,s.tailMode=i)}function b2(r,t,e){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(qr(r,t,n.children,e),n=Jt.current,n&2)n=n&1|2,t.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=t.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Qg(r,e,t);else if(r.tag===19)Qg(r,e,t);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(Wt(Jt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(e=t.child,i=null;e!==null;)r=e.alternate,r!==null&&bu(r)===null&&(i=e),e=e.sibling;e=i,e===null?(i=t.child,t.child=null):(i=e.sibling,e.sibling=null),gh(t,!1,i,e,s);break;case"backwards":for(e=null,i=t.child,t.child=null;i!==null;){if(r=i.alternate,r!==null&&bu(r)===null){t.child=i;break}r=i.sibling,i.sibling=e,e=i,i=r}gh(t,!0,e,null,s);break;case"together":gh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bc(r,t){!(t.mode&1)&&r!==null&&(r.alternate=null,t.alternate=null,t.flags|=2)}function wi(r,t,e){if(r!==null&&(t.dependencies=r.dependencies),zs|=t.lanes,!(e&t.childLanes))return null;if(r!==null&&t.child!==r.child)throw Error(je(153));if(t.child!==null){for(r=t.child,e=as(r,r.pendingProps),t.child=e,e.return=t;r.sibling!==null;)r=r.sibling,e=e.sibling=as(r,r.pendingProps),e.return=t;e.sibling=null}return t.child}function k5(r,t,e){switch(t.tag){case 3:m2(t),La();break;case 5:$v(t);break;case 1:sn(t.type)&&du(t);break;case 4:Jp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Wt(pu,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Wt(Jt,Jt.current&1),t.flags|=128,null):e&t.child.childLanes?g2(r,t,e):(Wt(Jt,Jt.current&1),r=wi(r,t,e),r!==null?r.sibling:null);Wt(Jt,Jt.current&1);break;case 19:if(n=(e&t.childLanes)!==0,r.flags&128){if(n)return b2(r,t,e);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wt(Jt,Jt.current),n)break;return null;case 22:case 23:return t.lanes=0,f2(r,t,e)}return wi(r,t,e)}var y2,Cf,v2,x2;y2=function(r,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)r.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};Cf=function(){};v2=function(r,t,e,n){var i=r.memoizedProps;if(i!==n){r=t.stateNode,Rs(Yn.current);var s=null;switch(e){case"input":i=Qh(r,i),n=Qh(r,n),s=[];break;case"select":i=tr({},i,{value:void 0}),n=tr({},n,{value:void 0}),s=[];break;case"textarea":i=Jh(r,i),n=Jh(r,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=cu)}tf(e,n);var a;e=null;for(o in i)if(!n.hasOwnProperty(o)&&i.hasOwnProperty(o)&&i[o]!=null)if(o==="style"){var c=i[o];for(a in c)c.hasOwnProperty(a)&&(e||(e={}),e[a]="")}else o!=="dangerouslySetInnerHTML"&&o!=="children"&&o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Zo.hasOwnProperty(o)?s||(s=[]):(s=s||[]).push(o,null));for(o in n){var l=n[o];if(c=i!=null?i[o]:void 0,n.hasOwnProperty(o)&&l!==c&&(l!=null||c!=null))if(o==="style")if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(e||(e={}),e[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(e||(e={}),e[a]=l[a])}else e||(s||(s=[]),s.push(o,e)),e=l;else o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(s=s||[]).push(o,l)):o==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(o,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&(Zo.hasOwnProperty(o)?(l!=null&&o==="onScroll"&&Kt("scroll",r),s||c===l||(s=[])):(s=s||[]).push(o,l))}e&&(s=s||[]).push("style",e);var o=s;(t.updateQueue=o)&&(t.flags|=4)}};x2=function(r,t,e,n){e!==n&&(t.flags|=4)};function yo(r,t){if(!Qt)switch(r.tailMode){case"hidden":t=r.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?r.tail=null:e.sibling=null;break;case"collapsed":e=r.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function Dr(r){var t=r.alternate!==null&&r.alternate.child===r.child,e=0,n=0;if(t)for(var i=r.child;i!==null;)e|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=r,i=i.sibling;else for(i=r.child;i!==null;)e|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=r,i=i.sibling;return r.subtreeFlags|=n,r.childLanes=e,t}function N5(r,t,e){var n=t.pendingProps;switch(Wp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(t),null;case 1:return sn(t.type)&&uu(),Dr(t),null;case 3:return n=t.stateNode,Ba(),Xt(nn),Xt(Ur),tm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(bc(t)?t.flags|=4:r===null||r.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,On!==null&&(Lf(On),On=null))),Cf(r,t),Dr(t),null;case 5:em(t);var i=Rs(ul.current);if(e=t.type,r!==null&&t.stateNode!=null)v2(r,t,e,n,i),r.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(je(166));return Dr(t),null}if(r=Rs(Yn.current),bc(t)){n=t.stateNode,e=t.type;var s=t.memoizedProps;switch(n[Kn]=t,n[ll]=s,r=(t.mode&1)!==0,e){case"dialog":Kt("cancel",n),Kt("close",n);break;case"iframe":case"object":case"embed":Kt("load",n);break;case"video":case"audio":for(i=0;i<Co.length;i++)Kt(Co[i],n);break;case"source":Kt("error",n);break;case"img":case"image":case"link":Kt("error",n),Kt("load",n);break;case"details":Kt("toggle",n);break;case"input":sg(n,s),Kt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",n);break;case"textarea":og(n,s),Kt("invalid",n)}tf(e,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="children"?typeof c=="string"?n.textContent!==c&&(s.suppressHydrationWarning!==!0&&gc(n.textContent,c,r),i=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&gc(n.textContent,c,r),i=["children",""+c]):Zo.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Kt("scroll",n)}switch(e){case"input":lc(n),ag(n,s,!0);break;case"textarea":lc(n),lg(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=cu)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ky(e)),r==="http://www.w3.org/1999/xhtml"?e==="script"?(r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=a.createElement(e,{is:n.is}):(r=a.createElement(e),e==="select"&&(a=r,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):r=a.createElementNS(r,e),r[Kn]=t,r[ll]=n,y2(r,t,!1,!1),t.stateNode=r;e:{switch(a=rf(e,n),e){case"dialog":Kt("cancel",r),Kt("close",r),i=n;break;case"iframe":case"object":case"embed":Kt("load",r),i=n;break;case"video":case"audio":for(i=0;i<Co.length;i++)Kt(Co[i],r);i=n;break;case"source":Kt("error",r),i=n;break;case"img":case"image":case"link":Kt("error",r),Kt("load",r),i=n;break;case"details":Kt("toggle",r),i=n;break;case"input":sg(r,n),i=Qh(r,n),Kt("invalid",r);break;case"option":i=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},i=tr({},n,{value:void 0}),Kt("invalid",r);break;case"textarea":og(r,n),i=Jh(r,n),Kt("invalid",r);break;default:i=n}tf(e,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var l=c[s];s==="style"?Yy(r,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Xy(r,l)):s==="children"?typeof l=="string"?(e!=="textarea"||l!=="")&&Jo(r,l):typeof l=="number"&&Jo(r,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Kt("scroll",r):l!=null&&Ip(r,s,l,a))}switch(e){case"input":lc(r),ag(r,n,!1);break;case"textarea":lc(r),lg(r);break;case"option":n.value!=null&&r.setAttribute("value",""+hs(n.value));break;case"select":r.multiple=!!n.multiple,s=n.value,s!=null?Na(r,!!n.multiple,s,!1):n.defaultValue!=null&&Na(r,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(r.onclick=cu)}switch(e){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dr(t),null;case 6:if(r&&t.stateNode!=null)x2(r,t,r.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(je(166));if(e=Rs(ul.current),Rs(Yn.current),bc(t)){if(n=t.stateNode,e=t.memoizedProps,n[Kn]=t,(s=n.nodeValue!==e)&&(r=pn,r!==null))switch(r.tag){case 3:gc(n.nodeValue,e,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&gc(n.nodeValue,e,(r.mode&1)!==0)}s&&(t.flags|=4)}else n=(e.nodeType===9?e:e.ownerDocument).createTextNode(n),n[Kn]=t,t.stateNode=n}return Dr(t),null;case 13:if(Xt(Jt),n=t.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Qt&&hn!==null&&t.mode&1&&!(t.flags&128))Fv(),La(),t.flags|=98560,s=!1;else if(s=bc(t),n!==null&&n.dehydrated!==null){if(r===null){if(!s)throw Error(je(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(je(317));s[Kn]=t}else La(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dr(t),s=!1}else On!==null&&(Lf(On),On=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(r===null||Jt.current&1?br===0&&(br=3):fm())),t.updateQueue!==null&&(t.flags|=4),Dr(t),null);case 4:return Ba(),Cf(r,t),r===null&&al(t.stateNode.containerInfo),Dr(t),null;case 10:return Qp(t.type._context),Dr(t),null;case 17:return sn(t.type)&&uu(),Dr(t),null;case 19:if(Xt(Jt),s=t.memoizedState,s===null)return Dr(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)yo(s,!1);else{if(br!==0||r!==null&&r.flags&128)for(r=t.child;r!==null;){if(a=bu(r),a!==null){for(t.flags|=128,yo(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=e,e=t.child;e!==null;)s=e,r=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,r=a.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e=e.sibling;return Wt(Jt,Jt.current&1|2),t.child}r=r.sibling}s.tail!==null&&lr()>za&&(t.flags|=128,n=!0,yo(s,!1),t.lanes=4194304)}else{if(!n)if(r=bu(a),r!==null){if(t.flags|=128,n=!0,e=r.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),yo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Qt)return Dr(t),null}else 2*lr()-s.renderingStartTime>za&&e!==1073741824&&(t.flags|=128,n=!0,yo(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(e=s.last,e!==null?e.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=lr(),t.sibling=null,e=Jt.current,Wt(Jt,n?e&1|2:e&1),t):(Dr(t),null);case 22:case 23:return hm(),n=t.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?dn&1073741824&&(Dr(t),t.subtreeFlags&6&&(t.flags|=8192)):Dr(t),null;case 24:return null;case 25:return null}throw Error(je(156,t.tag))}function E5(r,t){switch(Wp(t),t.tag){case 1:return sn(t.type)&&uu(),r=t.flags,r&65536?(t.flags=r&-65537|128,t):null;case 3:return Ba(),Xt(nn),Xt(Ur),tm(),r=t.flags,r&65536&&!(r&128)?(t.flags=r&-65537|128,t):null;case 5:return em(t),null;case 13:if(Xt(Jt),r=t.memoizedState,r!==null&&r.dehydrated!==null){if(t.alternate===null)throw Error(je(340));La()}return r=t.flags,r&65536?(t.flags=r&-65537|128,t):null;case 19:return Xt(Jt),null;case 4:return Ba(),null;case 10:return Qp(t.type._context),null;case 22:case 23:return hm(),null;case 24:return null;default:return null}}var xc=!1,Br=!1,T5=typeof WeakSet=="function"?WeakSet:Set,Be=null;function _a(r,t){var e=r.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){ar(r,t,n)}else e.current=null}function Af(r,t,e){try{e()}catch(n){ar(r,t,n)}}var Yg=!1;function j5(r,t){if(ff=au,r=Nv(),Hp(r)){if("selectionStart"in r)var e={start:r.selectionStart,end:r.selectionEnd};else e:{e=(e=r.ownerDocument)&&e.defaultView||window;var n=e.getSelection&&e.getSelection();if(n&&n.rangeCount!==0){e=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{e.nodeType,s.nodeType}catch{e=null;break e}var a=0,c=-1,l=-1,o=0,u=0,f=r,d=null;t:for(;;){for(var h;f!==e||i!==0&&f.nodeType!==3||(c=a+i),f!==s||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===r)break t;if(d===e&&++o===i&&(c=a),d===s&&++u===n&&(l=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}e=c===-1||l===-1?null:{start:c,end:l}}else e=null}e=e||{start:0,end:0}}else e=null;for(pf={focusedElem:r,selectionRange:e},au=!1,Be=t;Be!==null;)if(t=Be,r=t.child,(t.subtreeFlags&1028)!==0&&r!==null)r.return=t,Be=r;else for(;Be!==null;){t=Be;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,m=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?b:Pn(t.type,b),m);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(T){ar(t,t.return,T)}if(r=t.sibling,r!==null){r.return=t.return,Be=r;break}Be=t.return}return g=Yg,Yg=!1,g}function Uo(r,t,e){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&r)===r){var s=i.destroy;i.destroy=void 0,s!==void 0&&Af(t,e,s)}i=i.next}while(i!==n)}}function ad(r,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&r)===r){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}}function If(r){var t=r.ref;if(t!==null){var e=r.stateNode;switch(r.tag){case 5:r=e;break;default:r=e}typeof t=="function"?t(r):t.current=r}}function w2(r){var t=r.alternate;t!==null&&(r.alternate=null,w2(t)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(t=r.stateNode,t!==null&&(delete t[Kn],delete t[ll],delete t[bf],delete t[u5],delete t[d5])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function _2(r){return r.tag===5||r.tag===3||r.tag===4}function Zg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_2(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Rf(r,t,e){var n=r.tag;if(n===5||n===6)r=r.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(r,t):e.insertBefore(r,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(r,e)):(t=e,t.appendChild(r)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=cu));else if(n!==4&&(r=r.child,r!==null))for(Rf(r,t,e),r=r.sibling;r!==null;)Rf(r,t,e),r=r.sibling}function Pf(r,t,e){var n=r.tag;if(n===5||n===6)r=r.stateNode,t?e.insertBefore(r,t):e.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(Pf(r,t,e),r=r.sibling;r!==null;)Pf(r,t,e),r=r.sibling}var Nr=null,Mn=!1;function Fi(r,t,e){for(e=e.child;e!==null;)S2(r,t,e),e=e.sibling}function S2(r,t,e){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Zu,e)}catch{}switch(e.tag){case 5:Br||_a(e,t);case 6:var n=Nr,i=Mn;Nr=null,Fi(r,t,e),Nr=n,Mn=i,Nr!==null&&(Mn?(r=Nr,e=e.stateNode,r.nodeType===8?r.parentNode.removeChild(e):r.removeChild(e)):Nr.removeChild(e.stateNode));break;case 18:Nr!==null&&(Mn?(r=Nr,e=e.stateNode,r.nodeType===8?ch(r.parentNode,e):r.nodeType===1&&ch(r,e),nl(r)):ch(Nr,e.stateNode));break;case 4:n=Nr,i=Mn,Nr=e.stateNode.containerInfo,Mn=!0,Fi(r,t,e),Nr=n,Mn=i;break;case 0:case 11:case 14:case 15:if(!Br&&(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Af(e,t,a),i=i.next}while(i!==n)}Fi(r,t,e);break;case 1:if(!Br&&(_a(e,t),n=e.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(c){ar(e,t,c)}Fi(r,t,e);break;case 21:Fi(r,t,e);break;case 22:e.mode&1?(Br=(n=Br)||e.memoizedState!==null,Fi(r,t,e),Br=n):Fi(r,t,e);break;default:Fi(r,t,e)}}function Jg(r){var t=r.updateQueue;if(t!==null){r.updateQueue=null;var e=r.stateNode;e===null&&(e=r.stateNode=new T5),t.forEach(function(n){var i=L5.bind(null,r,n);e.has(n)||(e.add(n),n.then(i,i))})}}function Rn(r,t){var e=t.deletions;if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];try{var s=r,a=t,c=a;e:for(;c!==null;){switch(c.tag){case 5:Nr=c.stateNode,Mn=!1;break e;case 3:Nr=c.stateNode.containerInfo,Mn=!0;break e;case 4:Nr=c.stateNode.containerInfo,Mn=!0;break e}c=c.return}if(Nr===null)throw Error(je(160));S2(s,a,i),Nr=null,Mn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(o){ar(i,t,o)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)k2(t,r),t=t.sibling}function k2(r,t){var e=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Rn(t,r),Wn(r),n&4){try{Uo(3,r,r.return),ad(3,r)}catch(b){ar(r,r.return,b)}try{Uo(5,r,r.return)}catch(b){ar(r,r.return,b)}}break;case 1:Rn(t,r),Wn(r),n&512&&e!==null&&_a(e,e.return);break;case 5:if(Rn(t,r),Wn(r),n&512&&e!==null&&_a(e,e.return),r.flags&32){var i=r.stateNode;try{Jo(i,"")}catch(b){ar(r,r.return,b)}}if(n&4&&(i=r.stateNode,i!=null)){var s=r.memoizedProps,a=e!==null?e.memoizedProps:s,c=r.type,l=r.updateQueue;if(r.updateQueue=null,l!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&Wy(i,s),rf(c,a);var o=rf(c,s);for(a=0;a<l.length;a+=2){var u=l[a],f=l[a+1];u==="style"?Yy(i,f):u==="dangerouslySetInnerHTML"?Xy(i,f):u==="children"?Jo(i,f):Ip(i,u,f,o)}switch(c){case"input":Yh(i,s);break;case"textarea":Gy(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Na(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?Na(i,!!s.multiple,s.defaultValue,!0):Na(i,!!s.multiple,s.multiple?[]:"",!1))}i[ll]=s}catch(b){ar(r,r.return,b)}}break;case 6:if(Rn(t,r),Wn(r),n&4){if(r.stateNode===null)throw Error(je(162));i=r.stateNode,s=r.memoizedProps;try{i.nodeValue=s}catch(b){ar(r,r.return,b)}}break;case 3:if(Rn(t,r),Wn(r),n&4&&e!==null&&e.memoizedState.isDehydrated)try{nl(t.containerInfo)}catch(b){ar(r,r.return,b)}break;case 4:Rn(t,r),Wn(r);break;case 13:Rn(t,r),Wn(r),i=r.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(um=lr())),n&4&&Jg(r);break;case 22:if(u=e!==null&&e.memoizedState!==null,r.mode&1?(Br=(o=Br)||u,Rn(t,r),Br=o):Rn(t,r),Wn(r),n&8192){if(o=r.memoizedState!==null,(r.stateNode.isHidden=o)&&!u&&r.mode&1)for(Be=r,u=r.child;u!==null;){for(f=Be=u;Be!==null;){switch(d=Be,h=d.child,d.tag){case 0:case 11:case 14:case 15:Uo(4,d,d.return);break;case 1:_a(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){n=d,e=d.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(b){ar(n,e,b)}}break;case 5:_a(d,d.return);break;case 22:if(d.memoizedState!==null){tb(f);continue}}h!==null?(h.return=d,Be=h):tb(f)}u=u.sibling}e:for(u=null,f=r;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,o?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=Qy("display",a))}catch(b){ar(r,r.return,b)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=o?"":f.memoizedProps}catch(b){ar(r,r.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===r)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rn(t,r),Wn(r),n&4&&Jg(r);break;case 21:break;default:Rn(t,r),Wn(r)}}function Wn(r){var t=r.flags;if(t&2){try{e:{for(var e=r.return;e!==null;){if(_2(e)){var n=e;break e}e=e.return}throw Error(je(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Jo(i,""),n.flags&=-33);var s=Zg(r);Pf(r,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,c=Zg(r);Rf(r,c,a);break;default:throw Error(je(161))}}catch(l){ar(r,r.return,l)}r.flags&=-3}t&4096&&(r.flags&=-4097)}function C5(r,t,e){Be=r,N2(r)}function N2(r,t,e){for(var n=(r.mode&1)!==0;Be!==null;){var i=Be,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||xc;if(!a){var c=i.alternate,l=c!==null&&c.memoizedState!==null||Br;c=xc;var o=Br;if(xc=a,(Br=l)&&!o)for(Be=i;Be!==null;)a=Be,l=a.child,a.tag===22&&a.memoizedState!==null?rb(i):l!==null?(l.return=a,Be=l):rb(i);for(;s!==null;)Be=s,N2(s),s=s.sibling;Be=i,xc=c,Br=o}eb(r)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Be=s):eb(r)}}function eb(r){for(;Be!==null;){var t=Be;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Br||ad(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Br)if(e===null)n.componentDidMount();else{var i=t.elementType===t.type?e.memoizedProps:Pn(t.type,e.memoizedProps);n.componentDidUpdate(i,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Fg(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}Fg(t,a,e)}break;case 5:var c=t.stateNode;if(e===null&&t.flags&4){e=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&e.focus();break;case"img":l.src&&(e.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var o=t.alternate;if(o!==null){var u=o.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&nl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}Br||t.flags&512&&If(t)}catch(d){ar(t,t.return,d)}}if(t===r){Be=null;break}if(e=t.sibling,e!==null){e.return=t.return,Be=e;break}Be=t.return}}function tb(r){for(;Be!==null;){var t=Be;if(t===r){Be=null;break}var e=t.sibling;if(e!==null){e.return=t.return,Be=e;break}Be=t.return}}function rb(r){for(;Be!==null;){var t=Be;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{ad(4,t)}catch(l){ar(t,e,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){ar(t,i,l)}}var s=t.return;try{If(t)}catch(l){ar(t,s,l)}break;case 5:var a=t.return;try{If(t)}catch(l){ar(t,a,l)}}}catch(l){ar(t,t.return,l)}if(t===r){Be=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Be=c;break}Be=t.return}}var A5=Math.ceil,xu=Ci.ReactCurrentDispatcher,lm=Ci.ReactCurrentOwner,Sn=Ci.ReactCurrentBatchConfig,Mt=0,wr=null,hr=null,jr=0,dn=0,Sa=ys(0),br=0,pl=null,zs=0,od=0,cm=0,$o=null,en=null,um=0,za=1/0,li=null,wu=!1,Mf=null,is=null,wc=!1,Xi=null,_u=0,Ho=0,Of=null,Vc=-1,zc=0;function Wr(){return Mt&6?lr():Vc!==-1?Vc:Vc=lr()}function ss(r){return r.mode&1?Mt&2&&jr!==0?jr&-jr:f5.transition!==null?(zc===0&&(zc=cv()),zc):(r=zt,r!==0||(r=window.event,r=r===void 0?16:gv(r.type)),r):1}function Ln(r,t,e,n){if(50<Ho)throw Ho=0,Of=null,Error(je(185));Al(r,e,n),(!(Mt&2)||r!==wr)&&(r===wr&&(!(Mt&2)&&(od|=e),br===4&&$i(r,jr)),an(r,n),e===1&&Mt===0&&!(t.mode&1)&&(za=lr()+500,nd&&vs()))}function an(r,t){var e=r.callbackNode;f3(r,t);var n=su(r,r===wr?jr:0);if(n===0)e!==null&&dg(e),r.callbackNode=null,r.callbackPriority=0;else if(t=n&-n,r.callbackPriority!==t){if(e!=null&&dg(e),t===1)r.tag===0?h5(nb.bind(null,r)):Ov(nb.bind(null,r)),l5(function(){!(Mt&6)&&vs()}),e=null;else{switch(uv(n)){case 1:e=Dp;break;case 4:e=ov;break;case 16:e=iu;break;case 536870912:e=lv;break;default:e=iu}e=P2(e,E2.bind(null,r))}r.callbackPriority=t,r.callbackNode=e}}function E2(r,t){if(Vc=-1,zc=0,Mt&6)throw Error(je(327));var e=r.callbackNode;if(Aa()&&r.callbackNode!==e)return null;var n=su(r,r===wr?jr:0);if(n===0)return null;if(n&30||n&r.expiredLanes||t)t=Su(r,n);else{t=n;var i=Mt;Mt|=2;var s=j2();(wr!==r||jr!==t)&&(li=null,za=lr()+500,Os(r,t));do try{P5();break}catch(c){T2(r,c)}while(!0);Xp(),xu.current=s,Mt=i,hr!==null?t=0:(wr=null,jr=0,t=br)}if(t!==0){if(t===2&&(i=lf(r),i!==0&&(n=i,t=Df(r,i))),t===1)throw e=pl,Os(r,0),$i(r,n),an(r,lr()),e;if(t===6)$i(r,n);else{if(i=r.current.alternate,!(n&30)&&!I5(i)&&(t=Su(r,n),t===2&&(s=lf(r),s!==0&&(n=s,t=Df(r,s))),t===1))throw e=pl,Os(r,0),$i(r,n),an(r,lr()),e;switch(r.finishedWork=i,r.finishedLanes=n,t){case 0:case 1:throw Error(je(345));case 2:js(r,en,li);break;case 3:if($i(r,n),(n&130023424)===n&&(t=um+500-lr(),10<t)){if(su(r,0)!==0)break;if(i=r.suspendedLanes,(i&n)!==n){Wr(),r.pingedLanes|=r.suspendedLanes&i;break}r.timeoutHandle=gf(js.bind(null,r,en,li),t);break}js(r,en,li);break;case 4:if($i(r,n),(n&4194240)===n)break;for(t=r.eventTimes,i=-1;0<n;){var a=31-Dn(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=lr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*A5(n/1960))-n,10<n){r.timeoutHandle=gf(js.bind(null,r,en,li),n);break}js(r,en,li);break;case 5:js(r,en,li);break;default:throw Error(je(329))}}}return an(r,lr()),r.callbackNode===e?E2.bind(null,r):null}function Df(r,t){var e=$o;return r.current.memoizedState.isDehydrated&&(Os(r,t).flags|=256),r=Su(r,t),r!==2&&(t=en,en=e,t!==null&&Lf(t)),r}function Lf(r){en===null?en=r:en.push.apply(en,r)}function I5(r){for(var t=r;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var n=0;n<e.length;n++){var i=e[n],s=i.getSnapshot;i=i.value;try{if(!Fn(s(),i))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $i(r,t){for(t&=~cm,t&=~od,r.suspendedLanes|=t,r.pingedLanes&=~t,r=r.expirationTimes;0<t;){var e=31-Dn(t),n=1<<e;r[e]=-1,t&=~n}}function nb(r){if(Mt&6)throw Error(je(327));Aa();var t=su(r,0);if(!(t&1))return an(r,lr()),null;var e=Su(r,t);if(r.tag!==0&&e===2){var n=lf(r);n!==0&&(t=n,e=Df(r,n))}if(e===1)throw e=pl,Os(r,0),$i(r,t),an(r,lr()),e;if(e===6)throw Error(je(345));return r.finishedWork=r.current.alternate,r.finishedLanes=t,js(r,en,li),an(r,lr()),null}function dm(r,t){var e=Mt;Mt|=1;try{return r(t)}finally{Mt=e,Mt===0&&(za=lr()+500,nd&&vs())}}function Us(r){Xi!==null&&Xi.tag===0&&!(Mt&6)&&Aa();var t=Mt;Mt|=1;var e=Sn.transition,n=zt;try{if(Sn.transition=null,zt=1,r)return r()}finally{zt=n,Sn.transition=e,Mt=t,!(Mt&6)&&vs()}}function hm(){dn=Sa.current,Xt(Sa)}function Os(r,t){r.finishedWork=null,r.finishedLanes=0;var e=r.timeoutHandle;if(e!==-1&&(r.timeoutHandle=-1,o5(e)),hr!==null)for(e=hr.return;e!==null;){var n=e;switch(Wp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&uu();break;case 3:Ba(),Xt(nn),Xt(Ur),tm();break;case 5:em(n);break;case 4:Ba();break;case 13:Xt(Jt);break;case 19:Xt(Jt);break;case 10:Qp(n.type._context);break;case 22:case 23:hm()}e=e.return}if(wr=r,hr=r=as(r.current,null),jr=dn=t,br=0,pl=null,cm=od=zs=0,en=$o=null,Is!==null){for(t=0;t<Is.length;t++)if(e=Is[t],n=e.interleaved,n!==null){e.interleaved=null;var i=n.next,s=e.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}e.pending=n}Is=null}return r}function T2(r,t){do{var e=hr;try{if(Xp(),Lc.current=vu,yu){for(var n=er.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}yu=!1}if(Vs=0,xr=mr=er=null,zo=!1,dl=0,lm.current=null,e===null||e.return===null){br=1,pl=t,hr=null;break}e:{var s=r,a=e.return,c=e,l=t;if(t=jr,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var o=l,u=c,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Hg(a);if(h!==null){h.flags&=-257,qg(h,a,c,s,t),h.mode&1&&$g(s,o,t),t=h,l=o;var g=t.updateQueue;if(g===null){var b=new Set;b.add(l),t.updateQueue=b}else g.add(l);break e}else{if(!(t&1)){$g(s,o,t),fm();break e}l=Error(je(426))}}else if(Qt&&c.mode&1){var m=Hg(a);if(m!==null){!(m.flags&65536)&&(m.flags|=256),qg(m,a,c,s,t),Gp(Va(l,c));break e}}s=l=Va(l,c),br!==4&&(br=2),$o===null?$o=[s]:$o.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=u2(s,l,t);Lg(s,v);break e;case 1:c=l;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(is===null||!is.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=d2(s,c,t);Lg(s,T);break e}}s=s.return}while(s!==null)}A2(e)}catch(I){t=I,hr===e&&e!==null&&(hr=e=e.return);continue}break}while(!0)}function j2(){var r=xu.current;return xu.current=vu,r===null?vu:r}function fm(){(br===0||br===3||br===2)&&(br=4),wr===null||!(zs&268435455)&&!(od&268435455)||$i(wr,jr)}function Su(r,t){var e=Mt;Mt|=2;var n=j2();(wr!==r||jr!==t)&&(li=null,Os(r,t));do try{R5();break}catch(i){T2(r,i)}while(!0);if(Xp(),Mt=e,xu.current=n,hr!==null)throw Error(je(261));return wr=null,jr=0,br}function R5(){for(;hr!==null;)C2(hr)}function P5(){for(;hr!==null&&!i3();)C2(hr)}function C2(r){var t=R2(r.alternate,r,dn);r.memoizedProps=r.pendingProps,t===null?A2(r):hr=t,lm.current=null}function A2(r){var t=r;do{var e=t.alternate;if(r=t.return,t.flags&32768){if(e=E5(e,t),e!==null){e.flags&=32767,hr=e;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{br=6,hr=null;return}}else if(e=N5(e,t,dn),e!==null){hr=e;return}if(t=t.sibling,t!==null){hr=t;return}hr=t=r}while(t!==null);br===0&&(br=5)}function js(r,t,e){var n=zt,i=Sn.transition;try{Sn.transition=null,zt=1,M5(r,t,e,n)}finally{Sn.transition=i,zt=n}return null}function M5(r,t,e,n){do Aa();while(Xi!==null);if(Mt&6)throw Error(je(327));e=r.finishedWork;var i=r.finishedLanes;if(e===null)return null;if(r.finishedWork=null,r.finishedLanes=0,e===r.current)throw Error(je(177));r.callbackNode=null,r.callbackPriority=0;var s=e.lanes|e.childLanes;if(p3(r,s),r===wr&&(hr=wr=null,jr=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||wc||(wc=!0,P2(iu,function(){return Aa(),null})),s=(e.flags&15990)!==0,e.subtreeFlags&15990||s){s=Sn.transition,Sn.transition=null;var a=zt;zt=1;var c=Mt;Mt|=4,lm.current=null,j5(r,e),k2(e,r),e5(pf),au=!!ff,pf=ff=null,r.current=e,C5(e),s3(),Mt=c,zt=a,Sn.transition=s}else r.current=e;if(wc&&(wc=!1,Xi=r,_u=i),s=r.pendingLanes,s===0&&(is=null),l3(e.stateNode),an(r,lr()),t!==null)for(n=r.onRecoverableError,e=0;e<t.length;e++)i=t[e],n(i.value,{componentStack:i.stack,digest:i.digest});if(wu)throw wu=!1,r=Mf,Mf=null,r;return _u&1&&r.tag!==0&&Aa(),s=r.pendingLanes,s&1?r===Of?Ho++:(Ho=0,Of=r):Ho=0,vs(),null}function Aa(){if(Xi!==null){var r=uv(_u),t=Sn.transition,e=zt;try{if(Sn.transition=null,zt=16>r?16:r,Xi===null)var n=!1;else{if(r=Xi,Xi=null,_u=0,Mt&6)throw Error(je(331));var i=Mt;for(Mt|=4,Be=r.current;Be!==null;){var s=Be,a=s.child;if(Be.flags&16){var c=s.deletions;if(c!==null){for(var l=0;l<c.length;l++){var o=c[l];for(Be=o;Be!==null;){var u=Be;switch(u.tag){case 0:case 11:case 15:Uo(8,u,s)}var f=u.child;if(f!==null)f.return=u,Be=f;else for(;Be!==null;){u=Be;var d=u.sibling,h=u.return;if(w2(u),u===o){Be=null;break}if(d!==null){d.return=h,Be=d;break}Be=h}}}var g=s.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var m=b.sibling;b.sibling=null,b=m}while(b!==null)}}Be=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Be=a;else e:for(;Be!==null;){if(s=Be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Uo(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Be=v;break e}Be=s.return}}var y=r.current;for(Be=y;Be!==null;){a=Be;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,Be=w;else e:for(a=y;Be!==null;){if(c=Be,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:ad(9,c)}}catch(I){ar(c,c.return,I)}if(c===a){Be=null;break e}var T=c.sibling;if(T!==null){T.return=c.return,Be=T;break e}Be=c.return}}if(Mt=i,vs(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Zu,r)}catch{}n=!0}return n}finally{zt=e,Sn.transition=t}}return!1}function ib(r,t,e){t=Va(e,t),t=u2(r,t,1),r=ns(r,t,1),t=Wr(),r!==null&&(Al(r,1,t),an(r,t))}function ar(r,t,e){if(r.tag===3)ib(r,r,e);else for(;t!==null;){if(t.tag===3){ib(t,r,e);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(is===null||!is.has(n))){r=Va(e,r),r=d2(t,r,1),t=ns(t,r,1),r=Wr(),t!==null&&(Al(t,1,r),an(t,r));break}}t=t.return}}function O5(r,t,e){var n=r.pingCache;n!==null&&n.delete(t),t=Wr(),r.pingedLanes|=r.suspendedLanes&e,wr===r&&(jr&e)===e&&(br===4||br===3&&(jr&130023424)===jr&&500>lr()-um?Os(r,0):cm|=e),an(r,t)}function I2(r,t){t===0&&(r.mode&1?(t=dc,dc<<=1,!(dc&130023424)&&(dc=4194304)):t=1);var e=Wr();r=xi(r,t),r!==null&&(Al(r,t,e),an(r,e))}function D5(r){var t=r.memoizedState,e=0;t!==null&&(e=t.retryLane),I2(r,e)}function L5(r,t){var e=0;switch(r.tag){case 13:var n=r.stateNode,i=r.memoizedState;i!==null&&(e=i.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(je(314))}n!==null&&n.delete(t),I2(r,e)}var R2;R2=function(r,t,e){if(r!==null)if(r.memoizedProps!==t.pendingProps||nn.current)rn=!0;else{if(!(r.lanes&e)&&!(t.flags&128))return rn=!1,k5(r,t,e);rn=!!(r.flags&131072)}else rn=!1,Qt&&t.flags&1048576&&Dv(t,fu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Bc(r,t),r=t.pendingProps;var i=Da(t,Ur.current);Ca(t,e),i=nm(null,t,n,r,i,e);var s=im();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sn(n)?(s=!0,du(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zp(t),i.updater=sd,t.stateNode=i,i._reactInternals=t,Sf(t,n,r,e),t=Ef(null,t,n,!0,s,e)):(t.tag=0,Qt&&s&&qp(t),qr(null,t,i,e),t=t.child),t;case 16:n=t.elementType;e:{switch(Bc(r,t),r=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=B5(n),r=Pn(n,r),i){case 0:t=Nf(null,t,n,r,e);break e;case 1:t=Kg(null,t,n,r,e);break e;case 11:t=Wg(null,t,n,r,e);break e;case 14:t=Gg(null,t,n,Pn(n.type,r),e);break e}throw Error(je(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Pn(n,i),Nf(r,t,n,i,e);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Pn(n,i),Kg(r,t,n,i,e);case 3:e:{if(m2(t),r===null)throw Error(je(387));n=t.pendingProps,s=t.memoizedState,i=s.element,Uv(r,t),gu(t,n,null,e);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Va(Error(je(423)),t),t=Xg(r,t,n,e,i);break e}else if(n!==i){i=Va(Error(je(424)),t),t=Xg(r,t,n,e,i);break e}else for(hn=rs(t.stateNode.containerInfo.firstChild),pn=t,Qt=!0,On=null,e=Vv(t,null,n,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(La(),n===i){t=wi(r,t,e);break e}qr(r,t,n,e)}t=t.child}return t;case 5:return $v(t),r===null&&xf(t),n=t.type,i=t.pendingProps,s=r!==null?r.memoizedProps:null,a=i.children,mf(n,i)?a=null:s!==null&&mf(n,s)&&(t.flags|=32),p2(r,t),qr(r,t,a,e),t.child;case 6:return r===null&&xf(t),null;case 13:return g2(r,t,e);case 4:return Jp(t,t.stateNode.containerInfo),n=t.pendingProps,r===null?t.child=Fa(t,null,n,e):qr(r,t,n,e),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Pn(n,i),Wg(r,t,n,i,e);case 7:return qr(r,t,t.pendingProps,e),t.child;case 8:return qr(r,t,t.pendingProps.children,e),t.child;case 12:return qr(r,t,t.pendingProps.children,e),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Wt(pu,n._currentValue),n._currentValue=a,s!==null)if(Fn(s.value,a)){if(s.children===i.children&&!nn.current){t=wi(r,t,e);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var c=s.dependencies;if(c!==null){a=s.child;for(var l=c.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=mi(-1,e&-e),l.tag=2;var o=s.updateQueue;if(o!==null){o=o.shared;var u=o.pending;u===null?l.next=l:(l.next=u.next,u.next=l),o.pending=l}}s.lanes|=e,l=s.alternate,l!==null&&(l.lanes|=e),wf(s.return,e,t),c.lanes|=e;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(je(341));a.lanes|=e,c=a.alternate,c!==null&&(c.lanes|=e),wf(a,e,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}qr(r,t,i.children,e),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ca(t,e),i=Tn(i),n=n(i),t.flags|=1,qr(r,t,n,e),t.child;case 14:return n=t.type,i=Pn(n,t.pendingProps),i=Pn(n.type,i),Gg(r,t,n,i,e);case 15:return h2(r,t,t.type,t.pendingProps,e);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Pn(n,i),Bc(r,t),t.tag=1,sn(n)?(r=!0,du(t)):r=!1,Ca(t,e),c2(t,n,i),Sf(t,n,i,e),Ef(null,t,n,!0,r,e);case 19:return b2(r,t,e);case 22:return f2(r,t,e)}throw Error(je(156,t.tag))};function P2(r,t){return av(r,t)}function F5(r,t,e,n){this.tag=r,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(r,t,e,n){return new F5(r,t,e,n)}function pm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function B5(r){if(typeof r=="function")return pm(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Pp)return 11;if(r===Mp)return 14}return 2}function as(r,t){var e=r.alternate;return e===null?(e=_n(r.tag,t,r.key,r.mode),e.elementType=r.elementType,e.type=r.type,e.stateNode=r.stateNode,e.alternate=r,r.alternate=e):(e.pendingProps=t,e.type=r.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=r.flags&14680064,e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=r.sibling,e.index=r.index,e.ref=r.ref,e}function Uc(r,t,e,n,i,s){var a=2;if(n=r,typeof r=="function")pm(r)&&(a=1);else if(typeof r=="string")a=5;else e:switch(r){case fa:return Ds(e.children,i,s,t);case Rp:a=8,i|=8;break;case Wh:return r=_n(12,e,t,i|2),r.elementType=Wh,r.lanes=s,r;case Gh:return r=_n(13,e,t,i),r.elementType=Gh,r.lanes=s,r;case Kh:return r=_n(19,e,t,i),r.elementType=Kh,r.lanes=s,r;case $y:return ld(e,i,s,t);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case zy:a=10;break e;case Uy:a=9;break e;case Pp:a=11;break e;case Mp:a=14;break e;case Vi:a=16,n=null;break e}throw Error(je(130,r==null?r:typeof r,""))}return t=_n(a,e,t,i),t.elementType=r,t.type=n,t.lanes=s,t}function Ds(r,t,e,n){return r=_n(7,r,n,t),r.lanes=e,r}function ld(r,t,e,n){return r=_n(22,r,n,t),r.elementType=$y,r.lanes=e,r.stateNode={isHidden:!1},r}function bh(r,t,e){return r=_n(6,r,null,t),r.lanes=e,r}function yh(r,t,e){return t=_n(4,r.children!==null?r.children:[],r.key,t),t.lanes=e,t.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},t}function V5(r,t,e,n,i){this.tag=t,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zd(0),this.expirationTimes=Zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zd(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mm(r,t,e,n,i,s,a,c,l){return r=new V5(r,t,e,c,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=_n(3,null,null,t),r.current=s,s.stateNode=r,s.memoizedState={element:n,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zp(s),r}function z5(r,t,e){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ha,key:n==null?null:""+n,children:r,containerInfo:t,implementation:e}}function M2(r){if(!r)return fs;r=r._reactInternals;e:{if(Zs(r)!==r||r.tag!==1)throw Error(je(170));var t=r;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(je(171))}if(r.tag===1){var e=r.type;if(sn(e))return Mv(r,e,t)}return t}function O2(r,t,e,n,i,s,a,c,l){return r=mm(e,n,!0,r,i,s,a,c,l),r.context=M2(null),e=r.current,n=Wr(),i=ss(e),s=mi(n,i),s.callback=t??null,ns(e,s,i),r.current.lanes=i,Al(r,i,n),an(r,n),r}function cd(r,t,e,n){var i=t.current,s=Wr(),a=ss(i);return e=M2(e),t.context===null?t.context=e:t.pendingContext=e,t=mi(s,a),t.payload={element:r},n=n===void 0?null:n,n!==null&&(t.callback=n),r=ns(i,t,a),r!==null&&(Ln(r,i,a,s),Dc(r,i,a)),a}function ku(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function sb(r,t){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var e=r.retryLane;r.retryLane=e!==0&&e<t?e:t}}function gm(r,t){sb(r,t),(r=r.alternate)&&sb(r,t)}function U5(){return null}var D2=typeof reportError=="function"?reportError:function(r){console.error(r)};function bm(r){this._internalRoot=r}ud.prototype.render=bm.prototype.render=function(r){var t=this._internalRoot;if(t===null)throw Error(je(409));cd(r,t,null,null)};ud.prototype.unmount=bm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var t=r.containerInfo;Us(function(){cd(null,r,null,null)}),t[vi]=null}};function ud(r){this._internalRoot=r}ud.prototype.unstable_scheduleHydration=function(r){if(r){var t=fv();r={blockedOn:null,target:r,priority:t};for(var e=0;e<Ui.length&&t!==0&&t<Ui[e].priority;e++);Ui.splice(e,0,r),e===0&&mv(r)}};function ym(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function dd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function ab(){}function $5(r,t,e,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var o=ku(a);s.call(o)}}var a=O2(t,n,r,0,null,!1,!1,"",ab);return r._reactRootContainer=a,r[vi]=a.current,al(r.nodeType===8?r.parentNode:r),Us(),a}for(;i=r.lastChild;)r.removeChild(i);if(typeof n=="function"){var c=n;n=function(){var o=ku(l);c.call(o)}}var l=mm(r,0,!1,null,null,!1,!1,"",ab);return r._reactRootContainer=l,r[vi]=l.current,al(r.nodeType===8?r.parentNode:r),Us(function(){cd(t,l,e,n)}),l}function hd(r,t,e,n,i){var s=e._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var c=i;i=function(){var l=ku(a);c.call(l)}}cd(t,a,r,i)}else a=$5(e,t,r,i,n);return ku(a)}dv=function(r){switch(r.tag){case 3:var t=r.stateNode;if(t.current.memoizedState.isDehydrated){var e=jo(t.pendingLanes);e!==0&&(Lp(t,e|1),an(t,lr()),!(Mt&6)&&(za=lr()+500,vs()))}break;case 13:Us(function(){var n=xi(r,1);if(n!==null){var i=Wr();Ln(n,r,1,i)}}),gm(r,1)}};Fp=function(r){if(r.tag===13){var t=xi(r,134217728);if(t!==null){var e=Wr();Ln(t,r,134217728,e)}gm(r,134217728)}};hv=function(r){if(r.tag===13){var t=ss(r),e=xi(r,t);if(e!==null){var n=Wr();Ln(e,r,t,n)}gm(r,t)}};fv=function(){return zt};pv=function(r,t){var e=zt;try{return zt=r,t()}finally{zt=e}};sf=function(r,t,e){switch(t){case"input":if(Yh(r,e),t=e.name,e.type==="radio"&&t!=null){for(e=r;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var n=e[t];if(n!==r&&n.form===r.form){var i=rd(n);if(!i)throw Error(je(90));qy(n),Yh(n,i)}}}break;case"textarea":Gy(r,e);break;case"select":t=e.value,t!=null&&Na(r,!!e.multiple,t,!1)}};ev=dm;tv=Us;var H5={usingClientEntryPoint:!1,Events:[Rl,ba,rd,Zy,Jy,dm]},vo={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q5={bundleType:vo.bundleType,version:vo.version,rendererPackageName:vo.rendererPackageName,rendererConfig:vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=iv(r),r===null?null:r.stateNode},findFiberByHostInstance:vo.findFiberByHostInstance||U5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{Zu=_c.inject(q5),Qn=_c}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H5;bn.createPortal=function(r,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ym(t))throw Error(je(200));return z5(r,t,null,e)};bn.createRoot=function(r,t){if(!ym(r))throw Error(je(299));var e=!1,n="",i=D2;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=mm(r,1,!1,null,null,e,!1,n,i),r[vi]=t.current,al(r.nodeType===8?r.parentNode:r),new bm(t)};bn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var t=r._reactInternals;if(t===void 0)throw typeof r.render=="function"?Error(je(188)):(r=Object.keys(r).join(","),Error(je(268,r)));return r=iv(t),r=r===null?null:r.stateNode,r};bn.flushSync=function(r){return Us(r)};bn.hydrate=function(r,t,e){if(!dd(t))throw Error(je(200));return hd(null,r,t,!0,e)};bn.hydrateRoot=function(r,t,e){if(!ym(r))throw Error(je(405));var n=e!=null&&e.hydratedSources||null,i=!1,s="",a=D2;if(e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),t=O2(t,null,r,1,e??null,i,!1,s,a),r[vi]=t.current,al(r),n)for(r=0;r<n.length;r++)e=n[r],i=e._getVersion,i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i);return new ud(t)};bn.render=function(r,t,e){if(!dd(t))throw Error(je(200));return hd(null,r,t,!1,e)};bn.unmountComponentAtNode=function(r){if(!dd(r))throw Error(je(40));return r._reactRootContainer?(Us(function(){hd(null,null,r,!1,function(){r._reactRootContainer=null,r[vi]=null})}),!0):!1};bn.unstable_batchedUpdates=dm;bn.unstable_renderSubtreeIntoContainer=function(r,t,e,n){if(!dd(e))throw Error(je(200));if(r==null||r._reactInternals===void 0)throw Error(je(38));return hd(r,t,e,!1,n)};bn.version="18.3.1-next-f1338f8080-20240426";function L2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L2)}catch(r){console.error(r)}}L2(),Ly.exports=bn;var vm=Ly.exports,ob=vm;Hh.createRoot=ob.createRoot,Hh.hydrateRoot=ob.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},ml.apply(this,arguments)}var Qi;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Qi||(Qi={}));const lb="popstate";function W5(r){r===void 0&&(r={});function t(n,i){let{pathname:s,search:a,hash:c}=n.location;return Ff("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function e(n,i){return typeof i=="string"?i:Nu(i)}return K5(t,e,null,r)}function cr(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function xm(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function G5(){return Math.random().toString(36).substr(2,8)}function cb(r,t){return{usr:r.state,key:r.key,idx:t}}function Ff(r,t,e,n){return e===void 0&&(e=null),ml({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof t=="string"?Za(t):t,{state:e,key:t&&t.key||n||G5()})}function Nu(r){let{pathname:t="/",search:e="",hash:n=""}=r;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Za(r){let t={};if(r){let e=r.indexOf("#");e>=0&&(t.hash=r.substr(e),r=r.substr(0,e));let n=r.indexOf("?");n>=0&&(t.search=r.substr(n),r=r.substr(0,n)),r&&(t.pathname=r)}return t}function K5(r,t,e,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,c=Qi.Pop,l=null,o=u();o==null&&(o=0,a.replaceState(ml({},a.state,{idx:o}),""));function u(){return(a.state||{idx:null}).idx}function f(){c=Qi.Pop;let m=u(),v=m==null?null:m-o;o=m,l&&l({action:c,location:b.location,delta:v})}function d(m,v){c=Qi.Push;let y=Ff(b.location,m,v);o=u()+1;let w=cb(y,o),T=b.createHref(y);try{a.pushState(w,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(T)}s&&l&&l({action:c,location:b.location,delta:1})}function h(m,v){c=Qi.Replace;let y=Ff(b.location,m,v);o=u();let w=cb(y,o),T=b.createHref(y);a.replaceState(w,"",T),s&&l&&l({action:c,location:b.location,delta:0})}function g(m){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof m=="string"?m:Nu(m);return y=y.replace(/ $/,"%20"),cr(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let b={get action(){return c},get location(){return r(i,a)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(lb,f),l=m,()=>{i.removeEventListener(lb,f),l=null}},createHref(m){return t(i,m)},createURL:g,encodeLocation(m){let v=g(m);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:h,go(m){return a.go(m)}};return b}var ub;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(ub||(ub={}));function X5(r,t,e){return e===void 0&&(e="/"),Q5(r,t,e)}function Q5(r,t,e,n){let i=typeof t=="string"?Za(t):t,s=wm(i.pathname||"/",e);if(s==null)return null;let a=F2(r);Y5(a);let c=null;for(let l=0;c==null&&l<a.length;++l){let o=c6(s);c=a6(a[l],o)}return c}function F2(r,t,e,n){t===void 0&&(t=[]),e===void 0&&(e=[]),n===void 0&&(n="");let i=(s,a,c)=>{let l={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(cr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let o=os([n,l.relativePath]),u=e.concat(l);s.children&&s.children.length>0&&(cr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+o+'".')),F2(s.children,t,u,o)),!(s.path==null&&!s.index)&&t.push({path:o,score:i6(o,s.index),routesMeta:u})};return r.forEach((s,a)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,a);else for(let l of B2(s.path))i(s,a,l)}),t}function B2(r){let t=r.split("/");if(t.length===0)return[];let[e,...n]=t,i=e.endsWith("?"),s=e.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=B2(n.join("/")),c=[];return c.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&c.push(...a),c.map(l=>r.startsWith("/")&&l===""?"/":l)}function Y5(r){r.sort((t,e)=>t.score!==e.score?e.score-t.score:s6(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}const Z5=/^:[\w-]+$/,J5=3,e6=2,t6=1,r6=10,n6=-2,db=r=>r==="*";function i6(r,t){let e=r.split("/"),n=e.length;return e.some(db)&&(n+=n6),t&&(n+=e6),e.filter(i=>!db(i)).reduce((i,s)=>i+(Z5.test(s)?J5:s===""?t6:r6),n)}function s6(r,t){return r.length===t.length&&r.slice(0,-1).every((n,i)=>n===t[i])?r[r.length-1]-t[t.length-1]:0}function a6(r,t,e){let{routesMeta:n}=r,i={},s="/",a=[];for(let c=0;c<n.length;++c){let l=n[c],o=c===n.length-1,u=s==="/"?t:t.slice(s.length)||"/",f=o6({path:l.relativePath,caseSensitive:l.caseSensitive,end:o},u),d=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:os([s,f.pathname]),pathnameBase:p6(os([s,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(s=os([s,f.pathnameBase]))}return a}function o6(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[e,n]=l6(r.path,r.caseSensitive,r.end),i=t.match(e);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((o,u,f)=>{let{paramName:d,isOptional:h}=u;if(d==="*"){let b=c[f]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const g=c[f];return h&&!g?o[d]=void 0:o[d]=(g||"").replace(/%2F/g,"/"),o},{}),pathname:s,pathnameBase:a,pattern:r}}function l6(r,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),xm(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,l)=>(n.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function c6(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xm(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),r}}function wm(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=r.charAt(e);return n&&n!=="/"?null:r.slice(e)||"/"}const u6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d6=r=>u6.test(r);function h6(r,t){t===void 0&&(t="/");let{pathname:e,search:n="",hash:i=""}=typeof r=="string"?Za(r):r,s;if(e)if(d6(e))s=e;else{if(e.includes("//")){let a=e;e=e.replace(/\/\/+/g,"/"),xm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+e))}e.startsWith("/")?s=hb(e.substring(1),"/"):s=hb(e,t)}else s=t;return{pathname:s,search:m6(n),hash:g6(i)}}function hb(r,t){let e=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?e.length>1&&e.pop():i!=="."&&e.push(i)}),e.length>1?e.join("/"):"/"}function vh(r,t,e,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f6(r){return r.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function _m(r,t){let e=f6(r);return t?e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase):e.map(n=>n.pathnameBase)}function Sm(r,t,e,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=Za(r):(i=ml({},r),cr(!i.pathname||!i.pathname.includes("?"),vh("?","pathname","search",i)),cr(!i.pathname||!i.pathname.includes("#"),vh("#","pathname","hash",i)),cr(!i.search||!i.search.includes("#"),vh("#","search","hash",i)));let s=r===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=e;else{let f=t.length-1;if(!n&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}c=f>=0?t[f]:"/"}let l=h6(i,c),o=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&e.endsWith("/");return!l.pathname.endsWith("/")&&(o||u)&&(l.pathname+="/"),l}const os=r=>r.join("/").replace(/\/\/+/g,"/"),p6=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),m6=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,g6=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function b6(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const V2=["post","put","patch","delete"];new Set(V2);const y6=["get",...V2];new Set(y6);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},gl.apply(this,arguments)}const km=de.createContext(null),v6=de.createContext(null),xs=de.createContext(null),fd=de.createContext(null),Ai=de.createContext({outlet:null,matches:[],isDataRoute:!1}),z2=de.createContext(null);function x6(r,t){let{relative:e}=t===void 0?{}:t;Ja()||cr(!1);let{basename:n,navigator:i}=de.useContext(xs),{hash:s,pathname:a,search:c}=$2(r,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:os([n,a])),i.createHref({pathname:l,search:c,hash:s})}function Ja(){return de.useContext(fd)!=null}function ws(){return Ja()||cr(!1),de.useContext(fd).location}function U2(r){de.useContext(xs).static||de.useLayoutEffect(r)}function Ml(){let{isDataRoute:r}=de.useContext(Ai);return r?O6():w6()}function w6(){Ja()||cr(!1);let r=de.useContext(km),{basename:t,future:e,navigator:n}=de.useContext(xs),{matches:i}=de.useContext(Ai),{pathname:s}=ws(),a=JSON.stringify(_m(i,e.v7_relativeSplatPath)),c=de.useRef(!1);return U2(()=>{c.current=!0}),de.useCallback(function(o,u){if(u===void 0&&(u={}),!c.current)return;if(typeof o=="number"){n.go(o);return}let f=Sm(o,JSON.parse(a),s,u.relative==="path");r==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:os([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,a,s,r])}const _6=de.createContext(null);function S6(r){let t=de.useContext(Ai).outlet;return t&&de.createElement(_6.Provider,{value:r},t)}function $2(r,t){let{relative:e}=t===void 0?{}:t,{future:n}=de.useContext(xs),{matches:i}=de.useContext(Ai),{pathname:s}=ws(),a=JSON.stringify(_m(i,n.v7_relativeSplatPath));return de.useMemo(()=>Sm(r,JSON.parse(a),s,e==="path"),[r,a,s,e])}function k6(r,t){return N6(r,t)}function N6(r,t,e,n){Ja()||cr(!1);let{navigator:i}=de.useContext(xs),{matches:s}=de.useContext(Ai),a=s[s.length-1],c=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let o=ws(),u;if(t){var f;let m=typeof t=="string"?Za(t):t;l==="/"||(f=m.pathname)!=null&&f.startsWith(l)||cr(!1),u=m}else u=o;let d=u.pathname||"/",h=d;if(l!=="/"){let m=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(m.length).join("/")}let g=X5(r,{pathname:h}),b=A6(g&&g.map(m=>Object.assign({},m,{params:Object.assign({},c,m.params),pathname:os([l,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:os([l,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),s,e,n);return t&&b?de.createElement(fd.Provider,{value:{location:gl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Qi.Pop}},b):b}function E6(){let r=M6(),t=b6(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),e=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},t),e?de.createElement("pre",{style:i},e):null,null)}const T6=de.createElement(E6,null);class j6 extends de.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?de.createElement(Ai.Provider,{value:this.props.routeContext},de.createElement(z2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C6(r){let{routeContext:t,match:e,children:n}=r,i=de.useContext(km);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),de.createElement(Ai.Provider,{value:t},n)}function A6(r,t,e,n){var i;if(t===void 0&&(t=[]),e===void 0&&(e=null),n===void 0&&(n=null),r==null){var s;if(!e)return null;if(e.errors)r=e.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)r=e.matches;else return null}let a=r,c=(i=e)==null?void 0:i.errors;if(c!=null){let u=a.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);u>=0||cr(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,o=-1;if(e&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(o=u),f.route.id){let{loaderData:d,errors:h}=e,g=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||g){l=!0,o>=0?a=a.slice(0,o+1):a=[a[0]];break}}}return a.reduceRight((u,f,d)=>{let h,g=!1,b=null,m=null;e&&(h=c&&f.route.id?c[f.route.id]:void 0,b=f.route.errorElement||T6,l&&(o<0&&d===0?(D6("route-fallback"),g=!0,m=null):o===d&&(g=!0,m=f.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,d+1)),y=()=>{let w;return h?w=b:g?w=m:f.route.Component?w=de.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,de.createElement(C6,{match:f,routeContext:{outlet:u,matches:v,isDataRoute:e!=null},children:w})};return e&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?de.createElement(j6,{location:e.location,revalidation:e.revalidation,component:b,error:h,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var H2=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(H2||{}),q2=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(q2||{});function I6(r){let t=de.useContext(km);return t||cr(!1),t}function R6(r){let t=de.useContext(v6);return t||cr(!1),t}function P6(r){let t=de.useContext(Ai);return t||cr(!1),t}function W2(r){let t=P6(),e=t.matches[t.matches.length-1];return e.route.id||cr(!1),e.route.id}function M6(){var r;let t=de.useContext(z2),e=R6(),n=W2();return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function O6(){let{router:r}=I6(H2.UseNavigateStable),t=W2(q2.UseNavigateStable),e=de.useRef(!1);return U2(()=>{e.current=!0}),de.useCallback(function(i,s){s===void 0&&(s={}),e.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,gl({fromRouteId:t},s)))},[r,t])}const fb={};function D6(r,t,e){fb[r]||(fb[r]=!0)}function L6(r,t){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function Bf(r){let{to:t,replace:e,state:n,relative:i}=r;Ja()||cr(!1);let{future:s,static:a}=de.useContext(xs),{matches:c}=de.useContext(Ai),{pathname:l}=ws(),o=Ml(),u=Sm(t,_m(c,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return de.useEffect(()=>o(JSON.parse(f),{replace:e,state:n,relative:i}),[o,f,i,e,n]),null}function G2(r){return S6(r.context)}function $t(r){cr(!1)}function F6(r){let{basename:t="/",children:e=null,location:n,navigationType:i=Qi.Pop,navigator:s,static:a=!1,future:c}=r;Ja()&&cr(!1);let l=t.replace(/^\/*/,"/"),o=de.useMemo(()=>({basename:l,navigator:s,static:a,future:gl({v7_relativeSplatPath:!1},c)}),[l,c,s,a]);typeof n=="string"&&(n=Za(n));let{pathname:u="/",search:f="",hash:d="",state:h=null,key:g="default"}=n,b=de.useMemo(()=>{let m=wm(u,l);return m==null?null:{location:{pathname:m,search:f,hash:d,state:h,key:g},navigationType:i}},[l,u,f,d,h,g,i]);return b==null?null:de.createElement(xs.Provider,{value:o},de.createElement(fd.Provider,{children:e,value:b}))}function B6(r){let{children:t,location:e}=r;return k6(Vf(t),e)}new Promise(()=>{});function Vf(r,t){t===void 0&&(t=[]);let e=[];return de.Children.forEach(r,(n,i)=>{if(!de.isValidElement(n))return;let s=[...t,i];if(n.type===de.Fragment){e.push.apply(e,Vf(n.props.children,s));return}n.type!==$t&&cr(!1),!n.props.index||!n.props.children||cr(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Vf(n.props.children,s)),e.push(a)}),e}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zf(){return zf=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},zf.apply(this,arguments)}function V6(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}function z6(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function U6(r,t){return r.button===0&&(!t||t==="_self")&&!z6(r)}const $6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],H6="6";try{window.__reactRouterVersion=H6}catch{}const q6="startTransition",pb=O_[q6];function W6(r){let{basename:t,children:e,future:n,window:i}=r,s=de.useRef();s.current==null&&(s.current=W5({window:i,v5Compat:!0}));let a=s.current,[c,l]=de.useState({action:a.action,location:a.location}),{v7_startTransition:o}=n||{},u=de.useCallback(f=>{o&&pb?pb(()=>l(f)):l(f)},[l,o]);return de.useLayoutEffect(()=>a.listen(u),[a,u]),de.useEffect(()=>L6(n),[n]),de.createElement(F6,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:a,future:n})}const G6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zr=de.forwardRef(function(t,e){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:c,target:l,to:o,preventScrollReset:u,viewTransition:f}=t,d=V6(t,$6),{basename:h}=de.useContext(xs),g,b=!1;if(typeof o=="string"&&K6.test(o)&&(g=o,G6))try{let w=new URL(window.location.href),T=o.startsWith("//")?new URL(w.protocol+o):new URL(o),I=wm(T.pathname,h);T.origin===w.origin&&I!=null?o=I+T.search+T.hash:b=!0}catch{}let m=x6(o,{relative:i}),v=X6(o,{replace:a,state:c,target:l,preventScrollReset:u,relative:i,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||v(w)}return de.createElement("a",zf({},d,{href:g||m,onClick:b||s?n:y,ref:e,target:l}))});var mb;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(mb||(mb={}));var gb;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(gb||(gb={}));function X6(r,t){let{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:c}=t===void 0?{}:t,l=Ml(),o=ws(),u=$2(r,{relative:a});return de.useCallback(f=>{if(U6(f,e)){f.preventDefault();let d=n!==void 0?n:Nu(o)===Nu(u);l(r,{replace:d,state:i,preventScrollReset:s,relative:a,viewTransition:c})}},[o,l,u,n,i,e,r,s,a,c])}var bb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=function(r){const t=[];let e=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t},Q6=function(r){const t=[];let e=0,n=0;for(;e<r.length;){const i=r[e++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=r[e++];t[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=r[e++],a=r[e++],c=r[e++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const s=r[e++],a=r[e++];t[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},X2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const s=r[i],a=i+1<r.length,c=a?r[i+1]:0,l=i+2<r.length,o=l?r[i+2]:0,u=s>>2,f=(s&3)<<4|c>>4;let d=(c&15)<<2|o>>6,h=o&63;l||(h=64,a||(d=64)),n.push(e[u],e[f],e[d],e[h])}return n.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(K2(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Q6(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const s=e[r.charAt(i++)],c=i<r.length?e[r.charAt(i)]:0;++i;const o=i<r.length?e[r.charAt(i)]:64;++i;const f=i<r.length?e[r.charAt(i)]:64;if(++i,s==null||c==null||o==null||f==null)throw new Y6;const d=s<<2|c>>4;if(n.push(d),o!==64){const h=c<<4&240|o>>2;if(n.push(h),f!==64){const g=o<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Y6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z6=function(r){const t=K2(r);return X2.encodeByteArray(t,!0)},Eu=function(r){return Z6(r).replace(/\./g,"")},Q2=function(r){try{return X2.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8=()=>J6().__FIREBASE_DEFAULTS__,t8=()=>{if(typeof process>"u"||typeof bb>"u")return;const r=bb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},r8=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Q2(r[1]);return t&&JSON.parse(t)},pd=()=>{try{return e8()||t8()||r8()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Y2=r=>{var t,e;return(e=(t=pd())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[r]},n8=r=>{const t=Y2(r);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),n]:[t.substring(0,e),n]},Z2=()=>{var r;return(r=pd())===null||r===void 0?void 0:r.config},J2=r=>{var t;return(t=pd())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},n=t||"demo-project",i=r.iat||0,s=r.sub||r.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Eu(JSON.stringify(e)),Eu(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($r())}function o8(){var r;const t=(r=pd())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ex(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function c8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u8(){const r=$r();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function d8(){return!o8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tx(){try{return typeof indexedDB=="object"}catch{return!1}}function rx(){return new Promise((r,t)=>{try{let e=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}function h8(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8="FirebaseError";class zn extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=f8,Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Js.prototype.create)}}class Js{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,s=this.errors[t],a=s?p8(s,n):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new zn(i,c,n)}}function p8(r,t){return r.replace(m8,(e,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const m8=/\{\$([^}]+)}/g;function g8(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function bl(r,t){if(r===t)return!0;const e=Object.keys(r),n=Object.keys(t);for(const i of e){if(!n.includes(i))return!1;const s=r[i],a=t[i];if(yb(s)&&yb(a)){if(!bl(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!e.includes(i))return!1;return!0}function yb(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(r){const t=[];for(const[e,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Ao(r){const t={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Io(r){const t=r.indexOf("?");if(!t)return"";const e=r.indexOf("#",t);return r.substring(t,e>0?e:void 0)}function b8(r,t){const e=new y8(r,t);return e.subscribe.bind(e)}class y8{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let i;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");v8(t,["next","error","complete"])?i=t:i={next:t,error:e,complete:n},i.next===void 0&&(i.next=xh),i.error===void 0&&(i.error=xh),i.complete===void 0&&(i.complete=xh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v8(r,t){if(typeof r!="object"||r===null)return!1;for(const e of t)if(e in r&&typeof r[e]=="function")return!0;return!1}function xh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=1e3,w8=2,_8=4*60*60*1e3,S8=.5;function vb(r,t=x8,e=w8){const n=t*Math.pow(e,r),i=Math.round(S8*n*(Math.random()-.5)*2);return Math.min(_8,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(r){return r&&r._delegate?r._delegate:r}class Bn{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const n=new i8;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(E8(t))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(t=Cs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cs){return this.instances.has(t)}getOptions(t=Cs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&a.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(t),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&t(a,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:N8(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Cs){return this.component?this.component.multipleInstances?t:Cs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N8(r){return r===Cs?void 0:r}function E8(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new k8(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(jt||(jt={}));const j8={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},C8=jt.INFO,A8={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},I8=(r,t,...e)=>{if(t<r.logLevel)return;const n=new Date().toISOString(),i=A8[t];if(i)console[i](`[${n}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class md{constructor(t){this.name=t,this._logLevel=C8,this._logHandler=I8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?j8[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const R8=(r,t)=>t.some(e=>r instanceof e);let xb,wb;function P8(){return xb||(xb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M8(){return wb||(wb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nx=new WeakMap,Uf=new WeakMap,ix=new WeakMap,wh=new WeakMap,Nm=new WeakMap;function O8(r){const t=new Promise((e,n)=>{const i=()=>{r.removeEventListener("success",s),r.removeEventListener("error",a)},s=()=>{e(ls(r.result)),i()},a=()=>{n(r.error),i()};r.addEventListener("success",s),r.addEventListener("error",a)});return t.then(e=>{e instanceof IDBCursor&&nx.set(e,r)}).catch(()=>{}),Nm.set(t,r),t}function D8(r){if(Uf.has(r))return;const t=new Promise((e,n)=>{const i=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",a),r.removeEventListener("abort",a)},s=()=>{e(),i()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",s),r.addEventListener("error",a),r.addEventListener("abort",a)});Uf.set(r,t)}let $f={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return Uf.get(r);if(t==="objectStoreNames")return r.objectStoreNames||ix.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ls(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function L8(r){$f=r($f)}function F8(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const n=r.call(_h(this),t,...e);return ix.set(n,t.sort?t.sort():[t]),ls(n)}:M8().includes(r)?function(...t){return r.apply(_h(this),t),ls(nx.get(this))}:function(...t){return ls(r.apply(_h(this),t))}}function B8(r){return typeof r=="function"?F8(r):(r instanceof IDBTransaction&&D8(r),R8(r,P8())?new Proxy(r,$f):r)}function ls(r){if(r instanceof IDBRequest)return O8(r);if(wh.has(r))return wh.get(r);const t=B8(r);return t!==r&&(wh.set(r,t),Nm.set(t,r)),t}const _h=r=>Nm.get(r);function sx(r,t,{blocked:e,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(r,t),c=ls(a);return n&&a.addEventListener("upgradeneeded",l=>{n(ls(a.result),l.oldVersion,l.newVersion,ls(a.transaction),l)}),e&&a.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",o=>i(o.oldVersion,o.newVersion,o))}).catch(()=>{}),c}const V8=["get","getKey","getAll","getAllKeys","count"],z8=["put","add","delete","clear"],Sh=new Map;function _b(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Sh.get(t))return Sh.get(t);const e=t.replace(/FromIndex$/,""),n=t!==e,i=z8.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(i||V8.includes(e)))return;const s=async function(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let o=l.store;return n&&(o=o.index(c.shift())),(await Promise.all([o[e](...c),i&&l.done]))[0]};return Sh.set(t,s),s}L8(r=>({...r,get:(t,e,n)=>_b(t,e)||r.get(t,e,n),has:(t,e)=>!!_b(t,e)||r.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if($8(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function $8(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Hf="@firebase/app",Sb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new md("@firebase/app"),H8="@firebase/app-compat",q8="@firebase/analytics-compat",W8="@firebase/analytics",G8="@firebase/app-check-compat",K8="@firebase/app-check",X8="@firebase/auth",Q8="@firebase/auth-compat",Y8="@firebase/database",Z8="@firebase/data-connect",J8="@firebase/database-compat",eS="@firebase/functions",tS="@firebase/functions-compat",rS="@firebase/installations",nS="@firebase/installations-compat",iS="@firebase/messaging",sS="@firebase/messaging-compat",aS="@firebase/performance",oS="@firebase/performance-compat",lS="@firebase/remote-config",cS="@firebase/remote-config-compat",uS="@firebase/storage",dS="@firebase/storage-compat",hS="@firebase/firestore",fS="@firebase/vertexai-preview",pS="@firebase/firestore-compat",mS="firebase",gS="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="[DEFAULT]",bS={[Hf]:"fire-core",[H8]:"fire-core-compat",[W8]:"fire-analytics",[q8]:"fire-analytics-compat",[K8]:"fire-app-check",[G8]:"fire-app-check-compat",[X8]:"fire-auth",[Q8]:"fire-auth-compat",[Y8]:"fire-rtdb",[Z8]:"fire-data-connect",[J8]:"fire-rtdb-compat",[eS]:"fire-fn",[tS]:"fire-fn-compat",[rS]:"fire-iid",[nS]:"fire-iid-compat",[iS]:"fire-fcm",[sS]:"fire-fcm-compat",[aS]:"fire-perf",[oS]:"fire-perf-compat",[lS]:"fire-rc",[cS]:"fire-rc-compat",[uS]:"fire-gcs",[dS]:"fire-gcs-compat",[hS]:"fire-fst",[pS]:"fire-fst-compat",[fS]:"fire-vertex","fire-js":"fire-js",[mS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=new Map,yS=new Map,Wf=new Map;function kb(r,t){try{r.container.addComponent(t)}catch(e){_i.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function ni(r){const t=r.name;if(Wf.has(t))return _i.debug(`There were multiple attempts to register component ${t}.`),!1;Wf.set(t,r);for(const e of Tu.values())kb(e,r);for(const e of yS.values())kb(e,r);return!0}function ea(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function Xn(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new Js("app","Firebase",vS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Bn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=gS;function ax(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const n=Object.assign({name:qf,automaticDataCollectionEnabled:!1},t),i=n.name;if(typeof i!="string"||!i)throw cs.create("bad-app-name",{appName:String(i)});if(e||(e=Z2()),!e)throw cs.create("no-options");const s=Tu.get(i);if(s){if(bl(e,s.options)&&bl(n,s.config))return s;throw cs.create("duplicate-app",{appName:i})}const a=new T8(i);for(const l of Wf.values())a.addComponent(l);const c=new xS(e,n,a);return Tu.set(i,c),c}function Em(r=qf){const t=Tu.get(r);if(!t&&r===qf&&Z2())return ax();if(!t)throw cs.create("no-app",{appName:r});return t}function kn(r,t,e){var n;let i=(n=bS[r])!==null&&n!==void 0?n:r;e&&(i+=`-${e}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${t}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_i.warn(c.join(" "));return}ni(new Bn(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="firebase-heartbeat-database",_S=1,yl="firebase-heartbeat-store";let kh=null;function ox(){return kh||(kh=sx(wS,_S,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(yl)}catch(e){console.warn(e)}}}}).catch(r=>{throw cs.create("idb-open",{originalErrorMessage:r.message})})),kh}async function SS(r){try{const e=(await ox()).transaction(yl),n=await e.objectStore(yl).get(lx(r));return await e.done,n}catch(t){if(t instanceof zn)_i.warn(t.message);else{const e=cs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});_i.warn(e.message)}}}async function Nb(r,t){try{const n=(await ox()).transaction(yl,"readwrite");await n.objectStore(yl).put(t,lx(r)),await n.done}catch(e){if(e instanceof zn)_i.warn(e.message);else{const n=cs.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});_i.warn(n.message)}}}function lx(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=1024,NS=30*24*60*60*1e3;class ES{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new jS(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,e;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Eb();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=NS}),this._storage.overwrite(this._heartbeatsCache))}catch(n){_i.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Eb(),{heartbeatsToSend:n,unsentEntries:i}=TS(this._heartbeatsCache.heartbeats),s=Eu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return _i.warn(e),""}}}function Eb(){return new Date().toISOString().substring(0,10)}function TS(r,t=kS){const e=[];let n=r.slice();for(const i of r){const s=e.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Tb(e)>t){s.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),Tb(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}class jS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tx()?rx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await SS(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return Nb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const i=await this.read();return Nb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Tb(r){return Eu(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(r){ni(new Bn("platform-logger",t=>new U8(t),"PRIVATE")),ni(new Bn("heartbeat",t=>new ES(t),"PRIVATE")),kn(Hf,Sb,r),kn(Hf,Sb,"esm2017"),kn("fire-js","")}CS("");function Tm(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e}function cx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AS=cx,ux=new Js("auth","Firebase",cx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new md("@firebase/auth");function IS(r,...t){ju.logLevel<=jt.WARN&&ju.warn(`Auth (${eo}): ${r}`,...t)}function $c(r,...t){ju.logLevel<=jt.ERROR&&ju.error(`Auth (${eo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(r,...t){throw jm(r,...t)}function Zn(r,...t){return jm(r,...t)}function dx(r,t,e){const n=Object.assign(Object.assign({},AS()),{[t]:e});return new Js("auth","Firebase",n).create(t,{appName:r.name})}function gi(r){return dx(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jm(r,...t){if(typeof r!="string"){const e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(e,...n)}return ux.create(r,...t)}function ot(r,t,...e){if(!r)throw jm(t,...e)}function hi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw $c(t),new Error(t)}function Si(r,t){r||hi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function RS(){return jb()==="http:"||jb()==="https:"}function jb(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RS()||ex()||"connection"in navigator)?navigator.onLine:!0}function MS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,e){this.shortDelay=t,this.longDelay=e,Si(e>t,"Short delay should be less than long delay!"),this.isMobile=a8()||c8()}get(){return PS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(r,t){Si(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=new Dl(3e4,6e4);function Ii(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Ri(r,t,e,n,i={}){return fx(r,i,async()=>{let s={},a={};n&&(t==="GET"?a=n:s={body:JSON.stringify(n)});const c=Ol(Object.assign({key:r.config.apiKey},a)).slice(1),l=await r._getAdditionalHeaders();l["Content-Type"]="application/json",r.languageCode&&(l["X-Firebase-Locale"]=r.languageCode);const o=Object.assign({method:t,headers:l},s);return l8()||(o.referrerPolicy="no-referrer"),hx.fetch()(px(r,r.config.apiHost,e,c),o)})}async function fx(r,t,e){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},OS),t);try{const i=new FS(r),s=await Promise.race([e(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Sc(r,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[l,o]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(r,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Sc(r,"email-already-in-use",a);if(l==="USER_DISABLED")throw Sc(r,"user-disabled",a);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw dx(r,u,o);Vn(r,u)}}catch(i){if(i instanceof zn)throw i;Vn(r,"network-request-failed",{message:String(i)})}}async function Ll(r,t,e,n,i={}){const s=await Ri(r,t,e,n,i);return"mfaPendingCredential"in s&&Vn(r,"multi-factor-auth-required",{_serverResponse:s}),s}function px(r,t,e,n){const i=`${t}${e}?${n}`;return r.config.emulator?Cm(r.config,i):`${r.config.apiScheme}://${i}`}function LS(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FS{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(Zn(this.auth,"network-request-failed")),DS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sc(r,t,e){const n={appName:r.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);const i=Zn(r,t,n);return i.customData._tokenResponse=e,i}function Cb(r){return r!==void 0&&r.enterprise!==void 0}class BS{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return LS(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function VS(r,t){return Ri(r,"GET","/v2/recaptchaConfig",Ii(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zS(r,t){return Ri(r,"POST","/v1/accounts:delete",t)}async function mx(r,t){return Ri(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function US(r,t=!1){const e=fr(r),n=await e.getIdToken(t),i=Am(n);ot(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:qo(Nh(i.auth_time)),issuedAtTime:qo(Nh(i.iat)),expirationTime:qo(Nh(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Nh(r){return Number(r)*1e3}function Am(r){const[t,e,n]=r.split(".");if(t===void 0||e===void 0||n===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const i=Q2(e);return i?JSON.parse(i):($c("Failed to decode base64 JWT payload"),null)}catch(i){return $c("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ab(r){const t=Am(r);return ot(t,"internal-error"),ot(typeof t.exp<"u","internal-error"),ot(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(r,t,e=!1){if(e)return t;try{return await t}catch(n){throw n instanceof zn&&$S(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function $S({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=qo(this.lastLoginAt),this.creationTime=qo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(r){var t;const e=r.auth,n=await r.getIdToken(),i=await vl(r,mx(e,{idToken:n}));ot(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];r._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?gx(s.providerUserInfo):[],c=WS(r.providerData,a),l=r.isAnonymous,o=!(r.email&&s.passwordHash)&&!(c!=null&&c.length),u=l?o:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Kf(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(r,f)}async function qS(r){const t=fr(r);await Cu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function WS(r,t){return[...r.filter(n=>!t.some(i=>i.providerId===n.providerId)),...t]}function gx(r){return r.map(t=>{var{providerId:e}=t,n=Tm(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(r,t){const e=await fx(r,{},async()=>{const n=Ol({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=r.config,a=px(r,i,"/v1/token",`key=${s}`),c=await r._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",hx.fetch()(a,{method:"POST",headers:c,body:n})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function KS(r,t){return Ri(r,"POST","/v2/accounts:revokeToken",Ii(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ot(t.idToken,"internal-error"),ot(typeof t.idToken<"u","internal-error"),ot(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ab(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){ot(t.length!==0,"internal-error");const e=Ab(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(ot(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:s}=await GS(t,e);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:s}=e,a=new Ia;return n&&(ot(typeof n=="string","internal-error",{appName:t}),a.refreshToken=n),i&&(ot(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),s&&(ot(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ia,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(r,t){ot(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class fi{constructor(t){var{uid:e,auth:n,stsTokenManager:i}=t,s=Tm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await vl(this,this.stsTokenManager.getToken(this.auth,t));return ot(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return US(this,t)}reload(){return qS(this)}_assign(t){this!==t&&(ot(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new fi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await Cu(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(gi(this.auth));const t=await this.getIdToken();return await vl(this,zS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,s,a,c,l,o,u;const f=(n=e.displayName)!==null&&n!==void 0?n:void 0,d=(i=e.email)!==null&&i!==void 0?i:void 0,h=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,g=(a=e.photoURL)!==null&&a!==void 0?a:void 0,b=(c=e.tenantId)!==null&&c!==void 0?c:void 0,m=(l=e._redirectEventId)!==null&&l!==void 0?l:void 0,v=(o=e.createdAt)!==null&&o!==void 0?o:void 0,y=(u=e.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:T,isAnonymous:I,providerData:V,stsTokenManager:B}=e;ot(w&&B,t,"internal-error");const A=Ia.fromJSON(this.name,B);ot(typeof w=="string",t,"internal-error"),Bi(f,t.name),Bi(d,t.name),ot(typeof T=="boolean",t,"internal-error"),ot(typeof I=="boolean",t,"internal-error"),Bi(h,t.name),Bi(g,t.name),Bi(b,t.name),Bi(m,t.name),Bi(v,t.name),Bi(y,t.name);const M=new fi({uid:w,auth:t,email:d,emailVerified:T,displayName:f,isAnonymous:I,photoURL:g,phoneNumber:h,tenantId:b,stsTokenManager:A,createdAt:v,lastLoginAt:y});return V&&Array.isArray(V)&&(M.providerData=V.map(F=>Object.assign({},F))),m&&(M._redirectEventId=m),M}static async _fromIdTokenResponse(t,e,n=!1){const i=new Ia;i.updateFromServerResponse(e);const s=new fi({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await Cu(s),s}static async _fromGetAccountInfoResponse(t,e,n){const i=e.users[0];ot(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?gx(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new Ia;c.updateFromIdToken(n);const l=new fi({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:a}),o={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Kf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,o),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new Map;function pi(r){Si(r instanceof Function,"Expected a class definition");let t=Ib.get(r);return t?(Si(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Ib.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}bx.type="NONE";const Rb=bx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(r,t,e){return`firebase:${r}:${t}:${e}`}class Ra{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Hc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hc("persistence",i.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?fi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new Ra(pi(Rb),t,n);const i=(await Promise.all(e.map(async o=>{if(await o._isAvailable())return o}))).filter(o=>o);let s=i[0]||pi(Rb);const a=Hc(n,t.config.apiKey,t.name);let c=null;for(const o of e)try{const u=await o._get(a);if(u){const f=fi._fromJSON(t,u);o!==s&&(c=f),s=o;break}}catch{}const l=i.filter(o=>o._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ra(s,t,n):(s=l[0],c&&await s._set(a,c.toJSON()),await Promise.all(e.map(async o=>{if(o!==s)try{await o._remove(a)}catch{}})),new Ra(s,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Sx(t))return"Blackberry";if(kx(t))return"Webos";if(vx(t))return"Safari";if((t.includes("chrome/")||xx(t))&&!t.includes("edge/"))return"Chrome";if(_x(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(e);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function yx(r=$r()){return/firefox\//i.test(r)}function vx(r=$r()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xx(r=$r()){return/crios\//i.test(r)}function wx(r=$r()){return/iemobile/i.test(r)}function _x(r=$r()){return/android/i.test(r)}function Sx(r=$r()){return/blackberry/i.test(r)}function kx(r=$r()){return/webos/i.test(r)}function Im(r=$r()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function XS(r=$r()){var t;return Im(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function QS(){return u8()&&document.documentMode===10}function Nx(r=$r()){return Im(r)||_x(r)||kx(r)||Sx(r)||/windows phone/i.test(r)||wx(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(r,t=[]){let e;switch(r){case"Browser":e=Pb($r());break;case"Worker":e=`${Pb($r())}-${r}`;break;default:e=r}const n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${eo}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=s=>new Promise((a,c)=>{try{const l=t(s);a(l)}catch(l){c(l)}});n.onAbort=e,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const i of e)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(r,t={}){return Ri(r,"GET","/v2/passwordPolicy",Ii(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=6;class ek{constructor(t){var e,n,i,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=a.minPasswordLength)!==null&&e!==void 0?e:JS,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,i,s,a,c;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(e=l.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(t,e,n,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mb(this),this.idTokenSubscription=new Mb(this),this.beforeStateQueue=new YS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ux,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=pi(e)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Ra.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await mx(this,{idToken:t}),n=await fi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Xn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,c=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!a||a===c)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Cu(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=MS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(gi(this));const e=t?fr(t):null;return e&&ot(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&ot(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ZS(this),e=new ek(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Js("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),await KS(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&pi(t)||this._popupRedirectResolver;ot(e,this,"argument-error"),this.redirectPersistenceManager=await Ra.create(this,[pi(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const s=typeof e=="function"?e:e.next.bind(e);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ot(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof e=="function"){const l=t.addObserver(e,n,i);return()=>{a=!0,l()}}else{const l=t.addObserver(e);return()=>{a=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ex(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&IS(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function _s(r){return fr(r)}class Mb{constructor(t){this.auth=t,this.observer=null,this.addObserver=b8(e=>this.observer=e)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rk(r){gd=r}function Tx(r){return gd.loadJS(r)}function nk(){return gd.recaptchaEnterpriseScript}function ik(){return gd.gapiScript}function sk(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const ak="recaptcha-enterprise",ok="NO_RECAPTCHA";class lk{constructor(t){this.type=ak,this.auth=_s(t)}async verify(t="verify",e=!1){async function n(s){if(!e){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{VS(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const o=new BS(l);return s.tenantId==null?s._agentRecaptchaConfig=o:s._tenantRecaptchaConfigs[s.tenantId]=o,a(o.siteKey)}}).catch(l=>{c(l)})})}function i(s,a,c){const l=window.grecaptcha;Cb(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(o=>{a(o)}).catch(()=>{a(ok)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(c=>{if(!e&&Cb(window.grecaptcha))i(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=nk();l.length!==0&&(l+=c),Tx(l).then(()=>{i(c,s,a)}).catch(o=>{a(o)})}}).catch(c=>{a(c)})})}}async function Ob(r,t,e,n=!1){const i=new lk(r);let s;try{s=await i.verify(e)}catch{s=await i.verify(e,!0)}const a=Object.assign({},t);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Au(r,t,e,n){var i;if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Ob(r,t,e,e==="getOobCode");return n(r,s)}else return n(r,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Ob(r,t,e,e==="getOobCode");return n(r,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(r,t){const e=ea(r,"auth");if(e.isInitialized()){const i=e.getImmediate(),s=e.getOptions();if(bl(s,t??{}))return i;Vn(i,"already-initialized")}return e.initialize({options:t})}function uk(r,t){const e=(t==null?void 0:t.persistence)||[],n=(Array.isArray(e)?e:[e]).map(pi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function dk(r,t,e){const n=_s(r);ot(n._canInitEmulator,n,"emulator-config-failed"),ot(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=!1,s=jx(t),{host:a,port:c}=hk(t),l=c===null?"":`:${c}`;n.config.emulator={url:`${s}//${a}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),fk()}function jx(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function hk(r){const t=jx(r),e=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!e)return{host:"",port:null};const n=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:Db(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:Db(a)}}}function Db(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function fk(){function r(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return hi("not implemented")}_getIdTokenResponse(t){return hi("not implemented")}_linkToIdToken(t,e){return hi("not implemented")}_getReauthenticationResolver(t){return hi("not implemented")}}async function pk(r,t){return Ri(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(r,t){return Ll(r,"POST","/v1/accounts:signInWithPassword",Ii(r,t))}async function gk(r,t){return Ri(r,"POST","/v1/accounts:sendOobCode",Ii(r,t))}async function bk(r,t){return gk(r,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(r,t){return Ll(r,"POST","/v1/accounts:signInWithEmailLink",Ii(r,t))}async function vk(r,t){return Ll(r,"POST","/v1/accounts:signInWithEmailLink",Ii(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends Rm{constructor(t,e,n,i=null){super("password",n),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new xl(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new xl(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Au(t,e,"signInWithPassword",mk);case"emailLink":return yk(t,{email:this._email,oobCode:this._password});default:Vn(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const n={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Au(t,n,"signUpPassword",pk);case"emailLink":return vk(t,{idToken:e,email:this._email,oobCode:this._password});default:Vn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(r,t){return Ll(r,"POST","/v1/accounts:signInWithIdp",Ii(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="http://localhost";class $s extends Rm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new $s(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Vn("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:i}=e,s=Tm(e,["providerId","signInMethod"]);if(!n||!i)return null;const a=new $s(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const e=this.buildRequest();return Pa(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Pa(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Pa(t,e)}buildRequest(){const t={requestUri:xk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ol(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _k(r){const t=Ao(Io(r)).link,e=t?Ao(Io(t)).deep_link_id:null,n=Ao(Io(r)).deep_link_id;return(n?Ao(Io(n)).link:null)||n||e||t||r}class Pm{constructor(t){var e,n,i,s,a,c;const l=Ao(Io(t)),o=(e=l.apiKey)!==null&&e!==void 0?e:null,u=(n=l.oobCode)!==null&&n!==void 0?n:null,f=wk((i=l.mode)!==null&&i!==void 0?i:null);ot(o&&u&&f,"argument-error"),this.apiKey=o,this.operation=f,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const e=_k(t);try{return new Pm(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.providerId=to.PROVIDER_ID}static credential(t,e){return xl._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=Pm.parseLink(e);return ot(n,"argument-error"),xl._fromEmailAndCode(t,n.code,n.tenantId)}}to.PROVIDER_ID="password";to.EMAIL_PASSWORD_SIGN_IN_METHOD="password";to.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends Cx{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Fl{constructor(){super("facebook.com")}static credential(t){return $s._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hi.credentialFromTaggedObject(t)}static credentialFromError(t){return Hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hi.credential(t.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return $s._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return qi.credentialFromTaggedObject(t)}static credentialFromError(t){return qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return qi.credential(e,n)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Fl{constructor(){super("github.com")}static credential(t){return $s._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wi.credentialFromTaggedObject(t)}static credentialFromError(t){return Wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wi.credential(t.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Fl{constructor(){super("twitter.com")}static credential(t,e){return $s._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Gi.credentialFromTaggedObject(t)}static credentialFromError(t){return Gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return Gi.credential(e,n)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(r,t){return Ll(r,"POST","/v1/accounts:signUp",Ii(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,i=!1){const s=await fi._fromIdTokenResponse(t,n,i),a=Lb(n);return new Hs({user:s,providerId:a,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const i=Lb(n);return new Hs({user:t,providerId:i,_tokenResponse:n,operationType:e})}}function Lb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends zn{constructor(t,e,n,i){var s;super(e.code,e.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Iu.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,i){return new Iu(t,e,n,i)}}function Ax(r,t,e,n){return(t==="reauthenticate"?e._getReauthenticationResolver(r):e._getIdTokenResponse(r)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Iu._fromErrorAndOperation(r,s,t,n):s})}async function kk(r,t,e=!1){const n=await vl(r,t._linkToIdToken(r.auth,await r.getIdToken()),e);return Hs._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(r,t,e=!1){const{auth:n}=r;if(Xn(n.app))return Promise.reject(gi(n));const i="reauthenticate";try{const s=await vl(r,Ax(n,i,t,r),e);ot(s.idToken,n,"internal-error");const a=Am(s.idToken);ot(a,n,"internal-error");const{sub:c}=a;return ot(r.uid===c,n,"user-mismatch"),Hs._forOperation(r,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Vn(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(r,t,e=!1){if(Xn(r.app))return Promise.reject(gi(r));const n="signIn",i=await Ax(r,n,t),s=await Hs._fromIdTokenResponse(r,n,i);return e||await r._updateCurrentUser(s.user),s}async function Ek(r,t){return Ix(_s(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(r){const t=_s(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Px(r,t,e){const n=_s(r);await Au(n,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",bk)}async function Tk(r,t,e){if(Xn(r.app))return Promise.reject(gi(r));const n=_s(r),a=await Au(n,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sk).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Rx(r),l}),c=await Hs._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(c.user),c}function jk(r,t,e){return Xn(r.app)?Promise.reject(gi(r)):Ek(fr(r),to.credential(t,e)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Rx(r),n})}function Ck(r,t,e,n){return fr(r).onIdTokenChanged(t,e,n)}function Ak(r,t,e){return fr(r).beforeAuthStateChanged(t,e)}function Ik(r,t,e,n){return fr(r).onAuthStateChanged(t,e,n)}function Rk(r){return fr(r).signOut()}const Ru="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Ru,"1"),this.storage.removeItem(Ru),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=1e3,Mk=10;class Ox extends Mx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),i=this.localCache[e];n!==i&&t(e,i,n)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}const n=t.key;e?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!e&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);QS()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Mk):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},Pk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ox.type="LOCAL";const Ok=Ox;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx extends Mx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Dx.type="SESSION";const Lx=Dx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(i=>i.isListeningto(t));if(e)return e;const n=new bd(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:i,data:s}=e.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(a).map(async o=>o(e.origin,s)),l=await Dk(c);e.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(r="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return r+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{const o=Mm("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===o)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:o,data:e},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return window}function Fk(r){Jn().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(){return typeof Jn().WorkerGlobalScope<"u"&&typeof Jn().importScripts=="function"}async function Bk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Vk(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function zk(){return Fx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="firebaseLocalStorageDb",Uk=1,Pu="firebaseLocalStorage",Vx="fbase_key";class Bl{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function yd(r,t){return r.transaction([Pu],t?"readwrite":"readonly").objectStore(Pu)}function $k(){const r=indexedDB.deleteDatabase(Bx);return new Bl(r).toPromise()}function Xf(){const r=indexedDB.open(Bx,Uk);return new Promise((t,e)=>{r.addEventListener("error",()=>{e(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Pu,{keyPath:Vx})}catch(i){e(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Pu)?t(n):(n.close(),await $k(),t(await Xf()))})})}async function Fb(r,t,e){const n=yd(r,!0).put({[Vx]:t,value:e});return new Bl(n).toPromise()}async function Hk(r,t){const e=yd(r,!1).get(t),n=await new Bl(e).toPromise();return n===void 0?null:n.value}function Bb(r,t){const e=yd(r,!0).delete(t);return new Bl(e).toPromise()}const qk=800,Wk=3;class zx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xf(),this.db)}async _withRetries(t){let e=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(e++>Wk)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bd._getInstance(zk()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await Bk(),!this.activeServiceWorker)return;this.sender=new Lk(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((e=n[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Vk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Xf();return await Fb(t,Ru,"1"),await Bb(t,Ru),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fb(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(n=>Hk(n,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Bb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=yd(i,!1).getAll();return new Bl(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],n=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),e.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),e.push(i));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zx.type="LOCAL";const Gk=zx;new Dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(r,t){return t?pi(t):(ot(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends Rm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Pa(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Pa(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Pa(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Xk(r){return Ix(r.auth,new Om(r),r.bypassAuthState)}function Qk(r){const{auth:t,user:e}=r;return ot(e,t,"internal-error"),Nk(e,new Om(r),r.bypassAuthState)}async function Yk(r){const{auth:t,user:e}=r;return ot(e,t,"internal-error"),kk(e,new Om(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(t,e,n,i,s=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:i,tenantId:s,error:a,type:c}=t;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:e,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(o){this.reject(o)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Xk;case"linkViaPopup":case"linkViaRedirect":return Yk;case"reauthViaPopup":case"reauthViaRedirect":return Qk;default:Vn(this.auth,"internal-error")}}resolve(t){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=new Dl(2e3,1e4);class ka extends Ux{constructor(t,e,n,i,s){super(t,e,i,s),this.provider=n,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ot(t,this.auth,"internal-error"),t}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const t=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;if(!((n=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Zk.get())};t()}}ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="pendingRedirect",qc=new Map;class e9 extends Ux{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=qc.get(this.auth._key());if(!t){try{const n=await t9(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}qc.set(this.auth._key(),t)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t9(r,t){const e=i9(t),n=n9(r);if(!await n._isAvailable())return!1;const i=await n._get(e)==="true";return await n._remove(e),i}function r9(r,t){qc.set(r._key(),t)}function n9(r){return pi(r._redirectPersistence)}function i9(r){return Hc(Jk,r.config.apiKey,r.name)}async function s9(r,t,e=!1){if(Xn(r.app))return Promise.reject(gi(r));const n=_s(r),i=Kk(n,t),a=await new e9(n,i,e).execute();return a&&!e&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=10*60*1e3;class o9{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!l9(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!$x(t)){const i=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";e.onError(Zn(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=a9&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vb(t))}saveEventToCache(t){this.cachedEventUids.add(Vb(t)),this.lastProcessedEventTime=Date.now()}}function Vb(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function $x({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function l9(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $x(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(r,t={}){return Ri(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d9=/^https?/;async function h9(r){if(r.config.emulator)return;const{authorizedDomains:t}=await c9(r);for(const e of t)try{if(f9(e))return}catch{}Vn(r,"unauthorized-domain")}function f9(r){const t=Gf(),{protocol:e,hostname:n}=new URL(t);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&n===""?e==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&a.hostname===n}if(!d9.test(e))return!1;if(u9.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=new Dl(3e4,6e4);function zb(){const r=Jn().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let e=0;e<r.CP.length;e++)r.CP[e]=null}}function m9(r){return new Promise((t,e)=>{var n,i,s;function a(){zb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zb(),e(Zn(r,"network-request-failed"))},timeout:p9.get()})}if(!((i=(n=Jn().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=Jn().gapi)===null||s===void 0)&&s.load)a();else{const c=sk("iframefcb");return Jn()[c]=()=>{gapi.load?a():e(Zn(r,"network-request-failed"))},Tx(`${ik()}?onload=${c}`).catch(l=>e(l))}}).catch(t=>{throw Wc=null,t})}let Wc=null;function g9(r){return Wc=Wc||m9(r),Wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=new Dl(5e3,15e3),y9="__/auth/iframe",v9="emulator/auth/iframe",x9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _9(r){const t=r.config;ot(t.authDomain,r,"auth-domain-config-required");const e=t.emulator?Cm(t,v9):`https://${r.config.authDomain}/${y9}`,n={apiKey:t.apiKey,appName:r.name,v:eo},i=w9.get(r.config.apiHost);i&&(n.eid=i);const s=r._getFrameworks();return s.length&&(n.fw=s.join(",")),`${e}?${Ol(n).slice(1)}`}async function S9(r){const t=await g9(r),e=Jn().gapi;return ot(e,r,"internal-error"),t.open({where:document.body,url:_9(r),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x9,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=Zn(r,"network-request-failed"),c=Jn().setTimeout(()=>{s(a)},b9.get());function l(){Jn().clearTimeout(c),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N9=500,E9=600,T9="_blank",j9="http://localhost";class Ub{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C9(r,t,e,n=N9,i=E9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const l=Object.assign(Object.assign({},k9),{width:n.toString(),height:i.toString(),top:s,left:a}),o=$r().toLowerCase();e&&(c=xx(o)?T9:e),yx(o)&&(t=t||j9,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[h,g])=>`${d}${h}=${g},`,"");if(XS(o)&&c!=="_self")return A9(t||"",c),new Ub(null);const f=window.open(t||"",c,u);ot(f,r,"popup-blocked");try{f.focus()}catch{}return new Ub(f)}function A9(r,t){const e=document.createElement("a");e.href=r,e.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9="__/auth/handler",R9="emulator/auth/handler",P9=encodeURIComponent("fac");async function $b(r,t,e,n,i,s){ot(r.config.authDomain,r,"auth-domain-config-required"),ot(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:e,redirectUrl:n,v:eo,eventId:i};if(t instanceof Cx){t.setDefaultLanguage(r.languageCode),a.providerId=t.providerId||"",g8(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,f]of Object.entries({}))a[u]=f}if(t instanceof Fl){const u=t.getScopes().filter(f=>f!=="");u.length>0&&(a.scopes=u.join(","))}r.tenantId&&(a.tid=r.tenantId);const c=a;for(const u of Object.keys(c))c[u]===void 0&&delete c[u];const l=await r._getAppCheckToken(),o=l?`#${P9}=${encodeURIComponent(l)}`:"";return`${M9(r)}?${Ol(c).slice(1)}${o}`}function M9({config:r}){return r.emulator?Cm(r,R9):`https://${r.authDomain}/${I9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="webStorageSupport";class O9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lx,this._completeRedirectFn=s9,this._overrideRedirectResult=r9}async _openPopup(t,e,n,i){var s;Si((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await $b(t,e,n,Gf(),i);return C9(t,a,Mm())}async _openRedirect(t,e,n,i){await this._originValidation(t);const s=await $b(t,e,n,Gf(),i);return Fk(s),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:i,promise:s}=this.eventManagers[e];return i?Promise.resolve(i):(Si(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}async initAndGetManager(t){const e=await S9(t),n=new o9(t);return e.register("authEvent",i=>(ot(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Eh,{type:Eh},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Eh];a!==void 0&&e(!!a),Vn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=h9(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Nx()||vx()||Im()}}const D9=O9;var Hb="@firebase/auth",qb="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B9(r){ni(new Bn("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=n.options;ot(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ex(r)},o=new tk(n,i,s,l);return uk(o,e),o},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),ni(new Bn("auth-internal",t=>{const e=_s(t.getProvider("auth").getImmediate());return(n=>new L9(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),kn(Hb,qb,F9(r)),kn(Hb,qb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=5*60,z9=J2("authIdTokenMaxAge")||V9;let Wb=null;const U9=r=>async t=>{const e=t&&await t.getIdTokenResult(),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>z9)return;const i=e==null?void 0:e.token;Wb!==i&&(Wb=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $9(r=Em()){const t=ea(r,"auth");if(t.isInitialized())return t.getImmediate();const e=ck(r,{popupRedirectResolver:D9,persistence:[Gk,Ok,Lx]}),n=J2("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=U9(s.toString());Ak(e,a,()=>a(e.currentUser)),Ck(e,c=>a(c))}}const i=Y2("auth");return i&&dk(e,`http://${i}`),e}function H9(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}rk({loadJS(r){return new Promise((t,e)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=t,n.onerror=i=>{const s=Zn("internal-error");s.customData=i,e(s)},n.type="text/javascript",n.charset="UTF-8",H9().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B9("Browser");var Gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,Hx;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(B,A){function M(){}M.prototype=A.prototype,B.D=A.prototype,B.prototype=new M,B.prototype.constructor=B,B.C=function(F,$,U){for(var E=Array(arguments.length-2),P=2;P<arguments.length;P++)E[P-2]=arguments[P];return A.prototype[$].apply(F,E)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,e),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(B,A,M){M||(M=0);var F=Array(16);if(typeof A=="string")for(var $=0;16>$;++$)F[$]=A.charCodeAt(M++)|A.charCodeAt(M++)<<8|A.charCodeAt(M++)<<16|A.charCodeAt(M++)<<24;else for($=0;16>$;++$)F[$]=A[M++]|A[M++]<<8|A[M++]<<16|A[M++]<<24;A=B.g[0],M=B.g[1],$=B.g[2];var U=B.g[3],E=A+(U^M&($^U))+F[0]+3614090360&4294967295;A=M+(E<<7&4294967295|E>>>25),E=U+($^A&(M^$))+F[1]+3905402710&4294967295,U=A+(E<<12&4294967295|E>>>20),E=$+(M^U&(A^M))+F[2]+606105819&4294967295,$=U+(E<<17&4294967295|E>>>15),E=M+(A^$&(U^A))+F[3]+3250441966&4294967295,M=$+(E<<22&4294967295|E>>>10),E=A+(U^M&($^U))+F[4]+4118548399&4294967295,A=M+(E<<7&4294967295|E>>>25),E=U+($^A&(M^$))+F[5]+1200080426&4294967295,U=A+(E<<12&4294967295|E>>>20),E=$+(M^U&(A^M))+F[6]+2821735955&4294967295,$=U+(E<<17&4294967295|E>>>15),E=M+(A^$&(U^A))+F[7]+4249261313&4294967295,M=$+(E<<22&4294967295|E>>>10),E=A+(U^M&($^U))+F[8]+1770035416&4294967295,A=M+(E<<7&4294967295|E>>>25),E=U+($^A&(M^$))+F[9]+2336552879&4294967295,U=A+(E<<12&4294967295|E>>>20),E=$+(M^U&(A^M))+F[10]+4294925233&4294967295,$=U+(E<<17&4294967295|E>>>15),E=M+(A^$&(U^A))+F[11]+2304563134&4294967295,M=$+(E<<22&4294967295|E>>>10),E=A+(U^M&($^U))+F[12]+1804603682&4294967295,A=M+(E<<7&4294967295|E>>>25),E=U+($^A&(M^$))+F[13]+4254626195&4294967295,U=A+(E<<12&4294967295|E>>>20),E=$+(M^U&(A^M))+F[14]+2792965006&4294967295,$=U+(E<<17&4294967295|E>>>15),E=M+(A^$&(U^A))+F[15]+1236535329&4294967295,M=$+(E<<22&4294967295|E>>>10),E=A+($^U&(M^$))+F[1]+4129170786&4294967295,A=M+(E<<5&4294967295|E>>>27),E=U+(M^$&(A^M))+F[6]+3225465664&4294967295,U=A+(E<<9&4294967295|E>>>23),E=$+(A^M&(U^A))+F[11]+643717713&4294967295,$=U+(E<<14&4294967295|E>>>18),E=M+(U^A&($^U))+F[0]+3921069994&4294967295,M=$+(E<<20&4294967295|E>>>12),E=A+($^U&(M^$))+F[5]+3593408605&4294967295,A=M+(E<<5&4294967295|E>>>27),E=U+(M^$&(A^M))+F[10]+38016083&4294967295,U=A+(E<<9&4294967295|E>>>23),E=$+(A^M&(U^A))+F[15]+3634488961&4294967295,$=U+(E<<14&4294967295|E>>>18),E=M+(U^A&($^U))+F[4]+3889429448&4294967295,M=$+(E<<20&4294967295|E>>>12),E=A+($^U&(M^$))+F[9]+568446438&4294967295,A=M+(E<<5&4294967295|E>>>27),E=U+(M^$&(A^M))+F[14]+3275163606&4294967295,U=A+(E<<9&4294967295|E>>>23),E=$+(A^M&(U^A))+F[3]+4107603335&4294967295,$=U+(E<<14&4294967295|E>>>18),E=M+(U^A&($^U))+F[8]+1163531501&4294967295,M=$+(E<<20&4294967295|E>>>12),E=A+($^U&(M^$))+F[13]+2850285829&4294967295,A=M+(E<<5&4294967295|E>>>27),E=U+(M^$&(A^M))+F[2]+4243563512&4294967295,U=A+(E<<9&4294967295|E>>>23),E=$+(A^M&(U^A))+F[7]+1735328473&4294967295,$=U+(E<<14&4294967295|E>>>18),E=M+(U^A&($^U))+F[12]+2368359562&4294967295,M=$+(E<<20&4294967295|E>>>12),E=A+(M^$^U)+F[5]+4294588738&4294967295,A=M+(E<<4&4294967295|E>>>28),E=U+(A^M^$)+F[8]+2272392833&4294967295,U=A+(E<<11&4294967295|E>>>21),E=$+(U^A^M)+F[11]+1839030562&4294967295,$=U+(E<<16&4294967295|E>>>16),E=M+($^U^A)+F[14]+4259657740&4294967295,M=$+(E<<23&4294967295|E>>>9),E=A+(M^$^U)+F[1]+2763975236&4294967295,A=M+(E<<4&4294967295|E>>>28),E=U+(A^M^$)+F[4]+1272893353&4294967295,U=A+(E<<11&4294967295|E>>>21),E=$+(U^A^M)+F[7]+4139469664&4294967295,$=U+(E<<16&4294967295|E>>>16),E=M+($^U^A)+F[10]+3200236656&4294967295,M=$+(E<<23&4294967295|E>>>9),E=A+(M^$^U)+F[13]+681279174&4294967295,A=M+(E<<4&4294967295|E>>>28),E=U+(A^M^$)+F[0]+3936430074&4294967295,U=A+(E<<11&4294967295|E>>>21),E=$+(U^A^M)+F[3]+3572445317&4294967295,$=U+(E<<16&4294967295|E>>>16),E=M+($^U^A)+F[6]+76029189&4294967295,M=$+(E<<23&4294967295|E>>>9),E=A+(M^$^U)+F[9]+3654602809&4294967295,A=M+(E<<4&4294967295|E>>>28),E=U+(A^M^$)+F[12]+3873151461&4294967295,U=A+(E<<11&4294967295|E>>>21),E=$+(U^A^M)+F[15]+530742520&4294967295,$=U+(E<<16&4294967295|E>>>16),E=M+($^U^A)+F[2]+3299628645&4294967295,M=$+(E<<23&4294967295|E>>>9),E=A+($^(M|~U))+F[0]+4096336452&4294967295,A=M+(E<<6&4294967295|E>>>26),E=U+(M^(A|~$))+F[7]+1126891415&4294967295,U=A+(E<<10&4294967295|E>>>22),E=$+(A^(U|~M))+F[14]+2878612391&4294967295,$=U+(E<<15&4294967295|E>>>17),E=M+(U^($|~A))+F[5]+4237533241&4294967295,M=$+(E<<21&4294967295|E>>>11),E=A+($^(M|~U))+F[12]+1700485571&4294967295,A=M+(E<<6&4294967295|E>>>26),E=U+(M^(A|~$))+F[3]+2399980690&4294967295,U=A+(E<<10&4294967295|E>>>22),E=$+(A^(U|~M))+F[10]+4293915773&4294967295,$=U+(E<<15&4294967295|E>>>17),E=M+(U^($|~A))+F[1]+2240044497&4294967295,M=$+(E<<21&4294967295|E>>>11),E=A+($^(M|~U))+F[8]+1873313359&4294967295,A=M+(E<<6&4294967295|E>>>26),E=U+(M^(A|~$))+F[15]+4264355552&4294967295,U=A+(E<<10&4294967295|E>>>22),E=$+(A^(U|~M))+F[6]+2734768916&4294967295,$=U+(E<<15&4294967295|E>>>17),E=M+(U^($|~A))+F[13]+1309151649&4294967295,M=$+(E<<21&4294967295|E>>>11),E=A+($^(M|~U))+F[4]+4149444226&4294967295,A=M+(E<<6&4294967295|E>>>26),E=U+(M^(A|~$))+F[11]+3174756917&4294967295,U=A+(E<<10&4294967295|E>>>22),E=$+(A^(U|~M))+F[2]+718787259&4294967295,$=U+(E<<15&4294967295|E>>>17),E=M+(U^($|~A))+F[9]+3951481745&4294967295,B.g[0]=B.g[0]+A&4294967295,B.g[1]=B.g[1]+($+(E<<21&4294967295|E>>>11))&4294967295,B.g[2]=B.g[2]+$&4294967295,B.g[3]=B.g[3]+U&4294967295}n.prototype.u=function(B,A){A===void 0&&(A=B.length);for(var M=A-this.blockSize,F=this.B,$=this.h,U=0;U<A;){if($==0)for(;U<=M;)i(this,B,U),U+=this.blockSize;if(typeof B=="string"){for(;U<A;)if(F[$++]=B.charCodeAt(U++),$==this.blockSize){i(this,F),$=0;break}}else for(;U<A;)if(F[$++]=B[U++],$==this.blockSize){i(this,F),$=0;break}}this.h=$,this.o+=A},n.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var A=1;A<B.length-8;++A)B[A]=0;var M=8*this.o;for(A=B.length-8;A<B.length;++A)B[A]=M&255,M/=256;for(this.u(B),B=Array(16),A=M=0;4>A;++A)for(var F=0;32>F;F+=8)B[M++]=this.g[A]>>>F&255;return B};function s(B,A){var M=c;return Object.prototype.hasOwnProperty.call(M,B)?M[B]:M[B]=A(B)}function a(B,A){this.h=A;for(var M=[],F=!0,$=B.length-1;0<=$;$--){var U=B[$]|0;F&&U==A||(M[$]=U,F=!1)}this.g=M}var c={};function l(B){return-128<=B&&128>B?s(B,function(A){return new a([A|0],0>A?-1:0)}):new a([B|0],0>B?-1:0)}function o(B){if(isNaN(B)||!isFinite(B))return f;if(0>B)return m(o(-B));for(var A=[],M=1,F=0;B>=M;F++)A[F]=B/M|0,M*=4294967296;return new a(A,0)}function u(B,A){if(B.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(B.charAt(0)=="-")return m(u(B.substring(1),A));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=o(Math.pow(A,8)),F=f,$=0;$<B.length;$+=8){var U=Math.min(8,B.length-$),E=parseInt(B.substring($,$+U),A);8>U?(U=o(Math.pow(A,U)),F=F.j(U).add(o(E))):(F=F.j(M),F=F.add(o(E)))}return F}var f=l(0),d=l(1),h=l(16777216);r=a.prototype,r.m=function(){if(b(this))return-m(this).m();for(var B=0,A=1,M=0;M<this.g.length;M++){var F=this.i(M);B+=(0<=F?F:4294967296+F)*A,A*=4294967296}return B},r.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(g(this))return"0";if(b(this))return"-"+m(this).toString(B);for(var A=o(Math.pow(B,6)),M=this,F="";;){var $=T(M,A).g;M=v(M,$.j(A));var U=((0<M.g.length?M.g[0]:M.h)>>>0).toString(B);if(M=$,g(M))return U+F;for(;6>U.length;)U="0"+U;F=U+F}},r.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function g(B){if(B.h!=0)return!1;for(var A=0;A<B.g.length;A++)if(B.g[A]!=0)return!1;return!0}function b(B){return B.h==-1}r.l=function(B){return B=v(this,B),b(B)?-1:g(B)?0:1};function m(B){for(var A=B.g.length,M=[],F=0;F<A;F++)M[F]=~B.g[F];return new a(M,~B.h).add(d)}r.abs=function(){return b(this)?m(this):this},r.add=function(B){for(var A=Math.max(this.g.length,B.g.length),M=[],F=0,$=0;$<=A;$++){var U=F+(this.i($)&65535)+(B.i($)&65535),E=(U>>>16)+(this.i($)>>>16)+(B.i($)>>>16);F=E>>>16,U&=65535,E&=65535,M[$]=E<<16|U}return new a(M,M[M.length-1]&-2147483648?-1:0)};function v(B,A){return B.add(m(A))}r.j=function(B){if(g(this)||g(B))return f;if(b(this))return b(B)?m(this).j(m(B)):m(m(this).j(B));if(b(B))return m(this.j(m(B)));if(0>this.l(h)&&0>B.l(h))return o(this.m()*B.m());for(var A=this.g.length+B.g.length,M=[],F=0;F<2*A;F++)M[F]=0;for(F=0;F<this.g.length;F++)for(var $=0;$<B.g.length;$++){var U=this.i(F)>>>16,E=this.i(F)&65535,P=B.i($)>>>16,N=B.i($)&65535;M[2*F+2*$]+=E*N,y(M,2*F+2*$),M[2*F+2*$+1]+=U*N,y(M,2*F+2*$+1),M[2*F+2*$+1]+=E*P,y(M,2*F+2*$+1),M[2*F+2*$+2]+=U*P,y(M,2*F+2*$+2)}for(F=0;F<A;F++)M[F]=M[2*F+1]<<16|M[2*F];for(F=A;F<2*A;F++)M[F]=0;return new a(M,0)};function y(B,A){for(;(B[A]&65535)!=B[A];)B[A+1]+=B[A]>>>16,B[A]&=65535,A++}function w(B,A){this.g=B,this.h=A}function T(B,A){if(g(A))throw Error("division by zero");if(g(B))return new w(f,f);if(b(B))return A=T(m(B),A),new w(m(A.g),m(A.h));if(b(A))return A=T(B,m(A)),new w(m(A.g),A.h);if(30<B.g.length){if(b(B)||b(A))throw Error("slowDivide_ only works with positive integers.");for(var M=d,F=A;0>=F.l(B);)M=I(M),F=I(F);var $=V(M,1),U=V(F,1);for(F=V(F,2),M=V(M,2);!g(F);){var E=U.add(F);0>=E.l(B)&&($=$.add(M),U=E),F=V(F,1),M=V(M,1)}return A=v(B,$.j(A)),new w($,A)}for($=f;0<=B.l(A);){for(M=Math.max(1,Math.floor(B.m()/A.m())),F=Math.ceil(Math.log(M)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),U=o(M),E=U.j(A);b(E)||0<E.l(B);)M-=F,U=o(M),E=U.j(A);g(U)&&(U=d),$=$.add(U),B=v(B,E)}return new w($,B)}r.A=function(B){return T(this,B).h},r.and=function(B){for(var A=Math.max(this.g.length,B.g.length),M=[],F=0;F<A;F++)M[F]=this.i(F)&B.i(F);return new a(M,this.h&B.h)},r.or=function(B){for(var A=Math.max(this.g.length,B.g.length),M=[],F=0;F<A;F++)M[F]=this.i(F)|B.i(F);return new a(M,this.h|B.h)},r.xor=function(B){for(var A=Math.max(this.g.length,B.g.length),M=[],F=0;F<A;F++)M[F]=this.i(F)^B.i(F);return new a(M,this.h^B.h)};function I(B){for(var A=B.g.length+1,M=[],F=0;F<A;F++)M[F]=B.i(F)<<1|B.i(F-1)>>>31;return new a(M,B.h)}function V(B,A){var M=A>>5;A%=32;for(var F=B.g.length-M,$=[],U=0;U<F;U++)$[U]=0<A?B.i(U+M)>>>A|B.i(U+M+1)<<32-A:B.i(U+M);return new a($,B.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Hx=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=o,a.fromString=u,Ls=a}).apply(typeof Gb<"u"?Gb:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qx,Ro,Wx,Gc,Qf,Gx,Kx,Xx;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(C,G,X){return C==Array.prototype||C==Object.prototype||(C[G]=X.value),C};function e(C){C=[typeof globalThis=="object"&&globalThis,C,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var G=0;G<C.length;++G){var X=C[G];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}var n=e(this);function i(C,G){if(G)e:{var X=n;C=C.split(".");for(var re=0;re<C.length-1;re++){var me=C[re];if(!(me in X))break e;X=X[me]}C=C[C.length-1],re=X[C],G=G(re),G!=re&&G!=null&&t(X,C,{configurable:!0,writable:!0,value:G})}}function s(C,G){C instanceof String&&(C+="");var X=0,re=!1,me={next:function(){if(!re&&X<C.length){var be=X++;return{value:G(be,C[be]),done:!1}}return re=!0,{done:!0,value:void 0}}};return me[Symbol.iterator]=function(){return me},me}i("Array.prototype.values",function(C){return C||function(){return s(this,function(G,X){return X})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function l(C){var G=typeof C;return G=G!="object"?G:C?Array.isArray(C)?"array":G:"null",G=="array"||G=="object"&&typeof C.length=="number"}function o(C){var G=typeof C;return G=="object"&&C!=null||G=="function"}function u(C,G,X){return C.call.apply(C.bind,arguments)}function f(C,G,X){if(!C)throw Error();if(2<arguments.length){var re=Array.prototype.slice.call(arguments,2);return function(){var me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(me,re),C.apply(G,me)}}return function(){return C.apply(G,arguments)}}function d(C,G,X){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,d.apply(null,arguments)}function h(C,G){var X=Array.prototype.slice.call(arguments,1);return function(){var re=X.slice();return re.push.apply(re,arguments),C.apply(this,re)}}function g(C,G){function X(){}X.prototype=G.prototype,C.aa=G.prototype,C.prototype=new X,C.prototype.constructor=C,C.Qb=function(re,me,be){for(var Me=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)Me[Ht-2]=arguments[Ht];return G.prototype[me].apply(re,Me)}}function b(C){const G=C.length;if(0<G){const X=Array(G);for(let re=0;re<G;re++)X[re]=C[re];return X}return[]}function m(C,G){for(let X=1;X<arguments.length;X++){const re=arguments[X];if(l(re)){const me=C.length||0,be=re.length||0;C.length=me+be;for(let Me=0;Me<be;Me++)C[me+Me]=re[Me]}else C.push(re)}}class v{constructor(G,X){this.i=G,this.j=X,this.h=0,this.g=null}get(){let G;return 0<this.h?(this.h--,G=this.g,this.g=G.next,G.next=null):G=this.i(),G}}function y(C){return/^[\s\xa0]*$/.test(C)}function w(){var C=c.navigator;return C&&(C=C.userAgent)?C:""}function T(C){return T[" "](C),C}T[" "]=function(){};var I=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function V(C,G,X){for(const re in C)G.call(X,C[re],re,C)}function B(C,G){for(const X in C)G.call(void 0,C[X],X,C)}function A(C){const G={};for(const X in C)G[X]=C[X];return G}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(C,G){let X,re;for(let me=1;me<arguments.length;me++){re=arguments[me];for(X in re)C[X]=re[X];for(let be=0;be<M.length;be++)X=M[be],Object.prototype.hasOwnProperty.call(re,X)&&(C[X]=re[X])}}function $(C){var G=1;C=C.split(":");const X=[];for(;0<G&&C.length;)X.push(C.shift()),G--;return C.length&&X.push(C.join(":")),X}function U(C){c.setTimeout(()=>{throw C},0)}function E(){var C=k;let G=null;return C.g&&(G=C.g,C.g=C.g.next,C.g||(C.h=null),G.next=null),G}class P{constructor(){this.h=this.g=null}add(G,X){const re=N.get();re.set(G,X),this.h?this.h.next=re:this.g=re,this.h=re}}var N=new v(()=>new x,C=>C.reset());class x{constructor(){this.next=this.g=this.h=null}set(G,X){this.h=G,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let _,S=!1,k=new P,j=()=>{const C=c.Promise.resolve(void 0);_=()=>{C.then(L)}};var L=()=>{for(var C;C=E();){try{C.h.call(C.g)}catch(X){U(X)}var G=N;G.j(C),100>G.h&&(G.h++,C.next=G.g,G.g=C)}S=!1};function D(){this.s=this.s,this.C=this.C}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(C,G){this.type=C,this.g=this.target=G,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var C=!1,G=Object.defineProperty({},"passive",{get:function(){C=!0}});try{const X=()=>{};c.addEventListener("test",X,G),c.removeEventListener("test",X,G)}catch{}return C}();function Q(C,G){if(q.call(this,C?C.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,C){var X=this.type=C.type,re=C.changedTouches&&C.changedTouches.length?C.changedTouches[0]:null;if(this.target=C.target||C.srcElement,this.g=G,G=C.relatedTarget){if(I){e:{try{T(G.nodeName);var me=!0;break e}catch{}me=!1}me||(G=null)}}else X=="mouseover"?G=C.fromElement:X=="mouseout"&&(G=C.toElement);this.relatedTarget=G,re?(this.clientX=re.clientX!==void 0?re.clientX:re.pageX,this.clientY=re.clientY!==void 0?re.clientY:re.pageY,this.screenX=re.screenX||0,this.screenY=re.screenY||0):(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0),this.button=C.button,this.key=C.key||"",this.ctrlKey=C.ctrlKey,this.altKey=C.altKey,this.shiftKey=C.shiftKey,this.metaKey=C.metaKey,this.pointerId=C.pointerId||0,this.pointerType=typeof C.pointerType=="string"?C.pointerType:z[C.pointerType]||"",this.state=C.state,this.i=C,C.defaultPrevented&&Q.aa.h.call(this)}}g(Q,q);var z={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var C=this.i;C.preventDefault?C.preventDefault():C.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),O=0;function R(C,G,X,re,me){this.listener=C,this.proxy=null,this.src=G,this.type=X,this.capture=!!re,this.ha=me,this.key=++O,this.da=this.fa=!1}function H(C){C.da=!0,C.listener=null,C.proxy=null,C.src=null,C.ha=null}function Y(C){this.src=C,this.g={},this.h=0}Y.prototype.add=function(C,G,X,re,me){var be=C.toString();C=this.g[be],C||(C=this.g[be]=[],this.h++);var Me=Z(C,G,re,me);return-1<Me?(G=C[Me],X||(G.fa=!1)):(G=new R(G,this.src,be,!!re,me),G.fa=X,C.push(G)),G};function J(C,G){var X=G.type;if(X in C.g){var re=C.g[X],me=Array.prototype.indexOf.call(re,G,void 0),be;(be=0<=me)&&Array.prototype.splice.call(re,me,1),be&&(H(G),C.g[X].length==0&&(delete C.g[X],C.h--))}}function Z(C,G,X,re){for(var me=0;me<C.length;++me){var be=C[me];if(!be.da&&be.listener==G&&be.capture==!!X&&be.ha==re)return me}return-1}var te="closure_lm_"+(1e6*Math.random()|0),oe={};function le(C,G,X,re,me){if(Array.isArray(G)){for(var be=0;be<G.length;be++)le(C,G[be],X,re,me);return null}return X=we(X),C&&C[K]?C.K(G,X,o(re)?!!re.capture:!1,me):ee(C,G,X,!1,re,me)}function ee(C,G,X,re,me,be){if(!G)throw Error("Invalid event type");var Me=o(me)?!!me.capture:!!me,Ht=ge(C);if(Ht||(C[te]=Ht=new Y(C)),X=Ht.add(G,X,re,Me,be),X.proxy)return X;if(re=se(),X.proxy=re,re.src=C,re.listener=X,C.addEventListener)W||(me=Me),me===void 0&&(me=!1),C.addEventListener(G.toString(),re,me);else if(C.attachEvent)C.attachEvent(ce(G.toString()),re);else if(C.addListener&&C.removeListener)C.addListener(re);else throw Error("addEventListener and attachEvent are unavailable.");return X}function se(){function C(X){return G.call(C.src,C.listener,X)}const G=fe;return C}function ie(C,G,X,re,me){if(Array.isArray(G))for(var be=0;be<G.length;be++)ie(C,G[be],X,re,me);else re=o(re)?!!re.capture:!!re,X=we(X),C&&C[K]?(C=C.i,G=String(G).toString(),G in C.g&&(be=C.g[G],X=Z(be,X,re,me),-1<X&&(H(be[X]),Array.prototype.splice.call(be,X,1),be.length==0&&(delete C.g[G],C.h--)))):C&&(C=ge(C))&&(G=C.g[G.toString()],C=-1,G&&(C=Z(G,X,re,me)),(X=-1<C?G[C]:null)&&ue(X))}function ue(C){if(typeof C!="number"&&C&&!C.da){var G=C.src;if(G&&G[K])J(G.i,C);else{var X=C.type,re=C.proxy;G.removeEventListener?G.removeEventListener(X,re,C.capture):G.detachEvent?G.detachEvent(ce(X),re):G.addListener&&G.removeListener&&G.removeListener(re),(X=ge(G))?(J(X,C),X.h==0&&(X.src=null,G[te]=null)):H(C)}}}function ce(C){return C in oe?oe[C]:oe[C]="on"+C}function fe(C,G){if(C.da)C=!0;else{G=new Q(G,this);var X=C.listener,re=C.ha||C.src;C.fa&&ue(C),C=X.call(re,G)}return C}function ge(C){return C=C[te],C instanceof Y?C:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function we(C){return typeof C=="function"?C:(C[ye]||(C[ye]=function(G){return C.handleEvent(G)}),C[ye])}function Ne(){D.call(this),this.i=new Y(this),this.M=this,this.F=null}g(Ne,D),Ne.prototype[K]=!0,Ne.prototype.removeEventListener=function(C,G,X,re){ie(this,C,G,X,re)};function Ee(C,G){var X,re=C.F;if(re)for(X=[];re;re=re.F)X.push(re);if(C=C.M,re=G.type||G,typeof G=="string")G=new q(G,C);else if(G instanceof q)G.target=G.target||C;else{var me=G;G=new q(re,C),F(G,me)}if(me=!0,X)for(var be=X.length-1;0<=be;be--){var Me=G.g=X[be];me=Ie(Me,re,!0,G)&&me}if(Me=G.g=C,me=Ie(Me,re,!0,G)&&me,me=Ie(Me,re,!1,G)&&me,X)for(be=0;be<X.length;be++)Me=G.g=X[be],me=Ie(Me,re,!1,G)&&me}Ne.prototype.N=function(){if(Ne.aa.N.call(this),this.i){var C=this.i,G;for(G in C.g){for(var X=C.g[G],re=0;re<X.length;re++)H(X[re]);delete C.g[G],C.h--}}this.F=null},Ne.prototype.K=function(C,G,X,re){return this.i.add(String(C),G,!1,X,re)},Ne.prototype.L=function(C,G,X,re){return this.i.add(String(C),G,!0,X,re)};function Ie(C,G,X,re){if(G=C.i.g[String(G)],!G)return!0;G=G.concat();for(var me=!0,be=0;be<G.length;++be){var Me=G[be];if(Me&&!Me.da&&Me.capture==X){var Ht=Me.listener,kr=Me.ha||Me.src;Me.fa&&J(C.i,Me),me=Ht.call(kr,re)!==!1&&me}}return me&&!re.defaultPrevented}function qe(C,G,X){if(typeof C=="function")X&&(C=d(C,X));else if(C&&typeof C.handleEvent=="function")C=d(C.handleEvent,C);else throw Error("Invalid listener argument");return 2147483647<Number(G)?-1:c.setTimeout(C,G||0)}function $e(C){C.g=qe(()=>{C.g=null,C.i&&(C.i=!1,$e(C))},C.l);const G=C.h;C.h=null,C.m.apply(null,G)}class We extends D{constructor(G,X){super(),this.m=G,this.l=X,this.h=null,this.i=!1,this.g=null}j(G){this.h=arguments,this.g?this.i=!0:$e(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ve(C){D.call(this),this.h=C,this.g={}}g(Ve,D);var Oe=[];function Ce(C){V(C.g,function(G,X){this.g.hasOwnProperty(X)&&ue(G)},C),C.g={}}Ve.prototype.N=function(){Ve.aa.N.call(this),Ce(this)},Ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var De=c.JSON.stringify,ze=c.JSON.parse,Le=class{stringify(C){return c.JSON.stringify(C,void 0)}parse(C){return c.JSON.parse(C,void 0)}};function gt(){}gt.prototype.h=null;function Ct(C){return C.h||(C.h=C.i())}function Ge(){}var bt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mt(){q.call(this,"d")}g(mt,q);function nt(){q.call(this,"c")}g(nt,q);var _t={},St=null;function Ke(){return St=St||new Ne}_t.La="serverreachability";function vt(C){q.call(this,_t.La,C)}g(vt,q);function Et(C){const G=Ke();Ee(G,new vt(G))}_t.STAT_EVENT="statevent";function tt(C,G){q.call(this,_t.STAT_EVENT,C),this.stat=G}g(tt,q);function at(C){const G=Ke();Ee(G,new tt(G,C))}_t.Ma="timingevent";function Ot(C,G){q.call(this,_t.Ma,C),this.size=G}g(Ot,q);function it(C,G){if(typeof C!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){C()},G)}function ae(){this.g=!0}ae.prototype.xa=function(){this.g=!1};function he(C,G,X,re,me,be){C.info(function(){if(C.g)if(be)for(var Me="",Ht=be.split("&"),kr=0;kr<Ht.length;kr++){var Lt=Ht[kr].split("=");if(1<Lt.length){var Pr=Lt[0];Lt=Lt[1];var Mr=Pr.split("_");Me=2<=Mr.length&&Mr[1]=="type"?Me+(Pr+"="+Lt+"&"):Me+(Pr+"=redacted&")}}else Me=null;else Me=be;return"XMLHTTP REQ ("+re+") [attempt "+me+"]: "+G+`
`+X+`
`+Me})}function ve(C,G,X,re,me,be,Me){C.info(function(){return"XMLHTTP RESP ("+re+") [ attempt "+me+"]: "+G+`
`+X+`
`+be+" "+Me})}function Ae(C,G,X,re){C.info(function(){return"XMLHTTP TEXT ("+G+"): "+Pe(C,X)+(re?" "+re:"")})}function Je(C,G){C.info(function(){return"TIMEOUT: "+G})}ae.prototype.info=function(){};function Pe(C,G){if(!C.g)return G;if(!G)return null;try{var X=JSON.parse(G);if(X){for(C=0;C<X.length;C++)if(Array.isArray(X[C])){var re=X[C];if(!(2>re.length)){var me=re[1];if(Array.isArray(me)&&!(1>me.length)){var be=me[0];if(be!="noop"&&be!="stop"&&be!="close")for(var Me=1;Me<me.length;Me++)me[Me]=""}}}}return De(X)}catch{return G}}var et={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ye={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},He;function st(){}g(st,gt),st.prototype.g=function(){return new XMLHttpRequest},st.prototype.i=function(){return{}},He=new st;function Xe(C,G,X,re){this.j=C,this.i=G,this.l=X,this.R=re||1,this.U=new Ve(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var Gt={},Vt={};function Zt(C,G,X){C.L=1,C.v=ai(Rr(G)),C.m=X,C.P=!0,nr(C,null)}function nr(C,G){C.F=Date.now(),pe(C),C.A=Rr(C.v);var X=C.A,re=C.R;Array.isArray(re)||(re=[String(re)]),ao(X.i,"t",re),C.C=0,X=C.j.J,C.h=new ft,C.g=X0(C.j,X?G:null,!C.m),0<C.O&&(C.M=new We(d(C.Y,C,C.g),C.O)),G=C.U,X=C.g,re=C.ca;var me="readystatechange";Array.isArray(me)||(me&&(Oe[0]=me.toString()),me=Oe);for(var be=0;be<me.length;be++){var Me=le(X,me[be],re||G.handleEvent,!1,G.h||G);if(!Me)break;G.g[Me.key]=Me}G=C.H?A(C.H):{},C.m?(C.u||(C.u="POST"),G["Content-Type"]="application/x-www-form-urlencoded",C.g.ea(C.A,C.u,C.m,G)):(C.u="GET",C.g.ea(C.A,C.u,null,G)),Et(),he(C.i,C.u,C.A,C.l,C.R,C.m)}Xe.prototype.ca=function(C){C=C.target;const G=this.M;G&&oi(C)==3?G.j():this.Y(C)},Xe.prototype.Y=function(C){try{if(C==this.g)e:{const Mr=oi(this.g);var G=this.g.Ba();const aa=this.g.Z();if(!(3>Mr)&&(Mr!=3||this.g&&(this.h.h||this.g.oa()||F0(this.g)))){this.J||Mr!=4||G==7||(G==8||0>=aa?Et(3):Et(2)),_e(this);var X=this.g.Z();this.X=X;t:if(_r(this)){var re=F0(this.g);C="";var me=re.length,be=oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Te(this),Fe(this);var Me="";break t}this.h.i=new c.TextDecoder}for(G=0;G<me;G++)this.h.h=!0,C+=this.h.i.decode(re[G],{stream:!(be&&G==me-1)});re.length=0,this.h.g+=C,this.C=0,Me=this.h.g}else Me=this.g.oa();if(this.o=X==200,ve(this.i,this.u,this.A,this.l,this.R,Mr,X),this.o){if(this.T&&!this.K){t:{if(this.g){var Ht,kr=this.g;if((Ht=kr.g?kr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ht)){var Lt=Ht;break t}}Lt=null}if(X=Lt)Ae(this.i,this.l,X,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Re(this,X);else{this.o=!1,this.s=3,at(12),Te(this),Fe(this);break e}}if(this.P){X=!0;let In;for(;!this.J&&this.C<Me.length;)if(In=ne(this,Me),In==Vt){Mr==4&&(this.s=4,at(14),X=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}else if(In==Gt){this.s=4,at(15),Ae(this.i,this.l,Me,"[Invalid Chunk]"),X=!1;break}else Ae(this.i,this.l,In,null),Re(this,In);if(_r(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mr!=4||Me.length!=0||this.h.h||(this.s=1,at(16),X=!1),this.o=this.o&&X,!X)Ae(this.i,this.l,Me,"[Invalid Chunked Response]"),Te(this),Fe(this);else if(0<Me.length&&!this.W){this.W=!0;var Pr=this.j;Pr.g==this&&Pr.ba&&!Pr.M&&(Pr.j.info("Great, no buffering proxy detected. Bytes received: "+Me.length),qd(Pr),Pr.M=!0,at(11))}}else Ae(this.i,this.l,Me,null),Re(this,Me);Mr==4&&Te(this),this.o&&!this.J&&(Mr==4?q0(this.j,this):(this.o=!1,pe(this)))}else m_(this.g),X==400&&0<Me.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Te(this),Fe(this)}}}catch{}finally{}};function _r(C){return C.g?C.u=="GET"&&C.L!=2&&C.j.Ca:!1}function ne(C,G){var X=C.C,re=G.indexOf(`
`,X);return re==-1?Vt:(X=Number(G.substring(X,re)),isNaN(X)?Gt:(re+=1,re+X>G.length?Vt:(G=G.slice(re,re+X),C.C=re+X,G)))}Xe.prototype.cancel=function(){this.J=!0,Te(this)};function pe(C){C.S=Date.now()+C.I,xe(C,C.I)}function xe(C,G){if(C.B!=null)throw Error("WatchDog timer not null");C.B=it(d(C.ba,C),G)}function _e(C){C.B&&(c.clearTimeout(C.B),C.B=null)}Xe.prototype.ba=function(){this.B=null;const C=Date.now();0<=C-this.S?(Je(this.i,this.A),this.L!=2&&(Et(),at(17)),Te(this),this.s=2,Fe(this)):xe(this,this.S-C)};function Fe(C){C.j.G==0||C.J||q0(C.j,C)}function Te(C){_e(C);var G=C.M;G&&typeof G.ma=="function"&&G.ma(),C.M=null,Ce(C.U),C.g&&(G=C.g,C.g=null,G.abort(),G.ma())}function Re(C,G){try{var X=C.j;if(X.G!=0&&(X.g==C||At(X.h,C))){if(!C.K&&At(X.h,C)&&X.G==3){try{var re=X.Da.g.parse(G)}catch{re=null}if(Array.isArray(re)&&re.length==3){var me=re;if(me[0]==0){e:if(!X.u){if(X.g)if(X.g.F+3e3<C.F)nc(X),tc(X);else break e;Hd(X),at(18)}}else X.za=me[1],0<X.za-X.T&&37500>me[2]&&X.F&&X.v==0&&!X.C&&(X.C=it(d(X.Za,X),6e3));if(1>=Ze(X.h)&&X.ca){try{X.ca()}catch{}X.ca=void 0}}else Es(X,11)}else if((C.K||X.g==C)&&nc(X),!y(G))for(me=X.Da.g.parse(G),G=0;G<me.length;G++){let Lt=me[G];if(X.T=Lt[0],Lt=Lt[1],X.G==2)if(Lt[0]=="c"){X.K=Lt[1],X.ia=Lt[2];const Pr=Lt[3];Pr!=null&&(X.la=Pr,X.j.info("VER="+X.la));const Mr=Lt[4];Mr!=null&&(X.Aa=Mr,X.j.info("SVER="+X.Aa));const aa=Lt[5];aa!=null&&typeof aa=="number"&&0<aa&&(re=1.5*aa,X.L=re,X.j.info("backChannelRequestTimeoutMs_="+re)),re=X;const In=C.g;if(In){const sc=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sc){var be=re.h;be.g||sc.indexOf("spdy")==-1&&sc.indexOf("quic")==-1&&sc.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(It(be,be.h),be.h=null))}if(re.D){const Wd=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;Wd&&(re.ya=Wd,Pt(re.I,re.D,Wd))}}X.G=3,X.l&&X.l.ua(),X.ba&&(X.R=Date.now()-C.F,X.j.info("Handshake RTT: "+X.R+"ms")),re=X;var Me=C;if(re.qa=K0(re,re.J?re.ia:null,re.W),Me.K){Dt(re.h,Me);var Ht=Me,kr=re.L;kr&&(Ht.I=kr),Ht.B&&(_e(Ht),pe(Ht)),re.g=Me}else $0(re);0<X.i.length&&rc(X)}else Lt[0]!="stop"&&Lt[0]!="close"||Es(X,7);else X.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Es(X,7):$d(X):Lt[0]!="noop"&&X.l&&X.l.ta(Lt),X.v=0)}}Et(4)}catch{}}var xt=class{constructor(C,G){this.g=C,this.map=G}};function ut(C){this.l=C||10,c.PerformanceNavigationTiming?(C=c.performance.getEntriesByType("navigation"),C=0<C.length&&(C[0].nextHopProtocol=="hq"||C[0].nextHopProtocol=="h2")):C=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=C?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pt(C){return C.h?!0:C.g?C.g.size>=C.j:!1}function Ze(C){return C.h?1:C.g?C.g.size:0}function At(C,G){return C.h?C.h==G:C.g?C.g.has(G):!1}function It(C,G){C.g?C.g.add(G):C.h=G}function Dt(C,G){C.h&&C.h==G?C.h=null:C.g&&C.g.has(G)&&C.g.delete(G)}ut.prototype.cancel=function(){if(this.i=qt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const C of this.g.values())C.cancel();this.g.clear()}};function qt(C){if(C.h!=null)return C.i.concat(C.h.D);if(C.g!=null&&C.g.size!==0){let G=C.i;for(const X of C.g.values())G=G.concat(X.D);return G}return b(C.i)}function ur(C){if(C.V&&typeof C.V=="function")return C.V();if(typeof Map<"u"&&C instanceof Map||typeof Set<"u"&&C instanceof Set)return Array.from(C.values());if(typeof C=="string")return C.split("");if(l(C)){for(var G=[],X=C.length,re=0;re<X;re++)G.push(C[re]);return G}G=[],X=0;for(re in C)G[X++]=C[re];return G}function Sr(C){if(C.na&&typeof C.na=="function")return C.na();if(!C.V||typeof C.V!="function"){if(typeof Map<"u"&&C instanceof Map)return Array.from(C.keys());if(!(typeof Set<"u"&&C instanceof Set)){if(l(C)||typeof C=="string"){var G=[];C=C.length;for(var X=0;X<C;X++)G.push(X);return G}G=[],X=0;for(const re in C)G[X++]=re;return G}}}function Zr(C,G){if(C.forEach&&typeof C.forEach=="function")C.forEach(G,void 0);else if(l(C)||typeof C=="string")Array.prototype.forEach.call(C,G,void 0);else for(var X=Sr(C),re=ur(C),me=re.length,be=0;be<me;be++)G.call(void 0,re[be],X&&X[be],C)}var Un=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pi(C,G){if(C){C=C.split("&");for(var X=0;X<C.length;X++){var re=C[X].indexOf("="),me=null;if(0<=re){var be=C[X].substring(0,re);me=C[X].substring(re+1)}else be=C[X];G(be,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function Jr(C){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,C instanceof Jr){this.h=C.h,Tt(this,C.j),this.o=C.o,this.g=C.g,yt(this,C.s),this.l=C.l;var G=C.i,X=new qn;X.i=G.i,G.g&&(X.g=new Map(G.g),X.h=G.h),Cn(this,X),this.m=C.m}else C&&(G=String(C).match(Un))?(this.h=!1,Tt(this,G[1]||"",!0),this.o=pr(G[2]||""),this.g=pr(G[3]||"",!0),yt(this,G[4]),this.l=pr(G[5]||"",!0),Cn(this,G[6]||"",!0),this.m=pr(G[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}Jr.prototype.toString=function(){var C=[],G=this.j;G&&C.push(Hr(G,Mi,!0),":");var X=this.g;return(X||G=="file")&&(C.push("//"),(G=this.o)&&C.push(Hr(G,Mi,!0),"@"),C.push(encodeURIComponent(String(X)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X=this.s,X!=null&&C.push(":",String(X))),(X=this.l)&&(this.g&&X.charAt(0)!="/"&&C.push("/"),C.push(Hr(X,X.charAt(0)=="/"?Oi:na,!0))),(X=this.i.toString())&&C.push("?",X),(X=this.m)&&C.push("#",Hr(X,Yl)),C.join("")};function Rr(C){return new Jr(C)}function Tt(C,G,X){C.j=X?pr(G,!0):G,C.j&&(C.j=C.j.replace(/:$/,""))}function yt(C,G){if(G){if(G=Number(G),isNaN(G)||0>G)throw Error("Bad port number "+G);C.s=G}else C.s=null}function Cn(C,G,X){G instanceof qn?(C.i=G,ia(C.i,C.h)):(X||(G=Hr(G,Hn)),C.i=new qn(G,C.h))}function Pt(C,G,X){C.i.set(G,X)}function ai(C){return Pt(C,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),C}function pr(C,G){return C?G?decodeURI(C.replace(/%25/g,"%2525")):decodeURIComponent(C):""}function Hr(C,G,X){return typeof C=="string"?(C=encodeURI(C).replace(G,$n),X&&(C=C.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C):null}function $n(C){return C=C.charCodeAt(0),"%"+(C>>4&15).toString(16)+(C&15).toString(16)}var Mi=/[#\/\?@]/g,na=/[#\?:]/g,Oi=/[#\?]/g,Hn=/[#\?@]/g,Yl=/#/g;function qn(C,G){this.h=this.g=null,this.i=C||null,this.j=!!G}function vn(C){C.g||(C.g=new Map,C.h=0,C.i&&Pi(C.i,function(G,X){C.add(decodeURIComponent(G.replace(/\+/g," ")),X)}))}r=qn.prototype,r.add=function(C,G){vn(this),this.i=null,C=An(this,C);var X=this.g.get(C);return X||this.g.set(C,X=[]),X.push(G),this.h+=1,this};function ks(C,G){vn(C),G=An(C,G),C.g.has(G)&&(C.i=null,C.h-=C.g.get(G).length,C.g.delete(G))}function Ns(C,G){return vn(C),G=An(C,G),C.g.has(G)}r.forEach=function(C,G){vn(this),this.g.forEach(function(X,re){X.forEach(function(me){C.call(G,me,re,this)},this)},this)},r.na=function(){vn(this);const C=Array.from(this.g.values()),G=Array.from(this.g.keys()),X=[];for(let re=0;re<G.length;re++){const me=C[re];for(let be=0;be<me.length;be++)X.push(G[re])}return X},r.V=function(C){vn(this);let G=[];if(typeof C=="string")Ns(this,C)&&(G=G.concat(this.g.get(An(this,C))));else{C=Array.from(this.g.values());for(let X=0;X<C.length;X++)G=G.concat(C[X])}return G},r.set=function(C,G){return vn(this),this.i=null,C=An(this,C),Ns(this,C)&&(this.h-=this.g.get(C).length),this.g.set(C,[G]),this.h+=1,this},r.get=function(C,G){return C?(C=this.V(C),0<C.length?String(C[0]):G):G};function ao(C,G,X){ks(C,G),0<X.length&&(C.i=null,C.g.set(An(C,G),b(X)),C.h+=X.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const C=[],G=Array.from(this.g.keys());for(var X=0;X<G.length;X++){var re=G[X];const be=encodeURIComponent(String(re)),Me=this.V(re);for(re=0;re<Me.length;re++){var me=be;Me[re]!==""&&(me+="="+encodeURIComponent(String(Me[re]))),C.push(me)}}return this.i=C.join("&")};function An(C,G){return G=String(G),C.j&&(G=G.toLowerCase()),G}function ia(C,G){G&&!C.j&&(vn(C),C.i=null,C.g.forEach(function(X,re){var me=re.toLowerCase();re!=me&&(ks(this,re),ao(this,me,X))},C)),C.j=G}function c_(C,G){const X=new ae;if(c.Image){const re=new Image;re.onload=h(Di,X,"TestLoadImage: loaded",!0,G,re),re.onerror=h(Di,X,"TestLoadImage: error",!1,G,re),re.onabort=h(Di,X,"TestLoadImage: abort",!1,G,re),re.ontimeout=h(Di,X,"TestLoadImage: timeout",!1,G,re),c.setTimeout(function(){re.ontimeout&&re.ontimeout()},1e4),re.src=C}else G(!1)}function u_(C,G){const X=new ae,re=new AbortController,me=setTimeout(()=>{re.abort(),Di(X,"TestPingServer: timeout",!1,G)},1e4);fetch(C,{signal:re.signal}).then(be=>{clearTimeout(me),be.ok?Di(X,"TestPingServer: ok",!0,G):Di(X,"TestPingServer: server error",!1,G)}).catch(()=>{clearTimeout(me),Di(X,"TestPingServer: error",!1,G)})}function Di(C,G,X,re,me){try{me&&(me.onload=null,me.onerror=null,me.onabort=null,me.ontimeout=null),re(X)}catch{}}function d_(){this.g=new Le}function h_(C,G,X){const re=X||"";try{Zr(C,function(me,be){let Me=me;o(me)&&(Me=De(me)),G.push(re+be+"="+encodeURIComponent(Me))})}catch(me){throw G.push(re+"type="+encodeURIComponent("_badmap")),me}}function Zl(C){this.l=C.Ub||null,this.j=C.eb||!1}g(Zl,gt),Zl.prototype.g=function(){return new Jl(this.l,this.j)},Zl.prototype.i=function(C){return function(){return C}}({});function Jl(C,G){Ne.call(this),this.D=C,this.o=G,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Jl,Ne),r=Jl.prototype,r.open=function(C,G){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=C,this.A=G,this.readyState=1,lo(this)},r.send=function(C){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const G={headers:this.u,method:this.B,credentials:this.m,cache:void 0};C&&(G.body=C),(this.D||c).fetch(new Request(this.A,G)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oo(this)),this.readyState=0},r.Sa=function(C){if(this.g&&(this.l=C,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=C.headers,this.readyState=2,lo(this)),this.g&&(this.readyState=3,lo(this),this.g)))if(this.responseType==="arraybuffer")C.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in C){if(this.j=C.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;R0(this)}else C.text().then(this.Ra.bind(this),this.ga.bind(this))};function R0(C){C.j.read().then(C.Pa.bind(C)).catch(C.ga.bind(C))}r.Pa=function(C){if(this.g){if(this.o&&C.value)this.response.push(C.value);else if(!this.o){var G=C.value?C.value:new Uint8Array(0);(G=this.v.decode(G,{stream:!C.done}))&&(this.response=this.responseText+=G)}C.done?oo(this):lo(this),this.readyState==3&&R0(this)}},r.Ra=function(C){this.g&&(this.response=this.responseText=C,oo(this))},r.Qa=function(C){this.g&&(this.response=C,oo(this))},r.ga=function(){this.g&&oo(this)};function oo(C){C.readyState=4,C.l=null,C.j=null,C.v=null,lo(C)}r.setRequestHeader=function(C,G){this.u.append(C,G)},r.getResponseHeader=function(C){return this.h&&this.h.get(C.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const C=[],G=this.h.entries();for(var X=G.next();!X.done;)X=X.value,C.push(X[0]+": "+X[1]),X=G.next();return C.join(`\r
`)};function lo(C){C.onreadystatechange&&C.onreadystatechange.call(C)}Object.defineProperty(Jl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(C){this.m=C?"include":"same-origin"}});function P0(C){let G="";return V(C,function(X,re){G+=re,G+=":",G+=X,G+=`\r
`}),G}function Ud(C,G,X){e:{for(re in X){var re=!1;break e}re=!0}re||(X=P0(X),typeof C=="string"?X!=null&&encodeURIComponent(String(X)):Pt(C,G,X))}function ir(C){Ne.call(this),this.headers=new Map,this.o=C||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(ir,Ne);var f_=/^https?$/i,p_=["POST","PUT"];r=ir.prototype,r.Ha=function(C){this.J=C},r.ea=function(C,G,X,re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+C);G=G?G.toUpperCase():"GET",this.D=C,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():He.g(),this.v=this.o?Ct(this.o):Ct(He),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(G,String(C),!0),this.B=!1}catch(be){M0(this,be);return}if(C=X||"",X=new Map(this.headers),re)if(Object.getPrototypeOf(re)===Object.prototype)for(var me in re)X.set(me,re[me]);else if(typeof re.keys=="function"&&typeof re.get=="function")for(const be of re.keys())X.set(be,re.get(be));else throw Error("Unknown input type for opt_headers: "+String(re));re=Array.from(X.keys()).find(be=>be.toLowerCase()=="content-type"),me=c.FormData&&C instanceof c.FormData,!(0<=Array.prototype.indexOf.call(p_,G,void 0))||re||me||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,Me]of X)this.g.setRequestHeader(be,Me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{L0(this),this.u=!0,this.g.send(C),this.u=!1}catch(be){M0(this,be)}};function M0(C,G){C.h=!1,C.g&&(C.j=!0,C.g.abort(),C.j=!1),C.l=G,C.m=5,O0(C),ec(C)}function O0(C){C.A||(C.A=!0,Ee(C,"complete"),Ee(C,"error"))}r.abort=function(C){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=C||7,Ee(this,"complete"),Ee(this,"abort"),ec(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ec(this,!0)),ir.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?D0(this):this.bb())},r.bb=function(){D0(this)};function D0(C){if(C.h&&typeof a<"u"&&(!C.v[1]||oi(C)!=4||C.Z()!=2)){if(C.u&&oi(C)==4)qe(C.Ea,0,C);else if(Ee(C,"readystatechange"),oi(C)==4){C.h=!1;try{const Me=C.Z();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var G=!0;break e;default:G=!1}var X;if(!(X=G)){var re;if(re=Me===0){var me=String(C.D).match(Un)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),re=!f_.test(me?me.toLowerCase():"")}X=re}if(X)Ee(C,"complete"),Ee(C,"success");else{C.m=6;try{var be=2<oi(C)?C.g.statusText:""}catch{be=""}C.l=be+" ["+C.Z()+"]",O0(C)}}finally{ec(C)}}}}function ec(C,G){if(C.g){L0(C);const X=C.g,re=C.v[0]?()=>{}:null;C.g=null,C.v=null,G||Ee(C,"ready");try{X.onreadystatechange=re}catch{}}}function L0(C){C.I&&(c.clearTimeout(C.I),C.I=null)}r.isActive=function(){return!!this.g};function oi(C){return C.g?C.g.readyState:0}r.Z=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(C){if(this.g){var G=this.g.responseText;return C&&G.indexOf(C)==0&&(G=G.substring(C.length)),ze(G)}};function F0(C){try{if(!C.g)return null;if("response"in C.g)return C.g.response;switch(C.H){case"":case"text":return C.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in C.g)return C.g.mozResponseArrayBuffer}return null}catch{return null}}function m_(C){const G={};C=(C.g&&2<=oi(C)&&C.g.getAllResponseHeaders()||"").split(`\r
`);for(let re=0;re<C.length;re++){if(y(C[re]))continue;var X=$(C[re]);const me=X[0];if(X=X[1],typeof X!="string")continue;X=X.trim();const be=G[me]||[];G[me]=be,be.push(X)}B(G,function(re){return re.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function co(C,G,X){return X&&X.internalChannelParams&&X.internalChannelParams[C]||G}function B0(C){this.Aa=0,this.i=[],this.j=new ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=co("failFast",!1,C),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=co("baseRetryDelayMs",5e3,C),this.cb=co("retryDelaySeedMs",1e4,C),this.Wa=co("forwardChannelMaxRetries",2,C),this.wa=co("forwardChannelRequestTimeoutMs",2e4,C),this.pa=C&&C.xmlHttpFactory||void 0,this.Xa=C&&C.Tb||void 0,this.Ca=C&&C.useFetchStreams||!1,this.L=void 0,this.J=C&&C.supportsCrossDomainXhr||!1,this.K="",this.h=new ut(C&&C.concurrentRequestLimit),this.Da=new d_,this.P=C&&C.fastHandshake||!1,this.O=C&&C.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=C&&C.Rb||!1,C&&C.xa&&this.j.xa(),C&&C.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&C&&C.detectBufferingProxy||!1,this.ja=void 0,C&&C.longPollingTimeout&&0<C.longPollingTimeout&&(this.ja=C.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=B0.prototype,r.la=8,r.G=1,r.connect=function(C,G,X,re){at(0),this.W=C,this.H=G||{},X&&re!==void 0&&(this.H.OSID=X,this.H.OAID=re),this.F=this.X,this.I=K0(this,null,this.W),rc(this)};function $d(C){if(V0(C),C.G==3){var G=C.U++,X=Rr(C.I);if(Pt(X,"SID",C.K),Pt(X,"RID",G),Pt(X,"TYPE","terminate"),uo(C,X),G=new Xe(C,C.j,G),G.L=2,G.v=ai(Rr(X)),X=!1,c.navigator&&c.navigator.sendBeacon)try{X=c.navigator.sendBeacon(G.v.toString(),"")}catch{}!X&&c.Image&&(new Image().src=G.v,X=!0),X||(G.g=X0(G.j,null),G.g.ea(G.v)),G.F=Date.now(),pe(G)}G0(C)}function tc(C){C.g&&(qd(C),C.g.cancel(),C.g=null)}function V0(C){tc(C),C.u&&(c.clearTimeout(C.u),C.u=null),nc(C),C.h.cancel(),C.s&&(typeof C.s=="number"&&c.clearTimeout(C.s),C.s=null)}function rc(C){if(!pt(C.h)&&!C.s){C.s=!0;var G=C.Ga;_||j(),S||(_(),S=!0),k.add(G,C),C.B=0}}function g_(C,G){return Ze(C.h)>=C.h.j-(C.s?1:0)?!1:C.s?(C.i=G.D.concat(C.i),!0):C.G==1||C.G==2||C.B>=(C.Va?0:C.Wa)?!1:(C.s=it(d(C.Ga,C,G),W0(C,C.B)),C.B++,!0)}r.Ga=function(C){if(this.s)if(this.s=null,this.G==1){if(!C){this.U=Math.floor(1e5*Math.random()),C=this.U++;const me=new Xe(this,this.j,C);let be=this.o;if(this.S&&(be?(be=A(be),F(be,this.S)):be=this.S),this.m!==null||this.O||(me.H=be,be=null),this.P)e:{for(var G=0,X=0;X<this.i.length;X++){t:{var re=this.i[X];if("__data__"in re.map&&(re=re.map.__data__,typeof re=="string")){re=re.length;break t}re=void 0}if(re===void 0)break;if(G+=re,4096<G){G=X;break e}if(G===4096||X===this.i.length-1){G=X+1;break e}}G=1e3}else G=1e3;G=U0(this,me,G),X=Rr(this.I),Pt(X,"RID",C),Pt(X,"CVER",22),this.D&&Pt(X,"X-HTTP-Session-Id",this.D),uo(this,X),be&&(this.O?G="headers="+encodeURIComponent(String(P0(be)))+"&"+G:this.m&&Ud(X,this.m,be)),It(this.h,me),this.Ua&&Pt(X,"TYPE","init"),this.P?(Pt(X,"$req",G),Pt(X,"SID","null"),me.T=!0,Zt(me,X,null)):Zt(me,X,G),this.G=2}}else this.G==3&&(C?z0(this,C):this.i.length==0||pt(this.h)||z0(this))};function z0(C,G){var X;G?X=G.l:X=C.U++;const re=Rr(C.I);Pt(re,"SID",C.K),Pt(re,"RID",X),Pt(re,"AID",C.T),uo(C,re),C.m&&C.o&&Ud(re,C.m,C.o),X=new Xe(C,C.j,X,C.B+1),C.m===null&&(X.H=C.o),G&&(C.i=G.D.concat(C.i)),G=U0(C,X,1e3),X.I=Math.round(.5*C.wa)+Math.round(.5*C.wa*Math.random()),It(C.h,X),Zt(X,re,G)}function uo(C,G){C.H&&V(C.H,function(X,re){Pt(G,re,X)}),C.l&&Zr({},function(X,re){Pt(G,re,X)})}function U0(C,G,X){X=Math.min(C.i.length,X);var re=C.l?d(C.l.Na,C.l,C):null;e:{var me=C.i;let be=-1;for(;;){const Me=["count="+X];be==-1?0<X?(be=me[0].g,Me.push("ofs="+be)):be=0:Me.push("ofs="+be);let Ht=!0;for(let kr=0;kr<X;kr++){let Lt=me[kr].g;const Pr=me[kr].map;if(Lt-=be,0>Lt)be=Math.max(0,me[kr].g-100),Ht=!1;else try{h_(Pr,Me,"req"+Lt+"_")}catch{re&&re(Pr)}}if(Ht){re=Me.join("&");break e}}}return C=C.i.splice(0,X),G.D=C,re}function $0(C){if(!C.g&&!C.u){C.Y=1;var G=C.Fa;_||j(),S||(_(),S=!0),k.add(G,C),C.v=0}}function Hd(C){return C.g||C.u||3<=C.v?!1:(C.Y++,C.u=it(d(C.Fa,C),W0(C,C.v)),C.v++,!0)}r.Fa=function(){if(this.u=null,H0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var C=2*this.R;this.j.info("BP detection timer enabled: "+C),this.A=it(d(this.ab,this),C)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),tc(this),H0(this))};function qd(C){C.A!=null&&(c.clearTimeout(C.A),C.A=null)}function H0(C){C.g=new Xe(C,C.j,"rpc",C.Y),C.m===null&&(C.g.H=C.o),C.g.O=0;var G=Rr(C.qa);Pt(G,"RID","rpc"),Pt(G,"SID",C.K),Pt(G,"AID",C.T),Pt(G,"CI",C.F?"0":"1"),!C.F&&C.ja&&Pt(G,"TO",C.ja),Pt(G,"TYPE","xmlhttp"),uo(C,G),C.m&&C.o&&Ud(G,C.m,C.o),C.L&&(C.g.I=C.L);var X=C.g;C=C.ia,X.L=1,X.v=ai(Rr(G)),X.m=null,X.P=!0,nr(X,C)}r.Za=function(){this.C!=null&&(this.C=null,tc(this),Hd(this),at(19))};function nc(C){C.C!=null&&(c.clearTimeout(C.C),C.C=null)}function q0(C,G){var X=null;if(C.g==G){nc(C),qd(C),C.g=null;var re=2}else if(At(C.h,G))X=G.D,Dt(C.h,G),re=1;else return;if(C.G!=0){if(G.o)if(re==1){X=G.m?G.m.length:0,G=Date.now()-G.F;var me=C.B;re=Ke(),Ee(re,new Ot(re,X)),rc(C)}else $0(C);else if(me=G.s,me==3||me==0&&0<G.X||!(re==1&&g_(C,G)||re==2&&Hd(C)))switch(X&&0<X.length&&(G=C.h,G.i=G.i.concat(X)),me){case 1:Es(C,5);break;case 4:Es(C,10);break;case 3:Es(C,6);break;default:Es(C,2)}}}function W0(C,G){let X=C.Ta+Math.floor(Math.random()*C.cb);return C.isActive()||(X*=2),X*G}function Es(C,G){if(C.j.info("Error code "+G),G==2){var X=d(C.fb,C),re=C.Xa;const me=!re;re=new Jr(re||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Tt(re,"https"),ai(re),me?c_(re.toString(),X):u_(re.toString(),X)}else at(2);C.G=0,C.l&&C.l.sa(G),G0(C),V0(C)}r.fb=function(C){C?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function G0(C){if(C.G=0,C.ka=[],C.l){const G=qt(C.h);(G.length!=0||C.i.length!=0)&&(m(C.ka,G),m(C.ka,C.i),C.h.i.length=0,b(C.i),C.i.length=0),C.l.ra()}}function K0(C,G,X){var re=X instanceof Jr?Rr(X):new Jr(X);if(re.g!="")G&&(re.g=G+"."+re.g),yt(re,re.s);else{var me=c.location;re=me.protocol,G=G?G+"."+me.hostname:me.hostname,me=+me.port;var be=new Jr(null);re&&Tt(be,re),G&&(be.g=G),me&&yt(be,me),X&&(be.l=X),re=be}return X=C.D,G=C.ya,X&&G&&Pt(re,X,G),Pt(re,"VER",C.la),uo(C,re),re}function X0(C,G,X){if(G&&!C.J)throw Error("Can't create secondary domain capable XhrIo object.");return G=C.Ca&&!C.pa?new ir(new Zl({eb:X})):new ir(C.pa),G.Ha(C.J),G}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Q0(){}r=Q0.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ic(){}ic.prototype.g=function(C,G){return new un(C,G)};function un(C,G){Ne.call(this),this.g=new B0(G),this.l=C,this.h=G&&G.messageUrlParams||null,C=G&&G.messageHeaders||null,G&&G.clientProtocolHeaderRequired&&(C?C["X-Client-Protocol"]="webchannel":C={"X-Client-Protocol":"webchannel"}),this.g.o=C,C=G&&G.initMessageHeaders||null,G&&G.messageContentType&&(C?C["X-WebChannel-Content-Type"]=G.messageContentType:C={"X-WebChannel-Content-Type":G.messageContentType}),G&&G.va&&(C?C["X-WebChannel-Client-Profile"]=G.va:C={"X-WebChannel-Client-Profile":G.va}),this.g.S=C,(C=G&&G.Sb)&&!y(C)&&(this.g.m=C),this.v=G&&G.supportsCrossDomainXhr||!1,this.u=G&&G.sendRawJson||!1,(G=G&&G.httpSessionIdParam)&&!y(G)&&(this.g.D=G,C=this.h,C!==null&&G in C&&(C=this.h,G in C&&delete C[G])),this.j=new sa(this)}g(un,Ne),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){$d(this.g)},un.prototype.o=function(C){var G=this.g;if(typeof C=="string"){var X={};X.__data__=C,C=X}else this.u&&(X={},X.__data__=De(C),C=X);G.i.push(new xt(G.Ya++,C)),G.G==3&&rc(G)},un.prototype.N=function(){this.g.l=null,delete this.j,$d(this.g),delete this.g,un.aa.N.call(this)};function Y0(C){mt.call(this),C.__headers__&&(this.headers=C.__headers__,this.statusCode=C.__status__,delete C.__headers__,delete C.__status__);var G=C.__sm__;if(G){e:{for(const X in G){C=X;break e}C=void 0}(this.i=C)&&(C=this.i,G=G!==null&&C in G?G[C]:void 0),this.data=G}else this.data=C}g(Y0,mt);function Z0(){nt.call(this),this.status=1}g(Z0,nt);function sa(C){this.g=C}g(sa,Q0),sa.prototype.ua=function(){Ee(this.g,"a")},sa.prototype.ta=function(C){Ee(this.g,new Y0(C))},sa.prototype.sa=function(C){Ee(this.g,new Z0)},sa.prototype.ra=function(){Ee(this.g,"b")},ic.prototype.createWebChannel=ic.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Xx=function(){return new ic},Kx=function(){return Ke()},Gx=_t,Qf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},et.NO_ERROR=0,et.TIMEOUT=8,et.HTTP_ERROR=6,Gc=et,Ye.COMPLETE="complete",Wx=Ye,Ge.EventType=bt,bt.OPEN="a",bt.CLOSE="b",bt.ERROR="c",bt.MESSAGE="d",Ne.prototype.listen=Ne.prototype.K,Ro=Ge,ir.prototype.listenOnce=ir.prototype.L,ir.prototype.getLastError=ir.prototype.Ka,ir.prototype.getLastErrorCode=ir.prototype.Ba,ir.prototype.getStatus=ir.prototype.Z,ir.prototype.getResponseJson=ir.prototype.Oa,ir.prototype.getResponseText=ir.prototype.oa,ir.prototype.send=ir.prototype.ea,ir.prototype.setWithCredentials=ir.prototype.Ha,qx=ir}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const Kb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fr=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new md("@firebase/firestore");function xo(){return qs.logLevel}function Ue(r,...t){if(qs.logLevel<=jt.DEBUG){const e=t.map(Dm);qs.debug(`Firestore (${ro}): ${r}`,...e)}}function ki(r,...t){if(qs.logLevel<=jt.ERROR){const e=t.map(Dm);qs.error(`Firestore (${ro}): ${r}`,...e)}}function Ua(r,...t){if(qs.logLevel<=jt.WARN){const e=t.map(Dm);qs.warn(`Firestore (${ro}): ${r}`,...e)}}function Dm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(r="Unexpected state"){const t=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: `+r;throw ki(t),new Error(t)}function Ut(r,t){r||ct()}function ht(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends zn{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class q9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Fr.UNAUTHENTICATED))}shutdown(){}}class W9{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class G9{constructor(t){this.t=t,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ut(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,e(l)):Promise.resolve();let s=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bi,t.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},c=l=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bi)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ut(typeof n.accessToken=="string"),new Qx(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ut(t===null||typeof t=="string"),new Fr(t)}}class K9{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class X9{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new K9(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q9{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y9{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){Ut(this.o===void 0);const n=s=>{s.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Ue("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>n(s))};const i=s=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ut(typeof e.token=="string"),this.R=e.token,new Q9(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<r;n++)e[n]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=Z9(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<e&&(n+=t.charAt(i[s]%t.length))}return n}}function Ft(r,t){return r<t?-1:r>t?1:0}function $a(r,t,e){return r.length===t.length&&r.every((n,i)=>e(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Qe(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Qe(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Qe(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Qe(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return yr.fromMillis(Date.now())}static fromDate(t){return yr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new yr(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new dt(t)}static min(){return new dt(new yr(0,0))}static max(){return new dt(new yr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(t,e,n){e===void 0?e=0:e>t.length&&ct(),n===void 0?n=t.length-e:n>t.length-e&&ct(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return wl.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof wl?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const s=t.get(i),a=e.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Yt extends wl{construct(t,e,n){return new Yt(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Qe(Se.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(i=>i.length>0))}return new Yt(e)}static emptyPath(){return new Yt([])}}const J9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends wl{construct(t,e,n){return new Tr(t,e,n)}static isValidIdentifier(t){return J9.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tr(["__name__"])}static fromServerFormat(t){const e=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Qe(Se.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let a=!1;for(;i<t.length;){const c=t[i];if(c==="\\"){if(i+1===t.length)throw new Qe(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Qe(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(n+=c,i++):(s(),i++)}if(s(),a)throw new Qe(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Tr(e)}static emptyPath(){return new Tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.path=t}static fromPath(t){return new rt(Yt.fromString(t))}static fromName(t){return new rt(Yt.fromString(t).popFirst(5))}static empty(){return new rt(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Yt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Yt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new rt(new Yt(t.slice()))}}function e7(r,t){const e=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=dt.fromTimestamp(n===1e9?new yr(e+1,0):new yr(e,n));return new ps(i,rt.empty(),t)}function t7(r){return new ps(r.readTime,r.key,-1)}class ps{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new ps(dt.min(),rt.empty(),-1)}static max(){return new ps(dt.max(),rt.empty(),-1)}}function r7(r,t){let e=r.readTime.compareTo(t.readTime);return e!==0?e:(e=rt.comparator(r.documentKey,t.documentKey),e!==0?e:Ft(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(r){if(r.code!==Se.FAILED_PRECONDITION||r.message!==n7)throw r;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ke((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(e,s).next(n,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ke?e:ke.resolve(e)}catch(e){return ke.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ke.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ke.reject(e)}static resolve(t){return new ke((e,n)=>{e(t)})}static reject(t){return new ke((e,n)=>{n(t)})}static waitFor(t){return new ke((e,n)=>{let i=0,s=0,a=!1;t.forEach(c=>{++i,c.next(()=>{++s,a&&s===i&&e()},l=>n(l))}),a=!0,s===i&&e()})}static or(t){let e=ke.resolve(!1);for(const n of t)e=e.next(i=>i?ke.resolve(i):n());return e}static forEach(t,e){const n=[];return t.forEach((i,s)=>{n.push(e.call(this,i,s))}),this.waitFor(n)}static mapArray(t,e){return new ke((n,i)=>{const s=t.length,a=new Array(s);let c=0;for(let l=0;l<s;l++){const o=l;e(t[o]).next(u=>{a[o]=u,++c,c===s&&n(a)},u=>i(u))}})}static doWhile(t,e){return new ke((n,i)=>{const s=()=>{t()===!0?e().next(()=>{s()},i):n()};s()})}}function s7(r){const t=r.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function zl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=n=>this.ie(n),this.se=n=>e.writeSequenceNumber(n))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Lm.oe=-1;function vd(r){return r==null}function Mu(r){return r===0&&1/r==-1/0}function a7(r){return typeof r=="number"&&Number.isInteger(r)&&!Mu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function ta(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function Zx(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t,e){this.comparator=t,this.root=e||Er.EMPTY}insert(t,e){return new rr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(t){return new rr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Er.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?n(t.key,e):1,e&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Er{constructor(t,e,n,i,s){this.key=t,this.value=e,this.color=n??Er.RED,this.left=i??Er.EMPTY,this.right=s??Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,s){return new Er(t??this.key,e??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const s=n(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,n),null):s===0?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),e(t,i.key)===0){if(i.right.isEmpty())return Er.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const t=this.left.check();if(t!==this.right.check())throw ct();return t+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1;Er.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(t,e,n,i,s){return this}insert(t,e,n){return new Er(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t){this.comparator=t,this.data=new rr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Qb(this.data.getIterator())}getIteratorFrom(t){return new Qb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof Cr)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Cr(this.comparator);return e.data=t,e}}class Qb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.fields=t,t.sort(Tr.comparator)}static empty(){return new fn([])}unionWith(t){let e=new Cr(Tr.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new fn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return $a(this.fields,t.fields,(e,n)=>e.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Jx("Invalid base64 string: "+s):s}}(t);return new Ir(e)}static fromUint8Array(t){const e=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(t);return new Ir(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const o7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(r){if(Ut(!!r),typeof r=="string"){let t=0;const e=o7.exec(r);if(Ut(!!e),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:or(r.seconds),nanos:or(r.nanos)}}function or(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ws(r){return typeof r=="string"?Ir.fromBase64String(r):Ir.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(r){var t,e;return((e=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="server_timestamp"}function Bm(r){const t=r.mapValue.fields.__previous_value__;return Fm(t)?Bm(t):t}function _l(r){const t=ms(r.mapValue.fields.__local_write_time__.timestampValue);return new yr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(t,e,n,i,s,a,c,l,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=o}}class Sl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Sl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec={mapValue:{}};function Gs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fm(r)?4:u7(r)?9007199254740991:c7(r)?10:11:ct()}function ii(r,t){if(r===t)return!0;const e=Gs(r);if(e!==Gs(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return _l(r).isEqual(_l(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=ms(i.timestampValue),c=ms(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(i,s){return Ws(i.bytesValue).isEqual(Ws(s.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(i,s){return or(i.geoPointValue.latitude)===or(s.geoPointValue.latitude)&&or(i.geoPointValue.longitude)===or(s.geoPointValue.longitude)}(r,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return or(i.integerValue)===or(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=or(i.doubleValue),c=or(s.doubleValue);return a===c?Mu(a)===Mu(c):isNaN(a)&&isNaN(c)}return!1}(r,t);case 9:return $a(r.arrayValue.values||[],t.arrayValue.values||[],ii);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},c=s.mapValue.fields||{};if(Xb(a)!==Xb(c))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(c[l]===void 0||!ii(a[l],c[l])))return!1;return!0}(r,t);default:return ct()}}function kl(r,t){return(r.values||[]).find(e=>ii(e,t))!==void 0}function Ha(r,t){if(r===t)return 0;const e=Gs(r),n=Gs(t);if(e!==n)return Ft(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ft(r.booleanValue,t.booleanValue);case 2:return function(s,a){const c=or(s.integerValue||s.doubleValue),l=or(a.integerValue||a.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(r,t);case 3:return Yb(r.timestampValue,t.timestampValue);case 4:return Yb(_l(r),_l(t));case 5:return Ft(r.stringValue,t.stringValue);case 6:return function(s,a){const c=Ws(s),l=Ws(a);return c.compareTo(l)}(r.bytesValue,t.bytesValue);case 7:return function(s,a){const c=s.split("/"),l=a.split("/");for(let o=0;o<c.length&&o<l.length;o++){const u=Ft(c[o],l[o]);if(u!==0)return u}return Ft(c.length,l.length)}(r.referenceValue,t.referenceValue);case 8:return function(s,a){const c=Ft(or(s.latitude),or(a.latitude));return c!==0?c:Ft(or(s.longitude),or(a.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Zb(r.arrayValue,t.arrayValue);case 10:return function(s,a){var c,l,o,u;const f=s.fields||{},d=a.fields||{},h=(c=f.value)===null||c===void 0?void 0:c.arrayValue,g=(l=d.value)===null||l===void 0?void 0:l.arrayValue,b=Ft(((o=h==null?void 0:h.values)===null||o===void 0?void 0:o.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return b!==0?b:Zb(h,g)}(r.mapValue,t.mapValue);case 11:return function(s,a){if(s===Ec.mapValue&&a===Ec.mapValue)return 0;if(s===Ec.mapValue)return 1;if(a===Ec.mapValue)return-1;const c=s.fields||{},l=Object.keys(c),o=a.fields||{},u=Object.keys(o);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const d=Ft(l[f],u[f]);if(d!==0)return d;const h=Ha(c[l[f]],o[u[f]]);if(h!==0)return h}return Ft(l.length,u.length)}(r.mapValue,t.mapValue);default:throw ct()}}function Yb(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ft(r,t);const e=ms(r),n=ms(t),i=Ft(e.seconds,n.seconds);return i!==0?i:Ft(e.nanos,n.nanos)}function Zb(r,t){const e=r.values||[],n=t.values||[];for(let i=0;i<e.length&&i<n.length;++i){const s=Ha(e[i],n[i]);if(s)return s}return Ft(e.length,n.length)}function qa(r){return Yf(r)}function Yf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(e){const n=ms(e);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(e){return Ws(e).toBase64()}(r.bytesValue):"referenceValue"in r?function(e){return rt.fromName(e).toString()}(r.referenceValue):"geoPointValue"in r?function(e){return`geo(${e.latitude},${e.longitude})`}(r.geoPointValue):"arrayValue"in r?function(e){let n="[",i=!0;for(const s of e.values||[])i?i=!1:n+=",",n+=Yf(s);return n+"]"}(r.arrayValue):"mapValue"in r?function(e){const n=Object.keys(e.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${Yf(e.fields[a])}`;return i+"}"}(r.mapValue):ct()}function Zf(r){return!!r&&"integerValue"in r}function Vm(r){return!!r&&"arrayValue"in r}function Jb(r){return!!r&&"nullValue"in r}function e1(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kc(r){return!!r&&"mapValue"in r}function c7(r){var t,e;return((e=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="__vector__"}function Wo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return ta(r.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Wo(n)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Wo(r.arrayValue.values[e]);return t}return Object.assign({},r)}function u7(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.value=t}static empty(){return new tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Kc(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wo(e)}setAll(t){let e=Tr.emptyPath(),n={},i=[];t.forEach((a,c)=>{if(!e.isImmediateParentOf(c)){const l=this.getFieldsMap(e);this.applyChanges(l,n,i),n={},i=[],e=c.popLast()}a?n[c.lastSegment()]=Wo(a):i.push(c.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,n,i)}delete(t){const e=this.field(t.popLast());Kc(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ii(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];Kc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){ta(e,(i,s)=>t[i]=s);for(const i of n)delete t[i]}clone(){return new tn(Wo(this.value))}}function ew(r){const t=[];return ta(r.fields,(e,n)=>{const i=new Tr([e]);if(Kc(n)){const s=ew(n.mapValue).fields;if(s.length===0)t.push(i);else for(const a of s)t.push(i.child(a))}else t.push(i)}),new fn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t,e,n,i,s,a,c){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(t){return new Vr(t,0,dt.min(),dt.min(),dt.min(),tn.empty(),0)}static newFoundDocument(t,e,n,i){return new Vr(t,1,e,dt.min(),n,i,0)}static newNoDocument(t,e){return new Vr(t,2,e,dt.min(),dt.min(),tn.empty(),0)}static newUnknownDocument(t,e){return new Vr(t,3,e,dt.min(),dt.min(),tn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Vr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(t,e){this.position=t,this.inclusive=e}}function t1(r,t,e){let n=0;for(let i=0;i<r.position.length;i++){const s=t[i],a=r.position[i];if(s.field.isKeyField()?n=rt.comparator(rt.fromName(a.referenceValue),e.key):n=Ha(a,e.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function r1(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!ii(r.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(t,e="asc"){this.field=t,this.dir=e}}function d7(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{}class gr extends tw{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,n):new f7(t,e,n):e==="array-contains"?new g7(t,n):e==="in"?new b7(t,n):e==="not-in"?new y7(t,n):e==="array-contains-any"?new v7(t,n):new gr(t,e,n)}static createKeyFieldInFilter(t,e,n){return e==="in"?new p7(t,n):new m7(t,n)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(Ha(e,this.value)):e!==null&&Gs(this.value)===Gs(e)&&this.matchesComparison(Ha(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends tw{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new si(t,e)}matches(t){return rw(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rw(r){return r.op==="and"}function nw(r){return h7(r)&&rw(r)}function h7(r){for(const t of r.filters)if(t instanceof si)return!1;return!0}function Jf(r){if(r instanceof gr)return r.field.canonicalString()+r.op.toString()+qa(r.value);if(nw(r))return r.filters.map(t=>Jf(t)).join(",");{const t=r.filters.map(e=>Jf(e)).join(",");return`${r.op}(${t})`}}function iw(r,t){return r instanceof gr?function(n,i){return i instanceof gr&&n.op===i.op&&n.field.isEqual(i.field)&&ii(n.value,i.value)}(r,t):r instanceof si?function(n,i){return i instanceof si&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,c)=>s&&iw(a,i.filters[c]),!0):!1}(r,t):void ct()}function sw(r){return r instanceof gr?function(e){return`${e.field.canonicalString()} ${e.op} ${qa(e.value)}`}(r):r instanceof si?function(e){return e.op.toString()+" {"+e.getFilters().map(sw).join(" ,")+"}"}(r):"Filter"}class f7 extends gr{constructor(t,e,n){super(t,e,n),this.key=rt.fromName(n.referenceValue)}matches(t){const e=rt.comparator(t.key,this.key);return this.matchesComparison(e)}}class p7 extends gr{constructor(t,e){super(t,"in",e),this.keys=aw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class m7 extends gr{constructor(t,e){super(t,"not-in",e),this.keys=aw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function aw(r,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(n=>rt.fromName(n.referenceValue))}class g7 extends gr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Vm(e)&&kl(e.arrayValue,this.value)}}class b7 extends gr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&kl(this.value.arrayValue,e)}}class y7 extends gr{constructor(t,e){super(t,"not-in",e)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!kl(this.value.arrayValue,e)}}class v7 extends gr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Vm(e)||!e.arrayValue.values)&&e.arrayValue.values.some(n=>kl(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(t,e=null,n=[],i=[],s=null,a=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.ue=null}}function n1(r,t=null,e=[],n=[],i=null,s=null,a=null){return new x7(r,t,e,n,i,s,a)}function zm(r){const t=ht(r);if(t.ue===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(n=>Jf(n)).join(","),e+="|ob:",e+=t.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),vd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>qa(n)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>qa(n)).join(",")),t.ue=e}return t.ue}function Um(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!d7(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!iw(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!r1(r.startAt,t.startAt)&&r1(r.endAt,t.endAt)}function ep(r){return rt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(t,e=null,n=[],i=[],s=null,a="F",c=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function w7(r,t,e,n,i,s,a,c){return new xd(r,t,e,n,i,s,a,c)}function wd(r){return new xd(r)}function i1(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _7(r){return r.collectionGroup!==null}function Go(r){const t=ht(r);if(t.ce===null){t.ce=[];const e=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Cr(Tr.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(o=>{o.isInequality()&&(c=c.add(o.field))})}),c})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.ce.push(new Du(s,n))}),e.has(Tr.keyField().canonicalString())||t.ce.push(new Du(Tr.keyField(),n))}return t.ce}function ei(r){const t=ht(r);return t.le||(t.le=S7(t,Go(r))),t.le}function S7(r,t){if(r.limitType==="F")return n1(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Du(i.field,s)});const e=r.endAt?new Ou(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Ou(r.startAt.position,r.startAt.inclusive):null;return n1(r.path,r.collectionGroup,t,r.filters,r.limit,e,n)}}function tp(r,t,e){return new xd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function _d(r,t){return Um(ei(r),ei(t))&&r.limitType===t.limitType}function ow(r){return`${zm(ei(r))}|lt:${r.limitType}`}function ca(r){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(i=>sw(i)).join(", ")}]`),vd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>qa(i)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>qa(i)).join(",")),`Target(${n})`}(ei(r))}; limitType=${r.limitType})`}function Sd(r,t){return t.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):rt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(r,t)&&function(n,i){for(const s of Go(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(r,t)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(r,t)&&function(n,i){return!(n.startAt&&!function(a,c,l){const o=t1(a,c,l);return a.inclusive?o<=0:o<0}(n.startAt,Go(n),i)||n.endAt&&!function(a,c,l){const o=t1(a,c,l);return a.inclusive?o>=0:o>0}(n.endAt,Go(n),i))}(r,t)}function k7(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function lw(r){return(t,e)=>{let n=!1;for(const i of Go(r)){const s=N7(i,t,e);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function N7(r,t,e){const n=r.field.isKeyField()?rt.comparator(t.key,e.key):function(s,a,c){const l=a.data.field(s),o=c.data.field(s);return l!==null&&o!==null?Ha(l,o):ct()}(r.field,t,e);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return ct()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,e]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ta(this.inner,(e,n)=>{for(const[i,s]of n)t(i,s)})}isEmpty(){return Zx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7=new rr(rt.comparator);function Ni(){return E7}const cw=new rr(rt.comparator);function Po(...r){let t=cw;for(const e of r)t=t.insert(e.key,e);return t}function uw(r){let t=cw;return r.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Ps(){return Ko()}function dw(){return Ko()}function Ko(){return new no(r=>r.toString(),(r,t)=>r.isEqual(t))}const T7=new rr(rt.comparator),j7=new Cr(rt.comparator);function Nt(...r){let t=j7;for(const e of r)t=t.add(e);return t}const C7=new Cr(Ft);function A7(){return C7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mu(t)?"-0":t}}function hw(r){return{integerValue:""+r}}function I7(r,t){return a7(t)?hw(t):$m(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this._=void 0}}function R7(r,t,e){return r instanceof Lu?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Fm(s)&&(s=Bm(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(e,t):r instanceof Nl?pw(r,t):r instanceof El?mw(r,t):function(i,s){const a=fw(i,s),c=s1(a)+s1(i.Pe);return Zf(a)&&Zf(i.Pe)?hw(c):$m(i.serializer,c)}(r,t)}function P7(r,t,e){return r instanceof Nl?pw(r,t):r instanceof El?mw(r,t):e}function fw(r,t){return r instanceof Fu?function(n){return Zf(n)||function(s){return!!s&&"doubleValue"in s}(n)}(t)?t:{integerValue:0}:null}class Lu extends kd{}class Nl extends kd{constructor(t){super(),this.elements=t}}function pw(r,t){const e=gw(t);for(const n of r.elements)e.some(i=>ii(i,n))||e.push(n);return{arrayValue:{values:e}}}class El extends kd{constructor(t){super(),this.elements=t}}function mw(r,t){let e=gw(t);for(const n of r.elements)e=e.filter(i=>!ii(i,n));return{arrayValue:{values:e}}}class Fu extends kd{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function s1(r){return or(r.integerValue||r.doubleValue)}function gw(r){return Vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function M7(r,t){return r.field.isEqual(t.field)&&function(n,i){return n instanceof Nl&&i instanceof Nl||n instanceof El&&i instanceof El?$a(n.elements,i.elements,ii):n instanceof Fu&&i instanceof Fu?ii(n.Pe,i.Pe):n instanceof Lu&&i instanceof Lu}(r.transform,t.transform)}class O7{constructor(t,e){this.version=t,this.transformResults=e}}class Nn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Nn}static exists(t){return new Nn(void 0,t)}static updateTime(t){return new Nn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Xc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Nd{}function bw(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Hm(r.key,Nn.none()):new Ul(r.key,r.data,Nn.none());{const e=r.data,n=tn.empty();let i=new Cr(Tr.comparator);for(let s of t.fields)if(!i.has(s)){let a=e.field(s);a===null&&s.length>1&&(s=s.popLast(),a=e.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Ss(r.key,n,new fn(i.toArray()),Nn.none())}}function D7(r,t,e){r instanceof Ul?function(i,s,a){const c=i.value.clone(),l=o1(i.fieldTransforms,s,a.transformResults);c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(r,t,e):r instanceof Ss?function(i,s,a){if(!Xc(i.precondition,s))return void s.convertToUnknownDocument(a.version);const c=o1(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(yw(i)),l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(r,t,e):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,e)}function Xo(r,t,e,n){return r instanceof Ul?function(s,a,c,l){if(!Xc(s.precondition,a))return c;const o=s.value.clone(),u=l1(s.fieldTransforms,l,a);return o.setAll(u),a.convertToFoundDocument(a.version,o).setHasLocalMutations(),null}(r,t,e,n):r instanceof Ss?function(s,a,c,l){if(!Xc(s.precondition,a))return c;const o=l1(s.fieldTransforms,l,a),u=a.data;return u.setAll(yw(s)),u.setAll(o),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(r,t,e,n):function(s,a,c){return Xc(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(r,t,e)}function L7(r,t){let e=null;for(const n of r.fieldTransforms){const i=t.data.field(n.field),s=fw(n.transform,i||null);s!=null&&(e===null&&(e=tn.empty()),e.set(n.field,s))}return e||null}function a1(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&$a(n,i,(s,a)=>M7(s,a))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ul extends Nd{constructor(t,e,n,i=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ss extends Nd{constructor(t,e,n,i,s=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yw(r){const t=new Map;return r.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const n=r.data.field(e);t.set(e,n)}}),t}function o1(r,t,e){const n=new Map;Ut(r.length===e.length);for(let i=0;i<e.length;i++){const s=r[i],a=s.transform,c=t.data.field(s.field);n.set(s.field,P7(a,c,e[i]))}return n}function l1(r,t,e){const n=new Map;for(const i of r){const s=i.transform,a=e.data.field(i.field);n.set(i.field,R7(s,a,t))}return n}class Hm extends Nd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F7 extends Nd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&D7(s,t,n[i])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Xo(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Xo(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=dw();return this.mutations.forEach(i=>{const s=t.get(i.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=e.has(i.key)?null:c;const l=bw(a,c);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(dt.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Nt())}isEqual(t){return this.batchId===t.batchId&&$a(this.mutations,t.mutations,(e,n)=>a1(e,n))&&$a(this.baseMutations,t.baseMutations,(e,n)=>a1(e,n))}}class qm{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){Ut(t.mutations.length===n.length);let i=function(){return T7}();const s=t.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new qm(t,e,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr,Rt;function U7(r){switch(r){default:return ct();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0}}function vw(r){if(r===void 0)return ki("GRPC error has no .code"),Se.UNKNOWN;switch(r){case dr.OK:return Se.OK;case dr.CANCELLED:return Se.CANCELLED;case dr.UNKNOWN:return Se.UNKNOWN;case dr.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case dr.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case dr.INTERNAL:return Se.INTERNAL;case dr.UNAVAILABLE:return Se.UNAVAILABLE;case dr.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case dr.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case dr.NOT_FOUND:return Se.NOT_FOUND;case dr.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case dr.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case dr.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case dr.ABORTED:return Se.ABORTED;case dr.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case dr.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case dr.DATA_LOSS:return Se.DATA_LOSS;default:return ct()}}(Rt=dr||(dr={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7=new Ls([4294967295,4294967295],0);function c1(r){const t=$7().encode(r),e=new Hx;return e.update(t),new Uint8Array(e.digest())}function u1(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ls([e,n],0),new Ls([i,s],0)]}class Wm{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Mo(`Invalid padding: ${e}`);if(n<0)throw new Mo(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${n}`);if(t.length===0&&e!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=Ls.fromNumber(this.Ie)}Ee(t,e,n){let i=t.add(e.multiply(Ls.fromNumber(n)));return i.compare(H7)===1&&(i=new Ls([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const e=c1(t),[n,i]=u1(e);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(t,e,n){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new Wm(s,i,e);return n.forEach(c=>a.insert(c)),a}insert(t){if(this.Ie===0)return;const e=c1(t),[n,i]=u1(e);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(t,e,n,i,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,$l.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Ed(dt.min(),i,new rr(Ft),Ni(),Nt())}}class $l{constructor(t,e,n,i,s){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new $l(n,e,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,e,n,i){this.Re=t,this.removedTargetIds=e,this.key=n,this.Ve=i}}class xw{constructor(t,e){this.targetId=t,this.me=e}}class ww{constructor(t,e,n=Ir.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class d1{constructor(){this.fe=0,this.ge=f1(),this.pe=Ir.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Nt(),e=Nt(),n=Nt();return this.ge.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:ct()}}),new $l(this.pe,this.ye,t,e,n)}Ce(){this.we=!1,this.ge=f1()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class q7{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ni(),this.qe=h1(),this.Qe=new rr(Ft)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const n=this.Ge(e);switch(t.state){case 0:this.ze(e)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),n.De(t.resumeToken));break;default:ct()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((n,i)=>{this.ze(i)&&e(i)})}He(t){const e=t.targetId,n=t.me.count,i=this.Je(e);if(i){const s=i.target;if(ep(s))if(n===0){const a=new rt(s.path);this.Ue(e,a,Vr.newNoDocument(a,dt.min()))}else Ut(n===1);else{const a=this.Ye(e);if(a!==n){const c=this.Ze(t),l=c?this.Xe(c,t,a):1;if(l!==0){this.je(e);const o=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(e,o)}}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=e;let a,c;try{a=Ws(n).toUint8Array()}catch(l){if(l instanceof Jx)return Ua("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new Wm(a,i,s)}catch(l){return Ua(l instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(t,e,n){return e.me.count===n-this.nt(t,e.targetId)?0:2}nt(t,e){const n=this.Le.getRemoteKeysForTarget(e);let i=0;return n.forEach(s=>{const a=this.Le.tt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.Ue(e,s,null),i++)}),i}rt(t){const e=new Map;this.Be.forEach((s,a)=>{const c=this.Je(a);if(c){if(s.current&&ep(c.target)){const l=new rt(c.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Vr.newNoDocument(l,t))}s.be&&(e.set(a,s.ve()),s.Ce())}});let n=Nt();this.qe.forEach((s,a)=>{let c=!0;a.forEachWhile(l=>{const o=this.Je(l);return!o||o.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(t));const i=new Ed(t,e,this.Qe,this.ke,n);return this.ke=Ni(),this.qe=h1(),this.Qe=new rr(Ft),i}$e(t,e){if(!this.ze(t))return;const n=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,n),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,n){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,e)?i.Fe(e,1):i.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),n&&(this.ke=this.ke.insert(e,n))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new d1,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new Cr(Ft),this.qe=this.qe.insert(t,e)),e}ze(t){const e=this.Je(t)!==null;return e||Ue("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new d1),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function h1(){return new rr(rt.comparator)}function f1(){return new rr(rt.comparator)}const W7={asc:"ASCENDING",desc:"DESCENDING"},G7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K7={and:"AND",or:"OR"};class X7{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function rp(r,t){return r.useProto3Json||vd(t)?t:{value:t}}function Bu(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _w(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Q7(r,t){return Bu(r,t.toTimestamp())}function ti(r){return Ut(!!r),dt.fromTimestamp(function(e){const n=ms(e);return new yr(n.seconds,n.nanos)}(r))}function Gm(r,t){return np(r,t).canonicalString()}function np(r,t){const e=function(i){return new Yt(["projects",i.projectId,"databases",i.database])}(r).child("documents");return t===void 0?e:e.child(t)}function Sw(r){const t=Yt.fromString(r);return Ut(jw(t)),t}function ip(r,t){return Gm(r.databaseId,t.path)}function Th(r,t){const e=Sw(t);if(e.get(1)!==r.databaseId.projectId)throw new Qe(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new Qe(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new rt(Nw(e))}function kw(r,t){return Gm(r.databaseId,t)}function Y7(r){const t=Sw(r);return t.length===4?Yt.emptyPath():Nw(t)}function sp(r){return new Yt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Nw(r){return Ut(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function p1(r,t,e){return{name:ip(r,t),fields:e.value.mapValue.fields}}function Z7(r,t){let e;if("targetChange"in t){t.targetChange;const n=function(o){return o==="NO_CHANGE"?0:o==="ADD"?1:o==="REMOVE"?2:o==="CURRENT"?3:o==="RESET"?4:ct()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(o,u){return o.useProto3Json?(Ut(u===void 0||typeof u=="string"),Ir.fromBase64String(u||"")):(Ut(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Ir.fromUint8Array(u||new Uint8Array))}(r,t.targetChange.resumeToken),a=t.targetChange.cause,c=a&&function(o){const u=o.code===void 0?Se.UNKNOWN:vw(o.code);return new Qe(u,o.message||"")}(a);e=new ww(n,i,s,c||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=Th(r,n.document.name),s=ti(n.document.updateTime),a=n.document.createTime?ti(n.document.createTime):dt.min(),c=new tn({mapValue:{fields:n.document.fields}}),l=Vr.newFoundDocument(i,s,a,c),o=n.targetIds||[],u=n.removedTargetIds||[];e=new Qc(o,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=Th(r,n.document),s=n.readTime?ti(n.readTime):dt.min(),a=Vr.newNoDocument(i,s),c=n.removedTargetIds||[];e=new Qc([],c,a.key,a)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=Th(r,n.document),s=n.removedTargetIds||[];e=new Qc([],s,i,null)}else{if(!("filter"in t))return ct();{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new z7(i,s),c=n.targetId;e=new xw(c,a)}}return e}function J7(r,t){let e;if(t instanceof Ul)e={update:p1(r,t.key,t.value)};else if(t instanceof Hm)e={delete:ip(r,t.key)};else if(t instanceof Ss)e={update:p1(r,t.key,t.data),updateMask:lN(t.fieldMask)};else{if(!(t instanceof F7))return ct();e={verify:ip(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(n=>function(s,a){const c=a.transform;if(c instanceof Lu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Nl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof El)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Fu)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw ct()}(0,n))),t.precondition.isNone||(e.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Q7(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ct()}(r,t.precondition)),e}function eN(r,t){return r&&r.length>0?(Ut(t!==void 0),r.map(e=>function(i,s){let a=i.updateTime?ti(i.updateTime):ti(s);return a.isEqual(dt.min())&&(a=ti(s)),new O7(a,i.transformResults||[])}(e,t))):[]}function tN(r,t){return{documents:[kw(r,t.path)]}}function rN(r,t){const e={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=kw(r,i);const s=function(o){if(o.length!==0)return Tw(si.create(o,"and"))}(t.filters);s&&(e.structuredQuery.where=s);const a=function(o){if(o.length!==0)return o.map(u=>function(d){return{field:ua(d.field),direction:sN(d.dir)}}(u))}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const c=rp(r,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=function(o){return{before:o.inclusive,values:o.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(o){return{before:!o.inclusive,values:o.position}}(t.endAt)),{_t:e,parent:i}}function nN(r){let t=Y7(r.parent);const e=r.structuredQuery,n=e.from?e.from.length:0;let i=null;if(n>0){Ut(n===1);const u=e.from[0];u.allDescendants?i=u.collectionId:t=t.child(u.collectionId)}let s=[];e.where&&(s=function(f){const d=Ew(f);return d instanceof si&&nw(d)?d.getFilters():[d]}(e.where));let a=[];e.orderBy&&(a=function(f){return f.map(d=>function(g){return new Du(da(g.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(e.orderBy));let c=null;e.limit&&(c=function(f){let d;return d=typeof f=="object"?f.value:f,vd(d)?null:d}(e.limit));let l=null;e.startAt&&(l=function(f){const d=!!f.before,h=f.values||[];return new Ou(h,d)}(e.startAt));let o=null;return e.endAt&&(o=function(f){const d=!f.before,h=f.values||[];return new Ou(h,d)}(e.endAt)),w7(t,i,a,s,c,"F",l,o)}function iN(r,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Ew(r){return r.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=da(e.unaryFilter.field);return gr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=da(e.unaryFilter.field);return gr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=da(e.unaryFilter.field);return gr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=da(e.unaryFilter.field);return gr.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}(r):r.fieldFilter!==void 0?function(e){return gr.create(da(e.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(e.fieldFilter.op),e.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(e){return si.create(e.compositeFilter.filters.map(n=>Ew(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ct()}}(e.compositeFilter.op))}(r):ct()}function sN(r){return W7[r]}function aN(r){return G7[r]}function oN(r){return K7[r]}function ua(r){return{fieldPath:r.canonicalString()}}function da(r){return Tr.fromServerFormat(r.fieldPath)}function Tw(r){return r instanceof gr?function(e){if(e.op==="=="){if(e1(e.value))return{unaryFilter:{field:ua(e.field),op:"IS_NAN"}};if(Jb(e.value))return{unaryFilter:{field:ua(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(e1(e.value))return{unaryFilter:{field:ua(e.field),op:"IS_NOT_NAN"}};if(Jb(e.value))return{unaryFilter:{field:ua(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(e.field),op:aN(e.op),value:e.value}}}(r):r instanceof si?function(e){const n=e.getFilters().map(i=>Tw(i));return n.length===1?n[0]:{compositeFilter:{op:oN(e.op),filters:n}}}(r):ct()}function lN(r){const t=[];return r.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function jw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t,e,n,i,s=dt.min(),a=dt.min(),c=Ir.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(t){return new Yi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(t){this.ct=t}}function uN(r){const t=nN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?tp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.un=new hN}addToCollectionParentIndex(t,e){return this.un.add(e),ke.resolve()}getCollectionParents(t,e){return ke.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return ke.resolve()}deleteFieldIndex(t,e){return ke.resolve()}deleteAllFieldIndexes(t){return ke.resolve()}createTargetIndexes(t,e){return ke.resolve()}getDocumentsMatchingTarget(t,e){return ke.resolve(null)}getIndexType(t,e){return ke.resolve(0)}getFieldIndexes(t,e){return ke.resolve([])}getNextCollectionGroupToUpdate(t){return ke.resolve(null)}getMinOffset(t,e){return ke.resolve(ps.min())}getMinOffsetFromCollectionGroup(t,e){return ke.resolve(ps.min())}updateCollectionGroup(t,e,n){return ke.resolve()}updateIndexEntries(t,e){return ke.resolve()}}class hN{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Cr(Yt.comparator),s=!i.has(n);return this.index[e]=i.add(n),s}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Cr(Yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wa(0)}static kn(){return new Wa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.changes=new no(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Vr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return n!==void 0?ke.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,e))).next(i=>(n!==null&&Xo(n.mutation,i,fn.empty(),yr.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.getLocalViewOfDocuments(t,n,Nt()).next(()=>n))}getLocalViewOfDocuments(t,e,n=Nt()){const i=Ps();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,n).next(s=>{let a=Po();return s.forEach((c,l)=>{a=a.insert(c,l.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const n=Ps();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,Nt()))}populateOverlays(t,e,n){const i=[];return n.forEach(s=>{e.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((a,c)=>{e.set(a,c)})})}computeViews(t,e,n,i){let s=Ni();const a=Ko(),c=function(){return Ko()}();return e.forEach((l,o)=>{const u=n.get(o.key);i.has(o.key)&&(u===void 0||u.mutation instanceof Ss)?s=s.insert(o.key,o):u!==void 0?(a.set(o.key,u.mutation.getFieldMask()),Xo(u.mutation,o,u.mutation.getFieldMask(),yr.now())):a.set(o.key,fn.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((o,u)=>a.set(o,u)),e.forEach((o,u)=>{var f;return c.set(o,new pN(u,(f=a.get(o))!==null&&f!==void 0?f:null))}),c))}recalculateAndSaveOverlays(t,e){const n=Ko();let i=new rr((a,c)=>a-c),s=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const c of a)c.keys().forEach(l=>{const o=e.get(l);if(o===null)return;let u=n.get(l)||fn.empty();u=c.applyToLocalView(o,u),n.set(l,u);const f=(i.get(c.batchId)||Nt()).add(l);i=i.insert(c.batchId,f)})}).next(()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const l=c.getNext(),o=l.key,u=l.value,f=dw();u.forEach(d=>{if(!s.has(d)){const h=bw(e.get(d),n.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(t,o,f))}return ke.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,e,n,i){return function(a){return rt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):_7(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,i):this.getDocumentsMatchingCollectionQuery(t,e,n,i)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-s.size):ke.resolve(Ps());let c=-1,l=s;return a.next(o=>ke.forEach(o,(u,f)=>(c<f.largestBatchId&&(c=f.largestBatchId),s.get(u)?ke.resolve():this.remoteDocumentCache.getEntry(t,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(t,o,s)).next(()=>this.computeViews(t,l,o,Nt())).next(u=>({batchId:c,changes:uw(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new rt(e)).next(n=>{let i=Po();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,n,i){const s=e.collectionGroup;let a=Po();return this.indexManager.getCollectionParents(t,s).next(c=>ke.forEach(c,l=>{const o=function(f,d){return new xd(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(e,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,o,n,i).next(u=>{u.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,e,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,s,i))).next(a=>{s.forEach((l,o)=>{const u=o.getKey();a.get(u)===null&&(a=a.insert(u,Vr.newInvalidDocument(u)))});let c=Po();return a.forEach((l,o)=>{const u=s.get(l);u!==void 0&&Xo(u.mutation,o,fn.empty(),yr.now()),Sd(e,o)&&(c=c.insert(l,o))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return ke.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,function(i){return{id:i.id,version:i.version,createTime:ti(i.createTime)}}(e)),ke.resolve()}getNamedQuery(t,e){return ke.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,function(i){return{name:i.name,query:uN(i.bundledQuery),readTime:ti(i.readTime)}}(e)),ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.overlays=new rr(rt.comparator),this.Ir=new Map}getOverlay(t,e){return ke.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Ps();return ke.forEach(e,i=>this.getOverlay(t,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((i,s)=>{this.ht(t,e,s)}),ke.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),ke.resolve()}getOverlaysForCollection(t,e,n){const i=Ps(),s=e.length+1,a=new rt(e.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const l=c.getNext().value,o=l.getKey();if(!e.isPrefixOf(o.path))break;o.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return ke.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let s=new rr((o,u)=>o-u);const a=this.overlays.getIterator();for(;a.hasNext();){const o=a.getNext().value;if(o.getKey().getCollectionGroup()===e&&o.largestBatchId>n){let u=s.get(o.largestBatchId);u===null&&(u=Ps(),s=s.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}const c=Ps(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((o,u)=>c.set(o,u)),!(c.size()>=i)););return ke.resolve(c)}ht(t,e,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new V7(e,n));let s=this.Ir.get(e);s===void 0&&(s=Nt(),this.Ir.set(e,s)),this.Ir.set(e,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.sessionToken=Ir.EMPTY_BYTE_STRING}getSessionToken(t){return ke.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.Tr=new Cr(vr.Er),this.dr=new Cr(vr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const n=new vr(t,e);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(t,e){t.forEach(n=>this.addReference(n,e))}removeReference(t,e){this.Vr(new vr(t,e))}mr(t,e){t.forEach(n=>this.removeReference(n,e))}gr(t){const e=new rt(new Yt([])),n=new vr(e,t),i=new vr(e,t+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new rt(new Yt([])),n=new vr(e,t),i=new vr(e,t+1);let s=Nt();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(t){const e=new vr(t,0),n=this.Tr.firstAfterOrEqual(e);return n!==null&&t.isEqual(n.key)}}class vr{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return rt.comparator(t.key,e.key)||Ft(t.wr,e.wr)}static Ar(t,e){return Ft(t.wr,e.wr)||rt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new Cr(vr.Er)}checkEmpty(t){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new B7(s,e,n,i);this.mutationQueue.push(a);for(const c of i)this.br=this.br.add(new vr(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return ke.resolve(a)}lookupMutationBatch(t,e){return ke.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.vr(n),s=i<0?0:i;return ke.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new vr(e,0),i=new vr(e,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const c=this.Dr(a.wr);s.push(c)}),ke.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Cr(Ft);return e.forEach(i=>{const s=new vr(i,0),a=new vr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],c=>{n=n.add(c.wr)})}),ke.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let s=n;rt.isDocumentKey(s)||(s=s.child(""));const a=new vr(new rt(s),0);let c=new Cr(Ft);return this.br.forEachWhile(l=>{const o=l.key.path;return!!n.isPrefixOf(o)&&(o.length===i&&(c=c.add(l.wr)),!0)},a),ke.resolve(this.Cr(c))}Cr(t){const e=[];return t.forEach(n=>{const i=this.Dr(n);i!==null&&e.push(i)}),e}removeMutationBatch(t,e){Ut(this.Fr(e.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ke.forEach(e.mutations,i=>{const s=new vr(i.key,e.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=n})}On(t){}containsKey(t,e){const n=new vr(e,0),i=this.br.firstAfterOrEqual(n);return ke.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,ke.resolve()}Fr(t,e){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(t){this.Mr=t,this.docs=function(){return new rr(rt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return ke.resolve(n?n.document.mutableCopy():Vr.newInvalidDocument(e))}getEntries(t,e){let n=Ni();return e.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Vr.newInvalidDocument(i))}),ke.resolve(n)}getDocumentsMatchingQuery(t,e,n,i){let s=Ni();const a=e.path,c=new rt(a.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){const{key:o,value:{document:u}}=l.getNext();if(!a.isPrefixOf(o.path))break;o.path.length>a.length+1||r7(t7(u),n)<=0||(i.has(u.key)||Sd(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ke.resolve(s)}getAllFromCollectionGroup(t,e,n,i){ct()}Or(t,e){return ke.forEach(this.docs,n=>e(n))}newChangeBuffer(t){return new wN(this)}getSize(t){return ke.resolve(this.size)}}class wN extends fN{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?e.push(this.cr.addEntry(t,i)):this.cr.removeEntry(n)}),ke.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t){this.persistence=t,this.Nr=new no(e=>zm(e),Um),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Km,this.targetCount=0,this.kr=Wa.Bn()}forEachTarget(t,e){return this.Nr.forEach((n,i)=>e(i)),ke.resolve()}getLastRemoteSnapshotVersion(t){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ke.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Lr&&(this.Lr=e),ke.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new Wa(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,ke.resolve()}updateTargetData(t,e){return this.Kn(e),ke.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,ke.resolve()}removeTargets(t,e,n){let i=0;const s=[];return this.Nr.forEach((a,c)=>{c.sequenceNumber<=e&&n.get(c.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),i++)}),ke.waitFor(s).next(()=>i)}getTargetCount(t){return ke.resolve(this.targetCount)}getTargetData(t,e){const n=this.Nr.get(e)||null;return ke.resolve(n)}addMatchingKeys(t,e,n){return this.Br.Rr(e,n),ke.resolve()}removeMatchingKeys(t,e,n){this.Br.mr(e,n);const i=this.persistence.referenceDelegate,s=[];return i&&e.forEach(a=>{s.push(i.markPotentiallyOrphaned(t,a))}),ke.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),ke.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Br.yr(e);return ke.resolve(n)}containsKey(t,e){return ke.resolve(this.Br.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(t,e){this.qr={},this.overlays={},this.Qr=new Lm(0),this.Kr=!1,this.Kr=!0,this.$r=new yN,this.referenceDelegate=t(this),this.Ur=new _N(this),this.indexManager=new dN,this.remoteDocumentCache=function(i){return new xN(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new cN(e),this.Gr=new gN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new bN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.qr[t.toKey()];return n||(n=new vN(e,this.referenceDelegate),this.qr[t.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,n){Ue("MemoryPersistence","Starting transaction:",t);const i=new kN(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(t,e){return ke.or(Object.values(this.qr).map(n=>()=>n.containsKey(t,e)))}}class kN extends i7{constructor(t){super(),this.currentSequenceNumber=t}}class Xm{constructor(t){this.persistence=t,this.Jr=new Km,this.Yr=null}static Zr(t){return new Xm(t)}get Xr(){if(this.Yr)return this.Yr;throw ct()}addReference(t,e,n){return this.Jr.addReference(n,e),this.Xr.delete(n.toString()),ke.resolve()}removeReference(t,e,n){return this.Jr.removeReference(n,e),this.Xr.add(n.toString()),ke.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),ke.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(t,e))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.Xr,n=>{const i=rt.fromPath(n);return this.ei(t,i).next(s=>{s||e.removeEntry(i,dt.min())})}).next(()=>(this.Yr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ei(t,e).next(n=>{n?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(t){return 0}ei(t,e){return ke.or([()=>ke.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.$i=n,this.Ui=i}static Wi(t,e){let n=Nt(),i=Nt();for(const s of e.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Qm(t,e.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return d8()?8:s7($r())>0?6:4}()}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,n,i){const s={result:null};return this.Yi(t,e).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(t,e,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new NN;return this.Xi(t,e,a).next(c=>{if(s.result=c,this.zi)return this.es(t,e,a,c.size)})}).next(()=>s.result)}es(t,e,n,i){return n.documentReadCount<this.ji?(xo()<=jt.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",ca(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ke.resolve()):(xo()<=jt.DEBUG&&Ue("QueryEngine","Query:",ca(e),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(xo()<=jt.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",ca(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ei(e))):ke.resolve())}Yi(t,e){if(i1(e))return ke.resolve(null);let n=ei(e);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(e.limit!==null&&i===1&&(e=tp(e,null,"F"),n=ei(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(s=>{const a=Nt(...s);return this.Ji.getDocuments(t,a).next(c=>this.indexManager.getMinOffset(t,n).next(l=>{const o=this.ts(e,c);return this.ns(e,o,a,l.readTime)?this.Yi(t,tp(e,null,"F")):this.rs(t,o,e,l)}))})))}Zi(t,e,n,i){return i1(e)||i.isEqual(dt.min())?ke.resolve(null):this.Ji.getDocuments(t,n).next(s=>{const a=this.ts(e,s);return this.ns(e,a,n,i)?ke.resolve(null):(xo()<=jt.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ca(e)),this.rs(t,a,e,e7(i,-1)).next(c=>c))})}ts(t,e){let n=new Cr(lw(t));return e.forEach((i,s)=>{Sd(t,s)&&(n=n.add(s))}),n}ns(t,e,n,i){if(t.limit===null)return!1;if(n.size!==e.size)return!0;const s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(t,e,n){return xo()<=jt.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",ca(e)),this.Ji.getDocumentsMatchingQuery(t,e,ps.min(),n)}rs(t,e,n,i){return this.Ji.getDocumentsMatchingQuery(t,n,i).next(s=>(e.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t,e,n,i){this.persistence=t,this.ss=e,this.serializer=i,this.os=new rr(Ft),this._s=new no(s=>zm(s),Um),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(n)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.os))}}function jN(r,t,e,n){return new TN(r,t,e,n)}async function Cw(r,t){const e=ht(r);return await e.persistence.runTransaction("Handle user change","readonly",n=>{let i;return e.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,e.ls(t),e.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],c=[];let l=Nt();for(const o of i){a.push(o.batchId);for(const u of o.mutations)l=l.add(u.key)}for(const o of s){c.push(o.batchId);for(const u of o.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(n,l).next(o=>({hs:o,removedBatchIds:a,addedBatchIds:c}))})})}function CN(r,t){const e=ht(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),s=e.cs.newChangeBuffer({trackRemovals:!0});return function(c,l,o,u){const f=o.batch,d=f.keys();let h=ke.resolve();return d.forEach(g=>{h=h.next(()=>u.getEntry(l,g)).next(b=>{const m=o.docVersions.get(g);Ut(m!==null),b.version.compareTo(m)<0&&(f.applyToRemoteDocument(b,o),b.isValidDocument()&&(b.setReadTime(o.commitVersion),u.addEntry(b)))})}),h.next(()=>c.mutationQueue.removeMutationBatch(l,f))}(e,n,t,s).next(()=>s.apply(n)).next(()=>e.mutationQueue.performConsistencyCheck(n)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let l=Nt();for(let o=0;o<c.mutationResults.length;++o)c.mutationResults[o].transformResults.length>0&&(l=l.add(c.batch.mutations[o].key));return l}(t))).next(()=>e.localDocuments.getDocuments(n,i))})}function Aw(r){const t=ht(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function AN(r,t){const e=ht(r),n=t.snapshotVersion;let i=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=e.cs.newChangeBuffer({trackRemovals:!0});i=e.os;const c=[];t.targetChanges.forEach((u,f)=>{const d=i.get(f);if(!d)return;c.push(e.Ur.removeMatchingKeys(s,u.removedDocuments,f).next(()=>e.Ur.addMatchingKeys(s,u.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(Ir.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,n)),i=i.insert(f,h),function(b,m,v){return b.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,h,u)&&c.push(e.Ur.updateTargetData(s,h))});let l=Ni(),o=Nt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))}),c.push(IN(s,a,t.documentUpdates).next(u=>{l=u.Ps,o=u.Is})),!n.isEqual(dt.min())){const u=e.Ur.getLastRemoteSnapshotVersion(s).next(f=>e.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));c.push(u)}return ke.waitFor(c).next(()=>a.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,o)).next(()=>l)}).then(s=>(e.os=i,s))}function IN(r,t,e){let n=Nt(),i=Nt();return e.forEach(s=>n=n.add(s)),t.getEntries(r,n).next(s=>{let a=Ni();return e.forEach((c,l)=>{const o=s.get(c);l.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(c)),l.isNoDocument()&&l.version.isEqual(dt.min())?(t.removeEntry(c,l.readTime),a=a.insert(c,l)):!o.isValidDocument()||l.version.compareTo(o.version)>0||l.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(l),a=a.insert(c,l)):Ue("LocalStore","Ignoring outdated watch update for ",c,". Current version:",o.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function RN(r,t){const e=ht(r);return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function PN(r,t){const e=ht(r);return e.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return e.Ur.getTargetData(n,t).next(s=>s?(i=s,ke.resolve(i)):e.Ur.allocateTargetId(n).next(a=>(i=new Yi(t,a,"TargetPurposeListen",n.currentSequenceNumber),e.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=e.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.os=e.os.insert(n.targetId,n),e._s.set(t,n.targetId)),n})}async function ap(r,t,e){const n=ht(r),i=n.os.get(t),s=e?"readwrite":"readwrite-primary";try{e||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!zl(a))throw a;Ue("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}n.os=n.os.remove(t),n._s.delete(i.target)}function m1(r,t,e){const n=ht(r);let i=dt.min(),s=Nt();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,o,u){const f=ht(l),d=f._s.get(u);return d!==void 0?ke.resolve(f.os.get(d)):f.Ur.getTargetData(o,u)}(n,a,ei(t)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,c.targetId).next(l=>{s=l})}).next(()=>n.ss.getDocumentsMatchingQuery(a,t,e?i:dt.min(),e?s:Nt())).next(c=>(MN(n,k7(t),c),{documents:c,Ts:s})))}function MN(r,t,e){let n=r.us.get(t)||dt.min();e.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),r.us.set(t,n)}class g1{constructor(){this.activeTargetIds=A7()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ON{constructor(){this.so=new g1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,n){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new g1,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function jh(){return Tc===null?Tc=function(){return 268435456+Math.round(2147483648*Math.random())}():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="WebChannelConnection";class BN extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+e.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(e,n,i,s,a){const c=jh(),l=this.xo(e,n.toUriEncodedString());Ue("RestConnection",`Sending RPC '${e}' ${c}:`,l,i);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,s,a),this.No(e,l,o,i).then(u=>(Ue("RestConnection",`Received RPC '${e}' ${c}: `,u),u),u=>{throw Ua("RestConnection",`RPC '${e}' ${c} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(e,n,i,s,a,c){return this.Mo(e,n,i,s,a)}Oo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ro}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),i&&i.headers.forEach((s,a)=>e[a]=s)}xo(e,n){const i=LN[e];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,n,i){const s=jh();return new Promise((a,c)=>{const l=new qx;l.setWithCredentials(!0),l.listenOnce(Wx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Gc.NO_ERROR:const u=l.getResponseJson();Ue(Lr,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(u)),a(u);break;case Gc.TIMEOUT:Ue(Lr,`RPC '${t}' ${s} timed out`),c(new Qe(Se.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const f=l.getStatus();if(Ue(Lr,`RPC '${t}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const g=function(m){const v=m.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(v)>=0?v:Se.UNKNOWN}(h.status);c(new Qe(g,h.message))}else c(new Qe(Se.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new Qe(Se.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{Ue(Lr,`RPC '${t}' ${s} completed.`)}});const o=JSON.stringify(i);Ue(Lr,`RPC '${t}' ${s} sending request:`,i),l.send(e,"POST",o,n,15)})}Bo(t,e,n){const i=jh(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=Xx(),c=Kx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},o=this.longPollingOptions.timeoutSeconds;o!==void 0&&(l.longPollingTimeout=Math.round(1e3*o)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,e,n),l.encodeInitMessageHeaders=!0;const u=s.join("");Ue(Lr,`Creating RPC '${t}' stream ${i}: ${u}`,l);const f=a.createWebChannel(u,l);let d=!1,h=!1;const g=new FN({Io:m=>{h?Ue(Lr,`Not sending because RPC '${t}' stream ${i} is closed:`,m):(d||(Ue(Lr,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),Ue(Lr,`RPC '${t}' stream ${i} sending:`,m),f.send(m))},To:()=>f.close()}),b=(m,v,y)=>{m.listen(v,w=>{try{y(w)}catch(T){setTimeout(()=>{throw T},0)}})};return b(f,Ro.EventType.OPEN,()=>{h||(Ue(Lr,`RPC '${t}' stream ${i} transport opened.`),g.yo())}),b(f,Ro.EventType.CLOSE,()=>{h||(h=!0,Ue(Lr,`RPC '${t}' stream ${i} transport closed`),g.So())}),b(f,Ro.EventType.ERROR,m=>{h||(h=!0,Ua(Lr,`RPC '${t}' stream ${i} transport errored:`,m),g.So(new Qe(Se.UNAVAILABLE,"The operation could not be completed")))}),b(f,Ro.EventType.MESSAGE,m=>{var v;if(!h){const y=m.data[0];Ut(!!y);const w=y,T=w.error||((v=w[0])===null||v===void 0?void 0:v.error);if(T){Ue(Lr,`RPC '${t}' stream ${i} received error:`,T);const I=T.status;let V=function(M){const F=dr[M];if(F!==void 0)return vw(F)}(I),B=T.message;V===void 0&&(V=Se.INTERNAL,B="Unknown error status: "+I+" with message "+T.message),h=!0,g.So(new Qe(V,B)),f.close()}else Ue(Lr,`RPC '${t}' stream ${i} received:`,y),g.bo(y)}}),b(c,Gx.STAT_EVENT,m=>{m.stat===Qf.PROXY?Ue(Lr,`RPC '${t}' stream ${i} detected buffering proxy`):m.stat===Qf.NOPROXY&&Ue(Lr,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Ch(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(r){return new X7(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t,e,n=1e3,i=1.5,s=6e4){this.ui=t,this.timerId=e,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,e-n);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,e,n,i,s,a,c,l){this.ui=t,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Iw(t,e)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,e){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():e&&e.code===Se.RESOURCE_EXHAUSTED?(ki(e.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):e&&e.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(e)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===e&&this.P_(n,i)},n=>{t(()=>{const i=new Qe(Se.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(t,e){const n=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return Ue("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget(()=>this.Yo===t?e():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VN extends Rw{constructor(t,e,n,i,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,a),this.serializer=s}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=Z7(this.serializer,t),n=function(s){if(!("targetChange"in s))return dt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?dt.min():a.readTime?ti(a.readTime):dt.min()}(t);return this.listener.d_(e,n)}A_(t){const e={};e.database=sp(this.serializer),e.addTarget=function(s,a){let c;const l=a.target;if(c=ep(l)?{documents:tN(s,l)}:{query:rN(s,l)._t},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=_w(s,a.resumeToken);const o=rp(s,a.expectedCount);o!==null&&(c.expectedCount=o)}else if(a.snapshotVersion.compareTo(dt.min())>0){c.readTime=Bu(s,a.snapshotVersion.toTimestamp());const o=rp(s,a.expectedCount);o!==null&&(c.expectedCount=o)}return c}(this.serializer,t);const n=iN(this.serializer,t);n&&(e.labels=n),this.a_(e)}R_(t){const e={};e.database=sp(this.serializer),e.removeTarget=t,this.a_(e)}}class zN extends Rw{constructor(t,e,n,i,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return Ut(!!t.streamToken),this.lastStreamToken=t.streamToken,Ut(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Ut(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const e=eN(t.writeResults,t.commitTime),n=ti(t.commitTime);return this.listener.g_(n,e)}p_(){const t={};t.database=sp(this.serializer),this.a_(t)}m_(t){const e={streamToken:this.lastStreamToken,writes:t.map(n=>J7(this.serializer,n))};this.a_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN extends class{}{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Qe(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(t,np(e,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Qe(Se.UNKNOWN,s.toString())})}Lo(t,e,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Lo(t,np(e,n),i,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Qe(Se.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class $N{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ki(e),this.D_=!1):Ue("OnlineStateTracker",e)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t,e,n,i,s){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{ra(this)&&(Ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const o=ht(l);o.L_.add(4),await Hl(o),o.q_.set("Unknown"),o.L_.delete(4),await jd(o)}(this))})}),this.q_=new $N(n,i)}}async function jd(r){if(ra(r))for(const t of r.B_)await t(!0)}async function Hl(r){for(const t of r.B_)await t(!1)}function Pw(r,t){const e=ht(r);e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),e0(e)?Jm(e):io(e).r_()&&Zm(e,t))}function Ym(r,t){const e=ht(r),n=io(e);e.N_.delete(t),n.r_()&&Mw(e,t),e.N_.size===0&&(n.r_()?n.o_():ra(e)&&e.q_.set("Unknown"))}function Zm(r,t){if(r.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(dt.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}io(r).A_(t)}function Mw(r,t){r.Q_.xe(t),io(r).R_(t)}function Jm(r){r.Q_=new q7({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>r.N_.get(t)||null,tt:()=>r.datastore.serializer.databaseId}),io(r).start(),r.q_.v_()}function e0(r){return ra(r)&&!io(r).n_()&&r.N_.size>0}function ra(r){return ht(r).L_.size===0}function Ow(r){r.Q_=void 0}async function qN(r){r.q_.set("Online")}async function WN(r){r.N_.forEach((t,e)=>{Zm(r,t)})}async function GN(r,t){Ow(r),e0(r)?(r.q_.M_(t),Jm(r)):r.q_.set("Unknown")}async function KN(r,t,e){if(r.q_.set("Online"),t instanceof ww&&t.state===2&&t.cause)try{await async function(i,s){const a=s.cause;for(const c of s.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,a),i.N_.delete(c),i.Q_.removeTarget(c))}(r,t)}catch(n){Ue("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Vu(r,n)}else if(t instanceof Qc?r.Q_.Ke(t):t instanceof xw?r.Q_.He(t):r.Q_.We(t),!e.isEqual(dt.min()))try{const n=await Aw(r.localStore);e.compareTo(n)>=0&&await function(s,a){const c=s.Q_.rt(a);return c.targetChanges.forEach((l,o)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(o);u&&s.N_.set(o,u.withResumeToken(l.resumeToken,a))}}),c.targetMismatches.forEach((l,o)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(Ir.EMPTY_BYTE_STRING,u.snapshotVersion)),Mw(s,l);const f=new Yi(u.target,l,o,u.sequenceNumber);Zm(s,f)}),s.remoteSyncer.applyRemoteEvent(c)}(r,e)}catch(n){Ue("RemoteStore","Failed to raise snapshot:",n),await Vu(r,n)}}async function Vu(r,t,e){if(!zl(t))throw t;r.L_.add(1),await Hl(r),r.q_.set("Offline"),e||(e=()=>Aw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Ue("RemoteStore","Retrying IndexedDB access"),await e(),r.L_.delete(1),await jd(r)})}function Dw(r,t){return t().catch(e=>Vu(r,e,t))}async function Cd(r){const t=ht(r),e=gs(t);let n=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;XN(t);)try{const i=await RN(t.localStore,n);if(i===null){t.O_.length===0&&e.o_();break}n=i.batchId,QN(t,i)}catch(i){await Vu(t,i)}Lw(t)&&Fw(t)}function XN(r){return ra(r)&&r.O_.length<10}function QN(r,t){r.O_.push(t);const e=gs(r);e.r_()&&e.V_&&e.m_(t.mutations)}function Lw(r){return ra(r)&&!gs(r).n_()&&r.O_.length>0}function Fw(r){gs(r).start()}async function YN(r){gs(r).p_()}async function ZN(r){const t=gs(r);for(const e of r.O_)t.m_(e.mutations)}async function JN(r,t,e){const n=r.O_.shift(),i=qm.from(n,t,e);await Dw(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await Cd(r)}async function eE(r,t){t&&gs(r).V_&&await async function(n,i){if(function(a){return U7(a)&&a!==Se.ABORTED}(i.code)){const s=n.O_.shift();gs(n).s_(),await Dw(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Cd(n)}}(r,t),Lw(r)&&Fw(r)}async function y1(r,t){const e=ht(r);e.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const n=ra(e);e.L_.add(3),await Hl(e),n&&e.q_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),await jd(e)}async function tE(r,t){const e=ht(r);t?(e.L_.delete(2),await jd(e)):t||(e.L_.add(2),await Hl(e),e.q_.set("Unknown"))}function io(r){return r.K_||(r.K_=function(e,n,i){const s=ht(e);return s.w_(),new VN(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{Eo:qN.bind(null,r),Ro:WN.bind(null,r),mo:GN.bind(null,r),d_:KN.bind(null,r)}),r.B_.push(async t=>{t?(r.K_.s_(),e0(r)?Jm(r):r.q_.set("Unknown")):(await r.K_.stop(),Ow(r))})),r.K_}function gs(r){return r.U_||(r.U_=function(e,n,i){const s=ht(e);return s.w_(),new zN(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:YN.bind(null,r),mo:eE.bind(null,r),f_:ZN.bind(null,r),g_:JN.bind(null,r)}),r.B_.push(async t=>{t?(r.U_.s_(),await Cd(r)):(await r.U_.stop(),r.O_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))})),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(t,e,n,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,i,s){const a=Date.now()+n,c=new t0(t,e,a,i,s);return c.start(n),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Qe(Se.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function r0(r,t){if(ki("AsyncQueue",`${t}: ${r}`),zl(r))return new Qe(Se.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t){this.comparator=t?(e,n)=>t(e,n)||rt.comparator(e.key,n.key):(e,n)=>rt.comparator(e.key,n.key),this.keyedMap=Po(),this.sortedSet=new rr(this.comparator)}static emptySet(t){return new Ma(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ma)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const n=new Ma;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.W_=new rr(rt.comparator)}track(t){const e=t.doc.key,n=this.W_.get(e);n?t.type!==0&&n.type===3?this.W_=this.W_.insert(e,t):t.type===3&&n.type!==1?this.W_=this.W_.insert(e,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.W_=this.W_.remove(e):t.type===1&&n.type===2?this.W_=this.W_.insert(e,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):ct():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal((e,n)=>{t.push(n)}),t}}class Ga{constructor(t,e,n,i,s,a,c,l,o){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=o}static fromInitialDocuments(t,e,n,i,s){const a=[];return e.forEach(c=>{a.push({type:0,doc:c})}),new Ga(t,e,Ma.emptySet(e),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_d(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class nE{constructor(){this.queries=x1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(e,n){const i=ht(e),s=i.queries;i.queries=x1(),s.forEach((a,c)=>{for(const l of c.j_)l.onError(n)})})(this,new Qe(Se.ABORTED,"Firestore shutting down"))}}function x1(){return new no(r=>ow(r),_d)}async function n0(r,t){const e=ht(r);let n=3;const i=t.query;let s=e.queries.get(i);s?!s.H_()&&t.J_()&&(n=2):(s=new rE,n=t.J_()?0:1);try{switch(n){case 0:s.z_=await e.onListen(i,!0);break;case 1:s.z_=await e.onListen(i,!1);break;case 2:await e.onFirstRemoteStoreListen(i)}}catch(a){const c=r0(a,`Initialization of query '${ca(t.query)}' failed`);return void t.onError(c)}e.queries.set(i,s),s.j_.push(t),t.Z_(e.onlineState),s.z_&&t.X_(s.z_)&&s0(e)}async function i0(r,t){const e=ht(r),n=t.query;let i=3;const s=e.queries.get(n);if(s){const a=s.j_.indexOf(t);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function iE(r,t){const e=ht(r);let n=!1;for(const i of t){const s=i.query,a=e.queries.get(s);if(a){for(const c of a.j_)c.X_(i)&&(n=!0);a.z_=i}}n&&s0(e)}function sE(r,t,e){const n=ht(r),i=n.queries.get(t);if(i)for(const s of i.j_)s.onError(e);n.queries.delete(t)}function s0(r){r.Y_.forEach(t=>{t.next()})}var op,w1;(w1=op||(op={})).ea="default",w1.Cache="cache";class a0{constructor(t,e,n){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new Ga(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){if(!t.fromCache||!this.J_())return!0;const n=e!=="Offline";return(!this.options._a||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const e=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}oa(t){t=Ga.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t){this.key=t}}class Vw{constructor(t){this.key=t}}class aE{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Nt(),this.mutatedKeys=Nt(),this.Aa=lw(t),this.Ra=new Ma(this.Aa)}get Va(){return this.Ta}ma(t,e){const n=e?e.fa:new v1,i=e?e.Ra:this.Ra;let s=e?e.mutatedKeys:this.mutatedKeys,a=i,c=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,o=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((u,f)=>{const d=i.get(u),h=Sd(this.query,f)?f:null,g=!!d&&this.mutatedKeys.has(d.key),b=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let m=!1;d&&h?d.data.isEqual(h.data)?g!==b&&(n.track({type:3,doc:h}),m=!0):this.ga(d,h)||(n.track({type:2,doc:h}),m=!0,(l&&this.Aa(h,l)>0||o&&this.Aa(h,o)<0)&&(c=!0)):!d&&h?(n.track({type:0,doc:h}),m=!0):d&&!h&&(n.track({type:1,doc:d}),m=!0,(l||o)&&(c=!0)),m&&(h?(a=a.add(h),s=b?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),n.track({type:1,doc:u})}return{Ra:a,fa:n,ns:c,mutatedKeys:s}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,i){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const a=t.fa.G_();a.sort((u,f)=>function(h,g){const b=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return b(h)-b(g)}(u.type,f.type)||this.Aa(u.doc,f.doc)),this.pa(n),i=i!=null&&i;const c=e&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,o=l!==this.Ea;return this.Ea=l,a.length!==0||o?{snapshot:new Ga(this.query,t.Ra,s,a,t.mutatedKeys,l===0,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new v1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Nt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const e=[];return t.forEach(n=>{this.da.has(n)||e.push(new Vw(n))}),this.da.forEach(n=>{t.has(n)||e.push(new Bw(n))}),e}ba(t){this.Ta=t.Ts,this.da=Nt();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return Ga.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class oE{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class lE{constructor(t){this.key=t,this.va=!1}}class cE{constructor(t,e,n,i,s,a){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new no(c=>ow(c),_d),this.Ma=new Map,this.xa=new Set,this.Oa=new rr(rt.comparator),this.Na=new Map,this.La=new Km,this.Ba={},this.ka=new Map,this.qa=Wa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function uE(r,t,e=!0){const n=Ww(r);let i;const s=n.Fa.get(t);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await zw(n,t,e,!0),i}async function dE(r,t){const e=Ww(r);await zw(e,t,!0,!1)}async function zw(r,t,e,n){const i=await PN(r.localStore,ei(t)),s=i.targetId,a=r.sharedClientState.addLocalQueryTarget(s,e);let c;return n&&(c=await hE(r,t,s,a==="current",i.resumeToken)),r.isPrimaryClient&&e&&Pw(r.remoteStore,i),c}async function hE(r,t,e,n,i){r.Ka=(f,d,h)=>async function(b,m,v,y){let w=m.view.ma(v);w.ns&&(w=await m1(b.localStore,m.query,!1).then(({documents:B})=>m.view.ma(B,w)));const T=y&&y.targetChanges.get(m.targetId),I=y&&y.targetMismatches.get(m.targetId)!=null,V=m.view.applyChanges(w,b.isPrimaryClient,T,I);return S1(b,m.targetId,V.wa),V.snapshot}(r,f,d,h);const s=await m1(r.localStore,t,!0),a=new aE(t,s.Ts),c=a.ma(s.documents),l=$l.createSynthesizedTargetChangeForCurrentChange(e,n&&r.onlineState!=="Offline",i),o=a.applyChanges(c,r.isPrimaryClient,l);S1(r,e,o.wa);const u=new oE(t,e,a);return r.Fa.set(t,u),r.Ma.has(e)?r.Ma.get(e).push(t):r.Ma.set(e,[t]),o.snapshot}async function fE(r,t,e){const n=ht(r),i=n.Fa.get(t),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!_d(a,t))),void n.Fa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await ap(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),e&&Ym(n.remoteStore,i.targetId),lp(n,i.targetId)}).catch(Vl)):(lp(n,i.targetId),await ap(n.localStore,i.targetId,!0))}async function pE(r,t){const e=ht(r),n=e.Fa.get(t),i=e.Ma.get(n.targetId);e.isPrimaryClient&&i.length===1&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),Ym(e.remoteStore,n.targetId))}async function mE(r,t,e){const n=_E(r);try{const i=await function(a,c){const l=ht(a),o=yr.now(),u=c.reduce((h,g)=>h.add(g.key),Nt());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let g=Ni(),b=Nt();return l.cs.getEntries(h,u).next(m=>{g=m,g.forEach((v,y)=>{y.isValidDocument()||(b=b.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,g)).next(m=>{f=m;const v=[];for(const y of c){const w=L7(y,f.get(y.key).overlayedDocument);w!=null&&v.push(new Ss(y.key,w,ew(w.value.mapValue),Nn.exists(!0)))}return l.mutationQueue.addMutationBatch(h,o,v,c)}).next(m=>{d=m;const v=m.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(h,m.batchId,v)})}).then(()=>({batchId:d.batchId,changes:uw(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(a,c,l){let o=a.Ba[a.currentUser.toKey()];o||(o=new rr(Ft)),o=o.insert(c,l),a.Ba[a.currentUser.toKey()]=o}(n,i.batchId,e),await ql(n,i.changes),await Cd(n.remoteStore)}catch(i){const s=r0(i,"Failed to persist write");e.reject(s)}}async function Uw(r,t){const e=ht(r);try{const n=await AN(e.localStore,t);t.targetChanges.forEach((i,s)=>{const a=e.Na.get(s);a&&(Ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Ut(a.va):i.removedDocuments.size>0&&(Ut(a.va),a.va=!1))}),await ql(e,n,t)}catch(n){await Vl(n)}}function _1(r,t,e){const n=ht(r);if(n.isPrimaryClient&&e===0||!n.isPrimaryClient&&e===1){const i=[];n.Fa.forEach((s,a)=>{const c=a.view.Z_(t);c.snapshot&&i.push(c.snapshot)}),function(a,c){const l=ht(a);l.onlineState=c;let o=!1;l.queries.forEach((u,f)=>{for(const d of f.j_)d.Z_(c)&&(o=!0)}),o&&s0(l)}(n.eventManager,t),i.length&&n.Ca.d_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function gE(r,t,e){const n=ht(r);n.sharedClientState.updateQueryState(t,"rejected",e);const i=n.Na.get(t),s=i&&i.key;if(s){let a=new rr(rt.comparator);a=a.insert(s,Vr.newNoDocument(s,dt.min()));const c=Nt().add(s),l=new Ed(dt.min(),new Map,new rr(Ft),a,c);await Uw(n,l),n.Oa=n.Oa.remove(s),n.Na.delete(t),o0(n)}else await ap(n.localStore,t,!1).then(()=>lp(n,t,e)).catch(Vl)}async function bE(r,t){const e=ht(r),n=t.batch.batchId;try{const i=await CN(e.localStore,t);Hw(e,n,null),$w(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),await ql(e,i)}catch(i){await Vl(i)}}async function yE(r,t,e){const n=ht(r);try{const i=await function(a,c){const l=ht(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",o=>{let u;return l.mutationQueue.lookupMutationBatch(o,c).next(f=>(Ut(f!==null),u=f.keys(),l.mutationQueue.removeMutationBatch(o,f))).next(()=>l.mutationQueue.performConsistencyCheck(o)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(o,u,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,u)).next(()=>l.localDocuments.getDocuments(o,u))})}(n.localStore,t);Hw(n,t,e),$w(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),await ql(n,i)}catch(i){await Vl(i)}}function $w(r,t){(r.ka.get(t)||[]).forEach(e=>{e.resolve()}),r.ka.delete(t)}function Hw(r,t,e){const n=ht(r);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(t);s&&(e?s.reject(e):s.resolve(),i=i.remove(t)),n.Ba[n.currentUser.toKey()]=i}}function lp(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const n of r.Ma.get(t))r.Fa.delete(n),e&&r.Ca.$a(n,e);r.Ma.delete(t),r.isPrimaryClient&&r.La.gr(t).forEach(n=>{r.La.containsKey(n)||qw(r,n)})}function qw(r,t){r.xa.delete(t.path.canonicalString());const e=r.Oa.get(t);e!==null&&(Ym(r.remoteStore,e),r.Oa=r.Oa.remove(t),r.Na.delete(e),o0(r))}function S1(r,t,e){for(const n of e)n instanceof Bw?(r.La.addReference(n.key,t),vE(r,n)):n instanceof Vw?(Ue("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,t),r.La.containsKey(n.key)||qw(r,n.key)):ct()}function vE(r,t){const e=t.key,n=e.path.canonicalString();r.Oa.get(e)||r.xa.has(n)||(Ue("SyncEngine","New document in limbo: "+e),r.xa.add(n),o0(r))}function o0(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const t=r.xa.values().next().value;r.xa.delete(t);const e=new rt(Yt.fromString(t)),n=r.qa.next();r.Na.set(n,new lE(e)),r.Oa=r.Oa.insert(e,n),Pw(r.remoteStore,new Yi(ei(wd(e.path)),n,"TargetPurposeLimboResolution",Lm.oe))}}async function ql(r,t,e){const n=ht(r),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((c,l)=>{a.push(n.Ka(l,t,e).then(o=>{var u;if((o||e)&&n.isPrimaryClient){const f=o?!o.fromCache:(u=e==null?void 0:e.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(o){i.push(o);const f=Qm.Wi(l.targetId,o);s.push(f)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(l,o){const u=ht(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ke.forEach(o,d=>ke.forEach(d.$i,h=>u.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>ke.forEach(d.Ui,h=>u.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!zl(f))throw f;Ue("LocalStore","Failed to update sequence numbers: "+f)}for(const f of o){const d=f.targetId;if(!f.fromCache){const h=u.os.get(d),g=h.snapshotVersion,b=h.withLastLimboFreeSnapshotVersion(g);u.os=u.os.insert(d,b)}}}(n.localStore,s))}async function xE(r,t){const e=ht(r);if(!e.currentUser.isEqual(t)){Ue("SyncEngine","User change. New user:",t.toKey());const n=await Cw(e.localStore,t);e.currentUser=t,function(s,a){s.ka.forEach(c=>{c.forEach(l=>{l.reject(new Qe(Se.CANCELLED,a))})}),s.ka.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await ql(e,n.hs)}}function wE(r,t){const e=ht(r),n=e.Na.get(t);if(n&&n.va)return Nt().add(n.key);{let i=Nt();const s=e.Ma.get(t);if(!s)return i;for(const a of s){const c=e.Fa.get(a);i=i.unionWith(c.view.Va)}return i}}function Ww(r){const t=ht(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=Uw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gE.bind(null,t),t.Ca.d_=iE.bind(null,t.eventManager),t.Ca.$a=sE.bind(null,t.eventManager),t}function _E(r){const t=ht(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yE.bind(null,t),t}class zu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Td(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,e){return null}Ha(t,e){return null}za(t){return jN(this.persistence,new EN,t.initialUser,this.serializer)}Ga(t){return new SN(Xm.Zr,this.serializer)}Wa(t){return new ON}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zu.provider={build:()=>new zu};class cp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>_1(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=xE.bind(null,this.syncEngine),await tE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new nE}()}createDatastore(t){const e=Td(t.databaseInfo.databaseId),n=function(s){return new BN(s)}(t.databaseInfo);return function(s,a,c,l){return new UN(s,a,c,l)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(n,i,s,a,c){return new HN(n,i,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,e=>_1(this.syncEngine,e,0),function(){return b1.D()?new b1:new DN}())}createSyncEngine(t,e){return function(i,s,a,c,l,o,u){const f=new cE(i,s,a,c,l,o);return u&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(i){const s=ht(i);Ue("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Hl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}cp.provider={build:()=>new cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):ki("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t,e,n,i,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=Fr.UNAUTHENTICATED,this.clientId=Yx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{Ue("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(Ue("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=r0(e,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function Ah(r,t){r.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const e=r.configuration;await t.initialize(e);let n=e.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await Cw(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function k1(r,t){r.asyncQueue.verifyOperationInProgress();const e=await kE(r);Ue("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(e,r.configuration),r.setCredentialChangeListener(n=>y1(t.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>y1(t.remoteStore,i)),r._onlineComponents=t}async function kE(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ah(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(i){return i.name==="FirebaseError"?i.code===Se.FAILED_PRECONDITION||i.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(e))throw e;Ua("Error using user provided cache. Falling back to memory cache: "+e),await Ah(r,new zu)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),await Ah(r,new zu);return r._offlineComponents}async function Gw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),await k1(r,r._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),await k1(r,new cp))),r._onlineComponents}function NE(r){return Gw(r).then(t=>t.syncEngine)}async function Uu(r){const t=await Gw(r),e=t.eventManager;return e.onListen=uE.bind(null,t.syncEngine),e.onUnlisten=fE.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=dE.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=pE.bind(null,t.syncEngine),e}function EE(r,t,e={}){const n=new bi;return r.asyncQueue.enqueueAndForget(async()=>function(s,a,c,l,o){const u=new l0({next:d=>{u.Za(),a.enqueueAndForget(()=>i0(s,f));const h=d.docs.has(c);!h&&d.fromCache?o.reject(new Qe(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&l&&l.source==="server"?o.reject(new Qe(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(d)},error:d=>o.reject(d)}),f=new a0(wd(c.path),u,{includeMetadataChanges:!0,_a:!0});return n0(s,f)}(await Uu(r),r.asyncQueue,t,e,n)),n.promise}function TE(r,t,e={}){const n=new bi;return r.asyncQueue.enqueueAndForget(async()=>function(s,a,c,l,o){const u=new l0({next:d=>{u.Za(),a.enqueueAndForget(()=>i0(s,f)),d.fromCache&&l.source==="server"?o.reject(new Qe(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(d)},error:d=>o.reject(d)}),f=new a0(c,u,{includeMetadataChanges:!0,_a:!0});return n0(s,f)}(await Uu(r),r.asyncQueue,t,e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(r,t,e){if(!e)throw new Qe(Se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function jE(r,t,e,n){if(t===!0&&n===!0)throw new Qe(Se.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function E1(r){if(!rt.isDocumentKey(r))throw new Qe(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function T1(r){if(rt.isDocumentKey(r))throw new Qe(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function c0(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":ct()}function on(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new Qe(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=c0(r);throw new Qe(Se.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t){var e,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Qe(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(e=t.ssl)===null||e===void 0||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Qe(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}jE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kw((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Qe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Qe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Qe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ad{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Qe(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Qe(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j1(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new q9;switch(n.type){case"firstParty":return new X9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Qe(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=N1.get(e);n&&(Ue("ComponentProvider","Removing Datastore"),N1.delete(e),n.terminate())}(this),Promise.resolve()}}function CE(r,t,e,n={}){var i;const s=(r=on(r,Ad))._getSettings(),a=`${t}:${e}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let c,l;if(typeof n.mockUserToken=="string")c=n.mockUserToken,l=Fr.MOCK_USER;else{c=s8(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const o=n.mockUserToken.sub||n.mockUserToken.user_id;if(!o)throw new Qe(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Fr(o)}r._authCredentials=new W9(new Qx(c,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Wl(this.firestore,t,this._query)}}class Gr{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gr(this.firestore,t,this._key)}}class us extends Wl{constructor(t,e,n){super(t,e,wd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gr(this.firestore,null,new rt(t))}withConverter(t){return new us(this.firestore,t,this._path)}}function $u(r,t,...e){if(r=fr(r),Xw("collection","path",t),r instanceof Ad){const n=Yt.fromString(t,...e);return T1(n),new us(r,null,n)}{if(!(r instanceof Gr||r instanceof us))throw new Qe(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Yt.fromString(t,...e));return T1(n),new us(r.firestore,null,n)}}function Ei(r,t,...e){if(r=fr(r),arguments.length===1&&(t=Yx.newId()),Xw("doc","path",t),r instanceof Ad){const n=Yt.fromString(t,...e);return E1(n),new Gr(r,null,new rt(n))}{if(!(r instanceof Gr||r instanceof us))throw new Qe(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Yt.fromString(t,...e));return E1(n),new Gr(r.firestore,r instanceof us?r.converter:null,new rt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Iw(this,"async_queue_retry"),this.Vu=()=>{const n=Ch();n&&Ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=t;const e=Ch();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const e=Ch();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const e=new bi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!zl(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const e=this.mu.then(()=>(this.du=!0,t().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(n);throw ki("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=e,e}enqueueAfterDelay(t,e,n){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);const i=t0.createAndSchedule(this,t,e,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ct()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(const e of this.Tu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const e=this.Tu.indexOf(t);this.Tu.splice(e,1)}}function A1(r){return function(e,n){if(typeof e!="object"||e===null)return!1;const i=e;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(r,["next","error","complete"])}class Ti extends Ad{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new C1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new C1(t),this._firestoreClient=void 0,await t}}}function AE(r,t){const e=typeof r=="object"?r:Em(),n=typeof r=="string"?r:"(default)",i=ea(e,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=n8("firestore");s&&CE(i,...s)}return i}function Id(r){if(r._terminated)throw new Qe(Se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||IE(r),r._firestoreClient}function IE(r){var t,e,n;const i=r._freezeSettings(),s=function(c,l,o,u){return new l7(c,l,o,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Kw(u.experimentalLongPollingOptions),u.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((e=i.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new SE(r._authCredentials,r._appCheckCredentials,r._queue,s,r._componentsProvider&&function(c){const l=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(l),_online:l}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ka(Ir.fromBase64String(t))}catch(e){throw new Qe(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ka(Ir.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Qe(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Qe(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Qe(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=/^__.*__$/;class PE{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return this.fieldMask!==null?new Ss(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ul(t,this.data,e,this.fieldTransforms)}}class Qw{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Ss(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Yw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class f0{constructor(t,e,n,i,s,a){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new f0(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;const n=(e=this.path)===null||e===void 0?void 0:e.child(t),i=this.Fu({path:n,xu:!1});return i.Ou(t),i}Nu(t){var e;const n=(e=this.path)===null||e===void 0?void 0:e.child(t),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Hu(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(Yw(this.Cu)&&RE.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class ME{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||Td(t)}Qu(t,e,n,i=!1){return new f0({Cu:t,methodName:e,qu:n,path:Tr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function p0(r){const t=r._freezeSettings(),e=Td(r._databaseId);return new ME(r._databaseId,!!t.ignoreUndefinedProperties,e)}function Zw(r,t,e,n,i,s={}){const a=r.Qu(s.merge||s.mergeFields?2:0,t,e,i);m0("Data must be an object, but it was:",a,n);const c=Jw(n,a);let l,o;if(s.merge)l=new fn(a.fieldMask),o=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const d=up(t,f,e);if(!a.contains(d))throw new Qe(Se.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);t4(u,d)||u.push(d)}l=new fn(u),o=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,o=a.fieldTransforms;return new PE(new tn(c),l,o)}class Pd extends u0{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Pd}}function OE(r,t,e,n){const i=r.Qu(1,t,e);m0("Data must be an object, but it was:",i,n);const s=[],a=tn.empty();ta(n,(l,o)=>{const u=g0(t,l,e);o=fr(o);const f=i.Nu(u);if(o instanceof Pd)s.push(u);else{const d=Md(o,f);d!=null&&(s.push(u),a.set(u,d))}});const c=new fn(s);return new Qw(a,c,i.fieldTransforms)}function DE(r,t,e,n,i,s){const a=r.Qu(1,t,e),c=[up(t,n,e)],l=[i];if(s.length%2!=0)throw new Qe(Se.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)c.push(up(t,s[d])),l.push(s[d+1]);const o=[],u=tn.empty();for(let d=c.length-1;d>=0;--d)if(!t4(o,c[d])){const h=c[d];let g=l[d];g=fr(g);const b=a.Nu(h);if(g instanceof Pd)o.push(h);else{const m=Md(g,b);m!=null&&(o.push(h),u.set(h,m))}}const f=new fn(o);return new Qw(u,f,a.fieldTransforms)}function Md(r,t){if(e4(r=fr(r)))return m0("Unsupported field value:",t,r),Jw(r,t);if(r instanceof u0)return function(n,i){if(!Yw(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const c of n){let l=Md(c,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(r,t)}return function(n,i){if((n=fr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return I7(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=yr.fromDate(n);return{timestampValue:Bu(i.serializer,s)}}if(n instanceof yr){const s=new yr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Bu(i.serializer,s)}}if(n instanceof d0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ka)return{bytesValue:_w(i.serializer,n._byteString)};if(n instanceof Gr){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Gm(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof h0)return function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw c.Bu("VectorValues must only contain numeric values.");return $m(c.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${c0(n)}`)}(r,t)}function Jw(r,t){const e={};return Zx(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ta(r,(n,i)=>{const s=Md(i,t.Mu(n));s!=null&&(e[n]=s)}),{mapValue:{fields:e}}}function e4(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof yr||r instanceof d0||r instanceof Ka||r instanceof Gr||r instanceof u0||r instanceof h0)}function m0(r,t,e){if(!e4(e)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(e)){const n=c0(e);throw n==="an object"?t.Bu(r+" a custom object"):t.Bu(r+" "+n)}}function up(r,t,e){if((t=fr(t))instanceof Rd)return t._internalPath;if(typeof t=="string")return g0(r,t);throw Hu("Field path arguments must be of type string or ",r,!1,void 0,e)}const LE=new RegExp("[~\\*/\\[\\]]");function g0(r,t,e){if(t.search(LE)>=0)throw Hu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new Rd(...t.split("."))._internalPath}catch{throw Hu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function Hu(r,t,e,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new Qe(Se.INVALID_ARGUMENT,c+r+l)}function t4(r,t){return r.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(t,e,n,i,s){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new FE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(n4("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class FE extends r4{data(){return super.data()}}function n4(r,t){return typeof t=="string"?g0(r,t):t instanceof Rd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Qe(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BE{convertValue(t,e="none"){switch(Gs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return or(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ws(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw ct()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return ta(t,(i,s)=>{n[i]=this.convertValue(s,e)}),n}convertVectorValue(t){var e,n,i;const s=(i=(n=(e=t.fields)===null||e===void 0?void 0:e.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>or(a.doubleValue));return new h0(s)}convertGeoPoint(t){return new d0(or(t.latitude),or(t.longitude))}convertArray(t,e){return(t.values||[]).map(n=>this.convertValue(n,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Bm(t);return n==null?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(_l(t));default:return null}}convertTimestamp(t){const e=ms(t);return new yr(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Yt.fromString(t);Ut(jw(n));const i=new Sl(n.get(1),n.get(3)),s=new rt(n.popFirst(5));return i.isEqual(e)||ki(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(r,t,e){let n;return n=r?r.toFirestore(t):t,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class a4 extends r4{constructor(t,e,n,i,s,a){super(t,e,n,i,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(n4("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Yc extends a4{data(t={}){return super.data(t)}}class o4{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Oo(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new Yc(this._firestore,this._userDataWriter,n.key,n,new Oo(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Qe(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>{const l=new Yc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Oo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const l=new Yc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Oo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let o=-1,u=-1;return c.type!==0&&(o=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),u=a.indexOf(c.doc.key)),{type:VE(c.type),doc:l,oldIndex:o,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function VE(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(r){r=on(r,Gr);const t=on(r.firestore,Ti);return EE(Id(t),r._key).then(e=>d4(t,r,e))}class y0 extends BE{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ka(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Gr(this.firestore,null,e)}}function zE(r){r=on(r,Wl);const t=on(r.firestore,Ti),e=Id(t),n=new y0(t);return i4(r._query),TE(e,r._query).then(i=>new o4(t,n,r,i))}function l4(r,t,e){r=on(r,Gr);const n=on(r.firestore,Ti),i=s4(r.converter,t);return Od(n,[Zw(p0(n),"setDoc",r._key,i,r.converter!==null,e).toMutation(r._key,Nn.none())])}function c4(r,t,e,...n){r=on(r,Gr);const i=on(r.firestore,Ti),s=p0(i);let a;return a=typeof(t=fr(t))=="string"||t instanceof Rd?DE(s,"updateDoc",r._key,t,e,n):OE(s,"updateDoc",r._key,t),Od(i,[a.toMutation(r._key,Nn.exists(!0))])}function UE(r){return Od(on(r.firestore,Ti),[new Hm(r._key,Nn.none())])}function $E(r,t){const e=on(r.firestore,Ti),n=Ei(r),i=s4(r.converter,t);return Od(e,[Zw(p0(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,Nn.exists(!1))]).then(()=>n)}function u4(r,...t){var e,n,i;r=fr(r);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||A1(t[a])||(s=t[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(A1(t[a])){const f=t[a];t[a]=(e=f.next)===null||e===void 0?void 0:e.bind(f),t[a+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),t[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,o,u;if(r instanceof Gr)o=on(r.firestore,Ti),u=wd(r._key.path),l={next:f=>{t[a]&&t[a](d4(o,r,f))},error:t[a+1],complete:t[a+2]};else{const f=on(r,Wl);o=on(f.firestore,Ti),u=f._query;const d=new y0(o);l={next:h=>{t[a]&&t[a](new o4(o,d,f,h))},error:t[a+1],complete:t[a+2]},i4(r._query)}return function(d,h,g,b){const m=new l0(b),v=new a0(h,m,g);return d.asyncQueue.enqueueAndForget(async()=>n0(await Uu(d),v)),()=>{m.Za(),d.asyncQueue.enqueueAndForget(async()=>i0(await Uu(d),v))}}(Id(o),u,c,l)}function Od(r,t){return function(n,i){const s=new bi;return n.asyncQueue.enqueueAndForget(async()=>mE(await NE(n),i,s)),s.promise}(Id(r),t)}function d4(r,t,e){const n=e.docs.get(t._key),i=new y0(r);return new a4(r,i,t._key,n,new Oo(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(i){ro=i})(eo),ni(new Bn("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),c=new Ti(new G9(n.getProvider("auth-internal")),new Y9(n.getProvider("app-check-internal")),function(o,u){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Qe(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(o.options.projectId,u)}(a,i),a);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),kn(Kb,"4.7.3",t),kn(Kb,"4.7.3","esm2017")})();var HE="firebase",qE="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn(HE,qE,"app");const h4="@firebase/installations",v0="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=1e4,p4=`w:${v0}`,m4="FIS_v2",WE="https://firebaseinstallations.googleapis.com/v1",GE=60*60*1e3,KE="installations",XE="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ks=new Js(KE,XE,QE);function g4(r){return r instanceof zn&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4({projectId:r}){return`${WE}/projects/${r}/installations`}function y4(r){return{token:r.token,requestStatus:2,expiresIn:ZE(r.expiresIn),creationTime:Date.now()}}async function v4(r,t){const n=(await t.json()).error;return Ks.create("request-failed",{requestName:r,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function x4({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function YE(r,{refreshToken:t}){const e=x4(r);return e.append("Authorization",JE(t)),e}async function w4(r){const t=await r();return t.status>=500&&t.status<600?r():t}function ZE(r){return Number(r.replace("s","000"))}function JE(r){return`${m4} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eT({appConfig:r,heartbeatServiceProvider:t},{fid:e}){const n=b4(r),i=x4(r),s=t.getImmediate({optional:!0});if(s){const o=await s.getHeartbeatsHeader();o&&i.append("x-firebase-client",o)}const a={fid:e,authVersion:m4,appId:r.appId,sdkVersion:p4},c={method:"POST",headers:i,body:JSON.stringify(a)},l=await w4(()=>fetch(n,c));if(l.ok){const o=await l.json();return{fid:o.fid||e,registrationStatus:2,refreshToken:o.refreshToken,authToken:y4(o.authToken)}}else throw await v4("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=/^[cdef][\w-]{21}$/,dp="";function nT(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const e=iT(r);return rT.test(e)?e:dp}catch{return dp}}function iT(r){return tT(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=new Map;function k4(r,t){const e=Dd(r);N4(e,t),sT(e,t)}function N4(r,t){const e=S4.get(r);if(e)for(const n of e)n(t)}function sT(r,t){const e=aT();e&&e.postMessage({key:r,fid:t}),oT()}let Ms=null;function aT(){return!Ms&&"BroadcastChannel"in self&&(Ms=new BroadcastChannel("[Firebase] FID Change"),Ms.onmessage=r=>{N4(r.data.key,r.data.fid)}),Ms}function oT(){S4.size===0&&Ms&&(Ms.close(),Ms=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="firebase-installations-database",cT=1,Xs="firebase-installations-store";let Ih=null;function x0(){return Ih||(Ih=sx(lT,cT,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(Xs)}}})),Ih}async function qu(r,t){const e=Dd(r),i=(await x0()).transaction(Xs,"readwrite"),s=i.objectStore(Xs),a=await s.get(e);return await s.put(t,e),await i.done,(!a||a.fid!==t.fid)&&k4(r,t.fid),t}async function E4(r){const t=Dd(r),n=(await x0()).transaction(Xs,"readwrite");await n.objectStore(Xs).delete(t),await n.done}async function Ld(r,t){const e=Dd(r),i=(await x0()).transaction(Xs,"readwrite"),s=i.objectStore(Xs),a=await s.get(e),c=t(a);return c===void 0?await s.delete(e):await s.put(c,e),await i.done,c&&(!a||a.fid!==c.fid)&&k4(r,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0(r){let t;const e=await Ld(r.appConfig,n=>{const i=uT(n),s=dT(r,i);return t=s.registrationPromise,s.installationEntry});return e.fid===dp?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function uT(r){const t=r||{fid:nT(),registrationStatus:0};return T4(t)}function dT(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ks.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=hT(r,e);return{installationEntry:e,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:fT(r)}:{installationEntry:t}}async function hT(r,t){try{const e=await eT(r,t);return qu(r.appConfig,e)}catch(e){throw g4(e)&&e.customData.serverCode===409?await E4(r.appConfig):await qu(r.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function fT(r){let t=await I1(r.appConfig);for(;t.registrationStatus===1;)await _4(100),t=await I1(r.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:n}=await w0(r);return n||e}return t}function I1(r){return Ld(r,t=>{if(!t)throw Ks.create("installation-not-found");return T4(t)})}function T4(r){return pT(r)?{fid:r.fid,registrationStatus:0}:r}function pT(r){return r.registrationStatus===1&&r.registrationTime+f4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mT({appConfig:r,heartbeatServiceProvider:t},e){const n=gT(r,e),i=YE(r,e),s=t.getImmediate({optional:!0});if(s){const o=await s.getHeartbeatsHeader();o&&i.append("x-firebase-client",o)}const a={installation:{sdkVersion:p4,appId:r.appId}},c={method:"POST",headers:i,body:JSON.stringify(a)},l=await w4(()=>fetch(n,c));if(l.ok){const o=await l.json();return y4(o)}else throw await v4("Generate Auth Token",l)}function gT(r,{fid:t}){return`${b4(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _0(r,t=!1){let e;const n=await Ld(r.appConfig,s=>{if(!j4(s))throw Ks.create("not-registered");const a=s.authToken;if(!t&&vT(a))return s;if(a.requestStatus===1)return e=bT(r,t),s;{if(!navigator.onLine)throw Ks.create("app-offline");const c=wT(s);return e=yT(r,c),c}});return e?await e:n.authToken}async function bT(r,t){let e=await R1(r.appConfig);for(;e.authToken.requestStatus===1;)await _4(100),e=await R1(r.appConfig);const n=e.authToken;return n.requestStatus===0?_0(r,t):n}function R1(r){return Ld(r,t=>{if(!j4(t))throw Ks.create("not-registered");const e=t.authToken;return _T(e)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function yT(r,t){try{const e=await mT(r,t),n=Object.assign(Object.assign({},t),{authToken:e});return await qu(r.appConfig,n),e}catch(e){if(g4(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await E4(r.appConfig);else{const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await qu(r.appConfig,n)}throw e}}function j4(r){return r!==void 0&&r.registrationStatus===2}function vT(r){return r.requestStatus===2&&!xT(r)}function xT(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+GE}function wT(r){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:t})}function _T(r){return r.requestStatus===1&&r.requestTime+f4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ST(r){const t=r,{installationEntry:e,registrationPromise:n}=await w0(t);return n?n.catch(console.error):_0(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kT(r,t=!1){const e=r;return await NT(e),(await _0(e,t)).token}async function NT(r){const{registrationPromise:t}=await w0(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(r){if(!r||!r.options)throw Rh("App Configuration");if(!r.name)throw Rh("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!r.options[e])throw Rh(e);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Rh(r){return Ks.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="installations",TT="installations-internal",jT=r=>{const t=r.getProvider("app").getImmediate(),e=ET(t),n=ea(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},CT=r=>{const t=r.getProvider("app").getImmediate(),e=ea(t,C4).getImmediate();return{getId:()=>ST(e),getToken:i=>kT(e,i)}};function AT(){ni(new Bn(C4,jT,"PUBLIC")),ni(new Bn(TT,CT,"PRIVATE"))}AT();kn(h4,v0);kn(h4,v0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="analytics",IT="firebase_id",RT="origin",PT=60*1e3,MT="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",S0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new md("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mn=new Js("analytics","Analytics",OT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(r){if(!r.startsWith(S0)){const t=mn.create("invalid-gtag-resource",{gtagURL:r});return ln.warn(t.message),""}return r}function A4(r){return Promise.all(r.map(t=>t.catch(e=>e)))}function LT(r,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(r,t)),e}function FT(r,t){const e=LT("firebase-js-sdk-policy",{createScriptURL:DT}),n=document.createElement("script"),i=`${S0}?l=${r}&id=${t}`;n.src=e?e==null?void 0:e.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function BT(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function VT(r,t,e,n,i,s){const a=n[i];try{if(a)await t[a];else{const l=(await A4(e)).find(o=>o.measurementId===i);l&&await t[l.appId]}}catch(c){ln.error(c)}r("config",i,s)}async function zT(r,t,e,n,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const c=await A4(e);for(const l of a){const o=c.find(f=>f.measurementId===l),u=o&&t[o.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),r("event",n,i||{})}catch(s){ln.error(s)}}function UT(r,t,e,n){async function i(s,...a){try{if(s==="event"){const[c,l]=a;await zT(r,t,e,c,l)}else if(s==="config"){const[c,l]=a;await VT(r,t,e,n,c,l)}else if(s==="consent"){const[c,l]=a;r("consent",c,l)}else if(s==="get"){const[c,l,o]=a;r("get",c,l,o)}else if(s==="set"){const[c]=a;r("set",c)}else r(s,...a)}catch(c){ln.error(c)}}return i}function $T(r,t,e,n,i){let s=function(...a){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=UT(s,r,t,e),{gtagCore:s,wrappedGtag:window[i]}}function HT(r){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(S0)&&e.src.includes(r))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=30,WT=1e3;class GT{constructor(t={},e=WT){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const I4=new GT;function KT(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function XT(r){var t;const{appId:e,apiKey:n}=r,i={method:"GET",headers:KT(n)},s=MT.replace("{app-id}",e),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let c="";try{const l=await a.json();!((t=l.error)===null||t===void 0)&&t.message&&(c=l.error.message)}catch{}throw mn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c})}return a.json()}async function QT(r,t=I4,e){const{appId:n,apiKey:i,measurementId:s}=r.options;if(!n)throw mn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:n};throw mn.create("no-api-key")}const a=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new JT;return setTimeout(async()=>{c.abort()},PT),R4({appId:n,apiKey:i,measurementId:s},a,c,t)}async function R4(r,{throttleEndTimeMillis:t,backoffCount:e},n,i=I4){var s;const{appId:a,measurementId:c}=r;try{await YT(n,t)}catch(l){if(c)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:c};throw l}try{const l=await XT(r);return i.deleteThrottleMetadata(a),l}catch(l){const o=l;if(!ZT(o)){if(i.deleteThrottleMetadata(a),c)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${o==null?void 0:o.message}]`),{appId:a,measurementId:c};throw l}const u=Number((s=o==null?void 0:o.customData)===null||s===void 0?void 0:s.httpStatus)===503?vb(e,i.intervalMillis,qT):vb(e,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:e+1};return i.setThrottleMetadata(a,f),ln.debug(`Calling attemptFetch again in ${u} millis`),R4(r,f,n,i)}}function YT(r,t){return new Promise((e,n)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(e,i);r.addEventListener(()=>{clearTimeout(s),n(mn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function ZT(r){if(!(r instanceof zn)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class JT{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function ej(r,t,e,n,i){if(i&&i.global){r("event",e,n);return}else{const s=await t,a=Object.assign(Object.assign({},n),{send_to:s});r("event",e,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tj(){if(tx())try{await rx()}catch(r){return ln.warn(mn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return ln.warn(mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function rj(r,t,e,n,i,s,a){var c;const l=QT(r);l.then(h=>{e[h.measurementId]=h.appId,r.options.measurementId&&h.measurementId!==r.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>ln.error(h)),t.push(l);const o=tj().then(h=>{if(h)return n.getId()}),[u,f]=await Promise.all([l,o]);HT(s)||FT(s,u.measurementId),i("js",new Date);const d=(c=a==null?void 0:a.config)!==null&&c!==void 0?c:{};return d[RT]="firebase",d.update=!0,f!=null&&(d[IT]=f),i("config",u.measurementId,d),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(t){this.app=t}_delete(){return delete Qo[this.app.options.appId],Promise.resolve()}}let Qo={},P1=[];const M1={};let Ph="dataLayer",ij="gtag",O1,P4,D1=!1;function sj(){const r=[];if(ex()&&r.push("This is a browser extension environment."),h8()||r.push("Cookies are not available."),r.length>0){const t=r.map((n,i)=>`(${i+1}) ${n}`).join(" "),e=mn.create("invalid-analytics-context",{errorInfo:t});ln.warn(e.message)}}function aj(r,t,e){sj();const n=r.options.appId;if(!n)throw mn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mn.create("no-api-key");if(Qo[n]!=null)throw mn.create("already-exists",{id:n});if(!D1){BT(Ph);const{wrappedGtag:s,gtagCore:a}=$T(Qo,P1,M1,Ph,ij);P4=s,O1=a,D1=!0}return Qo[n]=rj(r,P1,M1,t,O1,Ph,e),new nj(r)}function oj(r=Em()){r=fr(r);const t=ea(r,Wu);return t.isInitialized()?t.getImmediate():lj(r)}function lj(r,t={}){const e=ea(r,Wu);if(e.isInitialized()){const i=e.getImmediate();if(bl(t,e.getOptions()))return i;throw mn.create("already-initialized")}return e.initialize({options:t})}function cj(r,t,e,n){r=fr(r),ej(P4,Qo[r.app.options.appId],t,e,n).catch(i=>ln.error(i))}const L1="@firebase/analytics",F1="0.10.8";function uj(){ni(new Bn(Wu,(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return aj(n,i,e)},"PUBLIC")),ni(new Bn("analytics-internal",r,"PRIVATE")),kn(L1,F1),kn(L1,F1,"esm2017");function r(t){try{const e=t.getProvider(Wu).getImmediate();return{logEvent:(n,i,s)=>cj(e,n,i,s)}}catch(e){throw mn.create("interop-component-reg-failed",{reason:e})}}}uj();const dj={apiKey:"AIzaSyB7wO778OuslNRSHXX6sAU2cUMTduUHFdU",authDomain:"regulatory-division-system.firebaseapp.com",projectId:"regulatory-division-system",storageBucket:"regulatory-division-system.firebasestorage.app",messagingSenderId:"446475268158",appId:"1:446475268158:web:3f30ad3f42586fdf22216f",measurementId:"G-DGDHPVTJ4F"},k0=ax(dj);typeof window<"u"&&oj(k0);const Zi=$9(k0),En=AE(k0),M4=de.createContext(null);function so(){const r=de.useContext(M4);if(!r)throw new Error("useAuth must be used within AuthProvider");return r}function hj({children:r}){const[t,e]=de.useState(null),[n,i]=de.useState(null),[s,a]=de.useState(!0);de.useEffect(()=>{const f=Ik(Zi,async d=>{if(!d){e(null),i(null),a(!1);return}e(d);const h=await b0(Ei(En,"users",d.uid));i(h.exists()?h.data().role:"staff"),a(!1)});return()=>f()},[]);const u={user:t,role:n,loading:s,signIn:(f,d)=>jk(Zi,f,d),signUp:(f,d)=>Tk(Zi,f,d),signOut:()=>Rk(Zi)};return p.jsx(M4.Provider,{value:u,children:r})}const ds=[{id:"animalFeed",label:"Animal Feeds Unit"},{id:"animalWelfare",label:"Animal Welfare"},{id:"livestockHandlers",label:"Livestock/Poultry/By-Products Handlers"},{id:"transportCarrier",label:"Transport Carriers"},{id:"plantMaterial",label:"Plant Material / Nursery"},{id:"organicAgri",label:"Organic Agriculture Certification"},{id:"goodAgriPractices",label:"Good Agricultural Practices"},{id:"goodAnimalHusbandry",label:"Good Animal Husbandry"},{id:"organicPostMarket",label:"Organic Post-Market Surveillance"},{id:"landUseMatter",label:"Land Use Matter"},{id:"foodSafety",label:"Food Safety"},{id:"plantPestSurveillance",label:"Plant Pest Surveillance"},{id:"cfsAdmcc",label:"CFS/ADMCC"},{id:"animalDiseaseSurveillance",label:"Animal Disease Surveillance"},{id:"safdzValidation",label:"SAFDZ Validation"}],O4={animalFeed:"companyName",animalWelfare:"facilityName",livestockHandlers:"ownershipType",transportCarrier:"ownerName",plantMaterial:"applicant",organicAgri:"nameOfApplicant",goodAgriPractices:"nameOfApplicant",goodAnimalHusbandry:"recommendation",organicPostMarket:"identifiedMarketOutlet",landUseMatter:"nameOfApplicant",foodSafety:"recommendation",plantPestSurveillance:"farmerName",cfsAdmcc:"clientName",animalDiseaseSurveillance:"clientName",safdzValidation:"nameOfApplicant"},B1={animalFeed:["date","province","controlNo","registrationNo","dateOfInspection","dateOfMonitoring","companyName","lastName","middleName","firstName","nameExt","completeName","birthDate","barangay","municipality","completeAddress","officeAddress","plantAddress","cellphone","email","natureOfBusiness","businessOrg","productLines","type","orNo","orDate","fee","dateIssued","dateOfFeedSampling1stSem","dateOfFeedSampling2ndSem","noOfFeedSamples1stSem","noOfFeedSamples2ndSem","attachmentFileName","attachmentData","remarks","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],animalWelfare:["dateApplied","facilityName","ownerName","address","facilityType","speciesHandled","headVet","prcLicenseNo","certificateNo","validityDate","status","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],livestockHandlers:["ownershipType","singleName","companyName","repName","address","businessType","contact","applicantType","category","livestock","poultry","byProducts","region","province","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],transportCarrier:["ownerName","businessAddress","businessOrg","typeOfApplicant","contactNo","email","applicantTin","companyTin","typeOfServices","applicationType","speciesCargoBirds","speciesAnimals","byProducts","typeOfVehicle","bodyType","fleet","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],plantMaterial:["applicant","operator","location","cropsVariety","submissionOfApplicationForm","evaluationOfDocumentary","paymentOfApplicationFee","amountOfFee","dateOfInspectionAndEvaluation","approvedValidatedResult","endorsementToBPI","dateOfInspection1stSem","dateOfInspection2ndSem","status","validity","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],organicAgri:["application","nameOfGroup","nameOfApplicant","location","area","dateOfEvaluation","remarks","dateOfEndorsement","finalInspection","status","issuanceOfCertificate","finalRemarks","linkFile","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],goodAgriPractices:["dateOfRequest","nameOfApplicant","location","area","crop","dateOfPreAssessment","remarks","dateOfEndorsementToBPI","dateOfFinalInspection","status","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],goodAnimalHusbandry:["ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],organicPostMarket:["requestLetterDate","identifiedMarketOutlet","dateOfCommunicationLetter","nameOfProduct","commodity","certification","nameOfOwnerManager","location","dateOfSurveillance","remarks","linkFile","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],landUseMatter:["controlNo","nameOfApplicant","purposeOfApplication","sizeOfArea","location","dateOfRequest","dateReceivedAndEvaluated","dateOfReplyToRequest","dateReceivedByApplicant","fieldInvestigation","dateOfEndorsement","issuanceOfCertificate","remarks","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],foodSafety:["ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],plantPestSurveillance:["dateOfRequestAndCollection","farmerName","address","contactNumber","gpsLocation","crop","variety","datePlanted","areaPlanted","areaAffected","percentInfestation","pestsDiseases","remarks","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],cfsAdmcc:["clientName","typeOfDiseaseSurveillance","purpose","address","dateOfRequest","dateOfSurveillance","numberOfSamples","dateSubmittedToLab","dateOfEndorsementToDA","remarks","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],animalDiseaseSurveillance:["clientName","typeOfDiseaseSurveillance","purpose","address","dateOfRequest","dateOfSurveillance","numberOfSamples","dateSubmittedToLab","dateOfEndorsementToDA","remarks","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"],safdzValidation:["explorationPermitApplicationNo","nameOfApplicant","dateReceived","location","area","dateOfReplyToRequest","endorsementToBSWM","endorsementToMGB","fieldValidation","remarks","rescheduledDate","fieldValidationReport","issuanceOfCertificateAndEndorsementToMGB","status","findings","ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness","recommendation"]},sr=["ratingQuantity","ratingServicesPersonnel","ratingTraining","ratingAttitude","ratingPromptness"],Mh={animalFeed:{date:"Date of Application/Valuated",province:"Province",controlNo:"Control No.",registrationNo:"Registration No.",dateOfInspection:"Date of Inspection",dateOfMonitoring:"Date of Monitoring",companyName:"Name of Establishment",lastName:"Last Name",middleName:"Middle Name",firstName:"First Name",nameExt:"Name Ext.",completeName:"Complete Name",birthDate:"Birth Date",barangay:"Barangay",municipality:"Municipality",completeAddress:"Complete Address",officeAddress:"Office Address",plantAddress:"Plant/Warehouse Address",cellphone:"Contact No.",email:"Email Address",natureOfBusiness:"Nature of Business",businessOrg:"Business Organization",productLines:"Product Line",type:"Type",orNo:"Official Receipt No.",orDate:"Official Receipt Date",fee:"Fees Collected",dateIssued:"Date of Issuance of LTO",dateOfFeedSampling1stSem:"Date of Feed Sampling (1st Semester)",dateOfFeedSampling2ndSem:"Date of Feed Sampling (2nd Semester)",noOfFeedSamples1stSem:"No. of Feed Samples Collected (1st Semester)",noOfFeedSamples2ndSem:"No. of Feed Samples Collected (2nd Semester)",attachmentFileName:"Attachments (file name)",attachmentData:"Attachments (file)",remarks:"Remarks",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},animalWelfare:{dateApplied:"Date of Application",facilityName:"Facility Name (Business Name)",ownerName:"Owner / Operator Name",address:"Complete Address",facilityType:"Facility Type",speciesHandled:"Species Handled",headVet:"Head Veterinarian",prcLicenseNo:"PRC License No.",certificateNo:"Certificate No. (AWC)",validityDate:"Validity Date",status:"Current Status",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},livestockHandlers:{ownershipType:"Ownership Type",singleName:"Proprietor Name (Last, First, Middle Initial)",companyName:"Registered Company Name",repName:"Company Representative (Last, First, MI)",address:"Address (Region, Province, City/Municipality, Barangay)",businessType:"Type of Business",contact:"Contact (TIN, Contact No., Email)",applicantType:"Type of Applicant",category:"Handler Category",livestock:"Livestock (Volume / Frequency)",poultry:"Poultry (Volume / Frequency)",byProducts:"By-Products (Volume / Frequency)",region:"Origin / Area Coverage (Region)",province:"Province",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},transportCarrier:{ownerName:"Owner Name (Last, First, M.I.)",businessAddress:"Business Address (Region, Province, City/Muni, Barangay)",businessOrg:"Business Organization",typeOfApplicant:"Type of Applicant",contactNo:"Contact Number",email:"Email Address",applicantTin:"Applicant TIN",companyTin:"Company TIN",typeOfServices:"Type of Services",applicationType:"Application Type",speciesCargoBirds:"Species / Cargo Handled (Birds)",speciesAnimals:"Species Handled (Animals)",byProducts:"By-Products Handled",typeOfVehicle:"Type of Vehicle",bodyType:"Body Type",fleet:"Fleet (Accreditation No., Make/Series, Plate No., etc.)",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},plantMaterial:{applicant:"Applicant",operator:"Operator",location:"Location",cropsVariety:"Crops/Variety",submissionOfApplicationForm:"Submission of Client's Filled Application Form to DA-Regulatory Division",evaluationOfDocumentary:"Evaluation of Submitted Documentary Requirements",paymentOfApplicationFee:"Payment of Application Fee",amountOfFee:"Amount of Fee",dateOfInspectionAndEvaluation:"Date of Inspection and Evaluation of Nursery",approvedValidatedResult:"Approved Validated Result of Inspection and Validation of Areas",endorsementToBPI:"Endorsement of Application to BPI",dateOfInspection1stSem:"Date of Inspection and Monitoring (1st Semester)",dateOfInspection2ndSem:"Date of Inspection and Monitoring (2nd Semester)",status:"Status",validity:"Validity",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},organicPostMarket:{requestLetterDate:"Request Letter (Date)",identifiedMarketOutlet:"Identified Market Outlet/Establishment",dateOfCommunicationLetter:"Date of Communication Letter",nameOfProduct:"Name of Product",commodity:"Commodity",certification:"Certification",nameOfOwnerManager:"Name of Owner/Manager",location:"Location",dateOfSurveillance:"Date of Surveillance",remarks:"Remarks",linkFile:"Link File",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},landUseMatter:{controlNo:"Control No.",nameOfApplicant:"Name of Applicant",purposeOfApplication:"Purpose of Application",sizeOfArea:"Size of Area (ha)",location:"Location",dateOfRequest:"Date of Request",dateReceivedAndEvaluated:"Date Received and Evaluated",dateOfReplyToRequest:"Date of Reply to the Request",dateReceivedByApplicant:"Date Received by the Applicant",fieldInvestigation:"Field Investigation",dateOfEndorsement:"Date of Endorsement",issuanceOfCertificate:"Issuance of Certificate",remarks:"Remarks",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},organicAgri:{application:"Application",nameOfGroup:"Name of Group",nameOfApplicant:"Name of Applicant",location:"Location",area:"Area",dateOfEvaluation:"Date of Evaluation",remarks:"Remarks",dateOfEndorsement:"Date of Endorsement",finalInspection:"Final Inspection",status:"Status",issuanceOfCertificate:"Issuance of Certificate",finalRemarks:"Remarks",linkFile:"Link File",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},goodAgriPractices:{dateOfRequest:"Date of Request",nameOfApplicant:"Name of Applicant",location:"Location",area:"Area (ha)",crop:"Crop",dateOfPreAssessment:"Date of Pre-assessment",remarks:"Remarks",dateOfEndorsementToBPI:"Date of Endorsement to BPI",dateOfFinalInspection:"Date of Final Inspection",status:"Status",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},goodAnimalHusbandry:{ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},plantPestSurveillance:{dateOfRequestAndCollection:"Date of Request and Collection",farmerName:"Name of Farmer",address:"Address",contactNumber:"Contact Number",gpsLocation:"GPS Location",crop:"Crop",variety:"Variety",datePlanted:"Date Planted",areaPlanted:"Area Planted (ha)",areaAffected:"Area Affected",percentInfestation:"Percent Infestation",pestsDiseases:"Pests/Diseases",remarks:"Remarks",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},cfsAdmcc:{clientName:"Name of Local Government Unit/Client/Farm",typeOfDiseaseSurveillance:"Type of Disease Surveillance",purpose:"Purpose",address:"Address",dateOfRequest:"Date of Request",dateOfSurveillance:"Date of Surveillance (Blood Collection)",numberOfSamples:"Number of Samples Collected & Submitted",dateSubmittedToLab:"Date Submitted to Laboratory",dateOfEndorsementToDA:"Date of Endorsement to DA-BAI",remarks:"Remarks",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},animalDiseaseSurveillance:{clientName:"Name of Local Government Unit/Client/Farm",typeOfDiseaseSurveillance:"Type of Disease Surveillance",purpose:"Purpose",address:"Address",dateOfRequest:"Date of Request",dateOfSurveillance:"Date of Surveillance (Blood Collection)",numberOfSamples:"Number of Samples Collected & Submitted",dateSubmittedToLab:"Date Submitted to Laboratory",dateOfEndorsementToDA:"Date of Endorsement to DA-BAI",remarks:"Remarks",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"},safdzValidation:{explorationPermitApplicationNo:"Exploration Permit Application No.",nameOfApplicant:"Name of Applicant",dateReceived:"Date Received",location:"Location",area:"Area (ha)",dateOfReplyToRequest:"Date of Reply to the Request",endorsementToBSWM:"Endorsement to BSWM",endorsementToMGB:"Endorsement to MGB",fieldValidation:"Field Validation",remarks:"Remarks",rescheduledDate:"Rescheduled date",fieldValidationReport:"Field Validation Report",issuanceOfCertificateAndEndorsementToMGB:"Issuance of Certificate and Endorsement to MGB",status:"Status",findings:"Findings",ratingQuantity:"1. Quantity of Goods/Services Provided",ratingServicesPersonnel:"2. Services Rendered by Personnel",ratingTraining:"2.1 For training consider its relevance",ratingAttitude:"2.2 Attitude (courteousness)",ratingPromptness:"2.3 Promptness in attending the request",recommendation:"Recommendation"}},Gl=["Occidental Mindoro","Oriental Mindoro","Palawan","Marinduque","Romblon"],hp=["NCR","CAR","Region I","Region II","Region III","Region IV-A","Region IV-B","Region V","Region VI","Region VII","Region VIII","Region IX","Region X","Region XI","Region XII","CARAGA","BARMM"];function N0(r){const t=r.createdAt||r.date||r.dateApplied||r.applicationDate||r.dateOfMonitoring||r.inspectionDate||r.dateReceived||r.dateReported||r.requestLetterDate||r.dateOfCommunicationLetter||r.dateOfSurveillance||r.dateOfRequest||r.dateReceivedAndEvaluated||r.dateOfPreAssessment||r.dateOfMonitoring;if(!t)return null;const e=typeof t=="string"?new Date(t):t;return isNaN(e.getTime())?null:`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}function D4(r){var e,n;const t=((e=r.address)==null?void 0:e.province)??((n=r.businessAddress)==null?void 0:n.province)??r.province??r.municipality;return!t||typeof t!="string"?null:(Gl.includes(t),t)}function fj(r){const t=new Set;return r.forEach(e=>{const n=N0(e);n&&t.add(n)}),Array.from(t).sort().reverse()}function fp(r){if(!r)return"All";const[t,e]=r.split("-");return`${["January","February","March","April","May","June","July","August","September","October","November","December"][Number(e)-1]} ${t}`}function pp(r){const t=["createdBy","updatedAt"],e={};return Object.entries(r).forEach(([n,i])=>{if(!(n==="id"||t.includes(n))){if(n==="attachmentData"){e[n]=i&&String(i).length>0?"(file attached)":"";return}i==null?e[n]="":typeof i=="object"&&i!==null&&!Array.isArray(i)?typeof i.toDate=="function"?e[n]=i.toDate().toLocaleString():e[n]=Object.entries(i).map(([s,a])=>`${s}: ${a}`).join("; "):Array.isArray(i)?e[n]=i.join(", "):e[n]=String(i)}}),e}function mp(r){return!r||typeof r!="string"?"":r.replace(/([A-Z])/g," $1").replace(/[-_](.)/g,(t,e)=>" "+e.toUpperCase()).replace(/\s+/g," ").trim().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}const V1=["animalFeed","animalWelfare","livestockHandlers","transportCarrier","plantMaterial","organicAgri","goodAgriPractices","goodAnimalHusbandry","organicPostMarket","landUseMatter","foodSafety","plantPestSurveillance","cfsAdmcc","animalDiseaseSurveillance","safdzValidation"],L4={byUnit:{},byMonth:{},byProvince:{},total:0,unitRatings:{}},F4=de.createContext({stats:L4,refresh:()=>{}});function pj(){const r=de.useContext(F4);if(!r)throw new Error("useAnalytics must be used within AnalyticsProvider");return r}function mj({children:r}){const[t,e]=de.useState(L4),n=async()=>{const i={},s={},a={},c={};let l=0;for(const o of ds){const f=(await zE($u(En,o.id))).docs.map(d=>({id:d.id,...d.data()}));if(i[o.id]={label:o.label,count:f.length},l+=f.length,f.forEach(d=>{const h=N0(d);h&&(s[h]=(s[h]||0)+1);const g=D4(d);g&&(a[g]=(a[g]||0)+1)}),V1.includes(o.id)&&f.length>0){const d={},h={1:0,2:0,3:0,4:0,5:0};let g=0;sr.forEach(b=>{d[b]={sum:0,count:0}}),f.forEach(b=>{let m=!1;sr.forEach(v=>{const y=b[v];if(y!==""&&y!=null){const w=parseInt(y,10);!isNaN(w)&&w>=1&&w<=5&&(d[v].sum+=w,d[v].count+=1,h[w]=(h[w]||0)+1,m=!0)}}),m&&g++}),c[o.id]={byField:d,byScore:h,ratedCount:g,totalRecords:f.length,averages:Object.fromEntries(sr.map(b=>[b,d[b].count>0?(d[b].sum/d[b].count).toFixed(2):null])),overallAvg:(()=>{const b=sr.reduce((v,y)=>v+d[y].sum,0),m=sr.reduce((v,y)=>v+d[y].count,0);return m>0?b/m:0})()}}}e({byUnit:i,byMonth:s,byProvince:a,total:l,unitRatings:c})};return de.useEffect(()=>{n()},[]),de.useEffect(()=>{const i=ds.filter(a=>V1.includes(a.id));if(i.length===0)return;const s=i.map(a=>u4($u(En,a.id),()=>n()));return()=>s.forEach(a=>a())},[]),p.jsx(F4.Provider,{value:{stats:t,refresh:n},children:r})}const z1=[{to:"/",label:"Home"},{to:"/about",label:"About"},{to:"/features",label:"Features"},{to:"/contact",label:"Contact Us"}];function gj(){const[r,t]=de.useState(!1),e=ws(),n=()=>{t(!1)};return p.jsxs("header",{className:"sticky top-0 z-50 pt-[env(safe-area-inset-top)] transition-shadow duration-300",style:{background:"linear-gradient(180deg, #153019 0%, #1e4d2b 50%, #1a4328 100%)",boxShadow:"0 4px 24px -4px rgba(0,0,0,0.25), 0 0 0 1px rgba(255,255,255,0.06) inset"},children:[p.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-gradient-to-r from-transparent via-accent/50 to-transparent opacity-80","aria-hidden":"true"}),p.jsxs("nav",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16 min-h-[52px]",children:[p.jsxs(zr,{to:"/",className:"group flex items-center gap-2.5 sm:gap-3 min-w-0 shrink py-2 touch-target rounded-xl -ml-1 pl-1 pr-2 transition-all duration-300 ease-out hover:bg-white/8 active:scale-[0.98]",children:[p.jsxs("span",{className:"relative flex shrink-0 transition-transform duration-300 ease-out group-hover:scale-105",children:[p.jsx("img",{src:"/DALOGO.png",alt:"DA Logo",className:"h-10 w-10 sm:h-11 sm:w-11 rounded-full object-cover ring-2 ring-white/20 group-hover:ring-white/50 transition-all duration-300 shadow-lg"}),p.jsx("span",{className:"absolute -inset-0.5 rounded-full bg-accent/20 opacity-0 group-hover:opacity-100 blur transition-opacity duration-300","aria-hidden":"true"})]}),p.jsx("span",{className:"text-white font-bold text-sm sm:text-base md:text-lg truncate tracking-tight drop-shadow-sm transition-colors duration-300 group-hover:text-white/95",children:"Regulatory Division Portal"})]}),p.jsx("button",{type:"button",onClick:()=>t(!r),className:"lg:hidden p-3 min-w-[48px] min-h-[48px] flex items-center justify-center rounded-xl text-white hover:bg-white/10 active:bg-white/15 transition-all duration-300 ease-out active:scale-95","aria-label":r?"Close menu":"Open menu","aria-expanded":r,children:p.jsx("iconify-icon",{icon:r?"mdi:close":"mdi:menu",width:"26",height:"26",className:"transition-transform duration-300 ease-out"})}),p.jsx("div",{className:"hidden lg:flex items-center gap-1",children:z1.map(i=>{const s=e.pathname===i.to;return p.jsxs(zr,{to:i.to,onClick:n,className:`
                    group relative px-4 py-2.5 rounded-xl font-medium text-[15px] transition-all duration-300 ease-out
                    ${s?"text-accent-light bg-white/12":"text-white/90 hover:text-white hover:bg-white/10"}
                  `,children:[p.jsx("span",{className:"relative block py-0.5",children:i.label}),p.jsx("span",{className:`absolute bottom-1.5 left-1/2 w-6 h-0.5 rounded-full bg-accent-light -translate-x-1/2 origin-center transition-transform duration-300 ease-out ${s?"scale-x-100":"scale-x-0 group-hover:scale-x-100"}`,"aria-hidden":"true"})]},i.label)})})]}),p.jsx("div",{className:`fixed inset-0 bg-black/40 backdrop-blur-sm z-[-1] lg:hidden transition-opacity duration-300 ease-out ${r?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":"true",onClick:()=>t(!1)}),p.jsx("div",{className:`lg:hidden overflow-hidden transition-all duration-300 ease-out ${r?"max-h-[320px]":"max-h-0"}`,children:p.jsxs("div",{className:"py-3 flex flex-col gap-0.5 border-t border-white/10",role:"dialog","aria-label":"Navigation menu",children:[z1.map(i=>{const s=e.pathname===i.to;return p.jsx(zr,{to:i.to,onClick:n,className:`
                    min-h-[48px] flex items-center py-3 px-4 rounded-xl font-medium transition-all duration-300 ease-out
                    ${s?"text-accent-light bg-white/12 border-l-2 border-accent-light -ml-0.5 pl-[calc(1rem+2px)]":"text-white/90 hover:bg-white/10 active:bg-white/15"}
                  `,children:i.label},i.label)}),p.jsx("div",{className:"h-3 pb-[env(safe-area-inset-bottom)]"})]})})]})]})}function bj(){const{pathname:r}=ws(),t=r==="/admin-login"||r==="/staff-login";return p.jsxs("div",{className:"min-h-screen min-h-[100dvh] bg-background flex flex-col w-full min-w-0",children:[!t&&p.jsx(gj,{}),p.jsx("main",{className:"flex-1 w-full min-w-0 overflow-x-hidden",children:p.jsx(G2,{})})]})}const Oh=[{title:"Registration & Licensing",icon:"mdi:certificate-outline",items:[{path:"/dashboard/forms/animal-feed",label:"Animal Feeds Unit"},{path:"/dashboard/forms/animal-welfare",label:"Animal Welfare Concern"},{path:"/dashboard/forms/livestock-handlers",label:"Livestock & Handlers"},{path:"/dashboard/forms/transport-carrier",label:"Transport Carriers"},{path:"/dashboard/forms/plant-material",label:"Plant Material / Nursery"},{path:"/dashboard/forms/organic-agri",label:"Organic Agri Certification"}]},{title:"Quality Control",icon:"mdi:shield-check-outline",items:[{path:"/dashboard/forms/good-agri-practices",label:"Good Agri Practices"},{path:"/dashboard/forms/good-animal-husbandry",label:"Good Animal Husbandry"},{path:"/dashboard/forms/organic-post-market",label:"Organic Post-Market"},{path:"/dashboard/forms/land-use-matter",label:"Land Use Concern"},{path:"/dashboard/forms/food-safety",label:"Food Safety Unit"},{path:"/dashboard/forms/safdz-validation",label:"SAFDZ Validation"}]},{title:"Surveillance & Disease",icon:"mdi:virus-outline",items:[{path:"/dashboard/forms/plant-pest-surveillance",label:"Plant Pest Surveillance"},{path:"/dashboard/forms/cfs-admcc",label:"CFS / ADMCC"},{path:"/dashboard/forms/animal-disease-surveillance",label:"Animal Disease Surv."}]}];function yj(){var g,b;const[r,t]=de.useState(!0),[e,n]=de.useState(!1),[i,s]=de.useState([]),a=ws(),c=Ml(),{user:l,role:o,signOut:u}=so();de.useEffect(()=>{n(!1)},[a.pathname]);const f=m=>{s(v=>v.includes(m)?v.filter(y=>y!==m):[...v,m])},d=()=>{u(),c("/")},h=m=>a.pathname===m;return de.useEffect(()=>{Oh.forEach((m,v)=>{m.items.some(y=>y.path===a.pathname)&&(i.includes(v)||s(y=>[...y,v]))})},[a.pathname]),p.jsxs("div",{className:"flex h-screen min-h-[100dvh] bg-background overflow-hidden font-sans text-primary w-full min-w-0",children:[p.jsx("div",{className:`fixed inset-0 z-40 bg-primary-dark/90 backdrop-blur-sm lg:hidden transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>n(!1)}),p.jsxs("aside",{className:`fixed lg:relative inset-y-0 left-0 z-50 flex flex-col bg-primary-dark text-accent-light shadow-2xl border-r border-primary shrink-0
          pt-[env(safe-area-inset-top)]
          w-[min(280px,85vw)] ${r||e?"lg:w-[280px] lg:min-w-[280px]":"lg:w-[88px] lg:min-w-[88px]"}
          ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
          max-w-full
        `,style:{backgroundImage:"radial-gradient(circle at top left, #1e4d2b, #153019, #0d1f12)",paddingLeft:"env(safe-area-inset-left)",transition:"width 0.35s cubic-bezier(0.33, 1, 0.68, 1), min-width 0.35s cubic-bezier(0.33, 1, 0.68, 1), transform 0.3s cubic-bezier(0.33, 1, 0.68, 1)"},children:[p.jsx("button",{onClick:()=>t(!r),className:`absolute -right-3 top-6 lg:top-9 z-50 hidden lg:flex h-8 w-8 lg:h-7 lg:w-7 items-center justify-center rounded-full bg-background text-primary shadow-[0_2px_8px_rgba(0,0,0,0.15)] ring-1 ring-primary/20 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] hover:bg-accent-light hover:text-primary hover:scale-110 focus:outline-none active:scale-95
              ${r?"rotate-0":"rotate-180"}
          `,style:{transition:"transform 0.35s cubic-bezier(0.33, 1, 0.68, 1), background-color 0.2s, box-shadow 0.2s"},title:r?"Collapse Sidebar":"Expand Sidebar","aria-label":r?"Collapse sidebar":"Expand sidebar",children:p.jsx("iconify-icon",{icon:"mdi:chevron-left",width:"18"})}),p.jsxs("div",{className:`min-h-[72px] lg:h-24 flex items-center px-4 lg:px-6 border-b border-white/5 relative overflow-hidden shrink-0 ${!r&&!e?"justify-center px-0":"justify-between"}`,style:{transition:"padding 0.35s cubic-bezier(0.33, 1, 0.68, 1)"},children:[p.jsxs(zr,{to:"/dashboard",className:"flex items-center gap-4 overflow-hidden min-w-0 z-10 group",children:[p.jsxs("div",{className:"relative w-10 h-10 shrink-0",children:[p.jsx("div",{className:"absolute inset-0 bg-primary blur-lg opacity-30 group-hover:opacity-50 transition-opacity duration-300"}),p.jsxs("div",{className:"relative w-full h-full rounded-xl bg-gradient-to-br from-primary to-primary-dark flex items-center justify-center text-white shadow-lg ring-1 ring-white/10 group-hover:scale-105 transition-transform duration-300 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsx("img",{src:"/DALOGO.png",alt:"DA",className:"w-full h-full object-cover rounded-xl",onError:m=>m.target.style.display="none"}),p.jsx("span",{className:"absolute font-bold text-xs"})]})]}),p.jsxs("div",{className:`flex flex-col min-w-0 overflow-hidden ${r||e?"opacity-100 translate-x-0 w-auto":"opacity-0 -translate-x-4 w-0"}`,style:{transition:"opacity 0.3s cubic-bezier(0.33, 1, 0.68, 1) 0.05s, transform 0.35s cubic-bezier(0.33, 1, 0.68, 1) 0.05s, width 0.35s cubic-bezier(0.33, 1, 0.68, 1)"},children:[p.jsx("h1",{className:"font-bold text-white text-sm lg:text-[15px] leading-tight tracking-wide truncate",children:"REGULATORY"}),p.jsx("p",{className:"text-[10px] text-accent-light font-bold tracking-wider uppercase truncate",children:"Division Portal"})]})]}),p.jsx("button",{onClick:()=>n(!1),className:"lg:hidden min-w-[44px] min-h-[44px] flex items-center justify-center p-2 text-accent-light/80 hover:text-white transition-colors -mr-2","aria-label":"Close menu",children:p.jsx("iconify-icon",{icon:"mdi:close",width:"24"})})]}),p.jsxs("nav",{className:"flex-1 min-h-0 overflow-y-auto overflow-x-hidden py-4 lg:py-6 px-3 lg:px-4 space-y-6 lg:space-y-8 custom-scrollbar",children:[p.jsxs("div",{children:[p.jsx("p",{className:`px-2 text-[10px] font-bold text-accent-light/70 uppercase tracking-widest mb-3 overflow-hidden whitespace-nowrap ${r||e?"opacity-100 max-h-8":"opacity-0 max-h-0 mb-0"}`,style:{transition:"opacity 0.28s cubic-bezier(0.33, 1, 0.68, 1) 0.05s, max-height 0.35s cubic-bezier(0.33, 1, 0.68, 1)"},children:"Main Module"}),p.jsxs("div",{className:"space-y-1",children:[p.jsx(Dh,{to:"/dashboard",icon:"mdi:view-dashboard-variant-outline",label:"Dashboard Overview",active:h("/dashboard"),sidebarOpen:r||e}),p.jsx(Dh,{to:"/dashboard/analytics",icon:"mdi:chart-box-outline",label:"Data Analytics",active:h("/dashboard/analytics"),sidebarOpen:r||e}),p.jsx(Dh,{to:"/dashboard/records",icon:"mdi:database-search-outline",label:"Master Records",active:h("/dashboard/records"),sidebarOpen:r||e})]})]}),p.jsxs("div",{children:[p.jsx("p",{className:`px-2 text-[10px] font-bold text-accent-light/70 uppercase tracking-widest mb-3 overflow-hidden whitespace-nowrap ${r||e?"opacity-100 max-h-8":"opacity-0 max-h-0 mb-0"}`,style:{transition:"opacity 0.28s cubic-bezier(0.33, 1, 0.68, 1) 0.05s, max-height 0.35s cubic-bezier(0.33, 1, 0.68, 1)"},children:"Operational Units"}),p.jsx("div",{className:"space-y-1",children:Oh.map((m,v)=>p.jsx(vj,{section:m,isOpen:i.includes(v),onToggle:()=>f(v),isActiveRoute:h,sidebarOpen:r,mobileMenuOpen:e,setSidebarOpen:t},v))})]})]}),p.jsx("div",{className:"p-4 pb-[max(1rem,env(safe-area-inset-bottom))] border-t border-primary/30 bg-primary/20 backdrop-blur-sm",children:p.jsxs("div",{className:`flex items-center gap-3 overflow-hidden group ${!r&&!e?"justify-center":""}`,style:{transition:"justify-content 0.35s cubic-bezier(0.33, 1, 0.68, 1)"},children:[p.jsxs("div",{className:"relative shrink-0",children:[p.jsx("div",{className:"w-9 h-9 rounded-full bg-primary border border-primary-light/50 flex items-center justify-center text-accent-light shadow-sm overflow-hidden group-hover:border-accent-light transition-colors duration-200",children:p.jsx("iconify-icon",{icon:"mdi:account",width:"20"})}),p.jsx("div",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 bg-accent border-2 border-primary-dark rounded-full animate-pulse"})]}),p.jsxs("div",{className:`flex-1 min-w-0 overflow-hidden ${r||e?"opacity-100 max-w-[160px]":"opacity-0 max-w-0"}`,style:{transition:"opacity 0.28s cubic-bezier(0.33, 1, 0.68, 1) 0.05s, max-width 0.35s cubic-bezier(0.33, 1, 0.68, 1)"},children:[p.jsx("p",{className:"text-sm font-semibold text-white truncate group-hover:text-accent-light transition-colors duration-200",children:(g=l==null?void 0:l.email)==null?void 0:g.split("@")[0]}),p.jsx("p",{className:"text-[10px] text-accent-light/70 uppercase font-medium truncate",children:o||"Admin Access"})]}),p.jsx("button",{onClick:d,className:`shrink-0 min-w-[44px] min-h-[44px] flex items-center justify-center p-2 text-accent-light/80 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] touch-manipulation ${r||e?"opacity-100 w-11 pointer-events-auto":"opacity-0 w-0 min-w-0 overflow-hidden pointer-events-none"}`,style:{transition:"opacity 0.25s 0.06s, width 0.35s cubic-bezier(0.33, 1, 0.68, 1), min-width 0.35s cubic-bezier(0.33, 1, 0.68, 1)"},title:"Sign Out","aria-label":"Sign out",children:p.jsx("iconify-icon",{icon:"mdi:logout",width:"18"})})]})})]}),p.jsxs("div",{className:"flex-1 flex flex-col min-h-0 min-w-0 w-full bg-background relative",children:[p.jsxs("header",{className:"h-14 sm:h-16 min-h-[44px] sticky top-0 z-30 flex items-center justify-between gap-2 px-3 sm:px-6 lg:px-8 pt-[env(safe-area-inset-top)] pr-[max(0.75rem,env(safe-area-inset-right))] pl-[max(0.75rem,env(safe-area-inset-left))] bg-white/90 backdrop-blur-md border-b border-border shadow-sm shrink-0",children:[p.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0 flex-1",children:[p.jsx("button",{onClick:()=>n(!0),className:"lg:hidden min-w-[44px] min-h-[44px] flex items-center justify-center p-2 -ml-1 text-primary hover:bg-surface active:bg-border rounded-lg transition-colors touch-manipulation","aria-label":"Open menu",children:p.jsx("iconify-icon",{icon:"mdi:menu",width:"24"})}),p.jsxs("div",{className:"flex flex-col justify-center min-w-0",children:[p.jsx("h2",{className:"text-base sm:text-lg font-bold text-primary tracking-tight leading-tight truncate",children:((b=Oh.flatMap(m=>m.items).find(m=>m.path===a.pathname))==null?void 0:b.label)||"Dashboard"}),p.jsx("p",{className:"text-xs text-text-muted mt-0.5 hidden sm:block truncate",children:"Regulatory Division Portal"})]})]}),p.jsx("div",{className:"flex items-center gap-1 sm:gap-4 shrink-0",children:p.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-2 sm:px-3 py-1.5 bg-surface rounded-full border border-border",children:[p.jsx("iconify-icon",{icon:"mdi:calendar-month-outline",width:"16",class:"text-text-muted"}),p.jsx("span",{className:"text-xs font-semibold text-primary whitespace-nowrap",children:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})})]}),p.jsx("main",{className:"flex-1 min-w-0 min-h-0 overflow-x-hidden overflow-y-auto custom-scrollbar view-records-scroll p-3 sm:p-6 lg:p-8 pb-[max(1rem,env(safe-area-inset-bottom))] pr-[max(0.75rem,env(safe-area-inset-right))]",children:p.jsx("div",{className:"w-full max-w-7xl mx-auto min-w-0 animate-fade-in-up",children:p.jsx(G2,{})})})]})]})}function Dh({to:r,icon:t,label:e,active:n,sidebarOpen:i}){return p.jsxs(zr,{to:r,className:`relative flex items-center gap-3 px-3 py-2.5 min-h-[44px] md:min-h-0 rounded-lg transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] group overflow-hidden touch-manipulation
        ${n?"text-white shadow-lg shadow-primary-dark/20":"text-accent-light/80 hover:text-accent-light hover:bg-white/5"}
        ${i?"":"justify-center"}
      `,children:[n&&p.jsx("div",{className:"absolute inset-0 bg-primary border border-white/10 rounded-lg"}),p.jsx("iconify-icon",{icon:t,width:"20",class:`relative z-10 shrink-0 transition-colors duration-200 ${n?"text-white":"group-hover:text-accent-light"}`}),p.jsx("span",{className:`relative z-10 font-medium text-[13.5px] tracking-wide whitespace-nowrap overflow-hidden min-w-0 ${i?"opacity-100 max-w-[200px]":"opacity-0 max-w-0"}`,style:{transition:"opacity 0.28s cubic-bezier(0.33, 1, 0.68, 1) 0.05s, max-width 0.35s cubic-bezier(0.33, 1, 0.68, 1)"},children:e}),!i&&p.jsxs("div",{className:"absolute left-[calc(100%+10px)] top-1/2 -translate-y-1/2 px-3 py-1.5 bg-primary-dark text-white text-xs font-medium rounded-md shadow-xl border border-primary opacity-0 group-hover:opacity-100 pointer-events-none transition-all duration-200 translate-x-2 group-hover:translate-x-0 z-[60] whitespace-nowrap hidden lg:block",children:[e,p.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2 w-2 h-2 bg-primary-dark border-l border-b border-primary transform rotate-45"})]})]})}function vj({section:r,isOpen:t,onToggle:e,isActiveRoute:n,sidebarOpen:i,mobileMenuOpen:s,setSidebarOpen:a}){const c=r.items.some(o=>n(o.path)),l=i||s;return p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:()=>{l||a(!0),e()},className:`relative w-full flex items-center px-3 py-2.5 min-h-[44px] md:min-h-0 rounded-lg transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] group touch-manipulation overflow-hidden
           ${c?"bg-white/5 text-accent-light":"text-accent-light/80 hover:bg-white/5 hover:text-accent-light"}
           ${l?"justify-between":"justify-center"}
        `,children:[p.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[p.jsx("iconify-icon",{icon:r.icon,width:"20",class:`shrink-0 ${c?"text-accent-light":"group-hover:text-accent-light"} transition-colors duration-200`}),p.jsx("span",{className:`text-[13.5px] font-semibold tracking-wide whitespace-nowrap overflow-hidden min-w-0 ${l?"opacity-100 max-w-[180px]":"opacity-0 max-w-0"}`,style:{transition:"opacity 0.28s cubic-bezier(0.33, 1, 0.68, 1) 0.05s, max-width 0.35s cubic-bezier(0.33, 1, 0.68, 1)"},children:r.title})]}),l&&p.jsx("iconify-icon",{icon:"mdi:chevron-down",width:"16",style:{transform:t?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.35s cubic-bezier(0.33, 1, 0.68, 1)"},class:`transition-colors ${c?"text-accent-light":""}`}),!l&&p.jsxs("div",{className:"absolute left-[calc(100%+10px)] top-1/2 -translate-y-1/2 px-3 py-1.5 bg-primary-dark text-white text-xs font-medium rounded-md shadow-xl border border-primary opacity-0 group-hover:opacity-100 pointer-events-none transition-all duration-200 translate-x-2 group-hover:translate-x-0 z-[60] whitespace-nowrap hidden lg:block",children:[r.title,p.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2 w-2 h-2 bg-primary-dark border-l border-b border-primary transform rotate-45"})]})]}),p.jsx("div",{className:`grid transition-all duration-300 ease-[cubic-bezier(0.4,0,0.2,1)] ${t&&l?"grid-rows-[1fr] opacity-100 mt-1":"grid-rows-[0fr] opacity-0"}`,children:p.jsx("div",{className:"overflow-hidden",children:p.jsx("div",{className:"ml-5 pl-4 border-l border-white/10 space-y-1 py-1",children:r.items.map(o=>{const u=n(o.path);return p.jsxs(zr,{to:o.path,className:`flex items-center gap-2 py-2 px-3 min-h-[44px] md:min-h-0 rounded-md text-[12.5px] transition-all relative group/item touch-manipulation
                      ${u?"text-white font-medium bg-primary/30":"text-accent-light/80 hover:text-white hover:translate-x-1"}`,children:[p.jsx("span",{className:`absolute -left-[17px] top-1/2 -translate-y-1/2 w-1.5 h-1.5 rounded-full transition-all duration-300 ${u?"bg-accent-light scale-100":"bg-primary scale-0 group-hover/item:scale-75"}`}),o.label]},o.path)})})})})]})}function xj(){return p.jsxs("div",{className:"min-h-screen flex flex-col page-bg-pattern",children:[p.jsxs("section",{className:"relative flex-1 flex flex-col justify-center min-h-[72vh] py-24 sm:py-28 px-4 sm:px-6 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/DA%20HOMEPAGE.png)"},children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/30 via-primary/12 to-transparent [mask-image:linear-gradient(to_bottom,black_0%,black_45%,transparent_70%)]","aria-hidden":"true"}),p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_40%_at_50%_20%,rgba(255,255,255,0.04),transparent_50%)]","aria-hidden":"true"}),p.jsx("div",{className:"absolute inset-x-0 bottom-0 h-44 bg-gradient-to-t from-background via-background/98 to-transparent","aria-hidden":"true"}),p.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto w-full flex flex-col items-center text-center space-y-14 -translate-y-6",children:[p.jsxs("div",{className:"space-y-6",children:[p.jsx("h1",{className:"home-hero-title text-3xl sm:text-4xl md:text-5xl lg:text-[2.85rem] font-black text-white tracking-tight leading-[1.12] drop-shadow-lg [text-shadow:0_2px_20px_rgba(0,0,0,0.2)]",children:"Regulatory Division Monitoring Data Portal"}),p.jsx("p",{className:"home-hero-subtitle text-base sm:text-lg text-white font-medium max-w-xl mx-auto leading-relaxed drop-shadow-md [text-shadow:0_1px_2px_rgba(0,0,0,0.4),0_2px_8px_rgba(0,0,0,0.3),0_0_20px_rgba(0,0,0,0.2)]",children:"One secure hub for accreditation, food safety, and animal & plant welfare. Select your portal below."})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full max-w-xl mt-16",children:[p.jsxs(zr,{to:"/admin-login",className:"home-portal-card-1 home-portal-card group relative flex items-center gap-3 p-4 sm:p-5 rounded-xl bg-gradient-to-br from-[#6b8f5a] via-[#4a6b3c] to-[#1e4d2b] border-2 border-[#3d5a32] text-left shadow-lg hover:shadow-xl hover:shadow-[#3d5a32]/30 hover:-translate-y-1 transition-all duration-400 ease-out overflow-hidden",children:[p.jsx("span",{className:"relative flex-shrink-0 flex items-center justify-center w-11 h-11 rounded-lg bg-white/20 text-white shadow-inner group-hover:bg-white/25 group-hover:scale-105 transition-all duration-400",children:p.jsx("iconify-icon",{icon:"mdi:shield-account",width:"24",height:"24"})}),p.jsxs("div",{className:"relative min-w-0 flex-1 min-w-0",children:[p.jsx("span",{className:"block font-bold text-white text-lg mb-0.5 whitespace-nowrap",children:"Admin Portal"}),p.jsx("span",{className:"block text-xs text-white/90 font-medium whitespace-nowrap",children:"Login as admin user"})]}),p.jsx("span",{className:"relative flex-shrink-0 w-8 h-8 rounded-full bg-white/20 text-white flex items-center justify-center opacity-0 -translate-x-3 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-400",children:p.jsx("iconify-icon",{icon:"mdi:arrow-right",width:"18",height:"18"})})]}),p.jsxs(zr,{to:"/staff-login",className:"home-portal-card-2 home-portal-card group relative flex items-center gap-3 p-4 sm:p-5 rounded-xl bg-gradient-to-br from-[#7a6340] via-[#9A7B4F] to-[#c9b896] border-2 border-[#9A7B4F] text-left shadow-lg hover:shadow-xl hover:shadow-[#8F7A45]/30 hover:-translate-y-1 transition-all duration-400 ease-out overflow-hidden",children:[p.jsx("span",{className:"relative flex-shrink-0 flex items-center justify-center w-11 h-11 rounded-lg bg-white/20 text-white shadow-inner group-hover:bg-white/25 group-hover:scale-105 transition-all duration-400",children:p.jsx("iconify-icon",{icon:"mdi:account-group",width:"24",height:"24"})}),p.jsxs("div",{className:"relative min-w-0 flex-1 min-w-0",children:[p.jsx("span",{className:"block font-bold text-white text-lg mb-0.5 whitespace-nowrap",children:"Staff Portal"}),p.jsx("span",{className:"block text-xs text-white/90 font-medium whitespace-nowrap",children:"Login as staff user"})]}),p.jsx("span",{className:"relative flex-shrink-0 w-8 h-8 rounded-full bg-white/20 text-white flex items-center justify-center opacity-0 -translate-x-3 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-400",children:p.jsx("iconify-icon",{icon:"mdi:arrow-right",width:"18",height:"18"})})]})]})]})]}),p.jsxs("div",{className:"relative z-20 max-w-5xl mx-auto w-full px-4 sm:px-6 pb-8 space-y-20 mt-8",children:[p.jsxs("section",{className:"home-intro-box relative bg-white rounded-2xl px-8 sm:px-12 py-10 sm:py-12 border-2 border-border shadow-xl max-w-3xl mx-auto overflow-hidden hover:shadow-2xl transition-all duration-400",children:[p.jsx("span",{className:"absolute bottom-0 right-0 w-72 h-72 bg-gradient-to-tl from-primary/5 to-transparent rounded-tl-full pointer-events-none","aria-hidden":"true"}),p.jsx("div",{className:"relative text-center",children:p.jsx("p",{className:"text-content text-base sm:text-lg leading-relaxed font-medium text-balance max-w-2xl mx-auto",children:"Modernizing agricultural and veterinary services for a faster, safer, and more efficient community. This portal provides local government staff and administrators with a centralized hub to seamlessly manage operational data, track accreditations, ensure food safety, and monitor animal and plant welfare all in one secure place."})})]}),p.jsxs("section",{className:"space-y-12",children:[p.jsxs("div",{className:"text-center space-y-4 home-section-title",children:[p.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-content tracking-tight",children:"Core Operational Units"}),p.jsx("p",{className:"text-text-muted text-sm sm:text-base max-w-lg mx-auto leading-relaxed",children:"Registration, quality control, and surveillance services under the Regulatory Division."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[p.jsxs("div",{className:"home-core-card-1 group relative bg-white rounded-xl p-5 sm:p-6 border border-border shadow-sm hover:shadow-lg hover:border-primary/25 hover:-translate-y-0.5 transition-all duration-300 text-left overflow-hidden",children:[p.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),p.jsx("span",{className:"relative inline-flex p-2.5 rounded-lg bg-surface/80 text-primary mb-4 group-hover:bg-primary/10 transition-colors duration-300",children:p.jsx("iconify-icon",{icon:"mdi:clipboard-text-outline",width:"22",height:"22"})}),p.jsx("h3",{className:"relative text-base font-bold text-content mb-2 tracking-tight group-hover:text-primary transition-colors duration-300",children:"Registration & Licensing"}),p.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Animal Feeds, Livestock, Plant Materials, Organic Certifications"})]}),p.jsxs("div",{className:"home-core-card-2 group relative bg-white rounded-xl p-5 sm:p-6 border border-border shadow-sm hover:shadow-lg hover:border-primary/25 hover:-translate-y-0.5 transition-all duration-300 text-left overflow-hidden",children:[p.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),p.jsx("span",{className:"relative inline-flex p-2.5 rounded-lg bg-surface/80 text-primary mb-4 group-hover:bg-primary/10 transition-colors duration-300",children:p.jsx("iconify-icon",{icon:"mdi:check-circle-outline",width:"22",height:"22"})}),p.jsx("h3",{className:"relative text-base font-bold text-content mb-2 tracking-tight group-hover:text-primary transition-colors duration-300",children:"Quality Control"}),p.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Good Agri Practices, Animal Husbandry, Food Safety, Land Use"})]}),p.jsxs("div",{className:"home-core-card-3 group relative bg-white rounded-xl p-5 sm:p-6 border border-border shadow-sm hover:shadow-lg hover:border-primary/25 hover:-translate-y-0.5 transition-all duration-300 text-left overflow-hidden",children:[p.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),p.jsx("span",{className:"relative inline-flex p-2.5 rounded-lg bg-surface/80 text-primary mb-4 group-hover:bg-primary/10 transition-colors duration-300",children:p.jsx("iconify-icon",{icon:"mdi:microscope",width:"22",height:"22"})}),p.jsx("h3",{className:"relative text-base font-bold text-content mb-2 tracking-tight group-hover:text-primary transition-colors duration-300",children:"Surveillance & Disease"}),p.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Plant Pest, Animal Disease Monitoring, CFS/ADMCC"})]})]})]}),p.jsxs("footer",{className:"home-footer text-center py-8 border-t border-border/80",children:[p.jsx("p",{className:"text-text-muted text-sm font-medium",children:"Regulatory Division  Monitoring Data Portal"}),p.jsx("p",{className:"text-text-muted/80 text-xs mt-1",children:"Agricultural & veterinary services  Secure, centralized access"})]})]})]})}function wj(){return p.jsxs("div",{className:"min-h-screen flex flex-col page-bg-pattern font-sans",children:[p.jsxs("section",{className:"relative flex-1 flex flex-col justify-center min-h-[60vh] md:min-h-[70vh] py-20 px-4 sm:px-6 bg-cover bg-center bg-fixed",style:{backgroundImage:"url(/ABOUTPAGE.png)"},children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900/75 via-slate-900/55 to-slate-900/85","aria-hidden":"true"}),p.jsx("div",{className:"absolute inset-0 bg-primary/5 pointer-events-none","aria-hidden":"true"}),p.jsx("div",{className:"absolute inset-x-0 bottom-0 h-40 bg-gradient-to-t from-background via-background/90 to-transparent","aria-hidden":"true"}),p.jsx("div",{className:"about-hero relative z-10 max-w-3xl mx-auto w-full flex flex-col items-center text-center",children:p.jsxs("div",{className:"space-y-3",children:[p.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black text-white tracking-tight drop-shadow-lg leading-tight",children:"About the Portal"}),p.jsx("p",{className:"text-base sm:text-lg text-slate-200 font-medium drop-shadow-md max-w-xl mx-auto",children:"Our story, mission, and team behind the Regulatory Division Monitoring Data Portal"})]})})]}),p.jsxs("div",{className:"relative z-20 max-w-4xl mx-auto w-full px-4 sm:px-6 pb-16 space-y-14 -mt-8",children:[p.jsxs("section",{className:"about-story bg-white rounded-2xl p-5 sm:p-7 shadow-lg border border-border max-w-3xl mx-auto overflow-hidden transition-all duration-300 hover:shadow-xl hover:border-primary/20",children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-content tracking-tight mb-5 text-center",children:"The Story Behind the Portal"}),p.jsx("p",{className:"text-text-muted text-sm sm:text-base leading-relaxed text-center font-medium",children:"Developed to support the local agriculture sector, this portal began as an initiative to unify and streamline the complex workflows of our core Operational Units. By transitioning from manual paperwork to a centralized cloud-based system, the portal bridges the gap between diverse agricultural and veterinary sectors. It ensures seamless coordination and real-time data management across three main divisions: Registration & Licensing (handling Animal Feeds, Livestock & Handlers, Plant Materials, and Organic Certifications), Quality Control (ensuring Good Agri Practices, Food Safety, Land Use, and SAFDZ Validation), and Surveillance & Disease (monitoring Plant Pests and Animal Diseases)."})]}),p.jsxs("section",{className:"space-y-8",children:[p.jsx("div",{className:"about-mission-title text-center space-y-2",children:p.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-content tracking-tight",children:"Mission & Vision"})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 sm:gap-6",children:[p.jsxs("div",{className:"about-mission-card-1 group bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 flex flex-col items-center text-center overflow-hidden",children:[p.jsx("span",{className:"inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:p.jsx("iconify-icon",{icon:"mdi:target",width:"28",height:"28"})}),p.jsx("h3",{className:"text-lg font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Mission"}),p.jsx("p",{className:"text-text-muted text-sm leading-relaxed",children:"To enhance the efficiency, accuracy, and accessibility of agricultural and veterinary services by integrating a secure digital platform that simplifies data management for the Regulatory Division."})]}),p.jsxs("div",{className:"about-mission-card-2 group bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 flex flex-col items-center text-center overflow-hidden",children:[p.jsx("span",{className:"inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:p.jsx("iconify-icon",{icon:"mdi:eye-outline",width:"28",height:"28"})}),p.jsx("h3",{className:"text-lg font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Vision"}),p.jsx("p",{className:"text-text-muted text-sm leading-relaxed",children:"To establish a highly responsive and digitally empowered local agriculture sector where monitoring, licensing, and disease surveillance are handled seamlessly to better serve the community."})]})]})]}),p.jsxs("section",{className:"space-y-8",children:[p.jsxs("div",{className:"about-team-title text-center space-y-2",children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-content tracking-tight",children:"Our Team"}),p.jsx("p",{className:"text-text-muted text-sm sm:text-base text-center max-w-xl mx-auto",children:"A dedicated two-person development team of CCS students collaborating on software design, cloud infrastructure, and process flow to bring real-time agricultural and veterinary data monitoring to life."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"about-team-card-1 group bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 flex flex-col items-center text-center overflow-hidden",children:[p.jsx("div",{className:"relative mb-5",children:p.jsx("img",{src:"/CERRA.png",alt:"Cerra Arwen D. Dela Pea",className:"relative w-24 h-24 sm:w-28 sm:h-28 rounded-full object-cover border-2 border-border shadow-md group-hover:scale-105 transition-transform duration-300"})}),p.jsx("h3",{className:"text-base font-bold text-content mb-1 group-hover:text-primary transition-colors duration-300",children:"Cerra Arwen D. Dela Pea"}),p.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-primary/10 text-primary font-semibold text-xs tracking-wide mb-3",children:"Lead Engineer | Full-Stack & UI/UX"}),p.jsx("p",{className:"text-text-muted text-xs leading-relaxed",children:"Spearheaded the overall architecture and design of the platform, ensuring a seamless connection between the backend logic and the user interface."})]}),p.jsxs("div",{className:"about-team-card-2 group bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 flex flex-col items-center text-center overflow-hidden",children:[p.jsx("div",{className:"relative mb-5",children:p.jsx("img",{src:"/NIO.png",alt:"Nio Noel D. Monsanto",className:"relative w-24 h-24 sm:w-28 sm:h-28 rounded-full object-cover border-2 border-border shadow-md group-hover:scale-105 transition-transform duration-300"})}),p.jsx("h3",{className:"text-base font-bold text-content mb-1 group-hover:text-primary transition-colors duration-300",children:"Nio Noel D. Monsanto"}),p.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-primary/10 text-primary font-semibold text-xs tracking-wide mb-3",children:"Software Engineer | Full-Stack & UI/UX"}),p.jsx("p",{className:"text-text-muted text-xs leading-relaxed",children:"Co-developed the core functionalities and crafted intuitive user experiences, turning complex codes into a visually appealing website."})]})]})]}),p.jsxs("section",{className:"about-ack py-6 sm:py-8 text-center",children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-content tracking-tight mb-4",children:"Acknowledgment & Institution"}),p.jsx("p",{className:"text-text-muted text-sm font-medium mb-6",children:"Supported by the College of Computer Studies - Mindoro State University"}),p.jsxs("div",{className:"flex flex-row items-center justify-center gap-8 sm:gap-12 py-4",children:[p.jsx("img",{src:"/CCS LOGO.png",alt:"CCS Logo",className:"h-16 sm:h-20 object-contain drop-shadow-md hover:scale-105 transition-transform duration-300"}),p.jsx("div",{className:"w-px h-14 bg-gradient-to-b from-transparent via-primary/30 to-transparent hidden sm:block rounded-full","aria-hidden":"true"}),p.jsx("img",{src:"/MINSU LOGO.png",alt:"MINSU Logo",className:"h-16 sm:h-20 object-contain drop-shadow-md hover:scale-105 transition-transform duration-300"})]}),p.jsxs("div",{className:"mt-6 space-y-2",children:[p.jsx("p",{className:"text-content font-bold text-sm sm:text-base",children:"College of Computer Studies  Mindoro State University"}),p.jsx("p",{className:"text-text-muted text-xs sm:text-sm max-w-xl mx-auto leading-relaxed",children:"This project was developed under the guidance of CCS faculty and aligns with the department's goal of promoting innovation through modern information systems and advanced web technologies."})]})]})]})]})}function _j(){return p.jsxs("div",{className:"min-h-screen flex flex-col page-bg-pattern",children:[p.jsxs("section",{className:"relative flex-1 flex flex-col justify-center min-h-[60vh] md:min-h-[70vh] py-20 px-4 sm:px-6 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/FEATURES.png)"},children:[p.jsx("div",{className:"absolute inset-0 bg-slate-900/60","aria-hidden":"true"}),p.jsx("div",{className:"absolute inset-x-0 bottom-0 h-40 bg-gradient-to-t from-background via-background/90 to-transparent","aria-hidden":"true"}),p.jsx("div",{className:"features-hero relative z-10 max-w-3xl mx-auto w-full flex flex-col items-center text-center",children:p.jsxs("div",{className:"space-y-3",children:[p.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black text-white tracking-tight drop-shadow-lg leading-tight",children:"System Features & Capabilities"}),p.jsx("p",{className:"text-base sm:text-lg text-slate-200 font-medium drop-shadow max-w-xl mx-auto",children:"A robust, cloud-powered solution built for the Regulatory Division's complex workflows."})]})})]}),p.jsxs("div",{className:"relative z-20 max-w-4xl mx-auto w-full px-4 sm:px-6 pb-16 space-y-14 -mt-8",children:[p.jsx("section",{className:"features-intro bg-white rounded-2xl p-5 sm:p-7 shadow-lg border border-border max-w-3xl mx-auto transition-all duration-300 hover:shadow-xl hover:border-primary/20",children:p.jsx("p",{className:"text-text-muted text-sm sm:text-base leading-relaxed text-center font-medium",children:"Designed specifically to handle the diverse needs of the agriculture and veterinary sectors. The system neatly categorizes records into three main units for easy management and real-time monitoring."})}),p.jsxs("section",{className:"space-y-8",children:[p.jsx("div",{className:"features-modules-title text-center space-y-2",children:p.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-content tracking-tight",children:"Comprehensive Operational Modules"})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[p.jsxs("div",{className:"features-modules-1 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden",children:[p.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),p.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:p.jsx("iconify-icon",{icon:"mdi:file-document-edit",width:"24",height:"24"})}),p.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Registration & Licensing"}),p.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Efficiently process applications for Animal Feeds, Livestock & Handlers, Transport Carriers, Plant Material/Nursery, Organic Agri Certification, and Animal Welfare."})]}),p.jsxs("div",{className:"features-modules-2 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden",children:[p.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),p.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:p.jsx("iconify-icon",{icon:"mdi:check-circle",width:"24",height:"24"})}),p.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Quality Control"}),p.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Ensure strict compliance with Good Agri Practices, Good Animal Husbandry, Organic Post-Market, Land Use, Food Safety, and SAFDZ Validation."})]}),p.jsxs("div",{className:"features-modules-3 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden",children:[p.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),p.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:p.jsx("iconify-icon",{icon:"mdi:microscope",width:"24",height:"24"})}),p.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Surveillance & Disease"}),p.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Log and monitor critical real-time data for Plant Pest Surveillance, Animal Disease Surveillance, and CFS/ADMCC."})]})]})]}),p.jsxs("section",{className:"space-y-8",children:[p.jsx("div",{className:"features-smart-title text-center space-y-2",children:p.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-content tracking-tight",children:"Smart System Features"})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[p.jsxs("div",{className:"features-smart-1 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden",children:[p.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),p.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:p.jsx("iconify-icon",{icon:"mdi:view-dashboard",width:"24",height:"24"})}),p.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Centralized Interactive Dashboard"}),p.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Get a clear, bird's-eye view of all three operational units. Monitor pending licenses, quality control validations, and active disease surveillance in one workspace."})]}),p.jsxs("div",{className:"features-smart-2 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden",children:[p.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),p.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:p.jsx("iconify-icon",{icon:"mdi:magnify",width:"24",height:"24"})}),p.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Advanced Smart Search"}),p.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Lightning-fast retrieval of records. Find client names, business permits, or transport carriers across any unit in just a few keystrokes."})]}),p.jsxs("div",{className:"features-smart-3 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden",children:[p.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),p.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:p.jsx("iconify-icon",{icon:"mdi:lock",width:"24",height:"24"})}),p.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Secure Role-Based Login"}),p.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Separate access for Admins and Standard Users with Firebase Authentication. Sensitive data remains strictly protected."})]}),p.jsxs("div",{className:"features-smart-4 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden",children:[p.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),p.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:p.jsx("iconify-icon",{icon:"mdi:cloud",width:"24",height:"24"})}),p.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Cloud-Powered Database"}),p.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Data saved instantly and backed up with Firebase Firestore. Say goodbye to lost physical files and manual encoding errors."})]}),p.jsxs("div",{className:"features-smart-5 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden md:col-span-2",children:[p.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),p.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:p.jsx("iconify-icon",{icon:"mdi:leaf",width:"24",height:"24"})}),p.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"100% Paperless Process"}),p.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"Reduce physical clutter, minimize human error, and help the environment by moving your division's transactions entirely online."})]})]})]})]})]})}function Sj(){return p.jsxs("div",{className:"min-h-screen flex flex-col page-bg-pattern",children:[p.jsxs("section",{className:"relative flex-1 flex flex-col justify-center min-h-[60vh] md:min-h-[70vh] py-20 px-4 sm:px-6 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/CONTACTUS.png)"},children:[p.jsx("div",{className:"absolute inset-0 bg-slate-900/60","aria-hidden":"true"}),p.jsx("div",{className:"absolute inset-x-0 bottom-0 h-40 bg-gradient-to-t from-background via-background/90 to-transparent","aria-hidden":"true"}),p.jsx("div",{className:"contact-hero relative z-10 max-w-3xl mx-auto w-full flex flex-col items-center text-center",children:p.jsxs("div",{className:"space-y-3",children:[p.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black text-white tracking-tight drop-shadow-lg leading-tight",children:"Get In Touch"}),p.jsx("p",{className:"text-base sm:text-lg text-slate-200 font-medium drop-shadow max-w-xl mx-auto",children:"Need assistance with your account or have inquiries regarding our services? We are here to help."})]})})]}),p.jsxs("div",{className:"relative z-20 max-w-4xl mx-auto w-full px-4 sm:px-6 pb-16 space-y-14 -mt-8",children:[p.jsxs("section",{className:"space-y-8",children:[p.jsx("div",{className:"contact-offices-title text-center space-y-2",children:p.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-content tracking-tight",children:"Our Offices"})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[p.jsxs("div",{className:"contact-office-1 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden",children:[p.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),p.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:p.jsx("iconify-icon",{icon:"mdi:map-marker",width:"24",height:"24"})}),p.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Regional Field Office"}),p.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"J.P. Rizal Street, Barangay Camilmil, Calapan City, Oriental Mindoro"})]}),p.jsxs("div",{className:"contact-office-2 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 text-left overflow-hidden",children:[p.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),p.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:p.jsx("iconify-icon",{icon:"mdi:office-building",width:"24",height:"24"})}),p.jsx("h3",{className:"relative text-base font-bold text-content mb-2 group-hover:text-primary transition-colors duration-300",children:"Satellite Office"}),p.jsx("p",{className:"relative text-text-muted text-xs leading-relaxed",children:"3rd Floor, ATI Building, Elliptical Road, Diliman, Quezon City"})]})]})]}),p.jsxs("section",{className:"space-y-8",children:[p.jsx("div",{className:"contact-details-title text-center space-y-2",children:p.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-content tracking-tight",children:"Contact Details"})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[p.jsxs("div",{className:"contact-detail-1 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 flex flex-col items-center text-center overflow-hidden",children:[p.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),p.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:p.jsx("iconify-icon",{icon:"mdi:phone",width:"24",height:"24"})}),p.jsx("h3",{className:"relative text-base font-bold text-content mb-1 group-hover:text-primary transition-colors duration-300",children:"Telephone"}),p.jsx("p",{className:"relative text-text-muted text-sm",children:"8273-2474 Local 4400"})]}),p.jsxs("div",{className:"contact-detail-2 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 flex flex-col items-center text-center overflow-hidden",children:[p.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),p.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:p.jsx("iconify-icon",{icon:"mdi:email",width:"24",height:"24"})}),p.jsx("h3",{className:"relative text-base font-bold text-content mb-1 group-hover:text-primary transition-colors duration-300",children:"Email Address"}),p.jsx("a",{href:"mailto:mimaropa@mail.da.gov.ph",className:"relative text-primary font-medium hover:underline text-sm transition-colors duration-300",children:"mimaropa@mail.da.gov.ph"})]}),p.jsxs("div",{className:"contact-detail-3 group relative bg-white rounded-2xl p-5 sm:p-6 border border-border shadow-md hover:shadow-lg hover:border-primary/25 hover:-translate-y-1 transition-all duration-300 flex flex-col items-center text-center overflow-hidden",children:[p.jsx("span",{className:"absolute left-0 top-4 bottom-4 w-0.5 bg-primary/20 rounded-r group-hover:bg-primary/40 transition-colors duration-300","aria-hidden":"true"}),p.jsx("span",{className:"relative inline-flex p-3 rounded-xl bg-surface/80 text-primary mb-4 group-hover:bg-primary group-hover:text-white transition-all duration-300",children:p.jsx("iconify-icon",{icon:"mdi:facebook",width:"24",height:"24"})}),p.jsx("h3",{className:"relative text-base font-bold text-content mb-1 group-hover:text-primary transition-colors duration-300",children:"Official Facebook"}),p.jsx("a",{href:"https://www.facebook.com/DARFOMIMAROPA",target:"_blank",rel:"noopener noreferrer",className:"relative text-primary font-medium hover:underline text-sm transition-colors duration-300",children:"DA RFO MIMAROPA"})]})]})]})]})]})}const kj="REGADMIN2026";function Nj(){const[r,t]=de.useState(!1),[e,n]=de.useState(""),[i,s]=de.useState(""),[a,c]=de.useState(""),[l,o]=de.useState(""),[u,f]=de.useState(!1),[d,h]=de.useState(!1),[g,b]=de.useState(!1),[m,v]=de.useState(!1),[y,w]=de.useState(""),[T,I]=de.useState(""),[V,B]=de.useState(!1),{signIn:A,signUp:M}=so(),F=Ml(),$=async E=>{if(E.preventDefault(),!y.trim()){o("Please enter your email address.");return}o(""),I(""),B(!0);try{await Px(Zi,y.trim()),I("Check your email for the password reset link."),w("")}catch(P){o(P.message||"Failed to send reset email.")}B(!1)},U=async E=>{E.preventDefault(),o(""),f(!0);try{if(r){if(a.trim()!==kj){o("Invalid Admin Code. Only authorized personnel can register as Admin."),f(!1);return}const P=await M(e,i);await l4(Ei(En,"users",P.user.uid),{email:P.user.email,role:"admin",createdAt:new Date().toISOString()}),F("/dashboard")}else{await A(e,i);const P=await b0(Ei(En,"users",Zi.currentUser.uid));if((P.exists()?P.data().role:"staff")!=="admin"){o("This portal is for Administrators only. Use Staff Portal for standard access."),f(!1);return}F("/dashboard")}}catch(P){o(P.message||"Authentication failed.")}f(!1)};return p.jsxs("div",{className:"min-h-screen w-full relative",children:[p.jsx("div",{className:"fixed inset-0 z-0","aria-hidden":"true",style:{transform:"translateZ(0)"},children:p.jsx("img",{src:"/ABOUTPAGE.png",alt:"",className:"w-full h-full object-cover object-center",role:"presentation"})}),p.jsx("div",{className:"admin-login-page relative z-10 min-h-[80vh] pt-14 pb-10 px-4 sm:px-6 flex flex-col items-center justify-center",children:p.jsxs("div",{className:"admin-login-card relative w-full max-w-[420px] rounded-3xl overflow-hidden p-0 transition-all duration-500 ease-out",children:[p.jsx(zr,{to:"/","aria-label":"Back to Home",className:"absolute left-3 top-3 z-10 inline-flex items-center justify-center w-10 h-10 rounded-xl text-black border border-white/60 hover:border-slate-300 transition-all duration-300 ease-out active:scale-95",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",boxShadow:"0 1px 0 rgba(255,255,255,0.5) inset"},children:p.jsx("iconify-icon",{icon:"mdi:arrow-left",width:"22",height:"22"})}),p.jsxs("div",{className:"p-5 sm:p-6",children:[p.jsxs("div",{className:"text-center mb-6 pb-5 border-b border-slate-200",children:[p.jsx("div",{className:"admin-login-stagger-1 inline-flex items-center justify-center p-2.5 rounded-2xl mb-3.5 transition-all duration-500 ease-out hover:scale-105",style:{backgroundColor:"rgba(255,255,255,0.6)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.7)",boxShadow:"0 1px 0 rgba(255,255,255,0.5) inset"},children:p.jsx("img",{src:"/DALOGO.png",alt:"DA Logo",className:"h-11 w-11 sm:h-12 sm:w-12 rounded-lg object-contain"})}),p.jsx("h1",{className:"admin-login-stagger-2 text-xl font-extrabold text-black tracking-tight",children:"Admin Portal"}),p.jsx("p",{className:"admin-login-stagger-3 text-sm text-black/80 mt-2 font-medium",children:"Sign in or register as Administrator"})]}),p.jsxs("form",{onSubmit:U,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-black mb-1.5",children:"Email"}),p.jsx("input",{type:"email",value:e,onChange:E=>n(E.target.value),required:!0,className:"w-full px-3.5 py-2.5 text-sm rounded-xl text-black placeholder-slate-500 focus:ring-2 focus:ring-primary/40 focus:border-primary transition-all duration-300 ease-out outline-none",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",border:"1px solid rgba(255,255,255,0.7)"},placeholder:"admin@agency.gov.ph"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-black mb-1.5",children:"Password"}),p.jsxs("div",{className:"relative flex items-center",children:[p.jsx("input",{type:d?"text":"password",value:i,onChange:E=>s(E.target.value),required:!0,minLength:6,className:"w-full px-3.5 py-2.5 pr-12 text-sm rounded-xl text-black placeholder-slate-500 focus:ring-2 focus:ring-primary/40 focus:border-primary transition-all duration-300 ease-out outline-none",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",border:"1px solid rgba(255,255,255,0.7)"},placeholder:""}),p.jsx("button",{type:"button",onClick:()=>h(E=>!E),className:"absolute right-0 top-0 bottom-0 w-11 flex items-center justify-center rounded-r-xl text-slate-600 hover:text-black hover:bg-white/50 transition-all duration-300 ease-out","aria-label":d?"Hide password":"Show password",children:p.jsx("iconify-icon",{icon:d?"mdi:eye-off-outline":"mdi:eye-outline",width:"20",height:"20"})})]})]}),m&&p.jsxs("div",{className:"admin-login-forgot-in p-4 rounded-2xl border border-slate-200 space-y-3",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:[p.jsx("p",{className:"text-sm font-bold text-black",children:"Reset password"}),p.jsxs("form",{onSubmit:$,className:"space-y-3",children:[p.jsx("input",{type:"email",value:y,onChange:E=>w(E.target.value),placeholder:"Enter your email",className:"w-full px-3.5 py-2.5 text-sm rounded-xl text-black placeholder-slate-500 focus:ring-2 focus:ring-primary/40 outline-none transition-all duration-300 ease-out",style:{backgroundColor:"rgba(255,255,255,0.6)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(255,255,255,0.7)"}}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{type:"button",onClick:()=>{v(!1),w(""),I(""),o("")},className:"flex-1 py-2 text-sm font-semibold text-black rounded-xl border border-slate-300 hover:bg-white/70 transition-all duration-300 ease-out",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:"Cancel"}),p.jsx("button",{type:"submit",disabled:V,className:"flex-1 py-2 text-sm font-bold text-white rounded-xl bg-primary hover:bg-primary-dark disabled:opacity-60 transition-all duration-300 ease-out",children:V?p.jsxs("span",{className:"inline-flex items-center justify-center gap-1.5",children:[p.jsx("iconify-icon",{icon:"mdi:loading",className:"animate-spin",width:"18",height:"18"}),"Sending..."]}):"Send reset link"})]})]}),T&&p.jsxs("p",{className:"admin-login-success-in text-sm text-black font-semibold flex items-center gap-1.5",children:[p.jsx("iconify-icon",{icon:"mdi:check-circle-outline",width:"18",height:"18"}),T]})]}),r&&p.jsxs("div",{className:"admin-login-admin-code",children:[p.jsx("label",{className:"block text-sm font-bold text-black mb-1.5",children:"Admin Code"}),p.jsxs("div",{className:"relative flex items-center",children:[p.jsx("input",{type:g?"text":"password",value:a,onChange:E=>c(E.target.value),required:!0,className:"w-full px-3.5 py-2.5 pr-12 text-sm rounded-xl text-black placeholder-slate-500 focus:ring-2 focus:ring-primary/40 focus:border-primary transition-all duration-300 ease-out outline-none",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",border:"1px solid rgba(255,255,255,0.7)"},placeholder:"Enter admin registration code"}),p.jsx("button",{type:"button",onClick:()=>b(E=>!E),className:"absolute right-0 top-0 bottom-0 w-11 flex items-center justify-center rounded-r-xl text-slate-600 hover:text-black hover:bg-white/50 transition-all duration-300 ease-out","aria-label":g?"Hide admin code":"Show admin code",children:p.jsx("iconify-icon",{icon:g?"mdi:eye-off-outline":"mdi:eye-outline",width:"20",height:"20"})})]}),p.jsx("p",{className:"text-xs text-black/80 mt-2 font-medium",children:"Only users with the correct Admin Code can register as Admin."})]}),l&&p.jsxs("div",{className:"admin-login-error-in flex items-start gap-2 p-3 rounded-xl border border-red-300/80",style:{backgroundColor:"rgba(254,226,226,0.4)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(248,113,113,0.5)"},children:[p.jsx("iconify-icon",{icon:"mdi:alert-circle-outline",className:"text-red-600 shrink-0 mt-0.5",width:"18",height:"18"}),p.jsx("p",{className:"text-sm text-red-800 font-semibold leading-snug",children:l})]}),p.jsx("button",{type:"submit",disabled:u,className:"w-full min-h-[44px] py-3 text-sm mt-4 bg-gradient-to-b from-primary to-primary-dark text-white font-bold rounded-xl shadow-lg shadow-primary/30 hover:shadow-xl hover:shadow-primary/40 hover:-translate-y-0.5 focus:ring-4 focus:ring-primary/40 transition-all duration-300 ease-out disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:translate-y-0 transform active:scale-[0.98] ring-2 ring-primary/20",children:u?p.jsxs("span",{className:"inline-flex items-center justify-center gap-2",children:[p.jsx("iconify-icon",{icon:"mdi:loading",className:"animate-spin",width:"20",height:"20"}),"Please wait..."]}):r?"Register as Admin":"Login"})]}),p.jsx("div",{className:"mt-5 pt-5 border-t border-slate-200 flex flex-col items-center",children:r?p.jsx("button",{type:"button",onClick:()=>{t(!1),o("")},className:"inline-flex items-center px-4 py-2 rounded-2xl text-sm font-bold text-black border border-slate-300 hover:border-slate-400 transition-all duration-300 ease-out active:scale-[0.98]",style:{backgroundColor:"rgba(255,255,255,0.6)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:"Login"}):p.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[p.jsx("button",{type:"button",onClick:()=>{t(!0),o("")},className:"inline-flex items-center px-4 py-2 rounded-2xl text-sm font-bold text-black border border-slate-300 hover:border-slate-400 transition-all duration-300 ease-out active:scale-[0.98]",style:{backgroundColor:"rgba(255,255,255,0.6)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:"Register"}),p.jsxs("button",{type:"button",onClick:()=>{v(!0),o(""),I("")},className:"inline-flex items-center gap-2 px-3.5 py-2 rounded-2xl text-sm font-bold text-black border border-slate-300 hover:border-slate-400 transition-all duration-300 ease-out active:scale-[0.98]",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[p.jsx("iconify-icon",{icon:"mdi:lock-reset",width:"18",height:"18"}),"Forgot Password?"]})]})})]})]})})]})}function Ej(){const[r,t]=de.useState(!1),[e,n]=de.useState(""),[i,s]=de.useState(""),[a,c]=de.useState(""),[l,o]=de.useState(!1),[u,f]=de.useState(!1),[d,h]=de.useState(!1),[g,b]=de.useState(""),[m,v]=de.useState(""),[y,w]=de.useState(!1),{signIn:T,signUp:I}=so(),V=Ml(),B=async M=>{if(M.preventDefault(),!g.trim()){c("Please enter your email address.");return}c(""),v(""),w(!0);try{await Px(Zi,g.trim()),v("Check your email for the password reset link."),b("")}catch(F){c(F.message||"Failed to send reset email.")}w(!1)},A=async M=>{M.preventDefault(),c(""),o(!0);try{if(r){const F=await I(e,i);await l4(Ei(En,"users",F.user.uid),{email:F.user.email,role:"staff",createdAt:new Date().toISOString()}),V("/dashboard")}else{await T(e,i);const F=await b0(Ei(En,"users",Zi.currentUser.uid));if((F.exists()?F.data().role:"staff")==="admin"){c("Admins should use the Admin Portal to sign in."),o(!1);return}V("/dashboard")}}catch(F){c(F.message||"Authentication failed.")}o(!1)};return p.jsxs("div",{className:"min-h-screen w-full relative",children:[p.jsx("div",{className:"fixed inset-0 z-0","aria-hidden":"true",style:{transform:"translateZ(0)"},children:p.jsx("img",{src:"/ABOUTPAGE.png",alt:"",className:"w-full h-full object-cover object-center",role:"presentation"})}),p.jsx("div",{className:"admin-login-page relative z-10 min-h-[80vh] pt-14 pb-10 px-4 sm:px-6 flex flex-col items-center justify-center",children:p.jsxs("div",{className:"admin-login-card relative w-full max-w-[420px] rounded-3xl overflow-hidden p-0 transition-all duration-500 ease-out",children:[p.jsx(zr,{to:"/","aria-label":"Back to Home",className:"absolute left-3 top-3 z-10 inline-flex items-center justify-center w-10 h-10 rounded-xl text-black border border-white/60 hover:border-slate-300 transition-all duration-300 ease-out active:scale-95",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",boxShadow:"0 1px 0 rgba(255,255,255,0.5) inset"},children:p.jsx("iconify-icon",{icon:"mdi:arrow-left",width:"22",height:"22"})}),p.jsxs("div",{className:"p-5 sm:p-6",children:[p.jsxs("div",{className:"text-center mb-6 pb-5 border-b border-slate-200",children:[p.jsx("div",{className:"admin-login-stagger-1 inline-flex items-center justify-center p-2.5 rounded-2xl mb-3.5 transition-all duration-500 ease-out hover:scale-105",style:{backgroundColor:"rgba(255,255,255,0.6)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.7)",boxShadow:"0 1px 0 rgba(255,255,255,0.5) inset"},children:p.jsx("img",{src:"/DALOGO.png",alt:"DA Logo",className:"h-11 w-11 sm:h-12 sm:w-12 rounded-lg object-contain"})}),p.jsx("h1",{className:"admin-login-stagger-2 text-xl font-extrabold text-black tracking-tight",children:"Staff Portal"}),p.jsx("p",{className:"admin-login-stagger-3 text-sm text-black/80 mt-2 font-medium",children:"Sign in or register as Standard User"})]}),p.jsxs("form",{onSubmit:A,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-black mb-1.5",children:"Email"}),p.jsx("input",{type:"email",value:e,onChange:M=>n(M.target.value),required:!0,className:"w-full px-3.5 py-2.5 text-sm rounded-xl text-black placeholder-slate-500 focus:ring-2 focus:ring-primary/40 focus:border-primary transition-all duration-300 ease-out outline-none",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",border:"1px solid rgba(255,255,255,0.7)"},placeholder:"user@agency.gov.ph"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-black mb-1.5",children:"Password"}),p.jsxs("div",{className:"relative flex items-center",children:[p.jsx("input",{type:u?"text":"password",value:i,onChange:M=>s(M.target.value),required:!0,minLength:6,className:"w-full px-3.5 py-2.5 pr-12 text-sm rounded-xl text-black placeholder-slate-500 focus:ring-2 focus:ring-primary/40 focus:border-primary transition-all duration-300 ease-out outline-none",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",border:"1px solid rgba(255,255,255,0.7)"},placeholder:""}),p.jsx("button",{type:"button",onClick:()=>f(M=>!M),className:"absolute right-0 top-0 bottom-0 w-11 flex items-center justify-center rounded-r-xl text-slate-600 hover:text-black hover:bg-white/50 transition-all duration-300 ease-out","aria-label":u?"Hide password":"Show password",children:p.jsx("iconify-icon",{icon:u?"mdi:eye-off-outline":"mdi:eye-outline",width:"20",height:"20"})})]})]}),d&&p.jsxs("div",{className:"admin-login-forgot-in p-4 rounded-2xl border border-slate-200 space-y-3",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:[p.jsx("p",{className:"text-sm font-bold text-black",children:"Reset password"}),p.jsxs("form",{onSubmit:B,className:"space-y-3",children:[p.jsx("input",{type:"email",value:g,onChange:M=>b(M.target.value),placeholder:"Enter your email",className:"w-full px-3.5 py-2.5 text-sm rounded-xl text-black placeholder-slate-500 focus:ring-2 focus:ring-primary/40 outline-none transition-all duration-300 ease-out",style:{backgroundColor:"rgba(255,255,255,0.6)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(255,255,255,0.7)"}}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{type:"button",onClick:()=>{h(!1),b(""),v(""),c("")},className:"flex-1 py-2 text-sm font-semibold text-black rounded-xl border border-slate-300 hover:bg-white/70 transition-all duration-300 ease-out",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:"Cancel"}),p.jsx("button",{type:"submit",disabled:y,className:"flex-1 py-2 text-sm font-bold text-white rounded-xl bg-primary hover:bg-primary-dark disabled:opacity-60 transition-all duration-300 ease-out",children:y?p.jsxs("span",{className:"inline-flex items-center justify-center gap-1.5",children:[p.jsx("iconify-icon",{icon:"mdi:loading",className:"animate-spin",width:"18",height:"18"}),"Sending..."]}):"Send reset link"})]})]}),m&&p.jsxs("p",{className:"admin-login-success-in text-sm text-black font-semibold flex items-center gap-1.5",children:[p.jsx("iconify-icon",{icon:"mdi:check-circle-outline",width:"18",height:"18"}),m]})]}),a&&p.jsxs("div",{className:"admin-login-error-in flex items-start gap-2 p-3 rounded-xl border border-red-300/80",style:{backgroundColor:"rgba(254,226,226,0.4)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(248,113,113,0.5)"},children:[p.jsx("iconify-icon",{icon:"mdi:alert-circle-outline",className:"text-red-600 shrink-0 mt-0.5",width:"18",height:"18"}),p.jsx("p",{className:"text-sm text-red-800 font-semibold leading-snug",children:a})]}),p.jsx("button",{type:"submit",disabled:l,className:"w-full min-h-[44px] py-3 text-sm mt-4 bg-gradient-to-b from-primary to-primary-dark text-white font-bold rounded-xl shadow-lg shadow-primary/30 hover:shadow-xl hover:shadow-primary/40 hover:-translate-y-0.5 focus:ring-4 focus:ring-primary/40 transition-all duration-300 ease-out disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:translate-y-0 transform active:scale-[0.98] ring-2 ring-primary/20",children:l?p.jsxs("span",{className:"inline-flex items-center justify-center gap-2",children:[p.jsx("iconify-icon",{icon:"mdi:loading",className:"animate-spin",width:"20",height:"20"}),"Please wait..."]}):r?"Register as User":"Login"})]}),p.jsx("div",{className:"mt-5 pt-5 border-t border-slate-200 flex flex-col items-center",children:r?p.jsx("button",{type:"button",onClick:()=>{t(!1),c("")},className:"inline-flex items-center px-4 py-2 rounded-2xl text-sm font-bold text-black border border-slate-300 hover:border-slate-400 transition-all duration-300 ease-out active:scale-[0.98]",style:{backgroundColor:"rgba(255,255,255,0.6)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:"Login"}):p.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[p.jsx("button",{type:"button",onClick:()=>{t(!0),c("")},className:"inline-flex items-center px-4 py-2 rounded-2xl text-sm font-bold text-black border border-slate-300 hover:border-slate-400 transition-all duration-300 ease-out active:scale-[0.98]",style:{backgroundColor:"rgba(255,255,255,0.6)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:"Register"}),p.jsxs("button",{type:"button",onClick:()=>{h(!0),c(""),v("")},className:"inline-flex items-center gap-2 px-3.5 py-2 rounded-2xl text-sm font-bold text-black border border-slate-300 hover:border-slate-400 transition-all duration-300 ease-out active:scale-[0.98]",style:{backgroundColor:"rgba(255,255,255,0.5)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[p.jsx("iconify-icon",{icon:"mdi:lock-reset",width:"18",height:"18"}),"Forgot Password?"]})]})})]})]})})]})}const Tj=[{title:"Registration and Licensing",description:"Manage accreditations and compliance for feeds and handlers.",theme:"primary",icon:"mdi:certificate-outline",gradient:"from-[#1e4d2b] via-[#1a4526] to-[#153019]",borderColor:"border-[#1e4d2b]",hoverBorder:"hover:border-[#1e4d2b]/50",iconBg:"bg-[#1e4d2b]/10 text-[#1e4d2b] group-hover:bg-[#1e4d2b]/15",units:[{path:"/dashboard/forms/animal-feed",label:"Animal Feeds Unit"},{path:"/dashboard/forms/animal-welfare",label:"Animal Welfare Concern Unit"},{path:"/dashboard/forms/livestock-handlers",label:"Livestock/Poultry Handlers"},{path:"/dashboard/forms/transport-carrier",label:"Transport Carriers Accreditation"},{path:"/dashboard/forms/plant-material",label:"Plant Material / Nursery Accreditation"},{path:"/dashboard/forms/organic-agri",label:"Organic Agriculture Certification"}]},{title:"Quality Control and Inspection",description:"Ensure standards for crops, animals, and food safety.",theme:"primary-light",icon:"mdi:shield-check-outline",gradient:"from-[#5c7355] via-[#4a6b3c] to-[#3d5a32]",borderColor:"border-[#5c7355]",hoverBorder:"hover:border-[#5c7355]/50",iconBg:"bg-[#5c7355]/10 text-[#5c7355] group-hover:bg-[#5c7355]/15",units:[{path:"/dashboard/forms/good-agri-practices",label:"Good Agricultural Practices"},{path:"/dashboard/forms/good-animal-husbandry",label:"Good Animal Husbandry"},{path:"/dashboard/forms/organic-post-market",label:"Organic Post-Market Surveillance"},{path:"/dashboard/forms/land-use-matter",label:"Land Use Matter Concern"},{path:"/dashboard/forms/food-safety",label:"Food Safety Unit"},{path:"/dashboard/forms/safdz-validation",label:"SAFDZ Validation"}]},{title:"Pest & Disease Surveillance",description:"Monitor and control spread of plant and animal diseases.",theme:"accent",icon:"mdi:virus-outline",gradient:"from-[#9a7b4f] via-[#b8a066] to-[#8f7a45]",borderColor:"border-[#b8a066]",hoverBorder:"hover:border-[#b8a066]/50",iconBg:"bg-[#b8a066]/10 text-[#9a7b4f] group-hover:bg-[#b8a066]/15",units:[{path:"/dashboard/forms/plant-pest-surveillance",label:"Plant Pest Surveillance"},{path:"/dashboard/forms/cfs-admcc",label:"CFS / ADMCC"},{path:"/dashboard/forms/animal-disease-surveillance",label:"Animal Disease Surveillance"}]}];function jj(){return p.jsx("div",{className:"min-w-0 w-full max-w-full overflow-x-hidden pb-10",children:p.jsxs("div",{className:"w-full max-w-7xl mx-auto min-w-0 space-y-6",children:[p.jsx("div",{className:"dashboard-section rounded-xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden",style:{animationDelay:"0ms"},children:p.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-4 sm:px-6 py-4 relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[p.jsxs("div",{className:"min-w-0",children:[p.jsx("h1",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm break-words",children:"Dashboard Overview"}),p.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-1 break-words",children:"Welcome back! Select a module below to manage records and forms."})]}),p.jsxs("div",{className:"flex flex-wrap gap-2 shrink-0",children:[p.jsxs(zr,{to:"/dashboard/analytics",className:"inline-flex items-center gap-2 px-4 py-2 bg-white/15 backdrop-blur-sm text-white border border-white/25 rounded-xl hover:bg-white/25 hover:border-white/40 hover:scale-105 active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] font-bold text-sm",children:[p.jsx("iconify-icon",{icon:"mdi:chart-box-outline",width:"18"}),"Data Analytics"]}),p.jsxs(zr,{to:"/dashboard/records",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#b8a066] text-[#153019] rounded-xl border border-[#b8a066]/50 hover:bg-[#d4c4a0] hover:scale-105 active:scale-[0.98] shadow-md hover:shadow-lg transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] font-bold text-sm",children:[p.jsx("iconify-icon",{icon:"mdi:database-search-outline",width:"18"}),"View Masterlist"]})]})]})]})}),Tj.map((r,t)=>p.jsxs("div",{className:"dashboard-section rounded-xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/5 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/8 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",style:{animationDelay:`${80+t*120}ms`},children:[p.jsxs("div",{className:`bg-gradient-to-r ${r.gradient} px-4 sm:px-5 py-3 relative overflow-hidden`,children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_80%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[p.jsx("div",{className:"p-2 rounded-lg bg-white/15 backdrop-blur-sm border border-white/20 text-white",children:p.jsx("iconify-icon",{icon:r.icon,width:"22"})}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("h2",{className:"text-base font-black text-white uppercase tracking-tight drop-shadow-sm break-words",children:r.title}),p.jsx("p",{className:"text-[10px] font-semibold text-white/85 tracking-wider mt-0.5 break-words",children:r.description})]})]})]}),p.jsx("div",{className:"p-4 sm:p-5 bg-gradient-to-b from-[#faf8f5] to-[#f2ede6]",children:p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 min-w-0",children:r.units.map((e,n)=>p.jsxs(zr,{to:e.path,className:"dashboard-card group relative bg-white rounded-xl border-2 border-[#e8e0d4] p-4 shadow-sm hover:shadow-lg hover:-translate-y-1 hover:border-[#1e4d2b]/40 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] flex items-start gap-3 overflow-hidden min-w-0",style:{animationDelay:`${180+t*120+n*40}ms`},children:[p.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-[0.04] transition-opacity duration-300 bg-gradient-to-br ${r.gradient}`}),p.jsx("div",{className:`shrink-0 w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover:scale-110 ${r.iconBg} border border-[#e8e0d4]`,children:p.jsx("iconify-icon",{icon:"mdi:file-document-edit-outline",width:"20"})}),p.jsxs("div",{className:"flex-1 min-w-0 z-10",children:[p.jsx("p",{className:"font-bold text-[#1e4d2b] group-hover:text-[#153019] text-sm leading-snug transition-colors duration-300",children:e.label}),p.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] font-semibold text-[#5c7355] mt-1.5 group-hover:text-[#1e4d2b] transition-colors duration-300",children:[p.jsx("span",{children:"Open Form"}),p.jsx("span",{className:"inline-block transition-transform duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover:translate-x-0.5",children:p.jsx("iconify-icon",{icon:"mdi:arrow-right",width:"14"})})]})]})]},e.path))})})]},t))]})})}function jc(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var B4={exports:{}};/*! ExcelJS 19-10-2023 */(function(r,t){(function(e){r.exports=e()})(function(){return function e(n,i,s){function a(o,u){if(!i[o]){if(!n[o]){var f=typeof jc=="function"&&jc;if(!u&&f)return f(o,!0);if(c)return c(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[o]={exports:{}};n[o][0].call(h.exports,function(g){return a(n[o][1][g]||g)},h,h.exports,e,n,i,s)}return i[o].exports}for(var c=typeof jc=="function"&&jc,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(e,n,i){const s=e("fs"),a=e("fast-csv"),c=e("dayjs/plugin/customParseFormat"),l=e("dayjs/plugin/utc"),o=e("dayjs").extend(c).extend(l),u=e("../utils/stream-buf"),{fs:{exists:f}}=e("../utils/utils"),d={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(h){this.workbook=h,this.worksheet=null}async readFile(h,g){if(g=g||{},!await f(h))throw new Error("File not found: "+h);const b=s.createReadStream(h),m=await this.read(b,g);return b.close(),m}read(h,g){return g=g||{},new Promise((b,m)=>{const v=this.workbook.addWorksheet(g.sheetName),y=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],w=g.map||function(I){if(I==="")return null;const V=Number(I);if(!Number.isNaN(V)&&V!==1/0)return V;const B=y.reduce((M,F)=>{if(M)return M;const $=o(I,F,!0);return $.isValid()?$:null},null);if(B)return new Date(B.valueOf());const A=d[I];return A!==void 0?A:I},T=a.parse(g.parserOptions).on("data",I=>{v.addRow(I.map(w))}).on("end",()=>{T.emit("worksheet",v)});T.on("worksheet",b).on("error",m),h.pipe(T)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(h,g){return new Promise((b,m)=>{g=g||{};const v=this.workbook.getWorksheet(g.sheetName||g.sheetId),y=a.format(g.formatterOptions);h.on("finish",()=>{b()}),y.on("error",m),y.pipe(h);const{dateFormat:w,dateUTC:T}=g,I=g.map||(A=>{if(A){if(A.text||A.hyperlink)return A.hyperlink||A.text||"";if(A.formula||A.result)return A.result||"";if(A instanceof Date)return w?T?o.utc(A).format(w):o(A).format(w):T?o.utc(A).format():o(A).format();if(A.error)return A.error;if(typeof A=="object")return JSON.stringify(A)}return A}),V=g.includeEmptyRows===void 0||g.includeEmptyRows;let B=1;v&&v.eachRow((A,M)=>{if(V)for(;B++<M-1;)y.write([]);const{values:F}=A;F.shift(),y.write(F.map(I)),B=M}),y.end()})}writeFile(h,g){const b={encoding:(g=g||{}).encoding||"utf8"},m=s.createWriteStream(h,b);return this.write(m,g)}async writeBuffer(h){const g=new u;return await this.write(g,h),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,n,i){const s=e("../utils/col-cache");class a{constructor(l,o){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,o)if(typeof o=="string"){const f=s.decodeAddress(o);this.nativeCol=f.col+u,this.nativeColOff=0,this.nativeRow=f.row+u,this.nativeRowOff=0}else o.nativeCol!==void 0?(this.nativeCol=o.nativeCol||0,this.nativeColOff=o.nativeColOff||0,this.nativeRow=o.nativeRow||0,this.nativeRowOff=o.nativeRowOff||0):o.col!==void 0?(this.col=o.col+u,this.row=o.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof a||l==null?l:new a(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}n.exports=a},{"../utils/col-cache":19}],3:[function(e,n,i){const s=e("../utils/col-cache"),a=e("../utils/under-dash"),c=e("./enums"),{slideFormula:l}=e("../utils/shared-formula"),o=e("./note");class u{constructor(h,g,b){if(!h||!g)throw new Error("A Cell needs a Row");this._row=h,this._column=g,s.validateAddress(b),this._address=b,this._value=f.create(u.Types.Null,this),this.style=this._mergeStyle(h.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(h){this.style.numFmt=h}get font(){return this.style.font}set font(h){this.style.font=h}get alignment(){return this.style.alignment}set alignment(h){this.style.alignment=h}get border(){return this.style.border}set border(h){this.style.border=h}get fill(){return this.style.fill}set fill(h){this.style.fill=h}get protection(){return this.style.protection}set protection(h){this.style.protection=h}_mergeStyle(h,g,b){const m=h&&h.numFmt||g&&g.numFmt;m&&(b.numFmt=m);const v=h&&h.font||g&&g.font;v&&(b.font=v);const y=h&&h.alignment||g&&g.alignment;y&&(b.alignment=y);const w=h&&h.border||g&&g.border;w&&(b.border=w);const T=h&&h.fill||g&&g.fill;T&&(b.fill=T);const I=h&&h.protection||g&&g.protection;return I&&(b.protection=I),b}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(h,g){this._value.release(),this._value=f.create(u.Types.Merge,this,h),g||(this.style=h.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=f.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(h){return this._value.type===u.Types.Merge&&this._value.isMergedTo(h)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(h){this.type!==u.Types.Merge?(this._value.release(),this._value=f.create(f.getType(h),this,h)):this._value.master.value=h}get note(){return this._comment&&this._comment.note}set note(h){this._comment=new o(h)}get text(){return this._value.toString()}get html(){return a.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(h){this.type===u.Types.String&&(this._value=f.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:h}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:h}=this._row;return{sheetName:h.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(h){this.names=[h]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(h){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),h.forEach(b=>{g.addEx(this.fullAddress,b)})}addName(h){this.workbook.definedNames.addEx(this.fullAddress,h)}removeName(h){this.workbook.definedNames.removeEx(this.fullAddress,h)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(h){this._dataValidations.add(this.address,h)}get model(){const{model:h}=this._value;return h.style=this.style,this._comment&&(h.comment=this._comment.model),h}set model(h){if(this._value.release(),this._value=f.create(h.type,this),this._value.model=h,h.comment)switch(h.comment.type){case"note":this._comment=o.fromModel(h.comment)}h.style?this.style=h.style:this.style={}}}u.Types=c.ValueType;const f={getType:d=>d==null?u.Types.Null:d instanceof String||typeof d=="string"?u.Types.String:typeof d=="number"?u.Types.Number:typeof d=="boolean"?u.Types.Boolean:d instanceof Date?u.Types.Date:d.text&&d.hyperlink?u.Types.Hyperlink:d.formula||d.sharedFormula?u.Types.Formula:d.richText?u.Types.RichText:d.sharedString?u.Types.SharedString:d.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(d){this.model={address:d.address,type:u.Types.Null}}get value(){return null}set value(d){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Number,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.String,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Date,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Hyperlink,text:h?h.text:void 0,hyperlink:h?h.hyperlink:void 0},h&&h.tooltip&&(this.model.tooltip=h.tooltip)}get value(){const d={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(d.tooltip=this.model.tooltip),d}set value(d){this.model={text:d.text,hyperlink:d.hyperlink},d.tooltip&&(this.model.tooltip=d.tooltip)}get text(){return this.model.text}set text(d){this.model.text=d}get hyperlink(){return this.model.hyperlink}set hyperlink(d){this.model.hyperlink=d}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(d,h){this.cell=d,this.model={address:d.address,type:u.Types.Formula,shareType:h?h.shareType:void 0,ref:h?h.ref:void 0,formula:h?h.formula:void 0,sharedFormula:h?h.sharedFormula:void 0,result:h?h.result:void 0}}_copyModel(d){const h={},g=b=>{const m=d[b];m&&(h[b]=m)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),h}get value(){return this._copyModel(this.model)}set value(d){this.model=this._copyModel(d)}validate(d){switch(f.getType(d)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(d){this.model.formula=d}get formulaType(){return this.model.formula?c.FormulaType.Master:this.model.sharedFormula?c.FormulaType.Shared:c.FormulaType.None}get result(){return this.model.result}set result(d){this.model.result=d}get type(){return u.Types.Formula}get effectiveType(){const d=this.model.result;return d==null?c.ValueType.Null:d instanceof String||typeof d=="string"?c.ValueType.String:typeof d=="number"?c.ValueType.Number:d instanceof Date?c.ValueType.Date:d.text&&d.hyperlink?c.ValueType.Hyperlink:d.formula?c.ValueType.Formula:c.ValueType.Null}get address(){return this.model.address}set address(d){this.model.address=d}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:d}=this.cell,h=d.findCell(this.model.sharedFormula);this._translatedFormula=h&&l(h.formula,h.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Merge,master:h?h.address:void 0},this._master=h,h&&h.addMergeRef()}get value(){return this._master.value}set value(d){d instanceof u?(this._master&&this._master.releaseMergeRef(),d.addMergeRef(),this._master=d):this._master.value=d}isMergedTo(d){return d===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.String,value:JSON.stringify(h),rawValue:h}}get value(){return this.model.rawValue}set value(d){this.model.rawValue=d,this.model.value=JSON.stringify(d)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.SharedString,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.String,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}toString(){return this.model.value.richText.map(d=>d.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Boolean,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(d,h){this.model={address:d.address,type:u.Types.Error,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((d,h)=>(d[h.t]=h.f,d),[]),create(d,h,g){const b=this.types[d];if(!b)throw new Error("Could not create Value of type "+d);return new b(h,g)}};n.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,n,i){const s=e("../utils/under-dash"),a=e("./enums"),c=e("../utils/col-cache");class l{constructor(u,f,d){this._worksheet=u,this._number=f,d!==!1&&(this.defn=d)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return c.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((f,d)=>{this._worksheet.getCell(d+1,this.number).value=f})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&s.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,f){const d=this.number;f||(f=u,u=null),this._worksheet.eachRow(u,(h,g)=>{f(h.getCell(d),g)})}get values(){const u=[];return this.eachCell((f,d)=>{f&&f.type!==a.ValueType.Null&&(u[d]=f.value)}),u}set values(u){if(!u)return;const f=this.number;let d=0;u.hasOwnProperty("0")&&(d=1),u.forEach((h,g)=>{this._worksheet.getCell(g+d,f).value=h})}_applyStyle(u,f){return this.style[u]=f,this.eachCell(d=>{d[u]=f}),f}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const f=[];let d=null;return u&&u.forEach((h,g)=>{h.isDefault?d&&(d=null):d&&h.equivalentTo(d)?d.max=g+1:(d={min:g+1,max:g+1,width:h.width!==void 0?h.width:9,style:h.style,isCustomWidth:h.isCustomWidth,hidden:h.hidden,outlineLevel:h.outlineLevel,collapsed:h.collapsed},f.push(d))}),f.length?f:void 0}static fromModel(u,f){const d=[];let h=1,g=0;for(f=(f=f||[]).sort(function(b,m){return b.min-m.min});g<f.length;){const b=f[g++];for(;h<b.min;)d.push(new l(u,h++));for(;h<=b.max;)d.push(new l(u,h++,b))}return d.length?d:null}}n.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,n,i){n.exports=class{constructor(s){this.model=s||{}}add(s,a){return this.model[s]=a}find(s){return this.model[s]}remove(s){this.model[s]=void 0}}},{}],6:[function(e,n,i){const s=e("../utils/under-dash"),a=e("../utils/col-cache"),c=e("../utils/cell-matrix"),l=e("./range"),o=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new c)}add(u,f){const d=a.decodeEx(u);this.addEx(d,f)}addEx(u,f){const d=this.getMatrix(f);if(u.top)for(let h=u.left;h<=u.right;h++)for(let g=u.top;g<=u.bottom;g++){const b={sheetName:u.sheetName,address:a.n2l(h)+g,row:g,col:h};d.addCellEx(b)}else d.addCellEx(u)}remove(u,f){const d=a.decodeEx(u);this.removeEx(d,f)}removeEx(u,f){this.getMatrix(f).removeCellEx(u)}removeAllNames(u){s.each(this.matrixMap,f=>{f.removeCellEx(u)})}forEach(u){s.each(this.matrixMap,(f,d)=>{f.forEach(h=>{u(d,h)})})}getNames(u){return this.getNamesEx(a.decodeEx(u))}getNamesEx(u){return s.map(this.matrixMap,(f,d)=>f.findCellEx(u)&&d).filter(Boolean)}_explore(u,f){f.mark=!1;const{sheetName:d}=f,h=new l(f.row,f.col,f.row,f.col,d);let g,b;function m(y,w){const T=u.findCellAt(d,y,f.col);return!(!T||!T.mark)&&(h[w]=y,T.mark=!1,!0)}for(b=f.row-1;m(b,"top");b--);for(b=f.row+1;m(b,"bottom");b++);function v(y,w){const T=[];for(b=h.top;b<=h.bottom;b++){const I=u.findCellAt(d,b,y);if(!I||!I.mark)return!1;T.push(I)}h[w]=y;for(let I=0;I<T.length;I++)T[I].mark=!1;return!0}for(g=f.col-1;v(g,"left");g--);for(g=f.col+1;v(g,"right");g++);return h}getRanges(u,f){return(f=f||this.matrixMap[u])?(f.forEach(d=>{d.mark=!0}),{name:u,ranges:f.map(d=>d.mark&&this._explore(f,d)).filter(Boolean).map(d=>d.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,f){u.forEachInSheet(f,(d,h,g)=>{d&&(d.row===h&&d.col===g||(d.row=h,d.col=g,d.address=a.n2l(g)+h))})}spliceRows(u,f,d,h){s.each(this.matrixMap,g=>{g.spliceRows(u,f,d,h),this.normaliseMatrix(g,u)})}spliceColumns(u,f,d,h){s.each(this.matrixMap,g=>{g.spliceColumns(u,f,d,h),this.normaliseMatrix(g,u)})}get model(){return s.map(this.matrixMap,(u,f)=>this.getRanges(f,u)).filter(u=>u.ranges.length)}set model(u){const f=this.matrixMap={};u.forEach(d=>{const h=f[d.name]=new c;d.ranges.forEach(g=>{o.test(g.split("!").pop()||"")&&h.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,n,i){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,n,i){const s=e("../utils/col-cache"),a=e("./anchor");n.exports=class{constructor(c,l){this.worksheet=c,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(c){let{type:l,imageId:o,range:u,hyperlinks:f}=c;if(this.type=l,this.imageId=o,l==="image")if(typeof u=="string"){const d=s.decode(u);this.range={tl:new a(this.worksheet,{col:d.left,row:d.top},-1),br:new a(this.worksheet,{col:d.right,row:d.bottom},0),editAs:"oneCell"}}else this.range={tl:new a(this.worksheet,u.tl,0),br:u.br&&new a(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:f||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,n,i){const s=e("../utils/under-dash");class a{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return s.deepMerge({},a.DEFAULT_CONFIGS,l)}set model(l){const{note:o}=l,{texts:u}=o;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=o}static fromModel(l){const o=new a;return o.model=l,o}}a.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=a},{"../utils/under-dash":26}],10:[function(e,n,i){const s=e("../utils/col-cache");class a{constructor(){this.decode(arguments)}setTLBR(l,o,u,f,d){if(arguments.length<4){const h=s.decodeAddress(l),g=s.decodeAddress(o);this.model={top:Math.min(h.row,g.row),left:Math.min(h.col,g.col),bottom:Math.max(h.row,g.row),right:Math.max(h.col,g.col),sheetName:u},this.setTLBR(h.row,h.col,g.row,g.col,d)}else this.model={top:Math.min(l,u),left:Math.min(o,f),bottom:Math.max(l,u),right:Math.max(o,f),sheetName:d}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const o=l[0];if(o instanceof a)this.model={top:o.model.top,left:o.model.left,bottom:o.model.bottom,right:o.model.right,sheetName:o.sheetName};else if(o instanceof Array)this.decode(o);else if(o.top&&o.left&&o.bottom&&o.right)this.model={top:o.top,left:o.left,bottom:o.bottom,right:o.right,sheetName:o.sheetName};else{const u=s.decodeEx(o);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,o,u,f){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||o<this.left)&&(this.left=o),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||f>this.right)&&(this.right=f)}expandRow(l){if(l){const{dimensions:o,number:u}=l;o&&this.expand(u,o.min,u,o.max)}}expandToAddress(l){const o=s.decodeEx(l);this.expand(o.row,o.col,o.row,o.col)}get tl(){return s.n2l(this.left)+this.top}get $t$l(){return`$${s.n2l(this.left)}$${this.top}`}get br(){return s.n2l(this.right)+this.bottom}get $b$r(){return`$${s.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const o=s.decodeEx(l);return this.containsEx(o)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let o=this.left;o<=this.right;o++)for(let u=this.top;u<=this.bottom;u++)l(s.encodeAddress(u,o),u,o)}}n.exports=a},{"../utils/col-cache":19}],11:[function(e,n,i){const s=e("../utils/under-dash"),a=e("./enums"),c=e("../utils/col-cache"),l=e("./cell");n.exports=class{constructor(o,u){this._worksheet=o,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(o){return this._cells[o-1]}getCellEx(o){let u=this._cells[o.col-1];if(!u){const f=this._worksheet.getColumn(o.col);u=new l(this,f,o.address),this._cells[o.col-1]=u}return u}getCell(o){if(typeof o=="string"){const u=this._worksheet.getColumnKey(o);o=u?u.number:c.l2n(o)}return this._cells[o-1]||this.getCellEx({address:c.encodeAddress(this._number,o),row:this._number,col:o})}splice(o,u){const f=o+u;for(var d=arguments.length,h=new Array(d>2?d-2:0),g=2;g<d;g++)h[g-2]=arguments[g];const b=h.length-u,m=this._cells.length;let v,y,w;if(b<0)for(v=o+h.length;v<=m;v++)w=this._cells[v-1],y=this._cells[v-b-1],y?(w=this.getCell(v),w.value=y.value,w.style=y.style,w._comment=y._comment):w&&(w.value=null,w.style={},w._comment=void 0);else if(b>0)for(v=m;v>=f;v--)y=this._cells[v-1],y?(w=this.getCell(v+b),w.value=y.value,w.style=y.style,w._comment=y._comment):this._cells[v+b-1]=void 0;for(v=0;v<h.length;v++)w=this.getCell(o+v),w.value=h[v],w.style={},w._comment=void 0}eachCell(o,u){if(u||(u=o,o=null),o&&o.includeEmpty){const f=this._cells.length;for(let d=1;d<=f;d++)u(this.getCell(d),d)}else this._cells.forEach((f,d)=>{f&&f.type!==a.ValueType.Null&&u(f,d+1)})}addPageBreak(o,u){const f=this._worksheet,d=Math.max(0,o-1)||0,h=Math.max(0,u-1)||16838,g={id:this._number,max:h,man:1};d&&(g.min=d),f.rowBreaks.push(g)}get values(){const o=[];return this._cells.forEach(u=>{u&&u.type!==a.ValueType.Null&&(o[u.col]=u.value)}),o}set values(o){if(this._cells=[],o)if(o instanceof Array){let u=0;o.hasOwnProperty("0")&&(u=1),o.forEach((f,d)=>{f!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,d+u),row:this._number,col:d+u}).value=f)})}else this._worksheet.eachColumnKey((u,f)=>{o[f]!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=o[f])})}get hasValues(){return s.some(this._cells,o=>o&&o.type!==a.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let o=0;return this.eachCell(()=>{o++}),o}get dimensions(){let o=0,u=0;return this._cells.forEach(f=>{f&&f.type!==a.ValueType.Null&&((!o||o>f.col)&&(o=f.col),u<f.col&&(u=f.col))}),o>0?{min:o,max:u}:null}_applyStyle(o,u){return this.style[o]=u,this._cells.forEach(f=>{f&&(f[o]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(o){this._applyStyle("numFmt",o)}get font(){return this.style.font}set font(o){this._applyStyle("font",o)}get alignment(){return this.style.alignment}set alignment(o){this._applyStyle("alignment",o)}get protection(){return this.style.protection}set protection(o){this._applyStyle("protection",o)}get border(){return this.style.border}set border(o){this._applyStyle("border",o)}get fill(){return this.style.fill}set fill(o){this._applyStyle("fill",o)}get hidden(){return!!this._hidden}set hidden(o){this._hidden=o}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(o){this._outlineLevel=o}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const o=[];let u=0,f=0;return this._cells.forEach(d=>{if(d){const h=d.model;h&&((!u||u>d.col)&&(u=d.col),f<d.col&&(f=d.col),o.push(h))}}),this.height||o.length?{cells:o,number:this.number,min:u,max:f,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(o){if(o.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],o.cells.forEach(f=>{switch(f.type){case l.Types.Merge:break;default:{let d;if(f.address)d=c.decodeAddress(f.address);else if(u){const{row:h}=u,g=u.col+1;d={row:h,col:g,address:c.encodeAddress(h,g),$col$row:`$${c.n2l(g)}$${h}`}}u=d,this.getCellEx(d).model=f;break}}}),o.height?this.height=o.height:delete this.height,this.hidden=o.hidden,this.outlineLevel=o.outlineLevel||0,this.style=o.style&&JSON.parse(JSON.stringify(o.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,n,i){const s=e("../utils/col-cache");class a{constructor(l,o,u){this.table=l,this.column=o,this.index=u}_set(l,o){this.table.cacheState(),this.column[l]=o}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}n.exports=class{constructor(c,l){this.worksheet=c,l&&(this.table=l,this.validate(),this.store())}getFormula(c){switch(c.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${c.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${c.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${c.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${c.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${c.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${c.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${c.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${c.name}])`;case"custom":return c.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+c.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:c}=this,l=(b,m,v)=>{b[m]===void 0&&(b[m]=v)};l(c,"headerRow",!0),l(c,"totalsRow",!1),l(c,"style",{}),l(c.style,"theme","TableStyleMedium2"),l(c.style,"showFirstColumn",!1),l(c.style,"showLastColumn",!1),l(c.style,"showRowStripes",!1),l(c.style,"showColumnStripes",!1);const o=(b,m)=>{if(!b)throw new Error(m)};o(c.ref,"Table must have ref"),o(c.columns,"Table must have column definitions"),o(c.rows,"Table must have row definitions"),c.tl=s.decodeAddress(c.ref);const{row:u,col:f}=c.tl;o(u>0,"Table must be on valid row"),o(f>0,"Table must be on valid col");const{width:d,filterHeight:h,tableHeight:g}=this;c.autoFilterRef=s.encode(u,f,u+h-1,f+d-1),c.tableRef=s.encode(u,f,u+g-1,f+d-1),c.columns.forEach((b,m)=>{o(b.name,`Column ${m} must have a name`),m===0?l(b,"totalsRowLabel","Total"):(l(b,"totalsRowFunction","none"),b.totalsRowFormula=this.getFormula(b))})}store(){const c=(h,g)=>{g&&Object.keys(g).forEach(b=>{h[b]=g[b]})},{worksheet:l,table:o}=this,{row:u,col:f}=o.tl;let d=0;if(o.headerRow){const h=l.getRow(u+d++);o.columns.forEach((g,b)=>{const{style:m,name:v}=g,y=h.getCell(f+b);y.value=v,c(y,m)})}if(o.rows.forEach(h=>{const g=l.getRow(u+d++);h.forEach((b,m)=>{const v=g.getCell(f+m);v.value=b,c(v,o.columns[m].style)})}),o.totalsRow){const h=l.getRow(u+d++);o.columns.forEach((g,b)=>{const m=h.getCell(f+b);if(b===0)m.value=g.totalsRowLabel;else{const v=this.getFormula(g);m.value=v?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}c(m,g.style)})}}load(c){const{table:l}=this,{row:o,col:u}=l.tl;let f=0;if(l.headerRow){const d=c.getRow(o+f++);l.columns.forEach((h,g)=>{d.getCell(u+g).value=h.name})}if(l.rows.forEach(d=>{const h=c.getRow(o+f++);d.forEach((g,b)=>{h.getCell(u+b).value=g})}),l.totalsRow){const d=c.getRow(o+f++);l.columns.forEach((h,g)=>{const b=d.getCell(u+g);g===0?b.value=h.totalsRowLabel:this.getFormula(h)&&(b.value={formula:h.totalsRowFormula,result:h.totalsRowResult})})}}get model(){return this.table}set model(c){this.table=c}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const c=s.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const o=this.worksheet.getRow(c.row+l);for(let u=0;u<this._cache.width;u++)o.getCell(c.col+u).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const o=this.worksheet.getRow(c.row+l);for(let u=0;u<this._cache.width;u++)o.getCell(c.col+u).value=null}for(let l=0;l<this.tableHeight;l++){const o=this.worksheet.getRow(c.row+l);for(let u=this.width;u<this._cache.width;u++)o.getCell(c.col+u).value=null}}this.store()}addRow(c,l){this.cacheState(),l===void 0?this.table.rows.push(c):this.table.rows.splice(l,0,c)}removeRows(c){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(c,l)}getColumn(c){const l=this.table.columns[c];return new a(this,l,c)}addColumn(c,l,o){this.cacheState(),o===void 0?(this.table.columns.push(c),this.table.rows.forEach((u,f)=>{u.push(l[f])})):(this.table.columns.splice(o,0,c),this.table.rows.forEach((u,f)=>{u.splice(o,0,l[f])}))}removeColumns(c){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(c,l),this.table.rows.forEach(o=>{o.splice(c,l)})}_assign(c,l,o){this.cacheState(),c[l]=o}get ref(){return this.table.ref}set ref(c){this._assign(this.table,"ref",c)}get name(){return this.table.name}set name(c){this.table.name=c}get displayName(){return this.table.displyName||this.table.name}set displayNamename(c){this.table.displayName=c}get headerRow(){return this.table.headerRow}set headerRow(c){this._assign(this.table,"headerRow",c)}get totalsRow(){return this.table.totalsRow}set totalsRow(c){this._assign(this.table,"totalsRow",c)}get theme(){return this.table.style.name}set theme(c){this.table.style.name=c}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(c){this.table.style.showFirstColumn=c}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(c){this.table.style.showLastColumn=c}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(c){this.table.style.showRowStripes=c}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(c){this.table.style.showColumnStripes=c}}},{"../utils/col-cache":19}],13:[function(e,n,i){const s=e("./worksheet"),a=e("./defined-names"),c=e("../xlsx/xlsx"),l=e("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new a}get xlsx(){return this._xlsx||(this._xlsx=new c(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let o=1;o<this._worksheets.length;o++)if(!this._worksheets[o])return o;return this._worksheets.length||1}addWorksheet(o,u){const f=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const d=this._worksheets.reduce((b,m)=>(m&&m.orderNo)>b?m.orderNo:b,0),h=Object.assign({},u,{id:f,name:o,orderNo:d+1,workbook:this}),g=new s(h);return this._worksheets[f]=g,g}removeWorksheetEx(o){delete this._worksheets[o.id]}removeWorksheet(o){const u=this.getWorksheet(o);u&&u.destroy()}getWorksheet(o){return o===void 0?this._worksheets.find(Boolean):typeof o=="number"?this._worksheets[o]:typeof o=="string"?this._worksheets.find(u=>u&&u.name===o):void 0}get worksheets(){return this._worksheets.slice(1).sort((o,u)=>o.orderNo-u.orderNo).filter(Boolean)}eachSheet(o){this.worksheets.forEach(u=>{o(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(o){const u=this.media.length;return this.media.push(Object.assign({},o,{type:"image"})),u}getImage(o){return this.media[o]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(o=>o.model),sheets:this.worksheets.map(o=>o.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(o){this.creator=o.creator,this.lastModifiedBy=o.lastModifiedBy,this.lastPrinted=o.lastPrinted,this.created=o.created,this.modified=o.modified,this.company=o.company,this.manager=o.manager,this.title=o.title,this.subject=o.subject,this.keywords=o.keywords,this.category=o.category,this.description=o.description,this.language=o.language,this.revision=o.revision,this.contentStatus=o.contentStatus,this.properties=o.properties,this.calcProperties=o.calcProperties,this._worksheets=[],o.worksheets.forEach(u=>{const{id:f,name:d,state:h}=u,g=o.sheets&&o.sheets.findIndex(b=>b.id===f);(this._worksheets[f]=new s({id:f,name:d,orderNo:g,state:h,workbook:this})).model=u}),this._definedNames.model=o.definedNames,this.views=o.views,this._themes=o.themes,this.media=o.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,n,i){const s=e("../utils/under-dash"),a=e("../utils/col-cache"),c=e("./range"),l=e("./row"),o=e("./column"),u=e("./enums"),f=e("./image"),d=e("./table"),h=e("./data-validations"),g=e("../utils/encryptor"),{copyStyle:b}=e("../utils/copy-style");n.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new h,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new c;return this._rows.forEach(v=>{if(v){const y=v.dimensions;y&&m.expand(v.number,y.min,v.number,y.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((w,T)=>{const I=(T.header?1:T.headers&&T.headers.length)||0;return Math.max(w,I)},0);let v=1;const y=this._columns=[];m.forEach(w=>{const T=new o(this,v++,!1);y.push(T),T.defn=w})}getColumnKey(m){return this._keys[m]}setColumnKey(m,v){this._keys[m]=v}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){s.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const v=this._keys[m];if(v)return v;m=a.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let v=this._columns.length+1;for(;v<=m;)this._columns.push(new o(this,v++))}return this._columns[m-1]}spliceColumns(m,v){const y=this._rows.length;for(var w=arguments.length,T=new Array(w>2?w-2:0),I=2;I<w;I++)T[I-2]=arguments[I];if(T.length>0)for(let M=0;M<y;M++){const F=[m,v];T.forEach(U=>{F.push(U[M]||null)});const $=this.getRow(M+1);$.splice.apply($,F)}else this._rows.forEach(M=>{M&&M.splice(m,v)});const V=T.length-v,B=m+v,A=this._columns.length;if(V<0)for(let M=m+T.length;M<=A;M++)this.getColumn(M).defn=this.getColumn(M-V).defn;else if(V>0)for(let M=A;M>=B;M--)this.getColumn(M+V).defn=this.getColumn(M).defn;for(let M=m;M<m+T.length;M++)this.getColumn(M).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,v,T.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(v=>{m=Math.max(m,v.cellCount)}),m}get actualColumnCount(){const m=[];let v=0;return this.eachRow(y=>{y.eachCell(w=>{let{col:T}=w;m[T]||(m[T]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const m=this._rows;let v=m.length;for(;v>0&&m[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,v){return this._rows.slice(m-1,m-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let v=this._rows[m-1];return v||(v=this._rows[m-1]=new l(this,m)),v}getRows(m,v){if(v<1)return;const y=[];for(let w=m;w<m+v;w++)y.push(this.getRow(w));return y}addRow(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=this._nextRow,w=this.getRow(y);return w.values=m,this._setStyleOption(y,v[0]==="i"?v:"n"),w}addRows(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=[];return m.forEach(w=>{y.push(this.addRow(w,v))}),y}insertRow(m,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,v),this._setStyleOption(m,y),this.getRow(m)}insertRows(m,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...v),y!=="n")for(let w=0;w<v.length;w++)y[0]==="o"&&this.findRow(v.length+m+w)!==void 0?this._copyStyle(v.length+m+w,m+w,y[1]==="+"):y[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+w,y[1]==="+");return this.getRows(m,v.length)}_setStyleOption(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,v[1]==="+"):v[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,v[1]==="+")}_copyStyle(m,v){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this.getRow(m),T=this.getRow(v);T.style=b(w.style),w.eachCell({includeEmpty:y},(I,V)=>{T.getCell(V).style=b(I.style)}),T.height=w.height}duplicateRow(m,v){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this._rows[m-1],T=new Array(v).fill(w.values);this.spliceRows(m+1,y?0:v,...T);for(let I=0;I<v;I++){const V=this._rows[m+I];V.style=w.style,V.height=w.height,w.eachCell({includeEmpty:!0},(B,A)=>{V.getCell(A).style=B.style})}}spliceRows(m,v){const y=m+v;for(var w=arguments.length,T=new Array(w>2?w-2:0),I=2;I<w;I++)T[I-2]=arguments[I];const V=T.length,B=V-v,A=this._rows.length;let M,F;if(B<0)for(m===A&&(this._rows[A-1]=void 0),M=y;M<=A;M++)if(F=this._rows[M-1],F){const $=this.getRow(M+B);$.values=F.values,$.style=F.style,$.height=F.height,F.eachCell({includeEmpty:!0},(U,E)=>{$.getCell(E).style=U.style}),this._rows[M-1]=void 0}else this._rows[M+B-1]=void 0;else if(B>0)for(M=A;M>=y;M--)if(F=this._rows[M-1],F){const $=this.getRow(M+B);$.values=F.values,$.style=F.style,$.height=F.height,F.eachCell({includeEmpty:!0},(U,E)=>{if($.getCell(E).style=U.style,U._value.constructor.name==="MergeValue"){const P=this.getRow(U._row._number+V).getCell(E),N=U._value._master,x=this.getRow(N._row._number+V).getCell(N._column._number);P.merge(x)}})}else this._rows[M+B-1]=void 0;for(M=0;M<V;M++){const $=this.getRow(m+M);$.style={},$.values=T[M]}this.workbook.definedNames.spliceRows(this.name,m,v,V)}eachRow(m,v){if(v||(v=m,m=void 0),m&&m.includeEmpty){const y=this._rows.length;for(let w=1;w<=y;w++)v(this.getRow(w),w)}else this._rows.forEach(y=>{y&&y.hasValues&&v(y,y.number)})}getSheetValues(){const m=[];return this._rows.forEach(v=>{v&&(m[v.number]=v.values)}),m}findCell(m,v){const y=a.getAddress(m,v),w=this._rows[y.row-1];return w?w.findCell(y.col):void 0}getCell(m,v){const y=a.getAddress(m,v);return this.getRow(y.row).getCellEx(y)}mergeCells(){for(var m=arguments.length,v=new Array(m),y=0;y<m;y++)v[y]=arguments[y];const w=new c(v);this._mergeCellsInternal(w)}mergeCellsWithoutStyle(){for(var m=arguments.length,v=new Array(m),y=0;y<m;y++)v[y]=arguments[y];const w=new c(v);this._mergeCellsInternal(w,!0)}_mergeCellsInternal(m,v){s.each(this._merges,w=>{if(w.intersects(m))throw new Error("Cannot merge already merged cells")});const y=this.getCell(m.top,m.left);for(let w=m.top;w<=m.bottom;w++)for(let T=m.left;T<=m.right;T++)(w>m.top||T>m.left)&&this.getCell(w,T).merge(y,v);this._merges[y.address]=m}_unMergeMaster(m){const v=this._merges[m.address];if(v){for(let y=v.top;y<=v.bottom;y++)for(let w=v.left;w<=v.right;w++)this.getCell(y,w).unmerge();delete this._merges[m.address]}}get hasMerges(){return s.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,v=new Array(m),y=0;y<m;y++)v[y]=arguments[y];const w=new c(v);for(let T=w.top;T<=w.bottom;T++)for(let I=w.left;I<=w.right;I++){const V=this.findCell(T,I);V&&(V.type===u.ValueType.Merge?this._unMergeMaster(V.master):this._merges[V.address]&&this._unMergeMaster(V))}}fillFormula(m,v,y){let w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const T=a.decode(m),{top:I,left:V,bottom:B,right:A}=T,M=A-V+1,F=a.encodeAddress(I,V),$=w==="shared";let U;U=typeof y=="function"?y:Array.isArray(y)?Array.isArray(y[0])?(P,N)=>y[P-I][N-V]:(P,N)=>y[(P-I)*M+(N-V)]:()=>{};let E=!0;for(let P=I;P<=B;P++)for(let N=V;N<=A;N++)E?(this.getCell(P,N).value={shareType:w,formula:v,ref:m,result:U(P,N)},E=!1):this.getCell(P,N).value=$?{sharedFormula:F,result:U(P,N)}:U(P,N)}addImage(m,v){const y={type:"image",imageId:m,range:v};this._media.push(new f(this,y))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const v={type:"background",imageId:m};this._media.push(new f(this,v))}getBackgroundImageId(){const m=this._media.find(v=>v.type==="background");return m&&m.imageId}protect(m,v){return new Promise(y=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!m&&"spinCount"in v&&delete this.sheetProtection.spinCount),y()})}unprotect(){this.sheetProtection=null}addTable(m){const v=new d(this,m);return this.tables[m.name]=v,v}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(w=>w.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(w=>w.model),conditionalFormattings:this.conditionalFormattings};m.cols=o.toModel(this.columns);const v=m.rows=[],y=m.dimensions=new c;return this._rows.forEach(w=>{const T=w&&w.model;T&&(y.expand(T.number,T.min,T.number,T.max),v.push(T))}),m.merges=[],s.each(this._merges,w=>{m.merges.push(w.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(v=>{const y=new l(this,v.number);this._rows[y.number-1]=y,y.model=v})}_parseMergeCells(m){s.each(m.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(m){this.name=m.name,this._columns=o.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new h(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(v=>new f(this,v)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((v,y)=>{const w=new d;return w.model=y,v[y.name]=w,v},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,n,i){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const s={Workbook:e("./doc/workbook")},a=e("./doc/enums");Object.keys(a).forEach(c=>{s[c]=a[c]}),n.exports=s},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,n,i){const s=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(a){return typeof a=="string"?a:s?s.decode(a):a.toString()}},{}],17:[function(e,n,i){const s=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:a}=e("buffer");i.stringToBuffer=function(c){return typeof c!="string"?c:s?a.from(s.encode(c).buffer):a.from(c)}},{buffer:220}],18:[function(e,n,i){const s=e("./under-dash"),a=e("./col-cache");n.exports=class{constructor(c){this.template=c,this.sheets={}}addCell(c){this.addCellEx(a.decodeEx(c))}getCell(c){return this.findCellEx(a.decodeEx(c),!0)}findCell(c){return this.findCellEx(a.decodeEx(c),!1)}findCellAt(c,l,o){const u=this.sheets[c],f=u&&u[l];return f&&f[o]}addCellEx(c){if(c.top)for(let l=c.top;l<=c.bottom;l++)for(let o=c.left;o<=c.right;o++)this.getCellAt(c.sheetName,l,o);else this.findCellEx(c,!0)}getCellEx(c){return this.findCellEx(c,!0)}findCellEx(c,l){const o=this.findSheet(c,l),u=this.findSheetRow(o,c,l);return this.findRowCell(u,c,l)}getCellAt(c,l,o){const u=this.sheets[c]||(this.sheets[c]=[]),f=u[l]||(u[l]=[]);return f[o]||(f[o]={sheetName:c,address:a.n2l(o)+l,row:l,col:o})}removeCellEx(c){const l=this.findSheet(c);if(!l)return;const o=this.findSheetRow(l,c);o&&delete o[c.col]}forEachInSheet(c,l){const o=this.sheets[c];o&&o.forEach((u,f)=>{u&&u.forEach((d,h)=>{d&&l(d,f,h)})})}forEach(c){s.each(this.sheets,(l,o)=>{this.forEachInSheet(o,c)})}map(c){const l=[];return this.forEach(o=>{l.push(c(o))}),l}findSheet(c,l){const o=c.sheetName;return this.sheets[o]?this.sheets[o]:l?this.sheets[o]=[]:void 0}findSheetRow(c,l,o){const{row:u}=l;return c&&c[u]?c[u]:o?c[u]=[]:void 0}findRowCell(c,l,o){const{col:u}=l;return c&&c[u]?c[u]:o?c[u]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(c,l,o,u){const f=this.sheets[c];if(f){const d=[];for(let h=0;h<u;h++)d.push([]);f.splice(l,o,...d)}}spliceColumns(c,l,o,u){const f=this.sheets[c];if(f){const d=[];for(let h=0;h<u;h++)d.push(null);s.each(f,h=>{h.splice(l,o,...d)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,n,i){const s=/^[A-Z]+\d+$/,a={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:c=>c<=26?1:c<=676?2:3,_fill(c){let l,o,u,f,d,h=1;if(c>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&c>=1){for(;h<=26;)l=this._dictionary[h-1],this._n2l[h]=l,this._l2n[l]=h,h++;this._l2nFill=1}if(this._l2nFill<2&&c>=2){for(h=27;h<=702;)o=h-27,u=o%26,f=Math.floor(o/26),l=this._dictionary[f]+this._dictionary[u],this._n2l[h]=l,this._l2n[l]=h,h++;this._l2nFill=2}if(this._l2nFill<3&&c>=3){for(h=703;h<=16384;)o=h-703,u=o%26,f=Math.floor(o/26)%26,d=Math.floor(o/676),l=this._dictionary[d]+this._dictionary[f]+this._dictionary[u],this._n2l[h]=l,this._l2n[l]=h,h++;this._l2nFill=3}},l2n(c){if(this._l2n[c]||this._fill(c.length),!this._l2n[c])throw new Error("Out of bounds. Invalid column letter: "+c);return this._l2n[c]},n2l(c){if(c<1||c>16384)throw new Error(c+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[c]||this._fill(this._level(c)),this._n2l[c]},_hash:{},validateAddress(c){if(!s.test(c))throw new Error("Invalid Address: "+c);return!0},decodeAddress(c){const l=c.length<5&&this._hash[c];if(l)return l;let o=!1,u="",f=0,d=!1,h="",g=0;for(let m,v=0;v<c.length;v++)if(m=c.charCodeAt(v),!d&&m>=65&&m<=90)o=!0,u+=c[v],f=26*f+m-64;else if(m>=48&&m<=57)d=!0,h+=c[v],g=10*g+m-48;else if(d&&o&&m!==36)break;if(o){if(f>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else f=void 0;d||(g=void 0);const b={address:c=u+h,col:f,row:g,$col$row:`$${u}$${h}`};return f<=100&&g<=100&&(this._hash[c]=b,this._hash[b.$col$row]=b),b},getAddress(c,l){if(l){const o=this.n2l(l)+c;return this.decodeAddress(o)}return this.decodeAddress(c)},decode(c){const l=c.split(":");if(l.length===2){const o=this.decodeAddress(l[0]),u=this.decodeAddress(l[1]),f={top:Math.min(o.row,u.row),left:Math.min(o.col,u.col),bottom:Math.max(o.row,u.row),right:Math.max(o.col,u.col)};return f.tl=this.n2l(f.left)+f.top,f.br=this.n2l(f.right)+f.bottom,f.dimensions=`${f.tl}:${f.br}`,f}return this.decodeAddress(c)},decodeEx(c){const l=c.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),o=l[1]||l[2],u=l[3],f=u.split(":");if(f.length>1){let h=this.decodeAddress(f[0]),g=this.decodeAddress(f[1]);const b=Math.min(h.row,g.row),m=Math.min(h.col,g.col),v=Math.max(h.row,g.row),y=Math.max(h.col,g.col);return h=this.n2l(m)+b,g=this.n2l(y)+v,{top:b,left:m,bottom:v,right:y,sheetName:o,tl:{address:h,col:m,row:b,$col$row:`$${this.n2l(m)}$${b}`,sheetName:o},br:{address:g,col:y,row:v,$col$row:`$${this.n2l(y)}$${v}`,sheetName:o},dimensions:`${h}:${g}`}}if(u.startsWith("#"))return o?{sheetName:o,error:u}:{error:u};const d=this.decodeAddress(u);return o?{sheetName:o,...d}:d},encodeAddress:(c,l)=>a.n2l(l)+c,encode(){switch(arguments.length){case 2:return a.encodeAddress(arguments[0],arguments[1]);case 4:return`${a.encodeAddress(arguments[0],arguments[1])}:${a.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(c,l){const[o,u,,f,d]=c,[h,g]=l;return h>=o&&h<=f&&g>=u&&g<=d}};n.exports=a},{}],20:[function(e,n,i){const s=(c,l)=>({...c,...l.reduce((o,u)=>(c[u]&&(o[u]={...c[u]}),o),{})}),a=function(c,l,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];c[o]&&(l[o]=s(c[o],u))};i.copyStyle=c=>{if(!c)return c;if(l=c,Object.keys(l).length===0)return{};var l;const o={...c};return a(c,o,"font",["color"]),a(c,o,"alignment"),a(c,o,"protection"),c.border&&(a(c,o,"border"),a(c.border,o.border,"top",["color"]),a(c.border,o.border,"left",["color"]),a(c.border,o.border,"bottom",["color"]),a(c.border,o.border,"right",["color"]),a(c.border,o.border,"diagonal",["color"])),c.fill&&(a(c,o,"fill",["fgColor","bgColor","center"]),c.fill.stops&&(o.fill.stops=c.fill.stops.map(u=>s(u,["color"])))),o}},{}],21:[function(e,n,i){(function(s){(function(){const a=e("crypto"),c={hash(l){const o=a.createHash(l);for(var u=arguments.length,f=new Array(u>1?u-1:0),d=1;d<u;d++)f[d-1]=arguments[d];return o.update(s.concat(f)),o.digest()},convertPasswordToHash(l,o,u,f){if(o=o.toLowerCase(),a.getHashes().indexOf(o)<0)throw new Error(`Hash algorithm '${o}' not supported!`);const d=s.from(l,"utf16le");let h=this.hash(o,s.from(u,"base64"),d);for(let g=0;g<f;g++){const b=s.alloc(4);b.writeUInt32LE(g,0),h=this.hash(o,h,b)}return h.toString("base64")},randomBytes:l=>a.randomBytes(l)};n.exports=c}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,n,i){const{SaxesParser:s}=e("saxes"),{PassThrough:a}=e("readable-stream"),{bufferToString:c}=e("./browser-buffer-decode");n.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new a));const o=new s;let u;o.on("error",d=>{u=d});let f=[];o.on("opentag",d=>f.push({eventType:"opentag",value:d})),o.on("text",d=>f.push({eventType:"text",value:d})),o.on("closetag",d=>f.push({eventType:"closetag",value:d}));for await(const d of l){if(o.write(c(d)),u)throw u;yield f,f=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,n,i){const s=e("./col-cache"),a=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,c=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(l,o,u){const f=s.decode(o),d=s.decode(u);return l.replace(a,(h,g,b,m,v)=>{if(v)return h;const y=c.exec(m);if(y){const w=y[1],T=y[2].toUpperCase(),I=y[3],V=y[4];if(T.length>3||T.length===3&&T>"XFD")return h;let B=s.l2n(T),A=parseInt(V,10);return w||(B+=d.col-f.col),I||(A+=d.row-f.row),(g||"")+(w||"")+s.n2l(B)+(I||"")+A}return h})}}},{"./col-cache":19}],24:[function(e,n,i){(function(s,a){(function(){const c=e("readable-stream"),l=e("./utils"),o=e("./string-buf");class u{constructor(m,v){this._data=m,this._encoding=v}get length(){return this.toBuffer().length}copy(m,v,y,w){return this.toBuffer().copy(m,v,y,w)}toBuffer(){return this._buffer||(this._buffer=a.from(this._data,this._encoding)),this._buffer}}class f{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,y,w){return this._data._buf.copy(m,v,y,w)}toBuffer(){return this._data.toBuffer()}}class d{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,y,w){this._data.copy(m,v,y,w)}toBuffer(){return this._data}}class h{constructor(m){this.size=m,this.buffer=a.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=a.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let v;return m===0?null:m===void 0||m>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=a.alloc(m),this.buffer.copy(v,0,this.iRead,m),this.iRead+=m,v)}write(m,v,y){const w=Math.min(y,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,v,v+w),this.iWrite+=w,w}}const g=function(b){b=b||{},this.bufSize=b.bufSize||1048576,this.buffers=[],this.batch=b.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(g,c.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return a.concat(this.buffers.map(b=>b.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const b=new h(this.bufSize);return this.buffers.push(b),b},async _pipe(b){await Promise.all(this.pipes.map(function(m){return new Promise(v=>{m.write(b.toBuffer(),()=>{v()})})}))},_writeToBuffers(b){let m=0;const v=b.length;for(;m<v;)m+=this._getWritableBuffer().write(b,m,v-m)},async write(b,m,v){let y;if(m instanceof Function&&(v=m,m="utf8"),v=v||l.nop,b instanceof o)y=new f(b);else if(b instanceof a)y=new d(b);else{if(!(typeof b=="string"||b instanceof String||b instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");y=new u(b,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(y);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(y),s.nextTick(v)):(await this._pipe(y),v());else this.paused||this.emit("data",y.toBuffer()),this._writeToBuffers(y),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(b,m,v){const y=w=>{w?v(w):(this._flush(),this.pipes.forEach(T=>{T.end()}),this.emit("finish"))};b?this.write(b,m,y):y()},read(b){let m;if(b){for(m=[];b&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],y=v.read(b);b-=y.length,m.push(y),v.eod&&v.full&&this.buffers.shift()}return a.concat(m)}return m=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],a.concat(m)},setEncoding(b){this.encoding=b},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(b){this.pipes.push(b),!this.paused&&this.buffers.length&&this.end()},unpipe(b){this.pipes=this.pipes.filter(m=>m!==b)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=g}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,n,i){(function(s){(function(){n.exports=class{constructor(a){this._buf=s.alloc(a&&a.size||16384),this._encoding=a&&a.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=s.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(a){a=a||0,this._buffer=void 0,this._inPos=a}_grow(a){let c=2*this._buf.length;for(;c<a;)c*=2;const l=s.alloc(c);this._buf.copy(l,0),this._buf=l}addText(a){this._buffer=void 0;let c=this._inPos+this._buf.write(a,this._inPos,this._encoding);for(;c>=this._buf.length-4;)this._grow(this._inPos+a.length),c=this._inPos+this._buf.write(a,this._inPos,this._encoding);this._inPos=c}addStringBuf(a){a.length&&(this._buffer=void 0,this.length+a.length>this.capacity&&this._grow(this.length+a.length),a._buf.copy(this._buf,this._inPos,0,a.length),this._inPos+=a.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,n,i){const{toString:s}=Object.prototype,a=/["&<>]/,c={each:function(l,o){l&&(Array.isArray(l)?l.forEach(o):Object.keys(l).forEach(u=>{o(l[u],u)}))},some:function(l,o){return!!l&&(Array.isArray(l)?l.some(o):Object.keys(l).some(u=>o(l[u],u)))},every:function(l,o){return!l||(Array.isArray(l)?l.every(o):Object.keys(l).every(u=>o(l[u],u)))},map:function(l,o){return l?Array.isArray(l)?l.map(o):Object.keys(l).map(u=>o(l[u],u)):[]},keyBy:(l,o)=>l.reduce((u,f)=>(u[f[o]]=f,u),{}),isEqual:function(l,o){const u=typeof l,f=typeof o,d=Array.isArray(l),h=Array.isArray(o);let g;if(u!==f)return!1;switch(typeof l){case"object":if(d||h)return!(!d||!h)&&l.length===o.length&&l.every((b,m)=>{const v=o[m];return c.isEqual(b,v)});if(l===null||o===null)return l===o;if(g=Object.keys(l),Object.keys(o).length!==g.length)return!1;for(const b of g)if(!o.hasOwnProperty(b))return!1;return c.every(l,(b,m)=>{const v=o[m];return c.isEqual(b,v)});default:return l===o}},escapeHtml(l){const o=a.exec(l);if(!o)return l;let u="",f="",d=0,h=o.index;for(;h<l.length;h++){switch(l.charAt(h)){case'"':f="&quot;";break;case"&":f="&amp;";break;case"'":f="&apos;";break;case"<":f="&lt;";break;case">":f="&gt;";break;default:continue}d!==h&&(u+=l.substring(d,h)),d=h+1,u+=f}return d!==h?u+l.substring(d,h):u},strcmp:(l,o)=>l<o?-1:l>o?1:0,isUndefined:l=>s.call(l)==="[object Undefined]",isObject:l=>s.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:o}=arguments;let u,f,d;function h(g,b){u=l[b],d=Array.isArray(g),c.isObject(g)||d?(d?(d=!1,f=u&&Array.isArray(u)?u:[]):f=u&&c.isObject(u)?u:{},l[b]=c.deepMerge(f,g)):c.isUndefined(g)||(l[b]=g)}for(let g=0;g<o;g++)c.each(arguments[g],h);return l}};n.exports=c},{}],27:[function(e,n,i){(function(s,a){(function(){const c=e("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,o={nop(){},promiseImmediate:u=>new Promise(f=>{s.setImmediate?a(()=>{f(u)}):setTimeout(()=>{f(u)},1)}),inherits:function(u,f,d,h){u.super_=f,h||(h=d,d=null),d&&Object.keys(d).forEach(b=>{Object.defineProperty(u,b,Object.getOwnPropertyDescriptor(d,b))});const g={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};h&&Object.keys(h).forEach(b=>{g[b]=Object.getOwnPropertyDescriptor(h,b)}),u.prototype=Object.create(f.prototype,g)},dateToExcel:(u,f)=>25569+u.getTime()/864e5-(f?1462:0),excelToDate(u,f){const d=Math.round(24*(u-25569+(f?1462:0))*3600*1e3);return new Date(d)},parsePath(u){const f=u.lastIndexOf("/");return{path:u.substring(0,f),name:u.substring(f+1)}},getRelsPath(u){const f=o.parsePath(u);return`${f.path}/_rels/${f.name}.rels`},xmlEncode(u){const f=l.exec(u);if(!f)return u;let d="",h="",g=0,b=f.index;for(;b<u.length;b++){const m=u.charCodeAt(b);switch(m){case 34:h="&quot;";break;case 38:h="&amp;";break;case 39:h="&apos;";break;case 60:h="&lt;";break;case 62:h="&gt;";break;case 127:h="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){h="";break}continue}g!==b&&(d+=u.substring(g,b)),g=b+1,h&&(d+=h)}return g!==b?d+u.substring(g,b):d},xmlDecode:u=>u.replace(/&([a-z]*);/g,f=>{switch(f){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return f}}),validInt(u){const f=parseInt(u,10);return Number.isNaN(f)?0:f},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(f=>{c.access(u,c.constants.F_OK,d=>{f(!d)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};n.exports=o}).call(this)}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,n,i){const s=e("./under-dash"),a=e("./utils");function c(u,f,d){u.push(` ${f}="${a.xmlEncode(d.toString())}"`)}function l(u,f){if(f){const d=[];s.each(f,(h,g)=>{h!==void 0&&c(d,g,h)}),u.push(d.join(""))}}class o{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(f){const d=this._xml;d.push("<?xml"),l(d,f),d.push(`?>
`)}openNode(f,d){const h=this.tos,g=this._xml;h&&this.open&&g.push(">"),this._stack.push(f),g.push("<"),g.push(f),l(g,d),this.leaf=!0,this.open=!0}addAttribute(f,d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");d!==void 0&&c(this._xml,f,d)}addAttributes(f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,f)}writeText(f){const d=this._xml;this.open&&(d.push(">"),this.open=!1),this.leaf=!1,d.push(a.xmlEncode(f.toString()))}writeXml(f){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(f)}closeNode(){const f=this._stack.pop(),d=this._xml;this.leaf?d.push("/>"):(d.push("</"),d.push(f),d.push(">")),this.open=!1,this.leaf=!1}leafNode(f,d,h){this.openNode(f,d),h!==void 0&&this.writeText(h),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const f=this._rollbacks.pop();this._xml.length>f.xml&&this._xml.splice(f.xml,this._xml.length-f.xml),this._stack.length>f.stack&&this._stack.splice(f.stack,this._stack.length-f.stack),this.leaf=f.leaf,this.open=f.open}get xml(){return this.closeAll(),this._xml.join("")}}o.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=o},{"./under-dash":26,"./utils":27}],29:[function(e,n,i){(function(s){(function(){const a=e("events"),c=e("jszip"),l=e("./stream-buf"),{stringToBuffer:o}=e("./browser-buffer-encode");class u extends a.EventEmitter{constructor(d){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},d),this.zip=new c,this.stream=new l}append(d,h){h.hasOwnProperty("base64")&&h.base64?this.zip.file(h.name,d,{base64:!0}):(s.browser&&typeof d=="string"&&(d=o(d)),this.zip.file(h.name,d))}async finalize(){const d=await this.zip.generateAsync(this.options);this.stream.end(d),this.emit("finish")}read(d){return this.stream.read(d)}setEncoding(d){return this.stream.setEncoding(d)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(d,h){return this.stream.pipe(d,h)}unpipe(d){return this.stream.unpipe(d)}unshift(d){return this.stream.unshift(d)}wrap(d){return this.stream.wrap(d)}}n.exports={ZipWriter:u}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,n,i){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,n,i){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,n,i){const s=e("../../utils/parse-sax"),a=e("../../utils/xml-stream");class c{prepare(){}render(){}parseOpen(o){}parseText(o){}parseClose(o){}reconcile(o,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(o=>{o instanceof c?o.reset():o.xform&&o.xform.reset()})}mergeModel(o){this.model=Object.assign(this.model||{},o)}async parse(o){for await(const u of o)for(const{eventType:f,value:d}of u)if(f==="opentag")this.parseOpen(d);else if(f==="text")this.parseText(d);else if(f==="closetag"&&!this.parseClose(d.name))return this.model;return this.model}async parseStream(o){return this.parse(s(o))}get xml(){return this.toXml(this.model)}toXml(o){const u=new a;return this.render(u,o),u.xml}static toAttribute(o,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(f)return u}else if(f||o!==u)return o.toString()}static toStringAttribute(o,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(o,u,f)}static toStringValue(o,u){return o===void 0?u:o}static toBoolAttribute(o,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(f)return u}else if(f||o!==u)return o?"1":"0"}static toBoolValue(o,u){return o===void 0?u:o==="1"}static toIntAttribute(o,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(o,u,f)}static toIntValue(o,u){return o===void 0?u:parseInt(o,10)}static toFloatAttribute(o,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(o,u,f)}static toFloatValue(o,u){return o===void 0?u:parseFloat(o)}}n.exports=c},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,n,i){const s=e("../base-xform"),a=e("../../../utils/col-cache");function c(o){try{return a.decodeEx(o),!0}catch{return!1}}function l(o){const u=[];let f=!1,d="";return o.split(",").forEach(h=>{if(!h)return;const g=(h.match(/'/g)||[]).length;if(!g)return void(f?d+=h+",":c(h)&&u.push(h));const b=g%2==0;!f&&b&&c(h)?u.push(h):f&&!b?(f=!1,c(d+h)&&u.push(d+h),d=""):(f=!0,d+=h+",")}),u}n.exports=class extends s{render(o,u){o.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),o.writeText(u.ranges.join(",")),o.closeNode()}parseOpen(o){switch(o.name){case"definedName":return this._parsedName=o.attributes.name,this._parsedLocalSheetId=o.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(o){this._parsedText.push(o)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,n,i){const s=e("../../../utils/utils"),a=e("../base-xform");n.exports=class extends a{render(c,l){c.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(c){return c.name==="sheet"&&(this.model={name:s.xmlDecode(c.attributes.name),id:parseInt(c.attributes.sheetId,10),state:c.attributes.state,rId:c.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(a,c){a.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:c.fullCalcOnLoad?1:void 0})}parseOpen(a){return a.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(a,c){a.leafNode("workbookPr",{date1904:c.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(a){return a.name==="workbookPr"&&(this.model={date1904:a.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(a,c){const l={xWindow:c.x||0,yWindow:c.y||0,windowWidth:c.width||12e3,windowHeight:c.height||24e3,firstSheet:c.firstSheet,activeTab:c.activeTab};c.visibility&&c.visibility!=="visible"&&(l.visibility=c.visibility),a.leafNode("workbookView",l)}parseOpen(a){if(a.name==="workbookView"){const c=this.model={},l=function(u,f,d){const h=f!==void 0?c[u]=f:d;h!==void 0&&(c[u]=h)},o=function(u,f,d){const h=f!==void 0?c[u]=parseInt(f,10):d;h!==void 0&&(c[u]=h)};return o("x",a.attributes.xWindow,0),o("y",a.attributes.yWindow,0),o("width",a.attributes.windowWidth,25e3),o("height",a.attributes.windowHeight,1e4),l("visibility",a.attributes.visibility,"visible"),o("activeTab",a.attributes.activeTab,void 0),o("firstSheet",a.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),l=e("../base-xform"),o=e("../static-xform"),u=e("../list-xform"),f=e("./defined-name-xform"),d=e("./sheet-xform"),h=e("./workbook-view-xform"),g=e("./workbook-properties-xform"),b=e("./workbook-calc-properties-xform");class m extends l{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new u({tag:"bookViews",count:!1,childXform:new h}),sheets:new u({tag:"sheets",count:!1,childXform:new d}),definedNames:new u({tag:"definedNames",count:!1,childXform:new f}),calcPr:new b}}prepare(y){y.sheets=y.worksheets;const w=[];let T=0;y.sheets.forEach(I=>{if(I.pageSetup&&I.pageSetup.printArea&&I.pageSetup.printArea.split("&&").forEach(V=>{const B=V.split(":"),A={name:"_xlnm.Print_Area",ranges:[`'${I.name}'!$${B[0]}:$${B[1]}`],localSheetId:T};w.push(A)}),I.pageSetup&&(I.pageSetup.printTitlesRow||I.pageSetup.printTitlesColumn)){const V=[];if(I.pageSetup.printTitlesColumn){const A=I.pageSetup.printTitlesColumn.split(":");V.push(`'${I.name}'!$${A[0]}:$${A[1]}`)}if(I.pageSetup.printTitlesRow){const A=I.pageSetup.printTitlesRow.split(":");V.push(`'${I.name}'!$${A[0]}:$${A[1]}`)}const B={name:"_xlnm.Print_Titles",ranges:V,localSheetId:T};w.push(B)}T++}),w.length&&(y.definedNames=y.definedNames.concat(w)),(y.media||[]).forEach((I,V)=>{I.name=I.type+(V+1)})}render(y,w){y.openXml(c.StdDocAttributes),y.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(y),this.map.workbookPr.render(y,w.properties),this.map.bookViews.render(y,w.views),this.map.sheets.render(y,w.sheets),this.map.definedNames.render(y,w.definedNames),this.map.calcPr.render(y,w.calcProperties),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"workbook":return!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(y){const w=(y.workbookRels||[]).reduce((A,M)=>(A[M.Id]=M,A),{}),T=[];let I,V=0;(y.sheets||[]).forEach(A=>{const M=w[A.rId];M&&(I=y.worksheetHash["xl/"+M.Target.replace(/^(\s|\/xl\/)+/,"")],I&&(I.name=A.name,I.id=A.id,I.state=A.state,T[V++]=I))});const B=[];s.each(y.definedNames,A=>{if(A.name==="_xlnm.Print_Area"){if(I=T[A.localSheetId],I){I.pageSetup||(I.pageSetup={});const M=a.decodeEx(A.ranges[0]);I.pageSetup.printArea=I.pageSetup.printArea?`${I.pageSetup.printArea}&&${M.dimensions}`:M.dimensions}}else if(A.name==="_xlnm.Print_Titles"){if(I=T[A.localSheetId],I){I.pageSetup||(I.pageSetup={});const M=A.ranges.join(","),F=/\$/g,$=/\$\d+:\$\d+/,U=M.match($);if(U&&U.length){const N=U[0];I.pageSetup.printTitlesRow=N.replace(F,"")}const E=/\$[A-Z]+:\$[A-Z]+/,P=M.match(E);if(P&&P.length){const N=P[0];I.pageSetup.printTitlesColumn=N.replace(F,"")}}}else B.push(A)}),y.definedNames=B,y.media.forEach((A,M)=>{A.index=M})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new o({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,n,i){const s=e("../strings/rich-text-xform"),a=e("../../../utils/utils"),c=e("../base-xform"),l=n.exports=function(o){this.model=o};a.inherits(l,c,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new s),this._richTextXform},render(o,u){u=u||this.model,o.openNode("comment",{ref:u.ref,authorId:0}),o.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(f=>{this.richTextXform.render(o,f)}),o.closeNode(),o.closeNode()},parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"comment":return this.model={type:"note",note:{texts:[]},...o.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(o),!0;default:return!1}},parseText(o){this.parser&&this.parser.parseText(o)},parseClose(o){switch(o){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(o),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../../../utils/utils"),c=e("../base-xform"),l=e("./comment-xform"),o=n.exports=function(){this.map={comment:new l}};a.inherits(o,c,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,f){f=f||this.model,u.openXml(s.StdDocAttributes),u.openNode("comments",o.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),f.comments.forEach(d=>{this.map.comment.render(u,d)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,c,l){(c===l[2]||this.tag==="x:SizeWithCells"&&c===l[1])&&a.leafNode(this.tag)}parseOpen(a){switch(a.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,c){a.leafNode(this.tag,null,c)}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"x:Anchor"}getAnchorRect(a){const c=Math.floor(a.left),l=Math.floor(68*(a.left-c)),o=Math.floor(a.top),u=Math.floor(18*(a.top-o)),f=Math.floor(a.right),d=Math.floor(68*(a.right-f)),h=Math.floor(a.bottom);return[c,l,o,u,f,d,h,Math.floor(18*(a.bottom-h))]}getDefaultRect(a){const c=a.col,l=Math.max(a.row-2,0);return[c,6,l,14,c+2,2,l+4,16]}render(a,c){const l=c.anchor?this.getAnchorRect(c.anchor):this.getDefaultRect(c.refAddress);a.leafNode("x:Anchor",null,l.join(", "))}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,n,i){const s=e("../base-xform"),a=e("./vml-anchor-xform"),c=e("./style/vml-protection-xform"),l=e("./style/vml-position-xform"),o=["twoCells","oneCells","absolute"];n.exports=class extends s{constructor(){super(),this.map={"x:Anchor":new a,"x:Locked":new c({tag:"x:Locked"}),"x:LockText":new c({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,f){const{protection:d,editAs:h}=f.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,h,o),this.map["x:SizeWithCells"].render(u,h,o),this.map["x:Anchor"].render(u,f),this.map["x:Locked"].render(u,d.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,d.lockText),u.leafNode("x:Row",null,f.refAddress.row-1),u.leafNode("x:Column",null,f.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),f=Object.keys(u).length;this.model.editAs=o[f],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform"),c=e("./vml-shape-xform");class l extends a{constructor(){super(),this.map={"v:shape":new c}}get tag(){return"xml"}render(u,f){u.openXml(s.StdDocAttributes),u.openNode(this.tag,l.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),f.comments.forEach((d,h)=>{this.map["v:shape"].render(u,d,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,f){u.anchors.forEach(d=>{d.br?this.map["xdr:twoCellAnchor"].reconcile(d,f):this.map["xdr:oneCellAnchor"].reconcile(d,f)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,n,i){const s=e("../base-xform"),a=e("./vml-textbox-xform"),c=e("./vml-client-data-xform");class l extends s{constructor(){super(),this.map={"v:textbox":new a,"x:ClientData":new c}}get tag(){return"v:shape"}render(u,f,d){u.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(f,d)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,f),this.map["x:ClientData"].render(u,f),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(o,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":o.note.margins&&o.note.margins.insetmode}),n.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"v:textbox"}conversionUnit(a,c,l){return`${parseFloat(a)*c.toFixed(2)}${l}`}reverseConversionUnit(a){return(a||"").split(",").map(c=>Number(parseFloat(this.conversionUnit(parseFloat(c),.1,"")).toFixed(2)))}render(a,c){const l={style:"mso-direction-alt:auto"};if(c&&c.note){let{inset:o}=c.note&&c.note.margins;Array.isArray(o)&&(o=o.map(u=>this.conversionUnit(u,10,"mm")).join(",")),o&&(l.inset=o)}a.openNode("v:textbox",l),a.leafNode("div",{style:"text-align:left"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:return this.model={inset:this.reverseConversionUnit(a.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,n,i){const s=e("./base-xform");n.exports=class extends s{createNewModel(a){return{}}parseOpen(a){return this.parser=this.parser||this.map[a.name],this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag&&(this.model=this.createNewModel(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}onParserClose(a,c){this.model[a]=c.model}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.onParserClose(a,this.parser),this.parser=void 0),!0):a!==this.tag}}},{"./base-xform":32}],49:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(a,c){a.openNode("HeadingPairs"),a.openNode("vt:vector",{size:2,baseType:"variant"}),a.openNode("vt:variant"),a.leafNode("vt:lpstr",void 0,"Worksheets"),a.closeNode(),a.openNode("vt:variant"),a.leafNode("vt:i4",void 0,c.length),a.closeNode(),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="HeadingPairs"}parseText(){}parseClose(a){return a!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(a,c){a.openNode("TitlesOfParts"),a.openNode("vt:vector",{size:c.length,baseType:"lpstr"}),c.forEach(l=>{a.leafNode("vt:lpstr",void 0,l.name)}),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="TitlesOfParts"}parseText(){}parseClose(a){return a!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform"),c=e("../simple/string-xform"),l=e("./app-heading-pairs-xform"),o=e("./app-titles-of-parts-xform");class u extends a{constructor(){super(),this.map={Company:new c({tag:"Company"}),Manager:new c({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new o}}render(d,h){d.openXml(s.StdDocAttributes),d.openNode("Properties",u.PROPERTY_ATTRIBUTES),d.leafNode("Application",void 0,"Microsoft Excel"),d.leafNode("DocSecurity",void 0,"0"),d.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(d,h.worksheets),this.map.TitleOfParts.render(d,h.worksheets),this.map.Company.render(d,h.company||""),this.map.Manager.render(d,h.manager),d.leafNode("LinksUpToDate",void 0,"false"),d.leafNode("SharedDoc",void 0,"false"),d.leafNode("HyperlinksChanged",void 0,"false"),d.leafNode("AppVersion",void 0,"16.0300"),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Properties":return!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform");class c extends a{render(o,u){o.openXml(s.StdDocAttributes),o.openNode("Types",c.PROPERTY_ATTRIBUTES);const f={};(u.media||[]).forEach(d=>{if(d.type==="image"){const h=d.extension;f[h]||(f[h]=!0,o.leafNode("Default",{Extension:h,ContentType:"image/"+h}))}}),o.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),o.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),o.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(d=>{const h=`/xl/worksheets/sheet${d.id}.xml`;o.leafNode("Override",{PartName:h,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),o.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),o.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&o.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(d=>{o.leafNode("Override",{PartName:"/xl/tables/"+d.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(d=>{o.leafNode("Override",{PartName:`/xl/drawings/${d.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(o.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(d=>{let{commentName:h}=d;o.leafNode("Override",{PartName:`/xl/${h}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),o.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),o.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),o.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform"),c=e("../simple/date-xform"),l=e("../simple/string-xform"),o=e("../simple/integer-xform");class u extends a{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new c({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new o({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new c({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new c({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(d,h){d.openXml(s.StdDocAttributes),d.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(d,h.creator),this.map["dc:title"].render(d,h.title),this.map["dc:subject"].render(d,h.subject),this.map["dc:description"].render(d,h.description),this.map["dc:identifier"].render(d,h.identifier),this.map["dc:language"].render(d,h.language),this.map["cp:keywords"].render(d,h.keywords),this.map["cp:category"].render(d,h.category),this.map["cp:lastModifiedBy"].render(d,h.lastModifiedBy),this.map["cp:lastPrinted"].render(d,h.lastPrinted),this.map["cp:revision"].render(d,h.revision),this.map["cp:version"].render(d,h.version),this.map["cp:contentStatus"].render(d,h.contentStatus),this.map["cp:contentType"].render(d,h.contentType),this.map["dcterms:created"].render(d,h.created),this.map["dcterms:modified"].render(d,h.modified),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}u.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{render(a,c){a.leafNode("Relationship",c)}parseOpen(a){switch(a.name){case"Relationship":return this.model=a.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform"),c=e("./relationship-xform");class l extends a{constructor(){super(),this.map={Relationship:new c}}render(u,f){f=f||this._values,u.openXml(s.StdDocAttributes),u.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),f.forEach(d=>{this.map.Relationship.render(u,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset(),this.model={range:{editAs:a.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}reconcilePicture(a,c){if(a&&a.rId){const l=c.rels[a.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const o=l[1],u=c.mediaIndex[o];return c.media[u]}}}}},{"../base-xform":32}],57:[function(e,n,i){const s=e("../base-xform"),a=e("./blip-xform");n.exports=class extends s{constructor(){super(),this.map={"a:blip":new a}}get tag(){return"xdr:blipFill"}render(c,l){c.openNode(this.tag),this.map["a:blip"].render(c,l),c.openNode("a:stretch"),c.leafNode("a:fillRect"),c.closeNode(),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"a:blip"}render(a,c){a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":c.rId,cstate:"print"})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"xdr:cNvPicPr"}render(a){a.openNode(this.tag),a.leafNode("a:picLocks",{noChangeAspect:"1"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,n,i){const s=e("../base-xform"),a=e("./hlink-click-xform"),c=e("./ext-lst-xform");n.exports=class extends s{constructor(){super(),this.map={"a:hlinkClick":new a,"a:extLst":new c}}get tag(){return"xdr:cNvPr"}render(l,o){l.openNode(this.tag,{id:o.index,name:"Picture "+o.index}),this.map["a:hlinkClick"].render(l,o),this.map["a:extLst"].render(l,o),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,n,i){const s=e("../base-xform"),a=e("../simple/integer-xform");n.exports=class extends s{constructor(c){super(),this.tag=c.tag,this.map={"xdr:col":new a({tag:"xdr:col",zero:!0}),"xdr:colOff":new a({tag:"xdr:colOff",zero:!0}),"xdr:row":new a({tag:"xdr:row",zero:!0}),"xdr:rowOff":new a({tag:"xdr:rowOff",zero:!0})}}render(c,l){c.openNode(this.tag),this.map["xdr:col"].render(c,l.nativeCol),this.map["xdr:colOff"].render(c,l.nativeColOff),this.map["xdr:row"].render(c,l.nativeRow),this.map["xdr:rowOff"].render(c,l.nativeRowOff),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,n,i){const s=e("../../../utils/col-cache"),a=e("../../../utils/xml-stream"),c=e("../base-xform"),l=e("./two-cell-anchor-xform"),o=e("./one-cell-anchor-xform");class u extends c{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new o}}prepare(d){d.anchors.forEach((h,g)=>{h.anchorType=function(b){return(typeof b.range=="string"?s.decode(b.range):b.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(h),this.map[h.anchorType].prepare(h,{index:g})})}get tag(){return"xdr:wsDr"}render(d,h){d.openXml(a.StdDocAttributes),d.openNode(this.tag,u.DRAWING_ATTRIBUTES),h.anchors.forEach(g=>{this.map[g.anchorType].render(d,g)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,h){d.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,h):this.map["xdr:oneCellAnchor"].reconcile(g,h)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"a:extLst"}render(a){a.openNode(this.tag),a.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),a.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),a.closeNode(),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.map={}}render(a,c){a.openNode(this.tag);const l=Math.floor(9525*c.width),o=Math.floor(9525*c.height);a.addAttribute("cx",l),a.addAttribute("cy",o),a.closeNode()}parseOpen(a){return a.name===this.tag&&(this.model={width:parseInt(a.attributes.cx||"0",10)/9525,height:parseInt(a.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"a:hlinkClick"}render(a,c){c.hyperlinks&&c.hyperlinks.rId&&a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":c.hyperlinks.rId,tooltip:c.hyperlinks.tooltip})}parseOpen(a){switch(a.name){case this.tag:return this.model={hyperlinks:{rId:a.attributes["r:id"],tooltip:a.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,n,i){const s=e("../base-xform"),a=e("./c-nv-pr-xform"),c=e("./c-nv-pic-pr-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:cNvPr":new a,"xdr:cNvPicPr":new c}}get tag(){return"xdr:nvPicPr"}render(l,o){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,o),this.map["xdr:cNvPicPr"].render(l,o),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,n,i){const s=e("./base-cell-anchor-xform"),a=e("../static-xform"),c=e("./cell-position-xform"),l=e("./ext-xform"),o=e("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new o,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,f){this.map["xdr:pic"].prepare(u.picture,f)}render(u,f){u.openNode(this.tag,{editAs:f.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,f.range.tl),this.map["xdr:ext"].render(u,f.range.ext),this.map["xdr:pic"].render(u,f.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,f){u.medium=this.reconcilePicture(u.picture,f)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,n,i){const s=e("../base-xform"),a=e("../static-xform"),c=e("./blip-fill-xform"),l=e("./nv-pic-pr-xform"),o=e("./sp-pr");n.exports=class extends s{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new c,"xdr:spPr":new a(o)}}get tag(){return"xdr:pic"}prepare(u,f){u.index=f.index+1}render(u,f){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,f),this.map["xdr:blipFill"].render(u,f),this.map["xdr:spPr"].render(u,f),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,n,i){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,n,i){const s=e("./base-cell-anchor-xform"),a=e("../static-xform"),c=e("./cell-position-xform"),l=e("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:to":new c({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(o,u){this.map["xdr:pic"].prepare(o.picture,u)}render(o,u){o.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(o,u.range.tl),this.map["xdr:to"].render(o,u.range.br),this.map["xdr:pic"].render(o,u.picture),this.map["xdr:clientData"].render(o,{}),o.closeNode()}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(o,u){o.medium=this.reconcilePicture(o.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,n,i){const s=e("./base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.always=!!a.always,this.count=a.count,this.empty=a.empty,this.$count=a.$count||"count",this.$=a.$,this.childXform=a.childXform,this.maxItems=a.maxItems}prepare(a,c){const{childXform:l}=this;a&&a.forEach((o,u)=>{c.index=u,l.prepare(o,c)})}render(a,c){if(this.always||c&&c.length){a.openNode(this.tag,this.$),this.count&&a.addAttribute(this.$count,c&&c.length||0);const{childXform:l}=this;(c||[]).forEach((o,u)=>{l.render(a,o,u)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(a)&&(this.parser=this.childXform,!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(a,c){if(a){const{childXform:l}=this;a.forEach(o=>{l.reconcile(o,c)})}}}},{"./base-xform":32}],72:[function(e,n,i){const s=e("../../../utils/col-cache"),a=e("../base-xform");n.exports=class extends a{get tag(){return"autoFilter"}render(c,l){if(l)if(typeof l=="string")c.leafNode("autoFilter",{ref:l});else{const o=function(d){return typeof d=="string"?d:s.getAddress(d.row,d.column).address},u=o(l.from),f=o(l.to);u&&f&&c.leafNode("autoFilter",{ref:`${u}:${f}`})}}parseOpen(c){c.name==="autoFilter"&&(this.model=c.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,n,i){const s=e("../../../utils/utils"),a=e("../base-xform"),c=e("../../../doc/range"),l=e("../../../doc/enums"),o=e("../strings/rich-text-xform");function u(f){if(f==null)return l.ValueType.Null;if(f instanceof String||typeof f=="string")return l.ValueType.String;if(typeof f=="number")return l.ValueType.Number;if(typeof f=="boolean")return l.ValueType.Boolean;if(f instanceof Date)return l.ValueType.Date;if(f.text&&f.hyperlink)return l.ValueType.Hyperlink;if(f.formula)return l.ValueType.Formula;if(f.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends a{constructor(){super(),this.richTextXForm=new o}get tag(){return"c"}prepare(f,d){const h=d.styles.addStyleModel(f.style||{},function(g){switch(g.type){case l.ValueType.Formula:return u(g.result);default:return g.type}}(f));switch(h&&(f.styleId=h),f.comment&&d.comments.push({...f.comment,ref:f.address}),f.type){case l.ValueType.String:case l.ValueType.RichText:d.sharedStrings&&(f.ssId=d.sharedStrings.add(f.value));break;case l.ValueType.Date:d.date1904&&(f.date1904=!0);break;case l.ValueType.Hyperlink:d.sharedStrings&&f.text!==void 0&&f.text!==null&&(f.ssId=d.sharedStrings.add(f.text)),d.hyperlinks.push({address:f.address,target:f.hyperlink,tooltip:f.tooltip});break;case l.ValueType.Merge:d.merges.add(f);break;case l.ValueType.Formula:if(d.date1904&&(f.date1904=!0),f.shareType==="shared"&&(f.si=d.siFormulae++),f.formula)d.formulae[f.address]=f;else if(f.sharedFormula){const g=d.formulae[f.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+f.address);g.si===void 0?(g.shareType="shared",g.si=d.siFormulae++,g.range=new c(g.address,f.address)):g.range&&g.range.expandToAddress(f.address),f.si=g.si}}}renderFormula(f,d){let h=null;switch(d.shareType){case"shared":h={t:"shared",ref:d.ref||d.range.range,si:d.si};break;case"array":h={t:"array",ref:d.ref};break;default:d.si!==void 0&&(h={t:"shared",si:d.si})}switch(u(d.result)){case l.ValueType.Null:f.leafNode("f",h,d.formula);break;case l.ValueType.String:f.addAttribute("t","str"),f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result);break;case l.ValueType.Number:f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result);break;case l.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result?1:0);break;case l.ValueType.Error:f.addAttribute("t","e"),f.leafNode("f",h,d.formula),f.leafNode("v",null,d.result.error);break;case l.ValueType.Date:f.leafNode("f",h,d.formula),f.leafNode("v",null,s.dateToExcel(d.result,d.date1904));break;default:throw new Error("I could not understand type of value")}}render(f,d){if(d.type!==l.ValueType.Null||d.styleId){switch(f.openNode("c"),f.addAttribute("r",d.address),d.styleId&&f.addAttribute("s",d.styleId),d.type){case l.ValueType.Null:break;case l.ValueType.Number:f.leafNode("v",null,d.value);break;case l.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("v",null,d.value?"1":"0");break;case l.ValueType.Error:f.addAttribute("t","e"),f.leafNode("v",null,d.value.error);break;case l.ValueType.String:case l.ValueType.RichText:d.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,d.ssId)):d.value&&d.value.richText?(f.addAttribute("t","inlineStr"),f.openNode("is"),d.value.richText.forEach(h=>{this.richTextXForm.render(f,h)}),f.closeNode("is")):(f.addAttribute("t","str"),f.leafNode("v",null,d.value));break;case l.ValueType.Date:f.leafNode("v",null,s.dateToExcel(d.value,d.date1904));break;case l.ValueType.Hyperlink:d.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,d.ssId)):(f.addAttribute("t","str"),f.leafNode("v",null,d.text));break;case l.ValueType.Formula:this.renderFormula(f,d);break;case l.ValueType.Merge:}f.closeNode()}}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"c":return this.model={address:f.attributes.r},this.t=f.attributes.t,f.attributes.s&&(this.model.styleId=parseInt(f.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=f.attributes.si,this.model.shareType=f.attributes.t,this.model.ref=f.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){if(this.parser)this.parser.parseText(f);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+f:f;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+f:f:this.model.value=this.model.value?this.model.value+f:f}}parseClose(f){switch(f){case"c":{const{model:d}=this;if(d.formula||d.shareType)d.type=l.ValueType.Formula,d.value&&(this.t==="str"?d.result=s.xmlDecode(d.value):this.t==="b"?d.result=parseInt(d.value,10)!==0:this.t==="e"?d.result={error:d.value}:d.result=parseFloat(d.value),d.value=void 0);else if(d.value!==void 0)switch(this.t){case"s":d.type=l.ValueType.String,d.value=parseInt(d.value,10);break;case"str":d.type=l.ValueType.String,d.value=s.xmlDecode(d.value);break;case"inlineStr":d.type=l.ValueType.String;break;case"b":d.type=l.ValueType.Boolean,d.value=parseInt(d.value,10)!==0;break;case"e":d.type=l.ValueType.Error,d.value={error:d.value};break;default:d.type=l.ValueType.Number,d.value=parseFloat(d.value)}else d.styleId?d.type=l.ValueType.Null:d.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(f),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(f),!0)}}reconcile(f,d){const h=f.styleId&&d.styles&&d.styles.getStyleModel(f.styleId);switch(h&&(f.style=h),f.styleId!==void 0&&(f.styleId=void 0),f.type){case l.ValueType.String:typeof f.value=="number"&&d.sharedStrings&&(f.value=d.sharedStrings.getString(f.value)),f.value.richText&&(f.type=l.ValueType.RichText);break;case l.ValueType.Number:h&&s.isDateFmt(h.numFmt)&&(f.type=l.ValueType.Date,f.value=s.excelToDate(f.value,d.date1904));break;case l.ValueType.Formula:f.result!==void 0&&h&&s.isDateFmt(h.numFmt)&&(f.result=s.excelToDate(f.result,d.date1904)),f.shareType==="shared"&&(f.ref?d.formulae[f.si]=f.address:(f.sharedFormula=d.formulae[f.si],delete f.shareType),delete f.si)}const g=d.hyperlinkMap[f.address];g&&(f.type===l.ValueType.Formula?(f.text=f.result,f.result=void 0):(f.text=f.value,f.value=void 0),f.type=l.ValueType.Hyperlink,f.hyperlink=g);const b=d.commentsMap&&d.commentsMap[f.address];b&&(f.comment=b)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"x14:cfIcon"}render(a,c){a.leafNode(this.tag,{iconSet:c.iconSet,iconId:c.iconId})}parseOpen(a){let{attributes:c}=a;this.model={iconSet:c.iconSet,iconId:s.toIntValue(c.iconId)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],75:[function(e,n,i){const{v4:s}=e("uuid"),a=e("../../base-xform"),c=e("../../composite-xform"),l=e("./databar-ext-xform"),o=e("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class f extends c{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new o}}get tag(){return"x14:cfRule"}static isExt(h){return h.type==="dataBar"?l.isExt(h):!(h.type!=="iconSet"||!h.custom&&!u[h.iconSet])}prepare(h){f.isExt(h)&&(h.x14Id=`{${s()}}`.toUpperCase())}render(h,g){if(f.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(h,g);break;case"iconSet":this.renderIconSet(h,g)}}renderDataBar(h,g){h.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(h,g),h.closeNode()}renderIconSet(h,g){h.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${s()}}`}),this.iconSetXform.render(h,g),h.closeNode()}createNewModel(h){let{attributes:g}=h;return{type:g.type,x14Id:g.id,priority:a.toIntValue(g.priority)}}onParserClose(h,g){Object.assign(this.model,g.model)}}n.exports=f},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,n,i){const s=e("../../composite-xform"),a=e("./f-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:f":this.fExtXform=new a}}get tag(){return"x14:cfvo"}render(c,l){c.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(c,l.value),c.closeNode()}createNewModel(c){return{type:c.attributes.type}}onParserClose(c,l){switch(c){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,n,i){const s=e("../../composite-xform"),a=e("./sqref-ext-xform"),c=e("./cf-rule-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:sqref":this.sqRef=new a,"x14:cfRule":this.cfRule=new c}}get tag(){return"x14:conditionalFormatting"}prepare(l,o){l.rules.forEach(u=>{this.cfRule.prepare(u,o)})}render(l,o){o.rules.some(c.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),o.rules.filter(c.isExt).forEach(u=>this.cfRule.render(l,u)),this.sqRef.render(l,o.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,o){switch(l){case"xm:sqref":this.model.ref=o.model;break;case"x14:cfRule":this.model.rules.push(o.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,n,i){const s=e("../../composite-xform"),a=e("./cf-rule-ext-xform"),c=e("./conditional-formatting-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new c}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(o=>o.rules.some(a.isExt))),l.hasExtContent}prepare(l,o){l.forEach(u=>{this.cfXform.prepare(u,o)})}render(l,o){this.hasContent(o)&&(l.openNode(this.tag),o.forEach(u=>this.cfXform.render(l,u)),l.closeNode())}createNewModel(){return[]}onParserClose(l,o){this.model.push(o.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,n,i){const s=e("../../base-xform"),a=e("../../composite-xform"),c=e("../../style/color-xform"),l=e("./cfvo-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new c("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new c("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new c("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new c("x14:axisColor")}}static isExt(o){return!o.gradient}get tag(){return"x14:dataBar"}render(o,u){o.openNode(this.tag,{minLength:s.toIntAttribute(u.minLength,0,!0),maxLength:s.toIntAttribute(u.maxLength,100,!0),border:s.toBoolAttribute(u.border,!1),gradient:s.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:s.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toAttribute(u.axisPosition,"auto"),direction:s.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(f=>{this.cfvoXform.render(o,f)}),this.borderColorXform.render(o,u.borderColor),this.negativeBorderColorXform.render(o,u.negativeBorderColor),this.negativeFillColorXform.render(o,u.negativeFillColor),this.axisColorXform.render(o,u.axisColor),o.closeNode()}createNewModel(o){let{attributes:u}=o;return{cfvo:[],minLength:s.toIntValue(u.minLength,0),maxLength:s.toIntValue(u.maxLength,100),border:s.toBoolValue(u.border,!1),gradient:s.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:s.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toStringValue(u.axisPosition,"auto"),direction:s.toStringValue(u.direction,"leftToRight")}}onParserClose(o,u){const[,f]=o.split(":");switch(f){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[f]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"xm:f"}render(a,c){a.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],81:[function(e,n,i){const s=e("../../base-xform"),a=e("../../composite-xform"),c=e("./cfvo-ext-xform"),l=e("./cf-icon-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(o,u){o.openNode(this.tag,{iconSet:s.toStringAttribute(u.iconSet),reverse:s.toBoolAttribute(u.reverse,!1),showValue:s.toBoolAttribute(u.showValue,!0),custom:s.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(f=>{this.cfvoXform.render(o,f)}),u.icons&&u.icons.forEach((f,d)=>{f.iconId=d,this.cfIconXform.render(o,f)}),o.closeNode()}createNewModel(o){let{attributes:u}=o;return{cfvo:[],iconSet:s.toStringValue(u.iconSet,"3TrafficLights"),reverse:s.toBoolValue(u.reverse,!1),showValue:s.toBoolValue(u.showValue,!0)}}onParserClose(o,u){const[,f]=o.split(":");switch(f){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[f]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"xm:sqref"}render(a,c){a.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],83:[function(e,n,i){const s=e("../../base-xform"),a=e("../../composite-xform"),c=e("../../../../doc/range"),l=e("./databar-xform"),o=e("./ext-lst-ref-xform"),u=e("./formula-xform"),f=e("./color-scale-xform"),d=e("./icon-set-xform"),h={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=m=>{const{type:v,operator:y}=m;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:y}}};class b extends a{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new o,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new f,iconSet:this.iconSetXform=new d}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!h[v.iconSet]}render(v,y){switch(y.type){case"expression":this.renderExpression(v,y);break;case"cellIs":this.renderCellIs(v,y);break;case"top10":this.renderTop10(v,y);break;case"aboveAverage":this.renderAboveAverage(v,y);break;case"dataBar":this.renderDataBar(v,y);break;case"colorScale":this.renderColorScale(v,y);break;case"iconSet":this.renderIconSet(v,y);break;case"containsText":this.renderText(v,y);break;case"timePeriod":this.renderTimePeriod(v,y)}}renderExpression(v,y){v.openNode(this.tag,{type:"expression",dxfId:y.dxfId,priority:y.priority}),this.formulaXform.render(v,y.formulae[0]),v.closeNode()}renderCellIs(v,y){v.openNode(this.tag,{type:"cellIs",dxfId:y.dxfId,priority:y.priority,operator:y.operator}),y.formulae.forEach(w=>{this.formulaXform.render(v,w)}),v.closeNode()}renderTop10(v,y){v.leafNode(this.tag,{type:"top10",dxfId:y.dxfId,priority:y.priority,percent:s.toBoolAttribute(y.percent,!1),bottom:s.toBoolAttribute(y.bottom,!1),rank:s.toIntValue(y.rank,10,!0)})}renderAboveAverage(v,y){v.leafNode(this.tag,{type:"aboveAverage",dxfId:y.dxfId,priority:y.priority,aboveAverage:s.toBoolAttribute(y.aboveAverage,!0)})}renderDataBar(v,y){v.openNode(this.tag,{type:"dataBar",priority:y.priority}),this.databarXform.render(v,y),this.extLstRefXform.render(v,y),v.closeNode()}renderColorScale(v,y){v.openNode(this.tag,{type:"colorScale",priority:y.priority}),this.colorScaleXform.render(v,y),v.closeNode()}renderIconSet(v,y){b.isPrimitive(y)&&(v.openNode(this.tag,{type:"iconSet",priority:y.priority}),this.iconSetXform.render(v,y),v.closeNode())}renderText(v,y){v.openNode(this.tag,{type:y.operator,dxfId:y.dxfId,priority:y.priority,operator:s.toStringAttribute(y.operator,"containsText")});const w=(T=>{if(T.formulae&&T.formulae[0])return T.formulae[0];const I=new c(T.ref),{tl:V}=I;switch(T.operator){case"containsText":return`NOT(ISERROR(SEARCH("${T.text}",${V})))`;case"containsBlanks":return`LEN(TRIM(${V}))=0`;case"notContainsBlanks":return`LEN(TRIM(${V}))>0`;case"containsErrors":return`ISERROR(${V})`;case"notContainsErrors":return`NOT(ISERROR(${V}))`;default:return}})(y);w&&this.formulaXform.render(v,w),v.closeNode()}renderTimePeriod(v,y){v.openNode(this.tag,{type:"timePeriod",dxfId:y.dxfId,priority:y.priority,timePeriod:y.timePeriod});const w=(T=>{if(T.formulae&&T.formulae[0])return T.formulae[0];const I=new c(T.ref),{tl:V}=I;switch(T.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${V},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${V},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${V},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${V},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${V},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${V},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${V},1)=TODAY()-1`;case"today":return`FLOOR(${V},1)=TODAY()`;case"tomorrow":return`FLOOR(${V},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${V},1)<=6,FLOOR(${V},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${V})=MONTH(EDATE(TODAY(),0-1)),YEAR(${V})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${V})=MONTH(TODAY()),YEAR(${V})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${V})=MONTH(EDATE(TODAY(),0+1)),YEAR(${V})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(y);w&&this.formulaXform.render(v,w),v.closeNode()}createNewModel(v){let{attributes:y}=v;return{...g(y),dxfId:s.toIntValue(y.dxfId),priority:s.toIntValue(y.priority),timePeriod:y.timePeriod,percent:s.toBoolValue(y.percent),bottom:s.toBoolValue(y.bottom),rank:s.toIntValue(y.rank),aboveAverage:s.toBoolValue(y.aboveAverage)}}onParserClose(v,y){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,y.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(y.model)}}}n.exports=b},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"cfvo"}render(a,c){a.leafNode(this.tag,{type:c.type,val:c.value})}parseOpen(a){this.model={type:a.attributes.type,value:s.toFloatValue(a.attributes.val)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],85:[function(e,n,i){const s=e("../../composite-xform"),a=e("../../style/color-xform"),c=e("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new a}}get tag(){return"colorScale"}render(l,o){l.openNode(this.tag),o.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),o.color.forEach(u=>{this.colorXform.render(l,u)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,o){this.model[l].push(o.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,n,i){const s=e("../../composite-xform"),a=e("./cf-rule-xform");n.exports=class extends s{constructor(){super(),this.map={cfRule:new a}}get tag(){return"conditionalFormatting"}render(c,l){l.rules.some(a.isPrimitive)&&(c.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(o=>{a.isPrimitive(o)&&(o.ref=l.ref,this.map.cfRule.render(c,o))}),c.closeNode())}createNewModel(c){let{attributes:l}=c;return{ref:l.sqref,rules:[]}}onParserClose(c,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,n,i){const s=e("../../base-xform"),a=e("./conditional-formatting-xform");n.exports=class extends s{constructor(){super(),this.cfXform=new a}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(c,l){let o=c.reduce((u,f)=>Math.max(u,...f.rules.map(d=>d.priority||0)),1);c.forEach(u=>{u.rules.forEach(f=>{f.priority||(f.priority=o++),f.style&&(f.dxfId=l.styles.addDxfStyle(f.style))})})}render(c,l){l.forEach(o=>{this.cfXform.render(c,o)})}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(!!this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(c,l){c.forEach(o=>{o.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=l.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,n,i){const s=e("../../composite-xform"),a=e("../../style/color-xform"),c=e("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new a}}get tag(){return"dataBar"}render(l,o){l.openNode(this.tag),o.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),this.colorXform.render(l,o.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,o){switch(l){case"cfvo":this.model.cfvo.push(o.model);break;case"color":this.model.color=o.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,n,i){const s=e("../../base-xform"),a=e("../../composite-xform");class c extends s{get tag(){return"x14:id"}render(u,f){u.leafNode(this.tag,null,f)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class l extends a{constructor(){super(),this.map={"x14:id":this.idXform=new c}}get tag(){return"ext"}render(u,f){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,f.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,f){this.model.x14Id=f.model}}n.exports=class extends a{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(o,u){o.openNode(this.tag),this.map.ext.render(o,u),o.closeNode()}createNewModel(){return{}}onParserClose(o,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,n,i){const s=e("../../base-xform");n.exports=class extends s{get tag(){return"formula"}render(a,c){a.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],91:[function(e,n,i){const s=e("../../base-xform"),a=e("../../composite-xform"),c=e("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new c}}get tag(){return"iconSet"}render(l,o){l.openNode(this.tag,{iconSet:s.toStringAttribute(o.iconSet,"3TrafficLights"),reverse:s.toBoolAttribute(o.reverse,!1),showValue:s.toBoolAttribute(o.showValue,!0)}),o.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),l.closeNode()}createNewModel(l){let{attributes:o}=l;return{iconSet:s.toStringValue(o.iconSet,"3TrafficLights"),reverse:s.toBoolValue(o.reverse),showValue:s.toBoolValue(o.showValue),cfvo:[]}}onParserClose(l,o){this.model[l].push(o.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,n,i){const s=e("../../../utils/utils"),a=e("../base-xform");n.exports=class extends a{get tag(){return"col"}prepare(c,l){const o=l.styles.addStyleModel(c.style||{});o&&(c.styleId=o)}render(c,l){c.openNode("col"),c.addAttribute("min",l.min),c.addAttribute("max",l.max),l.width&&c.addAttribute("width",l.width),l.styleId&&c.addAttribute("style",l.styleId),l.hidden&&c.addAttribute("hidden","1"),l.bestFit&&c.addAttribute("bestFit","1"),l.outlineLevel&&c.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&c.addAttribute("collapsed","1"),c.addAttribute("customWidth","1"),c.closeNode()}parseOpen(c){if(c.name==="col"){const l=this.model={min:parseInt(c.attributes.min||"0",10),max:parseInt(c.attributes.max||"0",10),width:c.attributes.width===void 0?void 0:parseFloat(c.attributes.width||"0")};return c.attributes.style&&(l.styleId=parseInt(c.attributes.style,10)),s.parseBoolean(c.attributes.hidden)&&(l.hidden=!0),s.parseBoolean(c.attributes.bestFit)&&(l.bestFit=!0),c.attributes.outlineLevel&&(l.outlineLevel=parseInt(c.attributes.outlineLevel,10)),s.parseBoolean(c.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(c,l){c.styleId&&(c.style=l.styles.getStyleModel(c.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../../../utils/utils"),c=e("../../../utils/col-cache"),l=e("../base-xform"),o=e("../../../doc/range");function u(d,h,g,b){const m=h[g];m!==void 0?d[g]=m:b!==void 0&&(d[g]=b)}function f(d,h,g,b){const m=h[g];m!==void 0&&(d[g]=a.parseBoolean(m))}n.exports=class extends l{get tag(){return"dataValidations"}render(d,h){const g=function(b){const m=s.map(b,(w,T)=>({address:T,dataValidation:w,marked:!1})).sort((w,T)=>s.strcmp(w.address,T.address)),v=s.keyBy(m,"address"),y=(w,T,I)=>{for(let V=0;V<T;V++){const B=c.encodeAddress(w.row+V,I);if(!b[B]||!s.isEqual(b[w.address],b[B]))return!1}return!0};return m.map(w=>{if(!w.marked){const T=c.decodeEx(w.address);if(T.dimensions)return v[T.dimensions].marked=!0,{...w.dataValidation,sqref:w.address};let I=1,V=c.encodeAddress(T.row+I,T.col);for(;b[V]&&s.isEqual(w.dataValidation,b[V]);)I++,V=c.encodeAddress(T.row+I,T.col);let B=1;for(;y(T,I,T.col+B);)B++;for(let A=0;A<I;A++)for(let M=0;M<B;M++)V=c.encodeAddress(T.row+A,T.col+M),v[V].marked=!0;if(I>1||B>1){const A=T.row+(I-1),M=T.col+(B-1);return{...w.dataValidation,sqref:`${w.address}:${c.encodeAddress(A,M)}`}}return{...w.dataValidation,sqref:w.address}}return null}).filter(Boolean)}(h);g.length&&(d.openNode("dataValidations",{count:g.length}),g.forEach(b=>{d.openNode("dataValidation"),b.type!=="any"&&(d.addAttribute("type",b.type),b.operator&&b.type!=="list"&&b.operator!=="between"&&d.addAttribute("operator",b.operator),b.allowBlank&&d.addAttribute("allowBlank","1")),b.showInputMessage&&d.addAttribute("showInputMessage","1"),b.promptTitle&&d.addAttribute("promptTitle",b.promptTitle),b.prompt&&d.addAttribute("prompt",b.prompt),b.showErrorMessage&&d.addAttribute("showErrorMessage","1"),b.errorStyle&&d.addAttribute("errorStyle",b.errorStyle),b.errorTitle&&d.addAttribute("errorTitle",b.errorTitle),b.error&&d.addAttribute("error",b.error),d.addAttribute("sqref",b.sqref),(b.formulae||[]).forEach((m,v)=>{d.openNode("formula"+(v+1)),b.type==="date"?d.writeText(a.dateToExcel(new Date(m))):d.writeText(m),d.closeNode()}),d.closeNode()}),d.closeNode())}parseOpen(d){switch(d.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=d.attributes.sqref;const h={type:d.attributes.type||"any",formulae:[]};switch(d.attributes.type&&f(h,d.attributes,"allowBlank"),f(h,d.attributes,"showInputMessage"),f(h,d.attributes,"showErrorMessage"),h.type){case"any":case"list":case"custom":break;default:u(h,d.attributes,"operator","between")}return u(h,d.attributes,"promptTitle"),u(h,d.attributes,"prompt"),u(h,d.attributes,"errorStyle"),u(h,d.attributes,"errorTitle"),u(h,d.attributes,"error"),this._dataValidation=h,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(d){this._formula&&this._formula.push(d)}parseClose(d){switch(d){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(h=>{h.includes(":")?new o(h).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[h]=this._dataValidation}),!0;case"formula1":case"formula2":{let h=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":h=parseInt(h,10);break;case"decimal":h=parseFloat(h);break;case"date":h=a.excelToDate(parseFloat(h))}return this._dataValidation.formulae.push(h),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"dimension"}render(a,c){c&&a.leafNode("dimension",{ref:c})}parseOpen(a){return a.name==="dimension"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"drawing"}render(a,c){c&&a.leafNode(this.tag,{"r:id":c.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,n,i){const s=e("../composite-xform"),a=e("./cf-ext/conditional-formattings-ext-xform");class c extends s{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new a}}get tag(){return"ext"}hasContent(o){return this.conditionalFormattings.hasContent(o.conditionalFormattings)}prepare(o,u){this.conditionalFormattings.prepare(o.conditionalFormattings,u)}render(o,u){o.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(o,u.conditionalFormattings),o.closeNode()}createNewModel(){return{}}onParserClose(o,u){this.model[o]=u.model}}n.exports=class extends s{constructor(){super(),this.map={ext:this.ext=new c}}get tag(){return"extLst"}prepare(l,o){this.ext.prepare(l,o)}hasContent(l){return this.ext.hasContent(l)}render(l,o){this.hasContent(o)&&(l.openNode("extLst"),this.ext.render(l,o),l.closeNode())}createNewModel(){return{}}onParserClose(l,o){Object.assign(this.model,o.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"headerFooter"}render(a,c){if(c){a.addRollback();let l=!1;a.openNode("headerFooter"),c.differentFirst&&(a.addAttribute("differentFirst","1"),l=!0),c.differentOddEven&&(a.addAttribute("differentOddEven","1"),l=!0),c.oddHeader&&typeof c.oddHeader=="string"&&(a.leafNode("oddHeader",null,c.oddHeader),l=!0),c.oddFooter&&typeof c.oddFooter=="string"&&(a.leafNode("oddFooter",null,c.oddFooter),l=!0),c.evenHeader&&typeof c.evenHeader=="string"&&(a.leafNode("evenHeader",null,c.evenHeader),l=!0),c.evenFooter&&typeof c.evenFooter=="string"&&(a.leafNode("evenFooter",null,c.evenFooter),l=!0),c.firstHeader&&typeof c.firstHeader=="string"&&(a.leafNode("firstHeader",null,c.firstHeader),l=!0),c.firstFooter&&typeof c.firstFooter=="string"&&(a.leafNode("firstFooter",null,c.firstFooter),l=!0),l?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){switch(a.name){case"headerFooter":return this.model={},a.attributes.differentFirst&&(this.model.differentFirst=parseInt(a.attributes.differentFirst,0)===1),a.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(a.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(a){switch(this.currentNode){case"oddHeader":this.model.oddHeader=a;break;case"oddFooter":this.model.oddFooter=a;break;case"evenHeader":this.model.evenHeader=a;break;case"evenFooter":this.model.evenFooter=a;break;case"firstHeader":this.model.firstHeader=a;break;case"firstFooter":this.model.firstFooter=a}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"hyperlink"}render(a,c){this.isInternalLink(c)?a.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip,location:c.target}):a.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip})}parseOpen(a){return a.name==="hyperlink"&&(this.model={address:a.attributes.ref,rId:a.attributes["r:id"],tooltip:a.attributes.tooltip},a.attributes.location&&(this.model.target=a.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(a){return a.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(a.target)}}},{"../base-xform":32}],99:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"mergeCell"}render(a,c){a.leafNode("mergeCell",{ref:c})}parseOpen(a){return a.name==="mergeCell"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../../../doc/range"),c=e("../../../utils/col-cache"),l=e("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(o){if(this.merges[o.master])this.merges[o.master].expandToAddress(o.address);else{const u=`${o.master}:${o.address}`;this.merges[o.master]=new a(u)}}get mergeCells(){return s.map(this.merges,o=>o.range)}reconcile(o,u){s.each(o,f=>{const d=c.decode(f);for(let h=d.top;h<=d.bottom;h++){const g=u[h-1];for(let b=d.left;b<=d.right;b++){const m=g.cells[b-1];m?m.type===l.ValueType.Merge&&(m.master=d.tl):g.cells[b]={type:l.ValueType.Null,address:c.encodeAddress(h,b)}}}})}getMasterAddress(o){const u=this.hash[o];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,n,i){const s=e("../base-xform"),a=c=>c!==void 0;n.exports=class extends s{get tag(){return"outlinePr"}render(c,l){return!(!l||!a(l.summaryBelow)&&!a(l.summaryRight))&&(c.leafNode(this.tag,{summaryBelow:a(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:a(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(c){return c.name===this.tag&&(this.model={summaryBelow:a(c.attributes.summaryBelow)?!!Number(c.attributes.summaryBelow):void 0,summaryRight:a(c.attributes.summaryRight)?!!Number(c.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"brk"}render(a,c){a.leafNode("brk",c)}parseOpen(a){return a.name==="brk"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../base-xform");n.exports=class extends a{get tag(){return"pageMargins"}render(c,l){if(l){const o={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};s.some(o,u=>u!==void 0)&&c.leafNode(this.tag,o)}}parseOpen(c){switch(c.name){case this.tag:return this.model={left:parseFloat(c.attributes.left||.7),right:parseFloat(c.attributes.right||.7),top:parseFloat(c.attributes.top||.75),bottom:parseFloat(c.attributes.bottom||.75),header:parseFloat(c.attributes.header||.3),footer:parseFloat(c.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"pageSetUpPr"}render(a,c){return!(!c||!c.fitToPage)&&(a.leafNode(this.tag,{fitToPage:c.fitToPage?"1":void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={fitToPage:a.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../base-xform");function c(f){return f?"1":void 0}function l(f){switch(f){case"overThenDown":return f;default:return}}function o(f){switch(f){case"atEnd":case"asDisplyed":return f;default:return}}function u(f){switch(f){case"dash":case"blank":case"NA":return f;default:return}}n.exports=class extends a{get tag(){return"pageSetup"}render(f,d){if(d){const h={paperSize:d.paperSize,orientation:d.orientation,horizontalDpi:d.horizontalDpi,verticalDpi:d.verticalDpi,pageOrder:l(d.pageOrder),blackAndWhite:c(d.blackAndWhite),draft:c(d.draft),cellComments:o(d.cellComments),errors:u(d.errors),scale:d.scale,fitToWidth:d.fitToWidth,fitToHeight:d.fitToHeight,firstPageNumber:d.firstPageNumber,useFirstPageNumber:c(d.firstPageNumber),usePrinterDefaults:c(d.usePrinterDefaults),copies:d.copies};s.some(h,g=>g!==void 0)&&f.leafNode(this.tag,h)}}parseOpen(f){switch(f.name){case this.tag:return this.model={paperSize:(d=f.attributes.paperSize,d!==void 0?parseInt(d,10):void 0),orientation:f.attributes.orientation||"portrait",horizontalDpi:parseInt(f.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(f.attributes.verticalDpi||"4294967295",10),pageOrder:f.attributes.pageOrder||"downThenOver",blackAndWhite:f.attributes.blackAndWhite==="1",draft:f.attributes.draft==="1",cellComments:f.attributes.cellComments||"None",errors:f.attributes.errors||"displayed",scale:parseInt(f.attributes.scale||"100",10),fitToWidth:parseInt(f.attributes.fitToWidth||"1",10),fitToHeight:parseInt(f.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(f.attributes.firstPageNumber||"1",10),useFirstPageNumber:f.attributes.useFirstPageNumber==="1",usePrinterDefaults:f.attributes.usePrinterDefaults==="1",copies:parseInt(f.attributes.copies||"1",10)},!0;default:return!1}var d}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"picture"}render(a,c){c&&a.leafNode(this.tag,{"r:id":c.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../base-xform");function c(l){return l?"1":void 0}n.exports=class extends a{get tag(){return"printOptions"}render(l,o){if(o){const u={headings:c(o.showRowColHeaders),gridLines:c(o.showGridLines),horizontalCentered:c(o.horizontalCentered),verticalCentered:c(o.verticalCentered)};s.some(u,f=>f!==void 0)&&l.leafNode(this.tag,u)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,n,i){const s=e("./page-breaks-xform"),a=e("../list-xform");n.exports=class extends a{constructor(){super({tag:"rowBreaks",count:!0,childXform:new s})}render(c,l){if(l&&l.length){c.openNode(this.tag,this.$),this.count&&(c.addAttribute(this.$count,l.length),c.addAttribute("manualBreakCount",l.length));const{childXform:o}=this;l.forEach(u=>{o.render(c,u)}),c.closeNode()}else this.empty&&c.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,n,i){const s=e("../base-xform"),a=e("../../../utils/utils"),c=e("./cell-xform");n.exports=class extends s{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new c}}get tag(){return"row"}prepare(l,o){const u=o.styles.addStyleModel(l.style);u&&(l.styleId=u);const f=this.map.c;l.cells.forEach(d=>{f.prepare(d,o)})}render(l,o,u){l.openNode("row"),l.addAttribute("r",o.number),o.height&&(l.addAttribute("ht",o.height),l.addAttribute("customHeight","1")),o.hidden&&l.addAttribute("hidden","1"),o.min>0&&o.max>0&&o.min<=o.max&&l.addAttribute("spans",`${o.min}:${o.max}`),o.styleId&&(l.addAttribute("s",o.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),o.outlineLevel&&l.addAttribute("outlineLevel",o.outlineLevel),o.collapsed&&l.addAttribute("collapsed","1");const f=this.map.c;o.cells.forEach(d=>{f.render(l,d,u)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const o=l.attributes.spans?l.attributes.spans.split(":").map(f=>parseInt(f,10)):[void 0,void 0],u=this.model={number:parseInt(l.attributes.r,10),min:o[0],max:o[1],cells:[]};return l.attributes.s&&(u.styleId=parseInt(l.attributes.s,10)),a.parseBoolean(l.attributes.hidden)&&(u.hidden=!0),a.parseBoolean(l.attributes.bestFit)&&(u.bestFit=!0),l.attributes.ht&&(u.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(u.outlineLevel=parseInt(l.attributes.outlineLevel,10)),a.parseBoolean(l.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,o){l.style=l.styleId?o.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const u=this.map.c;l.cells.forEach(f=>{u.reconcile(f,o)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../base-xform");n.exports=class extends a{get tag(){return"sheetFormatPr"}render(c,l){if(l){const o={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(o.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(o.customHeight="1"),s.some(o,u=>u!==void 0)&&c.leafNode("sheetFormatPr",o)}}parseOpen(c){return c.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(c.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(c.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(c.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(c.attributes.outlineLevelCol||"0",10)},c.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(c.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,n,i){const s=e("../base-xform"),a=e("../style/color-xform"),c=e("./page-setup-properties-xform"),l=e("./outline-properties-xform");n.exports=class extends s{constructor(){super(),this.map={tabColor:new a("tabColor"),pageSetUpPr:new c,outlinePr:new l}}get tag(){return"sheetPr"}render(o,u){if(u){o.addRollback(),o.openNode("sheetPr");let f=!1;f=this.map.tabColor.render(o,u.tabColor)||f,f=this.map.pageSetUpPr.render(o,u.pageSetup)||f,f=this.map.outlinePr.render(o,u.outlineProperties)||f,f?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){return this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag?(this.reset(),!0):!!this.map[o.name]&&(this.parser=this.map[o.name],this.parser.parseOpen(o),!0)}parseText(o){return!!this.parser&&(this.parser.parseText(o),!0)}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../base-xform");function c(o,u){return o?u:void 0}function l(o,u){return o===u||void 0}n.exports=class extends a{get tag(){return"sheetProtection"}render(o,u){if(u){const f={sheet:c(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:c(u.formatCells,"0"),formatColumns:c(u.formatColumns,"0"),formatRows:c(u.formatRows,"0"),insertColumns:c(u.insertColumns,"0"),insertRows:c(u.insertRows,"0"),insertHyperlinks:c(u.insertHyperlinks,"0"),deleteColumns:c(u.deleteColumns,"0"),deleteRows:c(u.deleteRows,"0"),sort:c(u.sort,"0"),autoFilter:c(u.autoFilter,"0"),pivotTables:c(u.pivotTables,"0")};u.sheet&&(f.algorithmName=u.algorithmName,f.hashValue=u.hashValue,f.saltValue=u.saltValue,f.spinCount=u.spinCount,f.objects=c(u.objects===!1,"1"),f.scenarios=c(u.scenarios===!1,"1")),s.some(f,d=>d!==void 0)&&o.leafNode(this.tag,f)}}parseOpen(o){switch(o.name){case this.tag:return this.model={sheet:l(o.attributes.sheet,"1"),objects:o.attributes.objects!=="1"&&void 0,scenarios:o.attributes.scenarios!=="1"&&void 0,selectLockedCells:o.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:o.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(o.attributes.formatCells,"0"),formatColumns:l(o.attributes.formatColumns,"0"),formatRows:l(o.attributes.formatRows,"0"),insertColumns:l(o.attributes.insertColumns,"0"),insertRows:l(o.attributes.insertRows,"0"),insertHyperlinks:l(o.attributes.insertHyperlinks,"0"),deleteColumns:l(o.attributes.deleteColumns,"0"),deleteRows:l(o.attributes.deleteRows,"0"),sort:l(o.attributes.sort,"0"),autoFilter:l(o.attributes.autoFilter,"0"),pivotTables:l(o.attributes.pivotTables,"0")},o.attributes.algorithmName&&(this.model.algorithmName=o.attributes.algorithmName,this.model.hashValue=o.attributes.hashValue,this.model.saltValue=o.attributes.saltValue,this.model.spinCount=parseInt(o.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,n,i){const s=e("../../../utils/col-cache"),a=e("../base-xform"),c={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends a{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,o){l.openNode("sheetView",{workbookViewId:o.workbookViewId||0});const u=function(b,m,v){v&&l.addAttribute(b,m)};let f,d,h,g;switch(u("rightToLeft","1",o.rightToLeft===!0),u("tabSelected","1",o.tabSelected),u("showRuler","0",o.showRuler===!1),u("showRowColHeaders","0",o.showRowColHeaders===!1),u("showGridLines","0",o.showGridLines===!1),u("zoomScale",o.zoomScale,o.zoomScale),u("zoomScaleNormal",o.zoomScaleNormal,o.zoomScaleNormal),u("view",o.style,o.style),o.state){case"frozen":d=o.xSplit||0,h=o.ySplit||0,f=o.topLeftCell||s.getAddress(h+1,d+1).address,g=(o.xSplit&&o.ySplit?"bottomRight":o.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:f,activePane:g,state:"frozen"}),l.leafNode("selection",{pane:g,activeCell:o.activeCell,sqref:o.activeCell});break;case"split":o.activePane==="topLeft"&&(o.activePane=void 0),l.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:o.topLeftCell,activePane:o.activePane}),l.leafNode("selection",{pane:o.activePane,activeCell:o.activeCell,sqref:o.activeCell});break;case"normal":o.activeCell&&l.leafNode("selection",{activeCell:o.activeCell,sqref:o.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const o=l.attributes.pane||"topLeft";return this.selections[o]={pane:o,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let o,u;switch(l){case"sheetView":return this.sheetView&&this.pane?(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:c[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(o.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(o.activeCell=u.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)):(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(o.activeCell=u.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"tablePart"}render(a,c){c&&a.leafNode(this.tag,{"r:id":c.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),l=e("../../rel-type"),o=e("./merges"),u=e("../base-xform"),f=e("../list-xform"),d=e("./row-xform"),h=e("./col-xform"),g=e("./dimension-xform"),b=e("./hyperlink-xform"),m=e("./merge-cell-xform"),v=e("./data-validations-xform"),y=e("./sheet-properties-xform"),w=e("./sheet-format-properties-xform"),T=e("./sheet-view-xform"),I=e("./sheet-protection-xform"),V=e("./page-margins-xform"),B=e("./page-setup-xform"),A=e("./print-options-xform"),M=e("./auto-filter-xform"),F=e("./picture-xform"),$=e("./drawing-xform"),U=e("./table-part-xform"),E=e("./row-breaks-xform"),P=e("./header-footer-xform"),N=e("./cf/conditional-formattings-xform"),x=e("./ext-lst-xform"),_=(k,j)=>{if(!j||!j.length)return k;if(!k||!k.length)return j;const L={},D={};return k.forEach(q=>{L[q.ref]=q,q.rules.forEach(W=>{const{x14Id:Q}=W;Q&&(D[Q]=W)})}),j.forEach(q=>{q.rules.forEach(W=>{const Q=D[W.x14Id];Q?((z,K)=>{Object.keys(K).forEach(O=>{const R=z[O],H=K[O];R===void 0&&H!==void 0&&(z[O]=H)})})(Q,W):L[q.ref]?L[q.ref].rules.push(W):k.push({ref:q.ref,rules:[W]})})}),k};class S extends u{constructor(j){super();const{maxRows:L,maxCols:D,ignoreNodes:q}=j||{};this.ignoreNodes=q||[],this.map={sheetPr:new y,dimension:new g,sheetViews:new f({tag:"sheetViews",count:!1,childXform:new T}),sheetFormatPr:new w,cols:new f({tag:"cols",count:!1,childXform:new h}),sheetData:new f({tag:"sheetData",count:!1,empty:!0,childXform:new d({maxItems:D}),maxItems:L}),autoFilter:new M,mergeCells:new f({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new E,hyperlinks:new f({tag:"hyperlinks",count:!1,childXform:new b}),pageMargins:new V,dataValidations:new v,pageSetup:new B,headerFooter:new P,printOptions:new A,picture:new F,drawing:new $,sheetProtection:new I,tableParts:new f({tag:"tableParts",count:!0,childXform:new U}),conditionalFormatting:new N,extLst:new x}}prepare(j,L){L.merges=new o,j.hyperlinks=L.hyperlinks=[],j.comments=L.comments=[],L.formulae={},L.siFormulae=0,this.map.cols.prepare(j.cols,L),this.map.sheetData.prepare(j.rows,L),this.map.conditionalFormatting.prepare(j.conditionalFormattings,L),j.mergeCells=L.merges.mergeCells;const D=j.rels=[];function q(z){return"rId"+(z.length+1)}if(j.hyperlinks.forEach(z=>{const K=q(D);z.rId=K,D.push({Id:K,Type:l.Hyperlink,Target:z.target,TargetMode:"External"})}),j.comments.length>0){const z={Id:q(D),Type:l.Comments,Target:`../comments${j.id}.xml`};D.push(z);const K={Id:q(D),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${j.id}.vml`};D.push(K),j.comments.forEach(O=>{O.refAddress=a.decodeAddress(O.ref)}),L.commentRefs.push({commentName:"comments"+j.id,vmlDrawing:"vmlDrawing"+j.id})}const W=[];let Q;j.media.forEach(z=>{if(z.type==="background"){const K=q(D);Q=L.media[z.imageId],D.push({Id:K,Type:l.Image,Target:`../media/${Q.name}.${Q.extension}`}),j.background={rId:K},j.image=L.media[z.imageId]}else if(z.type==="image"){let{drawing:K}=j;Q=L.media[z.imageId],K||(K=j.drawing={rId:q(D),name:"drawing"+ ++L.drawingsCount,anchors:[],rels:[]},L.drawings.push(K),D.push({Id:K.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${K.name}.xml`}));let O=this.preImageId===z.imageId?W[z.imageId]:W[K.rels.length];O||(O=q(K.rels),W[K.rels.length]=O,K.rels.push({Id:O,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${Q.name}.${Q.extension}`}));const R={picture:{rId:O},range:z.range};if(z.hyperlinks&&z.hyperlinks.hyperlink){const H=q(K.rels);W[K.rels.length]=H,R.picture.hyperlinks={tooltip:z.hyperlinks.tooltip,rId:H},K.rels.push({Id:H,Type:l.Hyperlink,Target:z.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=z.imageId,K.anchors.push(R)}}),j.tables.forEach(z=>{const K=q(D);z.rId=K,D.push({Id:K,Type:l.Table,Target:"../tables/"+z.target}),z.columns.forEach(O=>{const{style:R}=O;R&&(O.dxfId=L.styles.addDxfStyle(R))})}),this.map.extLst.prepare(j,L)}render(j,L){j.openXml(c.StdDocAttributes),j.openNode("worksheet",S.WORKSHEET_ATTRIBUTES);const D=L.properties?{defaultRowHeight:L.properties.defaultRowHeight,dyDescent:L.properties.dyDescent,outlineLevelCol:L.properties.outlineLevelCol,outlineLevelRow:L.properties.outlineLevelRow}:void 0;L.properties&&L.properties.defaultColWidth&&(D.defaultColWidth=L.properties.defaultColWidth);const q={outlineProperties:L.properties&&L.properties.outlineProperties,tabColor:L.properties&&L.properties.tabColor,pageSetup:L.pageSetup&&L.pageSetup.fitToPage?{fitToPage:L.pageSetup.fitToPage}:void 0},W=L.pageSetup&&L.pageSetup.margins,Q={showRowColHeaders:L.pageSetup&&L.pageSetup.showRowColHeaders,showGridLines:L.pageSetup&&L.pageSetup.showGridLines,horizontalCentered:L.pageSetup&&L.pageSetup.horizontalCentered,verticalCentered:L.pageSetup&&L.pageSetup.verticalCentered},z=L.sheetProtection;this.map.sheetPr.render(j,q),this.map.dimension.render(j,L.dimensions),this.map.sheetViews.render(j,L.views),this.map.sheetFormatPr.render(j,D),this.map.cols.render(j,L.cols),this.map.sheetData.render(j,L.rows),this.map.sheetProtection.render(j,z),this.map.autoFilter.render(j,L.autoFilter),this.map.mergeCells.render(j,L.mergeCells),this.map.conditionalFormatting.render(j,L.conditionalFormattings),this.map.dataValidations.render(j,L.dataValidations),this.map.hyperlinks.render(j,L.hyperlinks),this.map.printOptions.render(j,Q),this.map.pageMargins.render(j,W),this.map.pageSetup.render(j,L.pageSetup),this.map.headerFooter.render(j,L.headerFooter),this.map.rowBreaks.render(j,L.rowBreaks),this.map.drawing.render(j,L.drawing),this.map.picture.render(j,L.background),this.map.tableParts.render(j,L.tables),this.map.extLst.render(j,L),L.rels&&L.rels.forEach(K=>{K.Type===l.VmlDrawing&&j.leafNode("legacyDrawing",{"r:id":K.Id})}),j.closeNode()}parseOpen(j){return this.parser?(this.parser.parseOpen(j),!0):j.name==="worksheet"?(s.each(this.map,L=>{L.reset()}),!0):(this.map[j.name]&&!this.ignoreNodes.includes(j.name)&&(this.parser=this.map[j.name],this.parser.parseOpen(j)),!0)}parseText(j){this.parser&&this.parser.parseText(j)}parseClose(j){if(this.parser)return this.parser.parseClose(j)||(this.parser=void 0),!0;switch(j){case"worksheet":{const L=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(L.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(L.outlineProperties=this.map.sheetPr.model.outlineProperties);const D={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},q=Object.assign(D,this.map.pageSetup.model,this.map.printOptions.model),W=_(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:L,views:this.map.sheetViews.model,pageSetup:q,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:W},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(j,L){const D=(j.relationships||[]).reduce((W,Q)=>{if(W[Q.Id]=Q,Q.Type===l.Comments&&(j.comments=L.comments[Q.Target].comments),Q.Type===l.VmlDrawing&&j.comments&&j.comments.length){const z=L.vmlDrawings[Q.Target].comments;j.comments.forEach((K,O)=>{K.note=Object.assign({},K.note,z[O])})}return W},{});if(L.commentsMap=(j.comments||[]).reduce((W,Q)=>(Q.ref&&(W[Q.ref]=Q),W),{}),L.hyperlinkMap=(j.hyperlinks||[]).reduce((W,Q)=>(Q.rId&&(W[Q.address]=D[Q.rId].Target),W),{}),L.formulae={},j.rows=j.rows&&j.rows.filter(Boolean)||[],j.rows.forEach(W=>{W.cells=W.cells&&W.cells.filter(Boolean)||[]}),this.map.cols.reconcile(j.cols,L),this.map.sheetData.reconcile(j.rows,L),this.map.conditionalFormatting.reconcile(j.conditionalFormattings,L),j.media=[],j.drawing){const W=D[j.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(W){const Q=W[1];L.drawings[Q].anchors.forEach(z=>{if(z.medium){const K={type:"image",imageId:z.medium.index,range:z.range,hyperlinks:z.picture.hyperlinks};j.media.push(K)}})}}const q=j.background&&D[j.background.rId];if(q){const W=q.Target.split("/media/")[1],Q=L.mediaIndex&&L.mediaIndex[W];Q!==void 0&&j.media.push({type:"background",imageId:Q})}j.tables=(j.tables||[]).map(W=>{const Q=D[W.rId];return L.tables[Q.Target]}),delete j.relationships,delete j.hyperlinks,delete j.comments}}S.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=S},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.attr=a.attr}render(a,c){c&&(a.openNode(this.tag),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this._format=a.format||function(c){try{return Number.isNaN(c.getTime())?"":c.toISOString()}catch{return""}},this._parse=a.parse||function(c){return new Date(c)}}render(a,c){c&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,this._format(c)):a.writeText(this._format(c)),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=this._parse(a.attributes[this.attr]):this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this.zero=a.zero}render(a,c){(c||this.zero)&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,c):a.writeText(c),a.closeNode())}parseOpen(a){return a.name===this.tag&&(this.attr?this.model=parseInt(a.attributes[this.attr],10):this.text=[],!0)}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs}render(a,c){c!==void 0&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,c):a.writeText(c),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=a.attributes[this.attr]:this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,n,i){const s=e("./base-xform"),a=e("../../utils/xml-stream");n.exports=class extends s{constructor(c){super(),this._model=c}render(c){if(!this._xml){const l=new a;(function o(u,f){u.openNode(f.tag,f.$),f.c&&f.c.forEach(d=>{o(u,d)}),f.t&&u.writeText(f.t),u.closeNode()})(l,this._model),this._xml=l.xml}c.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(c){switch(c){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,n,i){const s=e("./text-xform"),a=e("./rich-text-xform"),c=e("../base-xform");n.exports=class extends c{constructor(){super(),this.map={r:new a,t:new s}}get tag(){return"rPh"}render(l,o){if(l.openNode(this.tag,{sb:o.sb||0,eb:o.eb||0}),o&&o.hasOwnProperty("richText")&&o.richText){const{r:u}=this.map;o.richText.forEach(f=>{u.render(l,f)})}else o&&this.map.t.render(l,o.text);l.closeNode()}parseOpen(l){const{name:o}=l;return this.parser?(this.parser.parseOpen(l),!0):o===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[o],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let o=this.model.richText;o||(o=this.model.richText=[]),o.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,n,i){const s=e("./text-xform"),a=e("../style/font-xform"),c=e("../base-xform");class l extends c{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new s)}get fontXform(){return this._fontXform||(this._fontXform=new a(l.FONT_OPTIONS))}render(u,f){f=f||this.model,u.openNode("r"),f.font&&this.fontXform.render(u,f.font),this.textXform.render(u,f.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,n,i){const s=e("./text-xform"),a=e("./rich-text-xform"),c=e("./phonetic-text-xform"),l=e("../base-xform");n.exports=class extends l{constructor(o){super(),this.model=o,this.map={r:new a,t:new s,rPh:new c}}get tag(){return"si"}render(o,u){o.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(f=>{this.map.r.render(o,f)}):this.map.t.render(o,""):u!=null&&this.map.t.render(o,u),o.closeNode()}parseOpen(o){const{name:u}=o;return this.parser?(this.parser.parseOpen(o),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(o),!0))}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){switch(o){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform"),c=e("./shared-string-xform");n.exports=class extends a{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new c)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let o=this.hash[l];return o===void 0&&(o=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,o}addRichText(l){const o=this.sharedStringXform.toXml(l);let u=this.rich[o];return u===void 0&&(u=this.rich[o]=this.model.values.length,this.model.values.push(l)),this.model.count++,u}render(l,o){o=o||this._values,l.openXml(s.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:o.count,uniqueCount:o.values.length});const u=this.sharedStringXform;o.values.forEach(f=>{u.render(l,f)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"t"}render(a,c){a.openNode("t"),/^\s|\n|\s$/.test(c)&&a.addAttribute("xml:space","preserve"),a.writeText(c),a.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(a,c)=>String.fromCharCode(parseInt(c,16)))}parseOpen(a){switch(a.name){case"t":return this._text=[],!0;default:return!1}}parseText(a){this._text.push(a)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,n,i){const s=e("../../../doc/enums"),a=e("../../../utils/utils"),c=e("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,f)=>(u[f]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,f)=>(u[f]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=a.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=a.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return s.ReadingOrder.LeftToRight;case"rtl":return s.ReadingOrder.RightToLeft;default:return}}},o={toXml(u){if(u=l.textRotation(u)){if(u==="vertical")return 255;const f=Math.round(u);if(f>=0&&f<=90)return f;if(f<0&&f>=-90)return 90-f}},toModel(u){const f=a.validInt(u);if(f!==void 0){if(f===255)return"vertical";if(f>=0&&f<=90)return f;if(f>90&&f<=180)return 90-f}}};n.exports=class extends c{get tag(){return"alignment"}render(u,f){u.addRollback(),u.openNode("alignment");let d=!1;function h(g,b){b&&(u.addAttribute(g,b),d=!0)}h("horizontal",l.horizontal(f.horizontal)),h("vertical",l.vertical(f.vertical)),h("wrapText",!!l.wrapText(f.wrapText)&&"1"),h("shrinkToFit",!!l.shrinkToFit(f.shrinkToFit)&&"1"),h("indent",l.indent(f.indent)),h("textRotation",o.toXml(f.textRotation)),h("readingOrder",l.readingOrder(f.readingOrder)),u.closeNode(),d?u.commit():u.rollback()}parseOpen(u){const f={};let d=!1;function h(g,b,m){g&&(f[b]=m,d=!0)}h(u.attributes.horizontal,"horizontal",u.attributes.horizontal),h(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),h(u.attributes.wrapText,"wrapText",a.parseBoolean(u.attributes.wrapText)),h(u.attributes.shrinkToFit,"shrinkToFit",a.parseBoolean(u.attributes.shrinkToFit)),h(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),h(u.attributes.textRotation,"textRotation",o.toModel(u.attributes.textRotation)),h(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=d?f:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,n,i){const s=e("../base-xform"),a=e("../../../utils/utils"),c=e("./color-xform");class l extends s{constructor(u){super(),this.name=u,this.map={color:new c}}get tag(){return this.name}render(u,f,d){const h=f&&f.color||d||this.defaultColor;u.openNode(this.name),f&&f.style&&(u.addAttribute("style",f.style),h&&this.map.color.render(u,h)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:f}=u.attributes;return this.model=f?{style:f}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return l.validStyleValues[u]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((o,u)=>(o[u]=!0,o),{}),n.exports=class extends s{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(o,u){const{color:f}=u;function d(h,g){h&&!h.color&&u.color&&(h={...h,color:u.color}),g.render(o,h,f)}o.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&o.addAttribute("diagonalUp","1"),u.diagonal.down&&o.addAttribute("diagonalDown","1")),d(u.left,this.map.left),d(u.right,this.map.right),d(u.top,this.map.top),d(u.bottom,this.map.bottom),d(u.diagonal,this.map.diagonal),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"border":return this.reset(),this.diagonalUp=a.parseBoolean(o.attributes.diagonalUp),this.diagonalDown=a.parseBoolean(o.attributes.diagonalDown),!0;default:return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;if(o==="border"){const u=this.model={},f=function(d,h,g){h&&(g&&Object.assign(h,g),u[d]=h)};f("left",this.map.left.model),f("right",this.map.right.model),f("top",this.map.top.model),f("bottom",this.map.bottom.model),f("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{constructor(a){super(),this.name=a||"color"}get tag(){return this.name}render(a,c){return!!c&&(a.openNode(this.name),c.argb?a.addAttribute("rgb",c.argb):c.theme!==void 0?(a.addAttribute("theme",c.theme),c.tint!==void 0&&a.addAttribute("tint",c.tint)):c.indexed!==void 0?a.addAttribute("indexed",c.indexed):a.addAttribute("auto","1"),a.closeNode(),!0)}parseOpen(a){return a.name===this.name&&(a.attributes.rgb?this.model={argb:a.attributes.rgb}:a.attributes.theme?(this.model={theme:parseInt(a.attributes.theme,10)},a.attributes.tint&&(this.model.tint=parseFloat(a.attributes.tint))):a.attributes.indexed?this.model={indexed:parseInt(a.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,n,i){const s=e("../base-xform"),a=e("./alignment-xform"),c=e("./border-xform"),l=e("./fill-xform"),o=e("./font-xform"),u=e("./numfmt-xform"),f=e("./protection-xform");n.exports=class extends s{constructor(){super(),this.map={alignment:new a,border:new c,fill:new l,font:new o,numFmt:new u,protection:new f}}get tag(){return"dxf"}render(d,h){if(d.openNode(this.tag),h.font&&this.map.font.render(d,h.font),h.numFmt&&h.numFmtId){const g={id:h.numFmtId,formatCode:h.numFmt};this.map.numFmt.render(d,g)}h.fill&&this.map.fill.render(d,h.fill),h.alignment&&this.map.alignment.render(d,h.alignment),h.border&&this.map.border.render(d,h.border),h.protection&&this.map.protection.render(d,h.protection),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d),!0}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,n,i){const s=e("../base-xform"),a=e("./color-xform");class c extends s{constructor(){super(),this.map={color:new a}}get tag(){return"stop"}render(d,h){d.openNode("stop"),d.addAttribute("position",h.position),this.map.color.render(d,h.color),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"stop":return this.model={position:parseFloat(d.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(){}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends s{constructor(){super(),this.map={fgColor:new a("fgColor"),bgColor:new a("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(d,h){d.openNode("patternFill"),d.addAttribute("patternType",h.pattern),h.fgColor&&this.map.fgColor.render(d,h.fgColor),h.bgColor&&this.map.bgColor.render(d,h.bgColor),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"patternFill":return this.model={type:"pattern",pattern:d.attributes.patternType},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.parser.model&&(this.model[d]=this.parser.model),this.parser=void 0),!0)}}class o extends s{constructor(){super(),this.map={stop:new c}}get name(){return"gradient"}get tag(){return"gradientFill"}render(d,h){switch(d.openNode("gradientFill"),h.gradient){case"angle":d.addAttribute("degree",h.degree);break;case"path":d.addAttribute("type","path"),h.center.left&&(d.addAttribute("left",h.center.left),h.center.right===void 0&&d.addAttribute("right",h.center.left)),h.center.right&&d.addAttribute("right",h.center.right),h.center.top&&(d.addAttribute("top",h.center.top),h.center.bottom===void 0&&d.addAttribute("bottom",h.center.top)),h.center.bottom&&d.addAttribute("bottom",h.center.bottom)}const g=this.map.stop;h.stops.forEach(b=>{g.render(d,b)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"gradientFill":{const h=this.model={stops:[]};return d.attributes.degree?(h.gradient="angle",h.degree=parseInt(d.attributes.degree,10)):d.attributes.type==="path"&&(h.gradient="path",h.center={left:d.attributes.left?parseFloat(d.attributes.left):0,top:d.attributes.top?parseFloat(d.attributes.top):0},d.attributes.right!==d.attributes.left&&(h.center.right=d.attributes.right?parseFloat(d.attributes.right):0),d.attributes.bottom!==d.attributes.top&&(h.center.bottom=d.attributes.bottom?parseFloat(d.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends s{constructor(){super(),this.map={patternFill:new l,gradientFill:new o}}get tag(){return"fill"}render(d,h){switch(d.addRollback(),d.openNode("fill"),h.type){case"pattern":this.map.patternFill.render(d,h);break;case"gradient":this.map.gradientFill.render(d,h);break;default:return void d.rollback()}d.closeNode(),d.commit()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"fill":return this.model={},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(d){return u.validPatternValues[d]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((f,d)=>(f[d]=!0,f),{}),u.StopXform=c,u.PatternFillXform=l,u.GradientFillXform=o,n.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(e,n,i){const s=e("./color-xform"),a=e("../simple/boolean-xform"),c=e("../simple/integer-xform"),l=e("../simple/string-xform"),o=e("./underline-xform"),u=e("../../../utils/under-dash"),f=e("../base-xform");class d extends f{constructor(g){super(),this.options=g||d.OPTIONS,this.map={b:{prop:"bold",xform:new a({tag:"b",attr:"val"})},i:{prop:"italic",xform:new a({tag:"i",attr:"val"})},u:{prop:"underline",xform:new o},charset:{prop:"charset",xform:new c({tag:"charset",attr:"val"})},color:{prop:"color",xform:new s},condense:{prop:"condense",xform:new a({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new a({tag:"extend",attr:"val"})},family:{prop:"family",xform:new c({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new a({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new a({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new a({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new c({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,b){const{map:m}=this;g.openNode(this.options.tagName),u.each(this.map,(v,y)=>{m[y].xform.render(g,b[v.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const b=this.map[g];return this.parser.model&&(this.model[b.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}d.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=d},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,n,i){const s=e("../../../utils/under-dash"),a=e("../../defaultnumformats"),c=e("../base-xform"),l=function(){const u={};return s.each(a,(f,d)=>{f.f&&(u[f.f]=parseInt(d,10))}),u}();class o extends c{constructor(f,d){super(),this.id=f,this.formatCode=d}get tag(){return"numFmt"}render(f,d){f.leafNode("numFmt",{numFmtId:d.id,formatCode:d.formatCode})}parseOpen(f){switch(f.name){case"numFmt":return this.model={id:parseInt(f.attributes.numFmtId,10),formatCode:f.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}o.getDefaultFmtId=function(u){return l[u]},o.getDefaultFmtCode=function(u){return a[u]&&a[u].f},n.exports=o},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,n,i){const s=e("../base-xform"),a={boolean:(c,l)=>c===void 0?l:c};n.exports=class extends s{get tag(){return"protection"}render(c,l){c.addRollback(),c.openNode("protection");let o=!1;function u(f,d){d!==void 0&&(c.addAttribute(f,d),o=!0)}u("locked",a.boolean(l.locked,!0)?void 0:"0"),u("hidden",a.boolean(l.hidden,!1)?"1":void 0),c.closeNode(),o?c.commit():c.rollback()}parseOpen(c){const l={locked:c.attributes.locked!=="0",hidden:c.attributes.hidden==="1"},o=!l.locked||l.hidden;this.model=o?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,n,i){const s=e("../base-xform"),a=e("./alignment-xform"),c=e("./protection-xform");n.exports=class extends s{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new a,protection:new c}}get tag(){return"xf"}render(l,o){l.openNode("xf",{numFmtId:o.numFmtId||0,fontId:o.fontId||0,fillId:o.fillId||0,borderId:o.borderId||0}),this.xfId&&l.addAttribute("xfId",o.xfId||0),o.numFmtId&&l.addAttribute("applyNumberFormat","1"),o.fontId&&l.addAttribute("applyFont","1"),o.fillId&&l.addAttribute("applyFill","1"),o.borderId&&l.addAttribute("applyBorder","1"),o.alignment&&l.addAttribute("applyAlignment","1"),o.protection&&l.addAttribute("applyProtection","1"),o.alignment&&this.map.alignment.render(l,o.alignment),o.protection&&this.map.protection.render(l,o.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,n,i){const s=e("../../../doc/enums"),a=e("../../../utils/xml-stream"),c=e("../base-xform"),l=e("../static-xform"),o=e("../list-xform"),u=e("./font-xform"),f=e("./fill-xform"),d=e("./border-xform"),h=e("./numfmt-xform"),g=e("./style-xform"),b=e("./dxf-xform");class m extends c{constructor(y){super(),this.map={numFmts:new o({tag:"numFmts",count:!0,childXform:new h}),fonts:new o({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new o({tag:"fills",count:!0,childXform:new f}),borders:new o({tag:"borders",count:!0,childXform:new d}),cellStyleXfs:new o({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new o({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new o({tag:"dxfs",always:!0,count:!0,childXform:new b}),numFmt:new h,font:new u,fill:new f,border:new d,style:new g({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},y&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(y,w){w=w||this.model,y.openXml(a.StdDocAttributes),y.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(w.numFmts&&w.numFmts.length&&(y.openNode("numFmts",{count:w.numFmts.length}),w.numFmts.forEach(T=>{y.writeXml(T)}),y.closeNode()),w.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),y.openNode("fonts",{count:w.fonts.length,"x14ac:knownFonts":1}),w.fonts.forEach(T=>{y.writeXml(T)}),y.closeNode(),y.openNode("fills",{count:w.fills.length}),w.fills.forEach(T=>{y.writeXml(T)}),y.closeNode(),y.openNode("borders",{count:w.borders.length}),w.borders.forEach(T=>{y.writeXml(T)}),y.closeNode(),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),y.openNode("cellXfs",{count:w.styles.length}),w.styles.forEach(T=>{y.writeXml(T)}),y.closeNode()):(this.map.numFmts.render(y,w.numFmts),this.map.fonts.render(y,w.fonts),this.map.fills.render(y,w.fills),this.map.borders.render(y,w.borders),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(y,w.styles)),m.STATIC_XFORMS.cellStyles.render(y),this.map.dxfs.render(y,w.dxfs),m.STATIC_XFORMS.tableStyles.render(y),m.STATIC_XFORMS.extLst.render(y),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"styleSheet":{this.model={};const w=(T,I)=>{I.model&&I.model.length&&(this.model[T]=I.model)};if(w("numFmts",this.map.numFmts),w("fonts",this.map.fonts),w("fills",this.map.fills),w("borders",this.map.borders),w("styles",this.map.cellXfs),w("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const T=this.index.numFmt;this.model.numFmts.forEach(I=>{T[I.id]=I.formatCode})}return!1}default:return!0}}addStyleModel(y,w){if(!y)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(y))return this.weakMap.get(y);const T={};if(w=w||s.ValueType.Number,y.numFmt)T.numFmtId=this._addNumFmtStr(y.numFmt);else switch(w){case s.ValueType.Number:T.numFmtId=this._addNumFmtStr("General");break;case s.ValueType.Date:T.numFmtId=this._addNumFmtStr("mm-dd-yy")}y.font&&(T.fontId=this._addFont(y.font)),y.border&&(T.borderId=this._addBorder(y.border)),y.fill&&(T.fillId=this._addFill(y.fill)),y.alignment&&(T.alignment=y.alignment),y.protection&&(T.protection=y.protection);const I=this._addStyle(T);return this.weakMap&&this.weakMap.set(y,I),I}getStyleModel(y){const w=this.model.styles[y];if(!w)return null;let T=this.index.model[y];if(T)return T;if(T=this.index.model[y]={},w.numFmtId){const V=this.index.numFmt[w.numFmtId]||h.getDefaultFmtCode(w.numFmtId);V&&(T.numFmt=V)}function I(V,B,A){if(A||A===0){const M=B[A];M&&(T[V]=M)}}return I("font",this.model.fonts,w.fontId),I("border",this.model.borders,w.borderId),I("fill",this.model.fills,w.fillId),w.alignment&&(T.alignment=w.alignment),w.protection&&(T.protection=w.protection),T}addDxfStyle(y){return y.numFmt&&(y.numFmtId=this._addNumFmtStr(y.numFmt)),this.model.dxfs.push(y),this.model.dxfs.length-1}getDxfStyle(y){return this.model.dxfs[y]}_addStyle(y){const w=this.map.style.toXml(y);let T=this.index.style[w];return T===void 0&&(T=this.index.style[w]=this.model.styles.length,this.model.styles.push(w)),T}_addNumFmtStr(y){let w=h.getDefaultFmtId(y);if(w!==void 0||(w=this.index.numFmt[y],w!==void 0))return w;w=this.index.numFmt[y]=164+this.model.numFmts.length;const T=this.map.numFmt.toXml({id:w,formatCode:y});return this.model.numFmts.push(T),w}_addFont(y){const w=this.map.font.toXml(y);let T=this.index.font[w];return T===void 0&&(T=this.index.font[w]=this.model.fonts.length,this.model.fonts.push(w)),T}_addBorder(y){const w=this.map.border.toXml(y);let T=this.index.border[w];return T===void 0&&(T=this.index.border[w]=this.model.borders.length,this.model.borders.push(w)),T}_addFill(y){const w=this.map.fill.toXml(y);let T=this.index.fill[w];return T===void 0&&(T=this.index.fill[w]=this.model.fills.length,this.model.fills.push(w)),T}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,y){switch(y){case s.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:h.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,n,i){const s=e("../base-xform");class a extends s{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,o){if((o=o||this.model)===!0)l.leafNode("u");else{const u=a.Attributes[o];u&&l.leafNode("u",u)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}a.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=a},{"../base-xform":32}],137:[function(e,n,i){const s=e("../base-xform"),a=e("./filter-column-xform");n.exports=class extends s{constructor(){super(),this.map={filterColumn:new a}}get tag(){return"autoFilter"}prepare(c){c.columns.forEach((l,o)=>{this.map.filterColumn.prepare(l,{index:o})})}render(c,l){return c.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(o=>{this.map.filterColumn.render(c,o)}),c.closeNode(),!0}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:return this.model={autoFilterRef:c.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"customFilter"}render(a,c){a.leafNode(this.tag,{val:c.val,operator:c.operator})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val,operator:a.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,n,i){const s=e("../base-xform"),a=e("../list-xform"),c=e("./custom-filter-xform"),l=e("./filter-xform");n.exports=class extends s{constructor(){super(),this.map={customFilters:new a({tag:"customFilters",count:!1,empty:!0,childXform:new c}),filters:new a({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(o,u){o.colId=u.index.toString()}render(o,u){return u.customFilters?(o.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(o,u.customFilters),o.closeNode(),!0):(o.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;const{attributes:u}=o;switch(o.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"filter"}render(a,c){a.leafNode(this.tag,{val:c.val})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"tableColumn"}prepare(a,c){a.id=c.index+1}render(a,c){return a.leafNode(this.tag,{id:c.id.toString(),name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:c}=a;return this.model={name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,n,i){const s=e("../base-xform");n.exports=class extends s{get tag(){return"tableStyleInfo"}render(a,c){return a.leafNode(this.tag,{name:c.theme?c.theme:void 0,showFirstColumn:c.showFirstColumn?"1":"0",showLastColumn:c.showLastColumn?"1":"0",showRowStripes:c.showRowStripes?"1":"0",showColumnStripes:c.showColumnStripes?"1":"0"}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:c}=a;return this.model={theme:c.name?c.name:null,showFirstColumn:c.showFirstColumn==="1",showLastColumn:c.showLastColumn==="1",showRowStripes:c.showRowStripes==="1",showColumnStripes:c.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,n,i){const s=e("../../../utils/xml-stream"),a=e("../base-xform"),c=e("../list-xform"),l=e("./auto-filter-xform"),o=e("./table-column-xform"),u=e("./table-style-info-xform");class f extends a{constructor(){super(),this.map={autoFilter:new l,tableColumns:new c({tag:"tableColumns",count:!0,empty:!0,childXform:new o}),tableStyleInfo:new u}}prepare(h,g){this.map.autoFilter.prepare(h),this.map.tableColumns.prepare(h.columns,g)}get tag(){return"table"}render(h,g){h.openXml(s.StdDocAttributes),h.openNode(this.tag,{...f.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(h,g),this.map.tableColumns.render(h,g.columns),this.map.tableStyleInfo.render(h,g.style),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;const{name:g,attributes:b}=h;switch(g){case this.tag:this.reset(),this.model={name:b.name,displayName:b.displayName||b.name,tableRef:b.ref,totalsRow:b.totalsRowCount==="1",headerRow:b.headerRowCount==="1"};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,b)=>{this.model.columns[b].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(h,g){h.columns.forEach(b=>{b.dxfId!==void 0&&(b.style=g.styles.getDxfStyle(b.dxfId))})}}f.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=f},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,n,i){(function(s,a){(function(){const c=e("fs"),l=e("jszip"),{PassThrough:o}=e("readable-stream"),u=e("../utils/zip-stream"),f=e("../utils/stream-buf"),d=e("../utils/utils"),h=e("../utils/xml-stream"),{bufferToString:g}=e("../utils/browser-buffer-decode"),b=e("./xform/style/styles-xform"),m=e("./xform/core/core-xform"),v=e("./xform/strings/shared-strings-xform"),y=e("./xform/core/relationships-xform"),w=e("./xform/core/content-types-xform"),T=e("./xform/core/app-xform"),I=e("./xform/book/workbook-xform"),V=e("./xform/sheet/worksheet-xform"),B=e("./xform/drawing/drawing-xform"),A=e("./xform/table/table-xform"),M=e("./xform/comment/comments-xform"),F=e("./xform/comment/vml-notes-xform"),$=e("./xml/theme1");class U{constructor(P){this.workbook=P}async readFile(P,N){if(!await d.fs.exists(P))throw new Error("File not found: "+P);const x=c.createReadStream(P);try{const _=await this.read(x,N);return x.close(),_}catch(_){throw x.close(),_}}parseRels(P){return new y().parseStream(P)}parseWorkbook(P){return new I().parseStream(P)}parseSharedStrings(P){return new v().parseStream(P)}reconcile(P,N){const x=new I,_=new V(N),S=new B,k=new A;x.reconcile(P);const j={media:P.media,mediaIndex:P.mediaIndex};Object.keys(P.drawings).forEach(q=>{const W=P.drawings[q],Q=P.drawingRels[q];Q&&(j.rels=Q.reduce((z,K)=>(z[K.Id]=K,z),{}),(W.anchors||[]).forEach(z=>{const K=z.picture&&z.picture.hyperlinks;K&&j.rels[K.rId]&&(K.hyperlink=j.rels[K.rId].Target,delete K.rId)}),S.reconcile(W,j))});const L={styles:P.styles};Object.values(P.tables).forEach(q=>{k.reconcile(q,L)});const D={styles:P.styles,sharedStrings:P.sharedStrings,media:P.media,mediaIndex:P.mediaIndex,date1904:P.properties&&P.properties.date1904,drawings:P.drawings,comments:P.comments,tables:P.tables,vmlDrawings:P.vmlDrawings};P.worksheets.forEach(q=>{q.relationships=P.worksheetRels[q.sheetNo],_.reconcile(q,D)}),delete P.worksheetHash,delete P.worksheetRels,delete P.globalRels,delete P.sharedStrings,delete P.workbookRels,delete P.sheetDefs,delete P.styles,delete P.mediaIndex,delete P.drawings,delete P.drawingRels,delete P.vmlDrawings}async _processWorksheetEntry(P,N,x,_,S){const k=new V(_),j=await k.parseStream(P);j.sheetNo=x,N.worksheetHash[S]=j,N.worksheets.push(j)}async _processCommentEntry(P,N,x){const _=new M,S=await _.parseStream(P);N.comments[`../${x}.xml`]=S}async _processTableEntry(P,N,x){const _=new A,S=await _.parseStream(P);N.tables[`../tables/${x}.xml`]=S}async _processWorksheetRelsEntry(P,N,x){const _=new y,S=await _.parseStream(P);N.worksheetRels[x]=S}async _processMediaEntry(P,N,x){const _=x.lastIndexOf(".");if(_>=1){const S=x.substr(_+1),k=x.substr(0,_);await new Promise((j,L)=>{const D=new f;D.on("finish",()=>{N.mediaIndex[x]=N.media.length,N.mediaIndex[k]=N.media.length;const q={type:"image",name:k,extension:S,buffer:D.toBuffer()};N.media.push(q),j()}),P.on("error",q=>{L(q)}),P.pipe(D)})}}async _processDrawingEntry(P,N,x){const _=new B,S=await _.parseStream(P);N.drawings[x]=S}async _processDrawingRelsEntry(P,N,x){const _=new y,S=await _.parseStream(P);N.drawingRels[x]=S}async _processVmlDrawingEntry(P,N,x){const _=new F,S=await _.parseStream(P);N.vmlDrawings[`../drawings/${x}.vml`]=S}async _processThemeEntry(P,N,x){await new Promise((_,S)=>{const k=new f;P.on("error",S),k.on("error",S),k.on("finish",()=>{N.themes[x]=k.read().toString(),_()}),P.pipe(k)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(P,N){!P[Symbol.asyncIterator]&&P.pipe&&(P=P.pipe(new o));const x=[];for await(const _ of P)x.push(_);return this.load(a.concat(x),N)}async load(P,N){let x;x=N&&N.base64?a.from(P.toString(),"base64"):P;const _={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},S=await l.loadAsync(x);for(const k of Object.values(S.files))if(!k.dir){let j,L=k.name;if(L[0]==="/"&&(L=L.substr(1)),L.match(/xl\/media\//)||L.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))j=new o,j.write(await k.async("nodebuffer"));else{let D;j=new o({writableObjectMode:!0,readableObjectMode:!0}),D=s.browser?g(await k.async("nodebuffer")):await k.async("string");const q=16384;for(let W=0;W<D.length;W+=q)j.write(D.substring(W,W+q))}switch(j.end(),L){case"_rels/.rels":_.globalRels=await this.parseRels(j);break;case"xl/workbook.xml":{const D=await this.parseWorkbook(j);_.sheets=D.sheets,_.definedNames=D.definedNames,_.views=D.views,_.properties=D.properties,_.calcProperties=D.calcProperties;break}case"xl/_rels/workbook.xml.rels":_.workbookRels=await this.parseRels(j);break;case"xl/sharedStrings.xml":_.sharedStrings=new v,await _.sharedStrings.parseStream(j);break;case"xl/styles.xml":_.styles=new b,await _.styles.parseStream(j);break;case"docProps/app.xml":{const D=new T,q=await D.parseStream(j);_.company=q.company,_.manager=q.manager;break}case"docProps/core.xml":{const D=new m,q=await D.parseStream(j);Object.assign(_,q);break}default:{let D=L.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(D){await this._processWorksheetEntry(j,_,D[1],N,L);break}if(D=L.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),D){await this._processWorksheetRelsEntry(j,_,D[1]);break}if(D=L.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),D){await this._processThemeEntry(j,_,D[1]);break}if(D=L.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),D){await this._processMediaEntry(j,_,D[1]);break}if(D=L.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),D){await this._processDrawingEntry(j,_,D[1]);break}if(D=L.match(/xl\/(comments\d+)[.]xml/),D){await this._processCommentEntry(j,_,D[1]);break}if(D=L.match(/xl\/tables\/(table\d+)[.]xml/),D){await this._processTableEntry(j,_,D[1]);break}if(D=L.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),D){await this._processDrawingRelsEntry(j,_,D[1]);break}if(D=L.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),D){await this._processVmlDrawingEntry(j,_,D[1]);break}}}}return this.reconcile(_,N),this.workbook.model=_,this.workbook}async addMedia(P,N){await Promise.all(N.media.map(async x=>{if(x.type==="image"){const _=`xl/media/${x.name}.${x.extension}`;if(x.filename){const S=await function(k,j){return new Promise((L,D)=>{c.readFile(k,j,(q,W)=>{q?D(q):L(W)})})}(x.filename);return P.append(S,{name:_})}if(x.buffer)return P.append(x.buffer,{name:_});if(x.base64){const S=x.base64,k=S.substring(S.indexOf(",")+1);return P.append(k,{name:_,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(P,N){const x=new B,_=new y;N.worksheets.forEach(S=>{const{drawing:k}=S;if(k){x.prepare(k,{});let j=x.toXml(k);P.append(j,{name:`xl/drawings/${k.name}.xml`}),j=_.toXml(k.rels),P.append(j,{name:`xl/drawings/_rels/${k.name}.xml.rels`})}})}addTables(P,N){const x=new A;N.worksheets.forEach(_=>{const{tables:S}=_;S.forEach(k=>{x.prepare(k,{});const j=x.toXml(k);P.append(j,{name:"xl/tables/"+k.target})})})}async addContentTypes(P,N){const x=new w().toXml(N);P.append(x,{name:"[Content_Types].xml"})}async addApp(P,N){const x=new T().toXml(N);P.append(x,{name:"docProps/app.xml"})}async addCore(P,N){const x=new m;P.append(x.toXml(N),{name:"docProps/core.xml"})}async addThemes(P,N){const x=N.themes||{theme1:$};Object.keys(x).forEach(_=>{const S=x[_],k=`xl/theme/${_}.xml`;P.append(S,{name:k})})}async addOfficeRels(P){const N=new y().toXml([{Id:"rId1",Type:U.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:U.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:U.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);P.append(N,{name:"_rels/.rels"})}async addWorkbookRels(P,N){let x=1;const _=[{Id:"rId"+x++,Type:U.RelType.Styles,Target:"styles.xml"},{Id:"rId"+x++,Type:U.RelType.Theme,Target:"theme/theme1.xml"}];N.sharedStrings.count&&_.push({Id:"rId"+x++,Type:U.RelType.SharedStrings,Target:"sharedStrings.xml"}),N.worksheets.forEach(k=>{k.rId="rId"+x++,_.push({Id:k.rId,Type:U.RelType.Worksheet,Target:`worksheets/sheet${k.id}.xml`})});const S=new y().toXml(_);P.append(S,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(P,N){N.sharedStrings&&N.sharedStrings.count&&P.append(N.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(P,N){const{xml:x}=N.styles;x&&P.append(x,{name:"xl/styles.xml"})}async addWorkbook(P,N){const x=new I;P.append(x.toXml(N),{name:"xl/workbook.xml"})}async addWorksheets(P,N){const x=new V,_=new y,S=new M,k=new F;N.worksheets.forEach(j=>{let L=new h;x.render(L,j),P.append(L.xml,{name:`xl/worksheets/sheet${j.id}.xml`}),j.rels&&j.rels.length&&(L=new h,_.render(L,j.rels),P.append(L.xml,{name:`xl/worksheets/_rels/sheet${j.id}.xml.rels`})),j.comments.length>0&&(L=new h,S.render(L,j),P.append(L.xml,{name:`xl/comments${j.id}.xml`}),L=new h,k.render(L,j),P.append(L.xml,{name:`xl/drawings/vmlDrawing${j.id}.vml`}))})}_finalize(P){return new Promise((N,x)=>{P.on("finish",()=>{N(this)}),P.on("error",x),P.finalize()})}prepareModel(P,N){P.creator=P.creator||"ExcelJS",P.lastModifiedBy=P.lastModifiedBy||"ExcelJS",P.created=P.created||new Date,P.modified=P.modified||new Date,P.useSharedStrings=N.useSharedStrings===void 0||N.useSharedStrings,P.useStyles=N.useStyles===void 0||N.useStyles,P.sharedStrings=new v,P.styles=P.useStyles?new b(!0):new b.Mock;const x=new I,_=new V;x.prepare(P);const S={sharedStrings:P.sharedStrings,styles:P.styles,date1904:P.properties.date1904,drawingsCount:0,media:P.media};S.drawings=P.drawings=[],S.commentRefs=P.commentRefs=[];let k=0;P.tables=[],P.worksheets.forEach(j=>{j.tables.forEach(L=>{k++,L.target=`table${k}.xml`,L.id=k,P.tables.push(L)}),_.prepare(j,S)})}async write(P,N){N=N||{};const{model:x}=this.workbook,_=new u.ZipWriter(N.zip);return _.pipe(P),this.prepareModel(x,N),await this.addContentTypes(_,x),await this.addOfficeRels(_,x),await this.addWorkbookRels(_,x),await this.addWorksheets(_,x),await this.addSharedStrings(_,x),await this.addDrawings(_,x),await this.addTables(_,x),await Promise.all([this.addThemes(_,x),this.addStyles(_,x)]),await this.addMedia(_,x),await Promise.all([this.addApp(_,x),this.addCore(_,x)]),await this.addWorkbook(_,x),this._finalize(_)}writeFile(P,N){const x=c.createWriteStream(P);return new Promise((_,S)=>{x.on("finish",()=>{_()}),x.on("error",k=>{S(k)}),this.write(x,N).then(()=>{x.end()}).catch(k=>{S(k)})})}async writeBuffer(P){const N=new f;return await this.write(N,P),N.read()}}U.RelType=e("./rel-type"),n.exports=U}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,n,i){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;const a=e("stream"),c=e("./formatter");class l extends a.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new c.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,f,d){let h=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(g,b)=>g?(h=!0,d(g)):(b&&b.forEach(m=>{this.push(s.from(m,"utf8"))}),h=!0,d()))}catch(g){if(h)throw g;d(g)}}_flush(u){this.rowFormatter.finish((f,d)=>f?u(f):(d&&d.forEach(h=>{this.push(s.from(h,"utf8"))}),u()))}}i.CsvFormatterStream=l}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=class{constructor(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var a;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,s||{}),(s==null?void 0:s.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(s==null?void 0:s.quote)===!0?this.quote='"':(s==null?void 0:s.quote)===!1&&(this.quote=""),typeof(s==null?void 0:s.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((a=s.writeHeaders)===null||a===void 0||a),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,n,i){var s=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;const a=s(e("lodash.isboolean")),c=s(e("lodash.isnil")),l=s(e("lodash.escaperegexp"));i.FieldFormatter=class{constructor(o){this._headers=null,this.formatterOptions=o,o.headers!==null&&(this.headers=o.headers),this.REPLACE_REGEXP=new RegExp(o.quote,"g");const u=`[${o.delimiter}${l.default(o.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(o){this._headers=o}shouldQuote(o,u){const f=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return a.default(f)?f:Array.isArray(f)?f[o]:this._headers!==null&&f[this._headers[o]]}format(o,u,f){const d=(""+(c.default(o)?"":o)).replace(/\0/g,""),{formatterOptions:h}=this;return h.quote!==""&&d.indexOf(h.quote)!==-1?this.quoteField(d.replace(this.REPLACE_REGEXP,h.escapedQuote)):d.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,f)?this.quoteField(d):d}quoteField(o){const{quote:u}=this.formatterOptions;return`${u}${o}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,n,i){var s=function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;const a=s(e("lodash.isfunction")),c=s(e("lodash.isequal")),l=e("./FieldFormatter"),o=e("../types");class u{constructor(d){this.rowCount=0,this.formatterOptions=d,this.fieldFormatter=new l.FieldFormatter(d),this.headers=d.headers,this.shouldWriteHeaders=d.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),d.transform&&(this.rowTransform=d.transform)}static isRowHashArray(d){return!!Array.isArray(d)&&Array.isArray(d[0])&&d[0].length===2}static isRowArray(d){return Array.isArray(d)&&!this.isRowHashArray(d)}static gatherHeaders(d){return u.isRowHashArray(d)?d.map(h=>h[0]):Array.isArray(d)?d:Object.keys(d)}static createTransform(d){return o.isSyncTransform(d)?(h,g)=>{let b=null;try{b=d(h)}catch(m){return g(m)}return g(null,b)}:(h,g)=>{d(h,g)}}set rowTransform(d){if(!a.default(d))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(d)}format(d,h){this.callTransformer(d,(g,b)=>{if(g)return h(g);if(!d)return h(null);const m=[];if(b){const{shouldFormatColumns:v,headers:y}=this.checkHeaders(b);if(this.shouldWriteHeaders&&y&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(y,!0)),this.hasWrittenHeaders=!0),v){const w=this.gatherColumns(b);m.push(this.formatColumns(w,!1))}}return h(null,m)})}finish(d){const h=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return d(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));h.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&h.push(this.formatterOptions.rowDelimiter),d(null,h)}checkHeaders(d){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const h=u.gatherHeaders(d);return this.headers=h,this.fieldFormatter.headers=h,this.shouldWriteHeaders?{shouldFormatColumns:!c.default(h,d),headers:h}:{shouldFormatColumns:!0,headers:null}}gatherColumns(d){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(d)?u.isRowHashArray(d)?this.headers.map((h,g)=>{const b=d[g];return b?b[1]:""}):u.isRowArray(d)&&!this.shouldWriteHeaders?d:this.headers.map((h,g)=>d[g]):this.headers.map(h=>d[h])}callTransformer(d,h){return this._rowTransform?this._rowTransform(d,h):h(null,d)}formatColumns(d,h){const g=d.map((m,v)=>this.fieldFormatter.format(m,v,h)).join(this.formatterOptions.delimiter),{rowCount:b}=this;return this.rowCount+=1,b?[this.formatterOptions.rowDelimiter,g].join(""):g}}i.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=i.RowFormatter=void 0;var s=e("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return s.RowFormatter}});var a=e("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return a.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,n,i){(function(s){(function(){var a=Object.create?function(v,y,w,T){T===void 0&&(T=w),Object.defineProperty(v,T,{enumerable:!0,get:function(){return y[w]}})}:function(v,y,w,T){T===void 0&&(T=w),v[T]=y[w]},c=Object.create?function(v,y){Object.defineProperty(v,"default",{enumerable:!0,value:y})}:function(v,y){v.default=y},l=function(v){if(v&&v.__esModule)return v;var y={};if(v!=null)for(var w in v)w!=="default"&&Object.prototype.hasOwnProperty.call(v,w)&&a(y,v,w);return c(y,v),y},o=function(v,y){for(var w in v)w==="default"||Object.prototype.hasOwnProperty.call(y,w)||a(y,v,w)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=i.FormatterOptions=i.CsvFormatterStream=void 0;const u=e("util"),f=e("stream"),d=l(e("fs")),h=e("./FormatterOptions"),g=e("./CsvFormatterStream");o(e("./types"),i);var b=e("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return b.CsvFormatterStream}});var m=e("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),i.format=v=>new g.CsvFormatterStream(new h.FormatterOptions(v)),i.write=(v,y)=>{const w=i.format(y),T=u.promisify((I,V)=>{w.write(I,void 0,V)});return v.reduce((I,V)=>I.then(()=>T(V)),Promise.resolve()).then(()=>w.end()).catch(I=>{w.emit("error",I)}),w},i.writeToStream=(v,y,w)=>i.write(y,w).pipe(v),i.writeToBuffer=function(v){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const w=[],T=new f.Writable({write(I,V,B){w.push(I),B()}});return new Promise((I,V)=>{T.on("error",V).on("finish",()=>I(s.concat(w))),i.write(v,y).pipe(T)})},i.writeToString=(v,y)=>i.writeToBuffer(v,y).then(w=>w.toString()),i.writeToPath=(v,y,w)=>{const T=d.createWriteStream(v,{encoding:"utf8"});return i.write(y,w).pipe(T)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1},{}],153:[function(e,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;const a=e("string_decoder"),c=e("stream"),l=e("./transforms"),o=e("./parser");class u extends c.Transform{constructor(d){super({objectMode:d.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=d,this.parser=new o.Parser(d),this.headerTransformer=new l.HeaderTransformer(d),this.decoder=new a.StringDecoder(d.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(d){return this.rowTransformerValidator.rowTransform=d,this}validate(d){return this.rowTransformerValidator.rowValidator=d,this}emit(d){if(d==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var h=arguments.length,g=new Array(h>1?h-1:0),b=1;b<h;b++)g[b-1]=arguments[b];return super.emit(d,...g)}_transform(d,h,g){if(this.hasHitRowLimit)return g();const b=u.wrapDoneCallback(g);try{const{lines:m}=this,v=m+this.decoder.write(d),y=this.parse(v,!0);return this.processRows(y,b)}catch(m){return b(m)}}_flush(d){const h=u.wrapDoneCallback(d);if(this.hasHitRowLimit)return h();try{const g=this.lines+this.decoder.end(),b=this.parse(g,!1);return this.processRows(b,h)}catch(g){return h(g)}}parse(d,h){if(!d)return[];const{line:g,rows:b}=this.parser.parse(d,h);return this.lines=g,b}processRows(d,h){const g=d.length,b=m=>{const v=T=>T?h(T):m%100!=0?b(m+1):void s(()=>b(m+1));if(this.checkAndEmitHeaders(),m>=g||this.hasHitRowLimit)return h();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const y=d[m];this.rowCount+=1,this.parsedRowCount+=1;const w=this.rowCount;return this.transformRow(y,(T,I)=>{if(T)return this.rowCount-=1,v(T);if(!I)return v(new Error("expected transform result"));if(I.isValid){if(I.row)return this.pushRow(I.row,v)}else this.emit("data-invalid",I.row,w,I.reason);return v()})};b(0)}transformRow(d,h){try{this.headerTransformer.transform(d,(g,b)=>g?h(g):b?b.isValid?b.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(b.row,h):this.skipRow(h):(this.rowCount-=1,this.parsedRowCount-=1,h(null,{row:null,isValid:!0})):this.shouldEmitRows?h(null,{isValid:!1,row:d}):this.skipRow(h):h(new Error("Expected result from header transform")))}catch(g){h(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(d){return this.rowCount-=1,d(null,{row:null,isValid:!0})}pushRow(d,h){try{this.parserOptions.objectMode?this.push(d):this.push(JSON.stringify(d)),h()}catch(g){h(g)}}static wrapDoneCallback(d){let h=!1;return function(g){if(g){if(h)throw g;return h=!0,void d(g)}for(var b=arguments.length,m=new Array(b>1?b-1:0),v=1;v<b;v++)m[v-1]=arguments[v];d(...m)}}}i.CsvParserStream=u}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,n,i){var s=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;const a=s(e("lodash.escaperegexp")),c=s(e("lodash.isnil"));i.ParserOptions=class{constructor(l){var o;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=a.default(this.delimiter),this.escapeChar=(o=this.escape)!==null&&o!==void 0?o:this.quote,this.supportsComments=!c.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,n,i){var s=Object.create?function(b,m,v,y){y===void 0&&(y=v),Object.defineProperty(b,y,{enumerable:!0,get:function(){return m[v]}})}:function(b,m,v,y){y===void 0&&(y=v),b[y]=m[v]},a=Object.create?function(b,m){Object.defineProperty(b,"default",{enumerable:!0,value:m})}:function(b,m){b.default=m},c=function(b){if(b&&b.__esModule)return b;var m={};if(b!=null)for(var v in b)v!=="default"&&Object.prototype.hasOwnProperty.call(b,v)&&s(m,b,v);return a(m,b),m},l=function(b,m){for(var v in b)v==="default"||Object.prototype.hasOwnProperty.call(m,v)||s(m,b,v)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=i.ParserOptions=i.CsvParserStream=void 0;const o=c(e("fs")),u=e("stream"),f=e("./ParserOptions"),d=e("./CsvParserStream");l(e("./types"),i);var h=e("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return h.CsvParserStream}});var g=e("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),i.parse=b=>new d.CsvParserStream(new f.ParserOptions(b)),i.parseStream=(b,m)=>b.pipe(new d.CsvParserStream(new f.ParserOptions(m))),i.parseFile=function(b){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o.createReadStream(b).pipe(new d.CsvParserStream(new f.ParserOptions(m)))},i.parseString=(b,m)=>{const v=new u.Readable;return v.push(b),v.push(null),v.pipe(new d.CsvParserStream(new f.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;const s=e("./Scanner"),a=e("./RowParser"),c=e("./Token");class l{constructor(u){this.parserOptions=u,this.rowParser=new a.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,f){const d=new s.Scanner({line:l.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:f});return this.parserOptions.supportsComments?this.parseWithComments(d):this.parseWithoutComments(d)}parseWithoutComments(u){const f=[];let d=!0;for(;d;)d=this.parseRow(u,f);return{line:u.line,rows:f}}parseWithComments(u){const{parserOptions:f}=this,d=[];for(let h=u.nextCharacterToken;h!==null;h=u.nextCharacterToken)if(c.Token.isTokenComment(h,f)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:d};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:d};u.truncateToCursor()}else if(!this.parseRow(u,d))break;return{line:u.line,rows:d}}parseRow(u,f){if(!u.nextNonSpaceToken)return!1;const d=this.rowParser.parse(u);return d!==null&&(this.parserOptions.ignoreEmpty&&a.RowParser.isEmptyRow(d)||f.push(d),!0)}}i.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;const s=e("./column"),a=e("./Token");i.RowParser=class{constructor(c){this.parserOptions=c,this.columnParser=new s.ColumnParser(c)}static isEmptyRow(c){return c.join("").replace(/\s+/g,"")===""}parse(c){const{parserOptions:l}=this,{hasMoreData:o}=c,u=c,f=[];let d=this.getStartToken(u,f);for(;d;){if(a.Token.isTokenRowDelimiter(d))return u.advancePastToken(d),!u.hasMoreCharacters&&a.Token.isTokenCarriageReturn(d,l)&&o?null:(u.truncateToCursor(),f);if(!this.shouldSkipColumnParse(u,d,f)){const h=this.columnParser.parse(u);if(h===null)return null;f.push(h)}d=u.nextNonSpaceToken}return o?null:(u.truncateToCursor(),f)}getStartToken(c,l){const o=c.nextNonSpaceToken;return o!==null&&a.Token.isTokenDelimiter(o,this.parserOptions)?(l.push(""),c.nextNonSpaceToken):o}shouldSkipColumnParse(c,l,o){const{parserOptions:u}=this;if(a.Token.isTokenDelimiter(l,u)){c.advancePastToken(l);const f=c.nextCharacterToken;if(!c.hasMoreCharacters||f!==null&&a.Token.isTokenRowDelimiter(f)||f!==null&&a.Token.isTokenDelimiter(f,u))return o.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;const s=e("./Token"),a=/((?:\r\n)|\n|\r)/;i.Scanner=class{constructor(c){this.cursor=0,this.line=c.line,this.lineLength=this.line.length,this.parserOptions=c.parserOptions,this.hasMoreData=c.hasMoreData,this.cursor=c.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:c}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(c.search(l)===-1)return null;const o=l.exec(c);if(o==null)return null;const u=o[1],f=this.cursor+(o.index||0);return new s.Token({token:u,startCursor:f,endCursor:f+u.length-1})}get nextCharacterToken(){const{cursor:c,lineLength:l}=this;return l<=c?null:new s.Token({token:this.line[c],startCursor:c,endCursor:c})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const c=a.exec(this.lineFromCursor);return c?(this.cursor+=(c.index||0)+c[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(c){return this.cursor=c,this}advanceToToken(c){return this.cursor=c.startCursor,this}advancePastToken(c){return this.cursor=c.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0,i.Token=class{constructor(s){this.token=s.token,this.startCursor=s.startCursor,this.endCursor=s.endCursor}static isTokenRowDelimiter(s){const a=s.token;return a==="\r"||a===`
`||a===`\r
`}static isTokenCarriageReturn(s,a){return s.token===a.carriageReturn}static isTokenComment(s,a){return a.supportsComments&&!!s&&s.token===a.comment}static isTokenEscapeCharacter(s,a){return s.token===a.escapeChar}static isTokenQuote(s,a){return s.token===a.quote}static isTokenDelimiter(s,a){return s.token===a.delimiter}}},{}],160:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=class{constructor(s){s.trim?this.format=a=>a.trim():s.ltrim?this.format=a=>a.trimLeft():s.rtrim?this.format=a=>a.trimRight():this.format=a=>a}}},{}],161:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;const s=e("./NonQuotedColumnParser"),a=e("./QuotedColumnParser"),c=e("../Token");i.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new a.QuotedColumnParser(l),this.nonQuotedColumnParser=new s.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:o}=l;return o!==null&&c.Token.isTokenQuote(o,this.parserOptions)?(l.advanceToToken(o),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;const s=e("./ColumnFormatter"),a=e("../Token");i.NonQuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new s.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const{parserOptions:l}=this,o=[];let u=c.nextCharacterToken;for(;u&&!a.Token.isTokenDelimiter(u,l)&&!a.Token.isTokenRowDelimiter(u);u=c.nextCharacterToken)o.push(u.token),c.advancePastToken(u);return this.columnFormatter.format(o.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;const s=e("./ColumnFormatter"),a=e("../Token");i.QuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new s.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const l=c.cursor,{foundClosingQuote:o,col:u}=this.gatherDataBetweenQuotes(c);if(!o){if(c.advanceTo(l),!c.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${c.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(c),u}gatherDataBetweenQuotes(c){const{parserOptions:l}=this;let o=!1,u=!1;const f=[];let d=c.nextCharacterToken;for(;!u&&d!==null;d=c.nextCharacterToken){const h=a.Token.isTokenQuote(d,l);if(!o&&h)o=!0;else if(o)if(a.Token.isTokenEscapeCharacter(d,l)){c.advancePastToken(d);const g=c.nextCharacterToken;g!==null&&(a.Token.isTokenQuote(g,l)||a.Token.isTokenEscapeCharacter(g,l))?(f.push(g.token),d=g):h?u=!0:f.push(d.token)}else h?u=!0:f.push(d.token);c.advancePastToken(d)}return{col:this.columnFormatter.format(f.join("")),foundClosingQuote:u}}checkForMalformedColumn(c){const{parserOptions:l}=this,{nextNonSpaceToken:o}=c;if(o){const u=a.Token.isTokenDelimiter(o,l),f=a.Token.isTokenRowDelimiter(o);if(!u&&!f){const d=c.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${o.token}'. at '${d}`)}c.advanceToToken(o)}else c.hasMoreData||c.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=void 0;var s=e("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return s.ColumnParser}});var a=e("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}});var c=e("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}});var l=e("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=i.Token=i.Scanner=i.RowParser=i.Parser=void 0;var s=e("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return s.Parser}});var a=e("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return a.RowParser}});var c=e("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return c.Scanner}});var l=e("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return l.Token}});var o=e("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return o.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,n,i){var s=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;const a=s(e("lodash.isundefined")),c=s(e("lodash.isfunction")),l=s(e("lodash.uniq")),o=s(e("lodash.groupby"));i.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):c.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,f){return this.shouldMapRow(u)?f(null,this.processRow(u)):f(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:f}=this;if(!this.headersTransform&&f.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:f}=this;if(!f.discardUnmappedColumns&&u.length>this.headersLength){if(!f.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return f.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const f={},{headers:d,headersLength:h}=this;for(let g=0;g<h;g+=1){const b=d[g];if(!a.default(b)){const m=u[g];a.default(m)?f[b]="":f[b]=m}}return f}setHeaders(u){var f;const d=u.filter(h=>!!h);if(l.default(d).length!==d.length){const h=o.default(d),g=Object.keys(h).filter(b=>h[b].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((f=this.headers)===null||f===void 0?void 0:f.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,n,i){var s=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;const a=s(e("lodash.isfunction")),c=e("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return c.isSyncTransform(u)?(f,d)=>{let h=null;try{h=u(f)}catch(g){return d(g)}return d(null,h)}:u}static createValidator(u){return c.isSyncValidate(u)?(f,d)=>{d(null,{row:f,isValid:u(f)})}:(f,d)=>{u(f,(h,g,b)=>h?d(h):d(null,g?{row:f,isValid:g,reason:b}:{row:f,isValid:!1,reason:b}))}}set rowTransform(u){if(!a.default(u))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(u)}set rowValidator(u){if(!a.default(u))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(u)}transformAndValidate(u,f){return this.callTransformer(u,(d,h)=>d?f(d):h?this.callValidator(h,(g,b)=>g?f(g):b&&!b.isValid?f(null,{row:h,isValid:!1,reason:b.reason}):f(null,{row:h,isValid:!0})):f(null,{row:null,isValid:!0}))}callTransformer(u,f){return this._rowTransform?this._rowTransform(u,f):f(null,u)}callValidator(u,f){return this._rowValidator?this._rowValidator(u,f):f(null,{row:u,isValid:!0})}}i.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=i.RowTransformerValidator=void 0;var s=e("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return s.RowTransformerValidator}});var a=e("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return a.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1,i.isSyncValidate=s=>s.length===1},{}],170:[function(e,n,i){const s=i;s.bignum=e("bn.js"),s.define=e("./asn1/api").define,s.base=e("./asn1/base"),s.constants=e("./asn1/constants"),s.decoders=e("./asn1/decoders"),s.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,n,i){const s=e("./encoders"),a=e("./decoders"),c=e("inherits");function l(o,u){this.name=o,this.body=u,this.decoders={},this.encoders={}}i.define=function(o,u){return new l(o,u)},l.prototype._createNamed=function(o){const u=this.name;function f(d){this._initNamed(d,u)}return c(f,o),f.prototype._initNamed=function(d,h){o.call(this,d,h)},new f(this)},l.prototype._getDecoder=function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(a[o])),this.decoders[o]},l.prototype.decode=function(o,u,f){return this._getDecoder(u).decode(o,f)},l.prototype._getEncoder=function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(s[o])),this.encoders[o]},l.prototype.encode=function(o,u,f){return this._getEncoder(u).encode(o,f)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,n,i){const s=e("inherits"),a=e("../base/reporter").Reporter,c=e("safer-buffer").Buffer;function l(u,f){a.call(this,f),c.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function o(u,f){if(Array.isArray(u))this.length=0,this.value=u.map(function(d){return o.isEncoderBuffer(d)||(d=new o(d,f)),this.length+=d.length,d},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return f.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=c.byteLength(u);else{if(!c.isBuffer(u))return f.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}s(l,a),i.DecoderBuffer=l,l.isDecoderBuffer=function(u){return u instanceof l?!0:typeof u=="object"&&c.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},l.prototype.restore=function(u){const f=new l(this.base);return f.offset=u.offset,f.length=this.offset,this.offset=u.offset,a.prototype.restore.call(this,u.reporter),f},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},l.prototype.skip=function(u,f){if(!(this.offset+u<=this.length))return this.error(f||"DecoderBuffer overrun");const d=new l(this.base);return d._reporterState=this._reporterState,d.offset=this.offset,d.length=this.offset+u,this.offset+=u,d},l.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},i.EncoderBuffer=o,o.isEncoderBuffer=function(u){return u instanceof o?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},o.prototype.join=function(u,f){return u||(u=c.alloc(this.length)),f||(f=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(d){d.join(u,f),f+=d.length}):(typeof this.value=="number"?u[f]=this.value:typeof this.value=="string"?u.write(this.value,f):c.isBuffer(this.value)&&this.value.copy(u,f),f+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,n,i){const s=i;s.Reporter=e("./reporter").Reporter,s.DecoderBuffer=e("./buffer").DecoderBuffer,s.EncoderBuffer=e("./buffer").EncoderBuffer,s.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,n,i){const s=e("../base/reporter").Reporter,a=e("../base/buffer").EncoderBuffer,c=e("../base/buffer").DecoderBuffer,l=e("minimalistic-assert"),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function f(h,g,b){const m={};this._baseState=m,m.name=b,m.enc=h,m.parent=g||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}n.exports=f;const d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){const h=this._baseState,g={};d.forEach(function(m){g[m]=h[m]});const b=new this.constructor(g.parent);return b._baseState=g,b},f.prototype._wrap=function(){const h=this._baseState;u.forEach(function(g){this[g]=function(){const b=new this.constructor(this);return h.children.push(b),b[g].apply(b,arguments)}},this)},f.prototype._init=function(h){const g=this._baseState;l(g.parent===null),h.call(this),g.children=g.children.filter(function(b){return b._baseState.parent===this},this),l.equal(g.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(h){const g=this._baseState,b=h.filter(function(m){return m instanceof this.constructor},this);h=h.filter(function(m){return!(m instanceof this.constructor)},this),b.length!==0&&(l(g.children===null),g.children=b,b.forEach(function(m){m._baseState.parent=this},this)),h.length!==0&&(l(g.args===null),g.args=h,g.reverseArgs=h.map(function(m){if(typeof m!="object"||m.constructor!==Object)return m;const v={};return Object.keys(m).forEach(function(y){y==(0|y)&&(y|=0);const w=m[y];v[w]=y}),v}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(h){f.prototype[h]=function(){const g=this._baseState;throw new Error(h+" not implemented for encoding: "+g.enc)}}),o.forEach(function(h){f.prototype[h]=function(){const g=this._baseState,b=Array.prototype.slice.call(arguments);return l(g.tag===null),g.tag=h,this._useArgs(b),this}}),f.prototype.use=function(h){l(h);const g=this._baseState;return l(g.use===null),g.use=h,this},f.prototype.optional=function(){return this._baseState.optional=!0,this},f.prototype.def=function(h){const g=this._baseState;return l(g.default===null),g.default=h,g.optional=!0,this},f.prototype.explicit=function(h){const g=this._baseState;return l(g.explicit===null&&g.implicit===null),g.explicit=h,this},f.prototype.implicit=function(h){const g=this._baseState;return l(g.explicit===null&&g.implicit===null),g.implicit=h,this},f.prototype.obj=function(){const h=this._baseState,g=Array.prototype.slice.call(arguments);return h.obj=!0,g.length!==0&&this._useArgs(g),this},f.prototype.key=function(h){const g=this._baseState;return l(g.key===null),g.key=h,this},f.prototype.any=function(){return this._baseState.any=!0,this},f.prototype.choice=function(h){const g=this._baseState;return l(g.choice===null),g.choice=h,this._useArgs(Object.keys(h).map(function(b){return h[b]})),this},f.prototype.contains=function(h){const g=this._baseState;return l(g.use===null),g.contains=h,this},f.prototype._decode=function(h,g){const b=this._baseState;if(b.parent===null)return h.wrapResult(b.children[0]._decode(h,g));let m,v=b.default,y=!0,w=null;if(b.key!==null&&(w=h.enterKey(b.key)),b.optional){let T=null;if(b.explicit!==null?T=b.explicit:b.implicit!==null?T=b.implicit:b.tag!==null&&(T=b.tag),T!==null||b.any){if(y=this._peekTag(h,T,b.any),h.isError(y))return y}else{const I=h.save();try{b.choice===null?this._decodeGeneric(b.tag,h,g):this._decodeChoice(h,g),y=!0}catch{y=!1}h.restore(I)}}if(b.obj&&y&&(m=h.enterObject()),y){if(b.explicit!==null){const I=this._decodeTag(h,b.explicit);if(h.isError(I))return I;h=I}const T=h.offset;if(b.use===null&&b.choice===null){let I;b.any&&(I=h.save());const V=this._decodeTag(h,b.implicit!==null?b.implicit:b.tag,b.any);if(h.isError(V))return V;b.any?v=h.raw(I):h=V}if(g&&g.track&&b.tag!==null&&g.track(h.path(),T,h.length,"tagged"),g&&g.track&&b.tag!==null&&g.track(h.path(),h.offset,h.length,"content"),b.any||(v=b.choice===null?this._decodeGeneric(b.tag,h,g):this._decodeChoice(h,g)),h.isError(v))return v;if(b.any||b.choice!==null||b.children===null||b.children.forEach(function(I){I._decode(h,g)}),b.contains&&(b.tag==="octstr"||b.tag==="bitstr")){const I=new c(v);v=this._getUse(b.contains,h._reporterState.obj)._decode(I,g)}}return b.obj&&y&&(v=h.leaveObject(m)),b.key===null||v===null&&y!==!0?w!==null&&h.exitKey(w):h.leaveKey(w,b.key,v),v},f.prototype._decodeGeneric=function(h,g,b){const m=this._baseState;return h==="seq"||h==="set"?null:h==="seqof"||h==="setof"?this._decodeList(g,h,m.args[0],b):/str$/.test(h)?this._decodeStr(g,h,b):h==="objid"&&m.args?this._decodeObjid(g,m.args[0],m.args[1],b):h==="objid"?this._decodeObjid(g,null,null,b):h==="gentime"||h==="utctime"?this._decodeTime(g,h,b):h==="null_"?this._decodeNull(g,b):h==="bool"?this._decodeBool(g,b):h==="objDesc"?this._decodeStr(g,h,b):h==="int"||h==="enum"?this._decodeInt(g,m.args&&m.args[0],b):m.use!==null?this._getUse(m.use,g._reporterState.obj)._decode(g,b):g.error("unknown tag: "+h)},f.prototype._getUse=function(h,g){const b=this._baseState;return b.useDecoder=this._use(h,g),l(b.useDecoder._baseState.parent===null),b.useDecoder=b.useDecoder._baseState.children[0],b.implicit!==b.useDecoder._baseState.implicit&&(b.useDecoder=b.useDecoder.clone(),b.useDecoder._baseState.implicit=b.implicit),b.useDecoder},f.prototype._decodeChoice=function(h,g){const b=this._baseState;let m=null,v=!1;return Object.keys(b.choice).some(function(y){const w=h.save(),T=b.choice[y];try{const I=T._decode(h,g);if(h.isError(I))return!1;m={type:y,value:I},v=!0}catch{return h.restore(w),!1}return!0},this),v?m:h.error("Choice not matched")},f.prototype._createEncoderBuffer=function(h){return new a(h,this.reporter)},f.prototype._encode=function(h,g,b){const m=this._baseState;if(m.default!==null&&m.default===h)return;const v=this._encodeValue(h,g,b);return v===void 0||this._skipDefault(v,g,b)?void 0:v},f.prototype._encodeValue=function(h,g,b){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(h,g||new s);let v=null;if(this.reporter=g,m.optional&&h===void 0){if(m.default===null)return;h=m.default}let y=null,w=!1;if(m.any)v=this._createEncoderBuffer(h);else if(m.choice)v=this._encodeChoice(h,g);else if(m.contains)y=this._getUse(m.contains,b)._encode(h,g),w=!0;else if(m.children)y=m.children.map(function(T){if(T._baseState.tag==="null_")return T._encode(null,g,h);if(T._baseState.key===null)return g.error("Child should have a key");const I=g.enterKey(T._baseState.key);if(typeof h!="object")return g.error("Child expected, but input is not object");const V=T._encode(h[T._baseState.key],g,h);return g.leaveKey(I),V},this).filter(function(T){return T}),y=this._createEncoderBuffer(y);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return g.error("Too many args for : "+m.tag);if(!Array.isArray(h))return g.error("seqof/setof, but data is not Array");const T=this.clone();T._baseState.implicit=null,y=this._createEncoderBuffer(h.map(function(I){const V=this._baseState;return this._getUse(V.args[0],h)._encode(I,g)},T))}else m.use!==null?v=this._getUse(m.use,b)._encode(h,g):(y=this._encodePrimitive(m.tag,h),w=!0);if(!m.any&&m.choice===null){const T=m.implicit!==null?m.implicit:m.tag,I=m.implicit===null?"universal":"context";T===null?m.use===null&&g.error("Tag could be omitted only for .use()"):m.use===null&&(v=this._encodeComposite(T,w,I,y))}return m.explicit!==null&&(v=this._encodeComposite(m.explicit,!1,"context",v)),v},f.prototype._encodeChoice=function(h,g){const b=this._baseState,m=b.choice[h.type];return m||l(!1,h.type+" not found in "+JSON.stringify(Object.keys(b.choice))),m._encode(h.value,g)},f.prototype._encodePrimitive=function(h,g){const b=this._baseState;if(/str$/.test(h))return this._encodeStr(g,h);if(h==="objid"&&b.args)return this._encodeObjid(g,b.reverseArgs[0],b.args[1]);if(h==="objid")return this._encodeObjid(g,null,null);if(h==="gentime"||h==="utctime")return this._encodeTime(g,h);if(h==="null_")return this._encodeNull();if(h==="int"||h==="enum")return this._encodeInt(g,b.args&&b.reverseArgs[0]);if(h==="bool")return this._encodeBool(g);if(h==="objDesc")return this._encodeStr(g,h);throw new Error("Unsupported tag: "+h)},f.prototype._isNumstr=function(h){return/^[0-9 ]*$/.test(h)},f.prototype._isPrintstr=function(h){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(h)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,n,i){const s=e("inherits");function a(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function c(l,o){this.path=l,this.rethrow(o)}i.Reporter=a,a.prototype.isError=function(l){return l instanceof c},a.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},a.prototype.restore=function(l){const o=this._reporterState;o.obj=l.obj,o.path=o.path.slice(0,l.pathLen)},a.prototype.enterKey=function(l){return this._reporterState.path.push(l)},a.prototype.exitKey=function(l){const o=this._reporterState;o.path=o.path.slice(0,l-1)},a.prototype.leaveKey=function(l,o,u){const f=this._reporterState;this.exitKey(l),f.obj!==null&&(f.obj[o]=u)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){const l=this._reporterState,o=l.obj;return l.obj={},o},a.prototype.leaveObject=function(l){const o=this._reporterState,u=o.obj;return o.obj=l,u},a.prototype.error=function(l){let o;const u=this._reporterState,f=l instanceof c;if(o=f?l:new c(u.path.map(function(d){return"["+JSON.stringify(d)+"]"}).join(""),l.message||l,l.stack),!u.options.partial)throw o;return f||u.errors.push(o),o},a.prototype.wrapResult=function(l){const o=this._reporterState;return o.options.partial?{result:this.isError(l)?null:l,errors:o.errors}:l},s(c,Error),c.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,c),!this.stack)try{throw new Error(this.message)}catch(o){this.stack=o.stack}return this}},{inherits:440}],176:[function(e,n,i){function s(a){const c={};return Object.keys(a).forEach(function(l){(0|l)==l&&(l|=0);const o=a[l];c[o]=l}),c}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=s(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=s(i.tag)},{}],177:[function(e,n,i){const s=i;s._reverse=function(a){const c={};return Object.keys(a).forEach(function(l){(0|l)==l&&(l|=0);const o=a[l];c[o]=l}),c},s.der=e("./der")},{"./der":176}],178:[function(e,n,i){const s=e("inherits"),a=e("bn.js"),c=e("../base/buffer").DecoderBuffer,l=e("../base/node"),o=e("../constants/der");function u(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new f,this.tree._init(g.body)}function f(g){l.call(this,"der",g)}function d(g,b){let m=g.readUInt8(b);if(g.isError(m))return m;const v=o.tagClass[m>>6],y=(32&m)==0;if((31&m)==31){let w=m;for(m=0;(128&w)==128;){if(w=g.readUInt8(b),g.isError(w))return w;m<<=7,m|=127&w}}else m&=31;return{cls:v,primitive:y,tag:m,tagStr:o.tag[m]}}function h(g,b,m){let v=g.readUInt8(m);if(g.isError(v))return v;if(!b&&v===128)return null;if(!(128&v))return v;const y=127&v;if(y>4)return g.error("length octect is too long");v=0;for(let w=0;w<y;w++){v<<=8;const T=g.readUInt8(m);if(g.isError(T))return T;v|=T}return v}n.exports=u,u.prototype.decode=function(g,b){return c.isDecoderBuffer(g)||(g=new c(g,b)),this.tree._decode(g,b)},s(f,l),f.prototype._peekTag=function(g,b,m){if(g.isEmpty())return!1;const v=g.save(),y=d(g,'Failed to peek tag: "'+b+'"');return g.isError(y)?y:(g.restore(v),y.tag===b||y.tagStr===b||y.tagStr+"of"===b||m)},f.prototype._decodeTag=function(g,b,m){const v=d(g,'Failed to decode tag of "'+b+'"');if(g.isError(v))return v;let y=h(g,v.primitive,'Failed to get length of "'+b+'"');if(g.isError(y))return y;if(!m&&v.tag!==b&&v.tagStr!==b&&v.tagStr+"of"!==b)return g.error('Failed to match tag: "'+b+'"');if(v.primitive||y!==null)return g.skip(y,'Failed to match body of: "'+b+'"');const w=g.save(),T=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(T)?T:(y=g.offset-w.offset,g.restore(w),g.skip(y,'Failed to match body of: "'+b+'"'))},f.prototype._skipUntilEnd=function(g,b){for(;;){const m=d(g,b);if(g.isError(m))return m;const v=h(g,m.primitive,b);if(g.isError(v))return v;let y;if(y=m.primitive||v!==null?g.skip(v):this._skipUntilEnd(g,b),g.isError(y))return y;if(m.tagStr==="end")break}},f.prototype._decodeList=function(g,b,m,v){const y=[];for(;!g.isEmpty();){const w=this._peekTag(g,"end");if(g.isError(w))return w;const T=m.decode(g,"der",v);if(g.isError(T)&&w)break;y.push(T)}return y},f.prototype._decodeStr=function(g,b){if(b==="bitstr"){const m=g.readUInt8();return g.isError(m)?m:{unused:m,data:g.raw()}}if(b==="bmpstr"){const m=g.raw();if(m.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let v="";for(let y=0;y<m.length/2;y++)v+=String.fromCharCode(m.readUInt16BE(2*y));return v}if(b==="numstr"){const m=g.raw().toString("ascii");return this._isNumstr(m)?m:g.error("Decoding of string type: numstr unsupported characters")}if(b==="octstr"||b==="objDesc")return g.raw();if(b==="printstr"){const m=g.raw().toString("ascii");return this._isPrintstr(m)?m:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(b)?g.raw().toString():g.error("Decoding of string type: "+b+" unsupported")},f.prototype._decodeObjid=function(g,b,m){let v;const y=[];let w=0,T=0;for(;!g.isEmpty();)T=g.readUInt8(),w<<=7,w|=127&T,!(128&T)&&(y.push(w),w=0);128&T&&y.push(w);const I=y[0]/40|0,V=y[0]%40;if(v=m?y:[I,V].concat(y.slice(1)),b){let B=b[v.join(" ")];B===void 0&&(B=b[v.join(".")]),B!==void 0&&(v=B)}return v},f.prototype._decodeTime=function(g,b){const m=g.raw().toString();let v,y,w,T,I,V;if(b==="gentime")v=0|m.slice(0,4),y=0|m.slice(4,6),w=0|m.slice(6,8),T=0|m.slice(8,10),I=0|m.slice(10,12),V=0|m.slice(12,14);else{if(b!=="utctime")return g.error("Decoding "+b+" time is not supported yet");v=0|m.slice(0,2),y=0|m.slice(2,4),w=0|m.slice(4,6),T=0|m.slice(6,8),I=0|m.slice(8,10),V=0|m.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,y-1,w,T,I,V,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(g){const b=g.readUInt8();return g.isError(b)?b:b!==0},f.prototype._decodeInt=function(g,b){const m=g.raw();let v=new a(m);return b&&(v=b[v.toString(10)]||v),v},f.prototype._use=function(g,b){return typeof g=="function"&&(g=g(b)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,n,i){const s=i;s.der=e("./der"),s.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,n,i){const s=e("inherits"),a=e("safer-buffer").Buffer,c=e("./der");function l(o){c.call(this,o),this.enc="pem"}s(l,c),n.exports=l,l.prototype.decode=function(o,u){const f=o.toString().split(/[\r\n]+/g),d=u.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,b=-1;for(let y=0;y<f.length;y++){const w=f[y].match(h);if(w!==null&&w[2]===d){if(g!==-1){if(w[1]!=="END")break;b=y;break}if(w[1]!=="BEGIN")break;g=y}}if(g===-1||b===-1)throw new Error("PEM section not found for: "+d);const m=f.slice(g+1,b).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const v=a.from(m,"base64");return c.prototype.decode.call(this,v,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,n,i){const s=e("inherits"),a=e("safer-buffer").Buffer,c=e("../base/node"),l=e("../constants/der");function o(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new u,this.tree._init(d.body)}function u(d){c.call(this,"der",d)}function f(d){return d<10?"0"+d:d}n.exports=o,o.prototype.encode=function(d,h){return this.tree._encode(d,h).join()},s(u,c),u.prototype._encodeComposite=function(d,h,g,b){const m=function(w,T,I,V){let B;if(w==="seqof"?w="seq":w==="setof"&&(w="set"),l.tagByName.hasOwnProperty(w))B=l.tagByName[w];else{if(typeof w!="number"||(0|w)!==w)return V.error("Unknown tag: "+w);B=w}return B>=31?V.error("Multi-octet tag encoding unsupported"):(T||(B|=32),B|=l.tagClassByName[I||"universal"]<<6,B)}(d,h,g,this.reporter);if(b.length<128){const w=a.alloc(2);return w[0]=m,w[1]=b.length,this._createEncoderBuffer([w,b])}let v=1;for(let w=b.length;w>=256;w>>=8)v++;const y=a.alloc(2+v);y[0]=m,y[1]=128|v;for(let w=1+v,T=b.length;T>0;w--,T>>=8)y[w]=255&T;return this._createEncoderBuffer([y,b])},u.prototype._encodeStr=function(d,h){if(h==="bitstr")return this._createEncoderBuffer([0|d.unused,d.data]);if(h==="bmpstr"){const g=a.alloc(2*d.length);for(let b=0;b<d.length;b++)g.writeUInt16BE(d.charCodeAt(b),2*b);return this._createEncoderBuffer(g)}return h==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):h==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(h)||h==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+h+" unsupported")},u.prototype._encodeObjid=function(d,h,g){if(typeof d=="string"){if(!h)return this.reporter.error("string objid given, but no values map found");if(!h.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=h[d].split(/[\s.]+/g);for(let y=0;y<d.length;y++)d[y]|=0}else if(Array.isArray(d)){d=d.slice();for(let y=0;y<d.length;y++)d[y]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!g){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,40*d[0]+d[1])}let b=0;for(let y=0;y<d.length;y++){let w=d[y];for(b++;w>=128;w>>=7)b++}const m=a.alloc(b);let v=m.length-1;for(let y=d.length-1;y>=0;y--){let w=d[y];for(m[v--]=127&w;(w>>=7)>0;)m[v--]=128|127&w}return this._createEncoderBuffer(m)},u.prototype._encodeTime=function(d,h){let g;const b=new Date(d);return h==="gentime"?g=[f(b.getUTCFullYear()),f(b.getUTCMonth()+1),f(b.getUTCDate()),f(b.getUTCHours()),f(b.getUTCMinutes()),f(b.getUTCSeconds()),"Z"].join(""):h==="utctime"?g=[f(b.getUTCFullYear()%100),f(b.getUTCMonth()+1),f(b.getUTCDate()),f(b.getUTCHours()),f(b.getUTCMinutes()),f(b.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+h+" time is not supported yet"),this._encodeStr(g,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(d,h){if(typeof d=="string"){if(!h)return this.reporter.error("String int or enum given, but no values map");if(!h.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=h[d]}if(typeof d!="number"&&!a.isBuffer(d)){const m=d.toArray();!d.sign&&128&m[0]&&m.unshift(0),d=a.from(m)}if(a.isBuffer(d)){let m=d.length;d.length===0&&m++;const v=a.alloc(m);return d.copy(v),d.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);let g=1;for(let m=d;m>=256;m>>=8)g++;const b=new Array(g);for(let m=b.length-1;m>=0;m--)b[m]=255&d,d>>=8;return 128&b[0]&&b.unshift(0),this._createEncoderBuffer(a.from(b))},u.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},u.prototype._use=function(d,h){return typeof d=="function"&&(d=d(h)),d._getEncoder("der").tree},u.prototype._skipDefault=function(d,h,g){const b=this._baseState;let m;if(b.default===null)return!1;const v=d.join();if(b.defaultBuffer===void 0&&(b.defaultBuffer=this._encodeValue(b.default,h,g).join()),v.length!==b.defaultBuffer.length)return!1;for(m=0;m<v.length;m++)if(v[m]!==b.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,n,i){const s=i;s.der=e("./der"),s.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,n,i){const s=e("inherits"),a=e("./der");function c(l){a.call(this,l),this.enc="pem"}s(c,a),n.exports=c,c.prototype.encode=function(l,o){const u=a.prototype.encode.call(this,l).toString("base64"),f=["-----BEGIN "+o.label+"-----"];for(let d=0;d<u.length;d+=64)f.push(u.slice(d,d+64));return f.push("-----END "+o.label+"-----"),f.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,n,i){(function(s,a){function c(E,P){if(!E)throw new Error(P||"Assertion failed")}function l(E,P){E.super_=P;var N=function(){};N.prototype=P.prototype,E.prototype=new N,E.prototype.constructor=E}function o(E,P,N){if(o.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(P!=="le"&&P!=="be"||(N=P,P=10),this._init(E||0,P||10,N||"be"))}var u;typeof s=="object"?s.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function f(E,P){var N=E.charCodeAt(P);return N>=65&&N<=70?N-55:N>=97&&N<=102?N-87:N-48&15}function d(E,P,N){var x=f(E,N);return N-1>=P&&(x|=f(E,N-1)<<4),x}function h(E,P,N,x){for(var _=0,S=Math.min(E.length,N),k=P;k<S;k++){var j=E.charCodeAt(k)-48;_*=x,_+=j>=49?j-49+10:j>=17?j-17+10:j}return _}o.isBN=function(E){return E instanceof o||E!==null&&typeof E=="object"&&E.constructor.wordSize===o.wordSize&&Array.isArray(E.words)},o.max=function(E,P){return E.cmp(P)>0?E:P},o.min=function(E,P){return E.cmp(P)<0?E:P},o.prototype._init=function(E,P,N){if(typeof E=="number")return this._initNumber(E,P,N);if(typeof E=="object")return this._initArray(E,P,N);P==="hex"&&(P=16),c(P===(0|P)&&P>=2&&P<=36);var x=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(x++,this.negative=1),x<E.length&&(P===16?this._parseHex(E,x,N):(this._parseBase(E,P,x),N==="le"&&this._initArray(this.toArray(),P,N)))},o.prototype._initNumber=function(E,P,N){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(c(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),P,N)},o.prototype._initArray=function(E,P,N){if(c(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,S,k=0;if(N==="be")for(x=E.length-1,_=0;x>=0;x-=3)S=E[x]|E[x-1]<<8|E[x-2]<<16,this.words[_]|=S<<k&67108863,this.words[_+1]=S>>>26-k&67108863,(k+=24)>=26&&(k-=26,_++);else if(N==="le")for(x=0,_=0;x<E.length;x+=3)S=E[x]|E[x+1]<<8|E[x+2]<<16,this.words[_]|=S<<k&67108863,this.words[_+1]=S>>>26-k&67108863,(k+=24)>=26&&(k-=26,_++);return this.strip()},o.prototype._parseHex=function(E,P,N){this.length=Math.ceil((E.length-P)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,S=0,k=0;if(N==="be")for(x=E.length-1;x>=P;x-=2)_=d(E,P,x)<<S,this.words[k]|=67108863&_,S>=18?(S-=18,k+=1,this.words[k]|=_>>>26):S+=8;else for(x=(E.length-P)%2==0?P+1:P;x<E.length;x+=2)_=d(E,P,x)<<S,this.words[k]|=67108863&_,S>=18?(S-=18,k+=1,this.words[k]|=_>>>26):S+=8;this.strip()},o.prototype._parseBase=function(E,P,N){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=P)x++;x--,_=_/P|0;for(var S=E.length-N,k=S%x,j=Math.min(S,S-k)+N,L=0,D=N;D<j;D+=x)L=h(E,D,D+x,P),this.imuln(_),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L);if(k!==0){var q=1;for(L=h(E,D,E.length,P),D=0;D<k;D++)q*=P;this.imuln(q),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L)}this.strip()},o.prototype.copy=function(E){E.words=new Array(this.length);for(var P=0;P<this.length;P++)E.words[P]=this.words[P];E.length=this.length,E.negative=this.negative,E.red=this.red},o.prototype.clone=function(){var E=new o(null);return this.copy(E),E},o.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(E,P,N){N.negative=P.negative^E.negative;var x=E.length+P.length|0;N.length=x,x=x-1|0;var _=0|E.words[0],S=0|P.words[0],k=_*S,j=67108863&k,L=k/67108864|0;N.words[0]=j;for(var D=1;D<x;D++){for(var q=L>>>26,W=67108863&L,Q=Math.min(D,P.length-1),z=Math.max(0,D-E.length+1);z<=Q;z++){var K=D-z|0;q+=(k=(_=0|E.words[K])*(S=0|P.words[z])+W)/67108864|0,W=67108863&k}N.words[D]=0|W,L=0|q}return L!==0?N.words[D]=0|L:N.length--,N.strip()}o.prototype.toString=function(E,P){var N;if(P=0|P||1,(E=E||10)===16||E==="hex"){N="";for(var x=0,_=0,S=0;S<this.length;S++){var k=this.words[S],j=(16777215&(k<<x|_)).toString(16);N=(_=k>>>24-x&16777215)!==0||S!==this.length-1?g[6-j.length]+j+N:j+N,(x+=2)>=26&&(x-=26,S--)}for(_!==0&&(N=_.toString(16)+N);N.length%P!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(E===(0|E)&&E>=2&&E<=36){var L=b[E],D=m[E];N="";var q=this.clone();for(q.negative=0;!q.isZero();){var W=q.modn(D).toString(E);N=(q=q.idivn(D)).isZero()?W+N:g[L-W.length]+W+N}for(this.isZero()&&(N="0"+N);N.length%P!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}c(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(E,P){return c(u!==void 0),this.toArrayLike(u,E,P)},o.prototype.toArray=function(E,P){return this.toArrayLike(Array,E,P)},o.prototype.toArrayLike=function(E,P,N){var x=this.byteLength(),_=N||Math.max(1,x);c(x<=_,"byte array longer than desired length"),c(_>0,"Requested array length <= 0"),this.strip();var S,k,j=P==="le",L=new E(_),D=this.clone();if(j){for(k=0;!D.isZero();k++)S=D.andln(255),D.iushrn(8),L[k]=S;for(;k<_;k++)L[k]=0}else{for(k=0;k<_-x;k++)L[k]=0;for(k=0;!D.isZero();k++)S=D.andln(255),D.iushrn(8),L[_-k-1]=S}return L},Math.clz32?o.prototype._countBits=function(E){return 32-Math.clz32(E)}:o.prototype._countBits=function(E){var P=E,N=0;return P>=4096&&(N+=13,P>>>=13),P>=64&&(N+=7,P>>>=7),P>=8&&(N+=4,P>>>=4),P>=2&&(N+=2,P>>>=2),N+P},o.prototype._zeroBits=function(E){if(E===0)return 26;var P=E,N=0;return!(8191&P)&&(N+=13,P>>>=13),!(127&P)&&(N+=7,P>>>=7),!(15&P)&&(N+=4,P>>>=4),!(3&P)&&(N+=2,P>>>=2),!(1&P)&&N++,N},o.prototype.bitLength=function(){var E=this.words[this.length-1],P=this._countBits(E);return 26*(this.length-1)+P},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,P=0;P<this.length;P++){var N=this._zeroBits(this.words[P]);if(E+=N,N!==26)break}return E},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},o.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var P=0;P<E.length;P++)this.words[P]=this.words[P]|E.words[P];return this.strip()},o.prototype.ior=function(E){return c((this.negative|E.negative)==0),this.iuor(E)},o.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},o.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},o.prototype.iuand=function(E){var P;P=this.length>E.length?E:this;for(var N=0;N<P.length;N++)this.words[N]=this.words[N]&E.words[N];return this.length=P.length,this.strip()},o.prototype.iand=function(E){return c((this.negative|E.negative)==0),this.iuand(E)},o.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},o.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},o.prototype.iuxor=function(E){var P,N;this.length>E.length?(P=this,N=E):(P=E,N=this);for(var x=0;x<N.length;x++)this.words[x]=P.words[x]^N.words[x];if(this!==P)for(;x<P.length;x++)this.words[x]=P.words[x];return this.length=P.length,this.strip()},o.prototype.ixor=function(E){return c((this.negative|E.negative)==0),this.iuxor(E)},o.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},o.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},o.prototype.inotn=function(E){c(typeof E=="number"&&E>=0);var P=0|Math.ceil(E/26),N=E%26;this._expand(P),N>0&&P--;for(var x=0;x<P;x++)this.words[x]=67108863&~this.words[x];return N>0&&(this.words[x]=~this.words[x]&67108863>>26-N),this.strip()},o.prototype.notn=function(E){return this.clone().inotn(E)},o.prototype.setn=function(E,P){c(typeof E=="number"&&E>=0);var N=E/26|0,x=E%26;return this._expand(N+1),this.words[N]=P?this.words[N]|1<<x:this.words[N]&~(1<<x),this.strip()},o.prototype.iadd=function(E){var P,N,x;if(this.negative!==0&&E.negative===0)return this.negative=0,P=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,P=this.isub(E),E.negative=1,P._normSign();this.length>E.length?(N=this,x=E):(N=E,x=this);for(var _=0,S=0;S<x.length;S++)P=(0|N.words[S])+(0|x.words[S])+_,this.words[S]=67108863&P,_=P>>>26;for(;_!==0&&S<N.length;S++)P=(0|N.words[S])+_,this.words[S]=67108863&P,_=P>>>26;if(this.length=N.length,_!==0)this.words[this.length]=_,this.length++;else if(N!==this)for(;S<N.length;S++)this.words[S]=N.words[S];return this},o.prototype.add=function(E){var P;return E.negative!==0&&this.negative===0?(E.negative=0,P=this.sub(E),E.negative^=1,P):E.negative===0&&this.negative!==0?(this.negative=0,P=E.sub(this),this.negative=1,P):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},o.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var P=this.iadd(E);return E.negative=1,P._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var N,x,_=this.cmp(E);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;_>0?(N=this,x=E):(N=E,x=this);for(var S=0,k=0;k<x.length;k++)S=(P=(0|N.words[k])-(0|x.words[k])+S)>>26,this.words[k]=67108863&P;for(;S!==0&&k<N.length;k++)S=(P=(0|N.words[k])+S)>>26,this.words[k]=67108863&P;if(S===0&&k<N.length&&N!==this)for(;k<N.length;k++)this.words[k]=N.words[k];return this.length=Math.max(this.length,k),N!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(E){return this.clone().isub(E)};var y=function(E,P,N){var x,_,S,k=E.words,j=P.words,L=N.words,D=0,q=0|k[0],W=8191&q,Q=q>>>13,z=0|k[1],K=8191&z,O=z>>>13,R=0|k[2],H=8191&R,Y=R>>>13,J=0|k[3],Z=8191&J,te=J>>>13,oe=0|k[4],le=8191&oe,ee=oe>>>13,se=0|k[5],ie=8191&se,ue=se>>>13,ce=0|k[6],fe=8191&ce,ge=ce>>>13,ye=0|k[7],we=8191&ye,Ne=ye>>>13,Ee=0|k[8],Ie=8191&Ee,qe=Ee>>>13,$e=0|k[9],We=8191&$e,Ve=$e>>>13,Oe=0|j[0],Ce=8191&Oe,De=Oe>>>13,ze=0|j[1],Le=8191&ze,gt=ze>>>13,Ct=0|j[2],Ge=8191&Ct,bt=Ct>>>13,mt=0|j[3],nt=8191&mt,_t=mt>>>13,St=0|j[4],Ke=8191&St,vt=St>>>13,Et=0|j[5],tt=8191&Et,at=Et>>>13,Ot=0|j[6],it=8191&Ot,ae=Ot>>>13,he=0|j[7],ve=8191&he,Ae=he>>>13,Je=0|j[8],Pe=8191&Je,et=Je>>>13,Ye=0|j[9],He=8191&Ye,st=Ye>>>13;N.negative=E.negative^P.negative,N.length=19;var Xe=(D+(x=Math.imul(W,Ce))|0)+((8191&(_=(_=Math.imul(W,De))+Math.imul(Q,Ce)|0))<<13)|0;D=((S=Math.imul(Q,De))+(_>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,x=Math.imul(K,Ce),_=(_=Math.imul(K,De))+Math.imul(O,Ce)|0,S=Math.imul(O,De);var ft=(D+(x=x+Math.imul(W,Le)|0)|0)+((8191&(_=(_=_+Math.imul(W,gt)|0)+Math.imul(Q,Le)|0))<<13)|0;D=((S=S+Math.imul(Q,gt)|0)+(_>>>13)|0)+(ft>>>26)|0,ft&=67108863,x=Math.imul(H,Ce),_=(_=Math.imul(H,De))+Math.imul(Y,Ce)|0,S=Math.imul(Y,De),x=x+Math.imul(K,Le)|0,_=(_=_+Math.imul(K,gt)|0)+Math.imul(O,Le)|0,S=S+Math.imul(O,gt)|0;var Gt=(D+(x=x+Math.imul(W,Ge)|0)|0)+((8191&(_=(_=_+Math.imul(W,bt)|0)+Math.imul(Q,Ge)|0))<<13)|0;D=((S=S+Math.imul(Q,bt)|0)+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,x=Math.imul(Z,Ce),_=(_=Math.imul(Z,De))+Math.imul(te,Ce)|0,S=Math.imul(te,De),x=x+Math.imul(H,Le)|0,_=(_=_+Math.imul(H,gt)|0)+Math.imul(Y,Le)|0,S=S+Math.imul(Y,gt)|0,x=x+Math.imul(K,Ge)|0,_=(_=_+Math.imul(K,bt)|0)+Math.imul(O,Ge)|0,S=S+Math.imul(O,bt)|0;var Vt=(D+(x=x+Math.imul(W,nt)|0)|0)+((8191&(_=(_=_+Math.imul(W,_t)|0)+Math.imul(Q,nt)|0))<<13)|0;D=((S=S+Math.imul(Q,_t)|0)+(_>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,x=Math.imul(le,Ce),_=(_=Math.imul(le,De))+Math.imul(ee,Ce)|0,S=Math.imul(ee,De),x=x+Math.imul(Z,Le)|0,_=(_=_+Math.imul(Z,gt)|0)+Math.imul(te,Le)|0,S=S+Math.imul(te,gt)|0,x=x+Math.imul(H,Ge)|0,_=(_=_+Math.imul(H,bt)|0)+Math.imul(Y,Ge)|0,S=S+Math.imul(Y,bt)|0,x=x+Math.imul(K,nt)|0,_=(_=_+Math.imul(K,_t)|0)+Math.imul(O,nt)|0,S=S+Math.imul(O,_t)|0;var Zt=(D+(x=x+Math.imul(W,Ke)|0)|0)+((8191&(_=(_=_+Math.imul(W,vt)|0)+Math.imul(Q,Ke)|0))<<13)|0;D=((S=S+Math.imul(Q,vt)|0)+(_>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,x=Math.imul(ie,Ce),_=(_=Math.imul(ie,De))+Math.imul(ue,Ce)|0,S=Math.imul(ue,De),x=x+Math.imul(le,Le)|0,_=(_=_+Math.imul(le,gt)|0)+Math.imul(ee,Le)|0,S=S+Math.imul(ee,gt)|0,x=x+Math.imul(Z,Ge)|0,_=(_=_+Math.imul(Z,bt)|0)+Math.imul(te,Ge)|0,S=S+Math.imul(te,bt)|0,x=x+Math.imul(H,nt)|0,_=(_=_+Math.imul(H,_t)|0)+Math.imul(Y,nt)|0,S=S+Math.imul(Y,_t)|0,x=x+Math.imul(K,Ke)|0,_=(_=_+Math.imul(K,vt)|0)+Math.imul(O,Ke)|0,S=S+Math.imul(O,vt)|0;var nr=(D+(x=x+Math.imul(W,tt)|0)|0)+((8191&(_=(_=_+Math.imul(W,at)|0)+Math.imul(Q,tt)|0))<<13)|0;D=((S=S+Math.imul(Q,at)|0)+(_>>>13)|0)+(nr>>>26)|0,nr&=67108863,x=Math.imul(fe,Ce),_=(_=Math.imul(fe,De))+Math.imul(ge,Ce)|0,S=Math.imul(ge,De),x=x+Math.imul(ie,Le)|0,_=(_=_+Math.imul(ie,gt)|0)+Math.imul(ue,Le)|0,S=S+Math.imul(ue,gt)|0,x=x+Math.imul(le,Ge)|0,_=(_=_+Math.imul(le,bt)|0)+Math.imul(ee,Ge)|0,S=S+Math.imul(ee,bt)|0,x=x+Math.imul(Z,nt)|0,_=(_=_+Math.imul(Z,_t)|0)+Math.imul(te,nt)|0,S=S+Math.imul(te,_t)|0,x=x+Math.imul(H,Ke)|0,_=(_=_+Math.imul(H,vt)|0)+Math.imul(Y,Ke)|0,S=S+Math.imul(Y,vt)|0,x=x+Math.imul(K,tt)|0,_=(_=_+Math.imul(K,at)|0)+Math.imul(O,tt)|0,S=S+Math.imul(O,at)|0;var _r=(D+(x=x+Math.imul(W,it)|0)|0)+((8191&(_=(_=_+Math.imul(W,ae)|0)+Math.imul(Q,it)|0))<<13)|0;D=((S=S+Math.imul(Q,ae)|0)+(_>>>13)|0)+(_r>>>26)|0,_r&=67108863,x=Math.imul(we,Ce),_=(_=Math.imul(we,De))+Math.imul(Ne,Ce)|0,S=Math.imul(Ne,De),x=x+Math.imul(fe,Le)|0,_=(_=_+Math.imul(fe,gt)|0)+Math.imul(ge,Le)|0,S=S+Math.imul(ge,gt)|0,x=x+Math.imul(ie,Ge)|0,_=(_=_+Math.imul(ie,bt)|0)+Math.imul(ue,Ge)|0,S=S+Math.imul(ue,bt)|0,x=x+Math.imul(le,nt)|0,_=(_=_+Math.imul(le,_t)|0)+Math.imul(ee,nt)|0,S=S+Math.imul(ee,_t)|0,x=x+Math.imul(Z,Ke)|0,_=(_=_+Math.imul(Z,vt)|0)+Math.imul(te,Ke)|0,S=S+Math.imul(te,vt)|0,x=x+Math.imul(H,tt)|0,_=(_=_+Math.imul(H,at)|0)+Math.imul(Y,tt)|0,S=S+Math.imul(Y,at)|0,x=x+Math.imul(K,it)|0,_=(_=_+Math.imul(K,ae)|0)+Math.imul(O,it)|0,S=S+Math.imul(O,ae)|0;var ne=(D+(x=x+Math.imul(W,ve)|0)|0)+((8191&(_=(_=_+Math.imul(W,Ae)|0)+Math.imul(Q,ve)|0))<<13)|0;D=((S=S+Math.imul(Q,Ae)|0)+(_>>>13)|0)+(ne>>>26)|0,ne&=67108863,x=Math.imul(Ie,Ce),_=(_=Math.imul(Ie,De))+Math.imul(qe,Ce)|0,S=Math.imul(qe,De),x=x+Math.imul(we,Le)|0,_=(_=_+Math.imul(we,gt)|0)+Math.imul(Ne,Le)|0,S=S+Math.imul(Ne,gt)|0,x=x+Math.imul(fe,Ge)|0,_=(_=_+Math.imul(fe,bt)|0)+Math.imul(ge,Ge)|0,S=S+Math.imul(ge,bt)|0,x=x+Math.imul(ie,nt)|0,_=(_=_+Math.imul(ie,_t)|0)+Math.imul(ue,nt)|0,S=S+Math.imul(ue,_t)|0,x=x+Math.imul(le,Ke)|0,_=(_=_+Math.imul(le,vt)|0)+Math.imul(ee,Ke)|0,S=S+Math.imul(ee,vt)|0,x=x+Math.imul(Z,tt)|0,_=(_=_+Math.imul(Z,at)|0)+Math.imul(te,tt)|0,S=S+Math.imul(te,at)|0,x=x+Math.imul(H,it)|0,_=(_=_+Math.imul(H,ae)|0)+Math.imul(Y,it)|0,S=S+Math.imul(Y,ae)|0,x=x+Math.imul(K,ve)|0,_=(_=_+Math.imul(K,Ae)|0)+Math.imul(O,ve)|0,S=S+Math.imul(O,Ae)|0;var pe=(D+(x=x+Math.imul(W,Pe)|0)|0)+((8191&(_=(_=_+Math.imul(W,et)|0)+Math.imul(Q,Pe)|0))<<13)|0;D=((S=S+Math.imul(Q,et)|0)+(_>>>13)|0)+(pe>>>26)|0,pe&=67108863,x=Math.imul(We,Ce),_=(_=Math.imul(We,De))+Math.imul(Ve,Ce)|0,S=Math.imul(Ve,De),x=x+Math.imul(Ie,Le)|0,_=(_=_+Math.imul(Ie,gt)|0)+Math.imul(qe,Le)|0,S=S+Math.imul(qe,gt)|0,x=x+Math.imul(we,Ge)|0,_=(_=_+Math.imul(we,bt)|0)+Math.imul(Ne,Ge)|0,S=S+Math.imul(Ne,bt)|0,x=x+Math.imul(fe,nt)|0,_=(_=_+Math.imul(fe,_t)|0)+Math.imul(ge,nt)|0,S=S+Math.imul(ge,_t)|0,x=x+Math.imul(ie,Ke)|0,_=(_=_+Math.imul(ie,vt)|0)+Math.imul(ue,Ke)|0,S=S+Math.imul(ue,vt)|0,x=x+Math.imul(le,tt)|0,_=(_=_+Math.imul(le,at)|0)+Math.imul(ee,tt)|0,S=S+Math.imul(ee,at)|0,x=x+Math.imul(Z,it)|0,_=(_=_+Math.imul(Z,ae)|0)+Math.imul(te,it)|0,S=S+Math.imul(te,ae)|0,x=x+Math.imul(H,ve)|0,_=(_=_+Math.imul(H,Ae)|0)+Math.imul(Y,ve)|0,S=S+Math.imul(Y,Ae)|0,x=x+Math.imul(K,Pe)|0,_=(_=_+Math.imul(K,et)|0)+Math.imul(O,Pe)|0,S=S+Math.imul(O,et)|0;var xe=(D+(x=x+Math.imul(W,He)|0)|0)+((8191&(_=(_=_+Math.imul(W,st)|0)+Math.imul(Q,He)|0))<<13)|0;D=((S=S+Math.imul(Q,st)|0)+(_>>>13)|0)+(xe>>>26)|0,xe&=67108863,x=Math.imul(We,Le),_=(_=Math.imul(We,gt))+Math.imul(Ve,Le)|0,S=Math.imul(Ve,gt),x=x+Math.imul(Ie,Ge)|0,_=(_=_+Math.imul(Ie,bt)|0)+Math.imul(qe,Ge)|0,S=S+Math.imul(qe,bt)|0,x=x+Math.imul(we,nt)|0,_=(_=_+Math.imul(we,_t)|0)+Math.imul(Ne,nt)|0,S=S+Math.imul(Ne,_t)|0,x=x+Math.imul(fe,Ke)|0,_=(_=_+Math.imul(fe,vt)|0)+Math.imul(ge,Ke)|0,S=S+Math.imul(ge,vt)|0,x=x+Math.imul(ie,tt)|0,_=(_=_+Math.imul(ie,at)|0)+Math.imul(ue,tt)|0,S=S+Math.imul(ue,at)|0,x=x+Math.imul(le,it)|0,_=(_=_+Math.imul(le,ae)|0)+Math.imul(ee,it)|0,S=S+Math.imul(ee,ae)|0,x=x+Math.imul(Z,ve)|0,_=(_=_+Math.imul(Z,Ae)|0)+Math.imul(te,ve)|0,S=S+Math.imul(te,Ae)|0,x=x+Math.imul(H,Pe)|0,_=(_=_+Math.imul(H,et)|0)+Math.imul(Y,Pe)|0,S=S+Math.imul(Y,et)|0;var _e=(D+(x=x+Math.imul(K,He)|0)|0)+((8191&(_=(_=_+Math.imul(K,st)|0)+Math.imul(O,He)|0))<<13)|0;D=((S=S+Math.imul(O,st)|0)+(_>>>13)|0)+(_e>>>26)|0,_e&=67108863,x=Math.imul(We,Ge),_=(_=Math.imul(We,bt))+Math.imul(Ve,Ge)|0,S=Math.imul(Ve,bt),x=x+Math.imul(Ie,nt)|0,_=(_=_+Math.imul(Ie,_t)|0)+Math.imul(qe,nt)|0,S=S+Math.imul(qe,_t)|0,x=x+Math.imul(we,Ke)|0,_=(_=_+Math.imul(we,vt)|0)+Math.imul(Ne,Ke)|0,S=S+Math.imul(Ne,vt)|0,x=x+Math.imul(fe,tt)|0,_=(_=_+Math.imul(fe,at)|0)+Math.imul(ge,tt)|0,S=S+Math.imul(ge,at)|0,x=x+Math.imul(ie,it)|0,_=(_=_+Math.imul(ie,ae)|0)+Math.imul(ue,it)|0,S=S+Math.imul(ue,ae)|0,x=x+Math.imul(le,ve)|0,_=(_=_+Math.imul(le,Ae)|0)+Math.imul(ee,ve)|0,S=S+Math.imul(ee,Ae)|0,x=x+Math.imul(Z,Pe)|0,_=(_=_+Math.imul(Z,et)|0)+Math.imul(te,Pe)|0,S=S+Math.imul(te,et)|0;var Fe=(D+(x=x+Math.imul(H,He)|0)|0)+((8191&(_=(_=_+Math.imul(H,st)|0)+Math.imul(Y,He)|0))<<13)|0;D=((S=S+Math.imul(Y,st)|0)+(_>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,x=Math.imul(We,nt),_=(_=Math.imul(We,_t))+Math.imul(Ve,nt)|0,S=Math.imul(Ve,_t),x=x+Math.imul(Ie,Ke)|0,_=(_=_+Math.imul(Ie,vt)|0)+Math.imul(qe,Ke)|0,S=S+Math.imul(qe,vt)|0,x=x+Math.imul(we,tt)|0,_=(_=_+Math.imul(we,at)|0)+Math.imul(Ne,tt)|0,S=S+Math.imul(Ne,at)|0,x=x+Math.imul(fe,it)|0,_=(_=_+Math.imul(fe,ae)|0)+Math.imul(ge,it)|0,S=S+Math.imul(ge,ae)|0,x=x+Math.imul(ie,ve)|0,_=(_=_+Math.imul(ie,Ae)|0)+Math.imul(ue,ve)|0,S=S+Math.imul(ue,Ae)|0,x=x+Math.imul(le,Pe)|0,_=(_=_+Math.imul(le,et)|0)+Math.imul(ee,Pe)|0,S=S+Math.imul(ee,et)|0;var Te=(D+(x=x+Math.imul(Z,He)|0)|0)+((8191&(_=(_=_+Math.imul(Z,st)|0)+Math.imul(te,He)|0))<<13)|0;D=((S=S+Math.imul(te,st)|0)+(_>>>13)|0)+(Te>>>26)|0,Te&=67108863,x=Math.imul(We,Ke),_=(_=Math.imul(We,vt))+Math.imul(Ve,Ke)|0,S=Math.imul(Ve,vt),x=x+Math.imul(Ie,tt)|0,_=(_=_+Math.imul(Ie,at)|0)+Math.imul(qe,tt)|0,S=S+Math.imul(qe,at)|0,x=x+Math.imul(we,it)|0,_=(_=_+Math.imul(we,ae)|0)+Math.imul(Ne,it)|0,S=S+Math.imul(Ne,ae)|0,x=x+Math.imul(fe,ve)|0,_=(_=_+Math.imul(fe,Ae)|0)+Math.imul(ge,ve)|0,S=S+Math.imul(ge,Ae)|0,x=x+Math.imul(ie,Pe)|0,_=(_=_+Math.imul(ie,et)|0)+Math.imul(ue,Pe)|0,S=S+Math.imul(ue,et)|0;var Re=(D+(x=x+Math.imul(le,He)|0)|0)+((8191&(_=(_=_+Math.imul(le,st)|0)+Math.imul(ee,He)|0))<<13)|0;D=((S=S+Math.imul(ee,st)|0)+(_>>>13)|0)+(Re>>>26)|0,Re&=67108863,x=Math.imul(We,tt),_=(_=Math.imul(We,at))+Math.imul(Ve,tt)|0,S=Math.imul(Ve,at),x=x+Math.imul(Ie,it)|0,_=(_=_+Math.imul(Ie,ae)|0)+Math.imul(qe,it)|0,S=S+Math.imul(qe,ae)|0,x=x+Math.imul(we,ve)|0,_=(_=_+Math.imul(we,Ae)|0)+Math.imul(Ne,ve)|0,S=S+Math.imul(Ne,Ae)|0,x=x+Math.imul(fe,Pe)|0,_=(_=_+Math.imul(fe,et)|0)+Math.imul(ge,Pe)|0,S=S+Math.imul(ge,et)|0;var xt=(D+(x=x+Math.imul(ie,He)|0)|0)+((8191&(_=(_=_+Math.imul(ie,st)|0)+Math.imul(ue,He)|0))<<13)|0;D=((S=S+Math.imul(ue,st)|0)+(_>>>13)|0)+(xt>>>26)|0,xt&=67108863,x=Math.imul(We,it),_=(_=Math.imul(We,ae))+Math.imul(Ve,it)|0,S=Math.imul(Ve,ae),x=x+Math.imul(Ie,ve)|0,_=(_=_+Math.imul(Ie,Ae)|0)+Math.imul(qe,ve)|0,S=S+Math.imul(qe,Ae)|0,x=x+Math.imul(we,Pe)|0,_=(_=_+Math.imul(we,et)|0)+Math.imul(Ne,Pe)|0,S=S+Math.imul(Ne,et)|0;var ut=(D+(x=x+Math.imul(fe,He)|0)|0)+((8191&(_=(_=_+Math.imul(fe,st)|0)+Math.imul(ge,He)|0))<<13)|0;D=((S=S+Math.imul(ge,st)|0)+(_>>>13)|0)+(ut>>>26)|0,ut&=67108863,x=Math.imul(We,ve),_=(_=Math.imul(We,Ae))+Math.imul(Ve,ve)|0,S=Math.imul(Ve,Ae),x=x+Math.imul(Ie,Pe)|0,_=(_=_+Math.imul(Ie,et)|0)+Math.imul(qe,Pe)|0,S=S+Math.imul(qe,et)|0;var pt=(D+(x=x+Math.imul(we,He)|0)|0)+((8191&(_=(_=_+Math.imul(we,st)|0)+Math.imul(Ne,He)|0))<<13)|0;D=((S=S+Math.imul(Ne,st)|0)+(_>>>13)|0)+(pt>>>26)|0,pt&=67108863,x=Math.imul(We,Pe),_=(_=Math.imul(We,et))+Math.imul(Ve,Pe)|0,S=Math.imul(Ve,et);var Ze=(D+(x=x+Math.imul(Ie,He)|0)|0)+((8191&(_=(_=_+Math.imul(Ie,st)|0)+Math.imul(qe,He)|0))<<13)|0;D=((S=S+Math.imul(qe,st)|0)+(_>>>13)|0)+(Ze>>>26)|0,Ze&=67108863;var At=(D+(x=Math.imul(We,He))|0)+((8191&(_=(_=Math.imul(We,st))+Math.imul(Ve,He)|0))<<13)|0;return D=((S=Math.imul(Ve,st))+(_>>>13)|0)+(At>>>26)|0,At&=67108863,L[0]=Xe,L[1]=ft,L[2]=Gt,L[3]=Vt,L[4]=Zt,L[5]=nr,L[6]=_r,L[7]=ne,L[8]=pe,L[9]=xe,L[10]=_e,L[11]=Fe,L[12]=Te,L[13]=Re,L[14]=xt,L[15]=ut,L[16]=pt,L[17]=Ze,L[18]=At,D!==0&&(L[19]=D,N.length++),N};function w(E,P,N){return new T().mulp(E,P,N)}function T(E,P){this.x=E,this.y=P}Math.imul||(y=v),o.prototype.mulTo=function(E,P){var N=this.length+E.length;return this.length===10&&E.length===10?y(this,E,P):N<63?v(this,E,P):N<1024?function(x,_,S){S.negative=_.negative^x.negative,S.length=x.length+_.length;for(var k=0,j=0,L=0;L<S.length-1;L++){var D=j;j=0;for(var q=67108863&k,W=Math.min(L,_.length-1),Q=Math.max(0,L-x.length+1);Q<=W;Q++){var z=L-Q,K=(0|x.words[z])*(0|_.words[Q]),O=67108863&K;q=67108863&(O=O+q|0),j+=(D=(D=D+(K/67108864|0)|0)+(O>>>26)|0)>>>26,D&=67108863}S.words[L]=q,k=D,D=j}return k!==0?S.words[L]=k:S.length--,S.strip()}(this,E,P):w(this,E,P)},T.prototype.makeRBT=function(E){for(var P=new Array(E),N=o.prototype._countBits(E)-1,x=0;x<E;x++)P[x]=this.revBin(x,N,E);return P},T.prototype.revBin=function(E,P,N){if(E===0||E===N-1)return E;for(var x=0,_=0;_<P;_++)x|=(1&E)<<P-_-1,E>>=1;return x},T.prototype.permute=function(E,P,N,x,_,S){for(var k=0;k<S;k++)x[k]=P[E[k]],_[k]=N[E[k]]},T.prototype.transform=function(E,P,N,x,_,S){this.permute(S,E,P,N,x,_);for(var k=1;k<_;k<<=1)for(var j=k<<1,L=Math.cos(2*Math.PI/j),D=Math.sin(2*Math.PI/j),q=0;q<_;q+=j)for(var W=L,Q=D,z=0;z<k;z++){var K=N[q+z],O=x[q+z],R=N[q+z+k],H=x[q+z+k],Y=W*R-Q*H;H=W*H+Q*R,R=Y,N[q+z]=K+R,x[q+z]=O+H,N[q+z+k]=K-R,x[q+z+k]=O-H,z!==j&&(Y=L*W-D*Q,Q=L*Q+D*W,W=Y)}},T.prototype.guessLen13b=function(E,P){var N=1|Math.max(P,E),x=1&N,_=0;for(N=N/2|0;N;N>>>=1)_++;return 1<<_+1+x},T.prototype.conjugate=function(E,P,N){if(!(N<=1))for(var x=0;x<N/2;x++){var _=E[x];E[x]=E[N-x-1],E[N-x-1]=_,_=P[x],P[x]=-P[N-x-1],P[N-x-1]=-_}},T.prototype.normalize13b=function(E,P){for(var N=0,x=0;x<P/2;x++){var _=8192*Math.round(E[2*x+1]/P)+Math.round(E[2*x]/P)+N;E[x]=67108863&_,N=_<67108864?0:_/67108864|0}return E},T.prototype.convert13b=function(E,P,N,x){for(var _=0,S=0;S<P;S++)_+=0|E[S],N[2*S]=8191&_,_>>>=13,N[2*S+1]=8191&_,_>>>=13;for(S=2*P;S<x;++S)N[S]=0;c(_===0),c((-8192&_)==0)},T.prototype.stub=function(E){for(var P=new Array(E),N=0;N<E;N++)P[N]=0;return P},T.prototype.mulp=function(E,P,N){var x=2*this.guessLen13b(E.length,P.length),_=this.makeRBT(x),S=this.stub(x),k=new Array(x),j=new Array(x),L=new Array(x),D=new Array(x),q=new Array(x),W=new Array(x),Q=N.words;Q.length=x,this.convert13b(E.words,E.length,k,x),this.convert13b(P.words,P.length,D,x),this.transform(k,S,j,L,x,_),this.transform(D,S,q,W,x,_);for(var z=0;z<x;z++){var K=j[z]*q[z]-L[z]*W[z];L[z]=j[z]*W[z]+L[z]*q[z],j[z]=K}return this.conjugate(j,L,x),this.transform(j,L,Q,S,x,_),this.conjugate(Q,S,x),this.normalize13b(Q,x),N.negative=E.negative^P.negative,N.length=E.length+P.length,N.strip()},o.prototype.mul=function(E){var P=new o(null);return P.words=new Array(this.length+E.length),this.mulTo(E,P)},o.prototype.mulf=function(E){var P=new o(null);return P.words=new Array(this.length+E.length),w(this,E,P)},o.prototype.imul=function(E){return this.clone().mulTo(E,this)},o.prototype.imuln=function(E){c(typeof E=="number"),c(E<67108864);for(var P=0,N=0;N<this.length;N++){var x=(0|this.words[N])*E,_=(67108863&x)+(67108863&P);P>>=26,P+=x/67108864|0,P+=_>>>26,this.words[N]=67108863&_}return P!==0&&(this.words[N]=P,this.length++),this},o.prototype.muln=function(E){return this.clone().imuln(E)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(E){var P=function(S){for(var k=new Array(S.bitLength()),j=0;j<k.length;j++){var L=j/26|0,D=j%26;k[j]=(S.words[L]&1<<D)>>>D}return k}(E);if(P.length===0)return new o(1);for(var N=this,x=0;x<P.length&&P[x]===0;x++,N=N.sqr());if(++x<P.length)for(var _=N.sqr();x<P.length;x++,_=_.sqr())P[x]!==0&&(N=N.mul(_));return N},o.prototype.iushln=function(E){c(typeof E=="number"&&E>=0);var P,N=E%26,x=(E-N)/26,_=67108863>>>26-N<<26-N;if(N!==0){var S=0;for(P=0;P<this.length;P++){var k=this.words[P]&_,j=(0|this.words[P])-k<<N;this.words[P]=j|S,S=k>>>26-N}S&&(this.words[P]=S,this.length++)}if(x!==0){for(P=this.length-1;P>=0;P--)this.words[P+x]=this.words[P];for(P=0;P<x;P++)this.words[P]=0;this.length+=x}return this.strip()},o.prototype.ishln=function(E){return c(this.negative===0),this.iushln(E)},o.prototype.iushrn=function(E,P,N){var x;c(typeof E=="number"&&E>=0),x=P?(P-P%26)/26:0;var _=E%26,S=Math.min((E-_)/26,this.length),k=67108863^67108863>>>_<<_,j=N;if(x-=S,x=Math.max(0,x),j){for(var L=0;L<S;L++)j.words[L]=this.words[L];j.length=S}if(S!==0)if(this.length>S)for(this.length-=S,L=0;L<this.length;L++)this.words[L]=this.words[L+S];else this.words[0]=0,this.length=1;var D=0;for(L=this.length-1;L>=0&&(D!==0||L>=x);L--){var q=0|this.words[L];this.words[L]=D<<26-_|q>>>_,D=q&k}return j&&D!==0&&(j.words[j.length++]=D),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(E,P,N){return c(this.negative===0),this.iushrn(E,P,N)},o.prototype.shln=function(E){return this.clone().ishln(E)},o.prototype.ushln=function(E){return this.clone().iushln(E)},o.prototype.shrn=function(E){return this.clone().ishrn(E)},o.prototype.ushrn=function(E){return this.clone().iushrn(E)},o.prototype.testn=function(E){c(typeof E=="number"&&E>=0);var P=E%26,N=(E-P)/26,x=1<<P;return!(this.length<=N)&&!!(this.words[N]&x)},o.prototype.imaskn=function(E){c(typeof E=="number"&&E>=0);var P=E%26,N=(E-P)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(P!==0&&N++,this.length=Math.min(N,this.length),P!==0){var x=67108863^67108863>>>P<<P;this.words[this.length-1]&=x}return this.strip()},o.prototype.maskn=function(E){return this.clone().imaskn(E)},o.prototype.iaddn=function(E){return c(typeof E=="number"),c(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},o.prototype._iaddn=function(E){this.words[0]+=E;for(var P=0;P<this.length&&this.words[P]>=67108864;P++)this.words[P]-=67108864,P===this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=Math.max(this.length,P+1),this},o.prototype.isubn=function(E){if(c(typeof E=="number"),c(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&this.words[P]<0;P++)this.words[P]+=67108864,this.words[P+1]-=1;return this.strip()},o.prototype.addn=function(E){return this.clone().iaddn(E)},o.prototype.subn=function(E){return this.clone().isubn(E)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(E,P,N){var x,_,S=E.length+N;this._expand(S);var k=0;for(x=0;x<E.length;x++){_=(0|this.words[x+N])+k;var j=(0|E.words[x])*P;k=((_-=67108863&j)>>26)-(j/67108864|0),this.words[x+N]=67108863&_}for(;x<this.length-N;x++)k=(_=(0|this.words[x+N])+k)>>26,this.words[x+N]=67108863&_;if(k===0)return this.strip();for(c(k===-1),k=0,x=0;x<this.length;x++)k=(_=-(0|this.words[x])+k)>>26,this.words[x]=67108863&_;return this.negative=1,this.strip()},o.prototype._wordDiv=function(E,P){var N=(this.length,E.length),x=this.clone(),_=E,S=0|_.words[_.length-1];(N=26-this._countBits(S))!==0&&(_=_.ushln(N),x.iushln(N),S=0|_.words[_.length-1]);var k,j=x.length-_.length;if(P!=="mod"){(k=new o(null)).length=j+1,k.words=new Array(k.length);for(var L=0;L<k.length;L++)k.words[L]=0}var D=x.clone()._ishlnsubmul(_,1,j);D.negative===0&&(x=D,k&&(k.words[j]=1));for(var q=j-1;q>=0;q--){var W=67108864*(0|x.words[_.length+q])+(0|x.words[_.length+q-1]);for(W=Math.min(W/S|0,67108863),x._ishlnsubmul(_,W,q);x.negative!==0;)W--,x.negative=0,x._ishlnsubmul(_,1,q),x.isZero()||(x.negative^=1);k&&(k.words[q]=W)}return k&&k.strip(),x.strip(),P!=="div"&&N!==0&&x.iushrn(N),{div:k||null,mod:x}},o.prototype.divmod=function(E,P,N){return c(!E.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&E.negative===0?(S=this.neg().divmod(E,P),P!=="mod"&&(x=S.div.neg()),P!=="div"&&(_=S.mod.neg(),N&&_.negative!==0&&_.iadd(E)),{div:x,mod:_}):this.negative===0&&E.negative!==0?(S=this.divmod(E.neg(),P),P!=="mod"&&(x=S.div.neg()),{div:x,mod:S.mod}):this.negative&E.negative?(S=this.neg().divmod(E.neg(),P),P!=="div"&&(_=S.mod.neg(),N&&_.negative!==0&&_.isub(E)),{div:S.div,mod:_}):E.length>this.length||this.cmp(E)<0?{div:new o(0),mod:this}:E.length===1?P==="div"?{div:this.divn(E.words[0]),mod:null}:P==="mod"?{div:null,mod:new o(this.modn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new o(this.modn(E.words[0]))}:this._wordDiv(E,P);var x,_,S},o.prototype.div=function(E){return this.divmod(E,"div",!1).div},o.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},o.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},o.prototype.divRound=function(E){var P=this.divmod(E);if(P.mod.isZero())return P.div;var N=P.div.negative!==0?P.mod.isub(E):P.mod,x=E.ushrn(1),_=E.andln(1),S=N.cmp(x);return S<0||_===1&&S===0?P.div:P.div.negative!==0?P.div.isubn(1):P.div.iaddn(1)},o.prototype.modn=function(E){c(E<=67108863);for(var P=(1<<26)%E,N=0,x=this.length-1;x>=0;x--)N=(P*N+(0|this.words[x]))%E;return N},o.prototype.idivn=function(E){c(E<=67108863);for(var P=0,N=this.length-1;N>=0;N--){var x=(0|this.words[N])+67108864*P;this.words[N]=x/E|0,P=x%E}return this.strip()},o.prototype.divn=function(E){return this.clone().idivn(E)},o.prototype.egcd=function(E){c(E.negative===0),c(!E.isZero());var P=this,N=E.clone();P=P.negative!==0?P.umod(E):P.clone();for(var x=new o(1),_=new o(0),S=new o(0),k=new o(1),j=0;P.isEven()&&N.isEven();)P.iushrn(1),N.iushrn(1),++j;for(var L=N.clone(),D=P.clone();!P.isZero();){for(var q=0,W=1;!(P.words[0]&W)&&q<26;++q,W<<=1);if(q>0)for(P.iushrn(q);q-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(L),_.isub(D)),x.iushrn(1),_.iushrn(1);for(var Q=0,z=1;!(N.words[0]&z)&&Q<26;++Q,z<<=1);if(Q>0)for(N.iushrn(Q);Q-- >0;)(S.isOdd()||k.isOdd())&&(S.iadd(L),k.isub(D)),S.iushrn(1),k.iushrn(1);P.cmp(N)>=0?(P.isub(N),x.isub(S),_.isub(k)):(N.isub(P),S.isub(x),k.isub(_))}return{a:S,b:k,gcd:N.iushln(j)}},o.prototype._invmp=function(E){c(E.negative===0),c(!E.isZero());var P=this,N=E.clone();P=P.negative!==0?P.umod(E):P.clone();for(var x,_=new o(1),S=new o(0),k=N.clone();P.cmpn(1)>0&&N.cmpn(1)>0;){for(var j=0,L=1;!(P.words[0]&L)&&j<26;++j,L<<=1);if(j>0)for(P.iushrn(j);j-- >0;)_.isOdd()&&_.iadd(k),_.iushrn(1);for(var D=0,q=1;!(N.words[0]&q)&&D<26;++D,q<<=1);if(D>0)for(N.iushrn(D);D-- >0;)S.isOdd()&&S.iadd(k),S.iushrn(1);P.cmp(N)>=0?(P.isub(N),_.isub(S)):(N.isub(P),S.isub(_))}return(x=P.cmpn(1)===0?_:S).cmpn(0)<0&&x.iadd(E),x},o.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var P=this.clone(),N=E.clone();P.negative=0,N.negative=0;for(var x=0;P.isEven()&&N.isEven();x++)P.iushrn(1),N.iushrn(1);for(;;){for(;P.isEven();)P.iushrn(1);for(;N.isEven();)N.iushrn(1);var _=P.cmp(N);if(_<0){var S=P;P=N,N=S}else if(_===0||N.cmpn(1)===0)break;P.isub(N)}return N.iushln(x)},o.prototype.invm=function(E){return this.egcd(E).a.umod(E)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(E){return this.words[0]&E},o.prototype.bincn=function(E){c(typeof E=="number");var P=E%26,N=(E-P)/26,x=1<<P;if(this.length<=N)return this._expand(N+1),this.words[N]|=x,this;for(var _=x,S=N;_!==0&&S<this.length;S++){var k=0|this.words[S];_=(k+=_)>>>26,k&=67108863,this.words[S]=k}return _!==0&&(this.words[S]=_,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(E){var P,N=E<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;if(this.strip(),this.length>1)P=1;else{N&&(E=-E),c(E<=67108863,"Number is too big");var x=0|this.words[0];P=x===E?0:x<E?-1:1}return this.negative!==0?0|-P:P},o.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var P=this.ucmp(E);return this.negative!==0?0|-P:P},o.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var P=0,N=this.length-1;N>=0;N--){var x=0|this.words[N],_=0|E.words[N];if(x!==_){x<_?P=-1:x>_&&(P=1);break}}return P},o.prototype.gtn=function(E){return this.cmpn(E)===1},o.prototype.gt=function(E){return this.cmp(E)===1},o.prototype.gten=function(E){return this.cmpn(E)>=0},o.prototype.gte=function(E){return this.cmp(E)>=0},o.prototype.ltn=function(E){return this.cmpn(E)===-1},o.prototype.lt=function(E){return this.cmp(E)===-1},o.prototype.lten=function(E){return this.cmpn(E)<=0},o.prototype.lte=function(E){return this.cmp(E)<=0},o.prototype.eqn=function(E){return this.cmpn(E)===0},o.prototype.eq=function(E){return this.cmp(E)===0},o.red=function(E){return new $(E)},o.prototype.toRed=function(E){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},o.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(E){return this.red=E,this},o.prototype.forceRed=function(E){return c(!this.red,"Already a number in reduction context"),this._forceRed(E)},o.prototype.redAdd=function(E){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},o.prototype.redIAdd=function(E){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},o.prototype.redSub=function(E){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},o.prototype.redISub=function(E){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},o.prototype.redShl=function(E){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},o.prototype.redMul=function(E){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},o.prototype.redIMul=function(E){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},o.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(E){return c(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var I={k256:null,p224:null,p192:null,p25519:null};function V(E,P){this.name=E,this.p=new o(P,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function B(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function F(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function $(E){if(typeof E=="string"){var P=o._prime(E);this.m=P.p,this.prime=P}else c(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function U(E){$.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}V.prototype._tmp=function(){var E=new o(null);return E.words=new Array(Math.ceil(this.n/13)),E},V.prototype.ireduce=function(E){var P,N=E;do this.split(N,this.tmp),P=(N=(N=this.imulK(N)).iadd(this.tmp)).bitLength();while(P>this.n);var x=P<this.n?-1:N.ucmp(this.p);return x===0?(N.words[0]=0,N.length=1):x>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},V.prototype.split=function(E,P){E.iushrn(this.n,0,P)},V.prototype.imulK=function(E){return E.imul(this.k)},l(B,V),B.prototype.split=function(E,P){for(var N=Math.min(E.length,9),x=0;x<N;x++)P.words[x]=E.words[x];if(P.length=N,E.length<=9)return E.words[0]=0,void(E.length=1);var _=E.words[9];for(P.words[P.length++]=4194303&_,x=10;x<E.length;x++){var S=0|E.words[x];E.words[x-10]=(4194303&S)<<4|_>>>22,_=S}_>>>=22,E.words[x-10]=_,_===0&&E.length>10?E.length-=10:E.length-=9},B.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var P=0,N=0;N<E.length;N++){var x=0|E.words[N];P+=977*x,E.words[N]=67108863&P,P=64*x+(P/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},l(A,V),l(M,V),l(F,V),F.prototype.imulK=function(E){for(var P=0,N=0;N<E.length;N++){var x=19*(0|E.words[N])+P,_=67108863&x;x>>>=26,E.words[N]=_,P=x}return P!==0&&(E.words[E.length++]=P),E},o._prime=function(E){if(I[E])return I[E];var P;if(E==="k256")P=new B;else if(E==="p224")P=new A;else if(E==="p192")P=new M;else{if(E!=="p25519")throw new Error("Unknown prime "+E);P=new F}return I[E]=P,P},$.prototype._verify1=function(E){c(E.negative===0,"red works only with positives"),c(E.red,"red works only with red numbers")},$.prototype._verify2=function(E,P){c((E.negative|P.negative)==0,"red works only with positives"),c(E.red&&E.red===P.red,"red works only with red numbers")},$.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):E.umod(this.m)._forceRed(this)},$.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},$.prototype.add=function(E,P){this._verify2(E,P);var N=E.add(P);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},$.prototype.iadd=function(E,P){this._verify2(E,P);var N=E.iadd(P);return N.cmp(this.m)>=0&&N.isub(this.m),N},$.prototype.sub=function(E,P){this._verify2(E,P);var N=E.sub(P);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},$.prototype.isub=function(E,P){this._verify2(E,P);var N=E.isub(P);return N.cmpn(0)<0&&N.iadd(this.m),N},$.prototype.shl=function(E,P){return this._verify1(E),this.imod(E.ushln(P))},$.prototype.imul=function(E,P){return this._verify2(E,P),this.imod(E.imul(P))},$.prototype.mul=function(E,P){return this._verify2(E,P),this.imod(E.mul(P))},$.prototype.isqr=function(E){return this.imul(E,E.clone())},$.prototype.sqr=function(E){return this.mul(E,E)},$.prototype.sqrt=function(E){if(E.isZero())return E.clone();var P=this.m.andln(3);if(c(P%2==1),P===3){var N=this.m.add(new o(1)).iushrn(2);return this.pow(E,N)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);c(!x.isZero());var S=new o(1).toRed(this),k=S.redNeg(),j=this.m.subn(1).iushrn(1),L=this.m.bitLength();for(L=new o(2*L*L).toRed(this);this.pow(L,j).cmp(k)!==0;)L.redIAdd(k);for(var D=this.pow(L,x),q=this.pow(E,x.addn(1).iushrn(1)),W=this.pow(E,x),Q=_;W.cmp(S)!==0;){for(var z=W,K=0;z.cmp(S)!==0;K++)z=z.redSqr();c(K<Q);var O=this.pow(D,new o(1).iushln(Q-K-1));q=q.redMul(O),D=O.redSqr(),W=W.redMul(D),Q=K}return q},$.prototype.invm=function(E){var P=E._invmp(this.m);return P.negative!==0?(P.negative=0,this.imod(P).redNeg()):this.imod(P)},$.prototype.pow=function(E,P){if(P.isZero())return new o(1).toRed(this);if(P.cmpn(1)===0)return E.clone();var N=new Array(16);N[0]=new o(1).toRed(this),N[1]=E;for(var x=2;x<N.length;x++)N[x]=this.mul(N[x-1],E);var _=N[0],S=0,k=0,j=P.bitLength()%26;for(j===0&&(j=26),x=P.length-1;x>=0;x--){for(var L=P.words[x],D=j-1;D>=0;D--){var q=L>>D&1;_!==N[0]&&(_=this.sqr(_)),q!==0||S!==0?(S<<=1,S|=q,(++k===4||x===0&&D===0)&&(_=this.mul(_,N[S]),k=0,S=0)):k=0}j=26}return _},$.prototype.convertTo=function(E){var P=E.umod(this.m);return P===E?P.clone():P},$.prototype.convertFrom=function(E){var P=E.clone();return P.red=null,P},o.mont=function(E){return new U(E)},l(U,$),U.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},U.prototype.convertFrom=function(E){var P=this.imod(E.mul(this.rinv));return P.red=null,P},U.prototype.imul=function(E,P){if(E.isZero()||P.isZero())return E.words[0]=0,E.length=1,E;var N=E.imul(P),x=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=N.isub(x).iushrn(this.shift),S=_;return _.cmp(this.m)>=0?S=_.isub(this.m):_.cmpn(0)<0&&(S=_.iadd(this.m)),S._forceRed(this)},U.prototype.mul=function(E,P){if(E.isZero()||P.isZero())return new o(0)._forceRed(this);var N=E.mul(P),x=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=N.isub(x).iushrn(this.shift),S=_;return _.cmp(this.m)>=0?S=_.isub(this.m):_.cmpn(0)<0&&(S=_.iadd(this.m)),S._forceRed(this)},U.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(e,n,i){i.byteLength=function(h){var g=f(h),b=g[0],m=g[1];return 3*(b+m)/4-m},i.toByteArray=function(h){var g,b,m=f(h),v=m[0],y=m[1],w=new c(function(V,B,A){return 3*(B+A)/4-A}(0,v,y)),T=0,I=y>0?v-4:v;for(b=0;b<I;b+=4)g=a[h.charCodeAt(b)]<<18|a[h.charCodeAt(b+1)]<<12|a[h.charCodeAt(b+2)]<<6|a[h.charCodeAt(b+3)],w[T++]=g>>16&255,w[T++]=g>>8&255,w[T++]=255&g;return y===2&&(g=a[h.charCodeAt(b)]<<2|a[h.charCodeAt(b+1)]>>4,w[T++]=255&g),y===1&&(g=a[h.charCodeAt(b)]<<10|a[h.charCodeAt(b+1)]<<4|a[h.charCodeAt(b+2)]>>2,w[T++]=g>>8&255,w[T++]=255&g),w},i.fromByteArray=function(h){for(var g,b=h.length,m=b%3,v=[],y=0,w=b-m;y<w;y+=16383)v.push(d(h,y,y+16383>w?w:y+16383));return m===1?(g=h[b-1],v.push(s[g>>2]+s[g<<4&63]+"==")):m===2&&(g=(h[b-2]<<8)+h[b-1],v.push(s[g>>10]+s[g>>4&63]+s[g<<2&63]+"=")),v.join("")};for(var s=[],a=[],c=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=l.length;o<u;++o)s[o]=l[o],a[l.charCodeAt(o)]=o;function f(h){var g=h.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=h.indexOf("=");return b===-1&&(b=g),[b,b===g?0:4-b%4]}function d(h,g,b){for(var m,v,y=[],w=g;w<b;w+=3)m=(h[w]<<16&16711680)+(h[w+1]<<8&65280)+(255&h[w+2]),y.push(s[(v=m)>>18&63]+s[v>>12&63]+s[v>>6&63]+s[63&v]);return y.join("")}a[45]=62,a[95]=63},{}],186:[function(e,n,i){(function(s,a){function c(N,x){if(!N)throw new Error(x||"Assertion failed")}function l(N,x){N.super_=x;var _=function(){};_.prototype=x.prototype,N.prototype=new _,N.prototype.constructor=N}function o(N,x,_){if(o.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&(x!=="le"&&x!=="be"||(_=x,x=10),this._init(N||0,x||10,_||"be"))}var u;typeof s=="object"?s.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function f(N,x){var _=N.charCodeAt(x);return _>=48&&_<=57?_-48:_>=65&&_<=70?_-55:_>=97&&_<=102?_-87:void c(!1,"Invalid character in "+N)}function d(N,x,_){var S=f(N,_);return _-1>=x&&(S|=f(N,_-1)<<4),S}function h(N,x,_,S){for(var k=0,j=0,L=Math.min(N.length,_),D=x;D<L;D++){var q=N.charCodeAt(D)-48;k*=S,j=q>=49?q-49+10:q>=17?q-17+10:q,c(q>=0&&j<S,"Invalid character"),k+=j}return k}function g(N,x){N.words=x.words,N.length=x.length,N.negative=x.negative,N.red=x.red}if(o.isBN=function(N){return N instanceof o||N!==null&&typeof N=="object"&&N.constructor.wordSize===o.wordSize&&Array.isArray(N.words)},o.max=function(N,x){return N.cmp(x)>0?N:x},o.min=function(N,x){return N.cmp(x)<0?N:x},o.prototype._init=function(N,x,_){if(typeof N=="number")return this._initNumber(N,x,_);if(typeof N=="object")return this._initArray(N,x,_);x==="hex"&&(x=16),c(x===(0|x)&&x>=2&&x<=36);var S=0;(N=N.toString().replace(/\s+/g,""))[0]==="-"&&(S++,this.negative=1),S<N.length&&(x===16?this._parseHex(N,S,_):(this._parseBase(N,x,S),_==="le"&&this._initArray(this.toArray(),x,_)))},o.prototype._initNumber=function(N,x,_){N<0&&(this.negative=1,N=-N),N<67108864?(this.words=[67108863&N],this.length=1):N<4503599627370496?(this.words=[67108863&N,N/67108864&67108863],this.length=2):(c(N<9007199254740992),this.words=[67108863&N,N/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),x,_)},o.prototype._initArray=function(N,x,_){if(c(typeof N.length=="number"),N.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(N.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var k,j,L=0;if(_==="be")for(S=N.length-1,k=0;S>=0;S-=3)j=N[S]|N[S-1]<<8|N[S-2]<<16,this.words[k]|=j<<L&67108863,this.words[k+1]=j>>>26-L&67108863,(L+=24)>=26&&(L-=26,k++);else if(_==="le")for(S=0,k=0;S<N.length;S+=3)j=N[S]|N[S+1]<<8|N[S+2]<<16,this.words[k]|=j<<L&67108863,this.words[k+1]=j>>>26-L&67108863,(L+=24)>=26&&(L-=26,k++);return this._strip()},o.prototype._parseHex=function(N,x,_){this.length=Math.ceil((N.length-x)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var k,j=0,L=0;if(_==="be")for(S=N.length-1;S>=x;S-=2)k=d(N,x,S)<<j,this.words[L]|=67108863&k,j>=18?(j-=18,L+=1,this.words[L]|=k>>>26):j+=8;else for(S=(N.length-x)%2==0?x+1:x;S<N.length;S+=2)k=d(N,x,S)<<j,this.words[L]|=67108863&k,j>=18?(j-=18,L+=1,this.words[L]|=k>>>26):j+=8;this._strip()},o.prototype._parseBase=function(N,x,_){this.words=[0],this.length=1;for(var S=0,k=1;k<=67108863;k*=x)S++;S--,k=k/x|0;for(var j=N.length-_,L=j%S,D=Math.min(j,j-L)+_,q=0,W=_;W<D;W+=S)q=h(N,W,W+S,x),this.imuln(k),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q);if(L!==0){var Q=1;for(q=h(N,W,N.length,x),W=0;W<L;W++)Q*=x;this.imuln(Q),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q)}this._strip()},o.prototype.copy=function(N){N.words=new Array(this.length);for(var x=0;x<this.length;x++)N.words[x]=this.words[x];N.length=this.length,N.negative=this.negative,N.red=this.red},o.prototype._move=function(N){g(N,this)},o.prototype.clone=function(){var N=new o(null);return this.copy(N),N},o.prototype._expand=function(N){for(;this.length<N;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{o.prototype.inspect=b}else o.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(N,x){var _;if(x=0|x||1,(N=N||10)===16||N==="hex"){_="";for(var S=0,k=0,j=0;j<this.length;j++){var L=this.words[j],D=(16777215&(L<<S|k)).toString(16);k=L>>>24-S&16777215,(S+=2)>=26&&(S-=26,j--),_=k!==0||j!==this.length-1?m[6-D.length]+D+_:D+_}for(k!==0&&(_=k.toString(16)+_);_.length%x!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(N===(0|N)&&N>=2&&N<=36){var q=v[N],W=y[N];_="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var z=Q.modrn(W).toString(N);_=(Q=Q.idivn(W)).isZero()?z+_:m[q-z.length]+z+_}for(this.isZero()&&(_="0"+_);_.length%x!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}c(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var N=this.words[0];return this.length===2?N+=67108864*this.words[1]:this.length===3&&this.words[2]===1?N+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-N:N},o.prototype.toJSON=function(){return this.toString(16,2)},u&&(o.prototype.toBuffer=function(N,x){return this.toArrayLike(u,N,x)}),o.prototype.toArray=function(N,x){return this.toArrayLike(Array,N,x)};function w(N,x,_){_.negative=x.negative^N.negative;var S=N.length+x.length|0;_.length=S,S=S-1|0;var k=0|N.words[0],j=0|x.words[0],L=k*j,D=67108863&L,q=L/67108864|0;_.words[0]=D;for(var W=1;W<S;W++){for(var Q=q>>>26,z=67108863&q,K=Math.min(W,x.length-1),O=Math.max(0,W-N.length+1);O<=K;O++){var R=W-O|0;Q+=(L=(k=0|N.words[R])*(j=0|x.words[O])+z)/67108864|0,z=67108863&L}_.words[W]=0|z,q=0|Q}return q!==0?_.words[W]=0|q:_.length--,_._strip()}o.prototype.toArrayLike=function(N,x,_){this._strip();var S=this.byteLength(),k=_||Math.max(1,S);c(S<=k,"byte array longer than desired length"),c(k>0,"Requested array length <= 0");var j=function(L,D){return L.allocUnsafe?L.allocUnsafe(D):new L(D)}(N,k);return this["_toArrayLike"+(x==="le"?"LE":"BE")](j,S),j},o.prototype._toArrayLikeLE=function(N,x){for(var _=0,S=0,k=0,j=0;k<this.length;k++){var L=this.words[k]<<j|S;N[_++]=255&L,_<N.length&&(N[_++]=L>>8&255),_<N.length&&(N[_++]=L>>16&255),j===6?(_<N.length&&(N[_++]=L>>24&255),S=0,j=0):(S=L>>>24,j+=2)}if(_<N.length)for(N[_++]=S;_<N.length;)N[_++]=0},o.prototype._toArrayLikeBE=function(N,x){for(var _=N.length-1,S=0,k=0,j=0;k<this.length;k++){var L=this.words[k]<<j|S;N[_--]=255&L,_>=0&&(N[_--]=L>>8&255),_>=0&&(N[_--]=L>>16&255),j===6?(_>=0&&(N[_--]=L>>24&255),S=0,j=0):(S=L>>>24,j+=2)}if(_>=0)for(N[_--]=S;_>=0;)N[_--]=0},Math.clz32?o.prototype._countBits=function(N){return 32-Math.clz32(N)}:o.prototype._countBits=function(N){var x=N,_=0;return x>=4096&&(_+=13,x>>>=13),x>=64&&(_+=7,x>>>=7),x>=8&&(_+=4,x>>>=4),x>=2&&(_+=2,x>>>=2),_+x},o.prototype._zeroBits=function(N){if(N===0)return 26;var x=N,_=0;return!(8191&x)&&(_+=13,x>>>=13),!(127&x)&&(_+=7,x>>>=7),!(15&x)&&(_+=4,x>>>=4),!(3&x)&&(_+=2,x>>>=2),!(1&x)&&_++,_},o.prototype.bitLength=function(){var N=this.words[this.length-1],x=this._countBits(N);return 26*(this.length-1)+x},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var N=0,x=0;x<this.length;x++){var _=this._zeroBits(this.words[x]);if(N+=_,_!==26)break}return N},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(N){return this.negative!==0?this.abs().inotn(N).iaddn(1):this.clone()},o.prototype.fromTwos=function(N){return this.testn(N-1)?this.notn(N).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(N){for(;this.length<N.length;)this.words[this.length++]=0;for(var x=0;x<N.length;x++)this.words[x]=this.words[x]|N.words[x];return this._strip()},o.prototype.ior=function(N){return c((this.negative|N.negative)==0),this.iuor(N)},o.prototype.or=function(N){return this.length>N.length?this.clone().ior(N):N.clone().ior(this)},o.prototype.uor=function(N){return this.length>N.length?this.clone().iuor(N):N.clone().iuor(this)},o.prototype.iuand=function(N){var x;x=this.length>N.length?N:this;for(var _=0;_<x.length;_++)this.words[_]=this.words[_]&N.words[_];return this.length=x.length,this._strip()},o.prototype.iand=function(N){return c((this.negative|N.negative)==0),this.iuand(N)},o.prototype.and=function(N){return this.length>N.length?this.clone().iand(N):N.clone().iand(this)},o.prototype.uand=function(N){return this.length>N.length?this.clone().iuand(N):N.clone().iuand(this)},o.prototype.iuxor=function(N){var x,_;this.length>N.length?(x=this,_=N):(x=N,_=this);for(var S=0;S<_.length;S++)this.words[S]=x.words[S]^_.words[S];if(this!==x)for(;S<x.length;S++)this.words[S]=x.words[S];return this.length=x.length,this._strip()},o.prototype.ixor=function(N){return c((this.negative|N.negative)==0),this.iuxor(N)},o.prototype.xor=function(N){return this.length>N.length?this.clone().ixor(N):N.clone().ixor(this)},o.prototype.uxor=function(N){return this.length>N.length?this.clone().iuxor(N):N.clone().iuxor(this)},o.prototype.inotn=function(N){c(typeof N=="number"&&N>=0);var x=0|Math.ceil(N/26),_=N%26;this._expand(x),_>0&&x--;for(var S=0;S<x;S++)this.words[S]=67108863&~this.words[S];return _>0&&(this.words[S]=~this.words[S]&67108863>>26-_),this._strip()},o.prototype.notn=function(N){return this.clone().inotn(N)},o.prototype.setn=function(N,x){c(typeof N=="number"&&N>=0);var _=N/26|0,S=N%26;return this._expand(_+1),this.words[_]=x?this.words[_]|1<<S:this.words[_]&~(1<<S),this._strip()},o.prototype.iadd=function(N){var x,_,S;if(this.negative!==0&&N.negative===0)return this.negative=0,x=this.isub(N),this.negative^=1,this._normSign();if(this.negative===0&&N.negative!==0)return N.negative=0,x=this.isub(N),N.negative=1,x._normSign();this.length>N.length?(_=this,S=N):(_=N,S=this);for(var k=0,j=0;j<S.length;j++)x=(0|_.words[j])+(0|S.words[j])+k,this.words[j]=67108863&x,k=x>>>26;for(;k!==0&&j<_.length;j++)x=(0|_.words[j])+k,this.words[j]=67108863&x,k=x>>>26;if(this.length=_.length,k!==0)this.words[this.length]=k,this.length++;else if(_!==this)for(;j<_.length;j++)this.words[j]=_.words[j];return this},o.prototype.add=function(N){var x;return N.negative!==0&&this.negative===0?(N.negative=0,x=this.sub(N),N.negative^=1,x):N.negative===0&&this.negative!==0?(this.negative=0,x=N.sub(this),this.negative=1,x):this.length>N.length?this.clone().iadd(N):N.clone().iadd(this)},o.prototype.isub=function(N){if(N.negative!==0){N.negative=0;var x=this.iadd(N);return N.negative=1,x._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(N),this.negative=1,this._normSign();var _,S,k=this.cmp(N);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;k>0?(_=this,S=N):(_=N,S=this);for(var j=0,L=0;L<S.length;L++)j=(x=(0|_.words[L])-(0|S.words[L])+j)>>26,this.words[L]=67108863&x;for(;j!==0&&L<_.length;L++)j=(x=(0|_.words[L])+j)>>26,this.words[L]=67108863&x;if(j===0&&L<_.length&&_!==this)for(;L<_.length;L++)this.words[L]=_.words[L];return this.length=Math.max(this.length,L),_!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(N){return this.clone().isub(N)};var T=function(N,x,_){var S,k,j,L=N.words,D=x.words,q=_.words,W=0,Q=0|L[0],z=8191&Q,K=Q>>>13,O=0|L[1],R=8191&O,H=O>>>13,Y=0|L[2],J=8191&Y,Z=Y>>>13,te=0|L[3],oe=8191&te,le=te>>>13,ee=0|L[4],se=8191&ee,ie=ee>>>13,ue=0|L[5],ce=8191&ue,fe=ue>>>13,ge=0|L[6],ye=8191&ge,we=ge>>>13,Ne=0|L[7],Ee=8191&Ne,Ie=Ne>>>13,qe=0|L[8],$e=8191&qe,We=qe>>>13,Ve=0|L[9],Oe=8191&Ve,Ce=Ve>>>13,De=0|D[0],ze=8191&De,Le=De>>>13,gt=0|D[1],Ct=8191&gt,Ge=gt>>>13,bt=0|D[2],mt=8191&bt,nt=bt>>>13,_t=0|D[3],St=8191&_t,Ke=_t>>>13,vt=0|D[4],Et=8191&vt,tt=vt>>>13,at=0|D[5],Ot=8191&at,it=at>>>13,ae=0|D[6],he=8191&ae,ve=ae>>>13,Ae=0|D[7],Je=8191&Ae,Pe=Ae>>>13,et=0|D[8],Ye=8191&et,He=et>>>13,st=0|D[9],Xe=8191&st,ft=st>>>13;_.negative=N.negative^x.negative,_.length=19;var Gt=(W+(S=Math.imul(z,ze))|0)+((8191&(k=(k=Math.imul(z,Le))+Math.imul(K,ze)|0))<<13)|0;W=((j=Math.imul(K,Le))+(k>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,S=Math.imul(R,ze),k=(k=Math.imul(R,Le))+Math.imul(H,ze)|0,j=Math.imul(H,Le);var Vt=(W+(S=S+Math.imul(z,Ct)|0)|0)+((8191&(k=(k=k+Math.imul(z,Ge)|0)+Math.imul(K,Ct)|0))<<13)|0;W=((j=j+Math.imul(K,Ge)|0)+(k>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,S=Math.imul(J,ze),k=(k=Math.imul(J,Le))+Math.imul(Z,ze)|0,j=Math.imul(Z,Le),S=S+Math.imul(R,Ct)|0,k=(k=k+Math.imul(R,Ge)|0)+Math.imul(H,Ct)|0,j=j+Math.imul(H,Ge)|0;var Zt=(W+(S=S+Math.imul(z,mt)|0)|0)+((8191&(k=(k=k+Math.imul(z,nt)|0)+Math.imul(K,mt)|0))<<13)|0;W=((j=j+Math.imul(K,nt)|0)+(k>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,S=Math.imul(oe,ze),k=(k=Math.imul(oe,Le))+Math.imul(le,ze)|0,j=Math.imul(le,Le),S=S+Math.imul(J,Ct)|0,k=(k=k+Math.imul(J,Ge)|0)+Math.imul(Z,Ct)|0,j=j+Math.imul(Z,Ge)|0,S=S+Math.imul(R,mt)|0,k=(k=k+Math.imul(R,nt)|0)+Math.imul(H,mt)|0,j=j+Math.imul(H,nt)|0;var nr=(W+(S=S+Math.imul(z,St)|0)|0)+((8191&(k=(k=k+Math.imul(z,Ke)|0)+Math.imul(K,St)|0))<<13)|0;W=((j=j+Math.imul(K,Ke)|0)+(k>>>13)|0)+(nr>>>26)|0,nr&=67108863,S=Math.imul(se,ze),k=(k=Math.imul(se,Le))+Math.imul(ie,ze)|0,j=Math.imul(ie,Le),S=S+Math.imul(oe,Ct)|0,k=(k=k+Math.imul(oe,Ge)|0)+Math.imul(le,Ct)|0,j=j+Math.imul(le,Ge)|0,S=S+Math.imul(J,mt)|0,k=(k=k+Math.imul(J,nt)|0)+Math.imul(Z,mt)|0,j=j+Math.imul(Z,nt)|0,S=S+Math.imul(R,St)|0,k=(k=k+Math.imul(R,Ke)|0)+Math.imul(H,St)|0,j=j+Math.imul(H,Ke)|0;var _r=(W+(S=S+Math.imul(z,Et)|0)|0)+((8191&(k=(k=k+Math.imul(z,tt)|0)+Math.imul(K,Et)|0))<<13)|0;W=((j=j+Math.imul(K,tt)|0)+(k>>>13)|0)+(_r>>>26)|0,_r&=67108863,S=Math.imul(ce,ze),k=(k=Math.imul(ce,Le))+Math.imul(fe,ze)|0,j=Math.imul(fe,Le),S=S+Math.imul(se,Ct)|0,k=(k=k+Math.imul(se,Ge)|0)+Math.imul(ie,Ct)|0,j=j+Math.imul(ie,Ge)|0,S=S+Math.imul(oe,mt)|0,k=(k=k+Math.imul(oe,nt)|0)+Math.imul(le,mt)|0,j=j+Math.imul(le,nt)|0,S=S+Math.imul(J,St)|0,k=(k=k+Math.imul(J,Ke)|0)+Math.imul(Z,St)|0,j=j+Math.imul(Z,Ke)|0,S=S+Math.imul(R,Et)|0,k=(k=k+Math.imul(R,tt)|0)+Math.imul(H,Et)|0,j=j+Math.imul(H,tt)|0;var ne=(W+(S=S+Math.imul(z,Ot)|0)|0)+((8191&(k=(k=k+Math.imul(z,it)|0)+Math.imul(K,Ot)|0))<<13)|0;W=((j=j+Math.imul(K,it)|0)+(k>>>13)|0)+(ne>>>26)|0,ne&=67108863,S=Math.imul(ye,ze),k=(k=Math.imul(ye,Le))+Math.imul(we,ze)|0,j=Math.imul(we,Le),S=S+Math.imul(ce,Ct)|0,k=(k=k+Math.imul(ce,Ge)|0)+Math.imul(fe,Ct)|0,j=j+Math.imul(fe,Ge)|0,S=S+Math.imul(se,mt)|0,k=(k=k+Math.imul(se,nt)|0)+Math.imul(ie,mt)|0,j=j+Math.imul(ie,nt)|0,S=S+Math.imul(oe,St)|0,k=(k=k+Math.imul(oe,Ke)|0)+Math.imul(le,St)|0,j=j+Math.imul(le,Ke)|0,S=S+Math.imul(J,Et)|0,k=(k=k+Math.imul(J,tt)|0)+Math.imul(Z,Et)|0,j=j+Math.imul(Z,tt)|0,S=S+Math.imul(R,Ot)|0,k=(k=k+Math.imul(R,it)|0)+Math.imul(H,Ot)|0,j=j+Math.imul(H,it)|0;var pe=(W+(S=S+Math.imul(z,he)|0)|0)+((8191&(k=(k=k+Math.imul(z,ve)|0)+Math.imul(K,he)|0))<<13)|0;W=((j=j+Math.imul(K,ve)|0)+(k>>>13)|0)+(pe>>>26)|0,pe&=67108863,S=Math.imul(Ee,ze),k=(k=Math.imul(Ee,Le))+Math.imul(Ie,ze)|0,j=Math.imul(Ie,Le),S=S+Math.imul(ye,Ct)|0,k=(k=k+Math.imul(ye,Ge)|0)+Math.imul(we,Ct)|0,j=j+Math.imul(we,Ge)|0,S=S+Math.imul(ce,mt)|0,k=(k=k+Math.imul(ce,nt)|0)+Math.imul(fe,mt)|0,j=j+Math.imul(fe,nt)|0,S=S+Math.imul(se,St)|0,k=(k=k+Math.imul(se,Ke)|0)+Math.imul(ie,St)|0,j=j+Math.imul(ie,Ke)|0,S=S+Math.imul(oe,Et)|0,k=(k=k+Math.imul(oe,tt)|0)+Math.imul(le,Et)|0,j=j+Math.imul(le,tt)|0,S=S+Math.imul(J,Ot)|0,k=(k=k+Math.imul(J,it)|0)+Math.imul(Z,Ot)|0,j=j+Math.imul(Z,it)|0,S=S+Math.imul(R,he)|0,k=(k=k+Math.imul(R,ve)|0)+Math.imul(H,he)|0,j=j+Math.imul(H,ve)|0;var xe=(W+(S=S+Math.imul(z,Je)|0)|0)+((8191&(k=(k=k+Math.imul(z,Pe)|0)+Math.imul(K,Je)|0))<<13)|0;W=((j=j+Math.imul(K,Pe)|0)+(k>>>13)|0)+(xe>>>26)|0,xe&=67108863,S=Math.imul($e,ze),k=(k=Math.imul($e,Le))+Math.imul(We,ze)|0,j=Math.imul(We,Le),S=S+Math.imul(Ee,Ct)|0,k=(k=k+Math.imul(Ee,Ge)|0)+Math.imul(Ie,Ct)|0,j=j+Math.imul(Ie,Ge)|0,S=S+Math.imul(ye,mt)|0,k=(k=k+Math.imul(ye,nt)|0)+Math.imul(we,mt)|0,j=j+Math.imul(we,nt)|0,S=S+Math.imul(ce,St)|0,k=(k=k+Math.imul(ce,Ke)|0)+Math.imul(fe,St)|0,j=j+Math.imul(fe,Ke)|0,S=S+Math.imul(se,Et)|0,k=(k=k+Math.imul(se,tt)|0)+Math.imul(ie,Et)|0,j=j+Math.imul(ie,tt)|0,S=S+Math.imul(oe,Ot)|0,k=(k=k+Math.imul(oe,it)|0)+Math.imul(le,Ot)|0,j=j+Math.imul(le,it)|0,S=S+Math.imul(J,he)|0,k=(k=k+Math.imul(J,ve)|0)+Math.imul(Z,he)|0,j=j+Math.imul(Z,ve)|0,S=S+Math.imul(R,Je)|0,k=(k=k+Math.imul(R,Pe)|0)+Math.imul(H,Je)|0,j=j+Math.imul(H,Pe)|0;var _e=(W+(S=S+Math.imul(z,Ye)|0)|0)+((8191&(k=(k=k+Math.imul(z,He)|0)+Math.imul(K,Ye)|0))<<13)|0;W=((j=j+Math.imul(K,He)|0)+(k>>>13)|0)+(_e>>>26)|0,_e&=67108863,S=Math.imul(Oe,ze),k=(k=Math.imul(Oe,Le))+Math.imul(Ce,ze)|0,j=Math.imul(Ce,Le),S=S+Math.imul($e,Ct)|0,k=(k=k+Math.imul($e,Ge)|0)+Math.imul(We,Ct)|0,j=j+Math.imul(We,Ge)|0,S=S+Math.imul(Ee,mt)|0,k=(k=k+Math.imul(Ee,nt)|0)+Math.imul(Ie,mt)|0,j=j+Math.imul(Ie,nt)|0,S=S+Math.imul(ye,St)|0,k=(k=k+Math.imul(ye,Ke)|0)+Math.imul(we,St)|0,j=j+Math.imul(we,Ke)|0,S=S+Math.imul(ce,Et)|0,k=(k=k+Math.imul(ce,tt)|0)+Math.imul(fe,Et)|0,j=j+Math.imul(fe,tt)|0,S=S+Math.imul(se,Ot)|0,k=(k=k+Math.imul(se,it)|0)+Math.imul(ie,Ot)|0,j=j+Math.imul(ie,it)|0,S=S+Math.imul(oe,he)|0,k=(k=k+Math.imul(oe,ve)|0)+Math.imul(le,he)|0,j=j+Math.imul(le,ve)|0,S=S+Math.imul(J,Je)|0,k=(k=k+Math.imul(J,Pe)|0)+Math.imul(Z,Je)|0,j=j+Math.imul(Z,Pe)|0,S=S+Math.imul(R,Ye)|0,k=(k=k+Math.imul(R,He)|0)+Math.imul(H,Ye)|0,j=j+Math.imul(H,He)|0;var Fe=(W+(S=S+Math.imul(z,Xe)|0)|0)+((8191&(k=(k=k+Math.imul(z,ft)|0)+Math.imul(K,Xe)|0))<<13)|0;W=((j=j+Math.imul(K,ft)|0)+(k>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,S=Math.imul(Oe,Ct),k=(k=Math.imul(Oe,Ge))+Math.imul(Ce,Ct)|0,j=Math.imul(Ce,Ge),S=S+Math.imul($e,mt)|0,k=(k=k+Math.imul($e,nt)|0)+Math.imul(We,mt)|0,j=j+Math.imul(We,nt)|0,S=S+Math.imul(Ee,St)|0,k=(k=k+Math.imul(Ee,Ke)|0)+Math.imul(Ie,St)|0,j=j+Math.imul(Ie,Ke)|0,S=S+Math.imul(ye,Et)|0,k=(k=k+Math.imul(ye,tt)|0)+Math.imul(we,Et)|0,j=j+Math.imul(we,tt)|0,S=S+Math.imul(ce,Ot)|0,k=(k=k+Math.imul(ce,it)|0)+Math.imul(fe,Ot)|0,j=j+Math.imul(fe,it)|0,S=S+Math.imul(se,he)|0,k=(k=k+Math.imul(se,ve)|0)+Math.imul(ie,he)|0,j=j+Math.imul(ie,ve)|0,S=S+Math.imul(oe,Je)|0,k=(k=k+Math.imul(oe,Pe)|0)+Math.imul(le,Je)|0,j=j+Math.imul(le,Pe)|0,S=S+Math.imul(J,Ye)|0,k=(k=k+Math.imul(J,He)|0)+Math.imul(Z,Ye)|0,j=j+Math.imul(Z,He)|0;var Te=(W+(S=S+Math.imul(R,Xe)|0)|0)+((8191&(k=(k=k+Math.imul(R,ft)|0)+Math.imul(H,Xe)|0))<<13)|0;W=((j=j+Math.imul(H,ft)|0)+(k>>>13)|0)+(Te>>>26)|0,Te&=67108863,S=Math.imul(Oe,mt),k=(k=Math.imul(Oe,nt))+Math.imul(Ce,mt)|0,j=Math.imul(Ce,nt),S=S+Math.imul($e,St)|0,k=(k=k+Math.imul($e,Ke)|0)+Math.imul(We,St)|0,j=j+Math.imul(We,Ke)|0,S=S+Math.imul(Ee,Et)|0,k=(k=k+Math.imul(Ee,tt)|0)+Math.imul(Ie,Et)|0,j=j+Math.imul(Ie,tt)|0,S=S+Math.imul(ye,Ot)|0,k=(k=k+Math.imul(ye,it)|0)+Math.imul(we,Ot)|0,j=j+Math.imul(we,it)|0,S=S+Math.imul(ce,he)|0,k=(k=k+Math.imul(ce,ve)|0)+Math.imul(fe,he)|0,j=j+Math.imul(fe,ve)|0,S=S+Math.imul(se,Je)|0,k=(k=k+Math.imul(se,Pe)|0)+Math.imul(ie,Je)|0,j=j+Math.imul(ie,Pe)|0,S=S+Math.imul(oe,Ye)|0,k=(k=k+Math.imul(oe,He)|0)+Math.imul(le,Ye)|0,j=j+Math.imul(le,He)|0;var Re=(W+(S=S+Math.imul(J,Xe)|0)|0)+((8191&(k=(k=k+Math.imul(J,ft)|0)+Math.imul(Z,Xe)|0))<<13)|0;W=((j=j+Math.imul(Z,ft)|0)+(k>>>13)|0)+(Re>>>26)|0,Re&=67108863,S=Math.imul(Oe,St),k=(k=Math.imul(Oe,Ke))+Math.imul(Ce,St)|0,j=Math.imul(Ce,Ke),S=S+Math.imul($e,Et)|0,k=(k=k+Math.imul($e,tt)|0)+Math.imul(We,Et)|0,j=j+Math.imul(We,tt)|0,S=S+Math.imul(Ee,Ot)|0,k=(k=k+Math.imul(Ee,it)|0)+Math.imul(Ie,Ot)|0,j=j+Math.imul(Ie,it)|0,S=S+Math.imul(ye,he)|0,k=(k=k+Math.imul(ye,ve)|0)+Math.imul(we,he)|0,j=j+Math.imul(we,ve)|0,S=S+Math.imul(ce,Je)|0,k=(k=k+Math.imul(ce,Pe)|0)+Math.imul(fe,Je)|0,j=j+Math.imul(fe,Pe)|0,S=S+Math.imul(se,Ye)|0,k=(k=k+Math.imul(se,He)|0)+Math.imul(ie,Ye)|0,j=j+Math.imul(ie,He)|0;var xt=(W+(S=S+Math.imul(oe,Xe)|0)|0)+((8191&(k=(k=k+Math.imul(oe,ft)|0)+Math.imul(le,Xe)|0))<<13)|0;W=((j=j+Math.imul(le,ft)|0)+(k>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(Oe,Et),k=(k=Math.imul(Oe,tt))+Math.imul(Ce,Et)|0,j=Math.imul(Ce,tt),S=S+Math.imul($e,Ot)|0,k=(k=k+Math.imul($e,it)|0)+Math.imul(We,Ot)|0,j=j+Math.imul(We,it)|0,S=S+Math.imul(Ee,he)|0,k=(k=k+Math.imul(Ee,ve)|0)+Math.imul(Ie,he)|0,j=j+Math.imul(Ie,ve)|0,S=S+Math.imul(ye,Je)|0,k=(k=k+Math.imul(ye,Pe)|0)+Math.imul(we,Je)|0,j=j+Math.imul(we,Pe)|0,S=S+Math.imul(ce,Ye)|0,k=(k=k+Math.imul(ce,He)|0)+Math.imul(fe,Ye)|0,j=j+Math.imul(fe,He)|0;var ut=(W+(S=S+Math.imul(se,Xe)|0)|0)+((8191&(k=(k=k+Math.imul(se,ft)|0)+Math.imul(ie,Xe)|0))<<13)|0;W=((j=j+Math.imul(ie,ft)|0)+(k>>>13)|0)+(ut>>>26)|0,ut&=67108863,S=Math.imul(Oe,Ot),k=(k=Math.imul(Oe,it))+Math.imul(Ce,Ot)|0,j=Math.imul(Ce,it),S=S+Math.imul($e,he)|0,k=(k=k+Math.imul($e,ve)|0)+Math.imul(We,he)|0,j=j+Math.imul(We,ve)|0,S=S+Math.imul(Ee,Je)|0,k=(k=k+Math.imul(Ee,Pe)|0)+Math.imul(Ie,Je)|0,j=j+Math.imul(Ie,Pe)|0,S=S+Math.imul(ye,Ye)|0,k=(k=k+Math.imul(ye,He)|0)+Math.imul(we,Ye)|0,j=j+Math.imul(we,He)|0;var pt=(W+(S=S+Math.imul(ce,Xe)|0)|0)+((8191&(k=(k=k+Math.imul(ce,ft)|0)+Math.imul(fe,Xe)|0))<<13)|0;W=((j=j+Math.imul(fe,ft)|0)+(k>>>13)|0)+(pt>>>26)|0,pt&=67108863,S=Math.imul(Oe,he),k=(k=Math.imul(Oe,ve))+Math.imul(Ce,he)|0,j=Math.imul(Ce,ve),S=S+Math.imul($e,Je)|0,k=(k=k+Math.imul($e,Pe)|0)+Math.imul(We,Je)|0,j=j+Math.imul(We,Pe)|0,S=S+Math.imul(Ee,Ye)|0,k=(k=k+Math.imul(Ee,He)|0)+Math.imul(Ie,Ye)|0,j=j+Math.imul(Ie,He)|0;var Ze=(W+(S=S+Math.imul(ye,Xe)|0)|0)+((8191&(k=(k=k+Math.imul(ye,ft)|0)+Math.imul(we,Xe)|0))<<13)|0;W=((j=j+Math.imul(we,ft)|0)+(k>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,S=Math.imul(Oe,Je),k=(k=Math.imul(Oe,Pe))+Math.imul(Ce,Je)|0,j=Math.imul(Ce,Pe),S=S+Math.imul($e,Ye)|0,k=(k=k+Math.imul($e,He)|0)+Math.imul(We,Ye)|0,j=j+Math.imul(We,He)|0;var At=(W+(S=S+Math.imul(Ee,Xe)|0)|0)+((8191&(k=(k=k+Math.imul(Ee,ft)|0)+Math.imul(Ie,Xe)|0))<<13)|0;W=((j=j+Math.imul(Ie,ft)|0)+(k>>>13)|0)+(At>>>26)|0,At&=67108863,S=Math.imul(Oe,Ye),k=(k=Math.imul(Oe,He))+Math.imul(Ce,Ye)|0,j=Math.imul(Ce,He);var It=(W+(S=S+Math.imul($e,Xe)|0)|0)+((8191&(k=(k=k+Math.imul($e,ft)|0)+Math.imul(We,Xe)|0))<<13)|0;W=((j=j+Math.imul(We,ft)|0)+(k>>>13)|0)+(It>>>26)|0,It&=67108863;var Dt=(W+(S=Math.imul(Oe,Xe))|0)+((8191&(k=(k=Math.imul(Oe,ft))+Math.imul(Ce,Xe)|0))<<13)|0;return W=((j=Math.imul(Ce,ft))+(k>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,q[0]=Gt,q[1]=Vt,q[2]=Zt,q[3]=nr,q[4]=_r,q[5]=ne,q[6]=pe,q[7]=xe,q[8]=_e,q[9]=Fe,q[10]=Te,q[11]=Re,q[12]=xt,q[13]=ut,q[14]=pt,q[15]=Ze,q[16]=At,q[17]=It,q[18]=Dt,W!==0&&(q[19]=W,_.length++),_};function I(N,x,_){_.negative=x.negative^N.negative,_.length=N.length+x.length;for(var S=0,k=0,j=0;j<_.length-1;j++){var L=k;k=0;for(var D=67108863&S,q=Math.min(j,x.length-1),W=Math.max(0,j-N.length+1);W<=q;W++){var Q=j-W,z=(0|N.words[Q])*(0|x.words[W]),K=67108863&z;D=67108863&(K=K+D|0),k+=(L=(L=L+(z/67108864|0)|0)+(K>>>26)|0)>>>26,L&=67108863}_.words[j]=D,S=L,L=k}return S!==0?_.words[j]=S:_.length--,_._strip()}function V(N,x,_){return I(N,x,_)}Math.imul||(T=w),o.prototype.mulTo=function(N,x){var _=this.length+N.length;return this.length===10&&N.length===10?T(this,N,x):_<63?w(this,N,x):_<1024?I(this,N,x):V(this,N,x)},o.prototype.mul=function(N){var x=new o(null);return x.words=new Array(this.length+N.length),this.mulTo(N,x)},o.prototype.mulf=function(N){var x=new o(null);return x.words=new Array(this.length+N.length),V(this,N,x)},o.prototype.imul=function(N){return this.clone().mulTo(N,this)},o.prototype.imuln=function(N){var x=N<0;x&&(N=-N),c(typeof N=="number"),c(N<67108864);for(var _=0,S=0;S<this.length;S++){var k=(0|this.words[S])*N,j=(67108863&k)+(67108863&_);_>>=26,_+=k/67108864|0,_+=j>>>26,this.words[S]=67108863&j}return _!==0&&(this.words[S]=_,this.length++),x?this.ineg():this},o.prototype.muln=function(N){return this.clone().imuln(N)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(N){var x=function(j){for(var L=new Array(j.bitLength()),D=0;D<L.length;D++){var q=D/26|0,W=D%26;L[D]=j.words[q]>>>W&1}return L}(N);if(x.length===0)return new o(1);for(var _=this,S=0;S<x.length&&x[S]===0;S++,_=_.sqr());if(++S<x.length)for(var k=_.sqr();S<x.length;S++,k=k.sqr())x[S]!==0&&(_=_.mul(k));return _},o.prototype.iushln=function(N){c(typeof N=="number"&&N>=0);var x,_=N%26,S=(N-_)/26,k=67108863>>>26-_<<26-_;if(_!==0){var j=0;for(x=0;x<this.length;x++){var L=this.words[x]&k,D=(0|this.words[x])-L<<_;this.words[x]=D|j,j=L>>>26-_}j&&(this.words[x]=j,this.length++)}if(S!==0){for(x=this.length-1;x>=0;x--)this.words[x+S]=this.words[x];for(x=0;x<S;x++)this.words[x]=0;this.length+=S}return this._strip()},o.prototype.ishln=function(N){return c(this.negative===0),this.iushln(N)},o.prototype.iushrn=function(N,x,_){var S;c(typeof N=="number"&&N>=0),S=x?(x-x%26)/26:0;var k=N%26,j=Math.min((N-k)/26,this.length),L=67108863^67108863>>>k<<k,D=_;if(S-=j,S=Math.max(0,S),D){for(var q=0;q<j;q++)D.words[q]=this.words[q];D.length=j}if(j!==0)if(this.length>j)for(this.length-=j,q=0;q<this.length;q++)this.words[q]=this.words[q+j];else this.words[0]=0,this.length=1;var W=0;for(q=this.length-1;q>=0&&(W!==0||q>=S);q--){var Q=0|this.words[q];this.words[q]=W<<26-k|Q>>>k,W=Q&L}return D&&W!==0&&(D.words[D.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(N,x,_){return c(this.negative===0),this.iushrn(N,x,_)},o.prototype.shln=function(N){return this.clone().ishln(N)},o.prototype.ushln=function(N){return this.clone().iushln(N)},o.prototype.shrn=function(N){return this.clone().ishrn(N)},o.prototype.ushrn=function(N){return this.clone().iushrn(N)},o.prototype.testn=function(N){c(typeof N=="number"&&N>=0);var x=N%26,_=(N-x)/26,S=1<<x;return!(this.length<=_)&&!!(this.words[_]&S)},o.prototype.imaskn=function(N){c(typeof N=="number"&&N>=0);var x=N%26,_=(N-x)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(x!==0&&_++,this.length=Math.min(_,this.length),x!==0){var S=67108863^67108863>>>x<<x;this.words[this.length-1]&=S}return this._strip()},o.prototype.maskn=function(N){return this.clone().imaskn(N)},o.prototype.iaddn=function(N){return c(typeof N=="number"),c(N<67108864),N<0?this.isubn(-N):this.negative!==0?this.length===1&&(0|this.words[0])<=N?(this.words[0]=N-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(N),this.negative=1,this):this._iaddn(N)},o.prototype._iaddn=function(N){this.words[0]+=N;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},o.prototype.isubn=function(N){if(c(typeof N=="number"),c(N<67108864),N<0)return this.iaddn(-N);if(this.negative!==0)return this.negative=0,this.iaddn(N),this.negative=1,this;if(this.words[0]-=N,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},o.prototype.addn=function(N){return this.clone().iaddn(N)},o.prototype.subn=function(N){return this.clone().isubn(N)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(N,x,_){var S,k,j=N.length+_;this._expand(j);var L=0;for(S=0;S<N.length;S++){k=(0|this.words[S+_])+L;var D=(0|N.words[S])*x;L=((k-=67108863&D)>>26)-(D/67108864|0),this.words[S+_]=67108863&k}for(;S<this.length-_;S++)L=(k=(0|this.words[S+_])+L)>>26,this.words[S+_]=67108863&k;if(L===0)return this._strip();for(c(L===-1),L=0,S=0;S<this.length;S++)L=(k=-(0|this.words[S])+L)>>26,this.words[S]=67108863&k;return this.negative=1,this._strip()},o.prototype._wordDiv=function(N,x){var _=(this.length,N.length),S=this.clone(),k=N,j=0|k.words[k.length-1];(_=26-this._countBits(j))!==0&&(k=k.ushln(_),S.iushln(_),j=0|k.words[k.length-1]);var L,D=S.length-k.length;if(x!=="mod"){(L=new o(null)).length=D+1,L.words=new Array(L.length);for(var q=0;q<L.length;q++)L.words[q]=0}var W=S.clone()._ishlnsubmul(k,1,D);W.negative===0&&(S=W,L&&(L.words[D]=1));for(var Q=D-1;Q>=0;Q--){var z=67108864*(0|S.words[k.length+Q])+(0|S.words[k.length+Q-1]);for(z=Math.min(z/j|0,67108863),S._ishlnsubmul(k,z,Q);S.negative!==0;)z--,S.negative=0,S._ishlnsubmul(k,1,Q),S.isZero()||(S.negative^=1);L&&(L.words[Q]=z)}return L&&L._strip(),S._strip(),x!=="div"&&_!==0&&S.iushrn(_),{div:L||null,mod:S}},o.prototype.divmod=function(N,x,_){return c(!N.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&N.negative===0?(j=this.neg().divmod(N,x),x!=="mod"&&(S=j.div.neg()),x!=="div"&&(k=j.mod.neg(),_&&k.negative!==0&&k.iadd(N)),{div:S,mod:k}):this.negative===0&&N.negative!==0?(j=this.divmod(N.neg(),x),x!=="mod"&&(S=j.div.neg()),{div:S,mod:j.mod}):this.negative&N.negative?(j=this.neg().divmod(N.neg(),x),x!=="div"&&(k=j.mod.neg(),_&&k.negative!==0&&k.isub(N)),{div:j.div,mod:k}):N.length>this.length||this.cmp(N)<0?{div:new o(0),mod:this}:N.length===1?x==="div"?{div:this.divn(N.words[0]),mod:null}:x==="mod"?{div:null,mod:new o(this.modrn(N.words[0]))}:{div:this.divn(N.words[0]),mod:new o(this.modrn(N.words[0]))}:this._wordDiv(N,x);var S,k,j},o.prototype.div=function(N){return this.divmod(N,"div",!1).div},o.prototype.mod=function(N){return this.divmod(N,"mod",!1).mod},o.prototype.umod=function(N){return this.divmod(N,"mod",!0).mod},o.prototype.divRound=function(N){var x=this.divmod(N);if(x.mod.isZero())return x.div;var _=x.div.negative!==0?x.mod.isub(N):x.mod,S=N.ushrn(1),k=N.andln(1),j=_.cmp(S);return j<0||k===1&&j===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},o.prototype.modrn=function(N){var x=N<0;x&&(N=-N),c(N<=67108863);for(var _=(1<<26)%N,S=0,k=this.length-1;k>=0;k--)S=(_*S+(0|this.words[k]))%N;return x?-S:S},o.prototype.modn=function(N){return this.modrn(N)},o.prototype.idivn=function(N){var x=N<0;x&&(N=-N),c(N<=67108863);for(var _=0,S=this.length-1;S>=0;S--){var k=(0|this.words[S])+67108864*_;this.words[S]=k/N|0,_=k%N}return this._strip(),x?this.ineg():this},o.prototype.divn=function(N){return this.clone().idivn(N)},o.prototype.egcd=function(N){c(N.negative===0),c(!N.isZero());var x=this,_=N.clone();x=x.negative!==0?x.umod(N):x.clone();for(var S=new o(1),k=new o(0),j=new o(0),L=new o(1),D=0;x.isEven()&&_.isEven();)x.iushrn(1),_.iushrn(1),++D;for(var q=_.clone(),W=x.clone();!x.isZero();){for(var Q=0,z=1;!(x.words[0]&z)&&Q<26;++Q,z<<=1);if(Q>0)for(x.iushrn(Q);Q-- >0;)(S.isOdd()||k.isOdd())&&(S.iadd(q),k.isub(W)),S.iushrn(1),k.iushrn(1);for(var K=0,O=1;!(_.words[0]&O)&&K<26;++K,O<<=1);if(K>0)for(_.iushrn(K);K-- >0;)(j.isOdd()||L.isOdd())&&(j.iadd(q),L.isub(W)),j.iushrn(1),L.iushrn(1);x.cmp(_)>=0?(x.isub(_),S.isub(j),k.isub(L)):(_.isub(x),j.isub(S),L.isub(k))}return{a:j,b:L,gcd:_.iushln(D)}},o.prototype._invmp=function(N){c(N.negative===0),c(!N.isZero());var x=this,_=N.clone();x=x.negative!==0?x.umod(N):x.clone();for(var S,k=new o(1),j=new o(0),L=_.clone();x.cmpn(1)>0&&_.cmpn(1)>0;){for(var D=0,q=1;!(x.words[0]&q)&&D<26;++D,q<<=1);if(D>0)for(x.iushrn(D);D-- >0;)k.isOdd()&&k.iadd(L),k.iushrn(1);for(var W=0,Q=1;!(_.words[0]&Q)&&W<26;++W,Q<<=1);if(W>0)for(_.iushrn(W);W-- >0;)j.isOdd()&&j.iadd(L),j.iushrn(1);x.cmp(_)>=0?(x.isub(_),k.isub(j)):(_.isub(x),j.isub(k))}return(S=x.cmpn(1)===0?k:j).cmpn(0)<0&&S.iadd(N),S},o.prototype.gcd=function(N){if(this.isZero())return N.abs();if(N.isZero())return this.abs();var x=this.clone(),_=N.clone();x.negative=0,_.negative=0;for(var S=0;x.isEven()&&_.isEven();S++)x.iushrn(1),_.iushrn(1);for(;;){for(;x.isEven();)x.iushrn(1);for(;_.isEven();)_.iushrn(1);var k=x.cmp(_);if(k<0){var j=x;x=_,_=j}else if(k===0||_.cmpn(1)===0)break;x.isub(_)}return _.iushln(S)},o.prototype.invm=function(N){return this.egcd(N).a.umod(N)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(N){return this.words[0]&N},o.prototype.bincn=function(N){c(typeof N=="number");var x=N%26,_=(N-x)/26,S=1<<x;if(this.length<=_)return this._expand(_+1),this.words[_]|=S,this;for(var k=S,j=_;k!==0&&j<this.length;j++){var L=0|this.words[j];k=(L+=k)>>>26,L&=67108863,this.words[j]=L}return k!==0&&(this.words[j]=k,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(N){var x,_=N<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;if(this._strip(),this.length>1)x=1;else{_&&(N=-N),c(N<=67108863,"Number is too big");var S=0|this.words[0];x=S===N?0:S<N?-1:1}return this.negative!==0?0|-x:x},o.prototype.cmp=function(N){if(this.negative!==0&&N.negative===0)return-1;if(this.negative===0&&N.negative!==0)return 1;var x=this.ucmp(N);return this.negative!==0?0|-x:x},o.prototype.ucmp=function(N){if(this.length>N.length)return 1;if(this.length<N.length)return-1;for(var x=0,_=this.length-1;_>=0;_--){var S=0|this.words[_],k=0|N.words[_];if(S!==k){S<k?x=-1:S>k&&(x=1);break}}return x},o.prototype.gtn=function(N){return this.cmpn(N)===1},o.prototype.gt=function(N){return this.cmp(N)===1},o.prototype.gten=function(N){return this.cmpn(N)>=0},o.prototype.gte=function(N){return this.cmp(N)>=0},o.prototype.ltn=function(N){return this.cmpn(N)===-1},o.prototype.lt=function(N){return this.cmp(N)===-1},o.prototype.lten=function(N){return this.cmpn(N)<=0},o.prototype.lte=function(N){return this.cmp(N)<=0},o.prototype.eqn=function(N){return this.cmpn(N)===0},o.prototype.eq=function(N){return this.cmp(N)===0},o.red=function(N){return new E(N)},o.prototype.toRed=function(N){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),N.convertTo(this)._forceRed(N)},o.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(N){return this.red=N,this},o.prototype.forceRed=function(N){return c(!this.red,"Already a number in reduction context"),this._forceRed(N)},o.prototype.redAdd=function(N){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,N)},o.prototype.redIAdd=function(N){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,N)},o.prototype.redSub=function(N){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,N)},o.prototype.redISub=function(N){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,N)},o.prototype.redShl=function(N){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,N)},o.prototype.redMul=function(N){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.mul(this,N)},o.prototype.redIMul=function(N){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.imul(this,N)},o.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(N){return c(this.red&&!N.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,N)};var B={k256:null,p224:null,p192:null,p25519:null};function A(N,x){this.name=N,this.p=new o(x,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function F(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function $(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function U(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(N){if(typeof N=="string"){var x=o._prime(N);this.m=x.p,this.prime=x}else c(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}function P(N){E.call(this,N),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var N=new o(null);return N.words=new Array(Math.ceil(this.n/13)),N},A.prototype.ireduce=function(N){var x,_=N;do this.split(_,this.tmp),x=(_=(_=this.imulK(_)).iadd(this.tmp)).bitLength();while(x>this.n);var S=x<this.n?-1:_.ucmp(this.p);return S===0?(_.words[0]=0,_.length=1):S>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},A.prototype.split=function(N,x){N.iushrn(this.n,0,x)},A.prototype.imulK=function(N){return N.imul(this.k)},l(M,A),M.prototype.split=function(N,x){for(var _=Math.min(N.length,9),S=0;S<_;S++)x.words[S]=N.words[S];if(x.length=_,N.length<=9)return N.words[0]=0,void(N.length=1);var k=N.words[9];for(x.words[x.length++]=4194303&k,S=10;S<N.length;S++){var j=0|N.words[S];N.words[S-10]=(4194303&j)<<4|k>>>22,k=j}k>>>=22,N.words[S-10]=k,k===0&&N.length>10?N.length-=10:N.length-=9},M.prototype.imulK=function(N){N.words[N.length]=0,N.words[N.length+1]=0,N.length+=2;for(var x=0,_=0;_<N.length;_++){var S=0|N.words[_];x+=977*S,N.words[_]=67108863&x,x=64*S+(x/67108864|0)}return N.words[N.length-1]===0&&(N.length--,N.words[N.length-1]===0&&N.length--),N},l(F,A),l($,A),l(U,A),U.prototype.imulK=function(N){for(var x=0,_=0;_<N.length;_++){var S=19*(0|N.words[_])+x,k=67108863&S;S>>>=26,N.words[_]=k,x=S}return x!==0&&(N.words[N.length++]=x),N},o._prime=function(N){if(B[N])return B[N];var x;if(N==="k256")x=new M;else if(N==="p224")x=new F;else if(N==="p192")x=new $;else{if(N!=="p25519")throw new Error("Unknown prime "+N);x=new U}return B[N]=x,x},E.prototype._verify1=function(N){c(N.negative===0,"red works only with positives"),c(N.red,"red works only with red numbers")},E.prototype._verify2=function(N,x){c((N.negative|x.negative)==0,"red works only with positives"),c(N.red&&N.red===x.red,"red works only with red numbers")},E.prototype.imod=function(N){return this.prime?this.prime.ireduce(N)._forceRed(this):(g(N,N.umod(this.m)._forceRed(this)),N)},E.prototype.neg=function(N){return N.isZero()?N.clone():this.m.sub(N)._forceRed(this)},E.prototype.add=function(N,x){this._verify2(N,x);var _=N.add(x);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},E.prototype.iadd=function(N,x){this._verify2(N,x);var _=N.iadd(x);return _.cmp(this.m)>=0&&_.isub(this.m),_},E.prototype.sub=function(N,x){this._verify2(N,x);var _=N.sub(x);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},E.prototype.isub=function(N,x){this._verify2(N,x);var _=N.isub(x);return _.cmpn(0)<0&&_.iadd(this.m),_},E.prototype.shl=function(N,x){return this._verify1(N),this.imod(N.ushln(x))},E.prototype.imul=function(N,x){return this._verify2(N,x),this.imod(N.imul(x))},E.prototype.mul=function(N,x){return this._verify2(N,x),this.imod(N.mul(x))},E.prototype.isqr=function(N){return this.imul(N,N.clone())},E.prototype.sqr=function(N){return this.mul(N,N)},E.prototype.sqrt=function(N){if(N.isZero())return N.clone();var x=this.m.andln(3);if(c(x%2==1),x===3){var _=this.m.add(new o(1)).iushrn(2);return this.pow(N,_)}for(var S=this.m.subn(1),k=0;!S.isZero()&&S.andln(1)===0;)k++,S.iushrn(1);c(!S.isZero());var j=new o(1).toRed(this),L=j.redNeg(),D=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=new o(2*q*q).toRed(this);this.pow(q,D).cmp(L)!==0;)q.redIAdd(L);for(var W=this.pow(q,S),Q=this.pow(N,S.addn(1).iushrn(1)),z=this.pow(N,S),K=k;z.cmp(j)!==0;){for(var O=z,R=0;O.cmp(j)!==0;R++)O=O.redSqr();c(R<K);var H=this.pow(W,new o(1).iushln(K-R-1));Q=Q.redMul(H),W=H.redSqr(),z=z.redMul(W),K=R}return Q},E.prototype.invm=function(N){var x=N._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},E.prototype.pow=function(N,x){if(x.isZero())return new o(1).toRed(this);if(x.cmpn(1)===0)return N.clone();var _=new Array(16);_[0]=new o(1).toRed(this),_[1]=N;for(var S=2;S<_.length;S++)_[S]=this.mul(_[S-1],N);var k=_[0],j=0,L=0,D=x.bitLength()%26;for(D===0&&(D=26),S=x.length-1;S>=0;S--){for(var q=x.words[S],W=D-1;W>=0;W--){var Q=q>>W&1;k!==_[0]&&(k=this.sqr(k)),Q!==0||j!==0?(j<<=1,j|=Q,(++L===4||S===0&&W===0)&&(k=this.mul(k,_[j]),L=0,j=0)):L=0}D=26}return k},E.prototype.convertTo=function(N){var x=N.umod(this.m);return x===N?x.clone():x},E.prototype.convertFrom=function(N){var x=N.clone();return x.red=null,x},o.mont=function(N){return new P(N)},l(P,E),P.prototype.convertTo=function(N){return this.imod(N.ushln(this.shift))},P.prototype.convertFrom=function(N){var x=this.imod(N.mul(this.rinv));return x.red=null,x},P.prototype.imul=function(N,x){if(N.isZero()||x.isZero())return N.words[0]=0,N.length=1,N;var _=N.imul(x),S=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=_.isub(S).iushrn(this.shift),j=k;return k.cmp(this.m)>=0?j=k.isub(this.m):k.cmpn(0)<0&&(j=k.iadd(this.m)),j._forceRed(this)},P.prototype.mul=function(N,x){if(N.isZero()||x.isZero())return new o(0)._forceRed(this);var _=N.mul(x),S=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=_.isub(S).iushrn(this.shift),j=k;return k.cmp(this.m)>=0?j=k.isub(this.m):k.cmpn(0)<0&&(j=k.iadd(this.m)),j._forceRed(this)},P.prototype.invm=function(N){return this.imod(N._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(e,n,i){var s;function a(l){this.rand=l}if(n.exports=function(l){return s||(s=new a(null)),s.generate(l)},n.exports.Rand=a,a.prototype.generate=function(l){return this._rand(l)},a.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var o=new Uint8Array(l),u=0;u<o.length;u++)o[u]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(l){var o=new Uint8Array(l);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(l){var o=new Uint8Array(l);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var c=e("crypto");if(typeof c.randomBytes!="function")throw new Error("Not supported");a.prototype._rand=function(l){return c.randomBytes(l)}}catch{}},{crypto:188}],188:[function(e,n,i){},{}],189:[function(e,n,i){var s=e("safe-buffer").Buffer;function a(d){s.isBuffer(d)||(d=s.from(d));for(var h=d.length/4|0,g=new Array(h),b=0;b<h;b++)g[b]=d.readUInt32BE(4*b);return g}function c(d){for(;0<d.length;d++)d[0]=0}function l(d,h,g,b,m){for(var v,y,w,T,I=g[0],V=g[1],B=g[2],A=g[3],M=d[0]^h[0],F=d[1]^h[1],$=d[2]^h[2],U=d[3]^h[3],E=4,P=1;P<m;P++)v=I[M>>>24]^V[F>>>16&255]^B[$>>>8&255]^A[255&U]^h[E++],y=I[F>>>24]^V[$>>>16&255]^B[U>>>8&255]^A[255&M]^h[E++],w=I[$>>>24]^V[U>>>16&255]^B[M>>>8&255]^A[255&F]^h[E++],T=I[U>>>24]^V[M>>>16&255]^B[F>>>8&255]^A[255&$]^h[E++],M=v,F=y,$=w,U=T;return v=(b[M>>>24]<<24|b[F>>>16&255]<<16|b[$>>>8&255]<<8|b[255&U])^h[E++],y=(b[F>>>24]<<24|b[$>>>16&255]<<16|b[U>>>8&255]<<8|b[255&M])^h[E++],w=(b[$>>>24]<<24|b[U>>>16&255]<<16|b[M>>>8&255]<<8|b[255&F])^h[E++],T=(b[U>>>24]<<24|b[M>>>16&255]<<16|b[F>>>8&255]<<8|b[255&$])^h[E++],[v>>>=0,y>>>=0,w>>>=0,T>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var d=new Array(256),h=0;h<256;h++)d[h]=h<128?h<<1:h<<1^283;for(var g=[],b=[],m=[[],[],[],[]],v=[[],[],[],[]],y=0,w=0,T=0;T<256;++T){var I=w^w<<1^w<<2^w<<3^w<<4;I=I>>>8^255&I^99,g[y]=I,b[I]=y;var V=d[y],B=d[V],A=d[B],M=257*d[I]^16843008*I;m[0][y]=M<<24|M>>>8,m[1][y]=M<<16|M>>>16,m[2][y]=M<<8|M>>>24,m[3][y]=M,M=16843009*A^65537*B^257*V^16843008*y,v[0][I]=M<<24|M>>>8,v[1][I]=M<<16|M>>>16,v[2][I]=M<<8|M>>>24,v[3][I]=M,y===0?y=w=1:(y=V^d[d[d[A^V]]],w^=d[d[w]])}return{SBOX:g,INV_SBOX:b,SUB_MIX:m,INV_SUB_MIX:v}}();function f(d){this._key=a(d),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var d=this._key,h=d.length,g=h+6,b=4*(g+1),m=[],v=0;v<h;v++)m[v]=d[v];for(v=h;v<b;v++){var y=m[v-1];v%h==0?(y=y<<8|y>>>24,y=u.SBOX[y>>>24]<<24|u.SBOX[y>>>16&255]<<16|u.SBOX[y>>>8&255]<<8|u.SBOX[255&y],y^=o[v/h|0]<<24):h>6&&v%h==4&&(y=u.SBOX[y>>>24]<<24|u.SBOX[y>>>16&255]<<16|u.SBOX[y>>>8&255]<<8|u.SBOX[255&y]),m[v]=m[v-h]^y}for(var w=[],T=0;T<b;T++){var I=b-T,V=m[I-(T%4?0:4)];w[T]=T<4||I<=4?V:u.INV_SUB_MIX[0][u.SBOX[V>>>24]]^u.INV_SUB_MIX[1][u.SBOX[V>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[V>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&V]]}this._nRounds=g,this._keySchedule=m,this._invKeySchedule=w},f.prototype.encryptBlockRaw=function(d){return l(d=a(d),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},f.prototype.encryptBlock=function(d){var h=this.encryptBlockRaw(d),g=s.allocUnsafe(16);return g.writeUInt32BE(h[0],0),g.writeUInt32BE(h[1],4),g.writeUInt32BE(h[2],8),g.writeUInt32BE(h[3],12),g},f.prototype.decryptBlock=function(d){var h=(d=a(d))[1];d[1]=d[3],d[3]=h;var g=l(d,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),b=s.allocUnsafe(16);return b.writeUInt32BE(g[0],0),b.writeUInt32BE(g[3],4),b.writeUInt32BE(g[2],8),b.writeUInt32BE(g[1],12),b},f.prototype.scrub=function(){c(this._keySchedule),c(this._invKeySchedule),c(this._key)},n.exports.AES=f},{"safe-buffer":494}],190:[function(e,n,i){var s=e("./aes"),a=e("safe-buffer").Buffer,c=e("cipher-base"),l=e("inherits"),o=e("./ghash"),u=e("buffer-xor"),f=e("./incr32");function d(h,g,b,m){c.call(this);var v=a.alloc(4,0);this._cipher=new s.AES(g);var y=this._cipher.encryptBlock(v);this._ghash=new o(y),b=function(w,T,I){if(T.length===12)return w._finID=a.concat([T,a.from([0,0,0,1])]),a.concat([T,a.from([0,0,0,2])]);var V=new o(I),B=T.length,A=B%16;V.update(T),A&&(A=16-A,V.update(a.alloc(A,0))),V.update(a.alloc(8,0));var M=8*B,F=a.alloc(8);F.writeUIntBE(M,0,8),V.update(F),w._finID=V.state;var $=a.from(w._finID);return f($),$}(this,b,y),this._prev=a.from(b),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}l(d,c),d.prototype._update=function(h){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=a.alloc(g,0),this._ghash.update(g))}this._called=!0;var b=this._mode.encrypt(this,h);return this._decrypt?this._ghash.update(h):this._ghash.update(b),this._len+=h.length,b},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var h=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(g,b){var m=0;g.length!==b.length&&m++;for(var v=Math.min(g.length,b.length),y=0;y<v;++y)m+=g[y]^b[y];return m}(h,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=h,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(h){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=h},d.prototype.setAAD=function(h){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(h),this._alen+=h.length},n.exports=d},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,n,i){var s=e("./encrypter"),a=e("./decrypter"),c=e("./modes/list.json");i.createCipher=i.Cipher=s.createCipher,i.createCipheriv=i.Cipheriv=s.createCipheriv,i.createDecipher=i.Decipher=a.createDecipher,i.createDecipheriv=i.Decipheriv=a.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(c)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,n,i){var s=e("./authCipher"),a=e("safe-buffer").Buffer,c=e("./modes"),l=e("./streamCipher"),o=e("cipher-base"),u=e("./aes"),f=e("evp_bytestokey");function d(b,m,v){o.call(this),this._cache=new h,this._last=void 0,this._cipher=new u.AES(m),this._prev=a.from(v),this._mode=b,this._autopadding=!0}function h(){this.cache=a.allocUnsafe(0)}function g(b,m,v){var y=c[b.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=a.from(v)),y.mode!=="GCM"&&v.length!==y.iv)throw new TypeError("invalid iv length "+v.length);if(typeof m=="string"&&(m=a.from(m)),m.length!==y.key/8)throw new TypeError("invalid key length "+m.length);return y.type==="stream"?new l(y.module,m,v,!0):y.type==="auth"?new s(y.module,m,v,!0):new d(y.module,m,v)}e("inherits")(d,o),d.prototype._update=function(b){var m,v;this._cache.add(b);for(var y=[];m=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,m),y.push(v);return a.concat(y)},d.prototype._final=function(){var b=this._cache.flush();if(this._autopadding)return function(m){var v=m[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var y=-1;++y<v;)if(m[y+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return m.slice(0,16-v)}(this._mode.decrypt(this,b));if(b)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(b){return this._autopadding=!!b,this},h.prototype.add=function(b){this.cache=a.concat([this.cache,b])},h.prototype.get=function(b){var m;if(b){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(b,m){var v=c[b.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var y=f(m,!1,v.key,v.iv);return g(b,y.key,y.iv)},i.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,n,i){var s=e("./modes"),a=e("./authCipher"),c=e("safe-buffer").Buffer,l=e("./streamCipher"),o=e("cipher-base"),u=e("./aes"),f=e("evp_bytestokey");function d(m,v,y){o.call(this),this._cache=new g,this._cipher=new u.AES(v),this._prev=c.from(y),this._mode=m,this._autopadding=!0}e("inherits")(d,o),d.prototype._update=function(m){var v,y;this._cache.add(m);for(var w=[];v=this._cache.get();)y=this._mode.encrypt(this,v),w.push(y);return c.concat(w)};var h=c.alloc(16,16);function g(){this.cache=c.allocUnsafe(0)}function b(m,v,y){var w=s[m.toLowerCase()];if(!w)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=c.from(v)),v.length!==w.key/8)throw new TypeError("invalid key length "+v.length);if(typeof y=="string"&&(y=c.from(y)),w.mode!=="GCM"&&y.length!==w.iv)throw new TypeError("invalid iv length "+y.length);return w.type==="stream"?new l(w.module,v,y):w.type==="auth"?new a(w.module,v,y):new d(w.module,v,y)}d.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},g.prototype.add=function(m){this.cache=c.concat([this.cache,m])},g.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},g.prototype.flush=function(){for(var m=16-this.cache.length,v=c.allocUnsafe(m),y=-1;++y<m;)v.writeUInt8(m,y);return c.concat([this.cache,v])},i.createCipheriv=b,i.createCipher=function(m,v){var y=s[m.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var w=f(v,!1,y.key,y.iv);return b(m,w.key,w.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,n,i){var s=e("safe-buffer").Buffer,a=s.alloc(16,0);function c(o){var u=s.allocUnsafe(16);return u.writeUInt32BE(o[0]>>>0,0),u.writeUInt32BE(o[1]>>>0,4),u.writeUInt32BE(o[2]>>>0,8),u.writeUInt32BE(o[3]>>>0,12),u}function l(o){this.h=o,this.state=s.alloc(16,0),this.cache=s.allocUnsafe(0)}l.prototype.ghash=function(o){for(var u=-1;++u<o.length;)this.state[u]^=o[u];this._multiply()},l.prototype._multiply=function(){for(var o,u,f,d=[(o=this.h).readUInt32BE(0),o.readUInt32BE(4),o.readUInt32BE(8),o.readUInt32BE(12)],h=[0,0,0,0],g=-1;++g<128;){for(this.state[~~(g/8)]&1<<7-g%8&&(h[0]^=d[0],h[1]^=d[1],h[2]^=d[2],h[3]^=d[3]),f=(1&d[3])!=0,u=3;u>0;u--)d[u]=d[u]>>>1|(1&d[u-1])<<31;d[0]=d[0]>>>1,f&&(d[0]=d[0]^225<<24)}this.state=c(h)},l.prototype.update=function(o){var u;for(this.cache=s.concat([this.cache,o]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},l.prototype.final=function(o,u){return this.cache.length&&this.ghash(s.concat([this.cache,a],16)),this.ghash(c([0,o,0,u])),this.state},n.exports=l},{"safe-buffer":494}],195:[function(e,n,i){n.exports=function(s){for(var a,c=s.length;c--;){if((a=s.readUInt8(c))!==255){a++,s.writeUInt8(a,c);break}s.writeUInt8(0,c)}}},{}],196:[function(e,n,i){var s=e("buffer-xor");i.encrypt=function(a,c){var l=s(c,a._prev);return a._prev=a._cipher.encryptBlock(l),a._prev},i.decrypt=function(a,c){var l=a._prev;a._prev=c;var o=a._cipher.decryptBlock(c);return s(o,l)}},{"buffer-xor":219}],197:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("buffer-xor");function c(l,o,u){var f=o.length,d=a(o,l._cache);return l._cache=l._cache.slice(f),l._prev=s.concat([l._prev,u?o:d]),d}i.encrypt=function(l,o,u){for(var f,d=s.allocUnsafe(0);o.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=s.allocUnsafe(0)),!(l._cache.length<=o.length)){d=s.concat([d,c(l,o,u)]);break}f=l._cache.length,d=s.concat([d,c(l,o.slice(0,f),u)]),o=o.slice(f)}return d}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,n,i){var s=e("safe-buffer").Buffer;function a(l,o,u){for(var f,d,h=-1,g=0;++h<8;)f=o&1<<7-h?128:0,g+=(128&(d=l._cipher.encryptBlock(l._prev)[0]^f))>>h%8,l._prev=c(l._prev,u?f:d);return g}function c(l,o){var u=l.length,f=-1,d=s.allocUnsafe(l.length);for(l=s.concat([l,s.from([o])]);++f<u;)d[f]=l[f]<<1|l[f+1]>>7;return d}i.encrypt=function(l,o,u){for(var f=o.length,d=s.allocUnsafe(f),h=-1;++h<f;)d[h]=a(l,o[h],u);return d}},{"safe-buffer":494}],199:[function(e,n,i){var s=e("safe-buffer").Buffer;function a(c,l,o){var u=c._cipher.encryptBlock(c._prev)[0]^l;return c._prev=s.concat([c._prev.slice(1),s.from([o?l:u])]),u}i.encrypt=function(c,l,o){for(var u=l.length,f=s.allocUnsafe(u),d=-1;++d<u;)f[d]=a(c,l[d],o);return f}},{"safe-buffer":494}],200:[function(e,n,i){var s=e("buffer-xor"),a=e("safe-buffer").Buffer,c=e("../incr32");function l(o){var u=o._cipher.encryptBlockRaw(o._prev);return c(o._prev),u}i.encrypt=function(o,u){var f=Math.ceil(u.length/16),d=o._cache.length;o._cache=a.concat([o._cache,a.allocUnsafe(16*f)]);for(var h=0;h<f;h++){var g=l(o),b=d+16*h;o._cache.writeUInt32BE(g[0],b+0),o._cache.writeUInt32BE(g[1],b+4),o._cache.writeUInt32BE(g[2],b+8),o._cache.writeUInt32BE(g[3],b+12)}var m=o._cache.slice(0,u.length);return o._cache=o._cache.slice(u.length),s(u,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,n,i){i.encrypt=function(s,a){return s._cipher.encryptBlock(a)},i.decrypt=function(s,a){return s._cipher.decryptBlock(a)}},{}],202:[function(e,n,i){var s={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},a=e("./list.json");for(var c in a)a[c].module=s[a[c].mode];n.exports=a},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,n,i){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,n,i){(function(s){(function(){var a=e("buffer-xor");function c(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}i.encrypt=function(l,o){for(;l._cache.length<o.length;)l._cache=s.concat([l._cache,c(l)]);var u=l._cache.slice(0,o.length);return l._cache=l._cache.slice(o.length),a(o,u)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,n,i){var s=e("./aes"),a=e("safe-buffer").Buffer,c=e("cipher-base");function l(o,u,f,d){c.call(this),this._cipher=new s.AES(u),this._prev=a.from(f),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=d,this._mode=o}e("inherits")(l,c),l.prototype._update=function(o){return this._mode.encrypt(this,o,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},n.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,n,i){var s=e("browserify-des"),a=e("browserify-aes/browser"),c=e("browserify-aes/modes"),l=e("browserify-des/modes"),o=e("evp_bytestokey");function u(d,h,g){if(d=d.toLowerCase(),c[d])return a.createCipheriv(d,h,g);if(l[d])return new s({key:h,iv:g,mode:d});throw new TypeError("invalid suite type")}function f(d,h,g){if(d=d.toLowerCase(),c[d])return a.createDecipheriv(d,h,g);if(l[d])return new s({key:h,iv:g,mode:d,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(d,h){var g,b;if(d=d.toLowerCase(),c[d])g=c[d].key,b=c[d].iv;else{if(!l[d])throw new TypeError("invalid suite type");g=8*l[d].key,b=l[d].iv}var m=o(h,!1,g,b);return u(d,m.key,m.iv)},i.createCipheriv=i.Cipheriv=u,i.createDecipher=i.Decipher=function(d,h){var g,b;if(d=d.toLowerCase(),c[d])g=c[d].key,b=c[d].iv;else{if(!l[d])throw new TypeError("invalid suite type");g=8*l[d].key,b=l[d].iv}var m=o(h,!1,g,b);return f(d,m.key,m.iv)},i.createDecipheriv=i.Decipheriv=f,i.listCiphers=i.getCiphers=function(){return Object.keys(l).concat(a.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,n,i){var s=e("cipher-base"),a=e("des.js"),c=e("inherits"),l=e("safe-buffer").Buffer,o={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};function u(f){s.call(this);var d,h=f.mode.toLowerCase(),g=o[h];d=f.decrypt?"decrypt":"encrypt";var b=f.key;l.isBuffer(b)||(b=l.from(b)),h!=="des-ede"&&h!=="des-ede-cbc"||(b=l.concat([b,b.slice(0,8)]));var m=f.iv;l.isBuffer(m)||(m=l.from(m)),this._des=g.create({key:b,iv:m,type:d})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],n.exports=u,c(u,s),u.prototype._update=function(f){return l.from(this._des.update(f))},u.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,n,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],209:[function(e,n,i){(function(s){(function(){var a=e("bn.js"),c=e("randombytes");function l(u){var f,d=u.modulus.byteLength();do f=new a(c(d));while(f.cmp(u.modulus)>=0||!f.umod(u.prime1)||!f.umod(u.prime2));return f}function o(u,f){var d=function(B){var A=l(B);return{blinder:A.toRed(a.mont(B.modulus)).redPow(new a(B.publicExponent)).fromRed(),unblinder:A.invm(B.modulus)}}(f),h=f.modulus.byteLength(),g=new a(u).mul(d.blinder).umod(f.modulus),b=g.toRed(a.mont(f.prime1)),m=g.toRed(a.mont(f.prime2)),v=f.coefficient,y=f.prime1,w=f.prime2,T=b.redPow(f.exponent1).fromRed(),I=m.redPow(f.exponent2).fromRed(),V=T.isub(I).imul(v).umod(y).imul(w);return I.iadd(V).imul(d.unblinder).umod(f.modulus).toArrayLike(s,"be",h)}o.getr=l,n.exports=o}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,n,i){n.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,n,i){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,n,i){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("create-hash"),c=e("readable-stream"),l=e("inherits"),o=e("./sign"),u=e("./verify"),f=e("./algorithms.json");function d(m){c.Writable.call(this);var v=f[m];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=a(v.hash),this._tag=v.id,this._signType=v.sign}function h(m){c.Writable.call(this);var v=f[m];if(!v)throw new Error("Unknown message digest");this._hash=a(v.hash),this._tag=v.id,this._signType=v.sign}function g(m){return new d(m)}function b(m){return new h(m)}Object.keys(f).forEach(function(m){f[m].id=s.from(f[m].id,"hex"),f[m.toLowerCase()]=f[m]}),l(d,c.Writable),d.prototype._write=function(m,v,y){this._hash.update(m),y()},d.prototype.update=function(m,v){return typeof m=="string"&&(m=s.from(m,v)),this._hash.update(m),this},d.prototype.sign=function(m,v){this.end();var y=this._hash.digest(),w=o(y,m,this._hashType,this._signType,this._tag);return v?w.toString(v):w},l(h,c.Writable),h.prototype._write=function(m,v,y){this._hash.update(m),y()},h.prototype.update=function(m,v){return typeof m=="string"&&(m=s.from(m,v)),this._hash.update(m),this},h.prototype.verify=function(m,v,y){typeof v=="string"&&(v=s.from(v,y)),this.end();var w=this._hash.digest();return u(v,w,m,this._signType,this._tag)},n.exports={Sign:g,Verify:b,createSign:g,createVerify:b}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("create-hmac"),c=e("browserify-rsa"),l=e("elliptic").ec,o=e("bn.js"),u=e("parse-asn1"),f=e("./curves.json");function d(m,v,y,w){if((m=s.from(m.toArray())).length<v.byteLength()){var T=s.alloc(v.byteLength()-m.length);m=s.concat([T,m])}var I=y.length,V=function(M,F){M=(M=h(M,F)).mod(F);var $=s.from(M.toArray());if($.length<F.byteLength()){var U=s.alloc(F.byteLength()-$.length);$=s.concat([U,$])}return $}(y,v),B=s.alloc(I);B.fill(1);var A=s.alloc(I);return A=a(w,A).update(B).update(s.from([0])).update(m).update(V).digest(),B=a(w,A).update(B).digest(),{k:A=a(w,A).update(B).update(s.from([1])).update(m).update(V).digest(),v:B=a(w,A).update(B).digest()}}function h(m,v){var y=new o(m),w=(m.length<<3)-v.bitLength();return w>0&&y.ishrn(w),y}function g(m,v,y){var w,T;do{for(w=s.alloc(0);8*w.length<m.bitLength();)v.v=a(y,v.k).update(v.v).digest(),w=s.concat([w,v.v]);T=h(w,m),v.k=a(y,v.k).update(v.v).update(s.from([0])).digest(),v.v=a(y,v.k).update(v.v).digest()}while(T.cmp(m)!==-1);return T}function b(m,v,y,w){return m.toRed(o.mont(y)).redPow(v).fromRed().mod(w)}n.exports=function(m,v,y,w,T){var I=u(v);if(I.curve){if(w!=="ecdsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");return function(M,F){var $=f[F.curve.join(".")];if(!$)throw new Error("unknown curve "+F.curve.join("."));var U=new l($).keyFromPrivate(F.privateKey).sign(M);return s.from(U.toDER())}(m,I)}if(I.type==="dsa"){if(w!=="dsa")throw new Error("wrong private key type");return function(M,F,$){for(var U,E=F.params.priv_key,P=F.params.p,N=F.params.q,x=F.params.g,_=new o(0),S=h(M,N).mod(N),k=!1,j=d(E,N,M,$);k===!1;)U=g(N,j,$),_=b(x,U,P,N),(k=U.invm(N).imul(S.add(E.mul(_))).mod(N)).cmpn(0)===0&&(k=!1,_=new o(0));return function(L,D){L=L.toArray(),D=D.toArray(),128&L[0]&&(L=[0].concat(L)),128&D[0]&&(D=[0].concat(D));var q=[48,L.length+D.length+4,2,L.length];return q=q.concat(L,[2,D.length],D),s.from(q)}(_,k)}(m,I,y)}if(w!=="rsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");m=s.concat([T,m]);for(var V=I.modulus.byteLength(),B=[0,1];m.length+B.length+1<V;)B.push(255);B.push(0);for(var A=-1;++A<m.length;)B.push(m[A]);return c(B,I)},n.exports.getKey=d,n.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("bn.js"),c=e("elliptic").ec,l=e("parse-asn1"),o=e("./curves.json");function u(f,d){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(d)>=d)throw new Error("invalid sig")}n.exports=function(f,d,h,g,b){var m=l(h);if(m.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return function(B,A,M){var F=o[M.data.algorithm.curve.join(".")];if(!F)throw new Error("unknown curve "+M.data.algorithm.curve.join("."));var $=new c(F),U=M.data.subjectPrivateKey.data;return $.verify(A,B,U)}(f,d,m)}if(m.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return function(B,A,M){var F=M.data.p,$=M.data.q,U=M.data.g,E=M.data.pub_key,P=l.signature.decode(B,"der"),N=P.s,x=P.r;u(N,$),u(x,$);var _=a.mont(F),S=N.invm($);return U.toRed(_).redPow(new a(A).mul(S).mod($)).fromRed().mul(E.toRed(_).redPow(x.mul(S).mod($)).fromRed()).mod(F).mod($).cmp(x)===0}(f,d,m)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");d=s.concat([b,d]);for(var v=m.modulus.byteLength(),y=[1],w=0;d.length+y.length+2<v;)y.push(255),w++;y.push(0);for(var T=-1;++T<d.length;)y.push(d[T]);y=s.from(y);var I=a.mont(m.modulus);f=(f=new a(f).toRed(I)).redPow(new a(m.publicExponent)),f=s.from(f.fromRed().toArray());var V=w<8?1:0;for(v=Math.min(f.length,y.length),f.length!==y.length&&(V=1),T=-1;++T<v;)V|=f[T]^y[T];return V===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,n,i){},{}],217:[function(e,n,i){var s=e("buffer"),a=s.Buffer;function c(o,u){for(var f in o)u[f]=o[f]}function l(o,u,f){return a(o,u,f)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=s:(c(s,i),i.Buffer=l),c(a,l),l.from=function(o,u,f){if(typeof o=="number")throw new TypeError("Argument must not be a number");return a(o,u,f)},l.alloc=function(o,u,f){if(typeof o!="number")throw new TypeError("Argument must be a number");var d=a(o);return u!==void 0?typeof f=="string"?d.fill(u,f):d.fill(u):d.fill(0),d},l.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a(o)},l.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(o)}},{buffer:220}],218:[function(e,n,i){var s=e("safe-buffer").Buffer,a=s.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(m){var v;switch(this.encoding=function(y){var w=function(T){if(!T)return"utf8";for(var I;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if(I)return;T=(""+T).toLowerCase(),I=!0}}(y);if(typeof w!="string"&&(s.isEncoding===a||!a(y)))throw new Error("Unknown encoding: "+y);return w||y}(m),this.encoding){case"utf16le":this.text=u,this.end=f,v=4;break;case"utf8":this.fillLast=o,v=4;break;case"base64":this.text=d,this.end=h,v=3;break;default:return this.write=g,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(v)}function l(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function o(m){var v=this.lastTotal-this.lastNeed,y=function(w,T,I){if((192&T[0])!=128)return w.lastNeed=0,"";if(w.lastNeed>1&&T.length>1){if((192&T[1])!=128)return w.lastNeed=1,"";if(w.lastNeed>2&&T.length>2&&(192&T[2])!=128)return w.lastNeed=2,""}}(this,m);return y!==void 0?y:this.lastNeed<=m.length?(m.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,v,0,m.length),void(this.lastNeed-=m.length))}function u(m,v){if((m.length-v)%2==0){var y=m.toString("utf16le",v);if(y){var w=y.charCodeAt(y.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",v,m.length-1)}function f(m){var v=m&&m.length?this.write(m):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,y)}return v}function d(m,v){var y=(m.length-v)%3;return y===0?m.toString("base64",v):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",v,m.length-y))}function h(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function g(m){return m.toString(this.encoding)}function b(m){return m&&m.length?this.write(m):""}i.StringDecoder=c,c.prototype.write=function(m){if(m.length===0)return"";var v,y;if(this.lastNeed){if((v=this.fillLast(m))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<m.length?v?v+this.text(m,y):this.text(m,y):v||""},c.prototype.end=function(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+"":v},c.prototype.text=function(m,v){var y=function(T,I,V){var B=I.length-1;if(B<V)return 0;var A=l(I[B]);return A>=0?(A>0&&(T.lastNeed=A-1),A):--B<V||A===-2?0:(A=l(I[B]))>=0?(A>0&&(T.lastNeed=A-2),A):--B<V||A===-2?0:(A=l(I[B]))>=0?(A>0&&(A===2?A=0:T.lastNeed=A-3),A):0}(this,m,v);if(!this.lastNeed)return m.toString("utf8",v);this.lastTotal=y;var w=m.length-(y-this.lastNeed);return m.copy(this.lastChar,0,w),m.toString("utf8",v,w)},c.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(e,n,i){(function(s){(function(){n.exports=function(a,c){for(var l=Math.min(a.length,c.length),o=new s(l),u=0;u<l;++u)o[u]=a[u]^c[u];return o}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,n,i){(function(s){(function(){var a=e("base64-js"),c=e("ieee754");i.Buffer=o,i.SlowBuffer=function(O){return+O!=O&&(O=0),o.alloc(+O)},i.INSPECT_MAX_BYTES=50;function l(O){if(O>2147483647)throw new RangeError('The value "'+O+'" is invalid for option "size"');var R=new Uint8Array(O);return R.__proto__=o.prototype,R}function o(O,R,H){if(typeof O=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(O)}return u(O,R,H)}function u(O,R,H){if(typeof O=="string")return function(Z,te){if(typeof te=="string"&&te!==""||(te="utf8"),!o.isEncoding(te))throw new TypeError("Unknown encoding: "+te);var oe=0|b(Z,te),le=l(oe),ee=le.write(Z,te);return ee!==oe&&(le=le.slice(0,ee)),le}(O,R);if(ArrayBuffer.isView(O))return h(O);if(O==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(z(O,ArrayBuffer)||O&&z(O.buffer,ArrayBuffer))return function(Z,te,oe){if(te<0||Z.byteLength<te)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<te+(oe||0))throw new RangeError('"length" is outside of buffer bounds');var le;return le=te===void 0&&oe===void 0?new Uint8Array(Z):oe===void 0?new Uint8Array(Z,te):new Uint8Array(Z,te,oe),le.__proto__=o.prototype,le}(O,R,H);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Y=O.valueOf&&O.valueOf();if(Y!=null&&Y!==O)return o.from(Y,R,H);var J=function(Z){if(o.isBuffer(Z)){var te=0|g(Z.length),oe=l(te);return oe.length===0||Z.copy(oe,0,0,te),oe}if(Z.length!==void 0)return typeof Z.length!="number"||K(Z.length)?l(0):h(Z);if(Z.type==="Buffer"&&Array.isArray(Z.data))return h(Z.data)}(O);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return o.from(O[Symbol.toPrimitive]("string"),R,H);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}function f(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function d(O){return f(O),l(O<0?0:0|g(O))}function h(O){for(var R=O.length<0?0:0|g(O.length),H=l(R),Y=0;Y<R;Y+=1)H[Y]=255&O[Y];return H}function g(O){if(O>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|O}function b(O,R){if(o.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||z(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);var H=O.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&H===0)return 0;for(var J=!1;;)switch(R){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return q(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*H;case"hex":return H>>>1;case"base64":return W(O).length;default:if(J)return Y?-1:q(O).length;R=(""+R).toLowerCase(),J=!0}}function m(O,R,H){var Y=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((H===void 0||H>this.length)&&(H=this.length),H<=0)||(H>>>=0)<=(R>>>=0))return"";for(O||(O="utf8");;)switch(O){case"hex":return P(this,R,H);case"utf8":case"utf-8":return $(this,R,H);case"ascii":return U(this,R,H);case"latin1":case"binary":return E(this,R,H);case"base64":return F(this,R,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,R,H);default:if(Y)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),Y=!0}}function v(O,R,H){var Y=O[R];O[R]=O[H],O[H]=Y}function y(O,R,H,Y,J){if(O.length===0)return-1;if(typeof H=="string"?(Y=H,H=0):H>2147483647?H=2147483647:H<-2147483648&&(H=-2147483648),K(H=+H)&&(H=J?0:O.length-1),H<0&&(H=O.length+H),H>=O.length){if(J)return-1;H=O.length-1}else if(H<0){if(!J)return-1;H=0}if(typeof R=="string"&&(R=o.from(R,Y)),o.isBuffer(R))return R.length===0?-1:w(O,R,H,Y,J);if(typeof R=="number")return R&=255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(O,R,H):Uint8Array.prototype.lastIndexOf.call(O,R,H):w(O,[R],H,Y,J);throw new TypeError("val must be string, number or Buffer")}function w(O,R,H,Y,J){var Z,te=1,oe=O.length,le=R.length;if(Y!==void 0&&((Y=String(Y).toLowerCase())==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(O.length<2||R.length<2)return-1;te=2,oe/=2,le/=2,H/=2}function ee(ce,fe){return te===1?ce[fe]:ce.readUInt16BE(fe*te)}if(J){var se=-1;for(Z=H;Z<oe;Z++)if(ee(O,Z)===ee(R,se===-1?0:Z-se)){if(se===-1&&(se=Z),Z-se+1===le)return se*te}else se!==-1&&(Z-=Z-se),se=-1}else for(H+le>oe&&(H=oe-le),Z=H;Z>=0;Z--){for(var ie=!0,ue=0;ue<le;ue++)if(ee(O,Z+ue)!==ee(R,ue)){ie=!1;break}if(ie)return Z}return-1}function T(O,R,H,Y){H=Number(H)||0;var J=O.length-H;Y?(Y=Number(Y))>J&&(Y=J):Y=J;var Z=R.length;Y>Z/2&&(Y=Z/2);for(var te=0;te<Y;++te){var oe=parseInt(R.substr(2*te,2),16);if(K(oe))return te;O[H+te]=oe}return te}function I(O,R,H,Y){return Q(q(R,O.length-H),O,H,Y)}function V(O,R,H,Y){return Q(function(J){for(var Z=[],te=0;te<J.length;++te)Z.push(255&J.charCodeAt(te));return Z}(R),O,H,Y)}function B(O,R,H,Y){return V(O,R,H,Y)}function A(O,R,H,Y){return Q(W(R),O,H,Y)}function M(O,R,H,Y){return Q(function(J,Z){for(var te,oe,le,ee=[],se=0;se<J.length&&!((Z-=2)<0);++se)te=J.charCodeAt(se),oe=te>>8,le=te%256,ee.push(le),ee.push(oe);return ee}(R,O.length-H),O,H,Y)}function F(O,R,H){return R===0&&H===O.length?a.fromByteArray(O):a.fromByteArray(O.slice(R,H))}function $(O,R,H){H=Math.min(O.length,H);for(var Y=[],J=R;J<H;){var Z,te,oe,le,ee=O[J],se=null,ie=ee>239?4:ee>223?3:ee>191?2:1;if(J+ie<=H)switch(ie){case 1:ee<128&&(se=ee);break;case 2:(192&(Z=O[J+1]))==128&&(le=(31&ee)<<6|63&Z)>127&&(se=le);break;case 3:Z=O[J+1],te=O[J+2],(192&Z)==128&&(192&te)==128&&(le=(15&ee)<<12|(63&Z)<<6|63&te)>2047&&(le<55296||le>57343)&&(se=le);break;case 4:Z=O[J+1],te=O[J+2],oe=O[J+3],(192&Z)==128&&(192&te)==128&&(192&oe)==128&&(le=(15&ee)<<18|(63&Z)<<12|(63&te)<<6|63&oe)>65535&&le<1114112&&(se=le)}se===null?(se=65533,ie=1):se>65535&&(se-=65536,Y.push(se>>>10&1023|55296),se=56320|1023&se),Y.push(se),J+=ie}return function(ue){var ce=ue.length;if(ce<=4096)return String.fromCharCode.apply(String,ue);for(var fe="",ge=0;ge<ce;)fe+=String.fromCharCode.apply(String,ue.slice(ge,ge+=4096));return fe}(Y)}i.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=function(){try{var O=new Uint8Array(1);return O.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},O.foo()===42}catch{return!1}}(),o.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(O,R,H){return u(O,R,H)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(O,R,H){return function(Y,J,Z){return f(Y),Y<=0?l(Y):J!==void 0?typeof Z=="string"?l(Y).fill(J,Z):l(Y).fill(J):l(Y)}(O,R,H)},o.allocUnsafe=function(O){return d(O)},o.allocUnsafeSlow=function(O){return d(O)},o.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==o.prototype},o.compare=function(O,R){if(z(O,Uint8Array)&&(O=o.from(O,O.offset,O.byteLength)),z(R,Uint8Array)&&(R=o.from(R,R.offset,R.byteLength)),!o.isBuffer(O)||!o.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===R)return 0;for(var H=O.length,Y=R.length,J=0,Z=Math.min(H,Y);J<Z;++J)if(O[J]!==R[J]){H=O[J],Y=R[J];break}return H<Y?-1:Y<H?1:0},o.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(O,R){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return o.alloc(0);var H;if(R===void 0)for(R=0,H=0;H<O.length;++H)R+=O[H].length;var Y=o.allocUnsafe(R),J=0;for(H=0;H<O.length;++H){var Z=O[H];if(z(Z,Uint8Array)&&(Z=o.from(Z)),!o.isBuffer(Z))throw new TypeError('"list" argument must be an Array of Buffers');Z.copy(Y,J),J+=Z.length}return Y},o.byteLength=b,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var O=this.length;if(O%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<O;R+=2)v(this,R,R+1);return this},o.prototype.swap32=function(){var O=this.length;if(O%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<O;R+=4)v(this,R,R+3),v(this,R+1,R+2);return this},o.prototype.swap64=function(){var O=this.length;if(O%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<O;R+=8)v(this,R,R+7),v(this,R+1,R+6),v(this,R+2,R+5),v(this,R+3,R+4);return this},o.prototype.toString=function(){var O=this.length;return O===0?"":arguments.length===0?$(this,0,O):m.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(O){if(!o.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O||o.compare(this,O)===0},o.prototype.inspect=function(){var O="",R=i.INSPECT_MAX_BYTES;return O=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(O+=" ... "),"<Buffer "+O+">"},o.prototype.compare=function(O,R,H,Y,J){if(z(O,Uint8Array)&&(O=o.from(O,O.offset,O.byteLength)),!o.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(R===void 0&&(R=0),H===void 0&&(H=O?O.length:0),Y===void 0&&(Y=0),J===void 0&&(J=this.length),R<0||H>O.length||Y<0||J>this.length)throw new RangeError("out of range index");if(Y>=J&&R>=H)return 0;if(Y>=J)return-1;if(R>=H)return 1;if(this===O)return 0;for(var Z=(J>>>=0)-(Y>>>=0),te=(H>>>=0)-(R>>>=0),oe=Math.min(Z,te),le=this.slice(Y,J),ee=O.slice(R,H),se=0;se<oe;++se)if(le[se]!==ee[se]){Z=le[se],te=ee[se];break}return Z<te?-1:te<Z?1:0},o.prototype.includes=function(O,R,H){return this.indexOf(O,R,H)!==-1},o.prototype.indexOf=function(O,R,H){return y(this,O,R,H,!0)},o.prototype.lastIndexOf=function(O,R,H){return y(this,O,R,H,!1)},o.prototype.write=function(O,R,H,Y){if(R===void 0)Y="utf8",H=this.length,R=0;else if(H===void 0&&typeof R=="string")Y=R,H=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(H)?(H>>>=0,Y===void 0&&(Y="utf8")):(Y=H,H=void 0)}var J=this.length-R;if((H===void 0||H>J)&&(H=J),O.length>0&&(H<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");for(var Z=!1;;)switch(Y){case"hex":return T(this,O,R,H);case"utf8":case"utf-8":return I(this,O,R,H);case"ascii":return V(this,O,R,H);case"latin1":case"binary":return B(this,O,R,H);case"base64":return A(this,O,R,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,O,R,H);default:if(Z)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),Z=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(O,R,H){var Y="";H=Math.min(O.length,H);for(var J=R;J<H;++J)Y+=String.fromCharCode(127&O[J]);return Y}function E(O,R,H){var Y="";H=Math.min(O.length,H);for(var J=R;J<H;++J)Y+=String.fromCharCode(O[J]);return Y}function P(O,R,H){var Y=O.length;(!R||R<0)&&(R=0),(!H||H<0||H>Y)&&(H=Y);for(var J="",Z=R;Z<H;++Z)J+=D(O[Z]);return J}function N(O,R,H){for(var Y=O.slice(R,H),J="",Z=0;Z<Y.length;Z+=2)J+=String.fromCharCode(Y[Z]+256*Y[Z+1]);return J}function x(O,R,H){if(O%1!=0||O<0)throw new RangeError("offset is not uint");if(O+R>H)throw new RangeError("Trying to access beyond buffer length")}function _(O,R,H,Y,J,Z){if(!o.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>J||R<Z)throw new RangeError('"value" argument is out of bounds');if(H+Y>O.length)throw new RangeError("Index out of range")}function S(O,R,H,Y,J,Z){if(H+Y>O.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function k(O,R,H,Y,J){return R=+R,H>>>=0,J||S(O,0,H,4),c.write(O,R,H,Y,23,4),H+4}function j(O,R,H,Y,J){return R=+R,H>>>=0,J||S(O,0,H,8),c.write(O,R,H,Y,52,8),H+8}o.prototype.slice=function(O,R){var H=this.length;(O=~~O)<0?(O+=H)<0&&(O=0):O>H&&(O=H),(R=R===void 0?H:~~R)<0?(R+=H)<0&&(R=0):R>H&&(R=H),R<O&&(R=O);var Y=this.subarray(O,R);return Y.__proto__=o.prototype,Y},o.prototype.readUIntLE=function(O,R,H){O>>>=0,R>>>=0,H||x(O,R,this.length);for(var Y=this[O],J=1,Z=0;++Z<R&&(J*=256);)Y+=this[O+Z]*J;return Y},o.prototype.readUIntBE=function(O,R,H){O>>>=0,R>>>=0,H||x(O,R,this.length);for(var Y=this[O+--R],J=1;R>0&&(J*=256);)Y+=this[O+--R]*J;return Y},o.prototype.readUInt8=function(O,R){return O>>>=0,R||x(O,1,this.length),this[O]},o.prototype.readUInt16LE=function(O,R){return O>>>=0,R||x(O,2,this.length),this[O]|this[O+1]<<8},o.prototype.readUInt16BE=function(O,R){return O>>>=0,R||x(O,2,this.length),this[O]<<8|this[O+1]},o.prototype.readUInt32LE=function(O,R){return O>>>=0,R||x(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+16777216*this[O+3]},o.prototype.readUInt32BE=function(O,R){return O>>>=0,R||x(O,4,this.length),16777216*this[O]+(this[O+1]<<16|this[O+2]<<8|this[O+3])},o.prototype.readIntLE=function(O,R,H){O>>>=0,R>>>=0,H||x(O,R,this.length);for(var Y=this[O],J=1,Z=0;++Z<R&&(J*=256);)Y+=this[O+Z]*J;return Y>=(J*=128)&&(Y-=Math.pow(2,8*R)),Y},o.prototype.readIntBE=function(O,R,H){O>>>=0,R>>>=0,H||x(O,R,this.length);for(var Y=R,J=1,Z=this[O+--Y];Y>0&&(J*=256);)Z+=this[O+--Y]*J;return Z>=(J*=128)&&(Z-=Math.pow(2,8*R)),Z},o.prototype.readInt8=function(O,R){return O>>>=0,R||x(O,1,this.length),128&this[O]?-1*(255-this[O]+1):this[O]},o.prototype.readInt16LE=function(O,R){O>>>=0,R||x(O,2,this.length);var H=this[O]|this[O+1]<<8;return 32768&H?4294901760|H:H},o.prototype.readInt16BE=function(O,R){O>>>=0,R||x(O,2,this.length);var H=this[O+1]|this[O]<<8;return 32768&H?4294901760|H:H},o.prototype.readInt32LE=function(O,R){return O>>>=0,R||x(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},o.prototype.readInt32BE=function(O,R){return O>>>=0,R||x(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},o.prototype.readFloatLE=function(O,R){return O>>>=0,R||x(O,4,this.length),c.read(this,O,!0,23,4)},o.prototype.readFloatBE=function(O,R){return O>>>=0,R||x(O,4,this.length),c.read(this,O,!1,23,4)},o.prototype.readDoubleLE=function(O,R){return O>>>=0,R||x(O,8,this.length),c.read(this,O,!0,52,8)},o.prototype.readDoubleBE=function(O,R){return O>>>=0,R||x(O,8,this.length),c.read(this,O,!1,52,8)},o.prototype.writeUIntLE=function(O,R,H,Y){O=+O,R>>>=0,H>>>=0,Y||_(this,O,R,H,Math.pow(2,8*H)-1,0);var J=1,Z=0;for(this[R]=255&O;++Z<H&&(J*=256);)this[R+Z]=O/J&255;return R+H},o.prototype.writeUIntBE=function(O,R,H,Y){O=+O,R>>>=0,H>>>=0,Y||_(this,O,R,H,Math.pow(2,8*H)-1,0);var J=H-1,Z=1;for(this[R+J]=255&O;--J>=0&&(Z*=256);)this[R+J]=O/Z&255;return R+H},o.prototype.writeUInt8=function(O,R,H){return O=+O,R>>>=0,H||_(this,O,R,1,255,0),this[R]=255&O,R+1},o.prototype.writeUInt16LE=function(O,R,H){return O=+O,R>>>=0,H||_(this,O,R,2,65535,0),this[R]=255&O,this[R+1]=O>>>8,R+2},o.prototype.writeUInt16BE=function(O,R,H){return O=+O,R>>>=0,H||_(this,O,R,2,65535,0),this[R]=O>>>8,this[R+1]=255&O,R+2},o.prototype.writeUInt32LE=function(O,R,H){return O=+O,R>>>=0,H||_(this,O,R,4,4294967295,0),this[R+3]=O>>>24,this[R+2]=O>>>16,this[R+1]=O>>>8,this[R]=255&O,R+4},o.prototype.writeUInt32BE=function(O,R,H){return O=+O,R>>>=0,H||_(this,O,R,4,4294967295,0),this[R]=O>>>24,this[R+1]=O>>>16,this[R+2]=O>>>8,this[R+3]=255&O,R+4},o.prototype.writeIntLE=function(O,R,H,Y){if(O=+O,R>>>=0,!Y){var J=Math.pow(2,8*H-1);_(this,O,R,H,J-1,-J)}var Z=0,te=1,oe=0;for(this[R]=255&O;++Z<H&&(te*=256);)O<0&&oe===0&&this[R+Z-1]!==0&&(oe=1),this[R+Z]=(O/te>>0)-oe&255;return R+H},o.prototype.writeIntBE=function(O,R,H,Y){if(O=+O,R>>>=0,!Y){var J=Math.pow(2,8*H-1);_(this,O,R,H,J-1,-J)}var Z=H-1,te=1,oe=0;for(this[R+Z]=255&O;--Z>=0&&(te*=256);)O<0&&oe===0&&this[R+Z+1]!==0&&(oe=1),this[R+Z]=(O/te>>0)-oe&255;return R+H},o.prototype.writeInt8=function(O,R,H){return O=+O,R>>>=0,H||_(this,O,R,1,127,-128),O<0&&(O=255+O+1),this[R]=255&O,R+1},o.prototype.writeInt16LE=function(O,R,H){return O=+O,R>>>=0,H||_(this,O,R,2,32767,-32768),this[R]=255&O,this[R+1]=O>>>8,R+2},o.prototype.writeInt16BE=function(O,R,H){return O=+O,R>>>=0,H||_(this,O,R,2,32767,-32768),this[R]=O>>>8,this[R+1]=255&O,R+2},o.prototype.writeInt32LE=function(O,R,H){return O=+O,R>>>=0,H||_(this,O,R,4,2147483647,-2147483648),this[R]=255&O,this[R+1]=O>>>8,this[R+2]=O>>>16,this[R+3]=O>>>24,R+4},o.prototype.writeInt32BE=function(O,R,H){return O=+O,R>>>=0,H||_(this,O,R,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[R]=O>>>24,this[R+1]=O>>>16,this[R+2]=O>>>8,this[R+3]=255&O,R+4},o.prototype.writeFloatLE=function(O,R,H){return k(this,O,R,!0,H)},o.prototype.writeFloatBE=function(O,R,H){return k(this,O,R,!1,H)},o.prototype.writeDoubleLE=function(O,R,H){return j(this,O,R,!0,H)},o.prototype.writeDoubleBE=function(O,R,H){return j(this,O,R,!1,H)},o.prototype.copy=function(O,R,H,Y){if(!o.isBuffer(O))throw new TypeError("argument should be a Buffer");if(H||(H=0),Y||Y===0||(Y=this.length),R>=O.length&&(R=O.length),R||(R=0),Y>0&&Y<H&&(Y=H),Y===H||O.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),O.length-R<Y-H&&(Y=O.length-R+H);var J=Y-H;if(this===O&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(R,H,Y);else if(this===O&&H<R&&R<Y)for(var Z=J-1;Z>=0;--Z)O[Z+R]=this[Z+H];else Uint8Array.prototype.set.call(O,this.subarray(H,Y),R);return J},o.prototype.fill=function(O,R,H,Y){if(typeof O=="string"){if(typeof R=="string"?(Y=R,R=0,H=this.length):typeof H=="string"&&(Y=H,H=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!o.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(O.length===1){var J=O.charCodeAt(0);(Y==="utf8"&&J<128||Y==="latin1")&&(O=J)}}else typeof O=="number"&&(O&=255);if(R<0||this.length<R||this.length<H)throw new RangeError("Out of range index");if(H<=R)return this;var Z;if(R>>>=0,H=H===void 0?this.length:H>>>0,O||(O=0),typeof O=="number")for(Z=R;Z<H;++Z)this[Z]=O;else{var te=o.isBuffer(O)?O:o.from(O,Y),oe=te.length;if(oe===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(Z=0;Z<H-R;++Z)this[Z+R]=te[Z%oe]}return this};var L=/[^+/0-9A-Za-z-_]/g;function D(O){return O<16?"0"+O.toString(16):O.toString(16)}function q(O,R){var H;R=R||1/0;for(var Y=O.length,J=null,Z=[],te=0;te<Y;++te){if((H=O.charCodeAt(te))>55295&&H<57344){if(!J){if(H>56319){(R-=3)>-1&&Z.push(239,191,189);continue}if(te+1===Y){(R-=3)>-1&&Z.push(239,191,189);continue}J=H;continue}if(H<56320){(R-=3)>-1&&Z.push(239,191,189),J=H;continue}H=65536+(J-55296<<10|H-56320)}else J&&(R-=3)>-1&&Z.push(239,191,189);if(J=null,H<128){if((R-=1)<0)break;Z.push(H)}else if(H<2048){if((R-=2)<0)break;Z.push(H>>6|192,63&H|128)}else if(H<65536){if((R-=3)<0)break;Z.push(H>>12|224,H>>6&63|128,63&H|128)}else{if(!(H<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;Z.push(H>>18|240,H>>12&63|128,H>>6&63|128,63&H|128)}}return Z}function W(O){return a.toByteArray(function(R){if((R=(R=R.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R}(O))}function Q(O,R,H,Y){for(var J=0;J<Y&&!(J+H>=R.length||J>=O.length);++J)R[J+H]=O[J];return J}function z(O,R){return O instanceof R||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===R.name}function K(O){return O!=O}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("stream").Transform,c=e("string_decoder").StringDecoder;function l(o){a.call(this),this.hashMode=typeof o=="string",this.hashMode?this[o]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(l,a),l.prototype.update=function(o,u,f){typeof o=="string"&&(o=s.from(o,u));var d=this._update(o);return this.hashMode?this:(f&&(d=this._toString(d,f)),d)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(o,u,f){var d;try{this.hashMode?this._update(o):this.push(this._update(o))}catch(h){d=h}finally{f(d)}},l.prototype._flush=function(o){var u;try{this.push(this.__final())}catch(f){u=f}o(u)},l.prototype._finalOrDigest=function(o){var u=this.__final()||s.alloc(0);return o&&(u=this._toString(u,o,!0)),u},l.prototype._toString=function(o,u,f){if(this._decoder||(this._decoder=new c(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var d=this._decoder.write(o);return f&&(d+=this._decoder.end()),d},n.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,n,i){var s=e("../internals/is-callable"),a=e("../internals/try-to-string"),c=TypeError;n.exports=function(l){if(s(l))return l;throw new c(a(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,n,i){var s=e("../internals/is-constructor"),a=e("../internals/try-to-string"),c=TypeError;n.exports=function(l){if(s(l))return l;throw new c(a(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,n,i){var s=e("../internals/is-callable"),a=String,c=TypeError;n.exports=function(l){if(typeof l=="object"||s(l))return l;throw new c("Can't set "+a(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,n,i){var s=e("../internals/well-known-symbol"),a=e("../internals/object-create"),c=e("../internals/object-define-property").f,l=s("unscopables"),o=Array.prototype;o[l]===void 0&&c(o,l,{configurable:!0,value:a(null)}),n.exports=function(u){o[l][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,n,i){var s=e("../internals/object-is-prototype-of"),a=TypeError;n.exports=function(c,l){if(s(l,c))return c;throw new a("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,n,i){var s=e("../internals/is-object"),a=String,c=TypeError;n.exports=function(l){if(s(l))return l;throw new c(a(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,n,i){var s=e("../internals/to-indexed-object"),a=e("../internals/to-absolute-index"),c=e("../internals/length-of-array-like"),l=function(o){return function(u,f,d){var h,g=s(u),b=c(g),m=a(d,b);if(o&&f!=f){for(;b>m;)if((h=g[m++])!=h)return!0}else for(;b>m;m++)if((o||m in g)&&g[m]===f)return o||m||0;return!o&&-1}};n.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,n,i){var s=e("../internals/function-bind-context"),a=e("../internals/function-uncurry-this"),c=e("../internals/indexed-object"),l=e("../internals/to-object"),o=e("../internals/length-of-array-like"),u=e("../internals/array-species-create"),f=a([].push),d=function(h){var g=h===1,b=h===2,m=h===3,v=h===4,y=h===6,w=h===7,T=h===5||y;return function(I,V,B,A){for(var M,F,$=l(I),U=c($),E=s(V,B),P=o(U),N=0,x=A||u,_=g?x(I,P):b||w?x(I,0):void 0;P>N;N++)if((T||N in U)&&(F=E(M=U[N],N,$),h))if(g)_[N]=F;else if(F)switch(h){case 3:return!0;case 5:return M;case 6:return N;case 2:f(_,M)}else switch(h){case 4:return!1;case 7:f(_,M)}return y?-1:m||v?v:_}};n.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,n,i){var s=e("../internals/to-absolute-index"),a=e("../internals/length-of-array-like"),c=e("../internals/create-property"),l=Array,o=Math.max;n.exports=function(u,f,d){for(var h=a(u),g=s(f,h),b=s(d===void 0?h:d,h),m=l(o(b-g,0)),v=0;g<b;g++,v++)c(m,v,u[g]);return m.length=v,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,n,i){var s=e("../internals/function-uncurry-this");n.exports=s([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,n,i){var s=e("../internals/is-array"),a=e("../internals/is-constructor"),c=e("../internals/is-object"),l=e("../internals/well-known-symbol")("species"),o=Array;n.exports=function(u){var f;return s(u)&&(f=u.constructor,(a(f)&&(f===o||s(f.prototype))||c(f)&&(f=f[l])===null)&&(f=void 0)),f===void 0?o:f}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,n,i){var s=e("../internals/array-species-constructor");n.exports=function(a,c){return new(s(a))(c===0?0:c)}},{"../internals/array-species-constructor":232}],234:[function(e,n,i){var s=e("../internals/well-known-symbol")("iterator"),a=!1;try{var c=0,l={next:function(){return{done:!!c++}},return:function(){a=!0}};l[s]=function(){return this},Array.from(l,function(){throw 2})}catch{}n.exports=function(o,u){try{if(!u&&!a)return!1}catch{return!1}var f=!1;try{var d={};d[s]=function(){return{next:function(){return{done:f=!0}}}},o(d)}catch{}return f}},{"../internals/well-known-symbol":357}],235:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=s({}.toString),c=s("".slice);n.exports=function(l){return c(a(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,n,i){var s=e("../internals/to-string-tag-support"),a=e("../internals/is-callable"),c=e("../internals/classof-raw"),l=e("../internals/well-known-symbol")("toStringTag"),o=Object,u=c(function(){return arguments}())==="Arguments";n.exports=s?c:function(f){var d,h,g;return f===void 0?"Undefined":f===null?"Null":typeof(h=function(b,m){try{return b[m]}catch{}}(d=o(f),l))=="string"?h:u?c(d):(g=c(d))==="Object"&&a(d.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,n,i){var s=e("../internals/has-own-property"),a=e("../internals/own-keys"),c=e("../internals/object-get-own-property-descriptor"),l=e("../internals/object-define-property");n.exports=function(o,u,f){for(var d=a(u),h=l.f,g=c.f,b=0;b<d.length;b++){var m=d[b];s(o,m)||f&&s(f,m)||h(o,m,g(u,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,n,i){var s=e("../internals/well-known-symbol")("match");n.exports=function(a){var c=/./;try{"/./"[a](c)}catch{try{return c[s]=!1,"/./"[a](c)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,n,i){var s=e("../internals/fails");n.exports=!s(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},{"../internals/fails":260}],240:[function(e,n,i){n.exports=function(s,a){return{value:s,done:a}}},{}],241:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");n.exports=s?function(l,o,u){return a.f(l,o,c(1,u))}:function(l,o,u){return l[o]=u,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,n,i){n.exports=function(s,a){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:a}}},{}],243:[function(e,n,i){var s=e("../internals/to-property-key"),a=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");n.exports=function(l,o,u){var f=s(o);f in l?a.f(l,f,c(0,u)):l[f]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,n,i){var s=e("../internals/make-built-in"),a=e("../internals/object-define-property");n.exports=function(c,l,o){return o.get&&s(o.get,l,{getter:!0}),o.set&&s(o.set,l,{setter:!0}),a.f(c,l,o)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,n,i){var s=e("../internals/is-callable"),a=e("../internals/object-define-property"),c=e("../internals/make-built-in"),l=e("../internals/define-global-property");n.exports=function(o,u,f,d){d||(d={});var h=d.enumerable,g=d.name!==void 0?d.name:u;if(s(f)&&c(f,g,d),d.global)h?o[u]=f:l(u,f);else{try{d.unsafe?o[u]&&(h=!0):delete o[u]}catch{}h?o[u]=f:a.f(o,u,{value:f,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return o}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,n,i){var s=e("../internals/global"),a=Object.defineProperty;n.exports=function(c,l){try{a(s,c,{value:l,configurable:!0,writable:!0})}catch{s[c]=l}return l}},{"../internals/global":274}],247:[function(e,n,i){var s=e("../internals/fails");n.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,n,i){var s=typeof document=="object"&&document.all,a=s===void 0&&s!==void 0;n.exports={all:s,IS_HTMLDDA:a}},{}],249:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/is-object"),c=s.document,l=a(c)&&a(c.createElement);n.exports=function(o){return l?c.createElement(o):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,n,i){var s=e("../internals/engine-is-deno"),a=e("../internals/engine-is-node");n.exports=!s&&!a&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,n,i){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,n,i){var s=e("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(s)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,n,i){var s=e("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},{"../internals/engine-user-agent":256}],254:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/classof-raw");n.exports=a(s.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,n,i){var s=e("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(s)},{"../internals/engine-user-agent":256}],256:[function(e,n,i){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,n,i){var s,a,c=e("../internals/global"),l=e("../internals/engine-user-agent"),o=c.process,u=c.Deno,f=o&&o.versions||u&&u.version,d=f&&f.v8;d&&(a=(s=d.split("."))[0]>0&&s[0]<4?1:+(s[0]+s[1])),!a&&l&&(!(s=l.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=l.match(/Chrome\/(\d+)/))&&(a=+s[1]),n.exports=a},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,n,i){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/object-get-own-property-descriptor").f,c=e("../internals/create-non-enumerable-property"),l=e("../internals/define-built-in"),o=e("../internals/define-global-property"),u=e("../internals/copy-constructor-properties"),f=e("../internals/is-forced");n.exports=function(d,h){var g,b,m,v,y,w=d.target,T=d.global,I=d.stat;if(g=T?s:I?s[w]||o(w,{}):(s[w]||{}).prototype)for(b in h){if(v=h[b],m=d.dontCallGetSet?(y=a(g,b))&&y.value:g[b],!f(T?b:w+(I?".":"#")+b,d.forced)&&m!==void 0){if(typeof v==typeof m)continue;u(v,m)}(d.sham||m&&m.sham)&&c(v,"sham",!0),l(g,b,v,d)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,n,i){n.exports=function(s){try{return!!s()}catch{return!0}}},{}],261:[function(e,n,i){var s=e("../internals/function-bind-native"),a=Function.prototype,c=a.apply,l=a.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(s?l.bind(c):function(){return l.apply(c,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,n,i){var s=e("../internals/function-uncurry-this-clause"),a=e("../internals/a-callable"),c=e("../internals/function-bind-native"),l=s(s.bind);n.exports=function(o,u){return a(o),u===void 0?o:c?l(o,u):function(){return o.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,n,i){var s=e("../internals/fails");n.exports=!s(function(){var a=(function(){}).bind();return typeof a!="function"||a.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,n,i){var s=e("../internals/function-bind-native"),a=Function.prototype.call;n.exports=s?a.bind(a):function(){return a.apply(a,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/has-own-property"),c=Function.prototype,l=s&&Object.getOwnPropertyDescriptor,o=a(c,"name"),u=o&&(function(){}).name==="something",f=o&&(!s||s&&l(c,"name").configurable);n.exports={EXISTS:o,PROPER:u,CONFIGURABLE:f}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/a-callable");n.exports=function(c,l,o){try{return s(a(Object.getOwnPropertyDescriptor(c,l)[o]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,n,i){var s=e("../internals/classof-raw"),a=e("../internals/function-uncurry-this");n.exports=function(c){if(s(c)==="Function")return a(c)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,n,i){var s=e("../internals/function-bind-native"),a=Function.prototype,c=a.call,l=s&&a.bind.bind(c,c);n.exports=s?l:function(o){return function(){return c.apply(o,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/is-callable"),c=function(l){return a(l)?l:void 0};n.exports=function(l,o){return arguments.length<2?c(s[l]):s[l]&&s[l][o]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,n,i){var s=e("../internals/classof"),a=e("../internals/get-method"),c=e("../internals/is-null-or-undefined"),l=e("../internals/iterators"),o=e("../internals/well-known-symbol")("iterator");n.exports=function(u){if(!c(u))return a(u,o)||a(u,"@@iterator")||l[s(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,n,i){var s=e("../internals/function-call"),a=e("../internals/a-callable"),c=e("../internals/an-object"),l=e("../internals/try-to-string"),o=e("../internals/get-iterator-method"),u=TypeError;n.exports=function(f,d){var h=arguments.length<2?o(f):d;if(a(h))return c(s(h,f));throw new u(l(f)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/is-array"),c=e("../internals/is-callable"),l=e("../internals/classof-raw"),o=e("../internals/to-string"),u=s([].push);n.exports=function(f){if(c(f))return f;if(a(f)){for(var d=f.length,h=[],g=0;g<d;g++){var b=f[g];typeof b=="string"?u(h,b):typeof b!="number"&&l(b)!=="Number"&&l(b)!=="String"||u(h,o(b))}var m=h.length,v=!0;return function(y,w){if(v)return v=!1,w;if(a(this))return w;for(var T=0;T<m;T++)if(h[T]===y)return w}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,n,i){var s=e("../internals/a-callable"),a=e("../internals/is-null-or-undefined");n.exports=function(c,l){var o=c[l];return a(o)?void 0:s(o)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,n,i){(function(s){(function(){var a=function(c){return c&&c.Math===Math&&c};n.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof s=="object"&&s)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/to-object"),c=s({}.hasOwnProperty);n.exports=Object.hasOwn||function(l,o){return c(a(l),o)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,n,i){n.exports={}},{}],277:[function(e,n,i){n.exports=function(s,a){try{arguments.length===1?console.error(s):console.error(s,a)}catch{}}},{}],278:[function(e,n,i){var s=e("../internals/get-built-in");n.exports=s("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/fails"),c=e("../internals/document-create-element");n.exports=!s&&!a(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/fails"),c=e("../internals/classof-raw"),l=Object,o=s("".split);n.exports=a(function(){return!l("z").propertyIsEnumerable(0)})?function(u){return c(u)==="String"?o(u,""):l(u)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/is-callable"),c=e("../internals/shared-store"),l=s(Function.toString);a(c.inspectSource)||(c.inspectSource=function(o){return l(o)}),n.exports=c.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,n,i){var s,a,c,l=e("../internals/weak-map-basic-detection"),o=e("../internals/global"),u=e("../internals/is-object"),f=e("../internals/create-non-enumerable-property"),d=e("../internals/has-own-property"),h=e("../internals/shared-store"),g=e("../internals/shared-key"),b=e("../internals/hidden-keys"),m=o.TypeError,v=o.WeakMap;if(l||h.state){var y=h.state||(h.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,s=function(T,I){if(y.has(T))throw new m("Object already initialized");return I.facade=T,y.set(T,I),I},a=function(T){return y.get(T)||{}},c=function(T){return y.has(T)}}else{var w=g("state");b[w]=!0,s=function(T,I){if(d(T,w))throw new m("Object already initialized");return I.facade=T,f(T,w,I),I},a=function(T){return d(T,w)?T[w]:{}},c=function(T){return d(T,w)}}n.exports={set:s,get:a,has:c,enforce:function(T){return c(T)?a(T):s(T,{})},getterFor:function(T){return function(I){var V;if(!u(I)||(V=a(I)).type!==T)throw new m("Incompatible receiver, "+T+" required");return V}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,n,i){var s=e("../internals/well-known-symbol"),a=e("../internals/iterators"),c=s("iterator"),l=Array.prototype;n.exports=function(o){return o!==void 0&&(a.Array===o||l[c]===o)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,n,i){var s=e("../internals/classof-raw");n.exports=Array.isArray||function(a){return s(a)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,n,i){var s=e("../internals/document-all"),a=s.all;n.exports=s.IS_HTMLDDA?function(c){return typeof c=="function"||c===a}:function(c){return typeof c=="function"}},{"../internals/document-all":248}],286:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/fails"),c=e("../internals/is-callable"),l=e("../internals/classof"),o=e("../internals/get-built-in"),u=e("../internals/inspect-source"),f=function(){},d=[],h=o("Reflect","construct"),g=/^\s*(?:class|function)\b/,b=s(g.exec),m=!g.test(f),v=function(w){if(!c(w))return!1;try{return h(f,d,w),!0}catch{return!1}},y=function(w){if(!c(w))return!1;switch(l(w)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!b(g,u(w))}catch{return!0}};y.sham=!0,n.exports=!h||a(function(){var w;return v(v.call)||!v(Object)||!v(function(){w=!0})||w})?y:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,n,i){var s=e("../internals/fails"),a=e("../internals/is-callable"),c=/#|\.prototype\./,l=function(h,g){var b=u[o(h)];return b===d||b!==f&&(a(g)?s(g):!!g)},o=l.normalize=function(h){return String(h).replace(c,".").toLowerCase()},u=l.data={},f=l.NATIVE="N",d=l.POLYFILL="P";n.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,n,i){n.exports=function(s){return s==null}},{}],289:[function(e,n,i){var s=e("../internals/is-callable"),a=e("../internals/document-all"),c=a.all;n.exports=a.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:s(l)||l===c}:function(l){return typeof l=="object"?l!==null:s(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,n,i){n.exports=!1},{}],291:[function(e,n,i){var s=e("../internals/is-object"),a=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("match");n.exports=function(l){var o;return s(l)&&((o=l[c])!==void 0?!!o:a(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,n,i){var s=e("../internals/get-built-in"),a=e("../internals/is-callable"),c=e("../internals/object-is-prototype-of"),l=e("../internals/use-symbol-as-uid"),o=Object;n.exports=l?function(u){return typeof u=="symbol"}:function(u){var f=s("Symbol");return a(f)&&c(f.prototype,o(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,n,i){var s=e("../internals/function-bind-context"),a=e("../internals/function-call"),c=e("../internals/an-object"),l=e("../internals/try-to-string"),o=e("../internals/is-array-iterator-method"),u=e("../internals/length-of-array-like"),f=e("../internals/object-is-prototype-of"),d=e("../internals/get-iterator"),h=e("../internals/get-iterator-method"),g=e("../internals/iterator-close"),b=TypeError,m=function(y,w){this.stopped=y,this.result=w},v=m.prototype;n.exports=function(y,w,T){var I,V,B,A,M,F,$,U=T&&T.that,E=!(!T||!T.AS_ENTRIES),P=!(!T||!T.IS_RECORD),N=!(!T||!T.IS_ITERATOR),x=!(!T||!T.INTERRUPTED),_=s(w,U),S=function(j){return I&&g(I,"normal",j),new m(!0,j)},k=function(j){return E?(c(j),x?_(j[0],j[1],S):_(j[0],j[1])):x?_(j,S):_(j)};if(P)I=y.iterator;else if(N)I=y;else{if(!(V=h(y)))throw new b(l(y)+" is not iterable");if(o(V)){for(B=0,A=u(y);A>B;B++)if((M=k(y[B]))&&f(v,M))return M;return new m(!1)}I=d(y,V)}for(F=P?y.next:I.next;!($=a(F,I)).done;){try{M=k($.value)}catch(j){g(I,"throw",j)}if(typeof M=="object"&&M&&f(v,M))return M}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,n,i){var s=e("../internals/function-call"),a=e("../internals/an-object"),c=e("../internals/get-method");n.exports=function(l,o,u){var f,d;a(l);try{if(!(f=c(l,"return"))){if(o==="throw")throw u;return u}f=s(f,l)}catch(h){d=!0,f=h}if(o==="throw")throw u;if(d)throw f;return a(f),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,n,i){var s=e("../internals/iterators-core").IteratorPrototype,a=e("../internals/object-create"),c=e("../internals/create-property-descriptor"),l=e("../internals/set-to-string-tag"),o=e("../internals/iterators"),u=function(){return this};n.exports=function(f,d,h,g){var b=d+" Iterator";return f.prototype=a(s,{next:c(+!g,h)}),l(f,b,!1,!0),o[b]=u,f}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/function-call"),c=e("../internals/is-pure"),l=e("../internals/function-name"),o=e("../internals/is-callable"),u=e("../internals/iterator-create-constructor"),f=e("../internals/object-get-prototype-of"),d=e("../internals/object-set-prototype-of"),h=e("../internals/set-to-string-tag"),g=e("../internals/create-non-enumerable-property"),b=e("../internals/define-built-in"),m=e("../internals/well-known-symbol"),v=e("../internals/iterators"),y=e("../internals/iterators-core"),w=l.PROPER,T=l.CONFIGURABLE,I=y.IteratorPrototype,V=y.BUGGY_SAFARI_ITERATORS,B=m("iterator"),A=function(){return this};n.exports=function(M,F,$,U,E,P,N){u($,F,U);var x,_,S,k=function(z){if(z===E&&W)return W;if(!V&&z&&z in D)return D[z];switch(z){case"keys":case"values":case"entries":return function(){return new $(this,z)}}return function(){return new $(this)}},j=F+" Iterator",L=!1,D=M.prototype,q=D[B]||D["@@iterator"]||E&&D[E],W=!V&&q||k(E),Q=F==="Array"&&D.entries||q;if(Q&&(x=f(Q.call(new M)))!==Object.prototype&&x.next&&(c||f(x)===I||(d?d(x,I):o(x[B])||b(x,B,A)),h(x,j,!0,!0),c&&(v[j]=A)),w&&E==="values"&&q&&q.name!=="values"&&(!c&&T?g(D,"name","values"):(L=!0,W=function(){return a(q,this)})),E)if(_={values:k("values"),keys:P?W:k("keys"),entries:k("entries")},N)for(S in _)(V||L||!(S in D))&&b(D,S,_[S]);else s({target:F,proto:!0,forced:V||L},_);return c&&!N||D[B]===W||b(D,B,W,{name:E}),v[F]=W,_}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,n,i){var s,a,c,l=e("../internals/fails"),o=e("../internals/is-callable"),u=e("../internals/is-object"),f=e("../internals/object-create"),d=e("../internals/object-get-prototype-of"),h=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),b=e("../internals/is-pure"),m=g("iterator"),v=!1;[].keys&&("next"in(c=[].keys())?(a=d(d(c)))!==Object.prototype&&(s=a):v=!0),!u(s)||l(function(){var y={};return s[m].call(y)!==y})?s={}:b&&(s=f(s)),o(s[m])||h(s,m,function(){return this}),n.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,n,i){arguments[4][276][0].apply(i,arguments)},{dup:276}],299:[function(e,n,i){var s=e("../internals/to-length");n.exports=function(a){return s(a.length)}},{"../internals/to-length":343}],300:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/fails"),c=e("../internals/is-callable"),l=e("../internals/has-own-property"),o=e("../internals/descriptors"),u=e("../internals/function-name").CONFIGURABLE,f=e("../internals/inspect-source"),d=e("../internals/internal-state"),h=d.enforce,g=d.get,b=String,m=Object.defineProperty,v=s("".slice),y=s("".replace),w=s([].join),T=o&&!a(function(){return m(function(){},"length",{value:8}).length!==8}),I=String(String).split("String"),V=n.exports=function(B,A,M){v(b(A),0,7)==="Symbol("&&(A="["+y(b(A),/^Symbol\(([^)]*)\)/,"$1")+"]"),M&&M.getter&&(A="get "+A),M&&M.setter&&(A="set "+A),(!l(B,"name")||u&&B.name!==A)&&(o?m(B,"name",{value:A,configurable:!0}):B.name=A),T&&M&&l(M,"arity")&&B.length!==M.arity&&m(B,"length",{value:M.arity});try{M&&l(M,"constructor")&&M.constructor?o&&m(B,"prototype",{writable:!1}):B.prototype&&(B.prototype=void 0)}catch{}var F=h(B);return l(F,"source")||(F.source=w(I,typeof A=="string"?A:"")),B};Function.prototype.toString=V(function(){return c(this)&&g(this).source||f(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,n,i){var s=Math.ceil,a=Math.floor;n.exports=Math.trunc||function(c){var l=+c;return(l>0?a:s)(l)}},{}],302:[function(e,n,i){var s,a,c,l,o,u=e("../internals/global"),f=e("../internals/function-bind-context"),d=e("../internals/object-get-own-property-descriptor").f,h=e("../internals/task").set,g=e("../internals/queue"),b=e("../internals/engine-is-ios"),m=e("../internals/engine-is-ios-pebble"),v=e("../internals/engine-is-webos-webkit"),y=e("../internals/engine-is-node"),w=u.MutationObserver||u.WebKitMutationObserver,T=u.document,I=u.process,V=u.Promise,B=d(u,"queueMicrotask"),A=B&&B.value;if(!A){var M=new g,F=function(){var $,U;for(y&&($=I.domain)&&$.exit();U=M.get();)try{U()}catch(E){throw M.head&&s(),E}$&&$.enter()};b||y||v||!w||!T?!m&&V&&V.resolve?((l=V.resolve(void 0)).constructor=V,o=f(l.then,l),s=function(){o(F)}):y?s=function(){I.nextTick(F)}:(h=f(h,u),s=function(){h(F)}):(a=!0,c=T.createTextNode(""),new w(F).observe(c,{characterData:!0}),s=function(){c.data=a=!a}),A=function($){M.head||s(),M.add($)}}n.exports=A},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,n,i){var s=e("../internals/a-callable"),a=TypeError,c=function(l){var o,u;this.promise=new l(function(f,d){if(o!==void 0||u!==void 0)throw new a("Bad Promise constructor");o=f,u=d}),this.resolve=s(o),this.reject=s(u)};n.exports.f=function(l){return new c(l)}},{"../internals/a-callable":222}],304:[function(e,n,i){var s=e("../internals/is-regexp"),a=TypeError;n.exports=function(c){if(s(c))throw new a("The method doesn't accept regular expressions");return c}},{"../internals/is-regexp":291}],305:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/function-uncurry-this"),c=e("../internals/function-call"),l=e("../internals/fails"),o=e("../internals/object-keys"),u=e("../internals/object-get-own-property-symbols"),f=e("../internals/object-property-is-enumerable"),d=e("../internals/to-object"),h=e("../internals/indexed-object"),g=Object.assign,b=Object.defineProperty,m=a([].concat);n.exports=!g||l(function(){if(s&&g({b:1},g(b({},"a",{enumerable:!0,get:function(){b(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},y={},w=Symbol("assign detection");return v[w]=7,"abcdefghijklmnopqrst".split("").forEach(function(T){y[T]=T}),g({},v)[w]!==7||o(g({},y)).join("")!=="abcdefghijklmnopqrst"})?function(v,y){for(var w=d(v),T=arguments.length,I=1,V=u.f,B=f.f;T>I;)for(var A,M=h(arguments[I++]),F=V?m(o(M),V(M)):o(M),$=F.length,U=0;$>U;)A=F[U++],s&&!c(B,M,A)||(w[A]=M[A]);return w}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,n,i){var s,a=e("../internals/an-object"),c=e("../internals/object-define-properties"),l=e("../internals/enum-bug-keys"),o=e("../internals/hidden-keys"),u=e("../internals/html"),f=e("../internals/document-create-element"),d=e("../internals/shared-key"),h=d("IE_PROTO"),g=function(){},b=function(y){return"<script>"+y+"<\/script>"},m=function(y){y.write(b("")),y.close();var w=y.parentWindow.Object;return y=null,w},v=function(){try{s=new ActiveXObject("htmlfile")}catch{}var y,w;v=typeof document<"u"?document.domain&&s?m(s):((w=f("iframe")).style.display="none",u.appendChild(w),w.src="javascript:",(y=w.contentWindow.document).open(),y.write(b("document.F=Object")),y.close(),y.F):m(s);for(var T=l.length;T--;)delete v.prototype[l[T]];return v()};o[h]=!0,n.exports=Object.create||function(y,w){var T;return y!==null?(g.prototype=a(y),T=new g,g.prototype=null,T[h]=y):T=v(),w===void 0?T:c.f(T,w)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/v8-prototype-define-bug"),c=e("../internals/object-define-property"),l=e("../internals/an-object"),o=e("../internals/to-indexed-object"),u=e("../internals/object-keys");i.f=s&&!a?Object.defineProperties:function(f,d){l(f);for(var h,g=o(d),b=u(d),m=b.length,v=0;m>v;)c.f(f,h=b[v++],g[h]);return f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/ie8-dom-define"),c=e("../internals/v8-prototype-define-bug"),l=e("../internals/an-object"),o=e("../internals/to-property-key"),u=TypeError,f=Object.defineProperty,d=Object.getOwnPropertyDescriptor;i.f=s?c?function(h,g,b){if(l(h),g=o(g),l(b),typeof h=="function"&&g==="prototype"&&"value"in b&&"writable"in b&&!b.writable){var m=d(h,g);m&&m.writable&&(h[g]=b.value,b={configurable:"configurable"in b?b.configurable:m.configurable,enumerable:"enumerable"in b?b.enumerable:m.enumerable,writable:!1})}return f(h,g,b)}:f:function(h,g,b){if(l(h),g=o(g),l(b),a)try{return f(h,g,b)}catch{}if("get"in b||"set"in b)throw new u("Accessors not supported");return"value"in b&&(h[g]=b.value),h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/function-call"),c=e("../internals/object-property-is-enumerable"),l=e("../internals/create-property-descriptor"),o=e("../internals/to-indexed-object"),u=e("../internals/to-property-key"),f=e("../internals/has-own-property"),d=e("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;i.f=s?h:function(g,b){if(g=o(g),b=u(b),d)try{return h(g,b)}catch{}if(f(g,b))return l(!a(c.f,g,b),g[b])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,n,i){var s=e("../internals/classof-raw"),a=e("../internals/to-indexed-object"),c=e("../internals/object-get-own-property-names").f,l=e("../internals/array-slice-simple"),o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return o&&s(u)==="Window"?function(f){try{return c(f)}catch{return l(o)}}(u):c(a(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,n,i){var s=e("../internals/object-keys-internal"),a=e("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(c){return s(c,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,n,i){i.f=Object.getOwnPropertySymbols},{}],313:[function(e,n,i){var s=e("../internals/has-own-property"),a=e("../internals/is-callable"),c=e("../internals/to-object"),l=e("../internals/shared-key"),o=e("../internals/correct-prototype-getter"),u=l("IE_PROTO"),f=Object,d=f.prototype;n.exports=o?f.getPrototypeOf:function(h){var g=c(h);if(s(g,u))return g[u];var b=g.constructor;return a(b)&&g instanceof b?b.prototype:g instanceof f?d:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,n,i){var s=e("../internals/function-uncurry-this");n.exports=s({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=e("../internals/has-own-property"),c=e("../internals/to-indexed-object"),l=e("../internals/array-includes").indexOf,o=e("../internals/hidden-keys"),u=s([].push);n.exports=function(f,d){var h,g=c(f),b=0,m=[];for(h in g)!a(o,h)&&a(g,h)&&u(m,h);for(;d.length>b;)a(g,h=d[b++])&&(~l(m,h)||u(m,h));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,n,i){var s=e("../internals/object-keys-internal"),a=e("../internals/enum-bug-keys");n.exports=Object.keys||function(c){return s(c,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,n,i){var s={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,c=a&&!s.call({1:2},1);i.f=c?function(l){var o=a(this,l);return!!o&&o.enumerable}:s},{}],318:[function(e,n,i){var s=e("../internals/function-uncurry-this-accessor"),a=e("../internals/an-object"),c=e("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,o=!1,u={};try{(l=s(Object.prototype,"__proto__","set"))(u,[]),o=u instanceof Array}catch{}return function(f,d){return a(f),c(d),o?l(f,d):f.__proto__=d,f}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/fails"),c=e("../internals/function-uncurry-this"),l=e("../internals/object-get-prototype-of"),o=e("../internals/object-keys"),u=e("../internals/to-indexed-object"),f=c(e("../internals/object-property-is-enumerable").f),d=c([].push),h=s&&a(function(){var b=Object.create(null);return b[2]=2,!f(b,2)}),g=function(b){return function(m){for(var v,y=u(m),w=o(y),T=h&&l(y)===null,I=w.length,V=0,B=[];I>V;)v=w[V++],s&&!(T?v in y:f(y,v))||d(B,b?[v,y[v]]:y[v]);return B}};n.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,n,i){var s=e("../internals/function-call"),a=e("../internals/is-callable"),c=e("../internals/is-object"),l=TypeError;n.exports=function(o,u){var f,d;if(u==="string"&&a(f=o.toString)&&!c(d=s(f,o))||a(f=o.valueOf)&&!c(d=s(f,o))||u!=="string"&&a(f=o.toString)&&!c(d=s(f,o)))return d;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,n,i){var s=e("../internals/get-built-in"),a=e("../internals/function-uncurry-this"),c=e("../internals/object-get-own-property-names"),l=e("../internals/object-get-own-property-symbols"),o=e("../internals/an-object"),u=a([].concat);n.exports=s("Reflect","ownKeys")||function(f){var d=c.f(o(f)),h=l.f;return h?u(d,h(f)):d}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,n,i){var s=e("../internals/global");n.exports=s},{"../internals/global":274}],323:[function(e,n,i){n.exports=function(s){try{return{error:!1,value:s()}}catch(a){return{error:!0,value:a}}}},{}],324:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/promise-native-constructor"),c=e("../internals/is-callable"),l=e("../internals/is-forced"),o=e("../internals/inspect-source"),u=e("../internals/well-known-symbol"),f=e("../internals/engine-is-browser"),d=e("../internals/engine-is-deno"),h=e("../internals/is-pure"),g=e("../internals/engine-v8-version"),b=a&&a.prototype,m=u("species"),v=!1,y=c(s.PromiseRejectionEvent),w=l("Promise",function(){var T=o(a),I=T!==String(a);if(!I&&g===66||h&&(!b.catch||!b.finally))return!0;if(!g||g<51||!/native code/.test(T)){var V=new a(function(A){A(1)}),B=function(A){A(function(){},function(){})};if((V.constructor={})[m]=B,!(v=V.then(function(){})instanceof B))return!0}return!I&&(f||d)&&!y});n.exports={CONSTRUCTOR:w,REJECTION_EVENT:y,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,n,i){var s=e("../internals/global");n.exports=s.Promise},{"../internals/global":274}],326:[function(e,n,i){var s=e("../internals/an-object"),a=e("../internals/is-object"),c=e("../internals/new-promise-capability");n.exports=function(l,o){if(s(l),a(o)&&o.constructor===l)return o;var u=c.f(l);return(0,u.resolve)(o),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,n,i){var s=e("../internals/promise-native-constructor"),a=e("../internals/check-correctness-of-iteration"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=c||!a(function(l){s.all(l).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,n,i){var s=function(){this.head=null,this.tail=null};s.prototype={add:function(a){var c={item:a,next:null},l=this.tail;l?l.next=c:this.head=c,this.tail=c},get:function(){var a=this.head;if(a)return(this.head=a.next)===null&&(this.tail=null),a.item}},n.exports=s},{}],329:[function(e,n,i){var s=e("../internals/is-null-or-undefined"),a=TypeError;n.exports=function(c){if(s(c))throw new a("Can't call method on "+c);return c}},{"../internals/is-null-or-undefined":288}],330:[function(e,n,i){var s=e("../internals/get-built-in"),a=e("../internals/define-built-in-accessor"),c=e("../internals/well-known-symbol"),l=e("../internals/descriptors"),o=c("species");n.exports=function(u){var f=s(u);l&&f&&!f[o]&&a(f,o,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,n,i){var s=e("../internals/object-define-property").f,a=e("../internals/has-own-property"),c=e("../internals/well-known-symbol")("toStringTag");n.exports=function(l,o,u){l&&!u&&(l=l.prototype),l&&!a(l,c)&&s(l,c,{configurable:!0,value:o})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,n,i){var s=e("../internals/shared"),a=e("../internals/uid"),c=s("keys");n.exports=function(l){return c[l]||(c[l]=a(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/define-global-property"),c=s["__core-js_shared__"]||a("__core-js_shared__",{});n.exports=c},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,n,i){var s=e("../internals/is-pure"),a=e("../internals/shared-store");(n.exports=function(c,l){return a[c]||(a[c]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:s?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,n,i){var s=e("../internals/an-object"),a=e("../internals/a-constructor"),c=e("../internals/is-null-or-undefined"),l=e("../internals/well-known-symbol")("species");n.exports=function(o,u){var f,d=s(o).constructor;return d===void 0||c(f=s(d)[l])?u:a(f)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,n,i){var s=e("../internals/engine-v8-version"),a=e("../internals/fails"),c=e("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!a(function(){var l=Symbol("symbol detection");return!c(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&s&&s<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,n,i){var s=e("../internals/function-call"),a=e("../internals/get-built-in"),c=e("../internals/well-known-symbol"),l=e("../internals/define-built-in");n.exports=function(){var o=a("Symbol"),u=o&&o.prototype,f=u&&u.valueOf,d=c("toPrimitive");u&&!u[d]&&l(u,d,function(h){return s(f,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,n,i){var s=e("../internals/symbol-constructor-detection");n.exports=s&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,n,i){var s,a,c,l,o=e("../internals/global"),u=e("../internals/function-apply"),f=e("../internals/function-bind-context"),d=e("../internals/is-callable"),h=e("../internals/has-own-property"),g=e("../internals/fails"),b=e("../internals/html"),m=e("../internals/array-slice"),v=e("../internals/document-create-element"),y=e("../internals/validate-arguments-length"),w=e("../internals/engine-is-ios"),T=e("../internals/engine-is-node"),I=o.setImmediate,V=o.clearImmediate,B=o.process,A=o.Dispatch,M=o.Function,F=o.MessageChannel,$=o.String,U=0,E={};g(function(){s=o.location});var P=function(S){if(h(E,S)){var k=E[S];delete E[S],k()}},N=function(S){return function(){P(S)}},x=function(S){P(S.data)},_=function(S){o.postMessage($(S),s.protocol+"//"+s.host)};I&&V||(I=function(S){y(arguments.length,1);var k=d(S)?S:M(S),j=m(arguments,1);return E[++U]=function(){u(k,void 0,j)},a(U),U},V=function(S){delete E[S]},T?a=function(S){B.nextTick(N(S))}:A&&A.now?a=function(S){A.now(N(S))}:F&&!w?(l=(c=new F).port2,c.port1.onmessage=x,a=f(l.postMessage,l)):o.addEventListener&&d(o.postMessage)&&!o.importScripts&&s&&s.protocol!=="file:"&&!g(_)?(a=_,o.addEventListener("message",x,!1)):a="onreadystatechange"in v("script")?function(S){b.appendChild(v("script")).onreadystatechange=function(){b.removeChild(this),P(S)}}:function(S){setTimeout(N(S),0)}),n.exports={set:I,clear:V}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,n,i){var s=e("../internals/to-integer-or-infinity"),a=Math.max,c=Math.min;n.exports=function(l,o){var u=s(l);return u<0?a(u+o,0):c(u,o)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,n,i){var s=e("../internals/indexed-object"),a=e("../internals/require-object-coercible");n.exports=function(c){return s(a(c))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,n,i){var s=e("../internals/math-trunc");n.exports=function(a){var c=+a;return c!=c||c===0?0:s(c)}},{"../internals/math-trunc":301}],343:[function(e,n,i){var s=e("../internals/to-integer-or-infinity"),a=Math.min;n.exports=function(c){return c>0?a(s(c),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,n,i){var s=e("../internals/require-object-coercible"),a=Object;n.exports=function(c){return a(s(c))}},{"../internals/require-object-coercible":329}],345:[function(e,n,i){var s=e("../internals/function-call"),a=e("../internals/is-object"),c=e("../internals/is-symbol"),l=e("../internals/get-method"),o=e("../internals/ordinary-to-primitive"),u=e("../internals/well-known-symbol"),f=TypeError,d=u("toPrimitive");n.exports=function(h,g){if(!a(h)||c(h))return h;var b,m=l(h,d);if(m){if(g===void 0&&(g="default"),b=s(m,h,g),!a(b)||c(b))return b;throw new f("Can't convert object to primitive value")}return g===void 0&&(g="number"),o(h,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,n,i){var s=e("../internals/to-primitive"),a=e("../internals/is-symbol");n.exports=function(c){var l=s(c,"string");return a(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,n,i){var s={};s[e("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(s)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,n,i){var s=e("../internals/classof"),a=String;n.exports=function(c){if(s(c)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return a(c)}},{"../internals/classof":236}],349:[function(e,n,i){var s=String;n.exports=function(a){try{return s(a)}catch{return"Object"}}},{}],350:[function(e,n,i){var s=e("../internals/function-uncurry-this"),a=0,c=Math.random(),l=s(1 .toString);n.exports=function(o){return"Symbol("+(o===void 0?"":o)+")_"+l(++a+c,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,n,i){var s=e("../internals/symbol-constructor-detection");n.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,n,i){var s=e("../internals/descriptors"),a=e("../internals/fails");n.exports=s&&a(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,n,i){var s=TypeError;n.exports=function(a,c){if(a<c)throw new s("Not enough arguments");return a}},{}],354:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/is-callable"),c=s.WeakMap;n.exports=a(c)&&/native code/.test(String(c))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,n,i){var s=e("../internals/path"),a=e("../internals/has-own-property"),c=e("../internals/well-known-symbol-wrapped"),l=e("../internals/object-define-property").f;n.exports=function(o){var u=s.Symbol||(s.Symbol={});a(u,o)||l(u,o,{value:c.f(o)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,n,i){var s=e("../internals/well-known-symbol");i.f=s},{"../internals/well-known-symbol":357}],357:[function(e,n,i){var s=e("../internals/global"),a=e("../internals/shared"),c=e("../internals/has-own-property"),l=e("../internals/uid"),o=e("../internals/symbol-constructor-detection"),u=e("../internals/use-symbol-as-uid"),f=s.Symbol,d=a("wks"),h=u?f.for||f:f&&f.withoutSetter||l;n.exports=function(g){return c(d,g)||(d[g]=o&&c(f,g)?f[g]:h("Symbol."+g)),d[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/array-iteration").findIndex,c=e("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex(function(){l=!1}),s({target:"Array",proto:!0,forced:l},{findIndex:function(o){return a(this,o,arguments.length>1?arguments[1]:void 0)}}),c("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/array-iteration").find,c=e("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),s({target:"Array",proto:!0,forced:l},{find:function(o){return a(this,o,arguments.length>1?arguments[1]:void 0)}}),c("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/array-includes").includes,c=e("../internals/fails"),l=e("../internals/add-to-unscopables");s({target:"Array",proto:!0,forced:c(function(){return!Array(1).includes()})},{includes:function(o){return a(this,o,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,n,i){var s=e("../internals/to-indexed-object"),a=e("../internals/add-to-unscopables"),c=e("../internals/iterators"),l=e("../internals/internal-state"),o=e("../internals/object-define-property").f,u=e("../internals/iterator-define"),f=e("../internals/create-iter-result-object"),d=e("../internals/is-pure"),h=e("../internals/descriptors"),g=l.set,b=l.getterFor("Array Iterator");n.exports=u(Array,"Array",function(v,y){g(this,{type:"Array Iterator",target:s(v),index:0,kind:y})},function(){var v=b(this),y=v.target,w=v.kind,T=v.index++;if(!y||T>=y.length)return v.target=void 0,f(void 0,!0);switch(w){case"keys":return f(T,!1);case"values":return f(y[T],!1)}return f([T,y[T]],!1)},"values");var m=c.Arguments=c.Array;if(a("keys"),a("values"),a("entries"),!d&&h&&m.name!=="values")try{o(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/get-built-in"),c=e("../internals/function-apply"),l=e("../internals/function-call"),o=e("../internals/function-uncurry-this"),u=e("../internals/fails"),f=e("../internals/is-callable"),d=e("../internals/is-symbol"),h=e("../internals/array-slice"),g=e("../internals/get-json-replacer-function"),b=e("../internals/symbol-constructor-detection"),m=String,v=a("JSON","stringify"),y=o(/./.exec),w=o("".charAt),T=o("".charCodeAt),I=o("".replace),V=o(1 .toString),B=/[\uD800-\uDFFF]/g,A=/^[\uD800-\uDBFF]$/,M=/^[\uDC00-\uDFFF]$/,F=!b||u(function(){var P=a("Symbol")("stringify detection");return v([P])!=="[null]"||v({a:P})!=="{}"||v(Object(P))!=="{}"}),$=u(function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'}),U=function(P,N){var x=h(arguments),_=g(N);if(f(_)||P!==void 0&&!d(P))return x[1]=function(S,k){if(f(_)&&(k=l(_,this,m(S),k)),!d(k))return k},c(v,null,x)},E=function(P,N,x){var _=w(x,N-1),S=w(x,N+1);return y(A,P)&&!y(M,S)||y(M,P)&&!y(A,_)?"\\u"+V(T(P,0),16):P};v&&s({target:"JSON",stat:!0,arity:3,forced:F||$},{stringify:function(P,N,x){var _=h(arguments),S=c(F?U:v,null,_);return $&&typeof S=="string"?I(S,B,E):S}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,n,i){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(s){return s!=s}})},{"../internals/export":259}],364:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/object-assign");s({target:"Object",stat:!0,arity:2,forced:Object.assign!==a},{assign:a})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/symbol-constructor-detection"),c=e("../internals/fails"),l=e("../internals/object-get-own-property-symbols"),o=e("../internals/to-object");s({target:"Object",stat:!0,forced:!a||c(function(){l.f(1)})},{getOwnPropertySymbols:function(u){var f=l.f;return f?f(o(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/to-object"),c=e("../internals/object-keys");s({target:"Object",stat:!0,forced:e("../internals/fails")(function(){c(1)})},{keys:function(l){return c(a(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/object-to-array").values;s({target:"Object",stat:!0},{values:function(c){return a(c)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/function-call"),c=e("../internals/a-callable"),l=e("../internals/new-promise-capability"),o=e("../internals/perform"),u=e("../internals/iterate");s({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(f){var d=this,h=l.f(d),g=h.resolve,b=h.reject,m=o(function(){var v=c(d.resolve),y=[],w=0,T=1;u(f,function(I){var V=w++,B=!1;T++,a(v,d,I).then(function(A){B||(B=!0,y[V]=A,--T||g(y))},b)}),--T||g(y)});return m.error&&b(m.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/is-pure"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR,l=e("../internals/promise-native-constructor"),o=e("../internals/get-built-in"),u=e("../internals/is-callable"),f=e("../internals/define-built-in"),d=l&&l.prototype;if(s({target:"Promise",proto:!0,forced:c,real:!0},{catch:function(g){return this.then(void 0,g)}}),!a&&u(l)){var h=o("Promise").prototype.catch;d.catch!==h&&f(d,"catch",h,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,n,i){var s,a,c,l=e("../internals/export"),o=e("../internals/is-pure"),u=e("../internals/engine-is-node"),f=e("../internals/global"),d=e("../internals/function-call"),h=e("../internals/define-built-in"),g=e("../internals/object-set-prototype-of"),b=e("../internals/set-to-string-tag"),m=e("../internals/set-species"),v=e("../internals/a-callable"),y=e("../internals/is-callable"),w=e("../internals/is-object"),T=e("../internals/an-instance"),I=e("../internals/species-constructor"),V=e("../internals/task").set,B=e("../internals/microtask"),A=e("../internals/host-report-errors"),M=e("../internals/perform"),F=e("../internals/queue"),$=e("../internals/internal-state"),U=e("../internals/promise-native-constructor"),E=e("../internals/promise-constructor-detection"),P=e("../internals/new-promise-capability"),N=E.CONSTRUCTOR,x=E.REJECTION_EVENT,_=E.SUBCLASSING,S=$.getterFor("Promise"),k=$.set,j=U&&U.prototype,L=U,D=j,q=f.TypeError,W=f.document,Q=f.process,z=P.f,K=z,O=!!(W&&W.createEvent&&f.dispatchEvent),R=function(ie){var ue;return!(!w(ie)||!y(ue=ie.then))&&ue},H=function(ie,ue){var ce,fe,ge,ye=ue.value,we=ue.state===1,Ne=we?ie.ok:ie.fail,Ee=ie.resolve,Ie=ie.reject,qe=ie.domain;try{Ne?(we||(ue.rejection===2&&oe(ue),ue.rejection=1),Ne===!0?ce=ye:(qe&&qe.enter(),ce=Ne(ye),qe&&(qe.exit(),ge=!0)),ce===ie.promise?Ie(new q("Promise-chain cycle")):(fe=R(ce))?d(fe,ce,Ee,Ie):Ee(ce)):Ie(ye)}catch($e){qe&&!ge&&qe.exit(),Ie($e)}},Y=function(ie,ue){ie.notified||(ie.notified=!0,B(function(){for(var ce,fe=ie.reactions;ce=fe.get();)H(ce,ie);ie.notified=!1,ue&&!ie.rejection&&Z(ie)}))},J=function(ie,ue,ce){var fe,ge;O?((fe=W.createEvent("Event")).promise=ue,fe.reason=ce,fe.initEvent(ie,!1,!0),f.dispatchEvent(fe)):fe={promise:ue,reason:ce},!x&&(ge=f["on"+ie])?ge(fe):ie==="unhandledrejection"&&A("Unhandled promise rejection",ce)},Z=function(ie){d(V,f,function(){var ue,ce=ie.facade,fe=ie.value;if(te(ie)&&(ue=M(function(){u?Q.emit("unhandledRejection",fe,ce):J("unhandledrejection",ce,fe)}),ie.rejection=u||te(ie)?2:1,ue.error))throw ue.value})},te=function(ie){return ie.rejection!==1&&!ie.parent},oe=function(ie){d(V,f,function(){var ue=ie.facade;u?Q.emit("rejectionHandled",ue):J("rejectionhandled",ue,ie.value)})},le=function(ie,ue,ce){return function(fe){ie(ue,fe,ce)}},ee=function(ie,ue,ce){ie.done||(ie.done=!0,ce&&(ie=ce),ie.value=ue,ie.state=2,Y(ie,!0))},se=function(ie,ue,ce){if(!ie.done){ie.done=!0,ce&&(ie=ce);try{if(ie.facade===ue)throw new q("Promise can't be resolved itself");var fe=R(ue);fe?B(function(){var ge={done:!1};try{d(fe,ue,le(se,ge,ie),le(ee,ge,ie))}catch(ye){ee(ge,ye,ie)}}):(ie.value=ue,ie.state=1,Y(ie,!1))}catch(ge){ee({done:!1},ge,ie)}}};if(N&&(D=(L=function(ie){T(this,D),v(ie),d(s,this);var ue=S(this);try{ie(le(se,ue),le(ee,ue))}catch(ce){ee(ue,ce)}}).prototype,(s=function(ie){k(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new F,rejection:!1,state:0,value:void 0})}).prototype=h(D,"then",function(ie,ue){var ce=S(this),fe=z(I(this,L));return ce.parent=!0,fe.ok=!y(ie)||ie,fe.fail=y(ue)&&ue,fe.domain=u?Q.domain:void 0,ce.state===0?ce.reactions.add(fe):B(function(){H(fe,ce)}),fe.promise}),a=function(){var ie=new s,ue=S(ie);this.promise=ie,this.resolve=le(se,ue),this.reject=le(ee,ue)},P.f=z=function(ie){return ie===L||ie===void 0?new a(ie):K(ie)},!o&&y(U)&&j!==Object.prototype)){c=j.then,_||h(j,"then",function(ie,ue){var ce=this;return new L(function(fe,ge){d(c,ce,fe,ge)}).then(ie,ue)},{unsafe:!0});try{delete j.constructor}catch{}g&&g(j,D)}l({global:!0,constructor:!0,wrap:!0,forced:N},{Promise:L}),b(L,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/is-pure"),c=e("../internals/promise-native-constructor"),l=e("../internals/fails"),o=e("../internals/get-built-in"),u=e("../internals/is-callable"),f=e("../internals/species-constructor"),d=e("../internals/promise-resolve"),h=e("../internals/define-built-in"),g=c&&c.prototype;if(s({target:"Promise",proto:!0,real:!0,forced:!!c&&l(function(){g.finally.call({then:function(){}},function(){})})},{finally:function(m){var v=f(this,o("Promise")),y=u(m);return this.then(y?function(w){return d(v,m()).then(function(){return w})}:m,y?function(w){return d(v,m()).then(function(){throw w})}:m)}}),!a&&u(c)){var b=o("Promise").prototype.finally;g.finally!==b&&h(g,"finally",b,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,n,i){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/function-call"),c=e("../internals/a-callable"),l=e("../internals/new-promise-capability"),o=e("../internals/perform"),u=e("../internals/iterate");s({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(f){var d=this,h=l.f(d),g=h.reject,b=o(function(){var m=c(d.resolve);u(f,function(v){a(m,d,v).then(h.resolve,g)})});return b.error&&g(b.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/function-call"),c=e("../internals/new-promise-capability");s({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var o=c.f(this);return a(o.reject,void 0,l),o.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/get-built-in"),c=e("../internals/is-pure"),l=e("../internals/promise-native-constructor"),o=e("../internals/promise-constructor-detection").CONSTRUCTOR,u=e("../internals/promise-resolve"),f=a("Promise"),d=c&&!o;s({target:"Promise",stat:!0,forced:c||o},{resolve:function(h){return u(d&&this===f?l:this,h)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/function-uncurry-this"),c=e("../internals/to-absolute-index"),l=RangeError,o=String.fromCharCode,u=String.fromCodePoint,f=a([].join);s({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(d){for(var h,g=[],b=arguments.length,m=0;b>m;){if(h=+arguments[m++],c(h,1114111)!==h)throw new l(h+" is not a valid code point");g[m]=h<65536?o(h):o(55296+((h-=65536)>>10),h%1024+56320)}return f(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/function-uncurry-this"),c=e("../internals/not-a-regexp"),l=e("../internals/require-object-coercible"),o=e("../internals/to-string"),u=e("../internals/correct-is-regexp-logic"),f=a("".indexOf);s({target:"String",proto:!0,forced:!u("includes")},{includes:function(d){return!!~f(o(l(this)),o(c(d)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,n,i){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/global"),c=e("../internals/function-call"),l=e("../internals/function-uncurry-this"),o=e("../internals/is-pure"),u=e("../internals/descriptors"),f=e("../internals/symbol-constructor-detection"),d=e("../internals/fails"),h=e("../internals/has-own-property"),g=e("../internals/object-is-prototype-of"),b=e("../internals/an-object"),m=e("../internals/to-indexed-object"),v=e("../internals/to-property-key"),y=e("../internals/to-string"),w=e("../internals/create-property-descriptor"),T=e("../internals/object-create"),I=e("../internals/object-keys"),V=e("../internals/object-get-own-property-names"),B=e("../internals/object-get-own-property-names-external"),A=e("../internals/object-get-own-property-symbols"),M=e("../internals/object-get-own-property-descriptor"),F=e("../internals/object-define-property"),$=e("../internals/object-define-properties"),U=e("../internals/object-property-is-enumerable"),E=e("../internals/define-built-in"),P=e("../internals/define-built-in-accessor"),N=e("../internals/shared"),x=e("../internals/shared-key"),_=e("../internals/hidden-keys"),S=e("../internals/uid"),k=e("../internals/well-known-symbol"),j=e("../internals/well-known-symbol-wrapped"),L=e("../internals/well-known-symbol-define"),D=e("../internals/symbol-define-to-primitive"),q=e("../internals/set-to-string-tag"),W=e("../internals/internal-state"),Q=e("../internals/array-iteration").forEach,z=x("hidden"),K=W.set,O=W.getterFor("Symbol"),R=Object.prototype,H=a.Symbol,Y=H&&H.prototype,J=a.RangeError,Z=a.TypeError,te=a.QObject,oe=M.f,le=F.f,ee=B.f,se=U.f,ie=l([].push),ue=N("symbols"),ce=N("op-symbols"),fe=N("wks"),ge=!te||!te.prototype||!te.prototype.findChild,ye=function(Oe,Ce,De){var ze=oe(R,Ce);ze&&delete R[Ce],le(Oe,Ce,De),ze&&Oe!==R&&le(R,Ce,ze)},we=u&&d(function(){return T(le({},"a",{get:function(){return le(this,"a",{value:7}).a}})).a!==7})?ye:le,Ne=function(Oe,Ce){var De=ue[Oe]=T(Y);return K(De,{type:"Symbol",tag:Oe,description:Ce}),u||(De.description=Ce),De},Ee=function(Oe,Ce,De){Oe===R&&Ee(ce,Ce,De),b(Oe);var ze=v(Ce);return b(De),h(ue,ze)?(De.enumerable?(h(Oe,z)&&Oe[z][ze]&&(Oe[z][ze]=!1),De=T(De,{enumerable:w(0,!1)})):(h(Oe,z)||le(Oe,z,w(1,{})),Oe[z][ze]=!0),we(Oe,ze,De)):le(Oe,ze,De)},Ie=function(Oe,Ce){b(Oe);var De=m(Ce),ze=I(De).concat(Ve(De));return Q(ze,function(Le){u&&!c(qe,De,Le)||Ee(Oe,Le,De[Le])}),Oe},qe=function(Oe){var Ce=v(Oe),De=c(se,this,Ce);return!(this===R&&h(ue,Ce)&&!h(ce,Ce))&&(!(De||!h(this,Ce)||!h(ue,Ce)||h(this,z)&&this[z][Ce])||De)},$e=function(Oe,Ce){var De=m(Oe),ze=v(Ce);if(De!==R||!h(ue,ze)||h(ce,ze)){var Le=oe(De,ze);return!Le||!h(ue,ze)||h(De,z)&&De[z][ze]||(Le.enumerable=!0),Le}},We=function(Oe){var Ce=ee(m(Oe)),De=[];return Q(Ce,function(ze){h(ue,ze)||h(_,ze)||ie(De,ze)}),De},Ve=function(Oe){var Ce=Oe===R,De=ee(Ce?ce:m(Oe)),ze=[];return Q(De,function(Le){!h(ue,Le)||Ce&&!h(R,Le)||ie(ze,ue[Le])}),ze};f||(E(Y=(H=function(){if(g(Y,this))throw new Z("Symbol is not a constructor");var Oe=arguments.length&&arguments[0]!==void 0?y(arguments[0]):void 0,Ce=S(Oe),De=function(ze){this===R&&c(De,ce,ze),h(this,z)&&h(this[z],Ce)&&(this[z][Ce]=!1);var Le=w(1,ze);try{we(this,Ce,Le)}catch(gt){if(!(gt instanceof J))throw gt;ye(this,Ce,Le)}};return u&&ge&&we(R,Ce,{configurable:!0,set:De}),Ne(Ce,Oe)}).prototype,"toString",function(){return O(this).tag}),E(H,"withoutSetter",function(Oe){return Ne(S(Oe),Oe)}),U.f=qe,F.f=Ee,$.f=Ie,M.f=$e,V.f=B.f=We,A.f=Ve,j.f=function(Oe){return Ne(k(Oe),Oe)},u&&(P(Y,"description",{configurable:!0,get:function(){return O(this).description}}),o||E(R,"propertyIsEnumerable",qe,{unsafe:!0}))),s({global:!0,constructor:!0,wrap:!0,forced:!f,sham:!f},{Symbol:H}),Q(I(fe),function(Oe){L(Oe)}),s({target:"Symbol",stat:!0,forced:!f},{useSetter:function(){ge=!0},useSimple:function(){ge=!1}}),s({target:"Object",stat:!0,forced:!f,sham:!u},{create:function(Oe,Ce){return Ce===void 0?T(Oe):Ie(T(Oe),Ce)},defineProperty:Ee,defineProperties:Ie,getOwnPropertyDescriptor:$e}),s({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:We}),D(),q(H,"Symbol"),_[z]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/get-built-in"),c=e("../internals/has-own-property"),l=e("../internals/to-string"),o=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),f=o("string-to-symbol-registry"),d=o("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!u},{for:function(h){var g=l(h);if(c(f,g))return f[g];var b=a("Symbol")(g);return f[g]=b,d[b]=g,b}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,n,i){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,n,i){var s=e("../internals/export"),a=e("../internals/has-own-property"),c=e("../internals/is-symbol"),l=e("../internals/try-to-string"),o=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),f=o("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!u},{keyFor:function(d){if(!c(d))throw new TypeError(l(d)+" is not a symbol");if(a(f,d))return f[d]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,n,i){function s(a){return Object.prototype.toString.call(a)}i.isArray=function(a){return Array.isArray?Array.isArray(a):s(a)==="[object Array]"},i.isBoolean=function(a){return typeof a=="boolean"},i.isNull=function(a){return a===null},i.isNullOrUndefined=function(a){return a==null},i.isNumber=function(a){return typeof a=="number"},i.isString=function(a){return typeof a=="string"},i.isSymbol=function(a){return typeof a=="symbol"},i.isUndefined=function(a){return a===void 0},i.isRegExp=function(a){return s(a)==="[object RegExp]"},i.isObject=function(a){return typeof a=="object"&&a!==null},i.isDate=function(a){return s(a)==="[object Date]"},i.isError=function(a){return s(a)==="[object Error]"||a instanceof Error},i.isFunction=function(a){return typeof a=="function"},i.isPrimitive=function(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||a===void 0},i.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,n,i){(function(s){(function(){var a=e("elliptic"),c=e("bn.js");n.exports=function(f){return new o(f)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(f){this.curveType=l[f],this.curveType||(this.curveType={name:f}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}function u(f,d,h){Array.isArray(f)||(f=f.toArray());var g=new s(f);if(h&&g.length<h){var b=new s(h-g.length);b.fill(0),g=s.concat([b,g])}return d?g.toString(d):g}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,o.prototype.generateKeys=function(f,d){return this.keys=this.curve.genKeyPair(),this.getPublicKey(f,d)},o.prototype.computeSecret=function(f,d,h){return d=d||"utf8",s.isBuffer(f)||(f=new s(f,d)),u(this.curve.keyFromPublic(f).getPublic().mul(this.keys.getPrivate()).getX(),h,this.curveType.byteLength)},o.prototype.getPublicKey=function(f,d){var h=this.keys.getPublic(d==="compressed",!0);return d==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),u(h,f)},o.prototype.getPrivateKey=function(f){return u(this.keys.getPrivate(),f)},o.prototype.setPublicKey=function(f,d){return d=d||"utf8",s.isBuffer(f)||(f=new s(f,d)),this.keys._importPublic(f),this},o.prototype.setPrivateKey=function(f,d){d=d||"utf8",s.isBuffer(f)||(f=new s(f,d));var h=new c(f);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],386:[function(e,n,i){var s=e("inherits"),a=e("md5.js"),c=e("ripemd160"),l=e("sha.js"),o=e("cipher-base");function u(f){o.call(this,"digest"),this._hash=f}s(u,o),u.prototype._update=function(f){this._hash.update(f)},u.prototype._final=function(){return this._hash.digest()},n.exports=function(f){return(f=f.toLowerCase())==="md5"?new a:f==="rmd160"||f==="ripemd160"?new c:new u(l(f))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,n,i){var s=e("md5.js");n.exports=function(a){return new s().update(a).digest()}},{"md5.js":450}],388:[function(e,n,i){var s=e("inherits"),a=e("./legacy"),c=e("cipher-base"),l=e("safe-buffer").Buffer,o=e("create-hash/md5"),u=e("ripemd160"),f=e("sha.js"),d=l.alloc(128);function h(g,b){c.call(this,"digest"),typeof b=="string"&&(b=l.from(b));var m=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=b,b.length>m?b=(g==="rmd160"?new u:f(g)).update(b).digest():b.length<m&&(b=l.concat([b,d],m));for(var v=this._ipad=l.allocUnsafe(m),y=this._opad=l.allocUnsafe(m),w=0;w<m;w++)v[w]=54^b[w],y[w]=92^b[w];this._hash=g==="rmd160"?new u:f(g),this._hash.update(v)}s(h,c),h.prototype._update=function(g){this._hash.update(g)},h.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new u:f(this._alg)).update(this._opad).update(g).digest()},n.exports=function(g,b){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new h("rmd160",b):g==="md5"?new a(o,b):new h(g,b)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,n,i){var s=e("inherits"),a=e("safe-buffer").Buffer,c=e("cipher-base"),l=a.alloc(128);function o(u,f){c.call(this,"digest"),typeof f=="string"&&(f=a.from(f)),this._alg=u,this._key=f,f.length>64?f=u(f):f.length<64&&(f=a.concat([f,l],64));for(var d=this._ipad=a.allocUnsafe(64),h=this._opad=a.allocUnsafe(64),g=0;g<64;g++)d[g]=54^f[g],h[g]=92^f[g];this._hash=[d]}s(o,c),o.prototype._update=function(u){this._hash.push(u)},o.prototype._final=function(){var u=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,u]))},n.exports=o},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,n,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=e("randombytes"),i.createHash=i.Hash=e("create-hash"),i.createHmac=i.Hmac=e("create-hmac");var s=e("browserify-sign/algos"),a=Object.keys(s),c=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);i.getHashes=function(){return c};var l=e("pbkdf2");i.pbkdf2=l.pbkdf2,i.pbkdf2Sync=l.pbkdf2Sync;var o=e("browserify-cipher");i.Cipher=o.Cipher,i.createCipher=o.createCipher,i.Cipheriv=o.Cipheriv,i.createCipheriv=o.createCipheriv,i.Decipher=o.Decipher,i.createDecipher=o.createDecipher,i.Decipheriv=o.Decipheriv,i.createDecipheriv=o.createDecipheriv,i.getCiphers=o.getCiphers,i.listCiphers=o.listCiphers;var u=e("diffie-hellman");i.DiffieHellmanGroup=u.DiffieHellmanGroup,i.createDiffieHellmanGroup=u.createDiffieHellmanGroup,i.getDiffieHellman=u.getDiffieHellman,i.createDiffieHellman=u.createDiffieHellman,i.DiffieHellman=u.DiffieHellman;var f=e("browserify-sign");i.createSign=f.createSign,i.Sign=f.Sign,i.createVerify=f.createVerify,i.Verify=f.Verify,i.createECDH=e("create-ecdh");var d=e("public-encrypt");i.publicEncrypt=d.publicEncrypt,i.privateEncrypt=d.privateEncrypt,i.publicDecrypt=d.publicDecrypt,i.privateDecrypt=d.privateDecrypt;var h=e("randomfill");i.randomFill=h.randomFill,i.randomFillSync=h.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,n,i){(function(s,a){typeof i=="object"&&n!==void 0?n.exports=a():(s=typeof globalThis<"u"?globalThis:s||self).dayjs=a()})(void 0,function(){var s=6e4,a=36e5,c="millisecond",l="second",o="minute",u="hour",f="day",d="week",h="month",g="quarter",b="year",m="date",v="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(x){var _=["th","st","nd","rd"],S=x%100;return"["+x+(_[(S-20)%10]||_[S]||_[0])+"]"}},I=function(x,_,S){var k=String(x);return!k||k.length>=_?x:""+Array(_+1-k.length).join(S)+x},V={s:I,z:function(x){var _=-x.utcOffset(),S=Math.abs(_),k=Math.floor(S/60),j=S%60;return(_<=0?"+":"-")+I(k,2,"0")+":"+I(j,2,"0")},m:function x(_,S){if(_.date()<S.date())return-x(S,_);var k=12*(S.year()-_.year())+(S.month()-_.month()),j=_.clone().add(k,h),L=S-j<0,D=_.clone().add(k+(L?-1:1),h);return+(-(k+(S-j)/(L?j-D:D-j))||0)},a:function(x){return x<0?Math.ceil(x)||0:Math.floor(x)},p:function(x){return{M:h,y:b,w:d,d:f,D:m,h:u,m:o,s:l,ms:c,Q:g}[x]||String(x||"").toLowerCase().replace(/s$/,"")},u:function(x){return x===void 0}},B="en",A={};A[B]=T;var M="$isDayjsObject",F=function(x){return x instanceof P||!(!x||!x[M])},$=function x(_,S,k){var j;if(!_)return B;if(typeof _=="string"){var L=_.toLowerCase();A[L]&&(j=L),S&&(A[L]=S,j=L);var D=_.split("-");if(!j&&D.length>1)return x(D[0])}else{var q=_.name;A[q]=_,j=q}return!k&&j&&(B=j),j||!k&&B},U=function(x,_){if(F(x))return x.clone();var S=typeof _=="object"?_:{};return S.date=x,S.args=arguments,new P(S)},E=V;E.l=$,E.i=F,E.w=function(x,_){return U(x,{locale:_.$L,utc:_.$u,x:_.$x,$offset:_.$offset})};var P=function(){function x(S){this.$L=$(S.locale,null,!0),this.parse(S),this.$x=this.$x||S.x||{},this[M]=!0}var _=x.prototype;return _.parse=function(S){this.$d=function(k){var j=k.date,L=k.utc;if(j===null)return new Date(NaN);if(E.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var D=j.match(y);if(D){var q=D[2]-1||0,W=(D[7]||"0").substring(0,3);return L?new Date(Date.UTC(D[1],q,D[3]||1,D[4]||0,D[5]||0,D[6]||0,W)):new Date(D[1],q,D[3]||1,D[4]||0,D[5]||0,D[6]||0,W)}}return new Date(j)}(S),this.init()},_.init=function(){var S=this.$d;this.$y=S.getFullYear(),this.$M=S.getMonth(),this.$D=S.getDate(),this.$W=S.getDay(),this.$H=S.getHours(),this.$m=S.getMinutes(),this.$s=S.getSeconds(),this.$ms=S.getMilliseconds()},_.$utils=function(){return E},_.isValid=function(){return this.$d.toString()!==v},_.isSame=function(S,k){var j=U(S);return this.startOf(k)<=j&&j<=this.endOf(k)},_.isAfter=function(S,k){return U(S)<this.startOf(k)},_.isBefore=function(S,k){return this.endOf(k)<U(S)},_.$g=function(S,k,j){return E.u(S)?this[k]:this.set(j,S)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(S,k){var j=this,L=!!E.u(k)||k,D=E.p(S),q=function(Y,J){var Z=E.w(j.$u?Date.UTC(j.$y,J,Y):new Date(j.$y,J,Y),j);return L?Z:Z.endOf(f)},W=function(Y,J){return E.w(j.toDate()[Y].apply(j.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(J)),j)},Q=this.$W,z=this.$M,K=this.$D,O="set"+(this.$u?"UTC":"");switch(D){case b:return L?q(1,0):q(31,11);case h:return L?q(1,z):q(0,z+1);case d:var R=this.$locale().weekStart||0,H=(Q<R?Q+7:Q)-R;return q(L?K-H:K+(6-H),z);case f:case m:return W(O+"Hours",0);case u:return W(O+"Minutes",1);case o:return W(O+"Seconds",2);case l:return W(O+"Milliseconds",3);default:return this.clone()}},_.endOf=function(S){return this.startOf(S,!1)},_.$set=function(S,k){var j,L=E.p(S),D="set"+(this.$u?"UTC":""),q=(j={},j[f]=D+"Date",j[m]=D+"Date",j[h]=D+"Month",j[b]=D+"FullYear",j[u]=D+"Hours",j[o]=D+"Minutes",j[l]=D+"Seconds",j[c]=D+"Milliseconds",j)[L],W=L===f?this.$D+(k-this.$W):k;if(L===h||L===b){var Q=this.clone().set(m,1);Q.$d[q](W),Q.init(),this.$d=Q.set(m,Math.min(this.$D,Q.daysInMonth())).$d}else q&&this.$d[q](W);return this.init(),this},_.set=function(S,k){return this.clone().$set(S,k)},_.get=function(S){return this[E.p(S)]()},_.add=function(S,k){var j,L=this;S=Number(S);var D=E.p(k),q=function(z){var K=U(L);return E.w(K.date(K.date()+Math.round(z*S)),L)};if(D===h)return this.set(h,this.$M+S);if(D===b)return this.set(b,this.$y+S);if(D===f)return q(1);if(D===d)return q(7);var W=(j={},j[o]=s,j[u]=a,j[l]=1e3,j)[D]||1,Q=this.$d.getTime()+S*W;return E.w(Q,this)},_.subtract=function(S,k){return this.add(-1*S,k)},_.format=function(S){var k=this,j=this.$locale();if(!this.isValid())return j.invalidDate||v;var L=S||"YYYY-MM-DDTHH:mm:ssZ",D=E.z(this),q=this.$H,W=this.$m,Q=this.$M,z=j.weekdays,K=j.months,O=j.meridiem,R=function(J,Z,te,oe){return J&&(J[Z]||J(k,L))||te[Z].slice(0,oe)},H=function(J){return E.s(q%12||12,J,"0")},Y=O||function(J,Z,te){var oe=J<12?"AM":"PM";return te?oe.toLowerCase():oe};return L.replace(w,function(J,Z){return Z||function(te){switch(te){case"YY":return String(k.$y).slice(-2);case"YYYY":return E.s(k.$y,4,"0");case"M":return Q+1;case"MM":return E.s(Q+1,2,"0");case"MMM":return R(j.monthsShort,Q,K,3);case"MMMM":return R(K,Q);case"D":return k.$D;case"DD":return E.s(k.$D,2,"0");case"d":return String(k.$W);case"dd":return R(j.weekdaysMin,k.$W,z,2);case"ddd":return R(j.weekdaysShort,k.$W,z,3);case"dddd":return z[k.$W];case"H":return String(q);case"HH":return E.s(q,2,"0");case"h":return H(1);case"hh":return H(2);case"a":return Y(q,W,!0);case"A":return Y(q,W,!1);case"m":return String(W);case"mm":return E.s(W,2,"0");case"s":return String(k.$s);case"ss":return E.s(k.$s,2,"0");case"SSS":return E.s(k.$ms,3,"0");case"Z":return D}return null}(J)||D.replace(":","")})},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(S,k,j){var L,D=this,q=E.p(k),W=U(S),Q=(W.utcOffset()-this.utcOffset())*s,z=this-W,K=function(){return E.m(D,W)};switch(q){case b:L=K()/12;break;case h:L=K();break;case g:L=K()/3;break;case d:L=(z-Q)/6048e5;break;case f:L=(z-Q)/864e5;break;case u:L=z/a;break;case o:L=z/s;break;case l:L=z/1e3;break;default:L=z}return j?L:E.a(L)},_.daysInMonth=function(){return this.endOf(h).$D},_.$locale=function(){return A[this.$L]},_.locale=function(S,k){if(!S)return this.$L;var j=this.clone(),L=$(S,k,!0);return L&&(j.$L=L),j},_.clone=function(){return E.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},x}(),N=P.prototype;return U.prototype=N,[["$ms",c],["$s",l],["$m",o],["$H",u],["$W",f],["$M",h],["$y",b],["$D",m]].forEach(function(x){N[x[1]]=function(_){return this.$g(_,x[0],x[1])}}),U.extend=function(x,_){return x.$i||(x(_,P,U),x.$i=!0),U},U.locale=$,U.isDayjs=F,U.unix=function(x){return U(1e3*x)},U.en=A[B],U.Ls=A,U.p={},U})},{}],392:[function(e,n,i){(function(s,a){typeof i=="object"&&n!==void 0?n.exports=a():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_customParseFormat=a()})(void 0,function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,c=/\d\d/,l=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,u={},f=function(y){return(y=+y)+(y>68?1900:2e3)},d=function(y){return function(w){this[y]=+w}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(w){if(!w||w==="Z")return 0;var T=w.match(/([+-]|\d\d)/g),I=60*T[1]+(+T[2]||0);return I===0?0:T[0]==="+"?-I:I}(y)}],g=function(y){var w=u[y];return w&&(w.indexOf?w:w.s.concat(w.f))},b=function(y,w){var T,I=u.meridiem;if(I){for(var V=1;V<=24;V+=1)if(y.indexOf(I(V,0,w))>-1){T=V>12;break}}else T=y===(w?"pm":"PM");return T},m={A:[o,function(y){this.afternoon=b(y,!1)}],a:[o,function(y){this.afternoon=b(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[c,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[l,d("seconds")],ss:[l,d("seconds")],m:[l,d("minutes")],mm:[l,d("minutes")],H:[l,d("hours")],h:[l,d("hours")],HH:[l,d("hours")],hh:[l,d("hours")],D:[l,d("day")],DD:[c,d("day")],Do:[o,function(y){var w=u.ordinal,T=y.match(/\d+/);if(this.day=T[0],w)for(var I=1;I<=31;I+=1)w(I).replace(/\[|\]/g,"")===y&&(this.day=I)}],M:[l,d("month")],MM:[c,d("month")],MMM:[o,function(y){var w=g("months"),T=(g("monthsShort")||w.map(function(I){return I.slice(0,3)})).indexOf(y)+1;if(T<1)throw new Error;this.month=T%12||T}],MMMM:[o,function(y){var w=g("months").indexOf(y)+1;if(w<1)throw new Error;this.month=w%12||w}],Y:[/[+-]?\d+/,d("year")],YY:[c,function(y){this.year=f(y)}],YYYY:[/\d{4}/,d("year")],Z:h,ZZ:h};function v(y){var w,T;w=y,T=u&&u.formats;for(var I=(y=w.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(U,E,P){var N=P&&P.toUpperCase();return E||T[P]||s[P]||T[N].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,_,S){return _||S.slice(1)})})).match(a),V=I.length,B=0;B<V;B+=1){var A=I[B],M=m[A],F=M&&M[0],$=M&&M[1];I[B]=$?{regex:F,parser:$}:A.replace(/^\[|\]$/g,"")}return function(U){for(var E={},P=0,N=0;P<V;P+=1){var x=I[P];if(typeof x=="string")N+=x.length;else{var _=x.regex,S=x.parser,k=U.slice(N),j=_.exec(k)[0];S.call(E,j),U=U.replace(j,"")}}return function(L){var D=L.afternoon;if(D!==void 0){var q=L.hours;D?q<12&&(L.hours+=12):q===12&&(L.hours=0),delete L.afternoon}}(E),E}}return function(y,w,T){T.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(f=y.parseTwoDigitYear);var I=w.prototype,V=I.parse;I.parse=function(B){var A=B.date,M=B.utc,F=B.args;this.$u=M;var $=F[1];if(typeof $=="string"){var U=F[2]===!0,E=F[3]===!0,P=U||E,N=F[2];E&&(N=F[2]),u=this.$locale(),!U&&N&&(u=T.Ls[N]),this.$d=function(k,j,L){try{if(["x","X"].indexOf(j)>-1)return new Date((j==="X"?1e3:1)*k);var D=v(j)(k),q=D.year,W=D.month,Q=D.day,z=D.hours,K=D.minutes,O=D.seconds,R=D.milliseconds,H=D.zone,Y=new Date,J=Q||(q||W?1:Y.getDate()),Z=q||Y.getFullYear(),te=0;q&&!W||(te=W>0?W-1:Y.getMonth());var oe=z||0,le=K||0,ee=O||0,se=R||0;return H?new Date(Date.UTC(Z,te,J,oe,le,ee,se+60*H.offset*1e3)):L?new Date(Date.UTC(Z,te,J,oe,le,ee,se)):new Date(Z,te,J,oe,le,ee,se)}catch{return new Date("")}}(A,$,M),this.init(),N&&N!==!0&&(this.$L=this.locale(N).$L),P&&A!=this.format($)&&(this.$d=new Date("")),u={}}else if($ instanceof Array)for(var x=$.length,_=1;_<=x;_+=1){F[1]=$[_-1];var S=T.apply(this,F);if(S.isValid()){this.$d=S.$d,this.$L=S.$L,this.init();break}_===x&&(this.$d=new Date(""))}else V.call(this,B)}}})},{}],393:[function(e,n,i){(function(s,a){typeof i=="object"&&n!==void 0?n.exports=a():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_utc=a()})(void 0,function(){var s="minute",a=/[+-]\d\d(?::?\d\d)?/g,c=/([+-]|\d\d)/g;return function(l,o,u){var f=o.prototype;u.utc=function(y){var w={date:y,utc:!0,args:arguments};return new o(w)},f.utc=function(y){var w=u(this.toDate(),{locale:this.$L,utc:!0});return y?w.add(this.utcOffset(),s):w},f.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var d=f.parse;f.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),d.call(this,y)};var h=f.init;f.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else h.call(this)};var g=f.utcOffset;f.utcOffset=function(y,w){var T=this.$utils().u;if(T(y))return this.$u?0:T(this.$offset)?g.call(this):this.$offset;if(typeof y=="string"&&(y=function(A){A===void 0&&(A="");var M=A.match(a);if(!M)return null;var F=(""+M[0]).match(c)||["-",0,0],$=F[0],U=60*+F[1]+ +F[2];return U===0?0:$==="+"?U:-U}(y))===null)return this;var I=Math.abs(y)<=16?60*y:y,V=this;if(w)return V.$offset=I,V.$u=y===0,V;if(y!==0){var B=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(V=this.local().add(I+B,s)).$offset=I,V.$x.$localOffset=B}else V=this.utc();return V};var b=f.format;f.format=function(y){var w=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return b.call(this,w)},f.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var m=f.toDate;f.toDate=function(y){return y==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var v=f.diff;f.diff=function(y,w,T){if(y&&this.$u===y.$u)return v.call(this,y,w,T);var I=this.local(),V=u(y).local();return v.call(I,V,w,T)}}})},{}],394:[function(e,n,i){i.utils=e("./des/utils"),i.Cipher=e("./des/cipher"),i.DES=e("./des/des"),i.CBC=e("./des/cbc"),i.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,n,i){var s=e("minimalistic-assert"),a=e("inherits"),c={};function l(o){s.equal(o.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=o[u]}i.instantiate=function(o){function u(g){o.call(this,g),this._cbcInit()}a(u,o);for(var f=Object.keys(c),d=0;d<f.length;d++){var h=f[d];u.prototype[h]=c[h]}return u.create=function(g){return new u(g)},u},c._cbcInit=function(){var o=new l(this.options.iv);this._cbcState=o},c._update=function(o,u,f,d){var h=this._cbcState,g=this.constructor.super_.prototype,b=h.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)b[m]^=o[u+m];for(g._update.call(this,b,0,f,d),m=0;m<this.blockSize;m++)b[m]=f[d+m]}else{for(g._update.call(this,o,u,f,d),m=0;m<this.blockSize;m++)f[d+m]^=b[m];for(m=0;m<this.blockSize;m++)b[m]=o[u+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,n,i){var s=e("minimalistic-assert");function a(c){this.options=c,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=c.padding!==!1}n.exports=a,a.prototype._init=function(){},a.prototype.update=function(c){return c.length===0?[]:this.type==="decrypt"?this._updateDecrypt(c):this._updateEncrypt(c)},a.prototype._buffer=function(c,l){for(var o=Math.min(this.buffer.length-this.bufferOff,c.length-l),u=0;u<o;u++)this.buffer[this.bufferOff+u]=c[l+u];return this.bufferOff+=o,o},a.prototype._flushBuffer=function(c,l){return this._update(this.buffer,0,c,l),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(c){var l=0,o=0,u=(this.bufferOff+c.length)/this.blockSize|0,f=new Array(u*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(c,l),this.bufferOff===this.buffer.length&&(o+=this._flushBuffer(f,o)));for(var d=c.length-(c.length-l)%this.blockSize;l<d;l+=this.blockSize)this._update(c,l,f,o),o+=this.blockSize;for(;l<c.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=c[l];return f},a.prototype._updateDecrypt=function(c){for(var l=0,o=0,u=Math.ceil((this.bufferOff+c.length)/this.blockSize)-1,f=new Array(u*this.blockSize);u>0;u--)l+=this._buffer(c,l),o+=this._flushBuffer(f,o);return l+=this._buffer(c,l),f},a.prototype.final=function(c){var l,o;return c&&(l=this.update(c)),o=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(o):o},a.prototype._pad=function(c,l){if(l===0)return!1;for(;l<c.length;)c[l++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var c=new Array(this.blockSize);return this._update(this.buffer,0,c,0),c},a.prototype._unpad=function(c){return c},a.prototype._finalDecrypt=function(){s.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var c=new Array(this.blockSize);return this._flushBuffer(c,0),this._unpad(c)}},{"minimalistic-assert":453}],397:[function(e,n,i){var s=e("minimalistic-assert"),a=e("inherits"),c=e("./utils"),l=e("./cipher");function o(){this.tmp=new Array(2),this.keys=null}function u(d){l.call(this,d);var h=new o;this._desState=h,this.deriveKeys(h,d.key)}a(u,l),n.exports=u,u.create=function(d){return new u(d)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(d,h){d.keys=new Array(32),s.equal(h.length,this.blockSize,"Invalid key length");var g=c.readUInt32BE(h,0),b=c.readUInt32BE(h,4);c.pc1(g,b,d.tmp,0),g=d.tmp[0],b=d.tmp[1];for(var m=0;m<d.keys.length;m+=2){var v=f[m>>>1];g=c.r28shl(g,v),b=c.r28shl(b,v),c.pc2(g,b,d.keys,m)}},u.prototype._update=function(d,h,g,b){var m=this._desState,v=c.readUInt32BE(d,h),y=c.readUInt32BE(d,h+4);c.ip(v,y,m.tmp,0),v=m.tmp[0],y=m.tmp[1],this.type==="encrypt"?this._encrypt(m,v,y,m.tmp,0):this._decrypt(m,v,y,m.tmp,0),v=m.tmp[0],y=m.tmp[1],c.writeUInt32BE(g,v,b),c.writeUInt32BE(g,y,b+4)},u.prototype._pad=function(d,h){if(this.padding===!1)return!1;for(var g=d.length-h,b=h;b<d.length;b++)d[b]=g;return!0},u.prototype._unpad=function(d){if(this.padding===!1)return d;for(var h=d[d.length-1],g=d.length-h;g<d.length;g++)s.equal(d[g],h);return d.slice(0,d.length-h)},u.prototype._encrypt=function(d,h,g,b,m){for(var v=h,y=g,w=0;w<d.keys.length;w+=2){var T=d.keys[w],I=d.keys[w+1];c.expand(y,d.tmp,0),T^=d.tmp[0],I^=d.tmp[1];var V=c.substitute(T,I),B=y;y=(v^c.permute(V))>>>0,v=B}c.rip(y,v,b,m)},u.prototype._decrypt=function(d,h,g,b,m){for(var v=g,y=h,w=d.keys.length-2;w>=0;w-=2){var T=d.keys[w],I=d.keys[w+1];c.expand(v,d.tmp,0),T^=d.tmp[0],I^=d.tmp[1];var V=c.substitute(T,I),B=v;v=(y^c.permute(V))>>>0,y=B}c.rip(v,y,b,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,n,i){var s=e("minimalistic-assert"),a=e("inherits"),c=e("./cipher"),l=e("./des");function o(f,d){s.equal(d.length,24,"Invalid key length");var h=d.slice(0,8),g=d.slice(8,16),b=d.slice(16,24);this.ciphers=f==="encrypt"?[l.create({type:"encrypt",key:h}),l.create({type:"decrypt",key:g}),l.create({type:"encrypt",key:b})]:[l.create({type:"decrypt",key:b}),l.create({type:"encrypt",key:g}),l.create({type:"decrypt",key:h})]}function u(f){c.call(this,f);var d=new o(this.type,this.options.key);this._edeState=d}a(u,c),n.exports=u,u.create=function(f){return new u(f)},u.prototype._update=function(f,d,h,g){var b=this._edeState;b.ciphers[0]._update(f,d,h,g),b.ciphers[1]._update(h,g,h,g),b.ciphers[2]._update(h,g,h,g)},u.prototype._pad=l.prototype._pad,u.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,n,i){i.readUInt32BE=function(l,o){return(l[0+o]<<24|l[1+o]<<16|l[2+o]<<8|l[3+o])>>>0},i.writeUInt32BE=function(l,o,u){l[0+u]=o>>>24,l[1+u]=o>>>16&255,l[2+u]=o>>>8&255,l[3+u]=255&o},i.ip=function(l,o,u,f){for(var d=0,h=0,g=6;g>=0;g-=2){for(var b=0;b<=24;b+=8)d<<=1,d|=o>>>b+g&1;for(b=0;b<=24;b+=8)d<<=1,d|=l>>>b+g&1}for(g=6;g>=0;g-=2){for(b=1;b<=25;b+=8)h<<=1,h|=o>>>b+g&1;for(b=1;b<=25;b+=8)h<<=1,h|=l>>>b+g&1}u[f+0]=d>>>0,u[f+1]=h>>>0},i.rip=function(l,o,u,f){for(var d=0,h=0,g=0;g<4;g++)for(var b=24;b>=0;b-=8)d<<=1,d|=o>>>b+g&1,d<<=1,d|=l>>>b+g&1;for(g=4;g<8;g++)for(b=24;b>=0;b-=8)h<<=1,h|=o>>>b+g&1,h<<=1,h|=l>>>b+g&1;u[f+0]=d>>>0,u[f+1]=h>>>0},i.pc1=function(l,o,u,f){for(var d=0,h=0,g=7;g>=5;g--){for(var b=0;b<=24;b+=8)d<<=1,d|=o>>b+g&1;for(b=0;b<=24;b+=8)d<<=1,d|=l>>b+g&1}for(b=0;b<=24;b+=8)d<<=1,d|=o>>b+g&1;for(g=1;g<=3;g++){for(b=0;b<=24;b+=8)h<<=1,h|=o>>b+g&1;for(b=0;b<=24;b+=8)h<<=1,h|=l>>b+g&1}for(b=0;b<=24;b+=8)h<<=1,h|=l>>b+g&1;u[f+0]=d>>>0,u[f+1]=h>>>0},i.r28shl=function(l,o){return l<<o&268435455|l>>>28-o};var s=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(l,o,u,f){for(var d=0,h=0,g=s.length>>>1,b=0;b<g;b++)d<<=1,d|=l>>>s[b]&1;for(b=g;b<s.length;b++)h<<=1,h|=o>>>s[b]&1;u[f+0]=d>>>0,u[f+1]=h>>>0},i.expand=function(l,o,u){var f=0,d=0;f=(1&l)<<5|l>>>27;for(var h=23;h>=15;h-=4)f<<=6,f|=l>>>h&63;for(h=11;h>=3;h-=4)d|=l>>>h&63,d<<=6;d|=(31&l)<<1|l>>>31,o[u+0]=f>>>0,o[u+1]=d>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(l,o){for(var u=0,f=0;f<4;f++)u<<=4,u|=a[64*f+(l>>>18-6*f&63)];for(f=0;f<4;f++)u<<=4,u|=a[256+64*f+(o>>>18-6*f&63)];return u>>>0};var c=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(l){for(var o=0,u=0;u<c.length;u++)o<<=1,o|=l>>>c[u]&1;return o>>>0},i.padSplit=function(l,o,u){for(var f=l.toString(2);f.length<o;)f="0"+f;for(var d=[],h=0;h<o;h+=u)d.push(f.slice(h,h+u));return d.join(" ")}},{}],400:[function(e,n,i){(function(s){(function(){var a=e("./lib/generatePrime"),c=e("./lib/primes.json"),l=e("./lib/dh"),o={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(u){var f=new s(c[u].prime,"hex"),d=new s(c[u].gen,"hex");return new l(f,d)},i.createDiffieHellman=i.DiffieHellman=function u(f,d,h,g){return s.isBuffer(d)||o[d]===void 0?u(f,"binary",d,h):(d=d||"binary",g=g||"binary",h=h||new s([2]),s.isBuffer(h)||(h=new s(h,g)),typeof f=="number"?new l(a(f,h),h,!0):(s.isBuffer(f)||(f=new s(f,d)),new l(f,h,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,n,i){(function(s){(function(){var a=e("bn.js"),c=new(e("miller-rabin")),l=new a(24),o=new a(11),u=new a(10),f=new a(3),d=new a(7),h=e("./generatePrime"),g=e("randombytes");function b(T,I){return I=I||"utf8",s.isBuffer(T)||(T=new s(T,I)),this._pub=new a(T),this}function m(T,I){return I=I||"utf8",s.isBuffer(T)||(T=new s(T,I)),this._priv=new a(T),this}n.exports=y;var v={};function y(T,I,V){this.setGenerator(I),this.__prime=new a(T),this._prime=a.mont(this.__prime),this._primeLen=T.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,V?(this.setPublicKey=b,this.setPrivateKey=m):this._primeCode=8}function w(T,I){var V=new s(T.toArray());return I?V.toString(I):V}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(T,I){var V=I.toString("hex"),B=[V,T.toString(16)].join("_");if(B in v)return v[B];var A,M=0;if(T.isEven()||!h.simpleSieve||!h.fermatTest(T)||!c.test(T))return M+=1,M+=V==="02"||V==="05"?8:4,v[B]=M,M;switch(c.test(T.shrn(1))||(M+=2),V){case"02":T.mod(l).cmp(o)&&(M+=8);break;case"05":(A=T.mod(u)).cmp(f)&&A.cmp(d)&&(M+=8);break;default:M+=4}return v[B]=M,M}(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new a(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(T){var I=(T=(T=new a(T)).toRed(this._prime)).redPow(this._priv).fromRed(),V=new s(I.toArray()),B=this.getPrime();if(V.length<B.length){var A=new s(B.length-V.length);A.fill(0),V=s.concat([A,V])}return V},y.prototype.getPublicKey=function(T){return w(this._pub,T)},y.prototype.getPrivateKey=function(T){return w(this._priv,T)},y.prototype.getPrime=function(T){return w(this.__prime,T)},y.prototype.getGenerator=function(T){return w(this._gen,T)},y.prototype.setGenerator=function(T,I){return I=I||"utf8",s.isBuffer(T)||(T=new s(T,I)),this.__gen=T,this._gen=new a(T),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,n,i){var s=e("randombytes");n.exports=T,T.simpleSieve=y,T.fermatTest=w;var a=e("bn.js"),c=new a(24),l=new(e("miller-rabin")),o=new a(1),u=new a(2),f=new a(5),d=(new a(16),new a(8),new a(10)),h=new a(3),g=(new a(7),new a(11)),b=new a(4),m=(new a(12),null);function v(){if(m!==null)return m;var I=[];I[0]=2;for(var V=1,B=3;B<1048576;B+=2){for(var A=Math.ceil(Math.sqrt(B)),M=0;M<V&&I[M]<=A&&B%I[M]!=0;M++);V!==M&&I[M]<=A||(I[V++]=B)}return m=I,I}function y(I){for(var V=v(),B=0;B<V.length;B++)if(I.modn(V[B])===0)return I.cmpn(V[B])===0;return!0}function w(I){var V=a.mont(I);return u.toRed(V).redPow(I.subn(1)).fromRed().cmpn(1)===0}function T(I,V){if(I<16)return new a(V===2||V===5?[140,123]:[140,39]);var B,A;for(V=new a(V);;){for(B=new a(s(Math.ceil(I/8)));B.bitLength()>I;)B.ishrn(1);if(B.isEven()&&B.iadd(o),B.testn(1)||B.iadd(u),V.cmp(u)){if(!V.cmp(f))for(;B.mod(d).cmp(h);)B.iadd(b)}else for(;B.mod(c).cmp(g);)B.iadd(b);if(y(A=B.shrn(1))&&y(B)&&w(A)&&w(B)&&l.test(A)&&l.test(B))return B}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,n,i){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],405:[function(e,n,i){var s=i;s.version=e("../package.json").version,s.utils=e("./elliptic/utils"),s.rand=e("brorand"),s.curve=e("./elliptic/curve"),s.curves=e("./elliptic/curves"),s.ec=e("./elliptic/ec"),s.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,n,i){var s=e("bn.js"),a=e("../utils"),c=a.getNAF,l=a.getJSF,o=a.assert;function u(d,h){this.type=d,this.p=new s(h.p,16),this.red=h.prime?s.red(h.prime):s.mont(this.p),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.n=h.n&&new s(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(d,h){this.curve=d,this.type=h,this.precomputed=null}n.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(d,h){o(d.precomputed);var g=d._getDoubles(),b=c(h,1,this._bitLength),m=(1<<g.step+1)-(g.step%2==0?2:1);m/=3;var v,y,w=[];for(v=0;v<b.length;v+=g.step){y=0;for(var T=v+g.step-1;T>=v;T--)y=(y<<1)+b[T];w.push(y)}for(var I=this.jpoint(null,null,null),V=this.jpoint(null,null,null),B=m;B>0;B--){for(v=0;v<w.length;v++)(y=w[v])===B?V=V.mixedAdd(g.points[v]):y===-B&&(V=V.mixedAdd(g.points[v].neg()));I=I.add(V)}return I.toP()},u.prototype._wnafMul=function(d,h){var g=4,b=d._getNAFPoints(g);g=b.wnd;for(var m=b.points,v=c(h,g,this._bitLength),y=this.jpoint(null,null,null),w=v.length-1;w>=0;w--){for(var T=0;w>=0&&v[w]===0;w--)T++;if(w>=0&&T++,y=y.dblp(T),w<0)break;var I=v[w];o(I!==0),y=d.type==="affine"?I>0?y.mixedAdd(m[I-1>>1]):y.mixedAdd(m[-I-1>>1].neg()):I>0?y.add(m[I-1>>1]):y.add(m[-I-1>>1].neg())}return d.type==="affine"?y.toP():y},u.prototype._wnafMulAdd=function(d,h,g,b,m){var v,y,w,T=this._wnafT1,I=this._wnafT2,V=this._wnafT3,B=0;for(v=0;v<b;v++){var A=(w=h[v])._getNAFPoints(d);T[v]=A.wnd,I[v]=A.points}for(v=b-1;v>=1;v-=2){var M=v-1,F=v;if(T[M]===1&&T[F]===1){var $=[h[M],null,null,h[F]];h[M].y.cmp(h[F].y)===0?($[1]=h[M].add(h[F]),$[2]=h[M].toJ().mixedAdd(h[F].neg())):h[M].y.cmp(h[F].y.redNeg())===0?($[1]=h[M].toJ().mixedAdd(h[F]),$[2]=h[M].add(h[F].neg())):($[1]=h[M].toJ().mixedAdd(h[F]),$[2]=h[M].toJ().mixedAdd(h[F].neg()));var U=[-3,-1,-5,-7,0,7,5,1,3],E=l(g[M],g[F]);for(B=Math.max(E[0].length,B),V[M]=new Array(B),V[F]=new Array(B),y=0;y<B;y++){var P=0|E[0][y],N=0|E[1][y];V[M][y]=U[3*(P+1)+(N+1)],V[F][y]=0,I[M]=$}}else V[M]=c(g[M],T[M],this._bitLength),V[F]=c(g[F],T[F],this._bitLength),B=Math.max(V[M].length,B),B=Math.max(V[F].length,B)}var x=this.jpoint(null,null,null),_=this._wnafT4;for(v=B;v>=0;v--){for(var S=0;v>=0;){var k=!0;for(y=0;y<b;y++)_[y]=0|V[y][v],_[y]!==0&&(k=!1);if(!k)break;S++,v--}if(v>=0&&S++,x=x.dblp(S),v<0)break;for(y=0;y<b;y++){var j=_[y];j!==0&&(j>0?w=I[y][j-1>>1]:j<0&&(w=I[y][-j-1>>1].neg()),x=w.type==="affine"?x.mixedAdd(w):x.add(w))}}for(v=0;v<b;v++)I[v]=null;return m?x:x.toP()},u.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(d,h){d=a.toArray(d,h);var g=this.p.byteLength();if((d[0]===4||d[0]===6||d[0]===7)&&d.length-1==2*g)return d[0]===6?o(d[d.length-1]%2==0):d[0]===7&&o(d[d.length-1]%2==1),this.point(d.slice(1,1+g),d.slice(1+g,1+2*g));if((d[0]===2||d[0]===3)&&d.length-1===g)return this.pointFromX(d.slice(1,1+g),d[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(d){return this.encode(d,!0)},f.prototype._encode=function(d){var h=this.curve.p.byteLength(),g=this.getX().toArray("be",h);return d?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",h))},f.prototype.encode=function(d,h){return a.encode(this._encode(h),d)},f.prototype.precompute=function(d){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,d),h.beta=this._getBeta(),this.precomputed=h,this},f.prototype._hasDoubles=function(d){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return!!h&&h.points.length>=Math.ceil((d.bitLength()+1)/h.step)},f.prototype._getDoubles=function(d,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],b=this,m=0;m<h;m+=d){for(var v=0;v<d;v++)b=b.dbl();g.push(b)}return{step:d,points:g}},f.prototype._getNAFPoints=function(d){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],g=(1<<d)-1,b=g===1?null:this.dbl(),m=1;m<g;m++)h[m]=h[m-1].add(b);return{wnd:d,points:h}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(d){for(var h=this,g=0;g<d;g++)h=h.dbl();return h}},{"../utils":419,"bn.js":420}],407:[function(e,n,i){var s=e("../utils"),a=e("bn.js"),c=e("inherits"),l=e("./base"),o=s.assert;function u(d){this.twisted=(0|d.a)!=1,this.mOneA=this.twisted&&(0|d.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",d),this.a=new a(d.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(d.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(d.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|d.c)==1}function f(d,h,g,b,m){l.BasePoint.call(this,d,"projective"),h===null&&g===null&&b===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(h,16),this.y=new a(g,16),this.z=b?new a(b,16):this.curve.one,this.t=m&&new a(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}c(u,l),n.exports=u,u.prototype._mulA=function(d){return this.mOneA?d.redNeg():this.a.redMul(d)},u.prototype._mulC=function(d){return this.oneC?d:this.c.redMul(d)},u.prototype.jpoint=function(d,h,g,b){return this.point(d,h,g,b)},u.prototype.pointFromX=function(d,h){(d=new a(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr(),b=this.c2.redSub(this.a.redMul(g)),m=this.one.redSub(this.c2.redMul(this.d).redMul(g)),v=b.redMul(m.redInvm()),y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var w=y.fromRed().isOdd();return(h&&!w||!h&&w)&&(y=y.redNeg()),this.point(d,y)},u.prototype.pointFromY=function(d,h){(d=new a(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr(),b=g.redSub(this.c2),m=g.redMul(this.d).redMul(this.c2).redSub(this.a),v=b.redMul(m.redInvm());if(v.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,d)}var y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return y.fromRed().isOdd()!==h&&(y=y.redNeg()),this.point(y,d)},u.prototype.validate=function(d){if(d.isInfinity())return!0;d.normalize();var h=d.x.redSqr(),g=d.y.redSqr(),b=h.redMul(this.a).redAdd(g),m=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(g)));return b.cmp(m)===0},c(f,l.BasePoint),u.prototype.pointFromJSON=function(d){return f.fromJSON(this,d)},u.prototype.point=function(d,h,g,b){return new f(this,d,h,g,b)},f.fromJSON=function(d,h){return new f(d,h[0],h[1],h[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var d=this.x.redSqr(),h=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var b=this.curve._mulA(d),m=this.x.redAdd(this.y).redSqr().redISub(d).redISub(h),v=b.redAdd(h),y=v.redSub(g),w=b.redSub(h),T=m.redMul(y),I=v.redMul(w),V=m.redMul(w),B=y.redMul(v);return this.curve.point(T,I,B,V)},f.prototype._projDbl=function(){var d,h,g,b,m,v,y=this.x.redAdd(this.y).redSqr(),w=this.x.redSqr(),T=this.y.redSqr();if(this.curve.twisted){var I=(b=this.curve._mulA(w)).redAdd(T);this.zOne?(d=y.redSub(w).redSub(T).redMul(I.redSub(this.curve.two)),h=I.redMul(b.redSub(T)),g=I.redSqr().redSub(I).redSub(I)):(m=this.z.redSqr(),v=I.redSub(m).redISub(m),d=y.redSub(w).redISub(T).redMul(v),h=I.redMul(b.redSub(T)),g=I.redMul(v))}else b=w.redAdd(T),m=this.curve._mulC(this.z).redSqr(),v=b.redSub(m).redSub(m),d=this.curve._mulC(y.redISub(b)).redMul(v),h=this.curve._mulC(b).redMul(w.redISub(T)),g=b.redMul(v);return this.curve.point(d,h,g)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(d){var h=this.y.redSub(this.x).redMul(d.y.redSub(d.x)),g=this.y.redAdd(this.x).redMul(d.y.redAdd(d.x)),b=this.t.redMul(this.curve.dd).redMul(d.t),m=this.z.redMul(d.z.redAdd(d.z)),v=g.redSub(h),y=m.redSub(b),w=m.redAdd(b),T=g.redAdd(h),I=v.redMul(y),V=w.redMul(T),B=v.redMul(T),A=y.redMul(w);return this.curve.point(I,V,A,B)},f.prototype._projAdd=function(d){var h,g,b=this.z.redMul(d.z),m=b.redSqr(),v=this.x.redMul(d.x),y=this.y.redMul(d.y),w=this.curve.d.redMul(v).redMul(y),T=m.redSub(w),I=m.redAdd(w),V=this.x.redAdd(this.y).redMul(d.x.redAdd(d.y)).redISub(v).redISub(y),B=b.redMul(T).redMul(V);return this.curve.twisted?(h=b.redMul(I).redMul(y.redSub(this.curve._mulA(v))),g=T.redMul(I)):(h=b.redMul(I).redMul(y.redSub(v)),g=this.curve._mulC(T).redMul(I)),this.curve.point(B,h,g)},f.prototype.add=function(d){return this.isInfinity()?d:d.isInfinity()?this:this.curve.extended?this._extAdd(d):this._projAdd(d)},f.prototype.mul=function(d){return this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve._wnafMul(this,d)},f.prototype.mulAdd=function(d,h,g){return this.curve._wnafMulAdd(1,[this,h],[d,g],2,!1)},f.prototype.jmulAdd=function(d,h,g){return this.curve._wnafMulAdd(1,[this,h],[d,g],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var d=this.z.redInvm();return this.x=this.x.redMul(d),this.y=this.y.redMul(d),this.t&&(this.t=this.t.redMul(d)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(d){return this===d||this.getX().cmp(d.getX())===0&&this.getY().cmp(d.getY())===0},f.prototype.eqXToP=function(d){var h=d.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var g=d.clone(),b=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(b),this.x.cmp(h)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,n,i){var s=i;s.base=e("./base"),s.short=e("./short"),s.mont=e("./mont"),s.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,n,i){var s=e("bn.js"),a=e("inherits"),c=e("./base"),l=e("../utils");function o(f){c.call(this,"mont",f),this.a=new s(f.a,16).toRed(this.red),this.b=new s(f.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(f,d,h){c.BasePoint.call(this,f,"projective"),d===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(d,16),this.z=new s(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(o,c),n.exports=o,o.prototype.validate=function(f){var d=f.normalize().x,h=d.redSqr(),g=h.redMul(d).redAdd(h.redMul(this.a)).redAdd(d);return g.redSqrt().redSqr().cmp(g)===0},a(u,c.BasePoint),o.prototype.decodePoint=function(f,d){return this.point(l.toArray(f,d),1)},o.prototype.point=function(f,d){return new u(this,f,d)},o.prototype.pointFromJSON=function(f){return u.fromJSON(this,f)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(f,d){return new u(f,d[0],d[1]||f.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var f=this.x.redAdd(this.z).redSqr(),d=this.x.redSub(this.z).redSqr(),h=f.redSub(d),g=f.redMul(d),b=h.redMul(d.redAdd(this.curve.a24.redMul(h)));return this.curve.point(g,b)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(f,d){var h=this.x.redAdd(this.z),g=this.x.redSub(this.z),b=f.x.redAdd(f.z),m=f.x.redSub(f.z).redMul(h),v=b.redMul(g),y=d.z.redMul(m.redAdd(v).redSqr()),w=d.x.redMul(m.redISub(v).redSqr());return this.curve.point(y,w)},u.prototype.mul=function(f){for(var d=f.clone(),h=this,g=this.curve.point(null,null),b=[];d.cmpn(0)!==0;d.iushrn(1))b.push(d.andln(1));for(var m=b.length-1;m>=0;m--)b[m]===0?(h=h.diffAdd(g,this),g=g.dbl()):(g=h.diffAdd(g,this),h=h.dbl());return g},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,n,i){var s=e("../utils"),a=e("bn.js"),c=e("inherits"),l=e("./base"),o=s.assert;function u(h){l.call(this,"short",h),this.a=new a(h.a,16).toRed(this.red),this.b=new a(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(h,g,b,m){l.BasePoint.call(this,h,"affine"),g===null&&b===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(g,16),this.y=new a(b,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(h,g,b,m){l.BasePoint.call(this,h,"jacobian"),g===null&&b===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(g,16),this.y=new a(b,16),this.z=new a(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}c(u,l),n.exports=u,u.prototype._getEndomorphism=function(h){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,b;if(h.beta)g=new a(h.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);g=(g=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(h.lambda)b=new a(h.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(g))===0?b=v[0]:(b=v[1],o(this.g.mul(b).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:b,basis:h.basis?h.basis.map(function(y){return{a:new a(y.a,16),b:new a(y.b,16)}}):this._getEndoBasis(b)}}},u.prototype._getEndoRoots=function(h){var g=h===this.p?this.red:a.mont(h),b=new a(2).toRed(g).redInvm(),m=b.redNeg(),v=new a(3).toRed(g).redNeg().redSqrt().redMul(b);return[m.redAdd(v).fromRed(),m.redSub(v).fromRed()]},u.prototype._getEndoBasis=function(h){for(var g,b,m,v,y,w,T,I,V,B=this.n.ushrn(Math.floor(this.n.bitLength()/2)),A=h,M=this.n.clone(),F=new a(1),$=new a(0),U=new a(0),E=new a(1),P=0;A.cmpn(0)!==0;){var N=M.div(A);I=M.sub(N.mul(A)),V=U.sub(N.mul(F));var x=E.sub(N.mul($));if(!m&&I.cmp(B)<0)g=T.neg(),b=F,m=I.neg(),v=V;else if(m&&++P==2)break;T=I,M=A,A=I,U=F,F=V,E=$,$=x}y=I.neg(),w=V;var _=m.sqr().add(v.sqr());return y.sqr().add(w.sqr()).cmp(_)>=0&&(y=g,w=b),m.negative&&(m=m.neg(),v=v.neg()),y.negative&&(y=y.neg(),w=w.neg()),[{a:m,b:v},{a:y,b:w}]},u.prototype._endoSplit=function(h){var g=this.endo.basis,b=g[0],m=g[1],v=m.b.mul(h).divRound(this.n),y=b.b.neg().mul(h).divRound(this.n),w=v.mul(b.a),T=y.mul(m.a),I=v.mul(b.b),V=y.mul(m.b);return{k1:h.sub(w).sub(T),k2:I.add(V).neg()}},u.prototype.pointFromX=function(h,g){(h=new a(h,16)).red||(h=h.toRed(this.red));var b=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),m=b.redSqrt();if(m.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var v=m.fromRed().isOdd();return(g&&!v||!g&&v)&&(m=m.redNeg()),this.point(h,m)},u.prototype.validate=function(h){if(h.inf)return!0;var g=h.x,b=h.y,m=this.a.redMul(g),v=g.redSqr().redMul(g).redIAdd(m).redIAdd(this.b);return b.redSqr().redISub(v).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(h,g,b){for(var m=this._endoWnafT1,v=this._endoWnafT2,y=0;y<h.length;y++){var w=this._endoSplit(g[y]),T=h[y],I=T._getBeta();w.k1.negative&&(w.k1.ineg(),T=T.neg(!0)),w.k2.negative&&(w.k2.ineg(),I=I.neg(!0)),m[2*y]=T,m[2*y+1]=I,v[2*y]=w.k1,v[2*y+1]=w.k2}for(var V=this._wnafMulAdd(1,m,v,2*y,b),B=0;B<2*y;B++)m[B]=null,v[B]=null;return V},c(f,l.BasePoint),u.prototype.point=function(h,g,b){return new f(this,h,g,b)},u.prototype.pointFromJSON=function(h,g){return f.fromJSON(this,h,g)},f.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var b=this.curve,m=function(v){return b.point(v.x.redMul(b.endo.beta),v.y)};h.beta=g,g.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(m)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(m)}}}return g}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(h,g,b){typeof g=="string"&&(g=JSON.parse(g));var m=h.point(g[0],g[1],b);if(!g[2])return m;function v(w){return h.point(w[0],w[1],b)}var y=g[2];return m.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[m].concat(y.doubles.points.map(v))},naf:y.naf&&{wnd:y.naf.wnd,points:[m].concat(y.naf.points.map(v))}},m},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var g=this.y.redSub(h.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(h.x).redInvm()));var b=g.redSqr().redISub(this.x).redISub(h.x),m=g.redMul(this.x.redSub(b)).redISub(this.y);return this.curve.point(b,m)},f.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,b=this.x.redSqr(),m=h.redInvm(),v=b.redAdd(b).redIAdd(b).redIAdd(g).redMul(m),y=v.redSqr().redISub(this.x.redAdd(this.x)),w=v.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,w)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(h){return h=new a(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},f.prototype.mulAdd=function(h,g,b){var m=[this,g],v=[h,b];return this.curve.endo?this.curve._endoWnafMulAdd(m,v):this.curve._wnafMulAdd(1,m,v,2)},f.prototype.jmulAdd=function(h,g,b){var m=[this,g],v=[h,b];return this.curve.endo?this.curve._endoWnafMulAdd(m,v,!0):this.curve._wnafMulAdd(1,m,v,2,!0)},f.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},f.prototype.neg=function(h){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var b=this.precomputed,m=function(v){return v.neg()};g.precomputed={naf:b.naf&&{wnd:b.naf.wnd,points:b.naf.points.map(m)},doubles:b.doubles&&{step:b.doubles.step,points:b.doubles.points.map(m)}}}return g},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},c(d,l.BasePoint),u.prototype.jpoint=function(h,g,b){return new d(this,h,g,b)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),g=h.redSqr(),b=this.x.redMul(g),m=this.y.redMul(g).redMul(h);return this.curve.point(b,m)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var g=h.z.redSqr(),b=this.z.redSqr(),m=this.x.redMul(g),v=h.x.redMul(b),y=this.y.redMul(g.redMul(h.z)),w=h.y.redMul(b.redMul(this.z)),T=m.redSub(v),I=y.redSub(w);if(T.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var V=T.redSqr(),B=V.redMul(T),A=m.redMul(V),M=I.redSqr().redIAdd(B).redISub(A).redISub(A),F=I.redMul(A.redISub(M)).redISub(y.redMul(B)),$=this.z.redMul(h.z).redMul(T);return this.curve.jpoint(M,F,$)},d.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var g=this.z.redSqr(),b=this.x,m=h.x.redMul(g),v=this.y,y=h.y.redMul(g).redMul(this.z),w=b.redSub(m),T=v.redSub(y);if(w.cmpn(0)===0)return T.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=w.redSqr(),V=I.redMul(w),B=b.redMul(I),A=T.redSqr().redIAdd(V).redISub(B).redISub(B),M=T.redMul(B.redISub(A)).redISub(v.redMul(V)),F=this.z.redMul(w);return this.curve.jpoint(A,M,F)},d.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var b=this;for(g=0;g<h;g++)b=b.dbl();return b}var m=this.curve.a,v=this.curve.tinv,y=this.x,w=this.y,T=this.z,I=T.redSqr().redSqr(),V=w.redAdd(w);for(g=0;g<h;g++){var B=y.redSqr(),A=V.redSqr(),M=A.redSqr(),F=B.redAdd(B).redIAdd(B).redIAdd(m.redMul(I)),$=y.redMul(A),U=F.redSqr().redISub($.redAdd($)),E=$.redISub(U),P=F.redMul(E);P=P.redIAdd(P).redISub(M);var N=V.redMul(T);g+1<h&&(I=I.redMul(M)),y=U,T=N,V=P}return this.curve.jpoint(y,V.redMul(v),T)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var h,g,b;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),w=this.x.redAdd(v).redSqr().redISub(m).redISub(y);w=w.redIAdd(w);var T=m.redAdd(m).redIAdd(m),I=T.redSqr().redISub(w).redISub(w),V=y.redIAdd(y);V=(V=V.redIAdd(V)).redIAdd(V),h=I,g=T.redMul(w.redISub(I)).redISub(V),b=this.y.redAdd(this.y)}else{var B=this.x.redSqr(),A=this.y.redSqr(),M=A.redSqr(),F=this.x.redAdd(A).redSqr().redISub(B).redISub(M);F=F.redIAdd(F);var $=B.redAdd(B).redIAdd(B),U=$.redSqr(),E=M.redIAdd(M);E=(E=E.redIAdd(E)).redIAdd(E),h=U.redISub(F).redISub(F),g=$.redMul(F.redISub(h)).redISub(E),b=(b=this.y.redMul(this.z)).redIAdd(b)}return this.curve.jpoint(h,g,b)},d.prototype._threeDbl=function(){var h,g,b;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),w=this.x.redAdd(v).redSqr().redISub(m).redISub(y);w=w.redIAdd(w);var T=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),I=T.redSqr().redISub(w).redISub(w);h=I;var V=y.redIAdd(y);V=(V=V.redIAdd(V)).redIAdd(V),g=T.redMul(w.redISub(I)).redISub(V),b=this.y.redAdd(this.y)}else{var B=this.z.redSqr(),A=this.y.redSqr(),M=this.x.redMul(A),F=this.x.redSub(B).redMul(this.x.redAdd(B));F=F.redAdd(F).redIAdd(F);var $=M.redIAdd(M),U=($=$.redIAdd($)).redAdd($);h=F.redSqr().redISub(U),b=this.y.redAdd(this.z).redSqr().redISub(A).redISub(B);var E=A.redSqr();E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E),g=F.redMul($.redISub(h)).redISub(E)}return this.curve.jpoint(h,g,b)},d.prototype._dbl=function(){var h=this.curve.a,g=this.x,b=this.y,m=this.z,v=m.redSqr().redSqr(),y=g.redSqr(),w=b.redSqr(),T=y.redAdd(y).redIAdd(y).redIAdd(h.redMul(v)),I=g.redAdd(g),V=(I=I.redIAdd(I)).redMul(w),B=T.redSqr().redISub(V.redAdd(V)),A=V.redISub(B),M=w.redSqr();M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M);var F=T.redMul(A).redISub(M),$=b.redAdd(b).redMul(m);return this.curve.jpoint(B,F,$)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),g=this.y.redSqr(),b=this.z.redSqr(),m=g.redSqr(),v=h.redAdd(h).redIAdd(h),y=v.redSqr(),w=this.x.redAdd(g).redSqr().redISub(h).redISub(m),T=(w=(w=(w=w.redIAdd(w)).redAdd(w).redIAdd(w)).redISub(y)).redSqr(),I=m.redIAdd(m);I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var V=v.redIAdd(w).redSqr().redISub(y).redISub(T).redISub(I),B=g.redMul(V);B=(B=B.redIAdd(B)).redIAdd(B);var A=this.x.redMul(T).redISub(B);A=(A=A.redIAdd(A)).redIAdd(A);var M=this.y.redMul(V.redMul(I.redISub(V)).redISub(w.redMul(T)));M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M);var F=this.z.redAdd(w).redSqr().redISub(b).redISub(T);return this.curve.jpoint(A,M,F)},d.prototype.mul=function(h,g){return h=new a(h,g),this.curve._wnafMul(this,h)},d.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var g=this.z.redSqr(),b=h.z.redSqr();if(this.x.redMul(b).redISub(h.x.redMul(g)).cmpn(0)!==0)return!1;var m=g.redMul(this.z),v=b.redMul(h.z);return this.y.redMul(v).redISub(h.y.redMul(m)).cmpn(0)===0},d.prototype.eqXToP=function(h){var g=this.z.redSqr(),b=h.toRed(this.curve.red).redMul(g);if(this.x.cmp(b)===0)return!0;for(var m=h.clone(),v=this.curve.redN.redMul(g);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(b.redIAdd(v),this.x.cmp(b)===0)return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,n,i){var s,a=i,c=e("hash.js"),l=e("./curve"),o=e("./utils").assert;function u(d){d.type==="short"?this.curve=new l.short(d):d.type==="edwards"?this.curve=new l.edwards(d):this.curve=new l.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(d,h){Object.defineProperty(a,d,{configurable:!0,enumerable:!0,get:function(){var g=new u(h);return Object.defineProperty(a,d,{configurable:!0,enumerable:!0,value:g}),g}})}a.PresetCurve=u,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:c.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:c.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:c.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:c.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:c.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{s=e("./precomputed/secp256k1")}catch{s=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:c.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,n,i){var s=e("bn.js"),a=e("hmac-drbg"),c=e("../utils"),l=e("../curves"),o=e("brorand"),u=c.assert,f=e("./key"),d=e("./signature");function h(g){if(!(this instanceof h))return new h(g);typeof g=="string"&&(u(Object.prototype.hasOwnProperty.call(l,g),"Unknown curve "+g),g=l[g]),g instanceof l.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}n.exports=h,h.prototype.keyPair=function(g){return new f(this,g)},h.prototype.keyFromPrivate=function(g,b){return f.fromPrivate(this,g,b)},h.prototype.keyFromPublic=function(g,b){return f.fromPublic(this,g,b)},h.prototype.genKeyPair=function(g){g||(g={});for(var b=new a({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||o(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),v=this.n.sub(new s(2));;){var y=new s(b.generate(m));if(!(y.cmp(v)>0))return y.iaddn(1),this.keyFromPrivate(y)}},h.prototype._truncateToN=function(g,b){var m=8*g.byteLength()-this.n.bitLength();return m>0&&(g=g.ushrn(m)),!b&&g.cmp(this.n)>=0?g.sub(this.n):g},h.prototype.sign=function(g,b,m,v){typeof m=="object"&&(v=m,m=null),v||(v={}),b=this.keyFromPrivate(b,m),g=this._truncateToN(new s(g,16));for(var y=this.n.byteLength(),w=b.getPrivate().toArray("be",y),T=g.toArray("be",y),I=new a({hash:this.hash,entropy:w,nonce:T,pers:v.pers,persEnc:v.persEnc||"utf8"}),V=this.n.sub(new s(1)),B=0;;B++){var A=v.k?v.k(B):new s(I.generate(this.n.byteLength()));if(!((A=this._truncateToN(A,!0)).cmpn(1)<=0||A.cmp(V)>=0)){var M=this.g.mul(A);if(!M.isInfinity()){var F=M.getX(),$=F.umod(this.n);if($.cmpn(0)!==0){var U=A.invm(this.n).mul($.mul(b.getPrivate()).iadd(g));if((U=U.umod(this.n)).cmpn(0)!==0){var E=(M.getY().isOdd()?1:0)|(F.cmp($)!==0?2:0);return v.canonical&&U.cmp(this.nh)>0&&(U=this.n.sub(U),E^=1),new d({r:$,s:U,recoveryParam:E})}}}}}},h.prototype.verify=function(g,b,m,v){g=this._truncateToN(new s(g,16)),m=this.keyFromPublic(m,v);var y=(b=new d(b,"hex")).r,w=b.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||w.cmpn(1)<0||w.cmp(this.n)>=0)return!1;var T,I=w.invm(this.n),V=I.mul(g).umod(this.n),B=I.mul(y).umod(this.n);return this.curve._maxwellTrick?!(T=this.g.jmulAdd(V,m.getPublic(),B)).isInfinity()&&T.eqXToP(y):!(T=this.g.mulAdd(V,m.getPublic(),B)).isInfinity()&&T.getX().umod(this.n).cmp(y)===0},h.prototype.recoverPubKey=function(g,b,m,v){u((3&m)===m,"The recovery param is more than two bits"),b=new d(b,v);var y=this.n,w=new s(g),T=b.r,I=b.s,V=1&m,B=m>>1;if(T.cmp(this.curve.p.umod(this.curve.n))>=0&&B)throw new Error("Unable to find sencond key candinate");T=B?this.curve.pointFromX(T.add(this.curve.n),V):this.curve.pointFromX(T,V);var A=b.r.invm(y),M=y.sub(w).mul(A).umod(y),F=I.mul(A).umod(y);return this.g.mulAdd(M,T,F)},h.prototype.getKeyRecoveryParam=function(g,b,m,v){if((b=new d(b,v)).recoveryParam!==null)return b.recoveryParam;for(var y=0;y<4;y++){var w;try{w=this.recoverPubKey(g,b,y)}catch{continue}if(w.eq(m))return y}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,n,i){var s=e("bn.js"),a=e("../utils").assert;function c(l,o){this.ec=l,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}n.exports=c,c.fromPublic=function(l,o,u){return o instanceof c?o:new c(l,{pub:o,pubEnc:u})},c.fromPrivate=function(l,o,u){return o instanceof c?o:new c(l,{priv:o,privEnc:u})},c.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},c.prototype.getPublic=function(l,o){return typeof l=="string"&&(o=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,l):this.pub},c.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},c.prototype._importPrivate=function(l,o){this.priv=new s(l,o||16),this.priv=this.priv.umod(this.ec.curve.n)},c.prototype._importPublic=function(l,o){if(l.x||l.y)return this.ec.curve.type==="mont"?a(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||a(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,o)},c.prototype.derive=function(l){return l.validate()||a(l.validate(),"public point not validated"),l.mul(this.priv).getX()},c.prototype.sign=function(l,o,u){return this.ec.sign(l,this,o,u)},c.prototype.verify=function(l,o){return this.ec.verify(l,o,this)},c.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,n,i){var s=e("bn.js"),a=e("../utils"),c=a.assert;function l(h,g){if(h instanceof l)return h;this._importDER(h,g)||(c(h.r&&h.s,"Signature without r or s"),this.r=new s(h.r,16),this.s=new s(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}function o(){this.place=0}function u(h,g){var b=h[g.place++];if(!(128&b))return b;var m=15&b;if(m===0||m>4)return!1;for(var v=0,y=0,w=g.place;y<m;y++,w++)v<<=8,v|=h[w],v>>>=0;return!(v<=127)&&(g.place=w,v)}function f(h){for(var g=0,b=h.length-1;!h[g]&&!(128&h[g+1])&&g<b;)g++;return g===0?h:h.slice(g)}function d(h,g){if(g<128)h.push(g);else{var b=1+(Math.log(g)/Math.LN2>>>3);for(h.push(128|b);--b;)h.push(g>>>(b<<3)&255);h.push(g)}}n.exports=l,l.prototype._importDER=function(h,g){h=a.toArray(h,g);var b=new o;if(h[b.place++]!==48)return!1;var m=u(h,b);if(m===!1||m+b.place!==h.length||h[b.place++]!==2)return!1;var v=u(h,b);if(v===!1)return!1;var y=h.slice(b.place,v+b.place);if(b.place+=v,h[b.place++]!==2)return!1;var w=u(h,b);if(w===!1||h.length!==w+b.place)return!1;var T=h.slice(b.place,w+b.place);if(y[0]===0){if(!(128&y[1]))return!1;y=y.slice(1)}if(T[0]===0){if(!(128&T[1]))return!1;T=T.slice(1)}return this.r=new s(y),this.s=new s(T),this.recoveryParam=null,!0},l.prototype.toDER=function(h){var g=this.r.toArray(),b=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&b[0]&&(b=[0].concat(b)),g=f(g),b=f(b);!(b[0]||128&b[1]);)b=b.slice(1);var m=[2];d(m,g.length),(m=m.concat(g)).push(2),d(m,b.length);var v=m.concat(b),y=[48];return d(y,v.length),y=y.concat(v),a.encode(y,h)}},{"../utils":419,"bn.js":420}],415:[function(e,n,i){var s=e("hash.js"),a=e("../curves"),c=e("../utils"),l=c.assert,o=c.parseBytes,u=e("./key"),f=e("./signature");function d(h){if(l(h==="ed25519","only tested with ed25519 so far"),!(this instanceof d))return new d(h);h=a[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=s.sha512}n.exports=d,d.prototype.sign=function(h,g){h=o(h);var b=this.keyFromSecret(g),m=this.hashInt(b.messagePrefix(),h),v=this.g.mul(m),y=this.encodePoint(v),w=this.hashInt(y,b.pubBytes(),h).mul(b.priv()),T=m.add(w).umod(this.curve.n);return this.makeSignature({R:v,S:T,Rencoded:y})},d.prototype.verify=function(h,g,b){h=o(h),g=this.makeSignature(g);var m=this.keyFromPublic(b),v=this.hashInt(g.Rencoded(),m.pubBytes(),h),y=this.g.mul(g.S());return g.R().add(m.pub().mul(v)).eq(y)},d.prototype.hashInt=function(){for(var h=this.hash(),g=0;g<arguments.length;g++)h.update(arguments[g]);return c.intFromLE(h.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(h){return u.fromPublic(this,h)},d.prototype.keyFromSecret=function(h){return u.fromSecret(this,h)},d.prototype.makeSignature=function(h){return h instanceof f?h:new f(this,h)},d.prototype.encodePoint=function(h){var g=h.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=h.getX().isOdd()?128:0,g},d.prototype.decodePoint=function(h){var g=(h=c.parseBytes(h)).length-1,b=h.slice(0,g).concat(-129&h[g]),m=(128&h[g])!=0,v=c.intFromLE(b);return this.curve.pointFromY(v,m)},d.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(h){return c.intFromLE(h)},d.prototype.isPoint=function(h){return h instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,n,i){var s=e("../utils"),a=s.assert,c=s.parseBytes,l=s.cachedProperty;function o(u,f){this.eddsa=u,this._secret=c(f.secret),u.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=c(f.pub)}o.fromPublic=function(u,f){return f instanceof o?f:new o(u,{pub:f})},o.fromSecret=function(u,f){return f instanceof o?f:new o(u,{secret:f})},o.prototype.secret=function(){return this._secret},l(o,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(o,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(o,"privBytes",function(){var u=this.eddsa,f=this.hash(),d=u.encodingLength-1,h=f.slice(0,u.encodingLength);return h[0]&=248,h[d]&=127,h[d]|=64,h}),l(o,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(o,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(o,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),o.prototype.sign=function(u){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},o.prototype.verify=function(u,f){return this.eddsa.verify(u,f,this)},o.prototype.getSecret=function(u){return a(this._secret,"KeyPair is public only"),s.encode(this.secret(),u)},o.prototype.getPublic=function(u){return s.encode(this.pubBytes(),u)},n.exports=o},{"../utils":419}],417:[function(e,n,i){var s=e("bn.js"),a=e("../utils"),c=a.assert,l=a.cachedProperty,o=a.parseBytes;function u(f,d){this.eddsa=f,typeof d!="object"&&(d=o(d)),Array.isArray(d)&&(d={R:d.slice(0,f.encodingLength),S:d.slice(f.encodingLength)}),c(d.R&&d.S,"Signature without R or S"),f.isPoint(d.R)&&(this._R=d.R),d.S instanceof s&&(this._S=d.S),this._Rencoded=Array.isArray(d.R)?d.R:d.Rencoded,this._Sencoded=Array.isArray(d.S)?d.S:d.Sencoded}l(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},n.exports=u},{"../utils":419,"bn.js":420}],418:[function(e,n,i){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,n,i){var s=i,a=e("bn.js"),c=e("minimalistic-assert"),l=e("minimalistic-crypto-utils");s.assert=c,s.toArray=l.toArray,s.zero2=l.zero2,s.toHex=l.toHex,s.encode=l.encode,s.getNAF=function(o,u,f){var d=new Array(Math.max(o.bitLength(),f)+1);d.fill(0);for(var h=1<<u+1,g=o.clone(),b=0;b<d.length;b++){var m,v=g.andln(h-1);g.isOdd()?(m=v>(h>>1)-1?(h>>1)-v:v,g.isubn(m)):m=0,d[b]=m,g.iushrn(1)}return d},s.getJSF=function(o,u){var f=[[],[]];o=o.clone(),u=u.clone();for(var d,h=0,g=0;o.cmpn(-h)>0||u.cmpn(-g)>0;){var b,m,v=o.andln(3)+h&3,y=u.andln(3)+g&3;v===3&&(v=-1),y===3&&(y=-1),b=1&v?(d=o.andln(7)+h&7)!==3&&d!==5||y!==2?v:-v:0,f[0].push(b),m=1&y?(d=u.andln(7)+g&7)!==3&&d!==5||v!==2?y:-y:0,f[1].push(m),2*h===b+1&&(h=1-h),2*g===m+1&&(g=1-g),o.iushrn(1),u.iushrn(1)}return f},s.cachedProperty=function(o,u,f){var d="_"+u;o.prototype[u]=function(){return this[d]!==void 0?this[d]:this[d]=f.call(this)}},s.parseBytes=function(o){return typeof o=="string"?s.toArray(o,"hex"):o},s.intFromLE=function(o){return new a(o,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],421:[function(e,n,i){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,n,i){var s=Object.create||function(A){var M=function(){};return M.prototype=A,new M},a=Object.keys||function(A){var M=[];for(var F in A)Object.prototype.hasOwnProperty.call(A,F)&&M.push(F);return F},c=Function.prototype.bind||function(A){var M=this;return function(){return M.apply(A,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=s(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var o,u=10;try{var f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0}),o=f.x===0}catch{o=!1}function d(A){return A._maxListeners===void 0?l.defaultMaxListeners:A._maxListeners}function h(A,M,F){if(M)A.call(F);else for(var $=A.length,U=B(A,$),E=0;E<$;++E)U[E].call(F)}function g(A,M,F,$){if(M)A.call(F,$);else for(var U=A.length,E=B(A,U),P=0;P<U;++P)E[P].call(F,$)}function b(A,M,F,$,U){if(M)A.call(F,$,U);else for(var E=A.length,P=B(A,E),N=0;N<E;++N)P[N].call(F,$,U)}function m(A,M,F,$,U,E){if(M)A.call(F,$,U,E);else for(var P=A.length,N=B(A,P),x=0;x<P;++x)N[x].call(F,$,U,E)}function v(A,M,F,$){if(M)A.apply(F,$);else for(var U=A.length,E=B(A,U),P=0;P<U;++P)E[P].apply(F,$)}function y(A,M,F,$){var U,E,P;if(typeof F!="function")throw new TypeError('"listener" argument must be a function');if((E=A._events)?(E.newListener&&(A.emit("newListener",M,F.listener?F.listener:F),E=A._events),P=E[M]):(E=A._events=s(null),A._eventsCount=0),P){if(typeof P=="function"?P=E[M]=$?[F,P]:[P,F]:$?P.unshift(F):P.push(F),!P.warned&&(U=d(A))&&U>0&&P.length>U){P.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+P.length+' "'+String(M)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');N.name="MaxListenersExceededWarning",N.emitter=A,N.type=M,N.count=P.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",N.name,N.message)}}else P=E[M]=F,++A._eventsCount;return A}function w(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var A=new Array(arguments.length),M=0;M<A.length;++M)A[M]=arguments[M];this.listener.apply(this.target,A)}}function T(A,M,F){var $={fired:!1,wrapFn:void 0,target:A,type:M,listener:F},U=c.call(w,$);return U.listener=F,$.wrapFn=U,U}function I(A,M,F){var $=A._events;if(!$)return[];var U=$[M];return U?typeof U=="function"?F?[U.listener||U]:[U]:F?function(E){for(var P=new Array(E.length),N=0;N<P.length;++N)P[N]=E[N].listener||E[N];return P}(U):B(U,U.length):[]}function V(A){var M=this._events;if(M){var F=M[A];if(typeof F=="function")return 1;if(F)return F.length}return 0}function B(A,M){for(var F=new Array(M),$=0;$<M;++$)F[$]=A[$];return F}o?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(A){if(typeof A!="number"||A<0||A!=A)throw new TypeError('"defaultMaxListeners" must be a positive number');u=A}}):l.defaultMaxListeners=u,l.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||isNaN(A))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=A,this},l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(A){var M,F,$,U,E,P,N=A==="error";if(P=this._events)N=N&&P.error==null;else if(!N)return!1;if(N){if(arguments.length>1&&(M=arguments[1]),M instanceof Error)throw M;var x=new Error('Unhandled "error" event. ('+M+")");throw x.context=M,x}if(!(F=P[A]))return!1;var _=typeof F=="function";switch($=arguments.length){case 1:h(F,_,this);break;case 2:g(F,_,this,arguments[1]);break;case 3:b(F,_,this,arguments[1],arguments[2]);break;case 4:m(F,_,this,arguments[1],arguments[2],arguments[3]);break;default:for(U=new Array($-1),E=1;E<$;E++)U[E-1]=arguments[E];v(F,_,this,U)}return!0},l.prototype.addListener=function(A,M){return y(this,A,M,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(A,M){return y(this,A,M,!0)},l.prototype.once=function(A,M){if(typeof M!="function")throw new TypeError('"listener" argument must be a function');return this.on(A,T(this,A,M)),this},l.prototype.prependOnceListener=function(A,M){if(typeof M!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(A,T(this,A,M)),this},l.prototype.removeListener=function(A,M){var F,$,U,E,P;if(typeof M!="function")throw new TypeError('"listener" argument must be a function');if(!($=this._events))return this;if(!(F=$[A]))return this;if(F===M||F.listener===M)--this._eventsCount==0?this._events=s(null):(delete $[A],$.removeListener&&this.emit("removeListener",A,F.listener||M));else if(typeof F!="function"){for(U=-1,E=F.length-1;E>=0;E--)if(F[E]===M||F[E].listener===M){P=F[E].listener,U=E;break}if(U<0)return this;U===0?F.shift():function(N,x){for(var _=x,S=_+1,k=N.length;S<k;_+=1,S+=1)N[_]=N[S];N.pop()}(F,U),F.length===1&&($[A]=F[0]),$.removeListener&&this.emit("removeListener",A,P||M)}return this},l.prototype.removeAllListeners=function(A){var M,F,$;if(!(F=this._events))return this;if(!F.removeListener)return arguments.length===0?(this._events=s(null),this._eventsCount=0):F[A]&&(--this._eventsCount==0?this._events=s(null):delete F[A]),this;if(arguments.length===0){var U,E=a(F);for($=0;$<E.length;++$)(U=E[$])!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=s(null),this._eventsCount=0,this}if(typeof(M=F[A])=="function")this.removeListener(A,M);else if(M)for($=M.length-1;$>=0;$--)this.removeListener(A,M[$]);return this},l.prototype.listeners=function(A){return I(this,A,!0)},l.prototype.rawListeners=function(A){return I(this,A,!1)},l.listenerCount=function(A,M){return typeof A.listenerCount=="function"?A.listenerCount(M):V.call(A,M)},l.prototype.listenerCount=V,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("md5.js");n.exports=function(c,l,o,u){if(s.isBuffer(c)||(c=s.from(c,"binary")),l&&(s.isBuffer(l)||(l=s.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=o/8,d=s.alloc(f),h=s.alloc(u||0),g=s.alloc(0);f>0||u>0;){var b=new a;b.update(g),b.update(c),l&&b.update(l),g=b.digest();var m=0;if(f>0){var v=d.length-f;m=Math.min(f,g.length),g.copy(d,v,0,m),f-=m}if(m<g.length&&u>0){var y=h.length-u,w=Math.min(u,g.length-m);g.copy(h,y,m,m+w),u-=w}}return g.fill(0),{key:d,iv:h}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=i.ParserOptions=i.parseFile=i.parseStream=i.parseString=i.parse=i.FormatterOptions=i.CsvFormatterStream=i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var s=e("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return s.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return s.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return s.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return s.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return s.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return s.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return s.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return s.FormatterOptions}});var a=e("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return a.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return a.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return a.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return a.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return a.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return a.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("readable-stream").Transform;function c(l){a.call(this),this._block=s.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(c,a),c.prototype._transform=function(l,o,u){var f=null;try{this.update(l,o)}catch(d){f=d}u(f)},c.prototype._flush=function(l){var o=null;try{this.push(this.digest())}catch(u){o=u}l(o)},c.prototype.update=function(l,o){if(function(b,m){if(!s.isBuffer(b)&&typeof b!="string")throw new TypeError(m+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");s.isBuffer(l)||(l=s.from(l,o));for(var u=this._block,f=0;this._blockOffset+l.length-f>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)u[d++]=l[f++];this._update(),this._blockOffset=0}for(;f<l.length;)u[this._blockOffset++]=l[f++];for(var h=0,g=8*l.length;g>0;++h)this._length[h]+=g,(g=this._length[h]/4294967296|0)>0&&(this._length[h]-=4294967296*g);return this},c.prototype._update=function(){throw new Error("_update is not implemented")},c.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var o=this._digest();l!==void 0&&(o=o.toString(l)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return o},c.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=c},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,n,i){var s=i;s.utils=e("./hash/utils"),s.common=e("./hash/common"),s.sha=e("./hash/sha"),s.ripemd=e("./hash/ripemd"),s.hmac=e("./hash/hmac"),s.sha1=s.sha.sha1,s.sha256=s.sha.sha256,s.sha224=s.sha.sha224,s.sha384=s.sha.sha384,s.sha512=s.sha.sha512,s.ripemd160=s.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,n,i){var s=e("./utils"),a=e("minimalistic-assert");function c(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=c,c.prototype.update=function(l,o){if(l=s.toArray(l,o),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var u=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-u,l.length),this.pending.length===0&&(this.pending=null),l=s.join32(l,0,l.length-u,this.endian);for(var f=0;f<l.length;f+=this._delta32)this._update(l,f,f+this._delta32)}return this},c.prototype.digest=function(l){return this.update(this._pad()),a(this.pending===null),this._digest(l)},c.prototype._pad=function(){var l=this.pendingTotal,o=this._delta8,u=o-(l+this.padLength)%o,f=new Array(u+this.padLength);f[0]=128;for(var d=1;d<u;d++)f[d]=0;if(l<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)f[d++]=0;f[d++]=0,f[d++]=0,f[d++]=0,f[d++]=0,f[d++]=l>>>24&255,f[d++]=l>>>16&255,f[d++]=l>>>8&255,f[d++]=255&l}else for(f[d++]=255&l,f[d++]=l>>>8&255,f[d++]=l>>>16&255,f[d++]=l>>>24&255,f[d++]=0,f[d++]=0,f[d++]=0,f[d++]=0,h=8;h<this.padLength;h++)f[d++]=0;return f}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,n,i){var s=e("./utils"),a=e("minimalistic-assert");function c(l,o,u){if(!(this instanceof c))return new c(l,o,u);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(s.toArray(o,u))}n.exports=c,c.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),a(l.length<=this.blockSize);for(var o=l.length;o<this.blockSize;o++)l.push(0);for(o=0;o<l.length;o++)l[o]^=54;for(this.inner=new this.Hash().update(l),o=0;o<l.length;o++)l[o]^=106;this.outer=new this.Hash().update(l)},c.prototype.update=function(l,o){return this.inner.update(l,o),this},c.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,n,i){var s=e("./utils"),a=e("./common"),c=s.rotl32,l=s.sum32,o=s.sum32_3,u=s.sum32_4,f=a.BlockHash;function d(){if(!(this instanceof d))return new d;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(T,I,V,B){return T<=15?I^V^B:T<=31?I&V|~I&B:T<=47?(I|~V)^B:T<=63?I&B|V&~B:I^(V|~B)}function g(T){return T<=15?0:T<=31?1518500249:T<=47?1859775393:T<=63?2400959708:2840853838}function b(T){return T<=15?1352829926:T<=31?1548603684:T<=47?1836072691:T<=63?2053994217:0}s.inherits(d,f),i.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(T,I){for(var V=this.h[0],B=this.h[1],A=this.h[2],M=this.h[3],F=this.h[4],$=V,U=B,E=A,P=M,N=F,x=0;x<80;x++){var _=l(c(u(V,h(x,B,A,M),T[m[x]+I],g(x)),y[x]),F);V=F,F=M,M=c(A,10),A=B,B=_,_=l(c(u($,h(79-x,U,E,P),T[v[x]+I],b(x)),w[x]),N),$=N,N=P,P=c(E,10),E=U,U=_}_=o(this.h[1],A,P),this.h[1]=o(this.h[2],M,N),this.h[2]=o(this.h[3],F,$),this.h[3]=o(this.h[4],V,U),this.h[4]=o(this.h[0],B,E),this.h[0]=_},d.prototype._digest=function(T){return T==="hex"?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,n,i){i.sha1=e("./sha/1"),i.sha224=e("./sha/224"),i.sha256=e("./sha/256"),i.sha384=e("./sha/384"),i.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,n,i){var s=e("../utils"),a=e("../common"),c=e("./common"),l=s.rotl32,o=s.sum32,u=s.sum32_5,f=c.ft_1,d=a.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}s.inherits(g,d),n.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(b,m){for(var v=this.W,y=0;y<16;y++)v[y]=b[m+y];for(;y<v.length;y++)v[y]=l(v[y-3]^v[y-8]^v[y-14]^v[y-16],1);var w=this.h[0],T=this.h[1],I=this.h[2],V=this.h[3],B=this.h[4];for(y=0;y<v.length;y++){var A=~~(y/20),M=u(l(w,5),f(A,T,I,V),B,v[y],h[A]);B=V,V=I,I=l(T,30),T=w,w=M}this.h[0]=o(this.h[0],w),this.h[1]=o(this.h[1],T),this.h[2]=o(this.h[2],I),this.h[3]=o(this.h[3],V),this.h[4]=o(this.h[4],B)},g.prototype._digest=function(b){return b==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,n,i){var s=e("../utils"),a=e("./256");function c(){if(!(this instanceof c))return new c;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}s.inherits(c,a),n.exports=c,c.blockSize=512,c.outSize=224,c.hmacStrength=192,c.padLength=64,c.prototype._digest=function(l){return l==="hex"?s.toHex32(this.h.slice(0,7),"big"):s.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,n,i){var s=e("../utils"),a=e("../common"),c=e("./common"),l=e("minimalistic-assert"),o=s.sum32,u=s.sum32_4,f=s.sum32_5,d=c.ch32,h=c.maj32,g=c.s0_256,b=c.s1_256,m=c.g0_256,v=c.g1_256,y=a.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function T(){if(!(this instanceof T))return new T;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,this.W=new Array(64)}s.inherits(T,y),n.exports=T,T.blockSize=512,T.outSize=256,T.hmacStrength=192,T.padLength=64,T.prototype._update=function(I,V){for(var B=this.W,A=0;A<16;A++)B[A]=I[V+A];for(;A<B.length;A++)B[A]=u(v(B[A-2]),B[A-7],m(B[A-15]),B[A-16]);var M=this.h[0],F=this.h[1],$=this.h[2],U=this.h[3],E=this.h[4],P=this.h[5],N=this.h[6],x=this.h[7];for(l(this.k.length===B.length),A=0;A<B.length;A++){var _=f(x,b(E),d(E,P,N),this.k[A],B[A]),S=o(g(M),h(M,F,$));x=N,N=P,P=E,E=o(U,_),U=$,$=F,F=M,M=o(_,S)}this.h[0]=o(this.h[0],M),this.h[1]=o(this.h[1],F),this.h[2]=o(this.h[2],$),this.h[3]=o(this.h[3],U),this.h[4]=o(this.h[4],E),this.h[5]=o(this.h[5],P),this.h[6]=o(this.h[6],N),this.h[7]=o(this.h[7],x)},T.prototype._digest=function(I){return I==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,n,i){var s=e("../utils"),a=e("./512");function c(){if(!(this instanceof c))return new c;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}s.inherits(c,a),n.exports=c,c.blockSize=1024,c.outSize=384,c.hmacStrength=192,c.padLength=128,c.prototype._digest=function(l){return l==="hex"?s.toHex32(this.h.slice(0,12),"big"):s.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,n,i){var s=e("../utils"),a=e("../common"),c=e("minimalistic-assert"),l=s.rotr64_hi,o=s.rotr64_lo,u=s.shr64_hi,f=s.shr64_lo,d=s.sum64,h=s.sum64_hi,g=s.sum64_lo,b=s.sum64_4_hi,m=s.sum64_4_lo,v=s.sum64_5_hi,y=s.sum64_5_lo,w=a.BlockHash,T=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=T,this.W=new Array(160)}function V(S,k,j,L,D){var q=S&j^~S&D;return q<0&&(q+=4294967296),q}function B(S,k,j,L,D,q){var W=k&L^~k&q;return W<0&&(W+=4294967296),W}function A(S,k,j,L,D){var q=S&j^S&D^j&D;return q<0&&(q+=4294967296),q}function M(S,k,j,L,D,q){var W=k&L^k&q^L&q;return W<0&&(W+=4294967296),W}function F(S,k){var j=l(S,k,28)^l(k,S,2)^l(k,S,7);return j<0&&(j+=4294967296),j}function $(S,k){var j=o(S,k,28)^o(k,S,2)^o(k,S,7);return j<0&&(j+=4294967296),j}function U(S,k){var j=l(S,k,14)^l(S,k,18)^l(k,S,9);return j<0&&(j+=4294967296),j}function E(S,k){var j=o(S,k,14)^o(S,k,18)^o(k,S,9);return j<0&&(j+=4294967296),j}function P(S,k){var j=l(S,k,1)^l(S,k,8)^u(S,k,7);return j<0&&(j+=4294967296),j}function N(S,k){var j=o(S,k,1)^o(S,k,8)^f(S,k,7);return j<0&&(j+=4294967296),j}function x(S,k){var j=l(S,k,19)^l(k,S,29)^u(S,k,6);return j<0&&(j+=4294967296),j}function _(S,k){var j=o(S,k,19)^o(k,S,29)^f(S,k,6);return j<0&&(j+=4294967296),j}s.inherits(I,w),n.exports=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(S,k){for(var j=this.W,L=0;L<32;L++)j[L]=S[k+L];for(;L<j.length;L+=2){var D=x(j[L-4],j[L-3]),q=_(j[L-4],j[L-3]),W=j[L-14],Q=j[L-13],z=P(j[L-30],j[L-29]),K=N(j[L-30],j[L-29]),O=j[L-32],R=j[L-31];j[L]=b(D,q,W,Q,z,K,O,R),j[L+1]=m(D,q,W,Q,z,K,O,R)}},I.prototype._update=function(S,k){this._prepareBlock(S,k);var j=this.W,L=this.h[0],D=this.h[1],q=this.h[2],W=this.h[3],Q=this.h[4],z=this.h[5],K=this.h[6],O=this.h[7],R=this.h[8],H=this.h[9],Y=this.h[10],J=this.h[11],Z=this.h[12],te=this.h[13],oe=this.h[14],le=this.h[15];c(this.k.length===j.length);for(var ee=0;ee<j.length;ee+=2){var se=oe,ie=le,ue=U(R,H),ce=E(R,H),fe=V(R,H,Y,J,Z),ge=B(R,H,Y,J,Z,te),ye=this.k[ee],we=this.k[ee+1],Ne=j[ee],Ee=j[ee+1],Ie=v(se,ie,ue,ce,fe,ge,ye,we,Ne,Ee),qe=y(se,ie,ue,ce,fe,ge,ye,we,Ne,Ee);se=F(L,D),ie=$(L,D),ue=A(L,D,q,W,Q),ce=M(L,D,q,W,Q,z);var $e=h(se,ie,ue,ce),We=g(se,ie,ue,ce);oe=Z,le=te,Z=Y,te=J,Y=R,J=H,R=h(K,O,Ie,qe),H=g(O,O,Ie,qe),K=Q,O=z,Q=q,z=W,q=L,W=D,L=h(Ie,qe,$e,We),D=g(Ie,qe,$e,We)}d(this.h,0,L,D),d(this.h,2,q,W),d(this.h,4,Q,z),d(this.h,6,K,O),d(this.h,8,R,H),d(this.h,10,Y,J),d(this.h,12,Z,te),d(this.h,14,oe,le)},I.prototype._digest=function(S){return S==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,n,i){var s=e("../utils").rotr32;function a(o,u,f){return o&u^~o&f}function c(o,u,f){return o&u^o&f^u&f}function l(o,u,f){return o^u^f}i.ft_1=function(o,u,f,d){return o===0?a(u,f,d):o===1||o===3?l(u,f,d):o===2?c(u,f,d):void 0},i.ch32=a,i.maj32=c,i.p32=l,i.s0_256=function(o){return s(o,2)^s(o,13)^s(o,22)},i.s1_256=function(o){return s(o,6)^s(o,11)^s(o,25)},i.g0_256=function(o){return s(o,7)^s(o,18)^o>>>3},i.g1_256=function(o){return s(o,17)^s(o,19)^o>>>10}},{"../utils":437}],437:[function(e,n,i){var s=e("minimalistic-assert"),a=e("inherits");function c(f,d){return(64512&f.charCodeAt(d))==55296&&!(d<0||d+1>=f.length)&&(64512&f.charCodeAt(d+1))==56320}function l(f){return(f>>>24|f>>>8&65280|f<<8&16711680|(255&f)<<24)>>>0}function o(f){return f.length===1?"0"+f:f}function u(f){return f.length===7?"0"+f:f.length===6?"00"+f:f.length===5?"000"+f:f.length===4?"0000"+f:f.length===3?"00000"+f:f.length===2?"000000"+f:f.length===1?"0000000"+f:f}i.inherits=a,i.toArray=function(f,d){if(Array.isArray(f))return f.slice();if(!f)return[];var h=[];if(typeof f=="string")if(d){if(d==="hex")for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),b=0;b<f.length;b+=2)h.push(parseInt(f[b]+f[b+1],16))}else for(var g=0,b=0;b<f.length;b++){var m=f.charCodeAt(b);m<128?h[g++]=m:m<2048?(h[g++]=m>>6|192,h[g++]=63&m|128):c(f,b)?(m=65536+((1023&m)<<10)+(1023&f.charCodeAt(++b)),h[g++]=m>>18|240,h[g++]=m>>12&63|128,h[g++]=m>>6&63|128,h[g++]=63&m|128):(h[g++]=m>>12|224,h[g++]=m>>6&63|128,h[g++]=63&m|128)}else for(b=0;b<f.length;b++)h[b]=0|f[b];return h},i.toHex=function(f){for(var d="",h=0;h<f.length;h++)d+=o(f[h].toString(16));return d},i.htonl=l,i.toHex32=function(f,d){for(var h="",g=0;g<f.length;g++){var b=f[g];d==="little"&&(b=l(b)),h+=u(b.toString(16))}return h},i.zero2=o,i.zero8=u,i.join32=function(f,d,h,g){var b=h-d;s(b%4==0);for(var m=new Array(b/4),v=0,y=d;v<m.length;v++,y+=4){var w;w=g==="big"?f[y]<<24|f[y+1]<<16|f[y+2]<<8|f[y+3]:f[y+3]<<24|f[y+2]<<16|f[y+1]<<8|f[y],m[v]=w>>>0}return m},i.split32=function(f,d){for(var h=new Array(4*f.length),g=0,b=0;g<f.length;g++,b+=4){var m=f[g];d==="big"?(h[b]=m>>>24,h[b+1]=m>>>16&255,h[b+2]=m>>>8&255,h[b+3]=255&m):(h[b+3]=m>>>24,h[b+2]=m>>>16&255,h[b+1]=m>>>8&255,h[b]=255&m)}return h},i.rotr32=function(f,d){return f>>>d|f<<32-d},i.rotl32=function(f,d){return f<<d|f>>>32-d},i.sum32=function(f,d){return f+d>>>0},i.sum32_3=function(f,d,h){return f+d+h>>>0},i.sum32_4=function(f,d,h,g){return f+d+h+g>>>0},i.sum32_5=function(f,d,h,g,b){return f+d+h+g+b>>>0},i.sum64=function(f,d,h,g){var b=f[d],m=g+f[d+1]>>>0,v=(m<g?1:0)+h+b;f[d]=v>>>0,f[d+1]=m},i.sum64_hi=function(f,d,h,g){return(d+g>>>0<d?1:0)+f+h>>>0},i.sum64_lo=function(f,d,h,g){return d+g>>>0},i.sum64_4_hi=function(f,d,h,g,b,m,v,y){var w=0,T=d;return w+=(T=T+g>>>0)<d?1:0,w+=(T=T+m>>>0)<m?1:0,f+h+b+v+(w+=(T=T+y>>>0)<y?1:0)>>>0},i.sum64_4_lo=function(f,d,h,g,b,m,v,y){return d+g+m+y>>>0},i.sum64_5_hi=function(f,d,h,g,b,m,v,y,w,T){var I=0,V=d;return I+=(V=V+g>>>0)<d?1:0,I+=(V=V+m>>>0)<m?1:0,I+=(V=V+y>>>0)<y?1:0,f+h+b+v+w+(I+=(V=V+T>>>0)<T?1:0)>>>0},i.sum64_5_lo=function(f,d,h,g,b,m,v,y,w,T){return d+g+m+y+T>>>0},i.rotr64_hi=function(f,d,h){return(d<<32-h|f>>>h)>>>0},i.rotr64_lo=function(f,d,h){return(f<<32-h|d>>>h)>>>0},i.shr64_hi=function(f,d,h){return f>>>h},i.shr64_lo=function(f,d,h){return(f<<32-h|d>>>h)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,n,i){var s=e("hash.js"),a=e("minimalistic-crypto-utils"),c=e("minimalistic-assert");function l(o){if(!(this instanceof l))return new l(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=a.toArray(o.entropy,o.entropyEnc||"hex"),f=a.toArray(o.nonce,o.nonceEnc||"hex"),d=a.toArray(o.pers,o.persEnc||"hex");c(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,f,d)}n.exports=l,l.prototype._init=function(o,u,f){var d=o.concat(u).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new s.hmac(this.hash,this.K)},l.prototype._update=function(o){var u=this._hmac().update(this.V).update([0]);o&&(u=u.update(o)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(o,u,f,d){typeof u!="string"&&(d=f,f=u,u=null),o=a.toArray(o,u),f=a.toArray(f,d),c(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(f||[])),this._reseed=1},l.prototype.generate=function(o,u,f,d){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(d=f,f=u,u=null),f&&(f=a.toArray(f,d||"hex"),this._update(f));for(var h=[];h.length<o;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var g=h.slice(0,o);return this._update(f),this._reseed++,a.encode(g,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,n,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(s,a,c,l,o){var u,f,d=8*o-l-1,h=(1<<d)-1,g=h>>1,b=-7,m=c?o-1:0,v=c?-1:1,y=s[a+m];for(m+=v,u=y&(1<<-b)-1,y>>=-b,b+=d;b>0;u=256*u+s[a+m],m+=v,b-=8);for(f=u&(1<<-b)-1,u>>=-b,b+=l;b>0;f=256*f+s[a+m],m+=v,b-=8);if(u===0)u=1-g;else{if(u===h)return f?NaN:1/0*(y?-1:1);f+=Math.pow(2,l),u-=g}return(y?-1:1)*f*Math.pow(2,u-l)},i.write=function(s,a,c,l,o,u){var f,d,h,g=8*u-o-1,b=(1<<g)-1,m=b>>1,v=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=l?0:u-1,w=l?1:-1,T=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(d=isNaN(a)?1:0,f=b):(f=Math.floor(Math.log(a)/Math.LN2),a*(h=Math.pow(2,-f))<1&&(f--,h*=2),(a+=f+m>=1?v/h:v*Math.pow(2,1-m))*h>=2&&(f++,h/=2),f+m>=b?(d=0,f=b):f+m>=1?(d=(a*h-1)*Math.pow(2,o),f+=m):(d=a*Math.pow(2,m-1)*Math.pow(2,o),f=0));o>=8;s[c+y]=255&d,y+=w,d/=256,o-=8);for(f=f<<o|d,g+=o;g>0;s[c+y]=255&f,y+=w,f/=256,g-=8);s[c+y-w]|=128*T}},{}],440:[function(e,n,i){typeof Object.create=="function"?n.exports=function(s,a){a&&(s.super_=a,s.prototype=Object.create(a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(s,a){if(a){s.super_=a;var c=function(){};c.prototype=a.prototype,s.prototype=new c,s.prototype.constructor=s}}},{}],441:[function(e,n,i){(function(s,a,c,l,o,u,f,d){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(h){typeof i=="object"&&n!==void 0?n.exports=h():(typeof window<"u"?window:a!==void 0?a:typeof self<"u"?self:this).JSZip=h()})(function(){return function h(g,b,m){function v(T,I){if(!b[T]){if(!g[T]){var V=typeof e=="function"&&e;if(!I&&V)return V(T,!0);if(y)return y(T,!0);var B=new Error("Cannot find module '"+T+"'");throw B.code="MODULE_NOT_FOUND",B}var A=b[T]={exports:{}};g[T][0].call(A.exports,function(M){return v(g[T][1][M]||M)},A,A.exports,h,g,b,m)}return b[T].exports}for(var y=typeof e=="function"&&e,w=0;w<m.length;w++)v(m[w]);return v}({1:[function(h,g,b){var m=h("./utils"),v=h("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";b.encode=function(w){for(var T,I,V,B,A,M,F,$=[],U=0,E=w.length,P=E,N=m.getTypeOf(w)!=="string";U<w.length;)P=E-U,V=N?(T=w[U++],I=U<E?w[U++]:0,U<E?w[U++]:0):(T=w.charCodeAt(U++),I=U<E?w.charCodeAt(U++):0,U<E?w.charCodeAt(U++):0),B=T>>2,A=(3&T)<<4|I>>4,M=1<P?(15&I)<<2|V>>6:64,F=2<P?63&V:64,$.push(y.charAt(B)+y.charAt(A)+y.charAt(M)+y.charAt(F));return $.join("")},b.decode=function(w){var T,I,V,B,A,M,F=0,$=0,U="data:";if(w.substr(0,U.length)===U)throw new Error("Invalid base64 input, it looks like a data url.");var E,P=3*(w=w.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(w.charAt(w.length-1)===y.charAt(64)&&P--,w.charAt(w.length-2)===y.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=v.uint8array?new Uint8Array(0|P):new Array(0|P);F<w.length;)T=y.indexOf(w.charAt(F++))<<2|(B=y.indexOf(w.charAt(F++)))>>4,I=(15&B)<<4|(A=y.indexOf(w.charAt(F++)))>>2,V=(3&A)<<6|(M=y.indexOf(w.charAt(F++))),E[$++]=T,A!==64&&(E[$++]=I),M!==64&&(E[$++]=V);return E}},{"./support":30,"./utils":32}],2:[function(h,g,b){var m=h("./external"),v=h("./stream/DataWorker"),y=h("./stream/Crc32Probe"),w=h("./stream/DataLengthProbe");function T(I,V,B,A,M){this.compressedSize=I,this.uncompressedSize=V,this.crc32=B,this.compression=A,this.compressedContent=M}T.prototype={getContentWorker:function(){var I=new v(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new w("data_length")),V=this;return I.on("end",function(){if(this.streamInfo.data_length!==V.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),I},getCompressedWorker:function(){return new v(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},T.createWorkerFrom=function(I,V,B){return I.pipe(new y).pipe(new w("uncompressedSize")).pipe(V.compressWorker(B)).pipe(new w("compressedSize")).withStreamInfo("compression",V)},g.exports=T},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(h,g,b){var m=h("./stream/GenericWorker");b.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},b.DEFLATE=h("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(h,g,b){var m=h("./utils"),v=function(){for(var y,w=[],T=0;T<256;T++){y=T;for(var I=0;I<8;I++)y=1&y?3988292384^y>>>1:y>>>1;w[T]=y}return w}();g.exports=function(y,w){return y!==void 0&&y.length?m.getTypeOf(y)!=="string"?function(T,I,V,B){var A=v,M=0+V;T^=-1;for(var F=0;F<M;F++)T=T>>>8^A[255&(T^I[F])];return-1^T}(0|w,y,y.length):function(T,I,V,B){var A=v,M=0+V;T^=-1;for(var F=0;F<M;F++)T=T>>>8^A[255&(T^I.charCodeAt(F))];return-1^T}(0|w,y,y.length):0}},{"./utils":32}],5:[function(h,g,b){b.base64=!1,b.binary=!1,b.dir=!1,b.createFolders=!0,b.date=null,b.compression=null,b.compressionOptions=null,b.comment=null,b.unixPermissions=null,b.dosPermissions=null},{}],6:[function(h,g,b){var m;m=typeof Promise<"u"?Promise:h("lie"),g.exports={Promise:m}},{lie:37}],7:[function(h,g,b){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=h("pako"),y=h("./utils"),w=h("./stream/GenericWorker"),T=m?"uint8array":"array";function I(V,B){w.call(this,"FlateWorker/"+V),this._pako=null,this._pakoAction=V,this._pakoOptions=B,this.meta={}}b.magic="\b\0",y.inherits(I,w),I.prototype.processChunk=function(V){this.meta=V.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(T,V.data),!1)},I.prototype.flush=function(){w.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},I.prototype.cleanUp=function(){w.prototype.cleanUp.call(this),this._pako=null},I.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var V=this;this._pako.onData=function(B){V.push({data:B,meta:V.meta})}},b.compressWorker=function(V){return new I("Deflate",V)},b.uncompressWorker=function(){return new I("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(h,g,b){function m(A,M){var F,$="";for(F=0;F<M;F++)$+=String.fromCharCode(255&A),A>>>=8;return $}function v(A,M,F,$,U,E){var P,N,x=A.file,_=A.compression,S=E!==T.utf8encode,k=y.transformTo("string",E(x.name)),j=y.transformTo("string",T.utf8encode(x.name)),L=x.comment,D=y.transformTo("string",E(L)),q=y.transformTo("string",T.utf8encode(L)),W=j.length!==x.name.length,Q=q.length!==L.length,z="",K="",O="",R=x.dir,H=x.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};M&&!F||(Y.crc32=A.crc32,Y.compressedSize=A.compressedSize,Y.uncompressedSize=A.uncompressedSize);var J=0;M&&(J|=8),S||!W&&!Q||(J|=2048);var Z=0,te=0;R&&(Z|=16),U==="UNIX"?(te=798,Z|=function(le,ee){var se=le;return le||(se=ee?16893:33204),(65535&se)<<16}(x.unixPermissions,R)):(te=20,Z|=function(le){return 63&(le||0)}(x.dosPermissions)),P=H.getUTCHours(),P<<=6,P|=H.getUTCMinutes(),P<<=5,P|=H.getUTCSeconds()/2,N=H.getUTCFullYear()-1980,N<<=4,N|=H.getUTCMonth()+1,N<<=5,N|=H.getUTCDate(),W&&(K=m(1,1)+m(I(k),4)+j,z+="up"+m(K.length,2)+K),Q&&(O=m(1,1)+m(I(D),4)+q,z+="uc"+m(O.length,2)+O);var oe="";return oe+=`
\0`,oe+=m(J,2),oe+=_.magic,oe+=m(P,2),oe+=m(N,2),oe+=m(Y.crc32,4),oe+=m(Y.compressedSize,4),oe+=m(Y.uncompressedSize,4),oe+=m(k.length,2),oe+=m(z.length,2),{fileRecord:V.LOCAL_FILE_HEADER+oe+k+z,dirRecord:V.CENTRAL_FILE_HEADER+m(te,2)+oe+m(D.length,2)+"\0\0\0\0"+m(Z,4)+m($,4)+k+z+D}}var y=h("../utils"),w=h("../stream/GenericWorker"),T=h("../utf8"),I=h("../crc32"),V=h("../signature");function B(A,M,F,$){w.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=M,this.zipPlatform=F,this.encodeFileName=$,this.streamFiles=A,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits(B,w),B.prototype.push=function(A){var M=A.meta.percent||0,F=this.entriesCount,$=this._sources.length;this.accumulate?this.contentBuffer.push(A):(this.bytesWritten+=A.data.length,w.prototype.push.call(this,{data:A.data,meta:{currentFile:this.currentFile,percent:F?(M+100*(F-$-1))/F:100}}))},B.prototype.openedSource=function(A){this.currentSourceOffset=this.bytesWritten,this.currentFile=A.file.name;var M=this.streamFiles&&!A.file.dir;if(M){var F=v(A,M,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:F.fileRecord,meta:{percent:0}})}else this.accumulate=!0},B.prototype.closedSource=function(A){this.accumulate=!1;var M=this.streamFiles&&!A.file.dir,F=v(A,M,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(F.dirRecord),M)this.push({data:function($){return V.DATA_DESCRIPTOR+m($.crc32,4)+m($.compressedSize,4)+m($.uncompressedSize,4)}(A),meta:{percent:100}});else for(this.push({data:F.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},B.prototype.flush=function(){for(var A=this.bytesWritten,M=0;M<this.dirRecords.length;M++)this.push({data:this.dirRecords[M],meta:{percent:100}});var F=this.bytesWritten-A,$=function(U,E,P,N,x){var _=y.transformTo("string",x(N));return V.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(U,2)+m(U,2)+m(E,4)+m(P,4)+m(_.length,2)+_}(this.dirRecords.length,F,A,this.zipComment,this.encodeFileName);this.push({data:$,meta:{percent:100}})},B.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},B.prototype.registerPrevious=function(A){this._sources.push(A);var M=this;return A.on("data",function(F){M.processChunk(F)}),A.on("end",function(){M.closedSource(M.previous.streamInfo),M._sources.length?M.prepareNextSource():M.end()}),A.on("error",function(F){M.error(F)}),this},B.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},B.prototype.error=function(A){var M=this._sources;if(!w.prototype.error.call(this,A))return!1;for(var F=0;F<M.length;F++)try{M[F].error(A)}catch{}return!0},B.prototype.lock=function(){w.prototype.lock.call(this);for(var A=this._sources,M=0;M<A.length;M++)A[M].lock()},g.exports=B},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(h,g,b){var m=h("../compressions"),v=h("./ZipFileWorker");b.generateWorker=function(y,w,T){var I=new v(w.streamFiles,T,w.platform,w.encodeFileName),V=0;try{y.forEach(function(B,A){V++;var M=function(E,P){var N=E||P,x=m[N];if(!x)throw new Error(N+" is not a valid compression method !");return x}(A.options.compression,w.compression),F=A.options.compressionOptions||w.compressionOptions||{},$=A.dir,U=A.date;A._compressWorker(M,F).withStreamInfo("file",{name:B,dir:$,date:U,comment:A.comment||"",unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions}).pipe(I)}),I.entriesCount=V}catch(B){I.error(B)}return I}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(h,g,b){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new m;for(var y in this)typeof this[y]!="function"&&(v[y]=this[y]);return v}}(m.prototype=h("./object")).loadAsync=h("./load"),m.support=h("./support"),m.defaults=h("./defaults"),m.version="3.10.1",m.loadAsync=function(v,y){return new m().loadAsync(v,y)},m.external=h("./external"),g.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(h,g,b){var m=h("./utils"),v=h("./external"),y=h("./utf8"),w=h("./zipEntries"),T=h("./stream/Crc32Probe"),I=h("./nodejsUtils");function V(B){return new v.Promise(function(A,M){var F=B.decompressed.getContentWorker().pipe(new T);F.on("error",function($){M($)}).on("end",function(){F.streamInfo.crc32!==B.decompressed.crc32?M(new Error("Corrupted zip : CRC32 mismatch")):A()}).resume()})}g.exports=function(B,A){var M=this;return A=m.extend(A||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),I.isNode&&I.isStream(B)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",B,!0,A.optimizedBinaryString,A.base64).then(function(F){var $=new w(A);return $.load(F),$}).then(function(F){var $=[v.Promise.resolve(F)],U=F.files;if(A.checkCRC32)for(var E=0;E<U.length;E++)$.push(V(U[E]));return v.Promise.all($)}).then(function(F){for(var $=F.shift(),U=$.files,E=0;E<U.length;E++){var P=U[E],N=P.fileNameStr,x=m.resolve(P.fileNameStr);M.file(x,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:A.createFolders}),P.dir||(M.file(x).unsafeOriginalName=N)}return $.zipComment.length&&(M.comment=$.zipComment),M})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(h,g,b){var m=h("../utils"),v=h("../stream/GenericWorker");function y(w,T){v.call(this,"Nodejs stream input adapter for "+w),this._upstreamEnded=!1,this._bindStream(T)}m.inherits(y,v),y.prototype._bindStream=function(w){var T=this;(this._stream=w).pause(),w.on("data",function(I){T.push({data:I,meta:{percent:0}})}).on("error",function(I){T.isPaused?this.generatedError=I:T.error(I)}).on("end",function(){T.isPaused?T._upstreamEnded=!0:T.end()})},y.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(h,g,b){var m=h("readable-stream").Readable;function v(y,w,T){m.call(this,w),this._helper=y;var I=this;y.on("data",function(V,B){I.push(V)||I._helper.pause(),T&&T(B)}).on("error",function(V){I.emit("error",V)}).on("end",function(){I.push(null)})}h("../utils").inherits(v,m),v.prototype._read=function(){this._helper.resume()},g.exports=v},{"../utils":32,"readable-stream":16}],14:[function(h,g,b){g.exports={isNode:c!==void 0,newBufferFrom:function(m,v){if(c.from&&c.from!==Uint8Array.from)return c.from(m,v);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new c(m,v)},allocBuffer:function(m){if(c.alloc)return c.alloc(m);var v=new c(m);return v.fill(0),v},isBuffer:function(m){return c.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(h,g,b){function m(x,_,S){var k,j=y.getTypeOf(_),L=y.extend(S||{},I);L.date=L.date||new Date,L.compression!==null&&(L.compression=L.compression.toUpperCase()),typeof L.unixPermissions=="string"&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&16384&L.unixPermissions&&(L.dir=!0),L.dosPermissions&&16&L.dosPermissions&&(L.dir=!0),L.dir&&(x=U(x)),L.createFolders&&(k=$(x))&&E.call(this,k,!0);var D=j==="string"&&L.binary===!1&&L.base64===!1;S&&S.binary!==void 0||(L.binary=!D),(_ instanceof V&&_.uncompressedSize===0||L.dir||!_||_.length===0)&&(L.base64=!1,L.binary=!0,_="",L.compression="STORE",j="string");var q;q=_ instanceof V||_ instanceof w?_:M.isNode&&M.isStream(_)?new F(x,_):y.prepareContent(x,_,L.binary,L.optimizedBinaryString,L.base64);var W=new B(x,q,L);this.files[x]=W}var v=h("./utf8"),y=h("./utils"),w=h("./stream/GenericWorker"),T=h("./stream/StreamHelper"),I=h("./defaults"),V=h("./compressedObject"),B=h("./zipObject"),A=h("./generate"),M=h("./nodejsUtils"),F=h("./nodejs/NodejsStreamInputAdapter"),$=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var _=x.lastIndexOf("/");return 0<_?x.substring(0,_):""},U=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},E=function(x,_){return _=_!==void 0?_:I.createFolders,x=U(x),this.files[x]||m.call(this,x,null,{dir:!0,createFolders:_}),this.files[x]};function P(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var _,S,k;for(_ in this.files)k=this.files[_],(S=_.slice(this.root.length,_.length))&&_.slice(0,this.root.length)===this.root&&x(S,k)},filter:function(x){var _=[];return this.forEach(function(S,k){x(S,k)&&_.push(k)}),_},file:function(x,_,S){if(arguments.length!==1)return x=this.root+x,m.call(this,x,_,S),this;if(P(x)){var k=x;return this.filter(function(L,D){return!D.dir&&k.test(L)})}var j=this.files[this.root+x];return j&&!j.dir?j:null},folder:function(x){if(!x)return this;if(P(x))return this.filter(function(j,L){return L.dir&&x.test(j)});var _=this.root+x,S=E.call(this,_),k=this.clone();return k.root=S.name,k},remove:function(x){x=this.root+x;var _=this.files[x];if(_||(x.slice(-1)!=="/"&&(x+="/"),_=this.files[x]),_&&!_.dir)delete this.files[x];else for(var S=this.filter(function(j,L){return L.name.slice(0,x.length)===x}),k=0;k<S.length;k++)delete this.files[S[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var _,S={};try{if((S=y.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");y.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var k=S.comment||this.comment||"";_=A.generateWorker(this,S,k)}catch(j){(_=new w("error")).error(j)}return new T(_,S.type||"string",S.mimeType)},generateAsync:function(x,_){return this.generateInternalStream(x).accumulate(_)},generateNodeStream:function(x,_){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(_)}};g.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(h,g,b){g.exports=h("stream")},{stream:void 0}],17:[function(h,g,b){var m=h("./DataReader");function v(y){m.call(this,y);for(var w=0;w<this.data.length;w++)y[w]=255&y[w]}h("../utils").inherits(v,m),v.prototype.byteAt=function(y){return this.data[this.zero+y]},v.prototype.lastIndexOfSignature=function(y){for(var w=y.charCodeAt(0),T=y.charCodeAt(1),I=y.charCodeAt(2),V=y.charCodeAt(3),B=this.length-4;0<=B;--B)if(this.data[B]===w&&this.data[B+1]===T&&this.data[B+2]===I&&this.data[B+3]===V)return B-this.zero;return-1},v.prototype.readAndCheckSignature=function(y){var w=y.charCodeAt(0),T=y.charCodeAt(1),I=y.charCodeAt(2),V=y.charCodeAt(3),B=this.readData(4);return w===B[0]&&T===B[1]&&I===B[2]&&V===B[3]},v.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var w=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,w},g.exports=v},{"../utils":32,"./DataReader":18}],18:[function(h,g,b){var m=h("../utils");function v(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var w,T=0;for(this.checkOffset(y),w=this.index+y-1;w>=this.index;w--)T=(T<<8)+this.byteAt(w);return this.index+=y,T},readString:function(y){return m.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},g.exports=v},{"../utils":32}],19:[function(h,g,b){var m=h("./Uint8ArrayReader");function v(y){m.call(this,y)}h("../utils").inherits(v,m),v.prototype.readData=function(y){this.checkOffset(y);var w=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,w},g.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(h,g,b){var m=h("./DataReader");function v(y){m.call(this,y)}h("../utils").inherits(v,m),v.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},v.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},v.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},v.prototype.readData=function(y){this.checkOffset(y);var w=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,w},g.exports=v},{"../utils":32,"./DataReader":18}],21:[function(h,g,b){var m=h("./ArrayReader");function v(y){m.call(this,y)}h("../utils").inherits(v,m),v.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var w=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,w},g.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(h,g,b){var m=h("../utils"),v=h("../support"),y=h("./ArrayReader"),w=h("./StringReader"),T=h("./NodeBufferReader"),I=h("./Uint8ArrayReader");g.exports=function(V){var B=m.getTypeOf(V);return m.checkSupport(B),B!=="string"||v.uint8array?B==="nodebuffer"?new T(V):v.uint8array?new I(m.transformTo("uint8array",V)):new y(m.transformTo("array",V)):new w(V)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(h,g,b){b.LOCAL_FILE_HEADER="PK",b.CENTRAL_FILE_HEADER="PK",b.CENTRAL_DIRECTORY_END="PK",b.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",b.ZIP64_CENTRAL_DIRECTORY_END="PK",b.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(h,g,b){var m=h("./GenericWorker"),v=h("../utils");function y(w){m.call(this,"ConvertWorker to "+w),this.destType=w}v.inherits(y,m),y.prototype.processChunk=function(w){this.push({data:v.transformTo(this.destType,w.data),meta:w.meta})},g.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(h,g,b){var m=h("./GenericWorker"),v=h("../crc32");function y(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h("../utils").inherits(y,m),y.prototype.processChunk=function(w){this.streamInfo.crc32=v(w.data,this.streamInfo.crc32||0),this.push(w)},g.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(h,g,b){var m=h("../utils"),v=h("./GenericWorker");function y(w){v.call(this,"DataLengthProbe for "+w),this.propName=w,this.withStreamInfo(w,0)}m.inherits(y,v),y.prototype.processChunk=function(w){if(w){var T=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=T+w.data.length}v.prototype.processChunk.call(this,w)},g.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(h,g,b){var m=h("../utils"),v=h("./GenericWorker");function y(w){v.call(this,"DataWorker");var T=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,w.then(function(I){T.dataIsReady=!0,T.data=I,T.max=I&&I.length||0,T.type=m.getTypeOf(I),T.isPaused||T._tickAndRepeat()},function(I){T.error(I)})}m.inherits(y,v),y.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var w=null,T=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":w=this.data.substring(this.index,T);break;case"uint8array":w=this.data.subarray(this.index,T);break;case"array":case"nodebuffer":w=this.data.slice(this.index,T)}return this.index=T,this.push({data:w,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(h,g,b){function m(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,y){return this._listeners[v].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,y){if(this._listeners[v])for(var w=0;w<this._listeners[v].length;w++)this._listeners[v][w].call(this,y)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var y=this;return v.on("data",function(w){y.processChunk(w)}),v.on("end",function(){y.end()}),v.on("error",function(w){y.error(w)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,y){return this.extraStreamInfo[v]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},g.exports=m},{}],29:[function(h,g,b){var m=h("../utils"),v=h("./ConvertWorker"),y=h("./GenericWorker"),w=h("../base64"),T=h("../support"),I=h("../external"),V=null;if(T.nodestream)try{V=h("../nodejs/NodejsStreamOutputAdapter")}catch{}function B(A,M,F){var $=M;switch(M){case"blob":case"arraybuffer":$="uint8array";break;case"base64":$="string"}try{this._internalType=$,this._outputType=M,this._mimeType=F,m.checkSupport($),this._worker=A.pipe(new v($)),A.lock()}catch(U){this._worker=new y("error"),this._worker.error(U)}}B.prototype={accumulate:function(A){return function(M,F){return new I.Promise(function($,U){var E=[],P=M._internalType,N=M._outputType,x=M._mimeType;M.on("data",function(_,S){E.push(_),F&&F(S)}).on("error",function(_){E=[],U(_)}).on("end",function(){try{var _=function(S,k,j){switch(S){case"blob":return m.newBlob(m.transformTo("arraybuffer",k),j);case"base64":return w.encode(k);default:return m.transformTo(S,k)}}(N,function(S,k){var j,L=0,D=null,q=0;for(j=0;j<k.length;j++)q+=k[j].length;switch(S){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(D=new Uint8Array(q),j=0;j<k.length;j++)D.set(k[j],L),L+=k[j].length;return D;case"nodebuffer":return c.concat(k);default:throw new Error("concat : unsupported type '"+S+"'")}}(P,E),x);$(_)}catch(S){U(S)}E=[]}).resume()})}(this,A)},on:function(A,M){var F=this;return A==="data"?this._worker.on(A,function($){M.call(F,$.data,$.meta)}):this._worker.on(A,function(){m.delay(M,arguments,F)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new V(this,{objectMode:this._outputType!=="nodebuffer"},A)}},g.exports=B},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(h,g,b){if(b.base64=!0,b.array=!0,b.string=!0,b.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",b.nodebuffer=c!==void 0,b.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")b.blob=!1;else{var m=new ArrayBuffer(0);try{b.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(m),b.blob=v.getBlob("application/zip").size===0}catch{b.blob=!1}}}try{b.nodestream=!!h("readable-stream").Readable}catch{b.nodestream=!1}},{"readable-stream":16}],31:[function(h,g,b){for(var m=h("./utils"),v=h("./support"),y=h("./nodejsUtils"),w=h("./stream/GenericWorker"),T=new Array(256),I=0;I<256;I++)T[I]=252<=I?6:248<=I?5:240<=I?4:224<=I?3:192<=I?2:1;function V(){w.call(this,"utf-8 decode"),this.leftOver=null}function B(){w.call(this,"utf-8 encode")}T[254]=T[254]=1,b.utf8encode=function(A){return v.nodebuffer?y.newBufferFrom(A,"utf-8"):function(M){var F,$,U,E,P,N=M.length,x=0;for(E=0;E<N;E++)(64512&($=M.charCodeAt(E)))==55296&&E+1<N&&(64512&(U=M.charCodeAt(E+1)))==56320&&($=65536+($-55296<<10)+(U-56320),E++),x+=$<128?1:$<2048?2:$<65536?3:4;for(F=v.uint8array?new Uint8Array(x):new Array(x),E=P=0;P<x;E++)(64512&($=M.charCodeAt(E)))==55296&&E+1<N&&(64512&(U=M.charCodeAt(E+1)))==56320&&($=65536+($-55296<<10)+(U-56320),E++),$<128?F[P++]=$:($<2048?F[P++]=192|$>>>6:($<65536?F[P++]=224|$>>>12:(F[P++]=240|$>>>18,F[P++]=128|$>>>12&63),F[P++]=128|$>>>6&63),F[P++]=128|63&$);return F}(A)},b.utf8decode=function(A){return v.nodebuffer?m.transformTo("nodebuffer",A).toString("utf-8"):function(M){var F,$,U,E,P=M.length,N=new Array(2*P);for(F=$=0;F<P;)if((U=M[F++])<128)N[$++]=U;else if(4<(E=T[U]))N[$++]=65533,F+=E-1;else{for(U&=E===2?31:E===3?15:7;1<E&&F<P;)U=U<<6|63&M[F++],E--;1<E?N[$++]=65533:U<65536?N[$++]=U:(U-=65536,N[$++]=55296|U>>10&1023,N[$++]=56320|1023&U)}return N.length!==$&&(N.subarray?N=N.subarray(0,$):N.length=$),m.applyFromCharCode(N)}(A=m.transformTo(v.uint8array?"uint8array":"array",A))},m.inherits(V,w),V.prototype.processChunk=function(A){var M=m.transformTo(v.uint8array?"uint8array":"array",A.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var F=M;(M=new Uint8Array(F.length+this.leftOver.length)).set(this.leftOver,0),M.set(F,this.leftOver.length)}else M=this.leftOver.concat(M);this.leftOver=null}var $=function(E,P){var N;for((P=P||E.length)>E.length&&(P=E.length),N=P-1;0<=N&&(192&E[N])==128;)N--;return N<0||N===0?P:N+T[E[N]]>P?N:P}(M),U=M;$!==M.length&&(v.uint8array?(U=M.subarray(0,$),this.leftOver=M.subarray($,M.length)):(U=M.slice(0,$),this.leftOver=M.slice($,M.length))),this.push({data:b.utf8decode(U),meta:A.meta})},V.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:b.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},b.Utf8DecodeWorker=V,m.inherits(B,w),B.prototype.processChunk=function(A){this.push({data:b.utf8encode(A.data),meta:A.meta})},b.Utf8EncodeWorker=B},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(h,g,b){var m=h("./support"),v=h("./base64"),y=h("./nodejsUtils"),w=h("./external");function T(F){return F}function I(F,$){for(var U=0;U<F.length;++U)$[U]=255&F.charCodeAt(U);return $}h("setimmediate"),b.newBlob=function(F,$){b.checkSupport("blob");try{return new Blob([F],{type:$})}catch{try{var U=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return U.append(F),U.getBlob($)}catch{throw new Error("Bug : can't construct the Blob.")}}};var V={stringifyByChunk:function(F,$,U){var E=[],P=0,N=F.length;if(N<=U)return String.fromCharCode.apply(null,F);for(;P<N;)$==="array"||$==="nodebuffer"?E.push(String.fromCharCode.apply(null,F.slice(P,Math.min(P+U,N)))):E.push(String.fromCharCode.apply(null,F.subarray(P,Math.min(P+U,N)))),P+=U;return E.join("")},stringifyByChar:function(F){for(var $="",U=0;U<F.length;U++)$+=String.fromCharCode(F[U]);return $},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch{return!1}}()}};function B(F){var $=65536,U=b.getTypeOf(F),E=!0;if(U==="uint8array"?E=V.applyCanBeUsed.uint8array:U==="nodebuffer"&&(E=V.applyCanBeUsed.nodebuffer),E)for(;1<$;)try{return V.stringifyByChunk(F,U,$)}catch{$=Math.floor($/2)}return V.stringifyByChar(F)}function A(F,$){for(var U=0;U<F.length;U++)$[U]=F[U];return $}b.applyFromCharCode=B;var M={};M.string={string:T,array:function(F){return I(F,new Array(F.length))},arraybuffer:function(F){return M.string.uint8array(F).buffer},uint8array:function(F){return I(F,new Uint8Array(F.length))},nodebuffer:function(F){return I(F,y.allocBuffer(F.length))}},M.array={string:B,array:T,arraybuffer:function(F){return new Uint8Array(F).buffer},uint8array:function(F){return new Uint8Array(F)},nodebuffer:function(F){return y.newBufferFrom(F)}},M.arraybuffer={string:function(F){return B(new Uint8Array(F))},array:function(F){return A(new Uint8Array(F),new Array(F.byteLength))},arraybuffer:T,uint8array:function(F){return new Uint8Array(F)},nodebuffer:function(F){return y.newBufferFrom(new Uint8Array(F))}},M.uint8array={string:B,array:function(F){return A(F,new Array(F.length))},arraybuffer:function(F){return F.buffer},uint8array:T,nodebuffer:function(F){return y.newBufferFrom(F)}},M.nodebuffer={string:B,array:function(F){return A(F,new Array(F.length))},arraybuffer:function(F){return M.nodebuffer.uint8array(F).buffer},uint8array:function(F){return A(F,new Uint8Array(F.length))},nodebuffer:T},b.transformTo=function(F,$){if($=$||"",!F)return $;b.checkSupport(F);var U=b.getTypeOf($);return M[U][F]($)},b.resolve=function(F){for(var $=F.split("/"),U=[],E=0;E<$.length;E++){var P=$[E];P==="."||P===""&&E!==0&&E!==$.length-1||(P===".."?U.pop():U.push(P))}return U.join("/")},b.getTypeOf=function(F){return typeof F=="string"?"string":Object.prototype.toString.call(F)==="[object Array]"?"array":m.nodebuffer&&y.isBuffer(F)?"nodebuffer":m.uint8array&&F instanceof Uint8Array?"uint8array":m.arraybuffer&&F instanceof ArrayBuffer?"arraybuffer":void 0},b.checkSupport=function(F){if(!m[F.toLowerCase()])throw new Error(F+" is not supported by this platform")},b.MAX_VALUE_16BITS=65535,b.MAX_VALUE_32BITS=-1,b.pretty=function(F){var $,U,E="";for(U=0;U<(F||"").length;U++)E+="\\x"+(($=F.charCodeAt(U))<16?"0":"")+$.toString(16).toUpperCase();return E},b.delay=function(F,$,U){d(function(){F.apply(U||null,$||[])})},b.inherits=function(F,$){function U(){}U.prototype=$.prototype,F.prototype=new U},b.extend=function(){var F,$,U={};for(F=0;F<arguments.length;F++)for($ in arguments[F])Object.prototype.hasOwnProperty.call(arguments[F],$)&&U[$]===void 0&&(U[$]=arguments[F][$]);return U},b.prepareContent=function(F,$,U,E,P){return w.Promise.resolve($).then(function(N){return m.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new w.Promise(function(x,_){var S=new FileReader;S.onload=function(k){x(k.target.result)},S.onerror=function(k){_(k.target.error)},S.readAsArrayBuffer(N)}):N}).then(function(N){var x=b.getTypeOf(N);return x?(x==="arraybuffer"?N=b.transformTo("uint8array",N):x==="string"&&(P?N=v.decode(N):U&&E!==!0&&(N=function(_){return I(_,m.uint8array?new Uint8Array(_.length):new Array(_.length))}(N))),N):w.Promise.reject(new Error("Can't read the data of '"+F+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(h,g,b){var m=h("./reader/readerFor"),v=h("./utils"),y=h("./signature"),w=h("./zipEntry"),T=h("./support");function I(V){this.files=[],this.loadOptions=V}I.prototype={checkSignature:function(V){if(!this.reader.readAndCheckSignature(V)){this.reader.index-=4;var B=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(B)+", expected "+v.pretty(V)+")")}},isSignature:function(V,B){var A=this.reader.index;this.reader.setIndex(V);var M=this.reader.readString(4)===B;return this.reader.setIndex(A),M},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var V=this.reader.readData(this.zipCommentLength),B=T.uint8array?"uint8array":"array",A=v.transformTo(B,V);this.zipComment=this.loadOptions.decodeFileName(A)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var V,B,A,M=this.zip64EndOfCentralSize-44;0<M;)V=this.reader.readInt(2),B=this.reader.readInt(4),A=this.reader.readData(B),this.zip64ExtensibleData[V]={id:V,length:B,value:A}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var V,B;for(V=0;V<this.files.length;V++)B=this.files[V],this.reader.setIndex(B.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),B.readLocalPart(this.reader),B.handleUTF8(),B.processAttributes()},readCentralDir:function(){var V;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(V=new w({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(V);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var V=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(V<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(V);var B=V;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(V=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(V),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var A=this.centralDirOffset+this.centralDirSize;this.zip64&&(A+=20,A+=12+this.zip64EndOfCentralSize);var M=B-A;if(0<M)this.isSignature(B,y.CENTRAL_FILE_HEADER)||(this.reader.zero=M);else if(M<0)throw new Error("Corrupted zip: missing "+Math.abs(M)+" bytes.")},prepareReader:function(V){this.reader=m(V)},load:function(V){this.prepareReader(V),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=I},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(h,g,b){var m=h("./reader/readerFor"),v=h("./utils"),y=h("./compressedObject"),w=h("./crc32"),T=h("./utf8"),I=h("./compressions"),V=h("./support");function B(A,M){this.options=A,this.loadOptions=M}B.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(A){var M,F;if(A.skip(22),this.fileNameLength=A.readInt(2),F=A.readInt(2),this.fileName=A.readData(this.fileNameLength),A.skip(F),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((M=function($){for(var U in I)if(Object.prototype.hasOwnProperty.call(I,U)&&I[U].magic===$)return I[U];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,M,A.readData(this.compressedSize))},readCentralPart:function(A){this.versionMadeBy=A.readInt(2),A.skip(2),this.bitFlag=A.readInt(2),this.compressionMethod=A.readString(2),this.date=A.readDate(),this.crc32=A.readInt(4),this.compressedSize=A.readInt(4),this.uncompressedSize=A.readInt(4);var M=A.readInt(2);if(this.extraFieldsLength=A.readInt(2),this.fileCommentLength=A.readInt(2),this.diskNumberStart=A.readInt(2),this.internalFileAttributes=A.readInt(2),this.externalFileAttributes=A.readInt(4),this.localHeaderOffset=A.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");A.skip(M),this.readExtraFields(A),this.parseZIP64ExtraField(A),this.fileComment=A.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var A=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),A==0&&(this.dosPermissions=63&this.externalFileAttributes),A==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var A=m(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=A.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=A.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=A.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=A.readInt(4))}},readExtraFields:function(A){var M,F,$,U=A.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});A.index+4<U;)M=A.readInt(2),F=A.readInt(2),$=A.readData(F),this.extraFields[M]={id:M,length:F,value:$};A.setIndex(U)},handleUTF8:function(){var A=V.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=T.utf8decode(this.fileName),this.fileCommentStr=T.utf8decode(this.fileComment);else{var M=this.findExtraFieldUnicodePath();if(M!==null)this.fileNameStr=M;else{var F=v.transformTo(A,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(F)}var $=this.findExtraFieldUnicodeComment();if($!==null)this.fileCommentStr=$;else{var U=v.transformTo(A,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(U)}}},findExtraFieldUnicodePath:function(){var A=this.extraFields[28789];if(A){var M=m(A.value);return M.readInt(1)!==1||w(this.fileName)!==M.readInt(4)?null:T.utf8decode(M.readData(A.length-5))}return null},findExtraFieldUnicodeComment:function(){var A=this.extraFields[25461];if(A){var M=m(A.value);return M.readInt(1)!==1||w(this.fileComment)!==M.readInt(4)?null:T.utf8decode(M.readData(A.length-5))}return null}},g.exports=B},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(h,g,b){function m(M,F,$){this.name=M,this.dir=$.dir,this.date=$.date,this.comment=$.comment,this.unixPermissions=$.unixPermissions,this.dosPermissions=$.dosPermissions,this._data=F,this._dataBinary=$.binary,this.options={compression:$.compression,compressionOptions:$.compressionOptions}}var v=h("./stream/StreamHelper"),y=h("./stream/DataWorker"),w=h("./utf8"),T=h("./compressedObject"),I=h("./stream/GenericWorker");m.prototype={internalStream:function(M){var F=null,$="string";try{if(!M)throw new Error("No output type specified.");var U=($=M.toLowerCase())==="string"||$==="text";$!=="binarystring"&&$!=="text"||($="string"),F=this._decompressWorker();var E=!this._dataBinary;E&&!U&&(F=F.pipe(new w.Utf8EncodeWorker)),!E&&U&&(F=F.pipe(new w.Utf8DecodeWorker))}catch(P){(F=new I("error")).error(P)}return new v(F,$,"")},async:function(M,F){return this.internalStream(M).accumulate(F)},nodeStream:function(M,F){return this.internalStream(M||"nodebuffer").toNodejsStream(F)},_compressWorker:function(M,F){if(this._data instanceof T&&this._data.compression.magic===M.magic)return this._data.getCompressedWorker();var $=this._decompressWorker();return this._dataBinary||($=$.pipe(new w.Utf8EncodeWorker)),T.createWorkerFrom($,M,F)},_decompressWorker:function(){return this._data instanceof T?this._data.getContentWorker():this._data instanceof I?this._data:new y(this._data)}};for(var V=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],B=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},A=0;A<V.length;A++)m.prototype[V[A]]=B;g.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(h,g,b){(function(m){var v,y,w=m.MutationObserver||m.WebKitMutationObserver;if(w){var T=0,I=new w(M),V=m.document.createTextNode("");I.observe(V,{characterData:!0}),v=function(){V.data=T=++T%2}}else if(m.setImmediate||m.MessageChannel===void 0)v="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var F=m.document.createElement("script");F.onreadystatechange=function(){M(),F.onreadystatechange=null,F.parentNode.removeChild(F),F=null},m.document.documentElement.appendChild(F)}:function(){setTimeout(M,0)};else{var B=new m.MessageChannel;B.port1.onmessage=M,v=function(){B.port2.postMessage(0)}}var A=[];function M(){var F,$;y=!0;for(var U=A.length;U;){for($=A,A=[],F=-1;++F<U;)$[F]();U=A.length}y=!1}g.exports=function(F){A.push(F)!==1||y||v()}}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(h,g,b){var m=h("immediate");function v(){}var y={},w=["REJECTED"],T=["FULFILLED"],I=["PENDING"];function V(U){if(typeof U!="function")throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,U!==v&&F(this,U)}function B(U,E,P){this.promise=U,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function A(U,E,P){m(function(){var N;try{N=E(P)}catch(x){return y.reject(U,x)}N===U?y.reject(U,new TypeError("Cannot resolve promise with itself")):y.resolve(U,N)})}function M(U){var E=U&&U.then;if(U&&(typeof U=="object"||typeof U=="function")&&typeof E=="function")return function(){E.apply(U,arguments)}}function F(U,E){var P=!1;function N(S){P||(P=!0,y.reject(U,S))}function x(S){P||(P=!0,y.resolve(U,S))}var _=$(function(){E(x,N)});_.status==="error"&&N(_.value)}function $(U,E){var P={};try{P.value=U(E),P.status="success"}catch(N){P.status="error",P.value=N}return P}(g.exports=V).prototype.finally=function(U){if(typeof U!="function")return this;var E=this.constructor;return this.then(function(P){return E.resolve(U()).then(function(){return P})},function(P){return E.resolve(U()).then(function(){throw P})})},V.prototype.catch=function(U){return this.then(null,U)},V.prototype.then=function(U,E){if(typeof U!="function"&&this.state===T||typeof E!="function"&&this.state===w)return this;var P=new this.constructor(v);return this.state!==I?A(P,this.state===T?U:E,this.outcome):this.queue.push(new B(P,U,E)),P},B.prototype.callFulfilled=function(U){y.resolve(this.promise,U)},B.prototype.otherCallFulfilled=function(U){A(this.promise,this.onFulfilled,U)},B.prototype.callRejected=function(U){y.reject(this.promise,U)},B.prototype.otherCallRejected=function(U){A(this.promise,this.onRejected,U)},y.resolve=function(U,E){var P=$(M,E);if(P.status==="error")return y.reject(U,P.value);var N=P.value;if(N)F(U,N);else{U.state=T,U.outcome=E;for(var x=-1,_=U.queue.length;++x<_;)U.queue[x].callFulfilled(E)}return U},y.reject=function(U,E){U.state=w,U.outcome=E;for(var P=-1,N=U.queue.length;++P<N;)U.queue[P].callRejected(E);return U},V.resolve=function(U){return U instanceof this?U:y.resolve(new this(v),U)},V.reject=function(U){var E=new this(v);return y.reject(E,U)},V.all=function(U){var E=this;if(Object.prototype.toString.call(U)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=U.length,N=!1;if(!P)return this.resolve([]);for(var x=new Array(P),_=0,S=-1,k=new this(v);++S<P;)j(U[S],S);return k;function j(L,D){E.resolve(L).then(function(q){x[D]=q,++_!==P||N||(N=!0,y.resolve(k,x))},function(q){N||(N=!0,y.reject(k,q))})}},V.race=function(U){if(Object.prototype.toString.call(U)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=U.length,P=!1;if(!E)return this.resolve([]);for(var N,x=-1,_=new this(v);++x<E;)N=U[x],this.resolve(N).then(function(S){P||(P=!0,y.resolve(_,S))},function(S){P||(P=!0,y.reject(_,S))});return _}},{immediate:36}],38:[function(h,g,b){var m={};(0,h("./lib/utils/common").assign)(m,h("./lib/deflate"),h("./lib/inflate"),h("./lib/zlib/constants")),g.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(h,g,b){var m=h("./zlib/deflate"),v=h("./utils/common"),y=h("./utils/strings"),w=h("./zlib/messages"),T=h("./zlib/zstream"),I=Object.prototype.toString;function V(A){if(!(this instanceof V))return new V(A);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},A||{});var M=this.options;M.raw&&0<M.windowBits?M.windowBits=-M.windowBits:M.gzip&&0<M.windowBits&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var F=m.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(F!==0)throw new Error(w[F]);if(M.header&&m.deflateSetHeader(this.strm,M.header),M.dictionary){var $;if($=typeof M.dictionary=="string"?y.string2buf(M.dictionary):I.call(M.dictionary)==="[object ArrayBuffer]"?new Uint8Array(M.dictionary):M.dictionary,(F=m.deflateSetDictionary(this.strm,$))!==0)throw new Error(w[F]);this._dict_set=!0}}function B(A,M){var F=new V(M);if(F.push(A,!0),F.err)throw F.msg||w[F.err];return F.result}V.prototype.push=function(A,M){var F,$,U=this.strm,E=this.options.chunkSize;if(this.ended)return!1;$=M===~~M?M:M===!0?4:0,typeof A=="string"?U.input=y.string2buf(A):I.call(A)==="[object ArrayBuffer]"?U.input=new Uint8Array(A):U.input=A,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new v.Buf8(E),U.next_out=0,U.avail_out=E),(F=m.deflate(U,$))!==1&&F!==0)return this.onEnd(F),!(this.ended=!0);U.avail_out!==0&&(U.avail_in!==0||$!==4&&$!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(v.shrinkBuf(U.output,U.next_out))):this.onData(v.shrinkBuf(U.output,U.next_out)))}while((0<U.avail_in||U.avail_out===0)&&F!==1);return $===4?(F=m.deflateEnd(this.strm),this.onEnd(F),this.ended=!0,F===0):$!==2||(this.onEnd(0),!(U.avail_out=0))},V.prototype.onData=function(A){this.chunks.push(A)},V.prototype.onEnd=function(A){A===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},b.Deflate=V,b.deflate=B,b.deflateRaw=function(A,M){return(M=M||{}).raw=!0,B(A,M)},b.gzip=function(A,M){return(M=M||{}).gzip=!0,B(A,M)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(h,g,b){var m=h("./zlib/inflate"),v=h("./utils/common"),y=h("./utils/strings"),w=h("./zlib/constants"),T=h("./zlib/messages"),I=h("./zlib/zstream"),V=h("./zlib/gzheader"),B=Object.prototype.toString;function A(F){if(!(this instanceof A))return new A(F);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},F||{});var $=this.options;$.raw&&0<=$.windowBits&&$.windowBits<16&&($.windowBits=-$.windowBits,$.windowBits===0&&($.windowBits=-15)),!(0<=$.windowBits&&$.windowBits<16)||F&&F.windowBits||($.windowBits+=32),15<$.windowBits&&$.windowBits<48&&!(15&$.windowBits)&&($.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I,this.strm.avail_out=0;var U=m.inflateInit2(this.strm,$.windowBits);if(U!==w.Z_OK)throw new Error(T[U]);this.header=new V,m.inflateGetHeader(this.strm,this.header)}function M(F,$){var U=new A($);if(U.push(F,!0),U.err)throw U.msg||T[U.err];return U.result}A.prototype.push=function(F,$){var U,E,P,N,x,_,S=this.strm,k=this.options.chunkSize,j=this.options.dictionary,L=!1;if(this.ended)return!1;E=$===~~$?$:$===!0?w.Z_FINISH:w.Z_NO_FLUSH,typeof F=="string"?S.input=y.binstring2buf(F):B.call(F)==="[object ArrayBuffer]"?S.input=new Uint8Array(F):S.input=F,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new v.Buf8(k),S.next_out=0,S.avail_out=k),(U=m.inflate(S,w.Z_NO_FLUSH))===w.Z_NEED_DICT&&j&&(_=typeof j=="string"?y.string2buf(j):B.call(j)==="[object ArrayBuffer]"?new Uint8Array(j):j,U=m.inflateSetDictionary(this.strm,_)),U===w.Z_BUF_ERROR&&L===!0&&(U=w.Z_OK,L=!1),U!==w.Z_STREAM_END&&U!==w.Z_OK)return this.onEnd(U),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&U!==w.Z_STREAM_END&&(S.avail_in!==0||E!==w.Z_FINISH&&E!==w.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=y.utf8border(S.output,S.next_out),N=S.next_out-P,x=y.buf2string(S.output,P),S.next_out=N,S.avail_out=k-N,N&&v.arraySet(S.output,S.output,P,N,0),this.onData(x)):this.onData(v.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(L=!0)}while((0<S.avail_in||S.avail_out===0)&&U!==w.Z_STREAM_END);return U===w.Z_STREAM_END&&(E=w.Z_FINISH),E===w.Z_FINISH?(U=m.inflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===w.Z_OK):E!==w.Z_SYNC_FLUSH||(this.onEnd(w.Z_OK),!(S.avail_out=0))},A.prototype.onData=function(F){this.chunks.push(F)},A.prototype.onEnd=function(F){F===w.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=F,this.msg=this.strm.msg},b.Inflate=A,b.inflate=M,b.inflateRaw=function(F,$){return($=$||{}).raw=!0,M(F,$)},b.ungzip=M},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(h,g,b){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";b.assign=function(w){for(var T=Array.prototype.slice.call(arguments,1);T.length;){var I=T.shift();if(I){if(typeof I!="object")throw new TypeError(I+"must be non-object");for(var V in I)I.hasOwnProperty(V)&&(w[V]=I[V])}}return w},b.shrinkBuf=function(w,T){return w.length===T?w:w.subarray?w.subarray(0,T):(w.length=T,w)};var v={arraySet:function(w,T,I,V,B){if(T.subarray&&w.subarray)w.set(T.subarray(I,I+V),B);else for(var A=0;A<V;A++)w[B+A]=T[I+A]},flattenChunks:function(w){var T,I,V,B,A,M;for(T=V=0,I=w.length;T<I;T++)V+=w[T].length;for(M=new Uint8Array(V),T=B=0,I=w.length;T<I;T++)A=w[T],M.set(A,B),B+=A.length;return M}},y={arraySet:function(w,T,I,V,B){for(var A=0;A<V;A++)w[B+A]=T[I+A]},flattenChunks:function(w){return[].concat.apply([],w)}};b.setTyped=function(w){w?(b.Buf8=Uint8Array,b.Buf16=Uint16Array,b.Buf32=Int32Array,b.assign(b,v)):(b.Buf8=Array,b.Buf16=Array,b.Buf32=Array,b.assign(b,y))},b.setTyped(m)},{}],42:[function(h,g,b){var m=h("./common"),v=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var w=new m.Buf8(256),T=0;T<256;T++)w[T]=252<=T?6:248<=T?5:240<=T?4:224<=T?3:192<=T?2:1;function I(V,B){if(B<65537&&(V.subarray&&y||!V.subarray&&v))return String.fromCharCode.apply(null,m.shrinkBuf(V,B));for(var A="",M=0;M<B;M++)A+=String.fromCharCode(V[M]);return A}w[254]=w[254]=1,b.string2buf=function(V){var B,A,M,F,$,U=V.length,E=0;for(F=0;F<U;F++)(64512&(A=V.charCodeAt(F)))==55296&&F+1<U&&(64512&(M=V.charCodeAt(F+1)))==56320&&(A=65536+(A-55296<<10)+(M-56320),F++),E+=A<128?1:A<2048?2:A<65536?3:4;for(B=new m.Buf8(E),F=$=0;$<E;F++)(64512&(A=V.charCodeAt(F)))==55296&&F+1<U&&(64512&(M=V.charCodeAt(F+1)))==56320&&(A=65536+(A-55296<<10)+(M-56320),F++),A<128?B[$++]=A:(A<2048?B[$++]=192|A>>>6:(A<65536?B[$++]=224|A>>>12:(B[$++]=240|A>>>18,B[$++]=128|A>>>12&63),B[$++]=128|A>>>6&63),B[$++]=128|63&A);return B},b.buf2binstring=function(V){return I(V,V.length)},b.binstring2buf=function(V){for(var B=new m.Buf8(V.length),A=0,M=B.length;A<M;A++)B[A]=V.charCodeAt(A);return B},b.buf2string=function(V,B){var A,M,F,$,U=B||V.length,E=new Array(2*U);for(A=M=0;A<U;)if((F=V[A++])<128)E[M++]=F;else if(4<($=w[F]))E[M++]=65533,A+=$-1;else{for(F&=$===2?31:$===3?15:7;1<$&&A<U;)F=F<<6|63&V[A++],$--;1<$?E[M++]=65533:F<65536?E[M++]=F:(F-=65536,E[M++]=55296|F>>10&1023,E[M++]=56320|1023&F)}return I(E,M)},b.utf8border=function(V,B){var A;for((B=B||V.length)>V.length&&(B=V.length),A=B-1;0<=A&&(192&V[A])==128;)A--;return A<0||A===0?B:A+w[V[A]]>B?A:B}},{"./common":41}],43:[function(h,g,b){g.exports=function(m,v,y,w){for(var T=65535&m|0,I=m>>>16&65535|0,V=0;y!==0;){for(y-=V=2e3<y?2e3:y;I=I+(T=T+v[w++]|0)|0,--V;);T%=65521,I%=65521}return T|I<<16|0}},{}],44:[function(h,g,b){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(h,g,b){var m=function(){for(var v,y=[],w=0;w<256;w++){v=w;for(var T=0;T<8;T++)v=1&v?3988292384^v>>>1:v>>>1;y[w]=v}return y}();g.exports=function(v,y,w,T){var I=m,V=T+w;v^=-1;for(var B=T;B<V;B++)v=v>>>8^I[255&(v^y[B])];return-1^v}},{}],46:[function(h,g,b){var m,v=h("../utils/common"),y=h("./trees"),w=h("./adler32"),T=h("./crc32"),I=h("./messages"),V=-2,B=258,A=262,M=113;function F(z,K){return z.msg=I[K],K}function $(z){return(z<<1)-(4<z?9:0)}function U(z){for(var K=z.length;0<=--K;)z[K]=0}function E(z){var K=z.state,O=K.pending;O>z.avail_out&&(O=z.avail_out),O!==0&&(v.arraySet(z.output,K.pending_buf,K.pending_out,O,z.next_out),z.next_out+=O,K.pending_out+=O,z.total_out+=O,z.avail_out-=O,K.pending-=O,K.pending===0&&(K.pending_out=0))}function P(z,K){y._tr_flush_block(z,0<=z.block_start?z.block_start:-1,z.strstart-z.block_start,K),z.block_start=z.strstart,E(z.strm)}function N(z,K){z.pending_buf[z.pending++]=K}function x(z,K){z.pending_buf[z.pending++]=K>>>8&255,z.pending_buf[z.pending++]=255&K}function _(z,K){var O,R,H=z.max_chain_length,Y=z.strstart,J=z.prev_length,Z=z.nice_match,te=z.strstart>z.w_size-A?z.strstart-(z.w_size-A):0,oe=z.window,le=z.w_mask,ee=z.prev,se=z.strstart+B,ie=oe[Y+J-1],ue=oe[Y+J];z.prev_length>=z.good_match&&(H>>=2),Z>z.lookahead&&(Z=z.lookahead);do if(oe[(O=K)+J]===ue&&oe[O+J-1]===ie&&oe[O]===oe[Y]&&oe[++O]===oe[Y+1]){Y+=2,O++;do;while(oe[++Y]===oe[++O]&&oe[++Y]===oe[++O]&&oe[++Y]===oe[++O]&&oe[++Y]===oe[++O]&&oe[++Y]===oe[++O]&&oe[++Y]===oe[++O]&&oe[++Y]===oe[++O]&&oe[++Y]===oe[++O]&&Y<se);if(R=B-(se-Y),Y=se-B,J<R){if(z.match_start=K,Z<=(J=R))break;ie=oe[Y+J-1],ue=oe[Y+J]}}while((K=ee[K&le])>te&&--H!=0);return J<=z.lookahead?J:z.lookahead}function S(z){var K,O,R,H,Y,J,Z,te,oe,le,ee=z.w_size;do{if(H=z.window_size-z.lookahead-z.strstart,z.strstart>=ee+(ee-A)){for(v.arraySet(z.window,z.window,ee,ee,0),z.match_start-=ee,z.strstart-=ee,z.block_start-=ee,K=O=z.hash_size;R=z.head[--K],z.head[K]=ee<=R?R-ee:0,--O;);for(K=O=ee;R=z.prev[--K],z.prev[K]=ee<=R?R-ee:0,--O;);H+=ee}if(z.strm.avail_in===0)break;if(J=z.strm,Z=z.window,te=z.strstart+z.lookahead,le=void 0,(oe=H)<(le=J.avail_in)&&(le=oe),O=le===0?0:(J.avail_in-=le,v.arraySet(Z,J.input,J.next_in,le,te),J.state.wrap===1?J.adler=w(J.adler,Z,le,te):J.state.wrap===2&&(J.adler=T(J.adler,Z,le,te)),J.next_in+=le,J.total_in+=le,le),z.lookahead+=O,z.lookahead+z.insert>=3)for(Y=z.strstart-z.insert,z.ins_h=z.window[Y],z.ins_h=(z.ins_h<<z.hash_shift^z.window[Y+1])&z.hash_mask;z.insert&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[Y+3-1])&z.hash_mask,z.prev[Y&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=Y,Y++,z.insert--,!(z.lookahead+z.insert<3)););}while(z.lookahead<A&&z.strm.avail_in!==0)}function k(z,K){for(var O,R;;){if(z.lookahead<A){if(S(z),z.lookahead<A&&K===0)return 1;if(z.lookahead===0)break}if(O=0,z.lookahead>=3&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,O=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),O!==0&&z.strstart-O<=z.w_size-A&&(z.match_length=_(z,O)),z.match_length>=3)if(R=y._tr_tally(z,z.strstart-z.match_start,z.match_length-3),z.lookahead-=z.match_length,z.match_length<=z.max_lazy_match&&z.lookahead>=3){for(z.match_length--;z.strstart++,z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,O=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart,--z.match_length!=0;);z.strstart++}else z.strstart+=z.match_length,z.match_length=0,z.ins_h=z.window[z.strstart],z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+1])&z.hash_mask;else R=y._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++;if(R&&(P(z,!1),z.strm.avail_out===0))return 1}return z.insert=z.strstart<2?z.strstart:2,K===4?(P(z,!0),z.strm.avail_out===0?3:4):z.last_lit&&(P(z,!1),z.strm.avail_out===0)?1:2}function j(z,K){for(var O,R,H;;){if(z.lookahead<A){if(S(z),z.lookahead<A&&K===0)return 1;if(z.lookahead===0)break}if(O=0,z.lookahead>=3&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,O=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),z.prev_length=z.match_length,z.prev_match=z.match_start,z.match_length=2,O!==0&&z.prev_length<z.max_lazy_match&&z.strstart-O<=z.w_size-A&&(z.match_length=_(z,O),z.match_length<=5&&(z.strategy===1||z.match_length===3&&4096<z.strstart-z.match_start)&&(z.match_length=2)),z.prev_length>=3&&z.match_length<=z.prev_length){for(H=z.strstart+z.lookahead-3,R=y._tr_tally(z,z.strstart-1-z.prev_match,z.prev_length-3),z.lookahead-=z.prev_length-1,z.prev_length-=2;++z.strstart<=H&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,O=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),--z.prev_length!=0;);if(z.match_available=0,z.match_length=2,z.strstart++,R&&(P(z,!1),z.strm.avail_out===0))return 1}else if(z.match_available){if((R=y._tr_tally(z,0,z.window[z.strstart-1]))&&P(z,!1),z.strstart++,z.lookahead--,z.strm.avail_out===0)return 1}else z.match_available=1,z.strstart++,z.lookahead--}return z.match_available&&(R=y._tr_tally(z,0,z.window[z.strstart-1]),z.match_available=0),z.insert=z.strstart<2?z.strstart:2,K===4?(P(z,!0),z.strm.avail_out===0?3:4):z.last_lit&&(P(z,!1),z.strm.avail_out===0)?1:2}function L(z,K,O,R,H){this.good_length=z,this.max_lazy=K,this.nice_length=O,this.max_chain=R,this.func=H}function D(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function q(z){var K;return z&&z.state?(z.total_in=z.total_out=0,z.data_type=2,(K=z.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?42:M,z.adler=K.wrap===2?0:1,K.last_flush=0,y._tr_init(K),0):F(z,V)}function W(z){var K=q(z);return K===0&&function(O){O.window_size=2*O.w_size,U(O.head),O.max_lazy_match=m[O.level].max_lazy,O.good_match=m[O.level].good_length,O.nice_match=m[O.level].nice_length,O.max_chain_length=m[O.level].max_chain,O.strstart=0,O.block_start=0,O.lookahead=0,O.insert=0,O.match_length=O.prev_length=2,O.match_available=0,O.ins_h=0}(z.state),K}function Q(z,K,O,R,H,Y){if(!z)return V;var J=1;if(K===-1&&(K=6),R<0?(J=0,R=-R):15<R&&(J=2,R-=16),H<1||9<H||O!==8||R<8||15<R||K<0||9<K||Y<0||4<Y)return F(z,V);R===8&&(R=9);var Z=new D;return(z.state=Z).strm=z,Z.wrap=J,Z.gzhead=null,Z.w_bits=R,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=H+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+3-1)/3),Z.window=new v.Buf8(2*Z.w_size),Z.head=new v.Buf16(Z.hash_size),Z.prev=new v.Buf16(Z.w_size),Z.lit_bufsize=1<<H+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new v.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=K,Z.strategy=Y,Z.method=O,W(z)}m=[new L(0,0,0,0,function(z,K){var O=65535;for(O>z.pending_buf_size-5&&(O=z.pending_buf_size-5);;){if(z.lookahead<=1){if(S(z),z.lookahead===0&&K===0)return 1;if(z.lookahead===0)break}z.strstart+=z.lookahead,z.lookahead=0;var R=z.block_start+O;if((z.strstart===0||z.strstart>=R)&&(z.lookahead=z.strstart-R,z.strstart=R,P(z,!1),z.strm.avail_out===0)||z.strstart-z.block_start>=z.w_size-A&&(P(z,!1),z.strm.avail_out===0))return 1}return z.insert=0,K===4?(P(z,!0),z.strm.avail_out===0?3:4):(z.strstart>z.block_start&&(P(z,!1),z.strm.avail_out),1)}),new L(4,4,8,4,k),new L(4,5,16,8,k),new L(4,6,32,32,k),new L(4,4,16,16,j),new L(8,16,32,32,j),new L(8,16,128,128,j),new L(8,32,128,256,j),new L(32,128,258,1024,j),new L(32,258,258,4096,j)],b.deflateInit=function(z,K){return Q(z,K,8,15,8,0)},b.deflateInit2=Q,b.deflateReset=W,b.deflateResetKeep=q,b.deflateSetHeader=function(z,K){return z&&z.state?z.state.wrap!==2?V:(z.state.gzhead=K,0):V},b.deflate=function(z,K){var O,R,H,Y;if(!z||!z.state||5<K||K<0)return z?F(z,V):V;if(R=z.state,!z.output||!z.input&&z.avail_in!==0||R.status===666&&K!==4)return F(z,z.avail_out===0?-5:V);if(R.strm=z,O=R.last_flush,R.last_flush=K,R.status===42)if(R.wrap===2)z.adler=0,N(R,31),N(R,139),N(R,8),R.gzhead?(N(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),N(R,255&R.gzhead.time),N(R,R.gzhead.time>>8&255),N(R,R.gzhead.time>>16&255),N(R,R.gzhead.time>>24&255),N(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),N(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(N(R,255&R.gzhead.extra.length),N(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(z.adler=T(z.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(N(R,0),N(R,0),N(R,0),N(R,0),N(R,0),N(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),N(R,3),R.status=M);else{var J=8+(R.w_bits-8<<4)<<8;J|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(J|=32),J+=31-J%31,R.status=M,x(R,J),R.strstart!==0&&(x(R,z.adler>>>16),x(R,65535&z.adler)),z.adler=1}if(R.status===69)if(R.gzhead.extra){for(H=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>H&&(z.adler=T(z.adler,R.pending_buf,R.pending-H,H)),E(z),H=R.pending,R.pending!==R.pending_buf_size));)N(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>H&&(z.adler=T(z.adler,R.pending_buf,R.pending-H,H)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){H=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>H&&(z.adler=T(z.adler,R.pending_buf,R.pending-H,H)),E(z),H=R.pending,R.pending===R.pending_buf_size)){Y=1;break}Y=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,N(R,Y)}while(Y!==0);R.gzhead.hcrc&&R.pending>H&&(z.adler=T(z.adler,R.pending_buf,R.pending-H,H)),Y===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){H=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>H&&(z.adler=T(z.adler,R.pending_buf,R.pending-H,H)),E(z),H=R.pending,R.pending===R.pending_buf_size)){Y=1;break}Y=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,N(R,Y)}while(Y!==0);R.gzhead.hcrc&&R.pending>H&&(z.adler=T(z.adler,R.pending_buf,R.pending-H,H)),Y===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&E(z),R.pending+2<=R.pending_buf_size&&(N(R,255&z.adler),N(R,z.adler>>8&255),z.adler=0,R.status=M)):R.status=M),R.pending!==0){if(E(z),z.avail_out===0)return R.last_flush=-1,0}else if(z.avail_in===0&&$(K)<=$(O)&&K!==4)return F(z,-5);if(R.status===666&&z.avail_in!==0)return F(z,-5);if(z.avail_in!==0||R.lookahead!==0||K!==0&&R.status!==666){var Z=R.strategy===2?function(te,oe){for(var le;;){if(te.lookahead===0&&(S(te),te.lookahead===0)){if(oe===0)return 1;break}if(te.match_length=0,le=y._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++,le&&(P(te,!1),te.strm.avail_out===0))return 1}return te.insert=0,oe===4?(P(te,!0),te.strm.avail_out===0?3:4):te.last_lit&&(P(te,!1),te.strm.avail_out===0)?1:2}(R,K):R.strategy===3?function(te,oe){for(var le,ee,se,ie,ue=te.window;;){if(te.lookahead<=B){if(S(te),te.lookahead<=B&&oe===0)return 1;if(te.lookahead===0)break}if(te.match_length=0,te.lookahead>=3&&0<te.strstart&&(ee=ue[se=te.strstart-1])===ue[++se]&&ee===ue[++se]&&ee===ue[++se]){ie=te.strstart+B;do;while(ee===ue[++se]&&ee===ue[++se]&&ee===ue[++se]&&ee===ue[++se]&&ee===ue[++se]&&ee===ue[++se]&&ee===ue[++se]&&ee===ue[++se]&&se<ie);te.match_length=B-(ie-se),te.match_length>te.lookahead&&(te.match_length=te.lookahead)}if(te.match_length>=3?(le=y._tr_tally(te,1,te.match_length-3),te.lookahead-=te.match_length,te.strstart+=te.match_length,te.match_length=0):(le=y._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++),le&&(P(te,!1),te.strm.avail_out===0))return 1}return te.insert=0,oe===4?(P(te,!0),te.strm.avail_out===0?3:4):te.last_lit&&(P(te,!1),te.strm.avail_out===0)?1:2}(R,K):m[R.level].func(R,K);if(Z!==3&&Z!==4||(R.status=666),Z===1||Z===3)return z.avail_out===0&&(R.last_flush=-1),0;if(Z===2&&(K===1?y._tr_align(R):K!==5&&(y._tr_stored_block(R,0,0,!1),K===3&&(U(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),E(z),z.avail_out===0))return R.last_flush=-1,0}return K!==4?0:R.wrap<=0?1:(R.wrap===2?(N(R,255&z.adler),N(R,z.adler>>8&255),N(R,z.adler>>16&255),N(R,z.adler>>24&255),N(R,255&z.total_in),N(R,z.total_in>>8&255),N(R,z.total_in>>16&255),N(R,z.total_in>>24&255)):(x(R,z.adler>>>16),x(R,65535&z.adler)),E(z),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?0:1)},b.deflateEnd=function(z){var K;return z&&z.state?(K=z.state.status)!==42&&K!==69&&K!==73&&K!==91&&K!==103&&K!==M&&K!==666?F(z,V):(z.state=null,K===M?F(z,-3):0):V},b.deflateSetDictionary=function(z,K){var O,R,H,Y,J,Z,te,oe,le=K.length;if(!z||!z.state||(Y=(O=z.state).wrap)===2||Y===1&&O.status!==42||O.lookahead)return V;for(Y===1&&(z.adler=w(z.adler,K,le,0)),O.wrap=0,le>=O.w_size&&(Y===0&&(U(O.head),O.strstart=0,O.block_start=0,O.insert=0),oe=new v.Buf8(O.w_size),v.arraySet(oe,K,le-O.w_size,O.w_size,0),K=oe,le=O.w_size),J=z.avail_in,Z=z.next_in,te=z.input,z.avail_in=le,z.next_in=0,z.input=K,S(O);O.lookahead>=3;){for(R=O.strstart,H=O.lookahead-2;O.ins_h=(O.ins_h<<O.hash_shift^O.window[R+3-1])&O.hash_mask,O.prev[R&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=R,R++,--H;);O.strstart=R,O.lookahead=2,S(O)}return O.strstart+=O.lookahead,O.block_start=O.strstart,O.insert=O.lookahead,O.lookahead=0,O.match_length=O.prev_length=2,O.match_available=0,z.next_in=Z,z.input=te,z.avail_in=J,O.wrap=Y,0},b.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(h,g,b){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(h,g,b){g.exports=function(m,v){var y,w,T,I,V,B,A,M,F,$,U,E,P,N,x,_,S,k,j,L,D,q,W,Q,z;y=m.state,w=m.next_in,Q=m.input,T=w+(m.avail_in-5),I=m.next_out,z=m.output,V=I-(v-m.avail_out),B=I+(m.avail_out-257),A=y.dmax,M=y.wsize,F=y.whave,$=y.wnext,U=y.window,E=y.hold,P=y.bits,N=y.lencode,x=y.distcode,_=(1<<y.lenbits)-1,S=(1<<y.distbits)-1;e:do{P<15&&(E+=Q[w++]<<P,P+=8,E+=Q[w++]<<P,P+=8),k=N[E&_];t:for(;;){if(E>>>=j=k>>>24,P-=j,(j=k>>>16&255)==0)z[I++]=65535&k;else{if(!(16&j)){if(!(64&j)){k=N[(65535&k)+(E&(1<<j)-1)];continue t}if(32&j){y.mode=12;break e}m.msg="invalid literal/length code",y.mode=30;break e}L=65535&k,(j&=15)&&(P<j&&(E+=Q[w++]<<P,P+=8),L+=E&(1<<j)-1,E>>>=j,P-=j),P<15&&(E+=Q[w++]<<P,P+=8,E+=Q[w++]<<P,P+=8),k=x[E&S];r:for(;;){if(E>>>=j=k>>>24,P-=j,!(16&(j=k>>>16&255))){if(!(64&j)){k=x[(65535&k)+(E&(1<<j)-1)];continue r}m.msg="invalid distance code",y.mode=30;break e}if(D=65535&k,P<(j&=15)&&(E+=Q[w++]<<P,(P+=8)<j&&(E+=Q[w++]<<P,P+=8)),A<(D+=E&(1<<j)-1)){m.msg="invalid distance too far back",y.mode=30;break e}if(E>>>=j,P-=j,(j=I-V)<D){if(F<(j=D-j)&&y.sane){m.msg="invalid distance too far back",y.mode=30;break e}if(W=U,(q=0)===$){if(q+=M-j,j<L){for(L-=j;z[I++]=U[q++],--j;);q=I-D,W=z}}else if($<j){if(q+=M+$-j,(j-=$)<L){for(L-=j;z[I++]=U[q++],--j;);if(q=0,$<L){for(L-=j=$;z[I++]=U[q++],--j;);q=I-D,W=z}}}else if(q+=$-j,j<L){for(L-=j;z[I++]=U[q++],--j;);q=I-D,W=z}for(;2<L;)z[I++]=W[q++],z[I++]=W[q++],z[I++]=W[q++],L-=3;L&&(z[I++]=W[q++],1<L&&(z[I++]=W[q++]))}else{for(q=I-D;z[I++]=z[q++],z[I++]=z[q++],z[I++]=z[q++],2<(L-=3););L&&(z[I++]=z[q++],1<L&&(z[I++]=z[q++]))}break}}break}}while(w<T&&I<B);w-=L=P>>3,E&=(1<<(P-=L<<3))-1,m.next_in=w,m.next_out=I,m.avail_in=w<T?T-w+5:5-(w-T),m.avail_out=I<B?B-I+257:257-(I-B),y.hold=E,y.bits=P}},{}],49:[function(h,g,b){var m=h("../utils/common"),v=h("./adler32"),y=h("./crc32"),w=h("./inffast"),T=h("./inftrees"),I=-2;function V(_){return(_>>>24&255)+(_>>>8&65280)+((65280&_)<<8)+((255&_)<<24)}function B(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(_){var S;return _&&_.state?(S=_.state,_.total_in=_.total_out=S.total=0,_.msg="",S.wrap&&(_.adler=1&S.wrap),S.mode=1,S.last=0,S.havedict=0,S.dmax=32768,S.head=null,S.hold=0,S.bits=0,S.lencode=S.lendyn=new m.Buf32(852),S.distcode=S.distdyn=new m.Buf32(592),S.sane=1,S.back=-1,0):I}function M(_){var S;return _&&_.state?((S=_.state).wsize=0,S.whave=0,S.wnext=0,A(_)):I}function F(_,S){var k,j;return _&&_.state?(j=_.state,S<0?(k=0,S=-S):(k=1+(S>>4),S<48&&(S&=15)),S&&(S<8||15<S)?I:(j.window!==null&&j.wbits!==S&&(j.window=null),j.wrap=k,j.wbits=S,M(_))):I}function $(_,S){var k,j;return _?(j=new B,(_.state=j).window=null,(k=F(_,S))!==0&&(_.state=null),k):I}var U,E,P=!0;function N(_){if(P){var S;for(U=new m.Buf32(512),E=new m.Buf32(32),S=0;S<144;)_.lens[S++]=8;for(;S<256;)_.lens[S++]=9;for(;S<280;)_.lens[S++]=7;for(;S<288;)_.lens[S++]=8;for(T(1,_.lens,0,288,U,0,_.work,{bits:9}),S=0;S<32;)_.lens[S++]=5;T(2,_.lens,0,32,E,0,_.work,{bits:5}),P=!1}_.lencode=U,_.lenbits=9,_.distcode=E,_.distbits=5}function x(_,S,k,j){var L,D=_.state;return D.window===null&&(D.wsize=1<<D.wbits,D.wnext=0,D.whave=0,D.window=new m.Buf8(D.wsize)),j>=D.wsize?(m.arraySet(D.window,S,k-D.wsize,D.wsize,0),D.wnext=0,D.whave=D.wsize):(j<(L=D.wsize-D.wnext)&&(L=j),m.arraySet(D.window,S,k-j,L,D.wnext),(j-=L)?(m.arraySet(D.window,S,k-j,j,0),D.wnext=j,D.whave=D.wsize):(D.wnext+=L,D.wnext===D.wsize&&(D.wnext=0),D.whave<D.wsize&&(D.whave+=L))),0}b.inflateReset=M,b.inflateReset2=F,b.inflateResetKeep=A,b.inflateInit=function(_){return $(_,15)},b.inflateInit2=$,b.inflate=function(_,S){var k,j,L,D,q,W,Q,z,K,O,R,H,Y,J,Z,te,oe,le,ee,se,ie,ue,ce,fe,ge=0,ye=new m.Buf8(4),we=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_||!_.state||!_.output||!_.input&&_.avail_in!==0)return I;(k=_.state).mode===12&&(k.mode=13),q=_.next_out,L=_.output,Q=_.avail_out,D=_.next_in,j=_.input,W=_.avail_in,z=k.hold,K=k.bits,O=W,R=Q,ue=0;e:for(;;)switch(k.mode){case 1:if(k.wrap===0){k.mode=13;break}for(;K<16;){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}if(2&k.wrap&&z===35615){ye[k.check=0]=255&z,ye[1]=z>>>8&255,k.check=y(k.check,ye,2,0),K=z=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&z)<<8)+(z>>8))%31){_.msg="incorrect header check",k.mode=30;break}if((15&z)!=8){_.msg="unknown compression method",k.mode=30;break}if(K-=4,ie=8+(15&(z>>>=4)),k.wbits===0)k.wbits=ie;else if(ie>k.wbits){_.msg="invalid window size",k.mode=30;break}k.dmax=1<<ie,_.adler=k.check=1,k.mode=512&z?10:12,K=z=0;break;case 2:for(;K<16;){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}if(k.flags=z,(255&k.flags)!=8){_.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){_.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=z>>8&1),512&k.flags&&(ye[0]=255&z,ye[1]=z>>>8&255,k.check=y(k.check,ye,2,0)),K=z=0,k.mode=3;case 3:for(;K<32;){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}k.head&&(k.head.time=z),512&k.flags&&(ye[0]=255&z,ye[1]=z>>>8&255,ye[2]=z>>>16&255,ye[3]=z>>>24&255,k.check=y(k.check,ye,4,0)),K=z=0,k.mode=4;case 4:for(;K<16;){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}k.head&&(k.head.xflags=255&z,k.head.os=z>>8),512&k.flags&&(ye[0]=255&z,ye[1]=z>>>8&255,k.check=y(k.check,ye,2,0)),K=z=0,k.mode=5;case 5:if(1024&k.flags){for(;K<16;){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}k.length=z,k.head&&(k.head.extra_len=z),512&k.flags&&(ye[0]=255&z,ye[1]=z>>>8&255,k.check=y(k.check,ye,2,0)),K=z=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(W<(H=k.length)&&(H=W),H&&(k.head&&(ie=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),m.arraySet(k.head.extra,j,D,H,ie)),512&k.flags&&(k.check=y(k.check,j,H,D)),W-=H,D+=H,k.length-=H),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(W===0)break e;for(H=0;ie=j[D+H++],k.head&&ie&&k.length<65536&&(k.head.name+=String.fromCharCode(ie)),ie&&H<W;);if(512&k.flags&&(k.check=y(k.check,j,H,D)),W-=H,D+=H,ie)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(W===0)break e;for(H=0;ie=j[D+H++],k.head&&ie&&k.length<65536&&(k.head.comment+=String.fromCharCode(ie)),ie&&H<W;);if(512&k.flags&&(k.check=y(k.check,j,H,D)),W-=H,D+=H,ie)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;K<16;){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}if(z!==(65535&k.check)){_.msg="header crc mismatch",k.mode=30;break}K=z=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),_.adler=k.check=0,k.mode=12;break;case 10:for(;K<32;){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}_.adler=k.check=V(z),K=z=0,k.mode=11;case 11:if(k.havedict===0)return _.next_out=q,_.avail_out=Q,_.next_in=D,_.avail_in=W,k.hold=z,k.bits=K,2;_.adler=k.check=1,k.mode=12;case 12:if(S===5||S===6)break e;case 13:if(k.last){z>>>=7&K,K-=7&K,k.mode=27;break}for(;K<3;){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}switch(k.last=1&z,K-=1,3&(z>>>=1)){case 0:k.mode=14;break;case 1:if(N(k),k.mode=20,S!==6)break;z>>>=2,K-=2;break e;case 2:k.mode=17;break;case 3:_.msg="invalid block type",k.mode=30}z>>>=2,K-=2;break;case 14:for(z>>>=7&K,K-=7&K;K<32;){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}if((65535&z)!=(z>>>16^65535)){_.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&z,K=z=0,k.mode=15,S===6)break e;case 15:k.mode=16;case 16:if(H=k.length){if(W<H&&(H=W),Q<H&&(H=Q),H===0)break e;m.arraySet(L,j,D,H,q),W-=H,D+=H,Q-=H,q+=H,k.length-=H;break}k.mode=12;break;case 17:for(;K<14;){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}if(k.nlen=257+(31&z),z>>>=5,K-=5,k.ndist=1+(31&z),z>>>=5,K-=5,k.ncode=4+(15&z),z>>>=4,K-=4,286<k.nlen||30<k.ndist){_.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;K<3;){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}k.lens[we[k.have++]]=7&z,z>>>=3,K-=3}for(;k.have<19;)k.lens[we[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,ce={bits:k.lenbits},ue=T(0,k.lens,0,19,k.lencode,0,k.work,ce),k.lenbits=ce.bits,ue){_.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;te=(ge=k.lencode[z&(1<<k.lenbits)-1])>>>16&255,oe=65535&ge,!((Z=ge>>>24)<=K);){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}if(oe<16)z>>>=Z,K-=Z,k.lens[k.have++]=oe;else{if(oe===16){for(fe=Z+2;K<fe;){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}if(z>>>=Z,K-=Z,k.have===0){_.msg="invalid bit length repeat",k.mode=30;break}ie=k.lens[k.have-1],H=3+(3&z),z>>>=2,K-=2}else if(oe===17){for(fe=Z+3;K<fe;){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}K-=Z,ie=0,H=3+(7&(z>>>=Z)),z>>>=3,K-=3}else{for(fe=Z+7;K<fe;){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}K-=Z,ie=0,H=11+(127&(z>>>=Z)),z>>>=7,K-=7}if(k.have+H>k.nlen+k.ndist){_.msg="invalid bit length repeat",k.mode=30;break}for(;H--;)k.lens[k.have++]=ie}}if(k.mode===30)break;if(k.lens[256]===0){_.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,ce={bits:k.lenbits},ue=T(1,k.lens,0,k.nlen,k.lencode,0,k.work,ce),k.lenbits=ce.bits,ue){_.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,ce={bits:k.distbits},ue=T(2,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,ce),k.distbits=ce.bits,ue){_.msg="invalid distances set",k.mode=30;break}if(k.mode=20,S===6)break e;case 20:k.mode=21;case 21:if(6<=W&&258<=Q){_.next_out=q,_.avail_out=Q,_.next_in=D,_.avail_in=W,k.hold=z,k.bits=K,w(_,R),q=_.next_out,L=_.output,Q=_.avail_out,D=_.next_in,j=_.input,W=_.avail_in,z=k.hold,K=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;te=(ge=k.lencode[z&(1<<k.lenbits)-1])>>>16&255,oe=65535&ge,!((Z=ge>>>24)<=K);){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}if(te&&!(240&te)){for(le=Z,ee=te,se=oe;te=(ge=k.lencode[se+((z&(1<<le+ee)-1)>>le)])>>>16&255,oe=65535&ge,!(le+(Z=ge>>>24)<=K);){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}z>>>=le,K-=le,k.back+=le}if(z>>>=Z,K-=Z,k.back+=Z,k.length=oe,te===0){k.mode=26;break}if(32&te){k.back=-1,k.mode=12;break}if(64&te){_.msg="invalid literal/length code",k.mode=30;break}k.extra=15&te,k.mode=22;case 22:if(k.extra){for(fe=k.extra;K<fe;){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}k.length+=z&(1<<k.extra)-1,z>>>=k.extra,K-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;te=(ge=k.distcode[z&(1<<k.distbits)-1])>>>16&255,oe=65535&ge,!((Z=ge>>>24)<=K);){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}if(!(240&te)){for(le=Z,ee=te,se=oe;te=(ge=k.distcode[se+((z&(1<<le+ee)-1)>>le)])>>>16&255,oe=65535&ge,!(le+(Z=ge>>>24)<=K);){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}z>>>=le,K-=le,k.back+=le}if(z>>>=Z,K-=Z,k.back+=Z,64&te){_.msg="invalid distance code",k.mode=30;break}k.offset=oe,k.extra=15&te,k.mode=24;case 24:if(k.extra){for(fe=k.extra;K<fe;){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}k.offset+=z&(1<<k.extra)-1,z>>>=k.extra,K-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){_.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(Q===0)break e;if(H=R-Q,k.offset>H){if((H=k.offset-H)>k.whave&&k.sane){_.msg="invalid distance too far back",k.mode=30;break}Y=H>k.wnext?(H-=k.wnext,k.wsize-H):k.wnext-H,H>k.length&&(H=k.length),J=k.window}else J=L,Y=q-k.offset,H=k.length;for(Q<H&&(H=Q),Q-=H,k.length-=H;L[q++]=J[Y++],--H;);k.length===0&&(k.mode=21);break;case 26:if(Q===0)break e;L[q++]=k.length,Q--,k.mode=21;break;case 27:if(k.wrap){for(;K<32;){if(W===0)break e;W--,z|=j[D++]<<K,K+=8}if(R-=Q,_.total_out+=R,k.total+=R,R&&(_.adler=k.check=k.flags?y(k.check,L,R,q-R):v(k.check,L,R,q-R)),R=Q,(k.flags?z:V(z))!==k.check){_.msg="incorrect data check",k.mode=30;break}K=z=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;K<32;){if(W===0)break e;W--,z+=j[D++]<<K,K+=8}if(z!==(4294967295&k.total)){_.msg="incorrect length check",k.mode=30;break}K=z=0}k.mode=29;case 29:ue=1;break e;case 30:ue=-3;break e;case 31:return-4;case 32:default:return I}return _.next_out=q,_.avail_out=Q,_.next_in=D,_.avail_in=W,k.hold=z,k.bits=K,(k.wsize||R!==_.avail_out&&k.mode<30&&(k.mode<27||S!==4))&&x(_,_.output,_.next_out,R-_.avail_out)?(k.mode=31,-4):(O-=_.avail_in,R-=_.avail_out,_.total_in+=O,_.total_out+=R,k.total+=R,k.wrap&&R&&(_.adler=k.check=k.flags?y(k.check,L,R,_.next_out-R):v(k.check,L,R,_.next_out-R)),_.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(O==0&&R===0||S===4)&&ue===0&&(ue=-5),ue)},b.inflateEnd=function(_){if(!_||!_.state)return I;var S=_.state;return S.window&&(S.window=null),_.state=null,0},b.inflateGetHeader=function(_,S){var k;return _&&_.state&&2&(k=_.state).wrap?((k.head=S).done=!1,0):I},b.inflateSetDictionary=function(_,S){var k,j=S.length;return _&&_.state?(k=_.state).wrap!==0&&k.mode!==11?I:k.mode===11&&v(1,S,j,0)!==k.check?-3:x(_,S,j,j)?(k.mode=31,-4):(k.havedict=1,0):I},b.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(h,g,b){var m=h("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],T=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(I,V,B,A,M,F,$,U){var E,P,N,x,_,S,k,j,L,D=U.bits,q=0,W=0,Q=0,z=0,K=0,O=0,R=0,H=0,Y=0,J=0,Z=null,te=0,oe=new m.Buf16(16),le=new m.Buf16(16),ee=null,se=0;for(q=0;q<=15;q++)oe[q]=0;for(W=0;W<A;W++)oe[V[B+W]]++;for(K=D,z=15;1<=z&&oe[z]===0;z--);if(z<K&&(K=z),z===0)return M[F++]=20971520,M[F++]=20971520,U.bits=1,0;for(Q=1;Q<z&&oe[Q]===0;Q++);for(K<Q&&(K=Q),q=H=1;q<=15;q++)if(H<<=1,(H-=oe[q])<0)return-1;if(0<H&&(I===0||z!==1))return-1;for(le[1]=0,q=1;q<15;q++)le[q+1]=le[q]+oe[q];for(W=0;W<A;W++)V[B+W]!==0&&($[le[V[B+W]]++]=W);if(S=I===0?(Z=ee=$,19):I===1?(Z=v,te-=257,ee=y,se-=257,256):(Z=w,ee=T,-1),q=Q,_=F,R=W=J=0,N=-1,x=(Y=1<<(O=K))-1,I===1&&852<Y||I===2&&592<Y)return 1;for(;;){for(k=q-R,L=$[W]<S?(j=0,$[W]):$[W]>S?(j=ee[se+$[W]],Z[te+$[W]]):(j=96,0),E=1<<q-R,Q=P=1<<O;M[_+(J>>R)+(P-=E)]=k<<24|j<<16|L|0,P!==0;);for(E=1<<q-1;J&E;)E>>=1;if(E!==0?(J&=E-1,J+=E):J=0,W++,--oe[q]==0){if(q===z)break;q=V[B+$[W]]}if(K<q&&(J&x)!==N){for(R===0&&(R=K),_+=Q,H=1<<(O=q-R);O+R<z&&!((H-=oe[O+R])<=0);)O++,H<<=1;if(Y+=1<<O,I===1&&852<Y||I===2&&592<Y)return 1;M[N=J&x]=K<<24|O<<16|_-F|0}}return J!==0&&(M[_+J]=q-R<<24|64<<16|0),U.bits=K,0}},{"../utils/common":41}],51:[function(h,g,b){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(h,g,b){var m=h("../utils/common");function v(ee){for(var se=ee.length;0<=--se;)ee[se]=0}var y=256,w=286,T=30,I=15,V=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(576);v(F);var $=new Array(60);v($);var U=new Array(512);v(U);var E=new Array(256);v(E);var P=new Array(29);v(P);var N,x,_,S=new Array(T);function k(ee,se,ie,ue,ce){this.static_tree=ee,this.extra_bits=se,this.extra_base=ie,this.elems=ue,this.max_length=ce,this.has_stree=ee&&ee.length}function j(ee,se){this.dyn_tree=ee,this.max_code=0,this.stat_desc=se}function L(ee){return ee<256?U[ee]:U[256+(ee>>>7)]}function D(ee,se){ee.pending_buf[ee.pending++]=255&se,ee.pending_buf[ee.pending++]=se>>>8&255}function q(ee,se,ie){ee.bi_valid>16-ie?(ee.bi_buf|=se<<ee.bi_valid&65535,D(ee,ee.bi_buf),ee.bi_buf=se>>16-ee.bi_valid,ee.bi_valid+=ie-16):(ee.bi_buf|=se<<ee.bi_valid&65535,ee.bi_valid+=ie)}function W(ee,se,ie){q(ee,ie[2*se],ie[2*se+1])}function Q(ee,se){for(var ie=0;ie|=1&ee,ee>>>=1,ie<<=1,0<--se;);return ie>>>1}function z(ee,se,ie){var ue,ce,fe=new Array(16),ge=0;for(ue=1;ue<=I;ue++)fe[ue]=ge=ge+ie[ue-1]<<1;for(ce=0;ce<=se;ce++){var ye=ee[2*ce+1];ye!==0&&(ee[2*ce]=Q(fe[ye]++,ye))}}function K(ee){var se;for(se=0;se<w;se++)ee.dyn_ltree[2*se]=0;for(se=0;se<T;se++)ee.dyn_dtree[2*se]=0;for(se=0;se<19;se++)ee.bl_tree[2*se]=0;ee.dyn_ltree[512]=1,ee.opt_len=ee.static_len=0,ee.last_lit=ee.matches=0}function O(ee){8<ee.bi_valid?D(ee,ee.bi_buf):0<ee.bi_valid&&(ee.pending_buf[ee.pending++]=ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0}function R(ee,se,ie,ue){var ce=2*se,fe=2*ie;return ee[ce]<ee[fe]||ee[ce]===ee[fe]&&ue[se]<=ue[ie]}function H(ee,se,ie){for(var ue=ee.heap[ie],ce=ie<<1;ce<=ee.heap_len&&(ce<ee.heap_len&&R(se,ee.heap[ce+1],ee.heap[ce],ee.depth)&&ce++,!R(se,ue,ee.heap[ce],ee.depth));)ee.heap[ie]=ee.heap[ce],ie=ce,ce<<=1;ee.heap[ie]=ue}function Y(ee,se,ie){var ue,ce,fe,ge,ye=0;if(ee.last_lit!==0)for(;ue=ee.pending_buf[ee.d_buf+2*ye]<<8|ee.pending_buf[ee.d_buf+2*ye+1],ce=ee.pending_buf[ee.l_buf+ye],ye++,ue===0?W(ee,ce,se):(W(ee,(fe=E[ce])+y+1,se),(ge=V[fe])!==0&&q(ee,ce-=P[fe],ge),W(ee,fe=L(--ue),ie),(ge=B[fe])!==0&&q(ee,ue-=S[fe],ge)),ye<ee.last_lit;);W(ee,256,se)}function J(ee,se){var ie,ue,ce,fe=se.dyn_tree,ge=se.stat_desc.static_tree,ye=se.stat_desc.has_stree,we=se.stat_desc.elems,Ne=-1;for(ee.heap_len=0,ee.heap_max=573,ie=0;ie<we;ie++)fe[2*ie]!==0?(ee.heap[++ee.heap_len]=Ne=ie,ee.depth[ie]=0):fe[2*ie+1]=0;for(;ee.heap_len<2;)fe[2*(ce=ee.heap[++ee.heap_len]=Ne<2?++Ne:0)]=1,ee.depth[ce]=0,ee.opt_len--,ye&&(ee.static_len-=ge[2*ce+1]);for(se.max_code=Ne,ie=ee.heap_len>>1;1<=ie;ie--)H(ee,fe,ie);for(ce=we;ie=ee.heap[1],ee.heap[1]=ee.heap[ee.heap_len--],H(ee,fe,1),ue=ee.heap[1],ee.heap[--ee.heap_max]=ie,ee.heap[--ee.heap_max]=ue,fe[2*ce]=fe[2*ie]+fe[2*ue],ee.depth[ce]=(ee.depth[ie]>=ee.depth[ue]?ee.depth[ie]:ee.depth[ue])+1,fe[2*ie+1]=fe[2*ue+1]=ce,ee.heap[1]=ce++,H(ee,fe,1),2<=ee.heap_len;);ee.heap[--ee.heap_max]=ee.heap[1],function(Ee,Ie){var qe,$e,We,Ve,Oe,Ce,De=Ie.dyn_tree,ze=Ie.max_code,Le=Ie.stat_desc.static_tree,gt=Ie.stat_desc.has_stree,Ct=Ie.stat_desc.extra_bits,Ge=Ie.stat_desc.extra_base,bt=Ie.stat_desc.max_length,mt=0;for(Ve=0;Ve<=I;Ve++)Ee.bl_count[Ve]=0;for(De[2*Ee.heap[Ee.heap_max]+1]=0,qe=Ee.heap_max+1;qe<573;qe++)bt<(Ve=De[2*De[2*($e=Ee.heap[qe])+1]+1]+1)&&(Ve=bt,mt++),De[2*$e+1]=Ve,ze<$e||(Ee.bl_count[Ve]++,Oe=0,Ge<=$e&&(Oe=Ct[$e-Ge]),Ce=De[2*$e],Ee.opt_len+=Ce*(Ve+Oe),gt&&(Ee.static_len+=Ce*(Le[2*$e+1]+Oe)));if(mt!==0){do{for(Ve=bt-1;Ee.bl_count[Ve]===0;)Ve--;Ee.bl_count[Ve]--,Ee.bl_count[Ve+1]+=2,Ee.bl_count[bt]--,mt-=2}while(0<mt);for(Ve=bt;Ve!==0;Ve--)for($e=Ee.bl_count[Ve];$e!==0;)ze<(We=Ee.heap[--qe])||(De[2*We+1]!==Ve&&(Ee.opt_len+=(Ve-De[2*We+1])*De[2*We],De[2*We+1]=Ve),$e--)}}(ee,se),z(fe,Ne,ee.bl_count)}function Z(ee,se,ie){var ue,ce,fe=-1,ge=se[1],ye=0,we=7,Ne=4;for(ge===0&&(we=138,Ne=3),se[2*(ie+1)+1]=65535,ue=0;ue<=ie;ue++)ce=ge,ge=se[2*(ue+1)+1],++ye<we&&ce===ge||(ye<Ne?ee.bl_tree[2*ce]+=ye:ce!==0?(ce!==fe&&ee.bl_tree[2*ce]++,ee.bl_tree[32]++):ye<=10?ee.bl_tree[34]++:ee.bl_tree[36]++,fe=ce,Ne=(ye=0)===ge?(we=138,3):ce===ge?(we=6,3):(we=7,4))}function te(ee,se,ie){var ue,ce,fe=-1,ge=se[1],ye=0,we=7,Ne=4;for(ge===0&&(we=138,Ne=3),ue=0;ue<=ie;ue++)if(ce=ge,ge=se[2*(ue+1)+1],!(++ye<we&&ce===ge)){if(ye<Ne)for(;W(ee,ce,ee.bl_tree),--ye!=0;);else ce!==0?(ce!==fe&&(W(ee,ce,ee.bl_tree),ye--),W(ee,16,ee.bl_tree),q(ee,ye-3,2)):ye<=10?(W(ee,17,ee.bl_tree),q(ee,ye-3,3)):(W(ee,18,ee.bl_tree),q(ee,ye-11,7));fe=ce,Ne=(ye=0)===ge?(we=138,3):ce===ge?(we=6,3):(we=7,4)}}v(S);var oe=!1;function le(ee,se,ie,ue){q(ee,0+(ue?1:0),3),function(ce,fe,ge,ye){O(ce),D(ce,ge),D(ce,~ge),m.arraySet(ce.pending_buf,ce.window,fe,ge,ce.pending),ce.pending+=ge}(ee,se,ie)}b._tr_init=function(ee){oe||(function(){var se,ie,ue,ce,fe,ge=new Array(16);for(ce=ue=0;ce<28;ce++)for(P[ce]=ue,se=0;se<1<<V[ce];se++)E[ue++]=ce;for(E[ue-1]=ce,ce=fe=0;ce<16;ce++)for(S[ce]=fe,se=0;se<1<<B[ce];se++)U[fe++]=ce;for(fe>>=7;ce<T;ce++)for(S[ce]=fe<<7,se=0;se<1<<B[ce]-7;se++)U[256+fe++]=ce;for(ie=0;ie<=I;ie++)ge[ie]=0;for(se=0;se<=143;)F[2*se+1]=8,se++,ge[8]++;for(;se<=255;)F[2*se+1]=9,se++,ge[9]++;for(;se<=279;)F[2*se+1]=7,se++,ge[7]++;for(;se<=287;)F[2*se+1]=8,se++,ge[8]++;for(z(F,287,ge),se=0;se<T;se++)$[2*se+1]=5,$[2*se]=Q(se,5);N=new k(F,V,257,w,I),x=new k($,B,0,T,I),_=new k(new Array(0),A,0,19,7)}(),oe=!0),ee.l_desc=new j(ee.dyn_ltree,N),ee.d_desc=new j(ee.dyn_dtree,x),ee.bl_desc=new j(ee.bl_tree,_),ee.bi_buf=0,ee.bi_valid=0,K(ee)},b._tr_stored_block=le,b._tr_flush_block=function(ee,se,ie,ue){var ce,fe,ge=0;0<ee.level?(ee.strm.data_type===2&&(ee.strm.data_type=function(ye){var we,Ne=4093624447;for(we=0;we<=31;we++,Ne>>>=1)if(1&Ne&&ye.dyn_ltree[2*we]!==0)return 0;if(ye.dyn_ltree[18]!==0||ye.dyn_ltree[20]!==0||ye.dyn_ltree[26]!==0)return 1;for(we=32;we<y;we++)if(ye.dyn_ltree[2*we]!==0)return 1;return 0}(ee)),J(ee,ee.l_desc),J(ee,ee.d_desc),ge=function(ye){var we;for(Z(ye,ye.dyn_ltree,ye.l_desc.max_code),Z(ye,ye.dyn_dtree,ye.d_desc.max_code),J(ye,ye.bl_desc),we=18;3<=we&&ye.bl_tree[2*M[we]+1]===0;we--);return ye.opt_len+=3*(we+1)+5+5+4,we}(ee),ce=ee.opt_len+3+7>>>3,(fe=ee.static_len+3+7>>>3)<=ce&&(ce=fe)):ce=fe=ie+5,ie+4<=ce&&se!==-1?le(ee,se,ie,ue):ee.strategy===4||fe===ce?(q(ee,2+(ue?1:0),3),Y(ee,F,$)):(q(ee,4+(ue?1:0),3),function(ye,we,Ne,Ee){var Ie;for(q(ye,we-257,5),q(ye,Ne-1,5),q(ye,Ee-4,4),Ie=0;Ie<Ee;Ie++)q(ye,ye.bl_tree[2*M[Ie]+1],3);te(ye,ye.dyn_ltree,we-1),te(ye,ye.dyn_dtree,Ne-1)}(ee,ee.l_desc.max_code+1,ee.d_desc.max_code+1,ge+1),Y(ee,ee.dyn_ltree,ee.dyn_dtree)),K(ee),ue&&O(ee)},b._tr_tally=function(ee,se,ie){return ee.pending_buf[ee.d_buf+2*ee.last_lit]=se>>>8&255,ee.pending_buf[ee.d_buf+2*ee.last_lit+1]=255&se,ee.pending_buf[ee.l_buf+ee.last_lit]=255&ie,ee.last_lit++,se===0?ee.dyn_ltree[2*ie]++:(ee.matches++,se--,ee.dyn_ltree[2*(E[ie]+y+1)]++,ee.dyn_dtree[2*L(se)]++),ee.last_lit===ee.lit_bufsize-1},b._tr_align=function(ee){q(ee,2,3),W(ee,256,F),function(se){se.bi_valid===16?(D(se,se.bi_buf),se.bi_buf=0,se.bi_valid=0):8<=se.bi_valid&&(se.pending_buf[se.pending++]=255&se.bi_buf,se.bi_buf>>=8,se.bi_valid-=8)}(ee)}},{"../utils/common":41}],53:[function(h,g,b){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(h,g,b){(function(m){(function(v,y){if(!v.setImmediate){var w,T,I,V,B=1,A={},M=!1,F=v.document,$=Object.getPrototypeOf&&Object.getPrototypeOf(v);$=$&&$.setTimeout?$:v,w={}.toString.call(v.process)==="[object process]"?function(N){s.nextTick(function(){E(N)})}:function(){if(v.postMessage&&!v.importScripts){var N=!0,x=v.onmessage;return v.onmessage=function(){N=!1},v.postMessage("","*"),v.onmessage=x,N}}()?(V="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",P,!1):v.attachEvent("onmessage",P),function(N){v.postMessage(V+N,"*")}):v.MessageChannel?((I=new MessageChannel).port1.onmessage=function(N){E(N.data)},function(N){I.port2.postMessage(N)}):F&&"onreadystatechange"in F.createElement("script")?(T=F.documentElement,function(N){var x=F.createElement("script");x.onreadystatechange=function(){E(N),x.onreadystatechange=null,T.removeChild(x),x=null},T.appendChild(x)}):function(N){setTimeout(E,0,N)},$.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var x=new Array(arguments.length-1),_=0;_<x.length;_++)x[_]=arguments[_+1];var S={callback:N,args:x};return A[B]=S,w(B),B++},$.clearImmediate=U}function U(N){delete A[N]}function E(N){if(M)setTimeout(E,0,N);else{var x=A[N];if(x){M=!0;try{(function(_){var S=_.callback,k=_.args;switch(k.length){case 0:S();break;case 1:S(k[0]);break;case 2:S(k[0],k[1]);break;case 3:S(k[0],k[1],k[2]);break;default:S.apply(void 0,k)}})(x)}finally{U(N),M=!1}}}}function P(N){N.source===v&&typeof N.data=="string"&&N.data.indexOf(V)===0&&E(+N.data.slice(V.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,n,i){(function(s){(function(){var a=/[\\^$.*+?()[\]{}|]/g,c=RegExp(a.source),l=typeof s=="object"&&s&&s.Object===Object&&s,o=typeof self=="object"&&self&&self.Object===Object&&self,u=l||o||Function("return this")(),f=Object.prototype.toString,d=u.Symbol,h=d?d.prototype:void 0,g=h?h.toString:void 0;function b(m){if(typeof m=="string")return m;if(function(y){return typeof y=="symbol"||function(w){return!!w&&typeof w=="object"}(y)&&f.call(y)=="[object Symbol]"}(m))return g?g.call(m):"";var v=m+"";return v=="0"&&1/m==-1/0?"-0":v}n.exports=function(m){var v;return(m=(v=m)==null?"":b(v))&&c.test(m)?m.replace(a,"\\$&"):m}}).call(this)}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,n,i){(function(s){(function(){var a="[object Arguments]",c="[object Map]",l="[object Object]",o="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,d=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,b=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[a]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[c]=v["[object Number]"]=v[l]=v["[object RegExp]"]=v[o]=v["[object String]"]=v["[object WeakMap]"]=!1;var y=typeof s=="object"&&s&&s.Object===Object&&s,w=typeof self=="object"&&self&&self.Object===Object&&self,T=y||w||Function("return this")(),I=typeof i=="object"&&i&&!i.nodeType&&i,V=I&&typeof n=="object"&&n&&!n.nodeType&&n,B=V&&V.exports===I&&y.process,A=function(){try{return B&&B.binding("util")}catch{}}(),M=A&&A.isTypedArray;function F(ne,pe,xe,_e){for(var Fe=-1,Te=ne?ne.length:0;++Fe<Te;){var Re=ne[Fe];pe(_e,Re,xe(Re),ne)}return _e}function $(ne,pe){for(var xe=-1,_e=ne?ne.length:0;++xe<_e;)if(pe(ne[xe],xe,ne))return!0;return!1}function U(ne){var pe=!1;if(ne!=null&&typeof ne.toString!="function")try{pe=!!(ne+"")}catch{}return pe}function E(ne){var pe=-1,xe=Array(ne.size);return ne.forEach(function(_e,Fe){xe[++pe]=[Fe,_e]}),xe}function P(ne){var pe=-1,xe=Array(ne.size);return ne.forEach(function(_e){xe[++pe]=_e}),xe}var N,x,_,S=Array.prototype,k=Function.prototype,j=Object.prototype,L=T["__core-js_shared__"],D=(N=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",q=k.toString,W=j.hasOwnProperty,Q=j.toString,z=RegExp("^"+q.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=T.Symbol,O=T.Uint8Array,R=j.propertyIsEnumerable,H=S.splice,Y=(x=Object.keys,_=Object,function(ne){return x(_(ne))}),J=Ke(T,"DataView"),Z=Ke(T,"Map"),te=Ke(T,"Promise"),oe=Ke(T,"Set"),le=Ke(T,"WeakMap"),ee=Ke(Object,"create"),se=he(J),ie=he(Z),ue=he(te),ce=he(oe),fe=he(le),ge=K?K.prototype:void 0,ye=ge?ge.valueOf:void 0,we=ge?ge.toString:void 0;function Ne(ne){var pe=-1,xe=ne?ne.length:0;for(this.clear();++pe<xe;){var _e=ne[pe];this.set(_e[0],_e[1])}}function Ee(ne){var pe=-1,xe=ne?ne.length:0;for(this.clear();++pe<xe;){var _e=ne[pe];this.set(_e[0],_e[1])}}function Ie(ne){var pe=-1,xe=ne?ne.length:0;for(this.clear();++pe<xe;){var _e=ne[pe];this.set(_e[0],_e[1])}}function qe(ne){var pe=-1,xe=ne?ne.length:0;for(this.__data__=new Ie;++pe<xe;)this.add(ne[pe])}function $e(ne){this.__data__=new Ee(ne)}function We(ne,pe){var xe=Ye(ne)||et(ne)?function(Re,xt){for(var ut=-1,pt=Array(Re);++ut<Re;)pt[ut]=xt(ut);return pt}(ne.length,String):[],_e=xe.length,Fe=!!_e;for(var Te in ne)!W.call(ne,Te)||Fe&&(Te=="length"||Et(Te,_e))||xe.push(Te);return xe}function Ve(ne,pe){for(var xe=ne.length;xe--;)if(Pe(ne[xe][0],pe))return xe;return-1}function Oe(ne,pe,xe,_e){return De(ne,function(Fe,Te,Re){pe(_e,Fe,xe(Fe),Re)}),_e}Ne.prototype.clear=function(){this.__data__=ee?ee(null):{}},Ne.prototype.delete=function(ne){return this.has(ne)&&delete this.__data__[ne]},Ne.prototype.get=function(ne){var pe=this.__data__;if(ee){var xe=pe[ne];return xe==="__lodash_hash_undefined__"?void 0:xe}return W.call(pe,ne)?pe[ne]:void 0},Ne.prototype.has=function(ne){var pe=this.__data__;return ee?pe[ne]!==void 0:W.call(pe,ne)},Ne.prototype.set=function(ne,pe){return this.__data__[ne]=ee&&pe===void 0?"__lodash_hash_undefined__":pe,this},Ee.prototype.clear=function(){this.__data__=[]},Ee.prototype.delete=function(ne){var pe=this.__data__,xe=Ve(pe,ne);return!(xe<0)&&(xe==pe.length-1?pe.pop():H.call(pe,xe,1),!0)},Ee.prototype.get=function(ne){var pe=this.__data__,xe=Ve(pe,ne);return xe<0?void 0:pe[xe][1]},Ee.prototype.has=function(ne){return Ve(this.__data__,ne)>-1},Ee.prototype.set=function(ne,pe){var xe=this.__data__,_e=Ve(xe,ne);return _e<0?xe.push([ne,pe]):xe[_e][1]=pe,this},Ie.prototype.clear=function(){this.__data__={hash:new Ne,map:new(Z||Ee),string:new Ne}},Ie.prototype.delete=function(ne){return St(this,ne).delete(ne)},Ie.prototype.get=function(ne){return St(this,ne).get(ne)},Ie.prototype.has=function(ne){return St(this,ne).has(ne)},Ie.prototype.set=function(ne,pe){return St(this,ne).set(ne,pe),this},qe.prototype.add=qe.prototype.push=function(ne){return this.__data__.set(ne,"__lodash_hash_undefined__"),this},qe.prototype.has=function(ne){return this.__data__.has(ne)},$e.prototype.clear=function(){this.__data__=new Ee},$e.prototype.delete=function(ne){return this.__data__.delete(ne)},$e.prototype.get=function(ne){return this.__data__.get(ne)},$e.prototype.has=function(ne){return this.__data__.has(ne)},$e.prototype.set=function(ne,pe){var xe=this.__data__;if(xe instanceof Ee){var _e=xe.__data__;if(!Z||_e.length<199)return _e.push([ne,pe]),this;xe=this.__data__=new Ie(_e)}return xe.set(ne,pe),this};var Ce,De=(Ce=function(ne,pe){return ne&&ze(ne,pe,nr)},function(ne,pe){if(ne==null)return ne;if(!He(ne))return Ce(ne,pe);for(var xe=ne.length,_e=-1,Fe=Object(ne);++_e<xe&&pe(Fe[_e],_e,Fe)!==!1;);return ne}),ze=function(ne){return function(pe,xe,_e){for(var Fe=-1,Te=Object(pe),Re=_e(pe),xt=Re.length;xt--;){var ut=Re[++Fe];if(xe(Te[ut],ut,Te)===!1)break}return pe}}();function Le(ne,pe){for(var xe=0,_e=(pe=tt(pe,ne)?[pe]:nt(pe)).length;ne!=null&&xe<_e;)ne=ne[ae(pe[xe++])];return xe&&xe==_e?ne:void 0}function gt(ne,pe){return ne!=null&&pe in Object(ne)}function Ct(ne,pe,xe,_e,Fe){return ne===pe||(ne==null||pe==null||!ft(ne)&&!Gt(pe)?ne!=ne&&pe!=pe:function(Te,Re,xt,ut,pt,Ze){var At=Ye(Te),It=Ye(Re),Dt="[object Array]",qt="[object Array]";At||(Dt=(Dt=vt(Te))==a?l:Dt),It||(qt=(qt=vt(Re))==a?l:qt);var ur=Dt==l&&!U(Te),Sr=qt==l&&!U(Re),Zr=Dt==qt;if(Zr&&!ur)return Ze||(Ze=new $e),At||Zt(Te)?_t(Te,Re,xt,ut,pt,Ze):function(Tt,yt,Cn,Pt,ai,pr,Hr){switch(Cn){case"[object DataView]":if(Tt.byteLength!=yt.byteLength||Tt.byteOffset!=yt.byteOffset)return!1;Tt=Tt.buffer,yt=yt.buffer;case"[object ArrayBuffer]":return!(Tt.byteLength!=yt.byteLength||!Pt(new O(Tt),new O(yt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Pe(+Tt,+yt);case"[object Error]":return Tt.name==yt.name&&Tt.message==yt.message;case"[object RegExp]":case"[object String]":return Tt==yt+"";case c:var $n=E;case o:var Mi=2&pr;if($n||($n=P),Tt.size!=yt.size&&!Mi)return!1;var na=Hr.get(Tt);if(na)return na==yt;pr|=1,Hr.set(Tt,yt);var Oi=_t($n(Tt),$n(yt),Pt,ai,pr,Hr);return Hr.delete(Tt),Oi;case"[object Symbol]":if(ye)return ye.call(Tt)==ye.call(yt)}return!1}(Te,Re,Dt,xt,ut,pt,Ze);if(!(2&pt)){var Un=ur&&W.call(Te,"__wrapped__"),Pi=Sr&&W.call(Re,"__wrapped__");if(Un||Pi){var Jr=Un?Te.value():Te,Rr=Pi?Re.value():Re;return Ze||(Ze=new $e),xt(Jr,Rr,ut,pt,Ze)}}return Zr?(Ze||(Ze=new $e),function(Tt,yt,Cn,Pt,ai,pr){var Hr=2&ai,$n=nr(Tt),Mi=$n.length,na=nr(yt).length;if(Mi!=na&&!Hr)return!1;for(var Oi=Mi;Oi--;){var Hn=$n[Oi];if(!(Hr?Hn in yt:W.call(yt,Hn)))return!1}var Yl=pr.get(Tt);if(Yl&&pr.get(yt))return Yl==yt;var qn=!0;pr.set(Tt,yt),pr.set(yt,Tt);for(var vn=Hr;++Oi<Mi;){Hn=$n[Oi];var ks=Tt[Hn],Ns=yt[Hn];if(Pt)var ao=Hr?Pt(Ns,ks,Hn,yt,Tt,pr):Pt(ks,Ns,Hn,Tt,yt,pr);if(!(ao===void 0?ks===Ns||Cn(ks,Ns,Pt,ai,pr):ao)){qn=!1;break}vn||(vn=Hn=="constructor")}if(qn&&!vn){var An=Tt.constructor,ia=yt.constructor;An==ia||!("constructor"in Tt)||!("constructor"in yt)||typeof An=="function"&&An instanceof An&&typeof ia=="function"&&ia instanceof ia||(qn=!1)}return pr.delete(Tt),pr.delete(yt),qn}(Te,Re,xt,ut,pt,Ze)):!1}(ne,pe,Ct,xe,_e,Fe))}function Ge(ne){return!(!ft(ne)||function(pe){return!!D&&D in pe}(ne))&&(st(ne)||U(ne)?z:b).test(he(ne))}function bt(ne){return typeof ne=="function"?ne:ne==null?_r:typeof ne=="object"?Ye(ne)?function(_e,Fe){return tt(_e)&&at(Fe)?Ot(ae(_e),Fe):function(Te){var Re=function(xt,ut,pt){var Ze=xt==null?void 0:Le(xt,ut);return Ze===void 0?pt:Ze}(Te,_e);return Re===void 0&&Re===Fe?function(xt,ut){return xt!=null&&function(pt,Ze,At){Ze=tt(Ze,pt)?[Ze]:nt(Ze);for(var It,Dt=-1,qt=Ze.length;++Dt<qt;){var ur=ae(Ze[Dt]);if(!(It=pt!=null&&At(pt,ur)))break;pt=pt[ur]}return It||!!(qt=pt?pt.length:0)&&Xe(qt)&&Et(ur,qt)&&(Ye(pt)||et(pt))}(xt,ut,gt)}(Te,_e):Ct(Fe,Re,void 0,3)}}(ne[0],ne[1]):function(_e){var Fe=function(Te){for(var Re=nr(Te),xt=Re.length;xt--;){var ut=Re[xt],pt=Te[ut];Re[xt]=[ut,pt,at(pt)]}return Re}(_e);return Fe.length==1&&Fe[0][2]?Ot(Fe[0][0],Fe[0][1]):function(Te){return Te===_e||function(Re,xt,ut,pt){var Ze=ut.length,At=Ze;if(Re==null)return!At;for(Re=Object(Re);Ze--;){var It=ut[Ze];if(It[2]?It[1]!==Re[It[0]]:!(It[0]in Re))return!1}for(;++Ze<At;){var Dt=(It=ut[Ze])[0],qt=Re[Dt],ur=It[1];if(It[2]){if(qt===void 0&&!(Dt in Re))return!1}else{var Sr=new $e,Zr;if(!(Zr===void 0?Ct(ur,qt,pt,3,Sr):Zr))return!1}}return!0}(Te,_e,Fe)}}(ne):tt(pe=ne)?(xe=ae(pe),function(_e){return _e==null?void 0:_e[xe]}):function(_e){return function(Fe){return Le(Fe,_e)}}(pe);var pe,xe}function mt(ne){if(xe=(pe=ne)&&pe.constructor,_e=typeof xe=="function"&&xe.prototype||j,pe!==_e)return Y(ne);var pe,xe,_e,Fe=[];for(var Te in Object(ne))W.call(ne,Te)&&Te!="constructor"&&Fe.push(Te);return Fe}function nt(ne){return Ye(ne)?ne:it(ne)}function _t(ne,pe,xe,_e,Fe,Te){var Re=2&Fe,xt=ne.length,ut=pe.length;if(xt!=ut&&!(Re&&ut>xt))return!1;var pt=Te.get(ne);if(pt&&Te.get(pe))return pt==pe;var Ze=-1,At=!0,It=1&Fe?new qe:void 0;for(Te.set(ne,pe),Te.set(pe,ne);++Ze<xt;){var Dt=ne[Ze],qt=pe[Ze];if(_e)var ur=Re?_e(qt,Dt,Ze,pe,ne,Te):_e(Dt,qt,Ze,ne,pe,Te);if(ur!==void 0){if(ur)continue;At=!1;break}if(It){if(!$(pe,function(Sr,Zr){if(!It.has(Zr)&&(Dt===Sr||xe(Dt,Sr,_e,Fe,Te)))return It.add(Zr)})){At=!1;break}}else if(Dt!==qt&&!xe(Dt,qt,_e,Fe,Te)){At=!1;break}}return Te.delete(ne),Te.delete(pe),At}function St(ne,pe){var xe,_e,Fe=ne.__data__;return((_e=typeof(xe=pe))=="string"||_e=="number"||_e=="symbol"||_e=="boolean"?xe!=="__proto__":xe===null)?Fe[typeof pe=="string"?"string":"hash"]:Fe.map}function Ke(ne,pe){var xe=function(_e,Fe){return _e==null?void 0:_e[Fe]}(ne,pe);return Ge(xe)?xe:void 0}var vt=function(ne){return Q.call(ne)};function Et(ne,pe){return!!(pe=pe??9007199254740991)&&(typeof ne=="number"||m.test(ne))&&ne>-1&&ne%1==0&&ne<pe}function tt(ne,pe){if(Ye(ne))return!1;var xe=typeof ne;return!(xe!="number"&&xe!="symbol"&&xe!="boolean"&&ne!=null&&!Vt(ne))||f.test(ne)||!u.test(ne)||pe!=null&&ne in Object(pe)}function at(ne){return ne==ne&&!ft(ne)}function Ot(ne,pe){return function(xe){return xe!=null&&xe[ne]===pe&&(pe!==void 0||ne in Object(xe))}}(J&&vt(new J(new ArrayBuffer(1)))!="[object DataView]"||Z&&vt(new Z)!=c||te&&vt(te.resolve())!="[object Promise]"||oe&&vt(new oe)!=o||le&&vt(new le)!="[object WeakMap]")&&(vt=function(ne){var pe=Q.call(ne),xe=pe==l?ne.constructor:void 0,_e=xe?he(xe):void 0;if(_e)switch(_e){case se:return"[object DataView]";case ie:return c;case ue:return"[object Promise]";case ce:return o;case fe:return"[object WeakMap]"}return pe});var it=Je(function(ne){var pe;ne=(pe=ne)==null?"":function(_e){if(typeof _e=="string")return _e;if(Vt(_e))return we?we.call(_e):"";var Fe=_e+"";return Fe=="0"&&1/_e==-1/0?"-0":Fe}(pe);var xe=[];return d.test(ne)&&xe.push(""),ne.replace(h,function(_e,Fe,Te,Re){xe.push(Te?Re.replace(g,"$1"):Fe||_e)}),xe});function ae(ne){if(typeof ne=="string"||Vt(ne))return ne;var pe=ne+"";return pe=="0"&&1/ne==-1/0?"-0":pe}function he(ne){if(ne!=null){try{return q.call(ne)}catch{}try{return ne+""}catch{}}return""}var ve,Ae=(ve=function(ne,pe,xe){W.call(ne,xe)?ne[xe].push(pe):ne[xe]=[pe]},function(ne,pe){var xe=Ye(ne)?F:Oe,_e={};return xe(ne,ve,bt(pe),_e)});function Je(ne,pe){if(typeof ne!="function"||pe&&typeof pe!="function")throw new TypeError("Expected a function");var xe=function(){var _e=arguments,Fe=pe?pe.apply(this,_e):_e[0],Te=xe.cache;if(Te.has(Fe))return Te.get(Fe);var Re=ne.apply(this,_e);return xe.cache=Te.set(Fe,Re),Re};return xe.cache=new(Je.Cache||Ie),xe}function Pe(ne,pe){return ne===pe||ne!=ne&&pe!=pe}function et(ne){return function(pe){return Gt(pe)&&He(pe)}(ne)&&W.call(ne,"callee")&&(!R.call(ne,"callee")||Q.call(ne)==a)}Je.Cache=Ie;var Ye=Array.isArray;function He(ne){return ne!=null&&Xe(ne.length)&&!st(ne)}function st(ne){var pe=ft(ne)?Q.call(ne):"";return pe=="[object Function]"||pe=="[object GeneratorFunction]"}function Xe(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=9007199254740991}function ft(ne){var pe=typeof ne;return!!ne&&(pe=="object"||pe=="function")}function Gt(ne){return!!ne&&typeof ne=="object"}function Vt(ne){return typeof ne=="symbol"||Gt(ne)&&Q.call(ne)=="[object Symbol]"}var Zt=M?function(ne){return function(pe){return ne(pe)}}(M):function(ne){return Gt(ne)&&Xe(ne.length)&&!!v[Q.call(ne)]};function nr(ne){return He(ne)?We(ne):mt(ne)}function _r(ne){return ne}n.exports=Ae}).call(this)}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,n,i){var s=Object.prototype.toString;n.exports=function(a){return a===!0||a===!1||function(c){return!!c&&typeof c=="object"}(a)&&s.call(a)=="[object Boolean]"}},{}],445:[function(e,n,i){(function(s){(function(){var a="[object Arguments]",c="[object Map]",l="[object Object]",o="[object Set]",u=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[a]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d[c]=d["[object Number]"]=d[l]=d["[object RegExp]"]=d[o]=d["[object String]"]=d["[object WeakMap]"]=!1;var h=typeof s=="object"&&s&&s.Object===Object&&s,g=typeof self=="object"&&self&&self.Object===Object&&self,b=h||g||Function("return this")(),m=typeof i=="object"&&i&&!i.nodeType&&i,v=m&&typeof n=="object"&&n&&!n.nodeType&&n,y=v&&v.exports===m,w=y&&h.process,T=function(){try{return w&&w.binding&&w.binding("util")}catch{}}(),I=T&&T.isTypedArray;function V(ae,he){for(var ve=-1,Ae=ae==null?0:ae.length;++ve<Ae;)if(he(ae[ve],ve,ae))return!0;return!1}function B(ae){var he=-1,ve=Array(ae.size);return ae.forEach(function(Ae,Je){ve[++he]=[Je,Ae]}),ve}function A(ae){var he=-1,ve=Array(ae.size);return ae.forEach(function(Ae){ve[++he]=Ae}),ve}var M,F,$,U=Array.prototype,E=Function.prototype,P=Object.prototype,N=b["__core-js_shared__"],x=E.toString,_=P.hasOwnProperty,S=(M=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"",k=P.toString,j=RegExp("^"+x.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=y?b.Buffer:void 0,D=b.Symbol,q=b.Uint8Array,W=P.propertyIsEnumerable,Q=U.splice,z=D?D.toStringTag:void 0,K=Object.getOwnPropertySymbols,O=L?L.isBuffer:void 0,R=(F=Object.keys,$=Object,function(ae){return F($(ae))}),H=gt(b,"DataView"),Y=gt(b,"Map"),J=gt(b,"Promise"),Z=gt(b,"Set"),te=gt(b,"WeakMap"),oe=gt(Object,"create"),le=mt(H),ee=mt(Y),se=mt(J),ie=mt(Z),ue=mt(te),ce=D?D.prototype:void 0,fe=ce?ce.valueOf:void 0;function ge(ae){var he=-1,ve=ae==null?0:ae.length;for(this.clear();++he<ve;){var Ae=ae[he];this.set(Ae[0],Ae[1])}}function ye(ae){var he=-1,ve=ae==null?0:ae.length;for(this.clear();++he<ve;){var Ae=ae[he];this.set(Ae[0],Ae[1])}}function we(ae){var he=-1,ve=ae==null?0:ae.length;for(this.clear();++he<ve;){var Ae=ae[he];this.set(Ae[0],Ae[1])}}function Ne(ae){var he=-1,ve=ae==null?0:ae.length;for(this.__data__=new we;++he<ve;)this.add(ae[he])}function Ee(ae){var he=this.__data__=new ye(ae);this.size=he.size}function Ie(ae,he){var ve=St(ae),Ae=!ve&&_t(ae),Je=!ve&&!Ae&&Ke(ae),Pe=!ve&&!Ae&&!Je&&Ot(ae),et=ve||Ae||Je||Pe,Ye=et?function(Xe,ft){for(var Gt=-1,Vt=Array(Xe);++Gt<Xe;)Vt[Gt]=ft(Gt);return Vt}(ae.length,String):[],He=Ye.length;for(var st in ae)!_.call(ae,st)||et&&(st=="length"||Je&&(st=="offset"||st=="parent")||Pe&&(st=="buffer"||st=="byteLength"||st=="byteOffset")||bt(st,He))||Ye.push(st);return Ye}function qe(ae,he){for(var ve=ae.length;ve--;)if(nt(ae[ve][0],he))return ve;return-1}function $e(ae){return ae==null?ae===void 0?"[object Undefined]":"[object Null]":z&&z in Object(ae)?function(he){var ve=_.call(he,z),Ae=he[z];try{he[z]=void 0;var Je=!0}catch{}var Pe=k.call(he);return Je&&(ve?he[z]=Ae:delete he[z]),Pe}(ae):function(he){return k.call(he)}(ae)}function We(ae){return at(ae)&&$e(ae)==a}function Ve(ae,he,ve,Ae,Je){return ae===he||(ae==null||he==null||!at(ae)&&!at(he)?ae!=ae&&he!=he:function(Pe,et,Ye,He,st,Xe){var ft=St(Pe),Gt=St(et),Vt=ft?"[object Array]":Ge(Pe),Zt=Gt?"[object Array]":Ge(et),nr=(Vt=Vt==a?l:Vt)==l,_r=(Zt=Zt==a?l:Zt)==l,ne=Vt==Zt;if(ne&&Ke(Pe)){if(!Ke(et))return!1;ft=!0,nr=!1}if(ne&&!nr)return Xe||(Xe=new Ee),ft||Ot(Pe)?De(Pe,et,Ye,He,st,Xe):function(Te,Re,xt,ut,pt,Ze,At){switch(xt){case"[object DataView]":if(Te.byteLength!=Re.byteLength||Te.byteOffset!=Re.byteOffset)return!1;Te=Te.buffer,Re=Re.buffer;case"[object ArrayBuffer]":return!(Te.byteLength!=Re.byteLength||!Ze(new q(Te),new q(Re)));case"[object Boolean]":case"[object Date]":case"[object Number]":return nt(+Te,+Re);case"[object Error]":return Te.name==Re.name&&Te.message==Re.message;case"[object RegExp]":case"[object String]":return Te==Re+"";case c:var It=B;case o:var Dt=1&ut;if(It||(It=A),Te.size!=Re.size&&!Dt)return!1;var qt=At.get(Te);if(qt)return qt==Re;ut|=2,At.set(Te,Re);var ur=De(It(Te),It(Re),ut,pt,Ze,At);return At.delete(Te),ur;case"[object Symbol]":if(fe)return fe.call(Te)==fe.call(Re)}return!1}(Pe,et,Vt,Ye,He,st,Xe);if(!(1&Ye)){var pe=nr&&_.call(Pe,"__wrapped__"),xe=_r&&_.call(et,"__wrapped__");if(pe||xe){var _e=pe?Pe.value():Pe,Fe=xe?et.value():et;return Xe||(Xe=new Ee),st(_e,Fe,Ye,He,Xe)}}return ne?(Xe||(Xe=new Ee),function(Te,Re,xt,ut,pt,Ze){var At=1&xt,It=ze(Te),Dt=It.length,qt=ze(Re).length;if(Dt!=qt&&!At)return!1;for(var ur=Dt;ur--;){var Sr=It[ur];if(!(At?Sr in Re:_.call(Re,Sr)))return!1}var Zr=Ze.get(Te);if(Zr&&Ze.get(Re))return Zr==Re;var Un=!0;Ze.set(Te,Re),Ze.set(Re,Te);for(var Pi=At;++ur<Dt;){Sr=It[ur];var Jr=Te[Sr],Rr=Re[Sr];if(ut)var Tt=At?ut(Rr,Jr,Sr,Re,Te,Ze):ut(Jr,Rr,Sr,Te,Re,Ze);if(!(Tt===void 0?Jr===Rr||pt(Jr,Rr,xt,ut,Ze):Tt)){Un=!1;break}Pi||(Pi=Sr=="constructor")}if(Un&&!Pi){var yt=Te.constructor,Cn=Re.constructor;yt==Cn||!("constructor"in Te)||!("constructor"in Re)||typeof yt=="function"&&yt instanceof yt&&typeof Cn=="function"&&Cn instanceof Cn||(Un=!1)}return Ze.delete(Te),Ze.delete(Re),Un}(Pe,et,Ye,He,st,Xe)):!1}(ae,he,ve,Ae,Ve,Je))}function Oe(ae){return!(!tt(ae)||function(he){return!!S&&S in he}(ae))&&(vt(ae)?j:u).test(mt(ae))}function Ce(ae){if(ve=(he=ae)&&he.constructor,Ae=typeof ve=="function"&&ve.prototype||P,he!==Ae)return R(ae);var he,ve,Ae,Je=[];for(var Pe in Object(ae))_.call(ae,Pe)&&Pe!="constructor"&&Je.push(Pe);return Je}function De(ae,he,ve,Ae,Je,Pe){var et=1&ve,Ye=ae.length,He=he.length;if(Ye!=He&&!(et&&He>Ye))return!1;var st=Pe.get(ae);if(st&&Pe.get(he))return st==he;var Xe=-1,ft=!0,Gt=2&ve?new Ne:void 0;for(Pe.set(ae,he),Pe.set(he,ae);++Xe<Ye;){var Vt=ae[Xe],Zt=he[Xe];if(Ae)var nr=et?Ae(Zt,Vt,Xe,he,ae,Pe):Ae(Vt,Zt,Xe,ae,he,Pe);if(nr!==void 0){if(nr)continue;ft=!1;break}if(Gt){if(!V(he,function(_r,ne){if(pe=ne,!Gt.has(pe)&&(Vt===_r||Je(Vt,_r,ve,Ae,Pe)))return Gt.push(ne);var pe})){ft=!1;break}}else if(Vt!==Zt&&!Je(Vt,Zt,ve,Ae,Pe)){ft=!1;break}}return Pe.delete(ae),Pe.delete(he),ft}function ze(ae){return function(he,ve,Ae){var Je=ve(he);return St(he)?Je:function(Pe,et){for(var Ye=-1,He=et.length,st=Pe.length;++Ye<He;)Pe[st+Ye]=et[Ye];return Pe}(Je,Ae(he))}(ae,it,Ct)}function Le(ae,he){var ve,Ae,Je=ae.__data__;return((Ae=typeof(ve=he))=="string"||Ae=="number"||Ae=="symbol"||Ae=="boolean"?ve!=="__proto__":ve===null)?Je[typeof he=="string"?"string":"hash"]:Je.map}function gt(ae,he){var ve=function(Ae,Je){return Ae==null?void 0:Ae[Je]}(ae,he);return Oe(ve)?ve:void 0}ge.prototype.clear=function(){this.__data__=oe?oe(null):{},this.size=0},ge.prototype.delete=function(ae){var he=this.has(ae)&&delete this.__data__[ae];return this.size-=he?1:0,he},ge.prototype.get=function(ae){var he=this.__data__;if(oe){var ve=he[ae];return ve==="__lodash_hash_undefined__"?void 0:ve}return _.call(he,ae)?he[ae]:void 0},ge.prototype.has=function(ae){var he=this.__data__;return oe?he[ae]!==void 0:_.call(he,ae)},ge.prototype.set=function(ae,he){var ve=this.__data__;return this.size+=this.has(ae)?0:1,ve[ae]=oe&&he===void 0?"__lodash_hash_undefined__":he,this},ye.prototype.clear=function(){this.__data__=[],this.size=0},ye.prototype.delete=function(ae){var he=this.__data__,ve=qe(he,ae);return!(ve<0)&&(ve==he.length-1?he.pop():Q.call(he,ve,1),--this.size,!0)},ye.prototype.get=function(ae){var he=this.__data__,ve=qe(he,ae);return ve<0?void 0:he[ve][1]},ye.prototype.has=function(ae){return qe(this.__data__,ae)>-1},ye.prototype.set=function(ae,he){var ve=this.__data__,Ae=qe(ve,ae);return Ae<0?(++this.size,ve.push([ae,he])):ve[Ae][1]=he,this},we.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(Y||ye),string:new ge}},we.prototype.delete=function(ae){var he=Le(this,ae).delete(ae);return this.size-=he?1:0,he},we.prototype.get=function(ae){return Le(this,ae).get(ae)},we.prototype.has=function(ae){return Le(this,ae).has(ae)},we.prototype.set=function(ae,he){var ve=Le(this,ae),Ae=ve.size;return ve.set(ae,he),this.size+=ve.size==Ae?0:1,this},Ne.prototype.add=Ne.prototype.push=function(ae){return this.__data__.set(ae,"__lodash_hash_undefined__"),this},Ne.prototype.has=function(ae){return this.__data__.has(ae)},Ee.prototype.clear=function(){this.__data__=new ye,this.size=0},Ee.prototype.delete=function(ae){var he=this.__data__,ve=he.delete(ae);return this.size=he.size,ve},Ee.prototype.get=function(ae){return this.__data__.get(ae)},Ee.prototype.has=function(ae){return this.__data__.has(ae)},Ee.prototype.set=function(ae,he){var ve=this.__data__;if(ve instanceof ye){var Ae=ve.__data__;if(!Y||Ae.length<199)return Ae.push([ae,he]),this.size=++ve.size,this;ve=this.__data__=new we(Ae)}return ve.set(ae,he),this.size=ve.size,this};var Ct=K?function(ae){return ae==null?[]:(ae=Object(ae),function(he,ve){for(var Ae=-1,Je=he==null?0:he.length,Pe=0,et=[];++Ae<Je;){var Ye=he[Ae];ve(Ye,Ae,he)&&(et[Pe++]=Ye)}return et}(K(ae),function(he){return W.call(ae,he)}))}:function(){return[]},Ge=$e;function bt(ae,he){return!!(he=he??9007199254740991)&&(typeof ae=="number"||f.test(ae))&&ae>-1&&ae%1==0&&ae<he}function mt(ae){if(ae!=null){try{return x.call(ae)}catch{}try{return ae+""}catch{}}return""}function nt(ae,he){return ae===he||ae!=ae&&he!=he}(H&&Ge(new H(new ArrayBuffer(1)))!="[object DataView]"||Y&&Ge(new Y)!=c||J&&Ge(J.resolve())!="[object Promise]"||Z&&Ge(new Z)!=o||te&&Ge(new te)!="[object WeakMap]")&&(Ge=function(ae){var he=$e(ae),ve=he==l?ae.constructor:void 0,Ae=ve?mt(ve):"";if(Ae)switch(Ae){case le:return"[object DataView]";case ee:return c;case se:return"[object Promise]";case ie:return o;case ue:return"[object WeakMap]"}return he});var _t=We(function(){return arguments}())?We:function(ae){return at(ae)&&_.call(ae,"callee")&&!W.call(ae,"callee")},St=Array.isArray,Ke=O||function(){return!1};function vt(ae){if(!tt(ae))return!1;var he=$e(ae);return he=="[object Function]"||he=="[object GeneratorFunction]"||he=="[object AsyncFunction]"||he=="[object Proxy]"}function Et(ae){return typeof ae=="number"&&ae>-1&&ae%1==0&&ae<=9007199254740991}function tt(ae){var he=typeof ae;return ae!=null&&(he=="object"||he=="function")}function at(ae){return ae!=null&&typeof ae=="object"}var Ot=I?function(ae){return function(he){return ae(he)}}(I):function(ae){return at(ae)&&Et(ae.length)&&!!d[$e(ae)]};function it(ae){return(he=ae)!=null&&Et(he.length)&&!vt(he)?Ie(ae):Ce(ae);var he}n.exports=function(ae,he){return Ve(ae,he)}}).call(this)}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,n,i){(function(s){(function(){var a=typeof s=="object"&&s&&s.Object===Object&&s,c=typeof self=="object"&&self&&self.Object===Object&&self,l=a||c||Function("return this")(),o=Object.prototype,u=o.hasOwnProperty,f=o.toString,d=l.Symbol,h=d?d.toStringTag:void 0;function g(b){return b==null?b===void 0?"[object Undefined]":"[object Null]":h&&h in Object(b)?function(m){var v=u.call(m,h),y=m[h];try{m[h]=void 0;var w=!0}catch{}var T=f.call(m);return w&&(v?m[h]=y:delete m[h]),T}(b):function(m){return f.call(m)}(b)}n.exports=function(b){if(!function(v){var y=typeof v;return v!=null&&(y=="object"||y=="function")}(b))return!1;var m=g(b);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,n,i){n.exports=function(s){return s==null}},{}],448:[function(e,n,i){n.exports=function(s){return s===void 0}},{}],449:[function(e,n,i){(function(s){(function(){var a=/^\[object .+?Constructor\]$/,c=typeof s=="object"&&s&&s.Object===Object&&s,l=typeof self=="object"&&self&&self.Object===Object&&self,o=c||l||Function("return this")();function u(D,q){return!!(D&&D.length)&&function(W,Q,z){if(Q!=Q)return function(R,H,Y,J){for(var Z=R.length,te=Y+-1;++te<Z;)if(H(R[te],te,R))return te;return-1}(W,f,z);for(var K=z-1,O=W.length;++K<O;)if(W[K]===Q)return K;return-1}(D,q,0)>-1}function f(D){return D!=D}function d(D,q){return D.has(q)}function h(D){var q=-1,W=Array(D.size);return D.forEach(function(Q){W[++q]=Q}),W}var g,b=Array.prototype,m=Function.prototype,v=Object.prototype,y=o["__core-js_shared__"],w=(g=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",T=m.toString,I=v.hasOwnProperty,V=v.toString,B=RegExp("^"+T.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=b.splice,M=j(o,"Map"),F=j(o,"Set"),$=j(Object,"create");function U(D){var q=-1,W=D?D.length:0;for(this.clear();++q<W;){var Q=D[q];this.set(Q[0],Q[1])}}function E(D){var q=-1,W=D?D.length:0;for(this.clear();++q<W;){var Q=D[q];this.set(Q[0],Q[1])}}function P(D){var q=-1,W=D?D.length:0;for(this.clear();++q<W;){var Q=D[q];this.set(Q[0],Q[1])}}function N(D){var q=-1,W=D?D.length:0;for(this.__data__=new P;++q<W;)this.add(D[q])}function x(D,q){for(var W,Q,z=D.length;z--;)if((W=D[z][0])===(Q=q)||W!=W&&Q!=Q)return z;return-1}function _(D){return!(!L(D)||(q=D,w&&w in q))&&(function(W){var Q=L(W)?V.call(W):"";return Q=="[object Function]"||Q=="[object GeneratorFunction]"}(D)||function(W){var Q=!1;if(W!=null&&typeof W.toString!="function")try{Q=!!(W+"")}catch{}return Q}(D)?B:a).test(function(W){if(W!=null){try{return T.call(W)}catch{}try{return W+""}catch{}}return""}(D));var q}U.prototype.clear=function(){this.__data__=$?$(null):{}},U.prototype.delete=function(D){return this.has(D)&&delete this.__data__[D]},U.prototype.get=function(D){var q=this.__data__;if($){var W=q[D];return W==="__lodash_hash_undefined__"?void 0:W}return I.call(q,D)?q[D]:void 0},U.prototype.has=function(D){var q=this.__data__;return $?q[D]!==void 0:I.call(q,D)},U.prototype.set=function(D,q){return this.__data__[D]=$&&q===void 0?"__lodash_hash_undefined__":q,this},E.prototype.clear=function(){this.__data__=[]},E.prototype.delete=function(D){var q=this.__data__,W=x(q,D);return!(W<0)&&(W==q.length-1?q.pop():A.call(q,W,1),!0)},E.prototype.get=function(D){var q=this.__data__,W=x(q,D);return W<0?void 0:q[W][1]},E.prototype.has=function(D){return x(this.__data__,D)>-1},E.prototype.set=function(D,q){var W=this.__data__,Q=x(W,D);return Q<0?W.push([D,q]):W[Q][1]=q,this},P.prototype.clear=function(){this.__data__={hash:new U,map:new(M||E),string:new U}},P.prototype.delete=function(D){return k(this,D).delete(D)},P.prototype.get=function(D){return k(this,D).get(D)},P.prototype.has=function(D){return k(this,D).has(D)},P.prototype.set=function(D,q){return k(this,D).set(D,q),this},N.prototype.add=N.prototype.push=function(D){return this.__data__.set(D,"__lodash_hash_undefined__"),this},N.prototype.has=function(D){return this.__data__.has(D)};var S=F&&1/h(new F([,-0]))[1]==1/0?function(D){return new F(D)}:function(){};function k(D,q){var W,Q,z=D.__data__;return((Q=typeof(W=q))=="string"||Q=="number"||Q=="symbol"||Q=="boolean"?W!=="__proto__":W===null)?z[typeof q=="string"?"string":"hash"]:z.map}function j(D,q){var W=function(Q,z){return Q==null?void 0:Q[z]}(D,q);return _(W)?W:void 0}function L(D){var q=typeof D;return!!D&&(q=="object"||q=="function")}n.exports=function(D){return D&&D.length?function(q,W,Q){var z=-1,K=u,O=q.length,R=!0,H=[],Y=H;if(O>=200){var J=S(q);if(J)return h(J);R=!1,K=d,Y=new N}else Y=H;e:for(;++z<O;){var Z=q[z],te=Z;if(Z=Z!==0?Z:0,R&&te==te){for(var oe=Y.length;oe--;)if(Y[oe]===te)continue e;H.push(Z)}else K(Y,te,Q)||(Y!==H&&Y.push(te),H.push(Z))}return H}(D):[]}}).call(this)}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,n,i){var s=e("inherits"),a=e("hash-base"),c=e("safe-buffer").Buffer,l=new Array(16);function o(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(b,m){return b<<m|b>>>32-m}function f(b,m,v,y,w,T,I){return u(b+(m&v|~m&y)+w+T|0,I)+m|0}function d(b,m,v,y,w,T,I){return u(b+(m&y|v&~y)+w+T|0,I)+m|0}function h(b,m,v,y,w,T,I){return u(b+(m^v^y)+w+T|0,I)+m|0}function g(b,m,v,y,w,T,I){return u(b+(v^(m|~y))+w+T|0,I)+m|0}s(o,a),o.prototype._update=function(){for(var b=l,m=0;m<16;++m)b[m]=this._block.readInt32LE(4*m);var v=this._a,y=this._b,w=this._c,T=this._d;v=f(v,y,w,T,b[0],3614090360,7),T=f(T,v,y,w,b[1],3905402710,12),w=f(w,T,v,y,b[2],606105819,17),y=f(y,w,T,v,b[3],3250441966,22),v=f(v,y,w,T,b[4],4118548399,7),T=f(T,v,y,w,b[5],1200080426,12),w=f(w,T,v,y,b[6],2821735955,17),y=f(y,w,T,v,b[7],4249261313,22),v=f(v,y,w,T,b[8],1770035416,7),T=f(T,v,y,w,b[9],2336552879,12),w=f(w,T,v,y,b[10],4294925233,17),y=f(y,w,T,v,b[11],2304563134,22),v=f(v,y,w,T,b[12],1804603682,7),T=f(T,v,y,w,b[13],4254626195,12),w=f(w,T,v,y,b[14],2792965006,17),v=d(v,y=f(y,w,T,v,b[15],1236535329,22),w,T,b[1],4129170786,5),T=d(T,v,y,w,b[6],3225465664,9),w=d(w,T,v,y,b[11],643717713,14),y=d(y,w,T,v,b[0],3921069994,20),v=d(v,y,w,T,b[5],3593408605,5),T=d(T,v,y,w,b[10],38016083,9),w=d(w,T,v,y,b[15],3634488961,14),y=d(y,w,T,v,b[4],3889429448,20),v=d(v,y,w,T,b[9],568446438,5),T=d(T,v,y,w,b[14],3275163606,9),w=d(w,T,v,y,b[3],4107603335,14),y=d(y,w,T,v,b[8],1163531501,20),v=d(v,y,w,T,b[13],2850285829,5),T=d(T,v,y,w,b[2],4243563512,9),w=d(w,T,v,y,b[7],1735328473,14),v=h(v,y=d(y,w,T,v,b[12],2368359562,20),w,T,b[5],4294588738,4),T=h(T,v,y,w,b[8],2272392833,11),w=h(w,T,v,y,b[11],1839030562,16),y=h(y,w,T,v,b[14],4259657740,23),v=h(v,y,w,T,b[1],2763975236,4),T=h(T,v,y,w,b[4],1272893353,11),w=h(w,T,v,y,b[7],4139469664,16),y=h(y,w,T,v,b[10],3200236656,23),v=h(v,y,w,T,b[13],681279174,4),T=h(T,v,y,w,b[0],3936430074,11),w=h(w,T,v,y,b[3],3572445317,16),y=h(y,w,T,v,b[6],76029189,23),v=h(v,y,w,T,b[9],3654602809,4),T=h(T,v,y,w,b[12],3873151461,11),w=h(w,T,v,y,b[15],530742520,16),v=g(v,y=h(y,w,T,v,b[2],3299628645,23),w,T,b[0],4096336452,6),T=g(T,v,y,w,b[7],1126891415,10),w=g(w,T,v,y,b[14],2878612391,15),y=g(y,w,T,v,b[5],4237533241,21),v=g(v,y,w,T,b[12],1700485571,6),T=g(T,v,y,w,b[3],2399980690,10),w=g(w,T,v,y,b[10],4293915773,15),y=g(y,w,T,v,b[1],2240044497,21),v=g(v,y,w,T,b[8],1873313359,6),T=g(T,v,y,w,b[15],4264355552,10),w=g(w,T,v,y,b[6],2734768916,15),y=g(y,w,T,v,b[13],1309151649,21),v=g(v,y,w,T,b[4],4149444226,6),T=g(T,v,y,w,b[11],3174756917,10),w=g(w,T,v,y,b[2],718787259,15),y=g(y,w,T,v,b[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+y|0,this._c=this._c+w|0,this._d=this._d+T|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var b=c.allocUnsafe(16);return b.writeInt32LE(this._a,0),b.writeInt32LE(this._b,4),b.writeInt32LE(this._c,8),b.writeInt32LE(this._d,12),b},n.exports=o},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,n,i){var s=e("bn.js"),a=e("brorand");function c(l){this.rand=l||new a.Rand}n.exports=c,c.create=function(l){return new c(l)},c.prototype._randbelow=function(l){var o=l.bitLength(),u=Math.ceil(o/8);do var f=new s(this.rand.generate(u));while(f.cmp(l)>=0);return f},c.prototype._randrange=function(l,o){var u=o.sub(l);return l.add(this._randbelow(u))},c.prototype.test=function(l,o,u){var f=l.bitLength(),d=s.mont(l),h=new s(1).toRed(d);o||(o=Math.max(1,f/48|0));for(var g=l.subn(1),b=0;!g.testn(b);b++);for(var m=l.shrn(b),v=g.toRed(d);o>0;o--){var y=this._randrange(new s(2),g);u&&u(y);var w=y.toRed(d).redPow(m);if(w.cmp(h)!==0&&w.cmp(v)!==0){for(var T=1;T<b;T++){if((w=w.redSqr()).cmp(h)===0)return!1;if(w.cmp(v)===0)break}if(T===b)return!1}}return!0},c.prototype.getDivisor=function(l,o){var u=l.bitLength(),f=s.mont(l),d=new s(1).toRed(f);o||(o=Math.max(1,u/48|0));for(var h=l.subn(1),g=0;!h.testn(g);g++);for(var b=l.shrn(g),m=h.toRed(f);o>0;o--){var v=this._randrange(new s(2),h),y=l.gcd(v);if(y.cmpn(1)!==0)return y;var w=v.toRed(f).redPow(b);if(w.cmp(d)!==0&&w.cmp(m)!==0){for(var T=1;T<g;T++){if((w=w.redSqr()).cmp(d)===0)return w.fromRed().subn(1).gcd(l);if(w.cmp(m)===0)break}if(T===g)return(w=w.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],453:[function(e,n,i){function s(a,c){if(!a)throw new Error(c||"Assertion failed")}n.exports=s,s.equal=function(a,c,l){if(a!=c)throw new Error(l||"Assertion failed: "+a+" != "+c)}},{}],454:[function(e,n,i){var s=i;function a(l){return l.length===1?"0"+l:l}function c(l){for(var o="",u=0;u<l.length;u++)o+=a(l[u].toString(16));return o}s.toArray=function(l,o){if(Array.isArray(l))return l.slice();if(!l)return[];var u=[];if(typeof l!="string"){for(var f=0;f<l.length;f++)u[f]=0|l[f];return u}if(o==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),f=0;f<l.length;f+=2)u.push(parseInt(l[f]+l[f+1],16));else for(f=0;f<l.length;f++){var d=l.charCodeAt(f),h=d>>8,g=255&d;h?u.push(h,g):u.push(g)}return u},s.zero2=a,s.toHex=c,s.encode=function(l,o){return o==="hex"?c(l):l}},{}],455:[function(e,n,i){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,n,i){var s=e("asn1.js");i.certificate=e("./certificate");var a=s.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});i.RSAPrivateKey=a;var c=s.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});i.RSAPublicKey=c;var l=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())});i.PublicKey=l;var o=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=s.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())});i.PrivateKey=u;var f=s.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});i.EncryptedPrivateKey=f;var d=s.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});i.DSAPrivateKey=d,i.DSAparam=s.define("DSAparam",function(){this.int()});var h=s.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())});i.ECPrivateKey=h;var g=s.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});i.signature=s.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,n,i){var s=e("asn1.js"),a=s.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),c=s.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),o=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),u=s.define("RelativeDistinguishedName",function(){this.setof(c)}),f=s.define("RDNSequence",function(){this.seqof(u)}),d=s.define("Name",function(){this.choice({rdnSequence:this.use(f)})}),h=s.define("Validity",function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))}),g=s.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),b=s.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(d),this.key("validity").use(h),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())}),m=s.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(b),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});n.exports=m},{"asn1.js":170}],458:[function(e,n,i){var s=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,c=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=e("evp_bytestokey"),o=e("browserify-aes"),u=e("safe-buffer").Buffer;n.exports=function(f,d){var h,g=f.toString(),b=g.match(s);if(b){var m="aes"+b[1],v=u.from(b[2],"hex"),y=u.from(b[3].replace(/[\r\n]/g,""),"base64"),w=l(d,v.slice(0,8),parseInt(b[1],10)).key,T=[],I=o.createDecipheriv(m,w,v);T.push(I.update(y)),T.push(I.final()),h=u.concat(T)}else{var V=g.match(c);h=u.from(V[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(a)[1],data:h}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,n,i){var s=e("./asn1"),a=e("./aesid.json"),c=e("./fixProc"),l=e("browserify-aes"),o=e("pbkdf2"),u=e("safe-buffer").Buffer;function f(d){var h;typeof d!="object"||u.isBuffer(d)||(h=d.passphrase,d=d.key),typeof d=="string"&&(d=u.from(d));var g,b,m=c(d,h),v=m.tag,y=m.data;switch(v){case"CERTIFICATE":b=s.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(b||(b=s.PublicKey.decode(y,"der")),g=b.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPublicKey.decode(b.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return b.subjectPrivateKey=b.subjectPublicKey,{type:"ec",data:b};case"1.2.840.10040.4.1":return b.algorithm.params.pub_key=s.DSAparam.decode(b.subjectPublicKey.data,"der"),{type:"dsa",data:b.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":y=function(w,T){var I=w.algorithm.decrypt.kde.kdeparams.salt,V=parseInt(w.algorithm.decrypt.kde.kdeparams.iters.toString(),10),B=a[w.algorithm.decrypt.cipher.algo.join(".")],A=w.algorithm.decrypt.cipher.iv,M=w.subjectPrivateKey,F=parseInt(B.split("-")[1],10)/8,$=o.pbkdf2Sync(T,I,V,F,"sha1"),U=l.createDecipheriv(B,$,A),E=[];return E.push(U.update(M)),E.push(U.final()),u.concat(E)}(y=s.EncryptedPrivateKey.decode(y,"der"),h);case"PRIVATE KEY":switch(g=(b=s.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPrivateKey.decode(b.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:b.algorithm.curve,privateKey:s.ECPrivateKey.decode(b.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return b.algorithm.params.priv_key=s.DSAparam.decode(b.subjectPrivateKey,"der"),{type:"dsa",params:b.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return s.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return s.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:s.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=s.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+v)}}n.exports=f,f.signature=s.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,n,i){i.pbkdf2=e("./lib/async"),i.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,n,i){(function(s){(function(){var a,c,l=e("safe-buffer").Buffer,o=e("./precondition"),u=e("./default-encoding"),f=e("./sync"),d=e("./to-buffer"),h=s.crypto&&s.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},b=[];function m(){return c||(c=s.process&&s.process.nextTick?s.process.nextTick:s.queueMicrotask?s.queueMicrotask:s.setImmediate?s.setImmediate:s.setTimeout)}function v(y,w,T,I,V){return h.importKey("raw",y,{name:"PBKDF2"},!1,["deriveBits"]).then(function(B){return h.deriveBits({name:"PBKDF2",salt:w,iterations:T,hash:{name:V}},B,I<<3)}).then(function(B){return l.from(B)})}n.exports=function(y,w,T,I,V,B){typeof V=="function"&&(B=V,V=void 0);var A=g[(V=V||"sha1").toLowerCase()];if(A&&typeof s.Promise=="function"){if(o(T,I),y=d(y,u,"Password"),w=d(w,u,"Salt"),typeof B!="function")throw new Error("No callback provided to pbkdf2");(function(M,F){M.then(function($){m()(function(){F(null,$)})},function($){m()(function(){F($)})})})(function(M){if(s.process&&!s.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(b[M]!==void 0)return b[M];var F=v(a=a||l.alloc(8),a,10,128,M).then(function(){return!0}).catch(function(){return!1});return b[M]=F,F}(A).then(function(M){return M?v(y,w,T,I,A):f(y,w,T,I,V)}),B)}else m()(function(){var M;try{M=f(y,w,T,I,V)}catch(F){return B(F)}B(null,M)})}}).call(this)}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,n,i){(function(s,a){(function(){var c;a.process&&a.process.browser?c="utf-8":a.process&&a.process.version?c=parseInt(s.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":c="utf-8",n.exports=c}).call(this)}).call(this,e("_process"),typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,n,i){var s=Math.pow(2,30)-1;n.exports=function(a,c){if(typeof a!="number")throw new TypeError("Iterations not a number");if(a<0)throw new TypeError("Bad iterations");if(typeof c!="number")throw new TypeError("Key length not a number");if(c<0||c>s||c!=c)throw new TypeError("Bad key length")}},{}],464:[function(e,n,i){var s=e("create-hash/md5"),a=e("ripemd160"),c=e("sha.js"),l=e("safe-buffer").Buffer,o=e("./precondition"),u=e("./default-encoding"),f=e("./to-buffer"),d=l.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(b,m,v){var y=function(A){function M(F){return c(A).update(F).digest()}return A==="rmd160"||A==="ripemd160"?function(F){return new a().update(F).digest()}:A==="md5"?s:M}(b),w=b==="sha512"||b==="sha384"?128:64;m.length>w?m=y(m):m.length<w&&(m=l.concat([m,d],w));for(var T=l.allocUnsafe(w+h[b]),I=l.allocUnsafe(w+h[b]),V=0;V<w;V++)T[V]=54^m[V],I[V]=92^m[V];var B=l.allocUnsafe(w+v+4);T.copy(B,0,0,w),this.ipad1=B,this.ipad2=T,this.opad=I,this.alg=b,this.blocksize=w,this.hash=y,this.size=h[b]}g.prototype.run=function(b,m){return b.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(b,m,v,y,w){o(v,y);var T=new g(w=w||"sha1",b=f(b,u,"Password"),(m=f(m,u,"Salt")).length),I=l.allocUnsafe(y),V=l.allocUnsafe(m.length+4);m.copy(V,0,0,m.length);for(var B=0,A=h[w],M=Math.ceil(y/A),F=1;F<=M;F++){V.writeUInt32BE(F,m.length);for(var $=T.run(V,T.ipad1),U=$,E=1;E<v;E++){U=T.run(U,T.ipad2);for(var P=0;P<A;P++)$[P]^=U[P]}$.copy(I,B),B+=A}return I}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,n,i){var s=e("safe-buffer").Buffer;n.exports=function(a,c,l){if(s.isBuffer(a))return a;if(typeof a=="string")return s.from(a,c);if(ArrayBuffer.isView(a))return s.from(a.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,n,i){(function(s){(function(){s===void 0||!s.version||s.version.indexOf("v0.")===0||s.version.indexOf("v1.")===0&&s.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(a,c,l,o){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var u,f,d=arguments.length;switch(d){case 0:case 1:return s.nextTick(a);case 2:return s.nextTick(function(){a.call(null,c)});case 3:return s.nextTick(function(){a.call(null,c,l)});case 4:return s.nextTick(function(){a.call(null,c,l,o)});default:for(u=new Array(d-1),f=0;f<u.length;)u[f++]=arguments[f];return s.nextTick(function(){a.apply(null,u)})}}}:n.exports=s}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,n,i){var s,a,c=n.exports={};function l(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(w){if(s===setTimeout)return setTimeout(w,0);if((s===l||!s)&&setTimeout)return s=setTimeout,setTimeout(w,0);try{return s(w,0)}catch{try{return s.call(null,w,0)}catch{return s.call(this,w,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:l}catch{s=l}try{a=typeof clearTimeout=="function"?clearTimeout:o}catch{a=o}})();var f,d=[],h=!1,g=-1;function b(){h&&f&&(h=!1,f.length?d=f.concat(d):g=-1,d.length&&m())}function m(){if(!h){var w=u(b);h=!0;for(var T=d.length;T;){for(f=d,d=[];++g<T;)f&&f[g].run();g=-1,T=d.length}f=null,h=!1,function(I){if(a===clearTimeout)return clearTimeout(I);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(I);try{a(I)}catch{try{return a.call(null,I)}catch{return a.call(this,I)}}}(w)}}function v(w,T){this.fun=w,this.array=T}function y(){}c.nextTick=function(w){var T=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)T[I-1]=arguments[I];d.push(new v(w,T)),d.length!==1||h||u(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=y,c.addListener=y,c.once=y,c.off=y,c.removeListener=y,c.removeAllListeners=y,c.emit=y,c.prependListener=y,c.prependOnceListener=y,c.listeners=function(w){return[]},c.binding=function(w){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(w){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],468:[function(e,n,i){i.publicEncrypt=e("./publicEncrypt"),i.privateDecrypt=e("./privateDecrypt"),i.privateEncrypt=function(s,a){return i.publicEncrypt(s,a,!0)},i.publicDecrypt=function(s,a){return i.privateDecrypt(s,a,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,n,i){var s=e("create-hash"),a=e("safe-buffer").Buffer;function c(l){var o=a.allocUnsafe(4);return o.writeUInt32BE(l,0),o}n.exports=function(l,o){for(var u,f=a.alloc(0),d=0;f.length<o;)u=c(d++),f=a.concat([f,s("sha1").update(l).update(u).digest()]);return f.slice(0,o)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],471:[function(e,n,i){var s=e("parse-asn1"),a=e("./mgf"),c=e("./xor"),l=e("bn.js"),o=e("browserify-rsa"),u=e("create-hash"),f=e("./withPublic"),d=e("safe-buffer").Buffer;n.exports=function(h,g,b){var m;m=h.padding?h.padding:b?1:4;var v,y=s(h),w=y.modulus.byteLength();if(g.length>w||new l(g).cmp(y.modulus)>=0)throw new Error("decryption error");v=b?f(new l(g),y):o(g,y);var T=d.alloc(w-v.length);if(v=d.concat([T,v],w),m===4)return function(I,V){var B=I.modulus.byteLength(),A=u("sha1").update(d.alloc(0)).digest(),M=A.length;if(V[0]!==0)throw new Error("decryption error");var F=V.slice(1,M+1),$=V.slice(M+1),U=c(F,a($,M)),E=c($,a(U,B-M-1));if(function(N,x){N=d.from(N),x=d.from(x);var _=0,S=N.length;N.length!==x.length&&(_++,S=Math.min(N.length,x.length));for(var k=-1;++k<S;)_+=N[k]^x[k];return _}(A,E.slice(0,M)))throw new Error("decryption error");for(var P=M;E[P]===0;)P++;if(E[P++]!==1)throw new Error("decryption error");return E.slice(P)}(y,v);if(m===1)return function(I,V,B){for(var A=V.slice(0,2),M=2,F=0;V[M++]!==0;)if(M>=V.length){F++;break}var $=V.slice(2,M-1);if((A.toString("hex")!=="0002"&&!B||A.toString("hex")!=="0001"&&B)&&F++,$.length<8&&F++,F)throw new Error("decryption error");return V.slice(M)}(0,v,b);if(m===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,n,i){var s=e("parse-asn1"),a=e("randombytes"),c=e("create-hash"),l=e("./mgf"),o=e("./xor"),u=e("bn.js"),f=e("./withPublic"),d=e("browserify-rsa"),h=e("safe-buffer").Buffer;n.exports=function(g,b,m){var v;v=g.padding?g.padding:m?1:4;var y,w=s(g);if(v===4)y=function(T,I){var V=T.modulus.byteLength(),B=I.length,A=c("sha1").update(h.alloc(0)).digest(),M=A.length,F=2*M;if(B>V-F-2)throw new Error("message too long");var $=h.alloc(V-B-F-2),U=V-M-1,E=a(M),P=o(h.concat([A,$,h.alloc(1,1),I],U),l(E,U)),N=o(E,l(P,M));return new u(h.concat([h.alloc(1),N,P],V))}(w,b);else if(v===1)y=function(T,I,V){var B,A=I.length,M=T.modulus.byteLength();if(A>M-11)throw new Error("message too long");return B=V?h.alloc(M-A-3,255):function(F){for(var $,U=h.allocUnsafe(F),E=0,P=a(2*F),N=0;E<F;)N===P.length&&(P=a(2*F),N=0),($=P[N++])&&(U[E++]=$);return U}(M-A-3),new u(h.concat([h.from([0,V?1:2]),B,h.alloc(1),I],M))}(w,b,m);else{if(v!==3)throw new Error("unknown padding");if((y=new u(b)).cmp(w.modulus)>=0)throw new Error("data too long for modulus")}return m?d(y,w):f(y,w)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,n,i){var s=e("bn.js"),a=e("safe-buffer").Buffer;n.exports=function(c,l){return a.from(c.toRed(s.mont(l.modulus)).redPow(new s(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,n,i){n.exports=function(s,a){for(var c=s.length,l=-1;++l<c;)s[l]^=a[l];return s}},{}],475:[function(e,n,i){(function(s,a){(function(){var c=e("safe-buffer").Buffer,l=a.crypto||a.msCrypto;l&&l.getRandomValues?n.exports=function(o,u){if(o>4294967295)throw new RangeError("requested too many random bytes");var f=c.allocUnsafe(o);if(o>0)if(o>65536)for(var d=0;d<o;d+=65536)l.getRandomValues(f.slice(d,d+65536));else l.getRandomValues(f);return typeof u=="function"?s.nextTick(function(){u(null,f)}):f}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,n,i){(function(s,a){(function(){function c(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=e("safe-buffer"),o=e("randombytes"),u=l.Buffer,f=l.kMaxLength,d=a.crypto||a.msCrypto,h=Math.pow(2,32)-1;function g(v,y){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>h||v<0)throw new TypeError("offset must be a uint32");if(v>f||v>y)throw new RangeError("offset out of range")}function b(v,y,w){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>h||v<0)throw new TypeError("size must be a uint32");if(v+y>w||v>f)throw new RangeError("buffer too small")}function m(v,y,w,T){if(s.browser){var I=v.buffer,V=new Uint8Array(I,y,w);return d.getRandomValues(V),T?void s.nextTick(function(){T(null,v)}):v}if(!T)return o(w).copy(v,y),v;o(w,function(B,A){if(B)return T(B);A.copy(v,y),T(null,v)})}d&&d.getRandomValues||!s.browser?(i.randomFill=function(v,y,w,T){if(!(u.isBuffer(v)||v instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")T=y,y=0,w=v.length;else if(typeof w=="function")T=w,w=v.length-y;else if(typeof T!="function")throw new TypeError('"cb" argument must be a function');return g(y,v.length),b(w,y,v.length),m(v,y,w,T)},i.randomFillSync=function(v,y,w){if(y===void 0&&(y=0),!(u.isBuffer(v)||v instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(y,v.length),w===void 0&&(w=v.length-y),b(w,y,v.length),m(v,y,w)}):(i.randomFill=c,i.randomFillSync=c)}).call(this)}).call(this,e("_process"),typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,n,i){var s={};function a(l,o,u){u||(u=Error);var f=function(d){var h,g;function b(m,v,y){return d.call(this,function(w,T,I){return typeof o=="string"?o:o(w,T,I)}(m,v,y))||this}return g=d,(h=b).prototype=Object.create(g.prototype),h.prototype.constructor=h,h.__proto__=g,b}(u);f.prototype.name=u.name,f.prototype.code=l,s[l]=f}function c(l,o){if(Array.isArray(l)){var u=l.length;return l=l.map(function(f){return String(f)}),u>2?"one of ".concat(o," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(o," ").concat(l[0]," or ").concat(l[1]):"of ".concat(o," ").concat(l[0])}return"of ".concat(o," ").concat(String(l))}a("ERR_INVALID_OPT_VALUE",function(l,o){return'The value "'+o+'" is invalid for option "'+l+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(l,o,u){var f,d,h;if(typeof o=="string"&&(d="not ",o.substr(0,d.length)===d)?(f="must not be",o=o.replace(/^not /,"")):f="must be",function(b,m,v){return(v===void 0||v>b.length)&&(v=b.length),b.substring(v-m.length,v)===m}(l," argument"))h="The ".concat(l," ").concat(f," ").concat(c(o,"type"));else{var g=function(b,m,v){return typeof v!="number"&&(v=0),!(v+m.length>b.length)&&b.indexOf(m,v)!==-1}(l,".")?"property":"argument";h='The "'.concat(l,'" ').concat(g," ").concat(f," ").concat(c(o,"type"))}return h+=". Received type ".concat(typeof u)},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=s},{}],478:[function(e,n,i){(function(s){(function(){var a=Object.keys||function(b){var m=[];for(var v in b)m.push(v);return m};n.exports=d;var c=e("./_stream_readable"),l=e("./_stream_writable");e("inherits")(d,c);for(var o=a(l.prototype),u=0;u<o.length;u++){var f=o[u];d.prototype[f]||(d.prototype[f]=l.prototype[f])}function d(b){if(!(this instanceof d))return new d(b);c.call(this,b),l.call(this,b),this.allowHalfOpen=!0,b&&(b.readable===!1&&(this.readable=!1),b.writable===!1&&(this.writable=!1),b.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||s.nextTick(g,this)}function g(b){b.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,n,i){n.exports=a;var s=e("./_stream_transform");function a(c){if(!(this instanceof a))return new a(c);s.call(this,c)}e("inherits")(a,s),a.prototype._transform=function(c,l,o){o(null,c)}},{"./_stream_transform":481,inherits:440}],480:[function(e,n,i){(function(s,a){(function(){var c;n.exports=U,U.ReadableState=$,e("events").EventEmitter;var l=function(O,R){return O.listeners(R).length},o=e("./internal/streams/stream"),u=e("buffer").Buffer,f=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,h=e("util");d=h&&h.debuglog?h.debuglog("stream"):function(){};var g,b,m,v=e("./internal/streams/buffer_list"),y=e("./internal/streams/destroy"),w=e("./internal/streams/state").getHighWaterMark,T=e("../errors").codes,I=T.ERR_INVALID_ARG_TYPE,V=T.ERR_STREAM_PUSH_AFTER_EOF,B=T.ERR_METHOD_NOT_IMPLEMENTED,A=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(U,o);var M=y.errorOrDestroy,F=["error","close","destroy","pause","resume"];function $(O,R,H){c=c||e("./_stream_duplex"),O=O||{},typeof H!="boolean"&&(H=R instanceof c),this.objectMode=!!O.objectMode,H&&(this.objectMode=this.objectMode||!!O.readableObjectMode),this.highWaterMark=w(this,O,"readableHighWaterMark",H),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(O.encoding),this.encoding=O.encoding)}function U(O){if(c=c||e("./_stream_duplex"),!(this instanceof U))return new U(O);var R=this instanceof c;this._readableState=new $(O,this,R),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),o.call(this)}function E(O,R,H,Y,J){d("readableAddChunk",R);var Z,te=O._readableState;if(R===null)te.reading=!1,function(oe,le){if(d("onEofChunk"),!le.ended){if(le.decoder){var ee=le.decoder.end();ee&&ee.length&&(le.buffer.push(ee),le.length+=le.objectMode?1:ee.length)}le.ended=!0,le.sync?x(oe):(le.needReadable=!1,le.emittedReadable||(le.emittedReadable=!0,_(oe)))}}(O,te);else if(J||(Z=function(oe,le){var ee;se=le,u.isBuffer(se)||se instanceof f||typeof le=="string"||le===void 0||oe.objectMode||(ee=new I("chunk",["string","Buffer","Uint8Array"],le));var se;return ee}(te,R)),Z)M(O,Z);else if(te.objectMode||R&&R.length>0)if(typeof R=="string"||te.objectMode||Object.getPrototypeOf(R)===u.prototype||(R=function(oe){return u.from(oe)}(R)),Y)te.endEmitted?M(O,new A):P(O,te,R,!0);else if(te.ended)M(O,new V);else{if(te.destroyed)return!1;te.reading=!1,te.decoder&&!H?(R=te.decoder.write(R),te.objectMode||R.length!==0?P(O,te,R,!1):S(O,te)):P(O,te,R,!1)}else Y||(te.reading=!1,S(O,te));return!te.ended&&(te.length<te.highWaterMark||te.length===0)}function P(O,R,H,Y){R.flowing&&R.length===0&&!R.sync?(R.awaitDrain=0,O.emit("data",H)):(R.length+=R.objectMode?1:H.length,Y?R.buffer.unshift(H):R.buffer.push(H),R.needReadable&&x(O)),S(O,R)}Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),U.prototype.destroy=y.destroy,U.prototype._undestroy=y.undestroy,U.prototype._destroy=function(O,R){R(O)},U.prototype.push=function(O,R){var H,Y=this._readableState;return Y.objectMode?H=!0:typeof O=="string"&&((R=R||Y.defaultEncoding)!==Y.encoding&&(O=u.from(O,R),R=""),H=!0),E(this,O,R,!1,H)},U.prototype.unshift=function(O){return E(this,O,null,!0,!1)},U.prototype.isPaused=function(){return this._readableState.flowing===!1},U.prototype.setEncoding=function(O){g||(g=e("string_decoder/").StringDecoder);var R=new g(O);this._readableState.decoder=R,this._readableState.encoding=this._readableState.decoder.encoding;for(var H=this._readableState.buffer.head,Y="";H!==null;)Y+=R.write(H.data),H=H.next;return this._readableState.buffer.clear(),Y!==""&&this._readableState.buffer.push(Y),this._readableState.length=Y.length,this};function N(O,R){return O<=0||R.length===0&&R.ended?0:R.objectMode?1:O!=O?R.flowing&&R.length?R.buffer.head.data.length:R.length:(O>R.highWaterMark&&(R.highWaterMark=function(H){return H>=1073741824?H=1073741824:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H}(O)),O<=R.length?O:R.ended?R.length:(R.needReadable=!0,0))}function x(O){var R=O._readableState;d("emitReadable",R.needReadable,R.emittedReadable),R.needReadable=!1,R.emittedReadable||(d("emitReadable",R.flowing),R.emittedReadable=!0,s.nextTick(_,O))}function _(O){var R=O._readableState;d("emitReadable_",R.destroyed,R.length,R.ended),R.destroyed||!R.length&&!R.ended||(O.emit("readable"),R.emittedReadable=!1),R.needReadable=!R.flowing&&!R.ended&&R.length<=R.highWaterMark,q(O)}function S(O,R){R.readingMore||(R.readingMore=!0,s.nextTick(k,O,R))}function k(O,R){for(;!R.reading&&!R.ended&&(R.length<R.highWaterMark||R.flowing&&R.length===0);){var H=R.length;if(d("maybeReadMore read 0"),O.read(0),H===R.length)break}R.readingMore=!1}function j(O){var R=O._readableState;R.readableListening=O.listenerCount("readable")>0,R.resumeScheduled&&!R.paused?R.flowing=!0:O.listenerCount("data")>0&&O.resume()}function L(O){d("readable nexttick read 0"),O.read(0)}function D(O,R){d("resume",R.reading),R.reading||O.read(0),R.resumeScheduled=!1,O.emit("resume"),q(O),R.flowing&&!R.reading&&O.read(0)}function q(O){var R=O._readableState;for(d("flow",R.flowing);R.flowing&&O.read()!==null;);}function W(O,R){return R.length===0?null:(R.objectMode?H=R.buffer.shift():!O||O>=R.length?(H=R.decoder?R.buffer.join(""):R.buffer.length===1?R.buffer.first():R.buffer.concat(R.length),R.buffer.clear()):H=R.buffer.consume(O,R.decoder),H);var H}function Q(O){var R=O._readableState;d("endReadable",R.endEmitted),R.endEmitted||(R.ended=!0,s.nextTick(z,R,O))}function z(O,R){if(d("endReadableNT",O.endEmitted,O.length),!O.endEmitted&&O.length===0&&(O.endEmitted=!0,R.readable=!1,R.emit("end"),O.autoDestroy)){var H=R._writableState;(!H||H.autoDestroy&&H.finished)&&R.destroy()}}function K(O,R){for(var H=0,Y=O.length;H<Y;H++)if(O[H]===R)return H;return-1}U.prototype.read=function(O){d("read",O),O=parseInt(O,10);var R=this._readableState,H=O;if(O!==0&&(R.emittedReadable=!1),O===0&&R.needReadable&&((R.highWaterMark!==0?R.length>=R.highWaterMark:R.length>0)||R.ended))return d("read: emitReadable",R.length,R.ended),R.length===0&&R.ended?Q(this):x(this),null;if((O=N(O,R))===0&&R.ended)return R.length===0&&Q(this),null;var Y,J=R.needReadable;return d("need readable",J),(R.length===0||R.length-O<R.highWaterMark)&&d("length less than watermark",J=!0),R.ended||R.reading?d("reading or ended",J=!1):J&&(d("do read"),R.reading=!0,R.sync=!0,R.length===0&&(R.needReadable=!0),this._read(R.highWaterMark),R.sync=!1,R.reading||(O=N(H,R))),(Y=O>0?W(O,R):null)===null?(R.needReadable=R.length<=R.highWaterMark,O=0):(R.length-=O,R.awaitDrain=0),R.length===0&&(R.ended||(R.needReadable=!0),H!==O&&R.ended&&Q(this)),Y!==null&&this.emit("data",Y),Y},U.prototype._read=function(O){M(this,new B("_read()"))},U.prototype.pipe=function(O,R){var H=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=O;break;case 1:Y.pipes=[Y.pipes,O];break;default:Y.pipes.push(O)}Y.pipesCount+=1,d("pipe count=%d opts=%j",Y.pipesCount,R);var J=(!R||R.end!==!1)&&O!==s.stdout&&O!==s.stderr?te:ce;function Z(fe,ge){d("onunpipe"),fe===H&&ge&&ge.hasUnpiped===!1&&(ge.hasUnpiped=!0,d("cleanup"),O.removeListener("close",ie),O.removeListener("finish",ue),O.removeListener("drain",oe),O.removeListener("error",se),O.removeListener("unpipe",Z),H.removeListener("end",te),H.removeListener("end",ce),H.removeListener("data",ee),le=!0,!Y.awaitDrain||O._writableState&&!O._writableState.needDrain||oe())}function te(){d("onend"),O.end()}Y.endEmitted?s.nextTick(J):H.once("end",J),O.on("unpipe",Z);var oe=function(fe){return function(){var ge=fe._readableState;d("pipeOnDrain",ge.awaitDrain),ge.awaitDrain&&ge.awaitDrain--,ge.awaitDrain===0&&l(fe,"data")&&(ge.flowing=!0,q(fe))}}(H);O.on("drain",oe);var le=!1;function ee(fe){d("ondata");var ge=O.write(fe);d("dest.write",ge),ge===!1&&((Y.pipesCount===1&&Y.pipes===O||Y.pipesCount>1&&K(Y.pipes,O)!==-1)&&!le&&(d("false write response, pause",Y.awaitDrain),Y.awaitDrain++),H.pause())}function se(fe){d("onerror",fe),ce(),O.removeListener("error",se),l(O,"error")===0&&M(O,fe)}function ie(){O.removeListener("finish",ue),ce()}function ue(){d("onfinish"),O.removeListener("close",ie),ce()}function ce(){d("unpipe"),H.unpipe(O)}return H.on("data",ee),function(fe,ge,ye){if(typeof fe.prependListener=="function")return fe.prependListener(ge,ye);fe._events&&fe._events[ge]?Array.isArray(fe._events[ge])?fe._events[ge].unshift(ye):fe._events[ge]=[ye,fe._events[ge]]:fe.on(ge,ye)}(O,"error",se),O.once("close",ie),O.once("finish",ue),O.emit("pipe",H),Y.flowing||(d("pipe resume"),H.resume()),O},U.prototype.unpipe=function(O){var R=this._readableState,H={hasUnpiped:!1};if(R.pipesCount===0)return this;if(R.pipesCount===1)return O&&O!==R.pipes||(O||(O=R.pipes),R.pipes=null,R.pipesCount=0,R.flowing=!1,O&&O.emit("unpipe",this,H)),this;if(!O){var Y=R.pipes,J=R.pipesCount;R.pipes=null,R.pipesCount=0,R.flowing=!1;for(var Z=0;Z<J;Z++)Y[Z].emit("unpipe",this,{hasUnpiped:!1});return this}var te=K(R.pipes,O);return te===-1||(R.pipes.splice(te,1),R.pipesCount-=1,R.pipesCount===1&&(R.pipes=R.pipes[0]),O.emit("unpipe",this,H)),this},U.prototype.on=function(O,R){var H=o.prototype.on.call(this,O,R),Y=this._readableState;return O==="data"?(Y.readableListening=this.listenerCount("readable")>0,Y.flowing!==!1&&this.resume()):O==="readable"&&(Y.endEmitted||Y.readableListening||(Y.readableListening=Y.needReadable=!0,Y.flowing=!1,Y.emittedReadable=!1,d("on readable",Y.length,Y.reading),Y.length?x(this):Y.reading||s.nextTick(L,this))),H},U.prototype.addListener=U.prototype.on,U.prototype.removeListener=function(O,R){var H=o.prototype.removeListener.call(this,O,R);return O==="readable"&&s.nextTick(j,this),H},U.prototype.removeAllListeners=function(O){var R=o.prototype.removeAllListeners.apply(this,arguments);return O!=="readable"&&O!==void 0||s.nextTick(j,this),R},U.prototype.resume=function(){var O=this._readableState;return O.flowing||(d("resume"),O.flowing=!O.readableListening,function(R,H){H.resumeScheduled||(H.resumeScheduled=!0,s.nextTick(D,R,H))}(this,O)),O.paused=!1,this},U.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},U.prototype.wrap=function(O){var R=this,H=this._readableState,Y=!1;for(var J in O.on("end",function(){if(d("wrapped end"),H.decoder&&!H.ended){var te=H.decoder.end();te&&te.length&&R.push(te)}R.push(null)}),O.on("data",function(te){d("wrapped data"),H.decoder&&(te=H.decoder.write(te)),H.objectMode&&te==null||(H.objectMode||te&&te.length)&&(R.push(te)||(Y=!0,O.pause()))}),O)this[J]===void 0&&typeof O[J]=="function"&&(this[J]=function(te){return function(){return O[te].apply(O,arguments)}}(J));for(var Z=0;Z<F.length;Z++)O.on(F[Z],this.emit.bind(this,F[Z]));return this._read=function(te){d("wrapped _read",te),Y&&(Y=!1,O.resume())},this},typeof Symbol=="function"&&(U.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=e("./internal/streams/async_iterator")),b(this)}),Object.defineProperty(U.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(U.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(U.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),U._fromList=W,Object.defineProperty(U.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(U.from=function(O,R){return m===void 0&&(m=e("./internal/streams/from")),m(U,O,R)})}).call(this)}).call(this,e("_process"),typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,n,i){n.exports=d;var s=e("../errors").codes,a=s.ERR_METHOD_NOT_IMPLEMENTED,c=s.ERR_MULTIPLE_CALLBACK,l=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=s.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function f(b,m){var v=this._transformState;v.transforming=!1;var y=v.writecb;if(y===null)return this.emit("error",new c);v.writechunk=null,v.writecb=null,m!=null&&this.push(m),y(b);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function d(b){if(!(this instanceof d))return new d(b);u.call(this,b),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),this.on("prefinish",h)}function h(){var b=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush(function(m,v){g(b,m,v)})}function g(b,m,v){if(m)return b.emit("error",m);if(v!=null&&b.push(v),b._writableState.length)throw new o;if(b._transformState.transforming)throw new l;return b.push(null)}e("inherits")(d,u),d.prototype.push=function(b,m){return this._transformState.needTransform=!1,u.prototype.push.call(this,b,m)},d.prototype._transform=function(b,m,v){v(new a("_transform()"))},d.prototype._write=function(b,m,v){var y=this._transformState;if(y.writecb=v,y.writechunk=b,y.writeencoding=m,!y.transforming){var w=this._readableState;(y.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},d.prototype._read=function(b){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},d.prototype._destroy=function(b,m){u.prototype._destroy.call(this,b,function(v){m(v)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,n,i){(function(s,a){(function(){function c(k){var j=this;this.next=null,this.entry=null,this.finish=function(){(function(L,D,q){var W=L.entry;for(L.entry=null;W;){var Q=W.callback;D.pendingcb--,Q(q),W=W.next}D.corkedRequestsFree.next=L})(j,k)}}var l;n.exports=U,U.WritableState=$;var o={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),f=e("buffer").Buffer,d=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,g=e("./internal/streams/destroy"),b=e("./internal/streams/state").getHighWaterMark,m=e("../errors").codes,v=m.ERR_INVALID_ARG_TYPE,y=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_MULTIPLE_CALLBACK,T=m.ERR_STREAM_CANNOT_PIPE,I=m.ERR_STREAM_DESTROYED,V=m.ERR_STREAM_NULL_VALUES,B=m.ERR_STREAM_WRITE_AFTER_END,A=m.ERR_UNKNOWN_ENCODING,M=g.errorOrDestroy;function F(){}function $(k,j,L){l=l||e("./_stream_duplex"),k=k||{},typeof L!="boolean"&&(L=j instanceof l),this.objectMode=!!k.objectMode,L&&(this.objectMode=this.objectMode||!!k.writableObjectMode),this.highWaterMark=b(this,k,"writableHighWaterMark",L),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var D=k.decodeStrings===!1;this.decodeStrings=!D,this.defaultEncoding=k.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(q){(function(W,Q){var z=W._writableState,K=z.sync,O=z.writecb;if(typeof O!="function")throw new w;if(function(H){H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0}(z),Q)(function(H,Y,J,Z,te){--Y.pendingcb,J?(s.nextTick(te,Z),s.nextTick(S,H,Y),H._writableState.errorEmitted=!0,M(H,Z)):(te(Z),H._writableState.errorEmitted=!0,M(H,Z),S(H,Y))})(W,z,K,Q,O);else{var R=x(z)||W.destroyed;R||z.corked||z.bufferProcessing||!z.bufferedRequest||N(W,z),K?s.nextTick(P,W,z,R,O):P(W,z,R,O)}})(j,q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=k.emitClose!==!1,this.autoDestroy=!!k.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function U(k){var j=this instanceof(l=l||e("./_stream_duplex"));if(!j&&!h.call(U,this))return new U(k);this._writableState=new $(k,this,j),this.writable=!0,k&&(typeof k.write=="function"&&(this._write=k.write),typeof k.writev=="function"&&(this._writev=k.writev),typeof k.destroy=="function"&&(this._destroy=k.destroy),typeof k.final=="function"&&(this._final=k.final)),u.call(this)}function E(k,j,L,D,q,W,Q){j.writelen=D,j.writecb=Q,j.writing=!0,j.sync=!0,j.destroyed?j.onwrite(new I("write")):L?k._writev(q,j.onwrite):k._write(q,W,j.onwrite),j.sync=!1}function P(k,j,L,D){L||function(q,W){W.length===0&&W.needDrain&&(W.needDrain=!1,q.emit("drain"))}(k,j),j.pendingcb--,D(),S(k,j)}function N(k,j){j.bufferProcessing=!0;var L=j.bufferedRequest;if(k._writev&&L&&L.next){var D=j.bufferedRequestCount,q=new Array(D),W=j.corkedRequestsFree;W.entry=L;for(var Q=0,z=!0;L;)q[Q]=L,L.isBuf||(z=!1),L=L.next,Q+=1;q.allBuffers=z,E(k,j,!0,j.length,q,"",W.finish),j.pendingcb++,j.lastBufferedRequest=null,W.next?(j.corkedRequestsFree=W.next,W.next=null):j.corkedRequestsFree=new c(j),j.bufferedRequestCount=0}else{for(;L;){var K=L.chunk,O=L.encoding,R=L.callback;if(E(k,j,!1,j.objectMode?1:K.length,K,O,R),L=L.next,j.bufferedRequestCount--,j.writing)break}L===null&&(j.lastBufferedRequest=null)}j.bufferedRequest=L,j.bufferProcessing=!1}function x(k){return k.ending&&k.length===0&&k.bufferedRequest===null&&!k.finished&&!k.writing}function _(k,j){k._final(function(L){j.pendingcb--,L&&M(k,L),j.prefinished=!0,k.emit("prefinish"),S(k,j)})}function S(k,j){var L=x(j);if(L&&(function(q,W){W.prefinished||W.finalCalled||(typeof q._final!="function"||W.destroyed?(W.prefinished=!0,q.emit("prefinish")):(W.pendingcb++,W.finalCalled=!0,s.nextTick(_,q,W)))}(k,j),j.pendingcb===0&&(j.finished=!0,k.emit("finish"),j.autoDestroy))){var D=k._readableState;(!D||D.autoDestroy&&D.endEmitted)&&k.destroy()}return L}e("inherits")(U,u),$.prototype.getBuffer=function(){for(var k=this.bufferedRequest,j=[];k;)j.push(k),k=k.next;return j},function(){try{Object.defineProperty($.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(k){return!!h.call(this,k)||this===U&&k&&k._writableState instanceof $}})):h=function(k){return k instanceof this},U.prototype.pipe=function(){M(this,new T)},U.prototype.write=function(k,j,L){var D,q=this._writableState,W=!1,Q=!q.objectMode&&(D=k,f.isBuffer(D)||D instanceof d);return Q&&!f.isBuffer(k)&&(k=function(z){return f.from(z)}(k)),typeof j=="function"&&(L=j,j=null),Q?j="buffer":j||(j=q.defaultEncoding),typeof L!="function"&&(L=F),q.ending?function(z,K){var O=new B;M(z,O),s.nextTick(K,O)}(this,L):(Q||function(z,K,O,R){var H;return O===null?H=new V:typeof O=="string"||K.objectMode||(H=new v("chunk",["string","Buffer"],O)),!H||(M(z,H),s.nextTick(R,H),!1)}(this,q,k,L))&&(q.pendingcb++,W=function(z,K,O,R,H,Y){if(!O){var J=function(le,ee,se){return le.objectMode||le.decodeStrings===!1||typeof ee!="string"||(ee=f.from(ee,se)),ee}(K,R,H);R!==J&&(O=!0,H="buffer",R=J)}var Z=K.objectMode?1:R.length;K.length+=Z;var te=K.length<K.highWaterMark;if(te||(K.needDrain=!0),K.writing||K.corked){var oe=K.lastBufferedRequest;K.lastBufferedRequest={chunk:R,encoding:H,isBuf:O,callback:Y,next:null},oe?oe.next=K.lastBufferedRequest:K.bufferedRequest=K.lastBufferedRequest,K.bufferedRequestCount+=1}else E(z,K,!1,Z,R,H,Y);return te}(this,q,Q,k,j,L)),W},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var k=this._writableState;k.corked&&(k.corked--,k.writing||k.corked||k.bufferProcessing||!k.bufferedRequest||N(this,k))},U.prototype.setDefaultEncoding=function(k){if(typeof k=="string"&&(k=k.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((k+"").toLowerCase())>-1))throw new A(k);return this._writableState.defaultEncoding=k,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),U.prototype._write=function(k,j,L){L(new y("_write()"))},U.prototype._writev=null,U.prototype.end=function(k,j,L){var D=this._writableState;return typeof k=="function"?(L=k,k=null,j=null):typeof j=="function"&&(L=j,j=null),k!=null&&this.write(k,j),D.corked&&(D.corked=1,this.uncork()),D.ending||function(q,W,Q){W.ending=!0,S(q,W),Q&&(W.finished?s.nextTick(Q):q.once("finish",Q)),W.ended=!0,q.writable=!1}(this,D,L),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(k){this._writableState&&(this._writableState.destroyed=k)}}),U.prototype.destroy=g.destroy,U.prototype._undestroy=g.undestroy,U.prototype._destroy=function(k,j){j(k)}}).call(this)}).call(this,e("_process"),typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,n,i){(function(s){(function(){var a;function c(I,V,B){return(V=function(A){var M=function(F,$){if(typeof F!="object"||F===null)return F;var U=F[Symbol.toPrimitive];if(U!==void 0){var E=U.call(F,$);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(F)}(A,"string");return typeof M=="symbol"?M:String(M)}(V))in I?Object.defineProperty(I,V,{value:B,enumerable:!0,configurable:!0,writable:!0}):I[V]=B,I}var l=e("./end-of-stream"),o=Symbol("lastResolve"),u=Symbol("lastReject"),f=Symbol("error"),d=Symbol("ended"),h=Symbol("lastPromise"),g=Symbol("handlePromise"),b=Symbol("stream");function m(I,V){return{value:I,done:V}}function v(I){var V=I[o];if(V!==null){var B=I[b].read();B!==null&&(I[h]=null,I[o]=null,I[u]=null,V(m(B,!1)))}}function y(I){s.nextTick(v,I)}var w=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((c(a={get stream(){return this[b]},next:function(){var I=this,V=this[f];if(V!==null)return Promise.reject(V);if(this[d])return Promise.resolve(m(void 0,!0));if(this[b].destroyed)return new Promise(function(F,$){s.nextTick(function(){I[f]?$(I[f]):F(m(void 0,!0))})});var B,A=this[h];if(A)B=new Promise(function(F,$){return function(U,E){F.then(function(){$[d]?U(m(void 0,!0)):$[g](U,E)},E)}}(A,this));else{var M=this[b].read();if(M!==null)return Promise.resolve(m(M,!1));B=new Promise(this[g])}return this[h]=B,B}},Symbol.asyncIterator,function(){return this}),c(a,"return",function(){var I=this;return new Promise(function(V,B){I[b].destroy(null,function(A){A?B(A):V(m(void 0,!0))})})}),a),w);n.exports=function(I){var V,B=Object.create(T,(c(V={},b,{value:I,writable:!0}),c(V,o,{value:null,writable:!0}),c(V,u,{value:null,writable:!0}),c(V,f,{value:null,writable:!0}),c(V,d,{value:I._readableState.endEmitted,writable:!0}),c(V,g,{value:function(A,M){var F=B[b].read();F?(B[h]=null,B[o]=null,B[u]=null,A(m(F,!1))):(B[o]=A,B[u]=M)},writable:!0}),V));return B[h]=null,l(I,function(A){if(A&&A.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=B[u];return M!==null&&(B[h]=null,B[o]=null,B[u]=null,M(A)),void(B[f]=A)}var F=B[o];F!==null&&(B[h]=null,B[o]=null,B[u]=null,F(m(void 0,!0))),B[d]=!0}),I.on("readable",y.bind(null,B)),B}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,n,i){function s(h,g){var b=Object.keys(h);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(h);g&&(m=m.filter(function(v){return Object.getOwnPropertyDescriptor(h,v).enumerable})),b.push.apply(b,m)}return b}function a(h){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?s(Object(b),!0).forEach(function(m){c(h,m,b[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(b)):s(Object(b)).forEach(function(m){Object.defineProperty(h,m,Object.getOwnPropertyDescriptor(b,m))})}return h}function c(h,g,b){return(g=o(g))in h?Object.defineProperty(h,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):h[g]=b,h}function l(h,g){for(var b=0;b<g.length;b++){var m=g[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,o(m.key),m)}}function o(h){var g=function(b,m){if(typeof b!="object"||b===null)return b;var v=b[Symbol.toPrimitive];if(v!==void 0){var y=v.call(b,m);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(b)}(h,"string");return typeof g=="symbol"?g:String(g)}var u=e("buffer").Buffer,f=e("util").inspect,d=f&&f.custom||"inspect";n.exports=function(){function h(){(function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}var g,b;return g=h,(b=[{key:"push",value:function(m){var v={data:m,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(m){var v={data:m,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var v=this.head,y=""+v.data;v=v.next;)y+=m+v.data;return y}},{key:"concat",value:function(m){if(this.length===0)return u.alloc(0);for(var v,y,w,T=u.allocUnsafe(m>>>0),I=this.head,V=0;I;)v=I.data,y=T,w=V,u.prototype.copy.call(v,y,w),V+=I.data.length,I=I.next;return T}},{key:"consume",value:function(m,v){var y;return m<this.head.data.length?(y=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):y=m===this.head.data.length?this.shift():v?this._getString(m):this._getBuffer(m),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var v=this.head,y=1,w=v.data;for(m-=w.length;v=v.next;){var T=v.data,I=m>T.length?T.length:m;if(I===T.length?w+=T:w+=T.slice(0,m),(m-=I)==0){I===T.length?(++y,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=T.slice(I));break}++y}return this.length-=y,w}},{key:"_getBuffer",value:function(m){var v=u.allocUnsafe(m),y=this.head,w=1;for(y.data.copy(v),m-=y.data.length;y=y.next;){var T=y.data,I=m>T.length?T.length:m;if(T.copy(v,v.length-m,0,I),(m-=I)==0){I===T.length?(++w,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=T.slice(I));break}++w}return this.length-=w,v}},{key:d,value:function(m,v){return f(this,a(a({},v),{},{depth:0,customInspect:!1}))}}])&&l(g.prototype,b),Object.defineProperty(g,"prototype",{writable:!1}),h}()},{buffer:220,util:188}],485:[function(e,n,i){(function(s){(function(){function a(o,u){l(o,u),c(o)}function c(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function l(o,u){o.emit("error",u)}n.exports={destroy:function(o,u){var f=this,d=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return d||h?(u?u(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(l,this,o)):s.nextTick(l,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(g){!u&&g?f._writableState?f._writableState.errorEmitted?s.nextTick(c,f):(f._writableState.errorEmitted=!0,s.nextTick(a,f,g)):s.nextTick(a,f,g):u?(s.nextTick(c,f),u(g)):s.nextTick(c,f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(o,u){var f=o._readableState,d=o._writableState;f&&f.autoDestroy||d&&d.autoDestroy?o.destroy(u):o.emit("error",u)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,n,i){var s=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function a(){}n.exports=function c(l,o,u){if(typeof o=="function")return c(l,null,o);o||(o={}),u=function(I){var V=!1;return function(){if(!V){V=!0;for(var B=arguments.length,A=new Array(B),M=0;M<B;M++)A[M]=arguments[M];I.apply(this,A)}}}(u||a);var f=o.readable||o.readable!==!1&&l.readable,d=o.writable||o.writable!==!1&&l.writable,h=function(){l.writable||b()},g=l._writableState&&l._writableState.finished,b=function(){d=!1,g=!0,f||u.call(l)},m=l._readableState&&l._readableState.endEmitted,v=function(){f=!1,m=!0,d||u.call(l)},y=function(I){u.call(l,I)},w=function(){var I;return f&&!m?(l._readableState&&l._readableState.ended||(I=new s),u.call(l,I)):d&&!g?(l._writableState&&l._writableState.ended||(I=new s),u.call(l,I)):void 0},T=function(){l.req.on("finish",b)};return function(I){return I.setHeader&&typeof I.abort=="function"}(l)?(l.on("complete",b),l.on("abort",w),l.req?T():l.on("request",T)):d&&!l._writableState&&(l.on("end",h),l.on("close",h)),l.on("end",v),l.on("finish",b),o.error!==!1&&l.on("error",y),l.on("close",w),function(){l.removeListener("complete",b),l.removeListener("abort",w),l.removeListener("request",T),l.req&&l.req.removeListener("finish",b),l.removeListener("end",h),l.removeListener("close",h),l.removeListener("finish",b),l.removeListener("end",v),l.removeListener("error",y),l.removeListener("close",w)}}},{"../../../errors":477}],487:[function(e,n,i){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,n,i){var s,a=e("../../../errors").codes,c=a.ERR_MISSING_ARGS,l=a.ERR_STREAM_DESTROYED;function o(g){if(g)throw g}function u(g,b,m,v){v=function(T){var I=!1;return function(){I||(I=!0,T.apply(void 0,arguments))}}(v);var y=!1;g.on("close",function(){y=!0}),s===void 0&&(s=e("./end-of-stream")),s(g,{readable:b,writable:m},function(T){if(T)return v(T);y=!0,v()});var w=!1;return function(T){if(!y&&!w)return w=!0,function(I){return I.setHeader&&typeof I.abort=="function"}(g)?g.abort():typeof g.destroy=="function"?g.destroy():void v(T||new l("pipe"))}}function f(g){g()}function d(g,b){return g.pipe(b)}function h(g){return g.length?typeof g[g.length-1]!="function"?o:g.pop():o}n.exports=function(){for(var g=arguments.length,b=new Array(g),m=0;m<g;m++)b[m]=arguments[m];var v,y=h(b);if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new c("streams");var w=b.map(function(T,I){var V=I<b.length-1;return u(T,V,I>0,function(B){v||(v=B),B&&w.forEach(f),V||(w.forEach(f),y(v))})});return b.reduce(d)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,n,i){var s=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(a,c,l,o){var u=function(f,d,h){return f.highWaterMark!=null?f.highWaterMark:d?f[h]:null}(c,o,l);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new s(o?l:"highWaterMark",u);return Math.floor(u)}return a.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,n,i){n.exports=e("events").EventEmitter},{events:422}],491:[function(e,n,i){(i=n.exports=e("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js"),i.finished=e("./lib/internal/streams/end-of-stream.js"),i.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,n,i){var s=function(a){var c=Object.prototype,l=c.hasOwnProperty,o=Object.defineProperty||function(S,k,j){S[k]=j.value},u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",d=u.asyncIterator||"@@asyncIterator",h=u.toStringTag||"@@toStringTag";function g(S,k,j){return Object.defineProperty(S,k,{value:j,enumerable:!0,configurable:!0,writable:!0}),S[k]}try{g({},"")}catch{g=function(k,j,L){return k[j]=L}}function b(S,k,j,L){var D=k&&k.prototype instanceof y?k:y,q=Object.create(D.prototype),W=new N(L||[]);return o(q,"_invoke",{value:$(S,j,W)}),q}function m(S,k,j){try{return{type:"normal",arg:S.call(k,j)}}catch(L){return{type:"throw",arg:L}}}a.wrap=b;var v={};function y(){}function w(){}function T(){}var I={};g(I,f,function(){return this});var V=Object.getPrototypeOf,B=V&&V(V(x([])));B&&B!==c&&l.call(B,f)&&(I=B);var A=T.prototype=y.prototype=Object.create(I);function M(S){["next","throw","return"].forEach(function(k){g(S,k,function(j){return this._invoke(k,j)})})}function F(S,k){var j;o(this,"_invoke",{value:function(L,D){function q(){return new k(function(W,Q){(function z(K,O,R,H){var Y=m(S[K],S,O);if(Y.type!=="throw"){var J=Y.arg,Z=J.value;return Z&&typeof Z=="object"&&l.call(Z,"__await")?k.resolve(Z.__await).then(function(te){z("next",te,R,H)},function(te){z("throw",te,R,H)}):k.resolve(Z).then(function(te){J.value=te,R(J)},function(te){return z("throw",te,R,H)})}H(Y.arg)})(L,D,W,Q)})}return j=j?j.then(q,q):q()}})}function $(S,k,j){var L="suspendedStart";return function(D,q){if(L==="executing")throw new Error("Generator is already running");if(L==="completed"){if(D==="throw")throw q;return _()}for(j.method=D,j.arg=q;;){var W=j.delegate;if(W){var Q=U(W,j);if(Q){if(Q===v)continue;return Q}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(L==="suspendedStart")throw L="completed",j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);L="executing";var z=m(S,k,j);if(z.type==="normal"){if(L=j.done?"completed":"suspendedYield",z.arg===v)continue;return{value:z.arg,done:j.done}}z.type==="throw"&&(L="completed",j.method="throw",j.arg=z.arg)}}}function U(S,k){var j=k.method,L=S.iterator[j];if(L===void 0)return k.delegate=null,j==="throw"&&S.iterator.return&&(k.method="return",k.arg=void 0,U(S,k),k.method==="throw")||j!=="return"&&(k.method="throw",k.arg=new TypeError("The iterator does not provide a '"+j+"' method")),v;var D=m(L,S.iterator,k.arg);if(D.type==="throw")return k.method="throw",k.arg=D.arg,k.delegate=null,v;var q=D.arg;return q?q.done?(k[S.resultName]=q.value,k.next=S.nextLoc,k.method!=="return"&&(k.method="next",k.arg=void 0),k.delegate=null,v):q:(k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,v)}function E(S){var k={tryLoc:S[0]};1 in S&&(k.catchLoc=S[1]),2 in S&&(k.finallyLoc=S[2],k.afterLoc=S[3]),this.tryEntries.push(k)}function P(S){var k=S.completion||{};k.type="normal",delete k.arg,S.completion=k}function N(S){this.tryEntries=[{tryLoc:"root"}],S.forEach(E,this),this.reset(!0)}function x(S){if(S){var k=S[f];if(k)return k.call(S);if(typeof S.next=="function")return S;if(!isNaN(S.length)){var j=-1,L=function D(){for(;++j<S.length;)if(l.call(S,j))return D.value=S[j],D.done=!1,D;return D.value=void 0,D.done=!0,D};return L.next=L}}return{next:_}}function _(){return{value:void 0,done:!0}}return w.prototype=T,o(A,"constructor",{value:T,configurable:!0}),o(T,"constructor",{value:w,configurable:!0}),w.displayName=g(T,h,"GeneratorFunction"),a.isGeneratorFunction=function(S){var k=typeof S=="function"&&S.constructor;return!!k&&(k===w||(k.displayName||k.name)==="GeneratorFunction")},a.mark=function(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,T):(S.__proto__=T,g(S,h,"GeneratorFunction")),S.prototype=Object.create(A),S},a.awrap=function(S){return{__await:S}},M(F.prototype),g(F.prototype,d,function(){return this}),a.AsyncIterator=F,a.async=function(S,k,j,L,D){D===void 0&&(D=Promise);var q=new F(b(S,k,j,L),D);return a.isGeneratorFunction(k)?q:q.next().then(function(W){return W.done?W.value:q.next()})},M(A),g(A,h,"Generator"),g(A,f,function(){return this}),g(A,"toString",function(){return"[object Generator]"}),a.keys=function(S){var k=Object(S),j=[];for(var L in k)j.push(L);return j.reverse(),function D(){for(;j.length;){var q=j.pop();if(q in k)return D.value=q,D.done=!1,D}return D.done=!0,D}},a.values=x,N.prototype={constructor:N,reset:function(S){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!S)for(var k in this)k.charAt(0)==="t"&&l.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=void 0)},stop:function(){this.done=!0;var S=this.tryEntries[0].completion;if(S.type==="throw")throw S.arg;return this.rval},dispatchException:function(S){if(this.done)throw S;var k=this;function j(z,K){return q.type="throw",q.arg=S,k.next=z,K&&(k.method="next",k.arg=void 0),!!K}for(var L=this.tryEntries.length-1;L>=0;--L){var D=this.tryEntries[L],q=D.completion;if(D.tryLoc==="root")return j("end");if(D.tryLoc<=this.prev){var W=l.call(D,"catchLoc"),Q=l.call(D,"finallyLoc");if(W&&Q){if(this.prev<D.catchLoc)return j(D.catchLoc,!0);if(this.prev<D.finallyLoc)return j(D.finallyLoc)}else if(W){if(this.prev<D.catchLoc)return j(D.catchLoc,!0)}else{if(!Q)throw new Error("try statement without catch or finally");if(this.prev<D.finallyLoc)return j(D.finallyLoc)}}}},abrupt:function(S,k){for(var j=this.tryEntries.length-1;j>=0;--j){var L=this.tryEntries[j];if(L.tryLoc<=this.prev&&l.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var D=L;break}}D&&(S==="break"||S==="continue")&&D.tryLoc<=k&&k<=D.finallyLoc&&(D=null);var q=D?D.completion:{};return q.type=S,q.arg=k,D?(this.method="next",this.next=D.finallyLoc,v):this.complete(q)},complete:function(S,k){if(S.type==="throw")throw S.arg;return S.type==="break"||S.type==="continue"?this.next=S.arg:S.type==="return"?(this.rval=this.arg=S.arg,this.method="return",this.next="end"):S.type==="normal"&&k&&(this.next=k),v},finish:function(S){for(var k=this.tryEntries.length-1;k>=0;--k){var j=this.tryEntries[k];if(j.finallyLoc===S)return this.complete(j.completion,j.afterLoc),P(j),v}},catch:function(S){for(var k=this.tryEntries.length-1;k>=0;--k){var j=this.tryEntries[k];if(j.tryLoc===S){var L=j.completion;if(L.type==="throw"){var D=L.arg;P(j)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(S,k,j){return this.delegate={iterator:x(S),resultName:k,nextLoc:j},this.method==="next"&&(this.arg=void 0),v}},a}(typeof n=="object"?n.exports:{});try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}},{}],493:[function(e,n,i){var s=e("buffer").Buffer,a=e("inherits"),c=e("hash-base"),l=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function b(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(V,B){return V<<B|V>>>32-B}function v(V,B,A,M,F,$,U,E){return m(V+(B^A^M)+$+U|0,E)+F|0}function y(V,B,A,M,F,$,U,E){return m(V+(B&A|~B&M)+$+U|0,E)+F|0}function w(V,B,A,M,F,$,U,E){return m(V+((B|~A)^M)+$+U|0,E)+F|0}function T(V,B,A,M,F,$,U,E){return m(V+(B&M|A&~M)+$+U|0,E)+F|0}function I(V,B,A,M,F,$,U,E){return m(V+(B^(A|~M))+$+U|0,E)+F|0}a(b,c),b.prototype._update=function(){for(var V=l,B=0;B<16;++B)V[B]=this._block.readInt32LE(4*B);for(var A=0|this._a,M=0|this._b,F=0|this._c,$=0|this._d,U=0|this._e,E=0|this._a,P=0|this._b,N=0|this._c,x=0|this._d,_=0|this._e,S=0;S<80;S+=1){var k,j;S<16?(k=v(A,M,F,$,U,V[o[S]],h[0],f[S]),j=I(E,P,N,x,_,V[u[S]],g[0],d[S])):S<32?(k=y(A,M,F,$,U,V[o[S]],h[1],f[S]),j=T(E,P,N,x,_,V[u[S]],g[1],d[S])):S<48?(k=w(A,M,F,$,U,V[o[S]],h[2],f[S]),j=w(E,P,N,x,_,V[u[S]],g[2],d[S])):S<64?(k=T(A,M,F,$,U,V[o[S]],h[3],f[S]),j=y(E,P,N,x,_,V[u[S]],g[3],d[S])):(k=I(A,M,F,$,U,V[o[S]],h[4],f[S]),j=v(E,P,N,x,_,V[u[S]],g[4],d[S])),A=U,U=$,$=m(F,10),F=M,M=k,E=_,_=x,x=m(N,10),N=P,P=j}var L=this._b+F+x|0;this._b=this._c+$+_|0,this._c=this._d+U+E|0,this._d=this._e+A+P|0,this._e=this._a+M+N|0,this._a=L},b.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var V=s.alloc?s.alloc(20):new s(20);return V.writeInt32LE(this._a,0),V.writeInt32LE(this._b,4),V.writeInt32LE(this._c,8),V.writeInt32LE(this._d,12),V.writeInt32LE(this._e,16),V},n.exports=b},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,n,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var s=e("buffer"),a=s.Buffer;function c(o,u){for(var f in o)u[f]=o[f]}function l(o,u,f){return a(o,u,f)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=s:(c(s,i),i.Buffer=l),l.prototype=Object.create(a.prototype),c(a,l),l.from=function(o,u,f){if(typeof o=="number")throw new TypeError("Argument must not be a number");return a(o,u,f)},l.alloc=function(o,u,f){if(typeof o!="number")throw new TypeError("Argument must be a number");var d=a(o);return u!==void 0?typeof f=="string"?d.fill(u,f):d.fill(u):d.fill(0),d},l.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a(o)},l.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(o)}},{buffer:220}],495:[function(e,n,i){(function(s){(function(){var a,c=e("buffer"),l=c.Buffer,o={};for(a in c)c.hasOwnProperty(a)&&a!=="SlowBuffer"&&a!=="Buffer"&&(o[a]=c[a]);var u=o.Buffer={};for(a in l)l.hasOwnProperty(a)&&a!=="allocUnsafe"&&a!=="allocUnsafeSlow"&&(u[a]=l[a]);if(o.Buffer.prototype=l.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(f,d,h){if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&f.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return l(f,d,h)}),u.alloc||(u.alloc=function(f,d,h){if(typeof f!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(f<0||f>=2*(1<<30))throw new RangeError('The value "'+f+'" is invalid for option "size"');var g=l(f);return d&&d.length!==0?typeof h=="string"?g.fill(d,h):g.fill(d):g.fill(0),g}),!o.kStringMaxLength)try{o.kStringMaxLength=s.binding("buffer").kStringMaxLength}catch{}o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),n.exports=o}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0});const s=e("xmlchars/xml/1.0/ed5"),a=e("xmlchars/xml/1.1/ed2"),c=e("xmlchars/xmlns/1.0/ed3");var l=s.isS,o=s.isChar,u=s.isNameStartChar,f=s.isNameChar,d=s.S_LIST,h=s.NAME_RE,g=a.isChar,b=c.isNCNameStartChar,m=c.isNCNameChar,v=c.NC_NAME_RE;const y="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",T={__proto__:null,xml:y,xmlns:w},I={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},V=x=>x===34||x===39,B=[34,39],A=[...B,91,62],M=[...B,60,93],F=[61,63,...d],$=[...d,62,38,60];function U(x,_,S){switch(_){case"xml":S!==y&&x.fail(`xml prefix must be bound to ${y}.`);break;case"xmlns":S!==w&&x.fail(`xmlns prefix must be bound to ${w}.`)}switch(S){case w:x.fail(_===""?`the default namespace may not be set to ${S}.`:`may not assign a prefix (even "xmlns") to the URI ${w}.`);break;case y:switch(_){case"xml":break;case"":x.fail(`the default namespace may not be set to ${S}.`);break;default:x.fail("may not assign the xml namespace to another prefix.")}}}const E=x=>v.test(x),P=x=>h.test(x);i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const N={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};i.SaxesParser=class{constructor(x){this.opt=x??{},this.fragmentOpt=!!this.opt.fragment;const _=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,_){this.nameStartCheck=b,this.nameCheck=m,this.isName=E,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},T);const S=this.opt.additionalNamespaces;S!=null&&(function(k,j){for(const L of Object.keys(j))U(k,L,j[L])}(this,S),Object.assign(this.ns,S))}else this.nameStartCheck=u,this.nameCheck=f,this.isName=P,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var x;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:_}=this;this.state=_?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=_,this.xmlDeclPossible=!_,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:S}=this.opt;if(S===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");S="1.0"}this.setXMLVersion(S),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(I),(x=this.readyHandler)===null||x===void 0||x.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(x,_){this[N[x]]=_}off(x){this[N[x]]=void 0}makeError(x){var _;let S=(_=this.fileName)!==null&&_!==void 0?_:"";return this.trackPosition&&(S.length>0&&(S+=":"),S+=`${this.line}:${this.column}`),S.length>0&&(S+=": "),new Error(S+x)}fail(x){const _=this.makeError(x),S=this.errorHandler;if(S===void 0)throw _;return S(_),this}write(x){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let _=!1;x===null?(_=!0,x=""):typeof x=="object"&&(x=x.toString()),this.carriedFromPrevious!==void 0&&(x=`${this.carriedFromPrevious}${x}`,this.carriedFromPrevious=void 0);let S=x.length;const k=x.charCodeAt(S-1);!_&&(k===13||k>=55296&&k<=56319)&&(this.carriedFromPrevious=x[S-1],S--,x=x.slice(0,S));const{stateTable:j}=this;for(this.chunk=x,this.i=0;this.i<S;)j[this.state].call(this);return this.chunkPosition+=S,_?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:x,i:_}=this;if(this.prevI=_,this.i=_+1,_>=x.length)return-1;const S=x.charCodeAt(_);if(this.column++,S<55296){if(S>=32||S===9)return S;switch(S){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return x.charCodeAt(_+1)===10&&(this.i=_+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),S}}if(S>56319)return S>=57344&&S<=65533||this.fail("disallowed character."),S;const k=65536+1024*(S-55296)+(x.charCodeAt(_+1)-56320);return this.i=_+2,k>1114111&&this.fail("disallowed character."),k}getCode11(){const{chunk:x,i:_}=this;if(this.prevI=_,this.i=_+1,_>=x.length)return-1;const S=x.charCodeAt(_);if(this.column++,S<55296){if(S>31&&S<127||S>159&&S!==8232||S===9)return S;switch(S){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const j=x.charCodeAt(_+1);j!==10&&j!==133||(this.i=_+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),S}}if(S>56319)return S>=57344&&S<=65533||this.fail("disallowed character."),S;const k=65536+1024*(S-55296)+(x.charCodeAt(_+1)-56320);return this.i=_+2,k>1114111&&this.fail("disallowed character."),k}getCodeNorm(){const x=this.getCode();return x===-2?10:x}unget(){this.i=this.prevI,this.column--}captureTo(x){let{i:_}=this;const{chunk:S}=this;for(;;){const k=this.getCode(),j=k===-2,L=j?10:k;if(L===-1||x.includes(L))return this.text+=S.slice(_,this.prevI),L;j&&(this.text+=S.slice(_,this.prevI)+`
`,_=this.i)}}captureToChar(x){let{i:_}=this;const{chunk:S}=this;for(;;){let k=this.getCode();switch(k){case-2:this.text+=S.slice(_,this.prevI)+`
`,_=this.i,k=10;break;case-1:return this.text+=S.slice(_),!1}if(k===x)return this.text+=S.slice(_,this.prevI),!0}}captureNameChars(){const{chunk:x,i:_}=this;for(;;){const S=this.getCode();if(S===-1)return this.name+=x.slice(_),-1;if(!f(S))return this.name+=x.slice(_,this.prevI),S===-2?10:S}}skipSpaces(){for(;;){const x=this.getCodeNorm();if(x===-1||!l(x))return x}}setXMLVersion(x){this.currentXMLVersion=x,x==="1.0"?(this.isChar=o,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const x=this.i,_=this.skipSpaces();switch(this.prevI!==x&&(this.xmlDeclPossible=!1),_){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var x;const _=this.captureTo(A);switch(_){case 62:(x=this.doctypeHandler)===null||x===void 0||x.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(_),_===91?this.state=4:V(_)&&(this.state=3,this.q=_)}}sDoctypeQuote(){const x=this.q;this.captureToChar(x)&&(this.text+=String.fromCodePoint(x),this.q=null,this.state=2)}sDTD(){const x=this.captureTo(M);x!==-1&&(this.text+=String.fromCodePoint(x),x===93?this.state=2:x===60?this.state=6:V(x)&&(this.state=5,this.q=x))}sDTDQuoted(){const x=this.q;this.captureToChar(x)&&(this.text+=String.fromCodePoint(x),this.state=4,this.q=null)}sDTDOpenWaka(){const x=this.getCodeNorm();switch(this.text+=String.fromCodePoint(x),x){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const x=String.fromCodePoint(this.getCodeNorm()),_=this.openWakaBang+=x;this.text+=x,_!=="-"&&(this.state=_==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const x=this.getCodeNorm();this.text+=String.fromCodePoint(x),this.state=x===45?10:8}sDTDCommentEnded(){const x=this.getCodeNorm();this.text+=String.fromCodePoint(x),x===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const x=this.getCodeNorm();this.text+=String.fromCodePoint(x),x===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:x}=this;const{chunk:_}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=_.slice(x,this.prevI)+`
`,x=this.i;break;case 59:{const{entityReturnState:S}=this,k=this.entity+_.slice(x,this.prevI);let j;this.state=S,k===""?(this.fail("empty entity name."),j="&;"):(j=this.parseEntity(k),this.entity=""),S===13&&this.textHandler===void 0||(this.text+=j);break e}case-1:this.entity+=_.slice(x);break e}}sOpenWaka(){const x=this.getCode();if(u(x))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(x){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var x;const _=this.getCodeNorm();_===45?(this.state=19,(x=this.commentHandler)===null||x===void 0||x.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(_),this.state=17)}sCommentEnded(){const x=this.getCodeNorm();x!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(x),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const x=this.getCodeNorm();x===93?this.state=22:(this.text+="]"+String.fromCodePoint(x),this.state=20)}sCDataEnding2(){var x;const _=this.getCodeNorm();switch(_){case 62:(x=this.cdataHandler)===null||x===void 0||x.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(_),this.state=20}}sPIFirstChar(){const x=this.getCodeNorm();this.nameStartCheck(x)?(this.piTarget+=String.fromCodePoint(x),this.state=24):x===63||l(x)?(this.fail("processing instruction without a target."),this.state=x===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(x),this.state=24)}sPIRest(){const{chunk:x,i:_}=this;for(;;){const S=this.getCodeNorm();if(S===-1)return void(this.piTarget+=x.slice(_));if(!this.nameCheck(S)){this.piTarget+=x.slice(_,this.prevI);const k=S===63;k||l(S)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=k?33:27):this.state=k?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(S));break}}}sPIBody(){if(this.text.length===0){const x=this.getCodeNorm();x===63?this.state=26:l(x)||(this.text=String.fromCodePoint(x))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var x;const _=this.getCodeNorm();if(_===62){const{piTarget:S}=this;S.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(x=this.piHandler)===null||x===void 0||x.call(this,{target:S,body:this.text}),this.piTarget=this.text="",this.state=13}else _===63?this.text+="?":(this.text+="?"+String.fromCodePoint(_),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const x=this.skipSpaces();x!==63?x!==-1&&(this.state=28,this.name=String.fromCodePoint(x)):this.state=33}sXMLDeclName(){const x=this.captureTo(F);if(x===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(x)||x===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=x===61?30:29}}sXMLDeclEq(){const x=this.getCodeNorm();if(x===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(x)||(x!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const x=this.getCodeNorm();if(x===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(x)||(V(x)?this.q=x:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const x=this.captureTo([this.q,63]);if(x===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(x===-1)return;const _=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const S=_;this.xmlDecl.version=S,/^1\.[0-9]+$/.test(S)?this.opt.forceXMLVersion||this.setXMLVersion(S):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(_)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=_;break;case"standalone":_!=="yes"&&_!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=_}this.name="",this.state=32}sXMLDeclSeparator(){const x=this.getCodeNorm();x!==63?(l(x)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var x;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(x=this.xmldeclHandler)===null||x===void 0||x.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var x;const _=this.captureNameChars();if(_===-1)return;const S=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=S.ns=Object.create(null)),(x=this.openTagStartHandler)===null||x===void 0||x.call(this,S),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),_){case 62:this.openTag();break;case 47:this.state=35;break;default:l(_)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const x=this.skipSpaces();x!==-1&&(u(x)?(this.unget(),this.state=37):x===62?this.openTag():x===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const x=this.captureNameChars();x===61?this.state=39:l(x)?this.state=38:x===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):x!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const x=this.skipSpaces();switch(x){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",x===62?this.openTag():u(x)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const x=this.getCodeNorm();V(x)?(this.q=x,this.state=40):l(x)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:x,chunk:_}=this;let{i:S}=this;for(;;)switch(this.getCode()){case x:return this.pushAttrib(this.name,this.text+_.slice(S,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=_.slice(S,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=_.slice(S,this.prevI)+" ",S=this.i;break;case 60:return this.text+=_.slice(S,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=_.slice(S))}}sAttribValueClosed(){const x=this.getCodeNorm();l(x)?this.state=36:x===62?this.openTag():x===47?this.state=35:u(x)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const x=this.captureTo($);switch(x){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",x===62?this.openTag():this.state=36}}sCloseTag(){const x=this.captureNameChars();x===62?this.closeTag():l(x)?this.state=44:x!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:x,forbiddenState:_}=this;const{chunk:S,textHandler:k}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,k!==void 0){const{text:j}=this,L=S.slice(x,this.prevI);j.length!==0?(k(j+L),this.text=""):L.length!==0&&k(L)}_=0;break e;case 38:this.state=14,this.entityReturnState=13,k!==void 0&&(this.text+=S.slice(x,this.prevI)),_=0;break e;case 93:switch(_){case 0:_=1;break;case 1:_=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:_===2&&this.fail('the string "]]>" is disallowed in char data.'),_=0;break;case-2:k!==void 0&&(this.text+=S.slice(x,this.prevI)+`
`),x=this.i,_=0;break;case-1:k!==void 0&&(this.text+=S.slice(x));break e;default:_=0}this.forbiddenState=_}handleTextOutsideRoot(){let{i:x}=this;const{chunk:_,textHandler:S}=this;let k=!1;e:for(;;){const j=this.getCode();switch(j){case 60:if(this.state=15,S!==void 0){const{text:L}=this,D=_.slice(x,this.prevI);L.length!==0?(S(L+D),this.text=""):D.length!==0&&S(D)}break e;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=_.slice(x,this.prevI)),k=!0;break e;case-2:S!==void 0&&(this.text+=_.slice(x,this.prevI)+`
`),x=this.i;break;case-1:S!==void 0&&(this.text+=_.slice(x));break e;default:l(j)||(k=!0)}}k&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(x,_){var S;const{prefix:k,local:j}=this.qname(x),L={name:x,prefix:k,local:j,value:_};if(this.attribList.push(L),(S=this.attributeHandler)===null||S===void 0||S.call(this,L),k==="xmlns"){const D=_.trim();this.currentXMLVersion==="1.0"&&D===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[j]=D,U(this,j,D)}else if(x==="xmlns"){const D=_.trim();this.topNS[""]=D,U(this,"",D)}}pushAttribPlain(x,_){var S;const k={name:x,value:_};this.attribList.push(k),(S=this.attributeHandler)===null||S===void 0||S.call(this,k)}end(){var x,_;this.sawRoot||this.fail("document must contain a root element.");const{tags:S}=this;for(;S.length>0;){const j=S.pop();this.fail("unclosed tag: "+j.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:k}=this;return k.length!==0&&((x=this.textHandler)===null||x===void 0||x.call(this,k),this.text=""),this._closed=!0,(_=this.endHandler)===null||_===void 0||_.call(this),this._init(),this}resolve(x){var _,S;let k=this.topNS[x];if(k!==void 0)return k;const{tags:j}=this;for(let L=j.length-1;L>=0;L--)if(k=j[L].ns[x],k!==void 0)return k;return k=this.ns[x],k!==void 0?k:(S=(_=this.opt).resolvePrefix)===null||S===void 0?void 0:S.call(_,x)}qname(x){const _=x.indexOf(":");if(_===-1)return{prefix:"",local:x};const S=x.slice(_+1),k=x.slice(0,_);return(k===""||S===""||S.includes(":"))&&this.fail(`malformed name: ${x}.`),{prefix:k,local:S}}processAttribsNS(){var x;const{attribList:_}=this,S=this.tag;{const{prefix:L,local:D}=this.qname(S.name);S.prefix=L,S.local=D;const q=S.uri=(x=this.resolve(L))!==null&&x!==void 0?x:"";L!==""&&(L==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),q===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(L)}.`),S.uri=L))}if(_.length===0)return;const{attributes:k}=S,j=new Set;for(const L of _){const{name:D,prefix:q,local:W}=L;let Q,z;q===""?(Q=D==="xmlns"?w:"",z=D):(Q=this.resolve(q),Q===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(q)}.`),Q=q),z=`{${Q}}${W}`),j.has(z)&&this.fail(`duplicate attribute: ${z}.`),j.add(z),L.uri=Q,k[D]=L}this.attribList=[]}processAttribsPlain(){const{attribList:x}=this,_=this.tag.attributes;for(const{name:S,value:k}of x)_[S]!==void 0&&this.fail(`duplicate attribute: ${S}.`),_[S]=k;this.attribList=[]}openTag(){var x;this.processAttribs();const{tags:_}=this,S=this.tag;S.isSelfClosing=!1,(x=this.openTagHandler)===null||x===void 0||x.call(this,S),_.push(S),this.state=13,this.name=""}openSelfClosingTag(){var x,_,S;this.processAttribs();const{tags:k}=this,j=this.tag;j.isSelfClosing=!0,(x=this.openTagHandler)===null||x===void 0||x.call(this,j),(_=this.closeTagHandler)===null||_===void 0||_.call(this,j),(this.tag=(S=k[k.length-1])!==null&&S!==void 0?S:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:x,name:_}=this;if(this.state=13,this.name="",_==="")return this.fail("weird empty close tag."),void(this.text+="</>");const S=this.closeTagHandler;let k=x.length;for(;k-- >0;){const j=this.tag=x.pop();if(this.topNS=j.ns,S==null||S(j),j.name===_)break;this.fail("unexpected close tag.")}k===0?this.closedRoot=!0:k<0&&(this.fail(`unmatched closing tag: ${_}.`),this.text+=`</${_}>`)}parseEntity(x){if(x[0]!=="#"){const S=this.ENTITIES[x];return S!==void 0?S:(this.fail(this.isName(x)?"undefined entity.":"disallowed character in entity name."),`&${x};`)}let _=NaN;return x[1]==="x"&&/^#x[0-9a-f]+$/i.test(x)?_=parseInt(x.slice(2),16):/^#[0-9]+$/.test(x)&&(_=parseInt(x.slice(1),10)),this.isChar(_)?String.fromCodePoint(_):(this.fail("malformed character entity."),`&${x};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,n,i){var s=e("safe-buffer").Buffer;function a(c,l){this._block=s.alloc(c),this._finalSize=l,this._blockSize=c,this._len=0}a.prototype.update=function(c,l){typeof c=="string"&&(l=l||"utf8",c=s.from(c,l));for(var o=this._block,u=this._blockSize,f=c.length,d=this._len,h=0;h<f;){for(var g=d%u,b=Math.min(f-h,u-g),m=0;m<b;m++)o[g+m]=c[h+m];h+=b,(d+=b)%u==0&&this._update(o)}return this._len+=f,this},a.prototype.digest=function(c){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var o=8*this._len;if(o<=4294967295)this._block.writeUInt32BE(o,this._blockSize-4);else{var u=(4294967295&o)>>>0,f=(o-u)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var d=this._hash();return c?d.toString(c):d},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=a},{"safe-buffer":494}],498:[function(e,n,i){var s=n.exports=function(a){a=a.toLowerCase();var c=s[a];if(!c)throw new Error(a+" is not supported (we accept pull requests)");return new c};s.sha=e("./sha"),s.sha1=e("./sha1"),s.sha224=e("./sha224"),s.sha256=e("./sha256"),s.sha384=e("./sha384"),s.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,n,i){var s=e("inherits"),a=e("./hash"),c=e("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,a.call(this,64,56)}function f(h){return h<<30|h>>>2}function d(h,g,b,m){return h===0?g&b|~g&m:h===2?g&b|g&m|b&m:g^b^m}s(u,a),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(h){for(var g,b=this._w,m=0|this._a,v=0|this._b,y=0|this._c,w=0|this._d,T=0|this._e,I=0;I<16;++I)b[I]=h.readInt32BE(4*I);for(;I<80;++I)b[I]=b[I-3]^b[I-8]^b[I-14]^b[I-16];for(var V=0;V<80;++V){var B=~~(V/20),A=0|((g=m)<<5|g>>>27)+d(B,v,y,w)+T+b[V]+l[B];T=w,w=y,y=f(v),v=m,m=A}this._a=m+this._a|0,this._b=v+this._b|0,this._c=y+this._c|0,this._d=w+this._d|0,this._e=T+this._e|0},u.prototype._hash=function(){var h=c.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,n,i){var s=e("inherits"),a=e("./hash"),c=e("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,a.call(this,64,56)}function f(g){return g<<5|g>>>27}function d(g){return g<<30|g>>>2}function h(g,b,m,v){return g===0?b&m|~b&v:g===2?b&m|b&v|m&v:b^m^v}s(u,a),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(g){for(var b,m=this._w,v=0|this._a,y=0|this._b,w=0|this._c,T=0|this._d,I=0|this._e,V=0;V<16;++V)m[V]=g.readInt32BE(4*V);for(;V<80;++V)m[V]=(b=m[V-3]^m[V-8]^m[V-14]^m[V-16])<<1|b>>>31;for(var B=0;B<80;++B){var A=~~(B/20),M=f(v)+h(A,y,w,T)+I+m[B]+l[A]|0;I=T,T=w,w=d(y),y=v,v=M}this._a=v+this._a|0,this._b=y+this._b|0,this._c=w+this._c|0,this._d=T+this._d|0,this._e=I+this._e|0},u.prototype._hash=function(){var g=c.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,n,i){var s=e("inherits"),a=e("./sha256"),c=e("./hash"),l=e("safe-buffer").Buffer,o=new Array(64);function u(){this.init(),this._w=o,c.call(this,64,56)}s(u,a),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var f=l.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},n.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,n,i){var s=e("inherits"),a=e("./hash"),c=e("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function u(){this.init(),this._w=o,a.call(this,64,56)}function f(m,v,y){return y^m&(v^y)}function d(m,v,y){return m&v|y&(m|v)}function h(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function g(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function b(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}s(u,a),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(m){for(var v,y=this._w,w=0|this._a,T=0|this._b,I=0|this._c,V=0|this._d,B=0|this._e,A=0|this._f,M=0|this._g,F=0|this._h,$=0;$<16;++$)y[$]=m.readInt32BE(4*$);for(;$<64;++$)y[$]=0|(((v=y[$-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+y[$-7]+b(y[$-15])+y[$-16];for(var U=0;U<64;++U){var E=F+g(B)+f(B,A,M)+l[U]+y[U]|0,P=h(w)+d(w,T,I)|0;F=M,M=A,A=B,B=V+E|0,V=I,I=T,T=w,w=E+P|0}this._a=w+this._a|0,this._b=T+this._b|0,this._c=I+this._c|0,this._d=V+this._d|0,this._e=B+this._e|0,this._f=A+this._f|0,this._g=M+this._g|0,this._h=F+this._h|0},u.prototype._hash=function(){var m=c.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,n,i){var s=e("inherits"),a=e("./sha512"),c=e("./hash"),l=e("safe-buffer").Buffer,o=new Array(160);function u(){this.init(),this._w=o,c.call(this,128,112)}s(u,a),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var f=l.allocUnsafe(48);function d(h,g,b){f.writeInt32BE(h,b),f.writeInt32BE(g,b+4)}return d(this._ah,this._al,0),d(this._bh,this._bl,8),d(this._ch,this._cl,16),d(this._dh,this._dl,24),d(this._eh,this._el,32),d(this._fh,this._fl,40),f},n.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,n,i){var s=e("inherits"),a=e("./hash"),c=e("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function u(){this.init(),this._w=o,a.call(this,128,112)}function f(T,I,V){return V^T&(I^V)}function d(T,I,V){return T&I|V&(T|I)}function h(T,I){return(T>>>28|I<<4)^(I>>>2|T<<30)^(I>>>7|T<<25)}function g(T,I){return(T>>>14|I<<18)^(T>>>18|I<<14)^(I>>>9|T<<23)}function b(T,I){return(T>>>1|I<<31)^(T>>>8|I<<24)^T>>>7}function m(T,I){return(T>>>1|I<<31)^(T>>>8|I<<24)^(T>>>7|I<<25)}function v(T,I){return(T>>>19|I<<13)^(I>>>29|T<<3)^T>>>6}function y(T,I){return(T>>>19|I<<13)^(I>>>29|T<<3)^(T>>>6|I<<26)}function w(T,I){return T>>>0<I>>>0?1:0}s(u,a),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(T){for(var I=this._w,V=0|this._ah,B=0|this._bh,A=0|this._ch,M=0|this._dh,F=0|this._eh,$=0|this._fh,U=0|this._gh,E=0|this._hh,P=0|this._al,N=0|this._bl,x=0|this._cl,_=0|this._dl,S=0|this._el,k=0|this._fl,j=0|this._gl,L=0|this._hl,D=0;D<32;D+=2)I[D]=T.readInt32BE(4*D),I[D+1]=T.readInt32BE(4*D+4);for(;D<160;D+=2){var q=I[D-30],W=I[D-30+1],Q=b(q,W),z=m(W,q),K=v(q=I[D-4],W=I[D-4+1]),O=y(W,q),R=I[D-14],H=I[D-14+1],Y=I[D-32],J=I[D-32+1],Z=z+H|0,te=Q+R+w(Z,z)|0;te=(te=te+K+w(Z=Z+O|0,O)|0)+Y+w(Z=Z+J|0,J)|0,I[D]=te,I[D+1]=Z}for(var oe=0;oe<160;oe+=2){te=I[oe],Z=I[oe+1];var le=d(V,B,A),ee=d(P,N,x),se=h(V,P),ie=h(P,V),ue=g(F,S),ce=g(S,F),fe=l[oe],ge=l[oe+1],ye=f(F,$,U),we=f(S,k,j),Ne=L+ce|0,Ee=E+ue+w(Ne,L)|0;Ee=(Ee=(Ee=Ee+ye+w(Ne=Ne+we|0,we)|0)+fe+w(Ne=Ne+ge|0,ge)|0)+te+w(Ne=Ne+Z|0,Z)|0;var Ie=ie+ee|0,qe=se+le+w(Ie,ie)|0;E=U,L=j,U=$,j=k,$=F,k=S,F=M+Ee+w(S=_+Ne|0,_)|0,M=A,_=x,A=B,x=N,B=V,N=P,V=Ee+qe+w(P=Ne+Ie|0,Ne)|0}this._al=this._al+P|0,this._bl=this._bl+N|0,this._cl=this._cl+x|0,this._dl=this._dl+_|0,this._el=this._el+S|0,this._fl=this._fl+k|0,this._gl=this._gl+j|0,this._hl=this._hl+L|0,this._ah=this._ah+V+w(this._al,P)|0,this._bh=this._bh+B+w(this._bl,N)|0,this._ch=this._ch+A+w(this._cl,x)|0,this._dh=this._dh+M+w(this._dl,_)|0,this._eh=this._eh+F+w(this._el,S)|0,this._fh=this._fh+$+w(this._fl,k)|0,this._gh=this._gh+U+w(this._gl,j)|0,this._hh=this._hh+E+w(this._hl,L)|0},u.prototype._hash=function(){var T=c.allocUnsafe(64);function I(V,B,A){T.writeInt32BE(V,A),T.writeInt32BE(B,A+4)}return I(this._ah,this._al,0),I(this._bh,this._bl,8),I(this._ch,this._cl,16),I(this._dh,this._dl,24),I(this._eh,this._el,32),I(this._fh,this._fl,40),I(this._gh,this._gl,48),I(this._hh,this._hl,56),T},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,n,i){n.exports=a;var s=e("events").EventEmitter;function a(){s.call(this)}e("inherits")(a,s),a.Readable=e("readable-stream/readable.js"),a.Writable=e("readable-stream/writable.js"),a.Duplex=e("readable-stream/duplex.js"),a.Transform=e("readable-stream/transform.js"),a.PassThrough=e("readable-stream/passthrough.js"),a.Stream=a,a.prototype.pipe=function(c,l){var o=this;function u(v){c.writable&&c.write(v)===!1&&o.pause&&o.pause()}function f(){o.readable&&o.resume&&o.resume()}o.on("data",u),c.on("drain",f),c._isStdio||l&&l.end===!1||(o.on("end",h),o.on("close",g));var d=!1;function h(){d||(d=!0,c.end())}function g(){d||(d=!0,typeof c.destroy=="function"&&c.destroy())}function b(v){if(m(),s.listenerCount(this,"error")===0)throw v}function m(){o.removeListener("data",u),c.removeListener("drain",f),o.removeListener("end",h),o.removeListener("close",g),o.removeListener("error",b),c.removeListener("error",b),o.removeListener("end",m),o.removeListener("close",m),c.removeListener("close",m)}return o.on("error",b),c.on("error",b),o.on("end",m),o.on("close",m),c.on("close",m),c.emit("pipe",o),c}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,n,i){var s={}.toString;n.exports=Array.isArray||function(a){return s.call(a)=="[object Array]"}},{}],507:[function(e,n,i){n.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,n,i){var s=e("process-nextick-args"),a=Object.keys||function(m){var v=[];for(var y in m)v.push(y);return v};n.exports=h;var c=Object.create(e("core-util-is"));c.inherits=e("inherits");var l=e("./_stream_readable"),o=e("./_stream_writable");c.inherits(h,l);for(var u=a(o.prototype),f=0;f<u.length;f++){var d=u[f];h.prototype[d]||(h.prototype[d]=o.prototype[d])}function h(m){if(!(this instanceof h))return new h(m);l.call(this,m),o.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||s.nextTick(b,this)}function b(m){m.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),h.prototype._destroy=function(m,v){this.push(null),this.end(),s.nextTick(v,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,n,i){n.exports=c;var s=e("./_stream_transform"),a=Object.create(e("core-util-is"));function c(l){if(!(this instanceof c))return new c(l);s.call(this,l)}a.inherits=e("inherits"),a.inherits(c,s),c.prototype._transform=function(l,o,u){u(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,n,i){(function(s,a){(function(){var c=e("process-nextick-args");n.exports=V;var l,o=e("isarray");V.ReadableState=I,e("events").EventEmitter;var u=function(L,D){return L.listeners(D).length},f=e("./internal/streams/stream"),d=e("safe-buffer").Buffer,h=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(e("core-util-is"));g.inherits=e("inherits");var b=e("util"),m=void 0;m=b&&b.debuglog?b.debuglog("stream"):function(){};var v,y=e("./internal/streams/BufferList"),w=e("./internal/streams/destroy");g.inherits(V,f);var T=["error","close","destroy","pause","resume"];function I(L,D){L=L||{};var q=D instanceof(l=l||e("./_stream_duplex"));this.objectMode=!!L.objectMode,q&&(this.objectMode=this.objectMode||!!L.readableObjectMode);var W=L.highWaterMark,Q=L.readableHighWaterMark,z=this.objectMode?16:16384;this.highWaterMark=W||W===0?W:q&&(Q||Q===0)?Q:z,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(v||(v=e("string_decoder/").StringDecoder),this.decoder=new v(L.encoding),this.encoding=L.encoding)}function V(L){if(l=l||e("./_stream_duplex"),!(this instanceof V))return new V(L);this._readableState=new I(L,this),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),f.call(this)}function B(L,D,q,W,Q){var z,K=L._readableState;return D===null?(K.reading=!1,function(O,R){if(!R.ended){if(R.decoder){var H=R.decoder.end();H&&H.length&&(R.buffer.push(H),R.length+=R.objectMode?1:H.length)}R.ended=!0,F(O)}}(L,K)):(Q||(z=function(O,R){var H;Y=R,d.isBuffer(Y)||Y instanceof h||typeof R=="string"||R===void 0||O.objectMode||(H=new TypeError("Invalid non-string/buffer chunk"));var Y;return H}(K,D)),z?L.emit("error",z):K.objectMode||D&&D.length>0?(typeof D=="string"||K.objectMode||Object.getPrototypeOf(D)===d.prototype||(D=function(O){return d.from(O)}(D)),W?K.endEmitted?L.emit("error",new Error("stream.unshift() after end event")):A(L,K,D,!0):K.ended?L.emit("error",new Error("stream.push() after EOF")):(K.reading=!1,K.decoder&&!q?(D=K.decoder.write(D),K.objectMode||D.length!==0?A(L,K,D,!1):U(L,K)):A(L,K,D,!1))):W||(K.reading=!1)),function(O){return!O.ended&&(O.needReadable||O.length<O.highWaterMark||O.length===0)}(K)}function A(L,D,q,W){D.flowing&&D.length===0&&!D.sync?(L.emit("data",q),L.read(0)):(D.length+=D.objectMode?1:q.length,W?D.buffer.unshift(q):D.buffer.push(q),D.needReadable&&F(L)),U(L,D)}Object.defineProperty(V.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),V.prototype.destroy=w.destroy,V.prototype._undestroy=w.undestroy,V.prototype._destroy=function(L,D){this.push(null),D(L)},V.prototype.push=function(L,D){var q,W=this._readableState;return W.objectMode?q=!0:typeof L=="string"&&((D=D||W.defaultEncoding)!==W.encoding&&(L=d.from(L,D),D=""),q=!0),B(this,L,D,!1,q)},V.prototype.unshift=function(L){return B(this,L,null,!0,!1)},V.prototype.isPaused=function(){return this._readableState.flowing===!1},V.prototype.setEncoding=function(L){return v||(v=e("string_decoder/").StringDecoder),this._readableState.decoder=new v(L),this._readableState.encoding=L,this};function M(L,D){return L<=0||D.length===0&&D.ended?0:D.objectMode?1:L!=L?D.flowing&&D.length?D.buffer.head.data.length:D.length:(L>D.highWaterMark&&(D.highWaterMark=function(q){return q>=8388608?q=8388608:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}(L)),L<=D.length?L:D.ended?D.length:(D.needReadable=!0,0))}function F(L){var D=L._readableState;D.needReadable=!1,D.emittedReadable||(m("emitReadable",D.flowing),D.emittedReadable=!0,D.sync?c.nextTick($,L):$(L))}function $(L){m("emit readable"),L.emit("readable"),x(L)}function U(L,D){D.readingMore||(D.readingMore=!0,c.nextTick(E,L,D))}function E(L,D){for(var q=D.length;!D.reading&&!D.flowing&&!D.ended&&D.length<D.highWaterMark&&(m("maybeReadMore read 0"),L.read(0),q!==D.length);)q=D.length;D.readingMore=!1}function P(L){m("readable nexttick read 0"),L.read(0)}function N(L,D){D.reading||(m("resume read 0"),L.read(0)),D.resumeScheduled=!1,D.awaitDrain=0,L.emit("resume"),x(L),D.flowing&&!D.reading&&L.read(0)}function x(L){var D=L._readableState;for(m("flow",D.flowing);D.flowing&&L.read()!==null;);}function _(L,D){return D.length===0?null:(D.objectMode?q=D.buffer.shift():!L||L>=D.length?(q=D.decoder?D.buffer.join(""):D.buffer.length===1?D.buffer.head.data:D.buffer.concat(D.length),D.buffer.clear()):q=function(W,Q,z){var K;return W<Q.head.data.length?(K=Q.head.data.slice(0,W),Q.head.data=Q.head.data.slice(W)):K=W===Q.head.data.length?Q.shift():z?function(O,R){var H=R.head,Y=1,J=H.data;for(O-=J.length;H=H.next;){var Z=H.data,te=O>Z.length?Z.length:O;if(te===Z.length?J+=Z:J+=Z.slice(0,O),(O-=te)===0){te===Z.length?(++Y,H.next?R.head=H.next:R.head=R.tail=null):(R.head=H,H.data=Z.slice(te));break}++Y}return R.length-=Y,J}(W,Q):function(O,R){var H=d.allocUnsafe(O),Y=R.head,J=1;for(Y.data.copy(H),O-=Y.data.length;Y=Y.next;){var Z=Y.data,te=O>Z.length?Z.length:O;if(Z.copy(H,H.length-O,0,te),(O-=te)===0){te===Z.length?(++J,Y.next?R.head=Y.next:R.head=R.tail=null):(R.head=Y,Y.data=Z.slice(te));break}++J}return R.length-=J,H}(W,Q),K}(L,D.buffer,D.decoder),q);var q}function S(L){var D=L._readableState;if(D.length>0)throw new Error('"endReadable()" called on non-empty stream');D.endEmitted||(D.ended=!0,c.nextTick(k,D,L))}function k(L,D){L.endEmitted||L.length!==0||(L.endEmitted=!0,D.readable=!1,D.emit("end"))}function j(L,D){for(var q=0,W=L.length;q<W;q++)if(L[q]===D)return q;return-1}V.prototype.read=function(L){m("read",L),L=parseInt(L,10);var D=this._readableState,q=L;if(L!==0&&(D.emittedReadable=!1),L===0&&D.needReadable&&(D.length>=D.highWaterMark||D.ended))return m("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?S(this):F(this),null;if((L=M(L,D))===0&&D.ended)return D.length===0&&S(this),null;var W,Q=D.needReadable;return m("need readable",Q),(D.length===0||D.length-L<D.highWaterMark)&&m("length less than watermark",Q=!0),D.ended||D.reading?m("reading or ended",Q=!1):Q&&(m("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(L=M(q,D))),(W=L>0?_(L,D):null)===null?(D.needReadable=!0,L=0):D.length-=L,D.length===0&&(D.ended||(D.needReadable=!0),q!==L&&D.ended&&S(this)),W!==null&&this.emit("data",W),W},V.prototype._read=function(L){this.emit("error",new Error("_read() is not implemented"))},V.prototype.pipe=function(L,D){var q=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=L;break;case 1:W.pipes=[W.pipes,L];break;default:W.pipes.push(L)}W.pipesCount+=1,m("pipe count=%d opts=%j",W.pipesCount,D);var Q=(!D||D.end!==!1)&&L!==s.stdout&&L!==s.stderr?K:oe;function z(le,ee){m("onunpipe"),le===q&&ee&&ee.hasUnpiped===!1&&(ee.hasUnpiped=!0,m("cleanup"),L.removeListener("close",Z),L.removeListener("finish",te),L.removeListener("drain",O),L.removeListener("error",J),L.removeListener("unpipe",z),q.removeListener("end",K),q.removeListener("end",oe),q.removeListener("data",Y),R=!0,!W.awaitDrain||L._writableState&&!L._writableState.needDrain||O())}function K(){m("onend"),L.end()}W.endEmitted?c.nextTick(Q):q.once("end",Q),L.on("unpipe",z);var O=function(le){return function(){var ee=le._readableState;m("pipeOnDrain",ee.awaitDrain),ee.awaitDrain&&ee.awaitDrain--,ee.awaitDrain===0&&u(le,"data")&&(ee.flowing=!0,x(le))}}(q);L.on("drain",O);var R=!1,H=!1;function Y(le){m("ondata"),H=!1,L.write(le)!==!1||H||((W.pipesCount===1&&W.pipes===L||W.pipesCount>1&&j(W.pipes,L)!==-1)&&!R&&(m("false write response, pause",W.awaitDrain),W.awaitDrain++,H=!0),q.pause())}function J(le){m("onerror",le),oe(),L.removeListener("error",J),u(L,"error")===0&&L.emit("error",le)}function Z(){L.removeListener("finish",te),oe()}function te(){m("onfinish"),L.removeListener("close",Z),oe()}function oe(){m("unpipe"),q.unpipe(L)}return q.on("data",Y),function(le,ee,se){if(typeof le.prependListener=="function")return le.prependListener(ee,se);le._events&&le._events[ee]?o(le._events[ee])?le._events[ee].unshift(se):le._events[ee]=[se,le._events[ee]]:le.on(ee,se)}(L,"error",J),L.once("close",Z),L.once("finish",te),L.emit("pipe",q),W.flowing||(m("pipe resume"),q.resume()),L},V.prototype.unpipe=function(L){var D=this._readableState,q={hasUnpiped:!1};if(D.pipesCount===0)return this;if(D.pipesCount===1)return L&&L!==D.pipes||(L||(L=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,L&&L.emit("unpipe",this,q)),this;if(!L){var W=D.pipes,Q=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var z=0;z<Q;z++)W[z].emit("unpipe",this,{hasUnpiped:!1});return this}var K=j(D.pipes,L);return K===-1||(D.pipes.splice(K,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),L.emit("unpipe",this,q)),this},V.prototype.on=function(L,D){var q=f.prototype.on.call(this,L,D);if(L==="data")this._readableState.flowing!==!1&&this.resume();else if(L==="readable"){var W=this._readableState;W.endEmitted||W.readableListening||(W.readableListening=W.needReadable=!0,W.emittedReadable=!1,W.reading?W.length&&F(this):c.nextTick(P,this))}return q},V.prototype.addListener=V.prototype.on,V.prototype.resume=function(){var L=this._readableState;return L.flowing||(m("resume"),L.flowing=!0,function(D,q){q.resumeScheduled||(q.resumeScheduled=!0,c.nextTick(N,D,q))}(this,L)),this},V.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},V.prototype.wrap=function(L){var D=this,q=this._readableState,W=!1;for(var Q in L.on("end",function(){if(m("wrapped end"),q.decoder&&!q.ended){var K=q.decoder.end();K&&K.length&&D.push(K)}D.push(null)}),L.on("data",function(K){m("wrapped data"),q.decoder&&(K=q.decoder.write(K)),q.objectMode&&K==null||(q.objectMode||K&&K.length)&&(D.push(K)||(W=!0,L.pause()))}),L)this[Q]===void 0&&typeof L[Q]=="function"&&(this[Q]=function(K){return function(){return L[K].apply(L,arguments)}}(Q));for(var z=0;z<T.length;z++)L.on(T[z],this.emit.bind(this,T[z]));return this._read=function(K){m("wrapped _read",K),W&&(W=!1,L.resume())},this},Object.defineProperty(V.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),V._fromList=_}).call(this)}).call(this,e("_process"),typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,n,i){n.exports=l;var s=e("./_stream_duplex"),a=Object.create(e("core-util-is"));function c(f,d){var h=this._transformState;h.transforming=!1;var g=h.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,d!=null&&this.push(d),g(f);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function l(f){if(!(this instanceof l))return new l(f);s.call(this,f),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",o)}function o(){var f=this;typeof this._flush=="function"?this._flush(function(d,h){u(f,d,h)}):u(this,null,null)}function u(f,d,h){if(d)return f.emit("error",d);if(h!=null&&f.push(h),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}a.inherits=e("inherits"),a.inherits(l,s),l.prototype.push=function(f,d){return this._transformState.needTransform=!1,s.prototype.push.call(this,f,d)},l.prototype._transform=function(f,d,h){throw new Error("_transform() is not implemented")},l.prototype._write=function(f,d,h){var g=this._transformState;if(g.writecb=h,g.writechunk=f,g.writeencoding=d,!g.transforming){var b=this._readableState;(g.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},l.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},l.prototype._destroy=function(f,d){var h=this;s.prototype._destroy.call(this,f,function(g){d(g),h.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,n,i){(function(s,a,c){(function(){var l=e("process-nextick-args");function o(U){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(P,N,x){var _=P.entry;for(P.entry=null;_;){var S=_.callback;N.pendingcb--,S(x),_=_.next}N.corkedRequestsFree.next=P})(E,U)}}n.exports=I;var u,f=!s.browser&&["v0.10","v0.9."].indexOf(s.version.slice(0,5))>-1?c:l.nextTick;I.WritableState=T;var d=Object.create(e("core-util-is"));d.inherits=e("inherits");var h={deprecate:e("util-deprecate")},g=e("./internal/streams/stream"),b=e("safe-buffer").Buffer,m=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,y=e("./internal/streams/destroy");function w(){}function T(U,E){u=u||e("./_stream_duplex"),U=U||{};var P=E instanceof u;this.objectMode=!!U.objectMode,P&&(this.objectMode=this.objectMode||!!U.writableObjectMode);var N=U.highWaterMark,x=U.writableHighWaterMark,_=this.objectMode?16:16384;this.highWaterMark=N||N===0?N:P&&(x||x===0)?x:_,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var S=U.decodeStrings===!1;this.decodeStrings=!S,this.defaultEncoding=U.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(k){(function(j,L){var D=j._writableState,q=D.sync,W=D.writecb;if(function(z){z.writing=!1,z.writecb=null,z.length-=z.writelen,z.writelen=0}(D),L)(function(z,K,O,R,H){--K.pendingcb,O?(l.nextTick(H,R),l.nextTick($,z,K),z._writableState.errorEmitted=!0,z.emit("error",R)):(H(R),z._writableState.errorEmitted=!0,z.emit("error",R),$(z,K))})(j,D,q,L,W);else{var Q=M(D);Q||D.corked||D.bufferProcessing||!D.bufferedRequest||A(j,D),q?f(B,j,D,Q,W):B(j,D,Q,W)}})(E,k)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function I(U){if(u=u||e("./_stream_duplex"),!(v.call(I,this)||this instanceof u))return new I(U);this._writableState=new T(U,this),this.writable=!0,U&&(typeof U.write=="function"&&(this._write=U.write),typeof U.writev=="function"&&(this._writev=U.writev),typeof U.destroy=="function"&&(this._destroy=U.destroy),typeof U.final=="function"&&(this._final=U.final)),g.call(this)}function V(U,E,P,N,x,_,S){E.writelen=N,E.writecb=S,E.writing=!0,E.sync=!0,P?U._writev(x,E.onwrite):U._write(x,_,E.onwrite),E.sync=!1}function B(U,E,P,N){P||function(x,_){_.length===0&&_.needDrain&&(_.needDrain=!1,x.emit("drain"))}(U,E),E.pendingcb--,N(),$(U,E)}function A(U,E){E.bufferProcessing=!0;var P=E.bufferedRequest;if(U._writev&&P&&P.next){var N=E.bufferedRequestCount,x=new Array(N),_=E.corkedRequestsFree;_.entry=P;for(var S=0,k=!0;P;)x[S]=P,P.isBuf||(k=!1),P=P.next,S+=1;x.allBuffers=k,V(U,E,!0,E.length,x,"",_.finish),E.pendingcb++,E.lastBufferedRequest=null,_.next?(E.corkedRequestsFree=_.next,_.next=null):E.corkedRequestsFree=new o(E),E.bufferedRequestCount=0}else{for(;P;){var j=P.chunk,L=P.encoding,D=P.callback;if(V(U,E,!1,E.objectMode?1:j.length,j,L,D),P=P.next,E.bufferedRequestCount--,E.writing)break}P===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=P,E.bufferProcessing=!1}function M(U){return U.ending&&U.length===0&&U.bufferedRequest===null&&!U.finished&&!U.writing}function F(U,E){U._final(function(P){E.pendingcb--,P&&U.emit("error",P),E.prefinished=!0,U.emit("prefinish"),$(U,E)})}function $(U,E){var P=M(E);return P&&(function(N,x){x.prefinished||x.finalCalled||(typeof N._final=="function"?(x.pendingcb++,x.finalCalled=!0,l.nextTick(F,N,x)):(x.prefinished=!0,N.emit("prefinish")))}(U,E),E.pendingcb===0&&(E.finished=!0,U.emit("finish"))),P}d.inherits(I,g),T.prototype.getBuffer=function(){for(var U=this.bufferedRequest,E=[];U;)E.push(U),U=U.next;return E},function(){try{Object.defineProperty(T.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(U){return!!v.call(this,U)||this===I&&U&&U._writableState instanceof T}})):v=function(U){return U instanceof this},I.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},I.prototype.write=function(U,E,P){var N,x=this._writableState,_=!1,S=!x.objectMode&&(N=U,b.isBuffer(N)||N instanceof m);return S&&!b.isBuffer(U)&&(U=function(k){return b.from(k)}(U)),typeof E=="function"&&(P=E,E=null),S?E="buffer":E||(E=x.defaultEncoding),typeof P!="function"&&(P=w),x.ended?function(k,j){var L=new Error("write after end");k.emit("error",L),l.nextTick(j,L)}(this,P):(S||function(k,j,L,D){var q=!0,W=!1;return L===null?W=new TypeError("May not write null values to stream"):typeof L=="string"||L===void 0||j.objectMode||(W=new TypeError("Invalid non-string/buffer chunk")),W&&(k.emit("error",W),l.nextTick(D,W),q=!1),q}(this,x,U,P))&&(x.pendingcb++,_=function(k,j,L,D,q,W){if(!L){var Q=function(R,H,Y){return R.objectMode||R.decodeStrings===!1||typeof H!="string"||(H=b.from(H,Y)),H}(j,D,q);D!==Q&&(L=!0,q="buffer",D=Q)}var z=j.objectMode?1:D.length;j.length+=z;var K=j.length<j.highWaterMark;if(K||(j.needDrain=!0),j.writing||j.corked){var O=j.lastBufferedRequest;j.lastBufferedRequest={chunk:D,encoding:q,isBuf:L,callback:W,next:null},O?O.next=j.lastBufferedRequest:j.bufferedRequest=j.lastBufferedRequest,j.bufferedRequestCount+=1}else V(k,j,!1,z,D,q,W);return K}(this,x,S,U,E,P)),_},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var U=this._writableState;U.corked&&(U.corked--,U.writing||U.corked||U.bufferProcessing||!U.bufferedRequest||A(this,U))},I.prototype.setDefaultEncoding=function(U){if(typeof U=="string"&&(U=U.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((U+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+U);return this._writableState.defaultEncoding=U,this},Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(U,E,P){P(new Error("_write() is not implemented"))},I.prototype._writev=null,I.prototype.end=function(U,E,P){var N=this._writableState;typeof U=="function"?(P=U,U=null,E=null):typeof E=="function"&&(P=E,E=null),U!=null&&this.write(U,E),N.corked&&(N.corked=1,this.uncork()),N.ending||function(x,_,S){_.ending=!0,$(x,_),S&&(_.finished?l.nextTick(S):x.once("finish",S)),_.ended=!0,x.writable=!1}(this,N,P)},Object.defineProperty(I.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(U){this._writableState&&(this._writableState.destroyed=U)}}),I.prototype.destroy=y.destroy,I.prototype._undestroy=y.undestroy,I.prototype._destroy=function(U,E){this.end(),E(U)}}).call(this)}).call(this,e("_process"),typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,n,i){var s=e("safe-buffer").Buffer,a=e("util");n.exports=function(){function c(){(function(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(l){var o={data:l,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length},c.prototype.unshift=function(l){var o={data:l,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length},c.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(l){if(this.length===0)return"";for(var o=this.head,u=""+o.data;o=o.next;)u+=l+o.data;return u},c.prototype.concat=function(l){if(this.length===0)return s.alloc(0);for(var o,u,f,d=s.allocUnsafe(l>>>0),h=this.head,g=0;h;)o=h.data,u=d,f=g,o.copy(u,f),g+=h.data.length,h=h.next;return d},c}(),a&&a.inspect&&a.inspect.custom&&(n.exports.prototype[a.inspect.custom]=function(){var c=a.inspect({length:this.length});return this.constructor.name+" "+c})},{"safe-buffer":520,util:188}],514:[function(e,n,i){var s=e("process-nextick-args");function a(c,l){c.emit("error",l)}n.exports={destroy:function(c,l){var o=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(l?l(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(a,this,c)):s.nextTick(a,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(d){!l&&d?o._writableState?o._writableState.errorEmitted||(o._writableState.errorEmitted=!0,s.nextTick(a,o,d)):s.nextTick(a,o,d):l&&l(d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,n,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:422}],516:[function(e,n,i){n.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,n,i){(i=n.exports=e("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,n,i){n.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,n,i){n.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,n,i){arguments[4][217][0].apply(i,arguments)},{buffer:220,dup:217}],521:[function(e,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,n,i){(function(s,a){(function(){var c=e("process/browser.js").nextTick,l=Function.prototype.apply,o=Array.prototype.slice,u={},f=0;function d(h,g){this._id=h,this._clearFn=g}i.setTimeout=function(){return new d(l.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new d(l.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(h){h.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(h,g){clearTimeout(h._idleTimeoutId),h._idleTimeout=g},i.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},i._unrefActive=i.active=function(h){clearTimeout(h._idleTimeoutId);var g=h._idleTimeout;g>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},g))},i.setImmediate=typeof s=="function"?s:function(h){var g=f++,b=!(arguments.length<2)&&o.call(arguments,1);return u[g]=!0,c(function(){u[g]&&(b?h.apply(null,b):h.call(null),i.clearImmediate(g))}),g},i.clearImmediate=typeof a=="function"?a:function(h){delete u[h]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,n,i){(function(s){(function(){function a(c){try{if(!s.localStorage)return!1}catch{return!1}var l=s.localStorage[c];return l!=null&&String(l).toLowerCase()==="true"}n.exports=function(c,l){if(a("noDeprecation"))return c;var o=!1;return function(){if(!o){if(a("throwDeprecation"))throw new Error(l);a("traceDeprecation")?console.trace(l):console.warn(l),o=!0}return c.apply(this,arguments)}}}).call(this)}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,n,i){typeof Object.create=="function"?n.exports=function(s,a){s.super_=a,s.prototype=Object.create(a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(s,a){s.super_=a;var c=function(){};c.prototype=a.prototype,s.prototype=new c,s.prototype.constructor=s}},{}],526:[function(e,n,i){n.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},{}],527:[function(e,n,i){(function(s,a){(function(){var c=/%[sdj%]/g;i.format=function(x){if(!T(x)){for(var _=[],S=0;S<arguments.length;S++)_.push(u(arguments[S]));return _.join(" ")}S=1;for(var k=arguments,j=k.length,L=String(x).replace(c,function(q){if(q==="%%")return"%";if(S>=j)return q;switch(q){case"%s":return String(k[S++]);case"%d":return Number(k[S++]);case"%j":try{return JSON.stringify(k[S++])}catch{return"[Circular]"}default:return q}}),D=k[S];S<j;D=k[++S])y(D)||!B(D)?L+=" "+D:L+=" "+u(D);return L},i.deprecate=function(x,_){if(I(a.process))return function(){return i.deprecate(x,_).apply(this,arguments)};if(s.noDeprecation===!0)return x;var S=!1;return function(){if(!S){if(s.throwDeprecation)throw new Error(_);s.traceDeprecation?console.trace(_):console.error(_),S=!0}return x.apply(this,arguments)}};var l,o={};function u(x,_){var S={seen:[],stylize:d};return arguments.length>=3&&(S.depth=arguments[2]),arguments.length>=4&&(S.colors=arguments[3]),v(_)?S.showHidden=_:_&&i._extend(S,_),I(S.showHidden)&&(S.showHidden=!1),I(S.depth)&&(S.depth=2),I(S.colors)&&(S.colors=!1),I(S.customInspect)&&(S.customInspect=!0),S.colors&&(S.stylize=f),h(S,x,S.depth)}function f(x,_){var S=u.styles[_];return S?"\x1B["+u.colors[S][0]+"m"+x+"\x1B["+u.colors[S][1]+"m":x}function d(x,_){return x}function h(x,_,S){if(x.customInspect&&_&&F(_.inspect)&&_.inspect!==i.inspect&&(!_.constructor||_.constructor.prototype!==_)){var k=_.inspect(S,x);return T(k)||(k=h(x,k,S)),k}var j=function(O,R){if(I(R))return O.stylize("undefined","undefined");if(T(R)){var H="'"+JSON.stringify(R).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return O.stylize(H,"string")}if(w(R))return O.stylize(""+R,"number");if(v(R))return O.stylize(""+R,"boolean");if(y(R))return O.stylize("null","null")}(x,_);if(j)return j;var L=Object.keys(_),D=function(O){var R={};return O.forEach(function(H,Y){R[H]=!0}),R}(L);if(x.showHidden&&(L=Object.getOwnPropertyNames(_)),M(_)&&(L.indexOf("message")>=0||L.indexOf("description")>=0))return g(_);if(L.length===0){if(F(_)){var q=_.name?": "+_.name:"";return x.stylize("[Function"+q+"]","special")}if(V(_))return x.stylize(RegExp.prototype.toString.call(_),"regexp");if(A(_))return x.stylize(Date.prototype.toString.call(_),"date");if(M(_))return g(_)}var W,Q="",z=!1,K=["{","}"];return m(_)&&(z=!0,K=["[","]"]),F(_)&&(Q=" [Function"+(_.name?": "+_.name:"")+"]"),V(_)&&(Q=" "+RegExp.prototype.toString.call(_)),A(_)&&(Q=" "+Date.prototype.toUTCString.call(_)),M(_)&&(Q=" "+g(_)),L.length!==0||z&&_.length!=0?S<0?V(_)?x.stylize(RegExp.prototype.toString.call(_),"regexp"):x.stylize("[Object]","special"):(x.seen.push(_),W=z?function(O,R,H,Y,J){for(var Z=[],te=0,oe=R.length;te<oe;++te)N(R,String(te))?Z.push(b(O,R,H,Y,String(te),!0)):Z.push("");return J.forEach(function(le){le.match(/^\d+$/)||Z.push(b(O,R,H,Y,le,!0))}),Z}(x,_,S,D,L):L.map(function(O){return b(x,_,S,D,O,z)}),x.seen.pop(),function(O,R,H){return O.reduce(function(Y,J){return J.indexOf(`
`)>=0,Y+J.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?H[0]+(R===""?"":R+`
 `)+" "+O.join(`,
  `)+" "+H[1]:H[0]+R+" "+O.join(", ")+" "+H[1]}(W,Q,K)):K[0]+Q+K[1]}function g(x){return"["+Error.prototype.toString.call(x)+"]"}function b(x,_,S,k,j,L){var D,q,W;if((W=Object.getOwnPropertyDescriptor(_,j)||{value:_[j]}).get?q=W.set?x.stylize("[Getter/Setter]","special"):x.stylize("[Getter]","special"):W.set&&(q=x.stylize("[Setter]","special")),N(k,j)||(D="["+j+"]"),q||(x.seen.indexOf(W.value)<0?(q=y(S)?h(x,W.value,null):h(x,W.value,S-1)).indexOf(`
`)>-1&&(q=L?q.split(`
`).map(function(Q){return"  "+Q}).join(`
`).substr(2):`
`+q.split(`
`).map(function(Q){return"   "+Q}).join(`
`)):q=x.stylize("[Circular]","special")),I(D)){if(L&&j.match(/^\d+$/))return q;(D=JSON.stringify(""+j)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(D=D.substr(1,D.length-2),D=x.stylize(D,"name")):(D=D.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),D=x.stylize(D,"string"))}return D+": "+q}function m(x){return Array.isArray(x)}function v(x){return typeof x=="boolean"}function y(x){return x===null}function w(x){return typeof x=="number"}function T(x){return typeof x=="string"}function I(x){return x===void 0}function V(x){return B(x)&&$(x)==="[object RegExp]"}function B(x){return typeof x=="object"&&x!==null}function A(x){return B(x)&&$(x)==="[object Date]"}function M(x){return B(x)&&($(x)==="[object Error]"||x instanceof Error)}function F(x){return typeof x=="function"}function $(x){return Object.prototype.toString.call(x)}function U(x){return x<10?"0"+x.toString(10):x.toString(10)}i.debuglog=function(x){if(I(l)&&(l=s.env.NODE_DEBUG||""),x=x.toUpperCase(),!o[x])if(new RegExp("\\b"+x+"\\b","i").test(l)){var _=s.pid;o[x]=function(){var S=i.format.apply(i,arguments);console.error("%s %d: %s",x,_,S)}}else o[x]=function(){};return o[x]},i.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=m,i.isBoolean=v,i.isNull=y,i.isNullOrUndefined=function(x){return x==null},i.isNumber=w,i.isString=T,i.isSymbol=function(x){return typeof x=="symbol"},i.isUndefined=I,i.isRegExp=V,i.isObject=B,i.isDate=A,i.isError=M,i.isFunction=F,i.isPrimitive=function(x){return x===null||typeof x=="boolean"||typeof x=="number"||typeof x=="string"||typeof x=="symbol"||x===void 0},i.isBuffer=e("./support/isBuffer");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var x=new Date,_=[U(x.getHours()),U(x.getMinutes()),U(x.getSeconds())].join(":");return[x.getDate(),E[x.getMonth()],_].join(" ")}function N(x,_){return Object.prototype.hasOwnProperty.call(x,_)}i.log=function(){console.log("%s - %s",P(),i.format.apply(i,arguments))},i.inherits=e("inherits"),i._extend=function(x,_){if(!_||!B(_))return x;for(var S=Object.keys(_),k=S.length;k--;)x[S[k]]=_[S[k]];return x}}).call(this)}).call(this,e("_process"),typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return h.default}});var s=g(e("./v1.js")),a=g(e("./v3.js")),c=g(e("./v4.js")),l=g(e("./v5.js")),o=g(e("./nil.js")),u=g(e("./version.js")),f=g(e("./validate.js")),d=g(e("./stringify.js")),h=g(e("./parse.js"));function g(b){return b&&b.__esModule?b:{default:b}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,n,i){function s(h){return 14+(h+64>>>9<<4)+1}function a(h,g){const b=(65535&h)+(65535&g);return(h>>16)+(g>>16)+(b>>16)<<16|65535&b}function c(h,g,b,m,v,y){return a((w=a(a(g,h),a(m,y)))<<(T=v)|w>>>32-T,b);var w,T}function l(h,g,b,m,v,y,w){return c(g&b|~g&m,h,g,v,y,w)}function o(h,g,b,m,v,y,w){return c(g&m|b&~m,h,g,v,y,w)}function u(h,g,b,m,v,y,w){return c(g^b^m,h,g,v,y,w)}function f(h,g,b,m,v,y,w){return c(b^(g|~m),h,g,v,y,w)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var d=function(h){if(typeof h=="string"){const g=unescape(encodeURIComponent(h));h=new Uint8Array(g.length);for(let b=0;b<g.length;++b)h[b]=g.charCodeAt(b)}return function(g){const b=[],m=32*g.length;for(let v=0;v<m;v+=8){const y=g[v>>5]>>>v%32&255,w=parseInt("0123456789abcdef".charAt(y>>>4&15)+"0123456789abcdef".charAt(15&y),16);b.push(w)}return b}(function(g,b){g[b>>5]|=128<<b%32,g[s(b)-1]=b;let m=1732584193,v=-271733879,y=-1732584194,w=271733878;for(let T=0;T<g.length;T+=16){const I=m,V=v,B=y,A=w;m=l(m,v,y,w,g[T],7,-680876936),w=l(w,m,v,y,g[T+1],12,-389564586),y=l(y,w,m,v,g[T+2],17,606105819),v=l(v,y,w,m,g[T+3],22,-1044525330),m=l(m,v,y,w,g[T+4],7,-176418897),w=l(w,m,v,y,g[T+5],12,1200080426),y=l(y,w,m,v,g[T+6],17,-1473231341),v=l(v,y,w,m,g[T+7],22,-45705983),m=l(m,v,y,w,g[T+8],7,1770035416),w=l(w,m,v,y,g[T+9],12,-1958414417),y=l(y,w,m,v,g[T+10],17,-42063),v=l(v,y,w,m,g[T+11],22,-1990404162),m=l(m,v,y,w,g[T+12],7,1804603682),w=l(w,m,v,y,g[T+13],12,-40341101),y=l(y,w,m,v,g[T+14],17,-1502002290),v=l(v,y,w,m,g[T+15],22,1236535329),m=o(m,v,y,w,g[T+1],5,-165796510),w=o(w,m,v,y,g[T+6],9,-1069501632),y=o(y,w,m,v,g[T+11],14,643717713),v=o(v,y,w,m,g[T],20,-373897302),m=o(m,v,y,w,g[T+5],5,-701558691),w=o(w,m,v,y,g[T+10],9,38016083),y=o(y,w,m,v,g[T+15],14,-660478335),v=o(v,y,w,m,g[T+4],20,-405537848),m=o(m,v,y,w,g[T+9],5,568446438),w=o(w,m,v,y,g[T+14],9,-1019803690),y=o(y,w,m,v,g[T+3],14,-187363961),v=o(v,y,w,m,g[T+8],20,1163531501),m=o(m,v,y,w,g[T+13],5,-1444681467),w=o(w,m,v,y,g[T+2],9,-51403784),y=o(y,w,m,v,g[T+7],14,1735328473),v=o(v,y,w,m,g[T+12],20,-1926607734),m=u(m,v,y,w,g[T+5],4,-378558),w=u(w,m,v,y,g[T+8],11,-2022574463),y=u(y,w,m,v,g[T+11],16,1839030562),v=u(v,y,w,m,g[T+14],23,-35309556),m=u(m,v,y,w,g[T+1],4,-1530992060),w=u(w,m,v,y,g[T+4],11,1272893353),y=u(y,w,m,v,g[T+7],16,-155497632),v=u(v,y,w,m,g[T+10],23,-1094730640),m=u(m,v,y,w,g[T+13],4,681279174),w=u(w,m,v,y,g[T],11,-358537222),y=u(y,w,m,v,g[T+3],16,-722521979),v=u(v,y,w,m,g[T+6],23,76029189),m=u(m,v,y,w,g[T+9],4,-640364487),w=u(w,m,v,y,g[T+12],11,-421815835),y=u(y,w,m,v,g[T+15],16,530742520),v=u(v,y,w,m,g[T+2],23,-995338651),m=f(m,v,y,w,g[T],6,-198630844),w=f(w,m,v,y,g[T+7],10,1126891415),y=f(y,w,m,v,g[T+14],15,-1416354905),v=f(v,y,w,m,g[T+5],21,-57434055),m=f(m,v,y,w,g[T+12],6,1700485571),w=f(w,m,v,y,g[T+3],10,-1894986606),y=f(y,w,m,v,g[T+10],15,-1051523),v=f(v,y,w,m,g[T+1],21,-2054922799),m=f(m,v,y,w,g[T+8],6,1873313359),w=f(w,m,v,y,g[T+15],10,-30611744),y=f(y,w,m,v,g[T+6],15,-1560198380),v=f(v,y,w,m,g[T+13],21,1309151649),m=f(m,v,y,w,g[T+4],6,-145523070),w=f(w,m,v,y,g[T+11],10,-1120210379),y=f(y,w,m,v,g[T+2],15,718787259),v=f(v,y,w,m,g[T+9],21,-343485551),m=a(m,I),v=a(v,V),y=a(y,B),w=a(w,A)}return[m,v,y,w]}(function(g){if(g.length===0)return[];const b=8*g.length,m=new Uint32Array(s(b));for(let v=0;v<b;v+=8)m[v>>5]|=(255&g[v/8])<<v%32;return m}(h),8*h.length))};i.default=d},{}],530:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,a=(s=e("./validate.js"))&&s.__esModule?s:{default:s},c=function(l){if(!(0,a.default)(l))throw TypeError("Invalid UUID");let o;const u=new Uint8Array(16);return u[0]=(o=parseInt(l.slice(0,8),16))>>>24,u[1]=o>>>16&255,u[2]=o>>>8&255,u[3]=255&o,u[4]=(o=parseInt(l.slice(9,13),16))>>>8,u[5]=255&o,u[6]=(o=parseInt(l.slice(14,18),16))>>>8,u[7]=255&o,u[8]=(o=parseInt(l.slice(19,23),16))>>>8,u[9]=255&o,u[10]=(o=parseInt(l.slice(24,36),16))/1099511627776&255,u[11]=o/4294967296&255,u[12]=o>>>24&255,u[13]=o>>>16&255,u[14]=o>>>8&255,u[15]=255&o,u};i.default=c},{"./validate.js":541}],532:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,n,i){let s;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!s&&(s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(a)};const a=new Uint8Array(16)},{}],534:[function(e,n,i){function s(l,o,u,f){switch(l){case 0:return o&u^~o&f;case 1:return o^u^f;case 2:return o&u^o&f^u&f;case 3:return o^u^f}}function a(l,o){return l<<o|l>>>32-o}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var c=function(l){const o=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const g=unescape(encodeURIComponent(l));l=[];for(let b=0;b<g.length;++b)l.push(g.charCodeAt(b))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const f=l.length/4+2,d=Math.ceil(f/16),h=new Array(d);for(let g=0;g<d;++g){const b=new Uint32Array(16);for(let m=0;m<16;++m)b[m]=l[64*g+4*m]<<24|l[64*g+4*m+1]<<16|l[64*g+4*m+2]<<8|l[64*g+4*m+3];h[g]=b}h[d-1][14]=8*(l.length-1)/Math.pow(2,32),h[d-1][14]=Math.floor(h[d-1][14]),h[d-1][15]=8*(l.length-1)&4294967295;for(let g=0;g<d;++g){const b=new Uint32Array(80);for(let I=0;I<16;++I)b[I]=h[g][I];for(let I=16;I<80;++I)b[I]=a(b[I-3]^b[I-8]^b[I-14]^b[I-16],1);let m=u[0],v=u[1],y=u[2],w=u[3],T=u[4];for(let I=0;I<80;++I){const V=Math.floor(I/20),B=a(m,5)+s(V,v,y,w)+T+o[V]+b[I]>>>0;T=w,w=y,y=a(v,30)>>>0,v=m,m=B}u[0]=u[0]+m>>>0,u[1]=u[1]+v>>>0,u[2]=u[2]+y>>>0,u[3]=u[3]+w>>>0,u[4]=u[4]+T>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};i.default=c},{}],535:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,a=(s=e("./validate.js"))&&s.__esModule?s:{default:s};const c=[];for(let o=0;o<256;++o)c.push((o+256).toString(16).substr(1));var l=function(o){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const f=(c[o[u+0]]+c[o[u+1]]+c[o[u+2]]+c[o[u+3]]+"-"+c[o[u+4]]+c[o[u+5]]+"-"+c[o[u+6]]+c[o[u+7]]+"-"+c[o[u+8]]+c[o[u+9]]+"-"+c[o[u+10]]+c[o[u+11]]+c[o[u+12]]+c[o[u+13]]+c[o[u+14]]+c[o[u+15]]).toLowerCase();if(!(0,a.default)(f))throw TypeError("Stringified UUID is invalid");return f};i.default=l},{"./validate.js":541}],536:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=c(e("./rng.js")),a=c(e("./stringify.js"));function c(h){return h&&h.__esModule?h:{default:h}}let l,o,u=0,f=0;var d=function(h,g,b){let m=g&&b||0;const v=g||new Array(16);let y=(h=h||{}).node||l,w=h.clockseq!==void 0?h.clockseq:o;if(y==null||w==null){const M=h.random||(h.rng||s.default)();y==null&&(y=l=[1|M[0],M[1],M[2],M[3],M[4],M[5]]),w==null&&(w=o=16383&(M[6]<<8|M[7]))}let T=h.msecs!==void 0?h.msecs:Date.now(),I=h.nsecs!==void 0?h.nsecs:f+1;const V=T-u+(I-f)/1e4;if(V<0&&h.clockseq===void 0&&(w=w+1&16383),(V<0||T>u)&&h.nsecs===void 0&&(I=0),I>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=T,f=I,o=w,T+=122192928e5;const B=(1e4*(268435455&T)+I)%4294967296;v[m++]=B>>>24&255,v[m++]=B>>>16&255,v[m++]=B>>>8&255,v[m++]=255&B;const A=T/4294967296*1e4&268435455;v[m++]=A>>>8&255,v[m++]=255&A,v[m++]=A>>>24&15|16,v[m++]=A>>>16&255,v[m++]=w>>>8|128,v[m++]=255&w;for(let M=0;M<6;++M)v[m+M]=y[M];return g||(0,a.default)(v)};i.default=d},{"./rng.js":533,"./stringify.js":535}],537:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=c(e("./v35.js")),a=c(e("./md5.js"));function c(o){return o&&o.__esModule?o:{default:o}}var l=(0,s.default)("v3",48,a.default);i.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(u,f,d){function h(g,b,m,v){if(typeof g=="string"&&(g=function(w){w=unescape(encodeURIComponent(w));const T=[];for(let I=0;I<w.length;++I)T.push(w.charCodeAt(I));return T}(g)),typeof b=="string"&&(b=(0,a.default)(b)),b.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let y=new Uint8Array(16+g.length);if(y.set(b),y.set(g,b.length),y=d(y),y[6]=15&y[6]|f,y[8]=63&y[8]|128,m){v=v||0;for(let w=0;w<16;++w)m[v+w]=y[w];return m}return(0,s.default)(y)}try{h.name=u}catch{}return h.DNS=l,h.URL=o,h},i.URL=i.DNS=void 0;var s=c(e("./stringify.js")),a=c(e("./parse.js"));function c(u){return u&&u.__esModule?u:{default:u}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=l;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=o},{"./parse.js":531,"./stringify.js":535}],539:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=c(e("./rng.js")),a=c(e("./stringify.js"));function c(o){return o&&o.__esModule?o:{default:o}}var l=function(o,u,f){const d=(o=o||{}).random||(o.rng||s.default)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,u){f=f||0;for(let h=0;h<16;++h)u[f+h]=d[h];return u}return(0,a.default)(d)};i.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=c(e("./v35.js")),a=c(e("./sha1.js"));function c(o){return o&&o.__esModule?o:{default:o}}var l=(0,s.default)("v5",80,a.default);i.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,a=(s=e("./regex.js"))&&s.__esModule?s:{default:s},c=function(l){return typeof l=="string"&&a.default.test(l)};i.default=c},{"./regex.js":532}],542:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,a=(s=e("./validate.js"))&&s.__esModule?s:{default:s},c=function(l){if(!(0,a.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};i.default=c},{"./validate.js":541}],543:[function(e,n,i){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r ---`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(a){return a>=32&&a<=55295||a===10||a===13||a===9||a>=57344&&a<=65533||a>=65536&&a<=1114111},i.isS=function(a){return a===32||a===10||a===13||a===9},i.isNameStartChar=s,i.isNameChar=function(a){return s(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],544:[function(e,n,i){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="---",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(a){return a>=1&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},i.isRestrictedChar=function(a){return a>=1&&a<=8||a===11||a===12||a>=14&&a<=31||a>=127&&a<=132||a>=134&&a<=159},i.isCharAndNotRestricted=function(a){return a===9||a===10||a===13||a>31&&a<127||a===133||a>159&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},i.isS=function(a){return a===32||a===10||a===13||a===9},i.isNameStartChar=s,i.isNameChar=function(a){return s(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],545:[function(e,n,i){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function s(a){return a>=65&&a<=90||a===95||a>=97&&a<=122||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8204&&a<=8205||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-z------------",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9--",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=s,i.isNCNameChar=function(a){return s(a)||a===45||a===46||a>=48&&a<=57||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}]},{},[15])(15)})})(B4);var Cj=B4.exports;const Aj=ky(Cj);function U1(r,t){const e=O4[t];if(!e)return"";const n=r[e];return n==null?"":typeof n=="object"?[n.last,n.first,n.mi].filter(Boolean).join(" ")||"":String(n)}async function Ij(r,t,e){const n=new Aj.Workbook;n.creator="Regulatory Division Portal";const i=n.addWorksheet(e||t,{pageSetup:{paperSize:9,orientation:"landscape",fitToPage:!0}});if(r.length===0){i.addRow(["No records to export."]);const h=await n.xlsx.writeBuffer();H1(h,`Records_${t}_${$1()}.xlsx`);return}const s=new Set;r.forEach(h=>{Object.keys(h).filter(g=>!["createdBy","updatedAt"].includes(g)).forEach(g=>s.add(g))});const c=["No.","Name / Title",...Array.from(s).filter(h=>h!=="id")].map(h=>h==="No."||h==="Name / Title"?h:mp(h)),l=["No.","Name/Title",...Array.from(s).filter(h=>h!=="id")],o=i.addRow(c);o.font={bold:!0,color:{argb:"FFFFFFFF"}},o.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E4D2B"}},o.alignment={vertical:"middle",wrapText:!0},o.height=22,i.getRow(1).eachCell(h=>{h.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),r.forEach((h,g)=>{const b=pp(h),m=U1(h,t),v=[g+1,m,...l.slice(2).map(w=>b[w]??"")],y=i.addRow(v);y.eachCell(w=>{w.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},w.alignment={vertical:"top",wrapText:!0}}),y.height=30});const u=c.length,f=[];for(let h=0;h<u;h++){let g=12;r.forEach((m,v)=>{const y=pp(m),w=U1(m,t),T=h===0?String(v+1):h===1?w:y[l[h]]??"",B=String(T).split(/\r?\n/).reduce((A,M)=>Math.max(A,M.length),0);g=Math.max(g,Math.min(B,80))});const b=(c[h]||"").length;g=Math.max(g,b+2),f[h]=Math.min(50,Math.max(14,g+1))}i.columns=f.map((h,g)=>({width:h}));const d=await n.xlsx.writeBuffer();H1(d,`Records_${t}_${$1()}.xlsx`)}function $1(){const r=new Date;return`${r.getFullYear()}${String(r.getMonth()+1).padStart(2,"0")}${String(r.getDate()).padStart(2,"0")}_${String(r.getHours()).padStart(2,"0")}${String(r.getMinutes()).padStart(2,"0")}`}function H1(r,t){const e=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.download=t,i.click(),URL.revokeObjectURL(n)}function Bt({options:r=[],value:t="",onChange:e,placeholder:n="Select...",className:i="",disabled:s=!1,leftIcon:a,"aria-label":c}){const[l,o]=de.useState(!1),[u,f]=de.useState({top:0,left:0,width:0}),d=de.useRef(null),h=de.useRef(null),g=r.find(w=>String(w.value)===String(t)),b=g?g.label:n,m=()=>{if(d.current){const w=d.current.getBoundingClientRect();f({top:w.bottom+6,left:w.left,width:w.width})}};de.useEffect(()=>{if(!l)return;m();const w=I=>{var V,B,A,M;(V=d.current)!=null&&V.contains(I.target)||(A=(B=I.target).closest)!=null&&A.call(B,"[data-app-select-panel]")||((M=h.current)==null||M.focus(),o(!1))},T=()=>m();return window.addEventListener("scroll",T,!0),window.addEventListener("resize",T),document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w),window.removeEventListener("scroll",T,!0),window.removeEventListener("resize",T)}},[l]);const v=w=>{var T;e==null||e(w.value),(T=h.current)==null||T.focus(),o(!1)},y=p.jsx("div",{"data-app-select-panel":!0,role:"listbox","aria-hidden":!l,...l?{}:{inert:""},className:l?"app-select-panel-open":"app-select-panel-closed",style:{zIndex:9999,position:"fixed",top:u.top,left:u.left,width:u.width,minWidth:140,background:"white",border:"2px solid #e8e0d4",borderRadius:"0.75rem",overflow:"hidden",boxShadow:"0 20px 25px rgba(30, 77, 43, 0.12)"},children:p.jsx("div",{className:"max-h-56 overflow-y-auto py-1.5 custom-scrollbar",children:r.map((w,T)=>{const I=String(w.value)===String(t),V=w.value===""||w.value==null;return p.jsx("button",{type:"button",role:"option","aria-selected":I,onClick:()=>v(w),style:l?{animationDelay:`${T*35}ms`}:void 0,className:`
                app-select-option w-full text-left px-4 py-2.5 text-sm font-semibold text-[#1e4d2b]
                transition-all duration-200 ease-[cubic-bezier(0.33,1,0.68,1)]
                ${V?"text-[#8a857c] hover:bg-[#faf8f5] hover:text-[#5c7355]":"hover:bg-[#f0f5ee] hover:text-[#153019]"}
                ${I?"bg-[#f0f5ee]":""}
                hover:translate-x-0.5 active:scale-[0.99]
              `,children:w.label},w.value??"empty")})})});return p.jsxs(p.Fragment,{children:[p.jsx("div",{ref:d,className:`relative ${i}`,children:p.jsxs("button",{ref:h,type:"button",disabled:s,"aria-haspopup":"listbox","aria-expanded":l,"aria-label":c||n,onClick:()=>{s||(l||m(),o(w=>!w))},className:`
            w-full flex items-center justify-between gap-2
            py-2.5 pr-10 min-h-[42px]
            ${a?"pl-10":"pl-3"}
            bg-white border-2 border-[#e8e0d4] rounded-xl
            text-left text-sm font-semibold text-[#1e4d2b]
            transition-all duration-350 ease-[cubic-bezier(0.33,1,0.68,1)]
            hover:border-[#1e4d2b]/50 hover:bg-[#faf8f5] hover:shadow-md hover:shadow-[#1e4d2b]/10
            focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/40 focus:border-[#1e4d2b]
            disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white disabled:hover:shadow-none
            active:scale-[0.99]
            ${l?"app-select-trigger-open":""}
            ${g?"":"text-[#8a857c]"}
          `,children:[p.jsxs("span",{className:"flex items-center gap-2 min-w-0",children:[a&&p.jsx("span",{className:"shrink-0 text-[#5c7355] transition-transform duration-300",children:a}),p.jsx("span",{className:"truncate",children:b})]}),p.jsx("span",{className:`absolute right-3 top-1/2 -translate-y-1/2 shrink-0 text-[#1e4d2b] transition-transform duration-400 ease-[cubic-bezier(0.34,1.56,0.64,1)] ${l?"rotate-180":""}`,"aria-hidden":!0,children:p.jsx("iconify-icon",{icon:"mdi:chevron-down",width:"20"})})]})}),vm.createPortal(y,document.body)]})}function Cc(r,t){const e=O4[t];if(!e)return"";const n=r[e];return n==null?"":typeof n=="object"?[n.last,n.first,n.mi].filter(Boolean).join(" ")||JSON.stringify(n):String(n)}function V4(r){return r==null?"":typeof r!="object"?String(r):Object.values(r).map(V4).join(" ")}const Zc={animalFeed:sr,animalWelfare:sr,livestockHandlers:sr,transportCarrier:sr,plantMaterial:sr,organicAgri:sr,goodAgriPractices:sr,goodAnimalHusbandry:sr,organicPostMarket:sr,landUseMatter:sr,foodSafety:sr,plantPestSurveillance:sr,cfsAdmcc:sr,animalDiseaseSurveillance:sr,safdzValidation:sr};function Rj(r,t){const e=Zc[t]||[];if(e.length===0)return null;const n=e.map(i=>{const s=r[i];if(s===""||s==null)return null;const a=parseInt(s,10);return isNaN(a)?null:a}).filter(i=>i!=null);return n.length===0?null:(n.reduce((i,s)=>i+s,0)/n.length).toFixed(1)}function Pj(){var x;const[r,t]=de.useState(ds[0].id),[e,n]=de.useState([]),[i,s]=de.useState(""),[a,c]=de.useState(""),[l,o]=de.useState(""),[u,f]=de.useState(null),[d,h]=de.useState({}),[g,b]=de.useState(!1),{user:m,role:v}=so();de.useEffect(()=>{const _=$u(En,r),S=u4(_,k=>{n(k.docs.map(j=>({id:j.id,...j.data()})))});return()=>S()},[r]);const y=fj(e),w=((x=ds.find(_=>_.id===r))==null?void 0:x.label)||r;let T=e;if(i.trim()){const _=i.trim().toLowerCase();T=T.filter(S=>V4(S).toLowerCase().includes(_))}a&&(T=T.filter(_=>N0(_)===a)),l&&(T=T.filter(_=>D4(_)===l));const I=_=>v==="admin"||_.createdBy===(m==null?void 0:m.uid),V=()=>v==="admin",B=async _=>{if(confirm("Are you sure you want to permanently delete this record?"))try{await UE(Ei(En,r,_))}catch(S){alert(S.message)}},A=_=>{const{id:S,createdAt:k,createdBy:j,...L}=_;h(L),f(S)},M=async()=>{if(u)try{await c4(Ei(En,r,u),{...d,updatedAt:new Date().toISOString()}),f(null)}catch(_){alert(_.message)}},F=(_,S)=>h(k=>({...k,[_]:S})),$=[...sr,"recommendation"],U=()=>{const _=Y=>Y==null||Y===""?"":String(Y).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),S=["createdBy","updatedAt"],k=["id","createdAt","createdBy","updatedAt"],j=new Set;T.forEach(Y=>{Object.keys(Y).filter(J=>!k.includes(J)).forEach(J=>j.add(J))});const L=B1[r]||[],D=L.filter(Y=>j.has(Y)&&!S.includes(Y)&&!$.includes(Y)),q=Array.from(j).filter(Y=>!L.includes(Y)&&!S.includes(Y)&&!$.includes(Y)),W=[...D,...q],Q=["No.","Name / Title",...W.map(mp)];let z="";T.forEach((Y,J)=>{const Z=pp(Y),te=Cc(Y,r);z+="<tr>",z+=`<td>${_(J+1)}</td>`,z+=`<td>${_(te)}</td>`,W.forEach(oe=>{z+=`<td>${_(Z[oe]??"")}</td>`}),z+="</tr>"});const K=Q.map(Y=>`<th>${_(Y)}</th>`).join(""),O=[];a&&O.push(`Month: ${fp(a)}`),l&&O.push(`Province: ${l}`),O.push(`Printed: ${new Date().toLocaleString()}`),O.push(`Total: ${T.length} record(s)`);const R=O.join("  "),H=window.open("","_blank");H.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="utf-8">
          <title>Records - ${_(w)}</title>
          <style>
            /* 1. Set specific size to LONG Paper in Landscape, Pinaliit ang Margin */
            @page { 
              size: 13in 8.5in; 
              margin: 5mm; 
            }
            @media print {
              body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
              thead { display: table-header-group; }
              /* Prevent rows from being cut in half across pages */
              tr { page-break-inside: avoid; }
              table, th, td { border-color: #000 !important; }
              th, td { border: 1px solid #000 !important; }
              th { font-weight: 700 !important; }
            }
            body { font-family: 'Segoe UI', Arial, sans-serif; color: #1e293b; margin: 0; padding: 10px; }
            .print-header { margin-bottom: 15px; border-bottom: 2px solid #000; padding-bottom: 8px; }
            .print-title { color: #064e3b; font-size: 16px; font-weight: 800; margin: 0; text-transform: uppercase; letter-spacing: 0.5px; }
            .print-unit { color: #059669; font-size: 13px; font-weight: 600; margin: 4px 0; }
            .print-meta { color: #64748b; font-size: 10px; margin: 0; }
            
            /* 2. AUTO Layout at mas maliit na font para magkasya lahat ng columns */
            table { 
              width: 100%; 
              border-collapse: collapse; 
              font-size: 9px; /* Binabaan yung font para magkasya ang madaming columns */
              table-layout: auto; /* Hahayaan yung browser mag-adjust ng saktong lapad */
            }
            th, td { 
              border: 1px solid #000; 
              padding: 4px 4px; /* Binawasan ang padding */
              text-align: left; 
              vertical-align: top; 
              word-wrap: break-word; 
            }
            th { 
              background: #065f46; 
              color: #fff; 
              font-weight: 700; 
              text-transform: uppercase; 
              font-size: 8px; /* Mas maliit ng konti ang header para hindi maputol */
              letter-spacing: 0.2px; 
            }
            tr:nth-child(even) td { background: #f0fdf4; }

            /* 3. I-lock lang yung No. column na maliit, the rest is auto */
            th:nth-child(1) { width: 2%; white-space: nowrap; } 
          </style>
        </head>
        <body>
          <div class="print-header">
            <p class="print-title">Regulatory Division Data Report</p>
            <p class="print-unit">${_(w)}</p>
            <p class="print-meta">${_(R)}</p>
          </div>
          <table>
            <thead><tr>${K}</tr></thead>
            <tbody>${z}</tbody>
          </table>
        </body>
      </html>
    `),H.document.close(),H.focus(),setTimeout(()=>{H.print(),H.close()},300)},E=async()=>{b(!0);try{await Ij(T,r,w)}catch(_){alert(_.message||"Export failed.")}b(!1)},P=[{value:"",label:"Select rating..."},{value:"1",label:"Poor (1)"},{value:"2",label:"Fair (2)"},{value:"3",label:"Satisfied (3)"},{value:"4",label:"Very Satisfied (4)"},{value:"5",label:"Excellent (5)"}],N=(_,S)=>{const k="w-full px-3 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/40 focus:border-[#1e4d2b] text-sm font-medium text-[#1e4d2b] placeholder:text-[#8a857c] transition-all";if(sr.includes(_))return p.jsx(Bt,{options:P,value:S??"",onChange:j=>F(_,j),placeholder:"Select rating...","aria-label":_});if(_==="attachmentData"){const j=S&&String(S),L=d.attachmentFileName||"attachment",D=()=>{try{const W=atob(j),Q=new Uint8Array(W.length);for(let R=0;R<W.length;R++)Q[R]=W.charCodeAt(R);const z=new Blob([Q]),K=URL.createObjectURL(z),O=document.createElement("a");O.href=K,O.download=L,O.click(),URL.revokeObjectURL(K)}catch{}},q=()=>{F("attachmentData",""),F("attachmentFileName","")};return!j||j.length===0?p.jsx("span",{className:"text-sm text-[#5c7355]",children:"No file"}):p.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[p.jsx("span",{className:"text-sm text-[#5c7355] truncate flex-1 min-w-0",children:"File stored in record"}),p.jsx("button",{type:"button",onClick:D,className:"px-3 py-1.5 bg-[#1e4d2b] text-white rounded-xl text-sm font-bold hover:bg-[#153019] whitespace-nowrap",children:"Download"}),p.jsx("button",{type:"button",onClick:q,className:"px-3 py-1.5 border-2 border-red-400 text-red-600 rounded-xl text-sm font-bold hover:bg-red-50 whitespace-nowrap",children:"Remove"})]})}return S==null?p.jsx("input",{type:"text",value:"",onChange:j=>F(_,j.target.value),className:k}):typeof S=="object"&&!Array.isArray(S)&&S!==null?p.jsx("div",{className:"space-y-3 pl-3 border-l-2 border-[#1e4d2b]/30 bg-[#1e4d2b]/5 p-3 rounded-r-xl",children:Object.entries(S).map(([j,L])=>p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-center",children:[p.jsx("span",{className:"text-xs font-bold text-[#5c7355] uppercase tracking-wider w-24",children:j}),p.jsx("input",{type:"text",value:typeof L=="object"?JSON.stringify(L):L,onChange:D=>F(_,{...S,[j]:D.target.value}),className:k})]},j))}):p.jsx("input",{type:"text",value:Array.isArray(S)?S.join(", "):S,onChange:j=>F(_,j.target.value),className:k})};return p.jsxs("div",{className:"space-y-6 pb-10 min-w-0 w-full max-w-full overflow-x-hidden",children:[p.jsx("div",{className:"view-records-anim-1 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:p.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)] transition-opacity duration-500 group-hover:opacity-80"}),p.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Master Records"}),p.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-1",children:"Manage, view, and update regulatory data entries"})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[p.jsxs("button",{onClick:U,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-white text-[#1e4d2b] rounded-xl hover:bg-[#faf8f5] hover:scale-105 active:scale-[0.98] shadow-md hover:shadow-xl transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] font-bold text-sm border border-white/30",children:[p.jsx("iconify-icon",{icon:"mdi:printer",width:"18"}),"Print List"]}),p.jsxs("button",{onClick:E,disabled:g,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-[#b8a066] text-[#153019] rounded-xl hover:bg-[#d4c4a0] hover:scale-105 active:scale-[0.98] shadow-md hover:shadow-xl transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] font-bold text-sm disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 border border-[#b8a066]/50",children:[g?p.jsx("iconify-icon",{icon:"mdi:loading",width:"18",class:"animate-spin"}):p.jsx("iconify-icon",{icon:"mdi:microsoft-excel",width:"18"}),g?"Exporting...":"Export Excel"]}),p.jsxs(zr,{to:"/dashboard",className:"inline-flex items-center gap-2 px-4 py-2.5 bg-white/15 backdrop-blur-sm text-white border border-white/25 rounded-xl hover:bg-white/25 hover:border-white/40 hover:scale-105 active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] font-bold text-sm",children:[p.jsx("iconify-icon",{icon:"mdi:arrow-left",width:"18"}),"Dashboard"]})]})]})]})}),p.jsxs("div",{className:"view-records-anim-2 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#b8a066]/10 overflow-visible hover:shadow-xl hover:shadow-[#b8a066]/15 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("div",{className:"px-4 py-3 bg-gradient-to-r from-[#9a7b4f] via-[#b8a066] to-[#8f7a45] relative border-b-2 border-[#b8a066]/25 rounded-t-2xl overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_80%_0%,rgba(255,255,255,0.12),transparent_50%)]"}),p.jsx("span",{className:"relative z-10 text-[10px] font-black text-white uppercase tracking-widest",children:"Filters & Search"})]}),p.jsxs("div",{className:"p-4 sm:p-5 space-y-4 lg:space-y-0 lg:flex lg:items-end lg:gap-4 lg:flex-wrap border-l-4 border-[#b8a066]/25",children:[p.jsxs("div",{className:"flex-1 min-w-[240px] sm:min-w-[280px]",children:[p.jsx("label",{className:"block text-[10px] font-bold text-[#5c7355] uppercase tracking-wider mb-1.5 transition-colors duration-300",children:"Select Unit"}),p.jsx(Bt,{value:r,onChange:_=>t(_),options:ds.map(_=>({value:_.id,label:_.label})),leftIcon:p.jsx("iconify-icon",{icon:"mdi:folder-table-outline",width:"20"}),"aria-label":"Select Unit"})]}),p.jsxs("div",{className:"flex gap-3 flex-wrap sm:flex-nowrap flex-1 min-w-0",children:[p.jsxs("div",{className:"flex-1 min-w-[140px] sm:min-w-[180px]",children:[p.jsx("label",{className:"block text-[10px] font-bold text-[#5c7355] uppercase tracking-wider mb-1.5",children:"Month"}),p.jsx(Bt,{value:a,onChange:c,placeholder:"All Months",options:[{value:"",label:"All Months"},{value:"test_value",label:"Test Month"},...y.map(_=>({value:_,label:fp(_)}))],leftIcon:p.jsx("iconify-icon",{icon:"mdi:calendar-month-outline",width:"18"}),"aria-label":"Month",className:"min-w-0"})]}),p.jsxs("div",{className:"flex-1 min-w-[140px] sm:min-w-[180px]",children:[p.jsx("label",{className:"block text-[10px] font-bold text-[#5c7355] uppercase tracking-wider mb-1.5",children:"Province"}),p.jsx(Bt,{value:l,onChange:o,placeholder:"All Provinces",options:[{value:"",label:"All Provinces"},{value:"Bulacan",label:"Bulacan"},...Gl.map(_=>({value:_,label:_}))],leftIcon:p.jsx("iconify-icon",{icon:"mdi:map-marker-outline",width:"18"}),"aria-label":"Province",className:"min-w-0"})]})]}),p.jsxs("div",{className:"flex-1 min-w-[200px] lg:min-w-[260px]",children:[p.jsx("label",{className:"block text-[10px] font-bold text-[#5c7355] uppercase tracking-wider mb-1.5",children:"Search Records"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-[#5c7355] group-focus-within:text-[#1e4d2b] transition-colors duration-300",children:p.jsx("iconify-icon",{icon:"mdi:magnify",width:"20"})}),p.jsx("input",{type:"text",value:i,onChange:_=>s(_.target.value),placeholder:"Name, ID, or keyword...",className:"w-full pl-10 pr-10 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-[#1e4d2b] text-sm font-medium focus:ring-2 focus:ring-[#1e4d2b]/40 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c]"}),i&&p.jsx("button",{onClick:()=>s(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-[#5c7355] hover:text-[#1e4d2b] hover:scale-110 transition-all duration-200",children:p.jsx("iconify-icon",{icon:"mdi:close-circle",width:"18"})})]})]})]})]}),p.jsxs("div",{className:"view-records-anim-3 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden flex flex-col min-h-[400px] hover:shadow-xl hover:shadow-[#1e4d2b]/10 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-3 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_80%_0%,rgba(255,255,255,0.08),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[p.jsx("span",{className:"text-sm font-black text-white uppercase tracking-tight",children:"Records"}),p.jsx("span",{className:"text-[11px] font-semibold text-white/85",children:w})]})]}),p.jsx("div",{className:"overflow-x-auto overflow-y-auto max-h-[calc(100vh-280px)] min-h-0 custom-scrollbar view-records-scroll flex-1 border-l-4 border-[#1e4d2b]/25",children:p.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[p.jsx("thead",{className:"sticky top-0 z-10 bg-gradient-to-r from-[#faf8f5] to-[#f2ede6] border-b-2 border-[#e8e0d4]",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-5 py-3.5 font-black text-[#1e4d2b] uppercase text-[10px] tracking-wider whitespace-nowrap",children:"Name / Identifier"}),Zc[r]&&p.jsx("th",{className:"px-5 py-3.5 font-black text-[#1e4d2b] uppercase text-[10px] tracking-wider whitespace-nowrap",children:"Avg. Rating"}),p.jsx("th",{className:"px-5 py-3.5 font-black text-[#1e4d2b] uppercase text-[10px] tracking-wider whitespace-nowrap",children:"Date"}),p.jsx("th",{className:"px-5 py-3.5 font-black text-[#1e4d2b] uppercase text-[10px] tracking-wider text-right w-28",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y divide-[#e8e0d4]",children:T.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:Zc[r]?4:3,className:"px-6 py-16 text-center",children:p.jsxs("div",{className:"flex flex-col items-center justify-center text-[#5c7355] rounded-xl border-2 border-dashed border-[#1e4d2b]/25 bg-[#f0f5ee]/80 py-12 mx-4",children:[p.jsx("iconify-icon",{icon:"mdi:database-off-outline",width:"56",class:"opacity-60 animate-pulse"}),p.jsx("p",{className:"mt-3 font-semibold text-[#1e4d2b]",children:"No records found"}),p.jsx("p",{className:"text-xs text-[#5c7355] mt-1",children:"Try adjusting filters or search."})]})})}):T.map(_=>p.jsxs("tr",{className:"hover:bg-[#faf8f5]/90 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] group",children:[p.jsx("td",{className:"px-5 py-3.5",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-[#1e4d2b]/15 to-[#5c7355]/10 text-[#1e4d2b] flex items-center justify-center font-black text-sm shrink-0 border border-[#e8e0d4]/50 group-hover:scale-105 group-hover:from-[#1e4d2b]/20 group-hover:to-[#5c7355]/15 transition-all duration-300",children:Cc(_,r).charAt(0).toUpperCase()}),p.jsx("div",{className:"font-bold text-[#1e4d2b] group-hover:text-[#153019] transition-colors duration-300 max-w-xs sm:max-w-md truncate",title:Cc(_,r),children:Cc(_,r)})]})}),Zc[r]&&p.jsx("td",{className:"px-5 py-3.5 whitespace-nowrap",children:(()=>{const S=Rj(_,r);return S?p.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-[#b8a066]/15 text-[#1e4d2b] font-bold text-xs border border-[#b8a066]/30 group-hover:bg-[#b8a066]/25 group-hover:border-[#b8a066]/50 transition-all duration-300",children:[p.jsx("iconify-icon",{icon:"mdi:star",width:"14",class:"text-[#b8a066]"}),S,"/5"]}):p.jsx("span",{className:"text-[#8a857c] text-sm",children:""})})()}),p.jsxs("td",{className:"px-5 py-3.5 whitespace-nowrap",children:[p.jsx("div",{className:"text-[#1e4d2b] text-xs font-semibold",children:_.createdAt?new Date(_.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):""}),p.jsx("div",{className:"text-[#5c7355] text-[10px] font-medium",children:_.createdAt?new Date(_.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),p.jsx("td",{className:"px-5 py-3.5 text-right",children:p.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[I(_)&&p.jsx("button",{onClick:()=>A(_),className:"p-2 bg-white border-2 border-[#e8e0d4] text-[#1e4d2b] rounded-xl hover:bg-[#1e4d2b]/10 hover:border-[#1e4d2b]/50 hover:scale-110 active:scale-95 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)]",title:"Edit Record",children:p.jsx("iconify-icon",{icon:"mdi:pencil-outline",width:"18"})}),V()&&p.jsx("button",{onClick:()=>B(_.id),className:"p-2 bg-white border-2 border-[#e8e0d4] text-red-600 rounded-xl hover:bg-red-50 hover:border-red-300 hover:scale-110 active:scale-95 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)]",title:"Delete Record",children:p.jsx("iconify-icon",{icon:"mdi:trash-can-outline",width:"18"})})]})})]},_.id))})]})}),p.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-[#faf8f5] to-[#f2ede6] border-t-2 border-[#1e4d2b]/15 px-5 py-2.5 flex justify-between items-center text-[11px] font-bold text-[#5c7355] transition-colors duration-300",children:[p.jsxs("span",{children:["Showing ",T.length," record(s)"]}),T.length>20&&p.jsx("span",{className:"italic",children:"Scroll for more"})]})]}),u&&p.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-in fade-in duration-300",children:[p.jsx("div",{className:"absolute inset-0 bg-[#153019]/80 backdrop-blur-md animate-in fade-in duration-300",onClick:()=>f(null)}),p.jsxs("div",{className:"relative bg-white rounded-2xl border-2 border-[#e8e0d4] shadow-2xl shadow-[#1e4d2b]/20 w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-in zoom-in-95 fade-in duration-300 ease-out",style:{animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:[p.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-6 py-4 flex justify-between items-center relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_20%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("h3",{className:"text-lg font-black text-white uppercase tracking-tight",children:"Edit Record"}),p.jsxs("p",{className:"text-[11px] font-semibold text-white/80 mt-0.5",children:["ID: ",p.jsx("span",{className:"font-mono",children:u})]})]}),p.jsx("button",{onClick:()=>f(null),className:"relative z-10 p-2 rounded-xl bg-white/15 hover:bg-white/25 hover:scale-110 active:scale-95 text-white transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)]",children:p.jsx("iconify-icon",{icon:"mdi:close",width:"24"})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar view-records-scroll bg-gradient-to-b from-[#faf8f5] to-[#f2ede6] border-l-4 border-[#1e4d2b]/25",children:p.jsx("div",{className:"grid gap-5",children:(()=>{const _=["createdBy","updatedAt"],S=B1[r],k=Mh==null?void 0:Mh[r],j=S?S.filter(D=>!_.includes(D)).map(D=>[D,d[D]]):Object.entries(d).filter(([D])=>!_.includes(D)),L=D=>k&&k[D]?k[D]:mp(D);return j.map(([D,q])=>p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-[#1e4d2b] uppercase tracking-wider mb-1.5",children:L(D)}),N(D,q)]},D))})()})}),p.jsxs("div",{className:"shrink-0 px-6 py-4 border-t border-[#e8e0d4] bg-gradient-to-r from-[#faf8f5] to-[#f2ede6] flex justify-end gap-3",children:[p.jsx("button",{type:"button",onClick:()=>f(null),className:"px-5 py-2.5 rounded-xl border-2 border-[#e8e0d4] text-[#1e4d2b] font-bold hover:bg-white hover:border-[#1e4d2b]/50 hover:scale-105 active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] text-sm",children:"Cancel"}),p.jsxs("button",{type:"button",onClick:M,className:"px-5 py-2.5 rounded-xl bg-[#1e4d2b] text-white font-bold hover:bg-[#153019] hover:scale-105 active:scale-[0.98] shadow-lg hover:shadow-xl transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] text-sm flex items-center gap-2",children:[p.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"18"}),"Save Changes"]})]})]})]})]})}/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=(...r)=>r.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase());/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=r=>{const t=Oj(r);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=de.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...c},l)=>de.createElement("svg",{ref:l,...Dj,width:t,height:t,stroke:r,strokeWidth:n?Number(e)*24/Number(t):e,className:z4("lucide",i),...!s&&!Lj(c)&&{"aria-hidden":"true"},...c},[...a.map(([o,u])=>de.createElement(o,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(r,t)=>{const e=de.forwardRef(({className:n,...i},s)=>de.createElement(Fj,{ref:s,iconNode:t,className:z4(`lucide-${Mj(q1(r))}`,`lucide-${r}`,n),...i}));return e.displayName=q1(r),e};/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Fd=lt("activity",Bj);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],W1=lt("arrow-left",Vj);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Gu=lt("award",zj);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$j=lt("book-open",Uj);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],qj=lt("bug",Hj);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],gp=lt("building-2",Wj);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Kj=lt("calendar-clock",Gj);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Qj=lt("calendar-days",Xj);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],U4=lt("calendar",Yj);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],G1=lt("chart-no-axes-column",Zj);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eC=lt("chevron-right",Jj);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],rC=lt("circle-check",tC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],$4=lt("clipboard-check",nC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Kl=lt("clipboard-list",iC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],aC=lt("clock",sC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],E0=lt("file-check",oC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M4.226 20.925A2 2 0 0 0 6 22h12a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v3.127",key:"wfxp4w"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]],cC=lt("file-output",lC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Bd=lt("file-text",uC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],hC=lt("hash",dC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],pC=lt("layout-grid",fC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],gC=lt("link",mC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ri=lt("map-pin",bC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],vC=lt("map",yC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],T0=lt("message-square",xC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],_C=lt("microscope",wC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],kC=lt("package",SC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],EC=lt("phone",NC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],jC=lt("refresh-cw",TC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],j0=lt("ruler",CC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],IC=lt("scan",AC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],H4=lt("search",RC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],MC=lt("send",PC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],DC=lt("shield-check",OC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],FC=lt("smile",LC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],bp=lt("sprout",BC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-6 0c0 2 1 2 1 3.5V13",key:"i9gjdv"}],["path",{d:"M20 15.5a2.5 2.5 0 0 0-2.5-2.5h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1z",key:"1vzg3v"}],["path",{d:"M5 22h14",key:"ehvnwv"}]],zC=lt("stamp",VC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],wo=lt("star",UC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],HC=lt("stethoscope",$C);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],K1=lt("store",qC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],yp=lt("syringe",WC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],KC=lt("tag",GC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]],QC=lt("test-tube-diagonal",XC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ZC=lt("trending-up",YC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eA=lt("triangle-alert",JC);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qs=lt("user",tA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],nA=lt("users",rA);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sA=lt("x",iA),aA={ratingQuantity:"Quantity of Goods/Services",ratingServicesPersonnel:"Services Rendered by Personnel",ratingTraining:"Training Relevance",ratingAttitude:"Attitude (Courteousness)",ratingPromptness:"Promptness"},oA={ratingQuantity:kC,ratingServicesPersonnel:nA,ratingTraining:$j,ratingAttitude:FC,ratingPromptness:aC},lA=[{title:"Registration & Licensing",icon:Gu,theme:"primary",bgHeader:"bg-[#1e4d2b]",textHeader:"text-white",borderColor:"border-[#1e4d2b]",softBg:"bg-[#1e4d2b]/5",hoverBorder:"hover:border-[#1e4d2b]",accentText:"text-[#1e4d2b]",units:["animalFeed","animalWelfare","livestockHandlers","transportCarrier","plantMaterial","organicAgri"]},{title:"Quality Control",icon:DC,theme:"secondary",bgHeader:"bg-[#9a7b4f]",textHeader:"text-white",borderColor:"border-[#9a7b4f]",softBg:"bg-[#9a7b4f]/5",hoverBorder:"hover:border-[#9a7b4f]",accentText:"text-[#9a7b4f]",units:["goodAgriPractices","goodAnimalHusbandry","organicPostMarket","landUseMatter","foodSafety","safdzValidation"]},{title:"Surveillance",icon:Fd,theme:"accent",bgHeader:"bg-[#6b8e5a]",textHeader:"text-white",borderColor:"border-[#6b8e5a]",softBg:"bg-[#6b8e5a]/10",hoverBorder:"hover:border-[#6b8e5a]",accentText:"text-[#6b8e5a]",units:["plantPestSurveillance","cfsAdmcc","animalDiseaseSurveillance"]}];function cA(){const{stats:r,refresh:t}=pj(),[e,n]=de.useState(!1),[i,s]=de.useState(null),a=Object.entries(r.byMonth).sort((f,d)=>f[0].localeCompare(d[0])).slice(-12),c=Object.entries(r.byProvince).sort((f,d)=>d[1]-f[1]),l=Object.entries(r.byUnit).sort((f,d)=>d[1].count-f[1].count),o=Math.max(...a.map(([,f])=>f),1),u=Math.max(...l.map(([,f])=>f.count),1);return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-5 pb-8 relative font-sans text-[#2d2a26]",children:[p.jsx("div",{className:"analytics-section rounded-xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden",style:{animationDelay:"0ms"},children:p.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-4 sm:px-6 py-4 relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Analytics Dashboard"}),p.jsxs("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-1",children:["Live system data  Updated: ",new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsxs("button",{onClick:()=>n(!0),className:"group inline-flex items-center gap-1.5 px-4 py-2 bg-[#b8a066] text-[#153019] rounded-xl hover:bg-[#d4c4a0] hover:scale-105 active:scale-[0.98] shadow-md hover:shadow-lg transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] font-bold text-xs border border-[#b8a066]/50",children:[p.jsx(wo,{size:16,className:"fill-[#153019] transition-transform duration-300 group-hover:scale-110"}),"View Ratings"]}),p.jsxs("button",{type:"button",onClick:()=>t(),className:"group/ref inline-flex items-center gap-1.5 px-4 py-2 bg-white text-[#1e4d2b] rounded-xl hover:bg-[#faf8f5] hover:scale-105 active:scale-[0.98] shadow-md hover:shadow-lg transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] font-bold text-xs border border-white/30",children:[p.jsx(jC,{size:16,className:"shrink-0 transition-transform duration-300 group-hover/ref:rotate-[-30deg]"}),"Refresh"]}),p.jsxs(zr,{to:"/dashboard",className:"inline-flex items-center gap-1.5 px-4 py-2 bg-white/15 backdrop-blur-sm text-white border border-white/25 rounded-xl hover:bg-white/25 hover:border-white/40 hover:scale-105 active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] font-bold text-xs",children:[p.jsx(W1,{size:16}),"Dashboard"]})]})]})]})}),p.jsxs("div",{className:"analytics-section grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",style:{animationDelay:"80ms"},children:[p.jsx(Ac,{title:"Total Records",value:r.total,icon:Bd,gradient:"from-[#1e4d2b] to-[#153019]",iconColor:"text-white"}),p.jsx(Ac,{title:"Active Units",value:ds.length,icon:pC,gradient:"from-[#5c7355] to-[#4a6b3c]",iconColor:"text-white"}),p.jsx(Ac,{title:"Data Points",value:Object.keys(r.byMonth).length,icon:U4,gradient:"from-[#b8a066] to-[#d4c4a0]",iconColor:"text-[#153019]"}),p.jsx(Ac,{title:"Provinces",value:Object.keys(r.byProvince).length,icon:ri,gradient:"from-[#9a7b4f] to-[#8f7a45]",iconColor:"text-white"})]}),p.jsxs("div",{className:"analytics-section grid lg:grid-cols-3 gap-4 h-full",style:{animationDelay:"160ms"},children:[p.jsxs("div",{className:"lg:col-span-2 rounded-xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 overflow-hidden flex flex-col min-h-[320px] bg-white group/card hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-4 sm:px-5 py-3 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.12),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-base font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Monthly Trends"}),p.jsx("p",{className:"text-[10px] font-semibold text-white/80 tracking-wider mt-0.5",children:"Volume over time"})]}),p.jsx("div",{className:"p-2 rounded-lg bg-white/15 backdrop-blur-sm border border-white/20 text-[#d4c4a0]",children:p.jsx(ZC,{size:18})})]})]}),p.jsx("div",{className:"flex-1 p-4 sm:p-5 flex flex-col min-h-0 bg-[linear-gradient(180deg,#faf8f5_0%,#f5f0e8_50%,#efe9e0_100%)] border-l-4 border-[#1e4d2b]/25",children:p.jsxs("div",{className:"flex-1 flex items-end gap-1.5 sm:gap-2 pb-1 overflow-x-auto custom-scrollbar view-records-scroll min-h-[200px] relative",children:[p.jsx("div",{className:"absolute inset-0 pointer-events-none flex flex-col justify-between pt-0 pb-8 px-2","aria-hidden":!0,children:[0,1,2,3,4].map(f=>p.jsx("div",{className:"w-full h-px bg-[#d4cdc0]/40"},f))}),a.length===0?p.jsx("div",{className:"w-full flex items-center justify-center text-[#5c574f] py-8 rounded-lg border-2 border-dashed border-[#1e4d2b]/25 bg-[#f0f5ee]/80",children:p.jsx("span",{className:"text-xs font-medium",children:"No data available"})}):a.map(([f,d])=>{const h=o>0?d/o*100:0,g=d===o&&o>0;return p.jsxs("div",{className:"group flex flex-col items-center flex-1 min-w-[32px] sm:min-w-[40px] relative z-10",children:[p.jsxs("div",{className:"mb-1.5 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] -translate-y-1 group-hover:translate-y-0 bg-[#1e4d2b] text-white text-[9px] font-bold px-2 py-1 rounded-md shadow-xl whitespace-nowrap z-20 pointer-events-none border border-white/30 backdrop-blur-sm",children:[d," ",p.jsx("span",{className:"opacity-90",children:"records"})]}),p.jsx("div",{className:"relative w-full rounded-t-lg flex items-end overflow-hidden h-[165px] bg-white/50 border border-[#e8e0d4] shadow-inner",children:p.jsx("div",{className:`w-full rounded-t-lg transition-all duration-700 ease-[cubic-bezier(0.16,1,0.3,1)] group-hover:brightness-110 relative overflow-hidden ${g?"bg-gradient-to-t from-[#0d1f14] via-[#153019] to-[#1e4d2b] shadow-inner":"bg-gradient-to-t from-[#153019] via-[#1e4d2b] to-[#5c7355]"}`,style:{height:`${Math.max(h,4)}%`},children:p.jsx("div",{className:"absolute top-0 left-0 right-0 h-4 bg-gradient-to-b from-white/25 to-transparent rounded-t-lg"})})}),p.jsx("div",{className:"mt-2 text-[9px] font-bold text-[#5c7355] truncate w-full text-center group-hover:text-[#1e4d2b] transition-colors duration-300",children:fp(f)})]},f)})]})})]}),p.jsxs("div",{className:"rounded-xl border-2 border-[#e8e0d4] shadow-lg shadow-[#b8a066]/15 overflow-hidden flex flex-col max-h-[380px] bg-white hover:shadow-xl hover:shadow-[#b8a066]/20 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-[#9a7b4f] via-[#b8a066] to-[#8f7a45] px-4 sm:px-5 py-3 relative overflow-hidden border-b-2 border-[#b8a066]/25",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_80%_0%,rgba(255,255,255,0.12),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-base font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Top Units"}),p.jsx("p",{className:"text-[10px] font-semibold text-white/80 tracking-wider mt-0.5",children:"By submission volume"})]}),p.jsx("div",{className:"p-2 rounded-lg bg-white/15 backdrop-blur-sm border border-white/20 text-white",children:p.jsx(Gu,{size:18})})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-3 custom-scrollbar view-records-scroll bg-gradient-to-b from-[#faf8f5] to-[#f2ede6] min-h-0 border-l-4 border-[#b8a066]/25",children:p.jsx("div",{className:"space-y-2.5",children:l.map(([f,d],h)=>p.jsxs("div",{className:"group relative bg-white/80 backdrop-blur-sm rounded-lg border border-[#e8e0d4] p-2.5 hover:border-[#b8a066]/40 hover:shadow-md hover:bg-white transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[p.jsxs("div",{className:"flex items-center gap-2 overflow-hidden min-w-0",children:[p.jsx("div",{className:`w-6 h-6 rounded-md flex items-center justify-center text-[10px] font-black shrink-0 shadow-md ring-1 ring-black/5
                            ${h===0?"bg-gradient-to-br from-[#b8a066] to-[#9a7b4f] text-[#153019]":h===1?"bg-gradient-to-br from-[#9a7b4f] to-[#8f7a45] text-white":h===2?"bg-gradient-to-br from-[#1e4d2b] to-[#153019] text-white":"bg-[#e8e0d4] text-[#5c574f]"}`,children:h+1}),p.jsx("span",{className:"text-[11px] font-bold text-[#1e4d2b] truncate uppercase tracking-tight",title:d.label,children:d.label})]}),p.jsx("span",{className:"text-xs font-black text-[#1e4d2b] shrink-0 ml-1.5",children:d.count})]}),p.jsx("div",{className:"w-full h-1.5 bg-[#e8e0d4]/80 rounded-full overflow-hidden",children:p.jsx("div",{className:`h-full rounded-full transition-all duration-700 ease-[cubic-bezier(0.16,1,0.3,1)] ${h===0?"bg-gradient-to-r from-[#b8a066] to-[#9a7b4f]":h===1?"bg-gradient-to-r from-[#9a7b4f] to-[#8f7a45]":"bg-gradient-to-r from-[#1e4d2b] to-[#153019]"}`,style:{width:`${d.count/u*100}%`}})})]},f))})})]})]}),p.jsxs("div",{className:"analytics-section rounded-xl border-2 border-[#e8e0d4] shadow-lg shadow-[#b8a066]/12 overflow-hidden bg-white hover:shadow-xl hover:shadow-[#b8a066]/18 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",style:{animationDelay:"240ms"},children:[p.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-[#9a7b4f] via-[#b8a066] to-[#8f7a45] px-4 sm:px-5 py-3 relative overflow-hidden border-b-2 border-[#b8a066]/25",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_20%_0%,rgba(255,255,255,0.12),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-base font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Geographic Data"}),p.jsx("p",{className:"text-[10px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Records by Province"})]}),p.jsx("div",{className:"p-2 rounded-lg bg-white/15 backdrop-blur-sm border border-white/20 text-white",children:p.jsx(ri,{size:18})})]})]}),p.jsx("div",{className:"p-4 sm:p-5 bg-[linear-gradient(180deg,#faf8f5_0%,#f5f0e8_50%,#efe9e0_100%)] border-l-4 border-[#b8a066]/25",children:p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2.5 sm:gap-3",children:c.map(([f,d],h)=>{const g=c.length>0?Math.max(...c.map(([,v])=>v)):1,b=g>0?d/g*100:0,m=h<3;return p.jsxs("div",{className:"group relative bg-white rounded-lg border-2 border-[#e8e0d4] p-3 shadow-md hover:shadow-xl hover:border-[#b8a066]/50 hover:-translate-y-0.5 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-[#b8a066]/15 to-transparent rounded-bl-full pointer-events-none"}),m&&p.jsx("div",{className:`absolute top-1.5 right-1.5 w-6 h-6 rounded-md flex items-center justify-center text-[10px] font-black shadow-md ring-1 ring-black/10 ${h===0?"bg-gradient-to-br from-[#b8a066] to-[#9a7b4f] text-[#153019]":h===1?"bg-gradient-to-br from-[#5c7355] to-[#4a6b3c] text-white":"bg-gradient-to-br from-[#1e4d2b] to-[#153019] text-white"}`,children:h+1}),p.jsxs("div",{className:"flex flex-col items-center text-center relative z-10",children:[p.jsx("div",{className:"p-1.5 rounded-lg bg-[#faf8f5] border border-[#e8e0d4] text-[#9a7b4f] group-hover:bg-[#b8a066]/15 group-hover:border-[#b8a066]/30 group-hover:text-[#8f7a45] transition-colors duration-300 mb-1.5",children:p.jsx(ri,{size:14,className:"mx-auto"})}),p.jsx("span",{className:"text-xl sm:text-2xl font-black text-[#1e4d2b] group-hover:scale-105 transition-transform duration-300",children:d}),p.jsx("span",{className:"text-[9px] font-bold text-[#5c7355] uppercase tracking-wider mt-1 truncate w-full",children:f}),p.jsx("div",{className:"w-full h-1.5 mt-2 bg-[#e8e0d4]/80 rounded-full overflow-hidden shadow-inner",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-[#9a7b4f] to-[#b8a066] rounded-full transition-[width] duration-700 ease-[cubic-bezier(0.16,1,0.3,1)]",style:{width:`${Math.max(b,8)}%`}})})]})]},f)})})})]})]}),e&&vm.createPortal(p.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 sm:p-6 w-full h-full overflow-hidden isolate",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#153019]/95 via-[#1e4d2b]/90 to-[#0d1f14]/95 backdrop-blur-lg animate-in fade-in duration-500 ease-out",style:{animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},onClick:()=>{n(!1),s(null)}}),p.jsx("div",{className:"relative w-full max-w-5xl max-h-[88vh] flex flex-col overflow-hidden animate-in zoom-in-95 duration-500 z-50 rounded-[1.75rem] shadow-[0_25px_80px_-12px_rgba(0,0,0,0.4),0_0_0_1px_rgba(255,255,255,0.1)_inset] ring-2 ring-white/20",style:{animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:p.jsxs("div",{className:"rounded-[1.75rem] overflow-hidden bg-[#faf8f5] flex flex-col h-full min-h-0",children:[p.jsxs("div",{className:"px-6 sm:px-8 py-5 sm:py-6 flex justify-between items-center shrink-0 z-10 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_80%_at_50%_-20%,rgba(255,255,255,0.15),transparent)]"}),p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"}),p.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[p.jsx("div",{className:"p-3 rounded-2xl bg-white/15 backdrop-blur-sm border border-white/25 shadow-lg",children:p.jsx(wo,{size:26,className:"text-[#d4c4a0] fill-[#d4c4a0]"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl sm:text-2xl font-black uppercase tracking-tight leading-tight text-white drop-shadow-sm",children:i?"Unit Performance":"Satisfaction Ratings"}),p.jsx("p",{className:"text-[11px] font-semibold text-white/80 tracking-widest uppercase mt-1.5",children:i?"Detailed feedback analysis":"Select a unit to view metrics"})]})]}),p.jsx("button",{onClick:()=>{n(!1),s(null)},className:"relative z-10 p-2.5 rounded-xl bg-white/10 hover:bg-white/25 text-white/90 hover:text-white transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] border border-white/20 hover:border-white/40 hover:scale-105 active:scale-95",children:p.jsx(sA,{size:22,strokeWidth:2.5})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar ratings-modal-scroll p-5 sm:p-6 md:p-7 relative bg-[linear-gradient(180deg,#faf8f5_0%,#f5f0e8_100%)] min-h-0",children:[!i&&p.jsx("div",{className:"grid md:grid-cols-3 gap-6 h-full items-stretch",children:lA.map((f,d)=>{const h=(()=>{let b=0,m=0;return f.units.forEach(y=>{const w=r.unitRatings&&r.unitRatings[y];w&&w.ratedCount>0&&w.overallAvg!=null&&(b+=w.overallAvg*w.ratedCount,m+=w.ratedCount)}),{avg:m>0?b/m:null,totalRatings:m}})(),g=h.avg!=null&&h.totalRatings>0;return p.jsxs("div",{className:`group/card rounded-2xl border-2 ${f.borderColor} bg-white shadow-lg hover:shadow-xl hover:shadow-[#2d2a26]/10 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] overflow-hidden flex flex-col min-h-[280px] animate-in slide-in-from-bottom-4 fade-in`,style:{animationDelay:`${d*120}ms`,animationDuration:"0.6s",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:[p.jsxs("div",{className:`px-5 py-4 ${f.bgHeader} flex flex-col items-center text-center gap-2 relative overflow-hidden shrink-0 transition-transform duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover/card:scale-[1.02]`,children:[p.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(135deg,transparent_0%,rgba(0,0,0,0.08)_100%)] opacity-60 transition-opacity duration-500"}),p.jsx(f.icon,{className:"absolute -right-4 -top-4 w-20 h-20 text-white/10 rotate-12 transition-transform duration-700 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover/card:rotate-6 group-hover/card:scale-110",size:80,strokeWidth:1.5}),p.jsx("div",{className:"relative z-10 p-3 rounded-2xl bg-white/25 backdrop-blur-sm border border-white/40 shadow-inner",children:p.jsx(f.icon,{size:24,strokeWidth:2,className:"text-white"})}),p.jsx("h4",{className:`font-black text-[11px] uppercase tracking-[0.2em] ${f.textHeader} relative z-10 leading-tight`,children:f.title}),p.jsx("div",{className:`relative z-10 w-full mt-2 px-3 py-2.5 rounded-xl border backdrop-blur-sm ${g?"bg-white/25 border-white/40 shadow-inner":"bg-white/10 border-white/20"}`,children:g?p.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[p.jsx("span",{className:"text-[8px] font-black text-white/90 uppercase tracking-widest",children:"Section Overall"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(b=>p.jsx(wo,{size:12,className:b<=Math.round(h.avg)?"text-[#fcd34d] fill-[#fcd34d]":"text-white/40"},b))}),p.jsx("span",{className:"text-base font-black text-white tabular-nums",children:h.avg.toFixed(1)}),p.jsx("span",{className:"text-[10px] font-bold text-white/80",children:"/ 5"})]}),p.jsxs("p",{className:"text-[8px] font-bold text-white/85",children:[h.totalRatings," rating",h.totalRatings!==1?"s":""," across units"]})]}):p.jsx("p",{className:"text-[9px] font-semibold text-white/75 uppercase tracking-wider",children:"No ratings yet"})})]}),p.jsx("div",{className:`p-3 sm:p-4 space-y-2.5 flex-1 ${f.softBg} flex flex-col`,children:f.units.map((b,m)=>{var T,I;const v=((T=ds.find(V=>V.id===b))==null?void 0:T.label)||b,y=r.unitRatings&&((I=r.unitRatings[b])==null?void 0:I.totalRecords)>0,w=y?r.unitRatings[b].ratedCount:0;return p.jsxs("button",{onClick:()=>s(b),disabled:!y,className:`w-full flex items-center justify-between gap-3 p-3.5 rounded-xl text-left transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] group/item relative overflow-hidden
                                ${y?`bg-white border border-[#e8e0d4] hover:border-[currentColor] ${f.hoverBorder} hover:shadow-md cursor-pointer shadow-sm hover:bg-white hover:translate-x-1`:"bg-[#f5f0e8]/60 border border-transparent opacity-70 cursor-not-allowed"}
                              `,children:[y&&p.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 rounded-l-xl ${f.bgHeader} opacity-0 group-hover/item:opacity-100 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] scale-y-0 group-hover/item:scale-y-100 origin-center`}),p.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[p.jsx("span",{className:`text-[11px] font-extrabold uppercase tracking-tight truncate transition-colors duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] ${y?`text-[#2d2a26] group-hover/item:${f.accentText}`:"text-[#5c574f]"}`,children:v}),y?p.jsxs("span",{className:`inline-flex items-center gap-1.5 mt-1.5 w-fit text-[9px] font-bold ${f.accentText} opacity-90`,children:[p.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${f.bgHeader} shrink-0`}),w," rating",w!==1?"s":""]}):p.jsx("span",{className:"text-[9px] text-[#8a857c] italic mt-1 font-medium",children:"No data"})]}),y&&p.jsx("div",{className:"p-2 rounded-lg bg-[#faf8f5] border border-[#e8e0d4] text-[#2d2a26] shrink-0 transition-transform duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover/item:translate-x-0.5",children:p.jsx(eC,{size:16,strokeWidth:2.5,className:"opacity-100"})})]},b)})})]},d)})}),i&&p.jsx("div",{className:"animate-in slide-in-from-right-6 fade-in h-full flex flex-col relative z-10",style:{animationDuration:"0.5s",animationTimingFunction:"cubic-bezier(0.16, 1, 0.3, 1)"},children:(()=>{var h;const f=r.unitRatings[i],d=((h=ds.find(g=>g.id===i))==null?void 0:h.label)||i;return p.jsxs("div",{className:"max-w-5xl mx-auto w-full h-full flex flex-col min-h-0",children:[p.jsxs("button",{onClick:()=>s(null),className:"group shrink-0 inline-flex items-center gap-2.5 text-[11px] font-black uppercase tracking-widest text-[#5c7355] hover:text-[#1e4d2b] bg-white px-4 py-2.5 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] border-2 border-[#e8e0d4] hover:border-[#1e4d2b] w-fit mb-4",children:[p.jsx(W1,{size:16,className:"transition-transform duration-300 group-hover:-translate-x-0.5",strokeWidth:2.5}),"Back to Units"]}),p.jsxs("div",{className:"flex-1 min-h-0 flex flex-col bg-white rounded-2xl border-2 border-[#e8e0d4] shadow-xl shadow-[#1e4d2b]/8 overflow-hidden",children:[p.jsxs("div",{className:"shrink-0 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-5 text-white relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_90%_70%_at_50%_0%,rgba(255,255,255,0.12),transparent_50%)]"}),p.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 opacity-[0.07]",children:p.jsx(Gu,{size:96})}),p.jsxs("div",{className:"relative z-10 flex flex-wrap items-center gap-x-5 gap-y-2",children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-black uppercase tracking-tight text-white drop-shadow-sm",children:d}),p.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-xl bg-white/15 border border-white/25 text-[11px] font-bold backdrop-blur-sm",children:[p.jsx(G1,{size:14,className:"text-[#d4c4a0]"})," Metrics"]}),p.jsxs("span",{className:"inline-flex items-center gap-1.5 text-[11px] font-semibold text-white/90",children:[p.jsx(rC,{size:14,className:"text-[#b8a066]"})," ",f.ratedCount," validated record",f.ratedCount!==1?"s":""]})]})]}),p.jsxs("div",{className:"flex-1 min-h-0 p-5 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5 bg-gradient-to-b from-[#faf8f5] to-[#f2ede6]",children:[p.jsxs("div",{className:"flex flex-col justify-center items-center text-center p-5 sm:p-6 bg-white rounded-2xl border-2 border-[#e8e0d4] relative overflow-hidden group hover:border-[#b8a066]/50 hover:shadow-xl hover:shadow-[#b8a066]/10 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,#b8a066_0px,transparent_60px)] opacity-[0.06] group-hover:opacity-10 transition-opacity duration-300"}),p.jsx("p",{className:"relative z-10 text-[10px] font-black text-[#5c7355] uppercase tracking-[0.2em] mb-3",children:"Overall Satisfaction"}),p.jsxs("div",{className:"relative z-10 flex items-baseline gap-1.5",children:[p.jsx("span",{className:"text-5xl sm:text-6xl font-black text-[#1e4d2b] leading-none drop-shadow-sm",children:f.overallAvg.toFixed(1)}),p.jsx("span",{className:"text-base font-bold text-[#8a857c]",children:"/ 5"})]}),p.jsx("div",{className:"relative z-10 flex gap-1.5 mt-4 px-3 py-2 rounded-xl bg-[#faf8f5] border border-[#e8e0d4]",children:[1,2,3,4,5].map(g=>p.jsx(wo,{size:18,fill:g<=Math.round(f.overallAvg)?"#b8a066":"#e5e7eb",className:`transition-transform duration-200 group-hover:scale-105 ${g<=Math.round(f.overallAvg)?"text-[#b8a066]":"text-gray-200"}`},g))})]}),p.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl border-2 border-[#e8e0d4] p-4 shadow-lg shadow-[#1e4d2b]/5 flex flex-col",children:[p.jsxs("h4",{className:"text-[10px] font-black text-[#1e4d2b] uppercase tracking-wider mb-3 flex items-center gap-2",children:[p.jsx("span",{className:"p-1.5 rounded-lg bg-[#1e4d2b]/10",children:p.jsx(Fd,{size:14,className:"text-[#1e4d2b]"})}),"Criteria Breakdown"]}),p.jsx("div",{className:"space-y-2",children:Object.entries(f.averages||{}).map(([g,b])=>{const v=(b!=null?parseFloat(b):0)/5*100,y=oA[g];return p.jsxs("div",{className:"group/crit px-3 py-2 rounded-xl bg-[#faf8f5] border border-[#e8e0d4] hover:border-[#1e4d2b]/30 hover:bg-white transition-all duration-200",children:[p.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[p.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[y&&p.jsx("span",{className:"p-1.5 rounded-lg bg-[#1e4d2b]/10 shrink-0",children:p.jsx(y,{size:12,className:"text-[#1e4d2b]"})}),p.jsx("span",{className:"text-[9px] sm:text-[10px] font-bold uppercase tracking-tight text-[#2d2a26] truncate",children:aA[g]||g})]}),p.jsx("span",{className:"px-2 py-0.5 rounded-lg bg-[#1e4d2b] text-white text-[10px] font-black shrink-0",children:b??""})]}),p.jsx("div",{className:"w-full h-2 bg-[#e8e0d4] rounded-full overflow-hidden shadow-inner",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-[#5c7355] to-[#1e4d2b] rounded-full transition-[width] duration-700 ease-[cubic-bezier(0.16,1,0.3,1)]",style:{width:`${v}%`}})})]},g)})})]}),p.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl border-2 border-[#e8e0d4] p-4 shadow-lg shadow-[#1e4d2b]/5 flex flex-col min-h-0",children:[p.jsxs("h4",{className:"text-[10px] font-black text-[#1e4d2b] uppercase tracking-wider mb-3 flex items-center gap-2 shrink-0",children:[p.jsx("span",{className:"p-1.5 rounded-lg bg-[#6b8e5a]/20",children:p.jsx(G1,{size:14,className:"text-[#6b8e5a]"})}),"Response Distribution"]}),p.jsx("div",{className:"flex items-end gap-2 flex-1 min-h-[88px] h-24",children:[1,2,3,4,5].map(g=>{const b=f.byScore||{},m=Number(b[g]??b[String(g)]??0),v=Object.keys(b).reduce((V,B)=>V+Number(b[B]||0),0),y=v>0?m/v*100:0,w=v>0?Math.max(y/100*88,6):6,T=g>=4,I=g===3;return p.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center gap-2 group relative h-full",children:[p.jsxs("span",{className:"absolute -top-7 left-1/2 -translate-x-1/2 text-[9px] font-bold text-[#1e4d2b] opacity-0 group-hover:opacity-100 bg-white px-2 py-1 rounded-lg shadow-md border border-[#e8e0d4] whitespace-nowrap z-10 transition-all duration-200",children:[y.toFixed(0),"% (",m,")"]}),p.jsx("div",{className:`w-full rounded-t-lg flex-shrink-0 transition-all duration-500 ease-[cubic-bezier(0.16,1,0.3,1)] group-hover:brightness-110 ${T?"bg-gradient-to-t from-[#153019] to-[#1e4d2b]":I?"bg-gradient-to-t from-[#8f7a45] to-[#b8a066]":"bg-gradient-to-t from-[#a04a3a] to-[#c45c4a]"}`,style:{height:`${w}px`,minHeight:"6px"}}),p.jsxs("span",{className:"text-[9px] font-bold text-[#5c7355] flex items-center gap-1 shrink-0",children:[p.jsx(wo,{size:10,className:"fill-[#b8a066] text-[#b8a066]"}),g]})]},g)})})]})]})]})]})})()})]})]})})]}),document.body)]})}function Ac({title:r,value:t,icon:e,gradient:n,iconColor:i}){return p.jsxs("div",{className:"relative bg-white p-4 rounded-xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/5 hover:shadow-xl hover:shadow-[#1e4d2b]/10 hover:-translate-y-0.5 hover:border-[#1e4d2b]/30 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-[#1e4d2b]/40 via-[#5c7355]/30 to-[#b8a066]/20 rounded-t-xl"}),p.jsx("div",{className:`absolute top-0 right-0 w-28 h-28 bg-gradient-to-br ${n} opacity-[0.06] rounded-bl-full -mr-8 -mt-8 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover:opacity-10 group-hover:scale-110`}),p.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[9px] font-black text-[#5c574f] uppercase tracking-[0.18em] transition-colors duration-300 group-hover:text-[#1e4d2b]",children:r}),p.jsx("h3",{className:"text-2xl sm:text-3xl font-black mt-1.5 tracking-tighter text-[#1e4d2b] transition-transform duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover:scale-105",children:t})]}),p.jsx("div",{className:`w-10 h-10 rounded-xl bg-gradient-to-br ${n} flex items-center justify-center shadow-lg ring-2 ring-white/50 transform rotate-3 transition-transform duration-500 ease-[cubic-bezier(0.33,1,0.68,1)] group-hover:rotate-6 group-hover:scale-110`,children:p.jsx(e,{size:18,className:`${i} transition-transform duration-300 group-hover:scale-110`})})]})]})}function Qr({title:r,children:t}){return p.jsxs("div",{className:"w-full min-w-0 max-w-full overflow-x-hidden",children:[p.jsx("div",{className:"flex items-center gap-2 sm:gap-4 mb-4 sm:mb-6",children:p.jsxs(zr,{to:"/dashboard",className:"inline-flex items-center gap-2 px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-[#1e4d2b] font-bold text-sm shadow-sm hover:bg-[#1e4d2b]/10 hover:border-[#1e4d2b]/50 hover:shadow-md hover:scale-105 active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] min-h-[44px] items-center",children:[p.jsx("iconify-icon",{icon:"mdi:arrow-left",width:"20"}),"Back to Dashboard"]})}),p.jsx("h2",{className:"text-lg sm:text-xl font-bold text-primary mb-4 sm:mb-6",children:r}),p.jsx("div",{className:"bg-white rounded-lg sm:rounded-xl border border-border p-4 sm:p-6 overflow-visible min-w-0",children:t})]})}const _o=[{value:"",label:"Select..."},{value:"1",label:"Poor (1)"},{value:"2",label:"Fair (2)"},{value:"3",label:"Satisfied (3)"},{value:"4",label:"Very Satisfied (4)"},{value:"5",label:"Excellent (5)"}];function cn({ratings:r={},onChange:t}){const e=n=>r[n]??"";return p.jsx("div",{className:"overflow-hidden border-2 border-[#e8e0d4] rounded-xl mb-5 hover:border-[#1e4d2b]/20 transition-colors duration-300",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-[#f0f5ee] border-b-2 border-[#1e4d2b]/15",children:[p.jsx("th",{className:"text-left py-4 px-4 font-bold text-[#1e4d2b] uppercase text-xs",children:"Rating Criteria"}),p.jsx("th",{className:"text-center py-4 px-2 w-48 font-bold text-[#1e4d2b] uppercase text-xs",children:"Score"})]})}),p.jsxs("tbody",{className:"divide-y divide-[#e8e0d4]",children:[p.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[p.jsx("td",{className:"py-3 px-4 font-medium text-[#1e4d2b]",children:"1. Quantity of Services Provided"}),p.jsx("td",{className:"py-2 px-2",children:p.jsx(Bt,{options:_o,value:e("ratingQuantity"),onChange:n=>t==null?void 0:t("ratingQuantity",n),placeholder:"Select...","aria-label":"Score",className:"min-w-[140px]"})})]}),p.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[p.jsx("td",{className:"py-3 px-4 font-medium text-[#1e4d2b]",children:"2. Personnel Service Quality"}),p.jsx("td",{className:"py-2 px-2",children:p.jsx(Bt,{options:_o,value:e("ratingServicesPersonnel"),onChange:n=>t==null?void 0:t("ratingServicesPersonnel",n),placeholder:"Select...","aria-label":"Score",className:"min-w-[140px]"})})]}),p.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[p.jsx("td",{className:"py-3 px-4 pl-8 text-[#5c574f] italic",children:"2.1 Relevance of training"}),p.jsx("td",{className:"py-2 px-2",children:p.jsx(Bt,{options:_o,value:e("ratingTraining"),onChange:n=>t==null?void 0:t("ratingTraining",n),placeholder:"Select...","aria-label":"Score",className:"min-w-[140px]"})})]}),p.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[p.jsx("td",{className:"py-3 px-4 pl-8 text-[#5c574f] italic",children:"2.2 Attitude (Courteousness)"}),p.jsx("td",{className:"py-2 px-2",children:p.jsx(Bt,{options:_o,value:e("ratingAttitude"),onChange:n=>t==null?void 0:t("ratingAttitude",n),placeholder:"Select...","aria-label":"Score",className:"min-w-[140px]"})})]}),p.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[p.jsx("td",{className:"py-3 px-4 pl-8 text-[#5c574f] italic",children:"2.3 Promptness"}),p.jsx("td",{className:"py-2 px-2",children:p.jsx(Bt,{options:_o,value:e("ratingPromptness"),onChange:n=>t==null?void 0:t("ratingPromptness",n),placeholder:"Select...","aria-label":"Score",className:"min-w-[140px]"})})]})]})]})})})}function Yr(r){const[t,e]=de.useState(!1),[n,i]=de.useState(null),{user:s}=so();return{submit:async(c,l=null)=>{e(!0),i(null);try{const o={...c,createdBy:(s==null?void 0:s.uid)||null,createdAt:new Date().toISOString()};return l?(await c4(Ei(En,r,l),{...c,updatedAt:new Date().toISOString()}),i({type:"success",text:"Record updated successfully."})):(await $E($u(En,r),o),i({type:"success",text:"Record saved successfully."})),!0}catch(o){return i({type:"error",text:o.message||"Failed to save."}),!1}finally{e(!1)}},loading:t,message:n,setMessage:i}}/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 3.0.2
*/const q4=Object.freeze({left:0,top:0,width:16,height:16}),Ku=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Xl=Object.freeze({...q4,...Ku}),vp=Object.freeze({...Xl,body:"",hidden:!1}),uA=Object.freeze({width:null,height:null}),W4=Object.freeze({...uA,...Ku});function dA(r,t=0){const e=r.replace(/^-?[0-9.]*/,"");function n(i){for(;i<0;)i+=4;return i%4}if(e===""){const i=parseInt(r);return isNaN(i)?0:n(i)}else if(e!==r){let i=0;switch(e){case"%":i=25;break;case"deg":i=90}if(i){let s=parseFloat(r.slice(0,r.length-e.length));return isNaN(s)?0:(s=s/i,s%1===0?n(s):0)}}return t}const hA=/[\s,]+/;function fA(r,t){t.split(hA).forEach(e=>{switch(e.trim()){case"horizontal":r.hFlip=!0;break;case"vertical":r.vFlip=!0;break}})}const G4={...W4,preserveAspectRatio:""};function X1(r){const t={...G4},e=(n,i)=>r.getAttribute(n)||i;return t.width=e("width",null),t.height=e("height",null),t.rotate=dA(e("rotate","")),fA(t,e("flip","")),t.preserveAspectRatio=e("preserveAspectRatio",e("preserveaspectratio","")),t}function pA(r,t){for(const e in G4)if(r[e]!==t[e])return!0;return!1}const K4=/^[a-z0-9]+(-[a-z0-9]+)*$/,Ql=(r,t,e,n="")=>{const i=r.split(":");if(r.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const c=i.pop(),l=i.pop(),o={provider:i.length>0?i[0]:n,prefix:l,name:c};return t&&!Jc(o)?null:o}const s=i[0],a=s.split("-");if(a.length>1){const c={provider:n,prefix:a.shift(),name:a.join("-")};return t&&!Jc(c)?null:c}if(e&&n===""){const c={provider:n,prefix:"",name:s};return t&&!Jc(c,e)?null:c}return null},Jc=(r,t)=>r?!!((t&&r.prefix===""||r.prefix)&&r.name):!1;function mA(r,t){const e=r.icons,n=r.aliases||Object.create(null),i=Object.create(null);function s(a){if(e[a])return i[a]=[];if(!(a in i)){i[a]=null;const c=n[a]&&n[a].parent,l=c&&s(c);l&&(i[a]=[c].concat(l))}return i[a]}return Object.keys(e).concat(Object.keys(n)).forEach(s),i}function gA(r,t){const e={};!r.hFlip!=!t.hFlip&&(e.hFlip=!0),!r.vFlip!=!t.vFlip&&(e.vFlip=!0);const n=((r.rotate||0)+(t.rotate||0))%4;return n&&(e.rotate=n),e}function Q1(r,t){const e=gA(r,t);for(const n in vp)n in Ku?n in r&&!(n in e)&&(e[n]=Ku[n]):n in t?e[n]=t[n]:n in r&&(e[n]=r[n]);return e}function bA(r,t,e){const n=r.icons,i=r.aliases||Object.create(null);let s={};function a(c){s=Q1(n[c]||i[c],s)}return a(t),e.forEach(a),Q1(r,s)}function X4(r,t){const e=[];if(typeof r!="object"||typeof r.icons!="object")return e;r.not_found instanceof Array&&r.not_found.forEach(i=>{t(i,null),e.push(i)});const n=mA(r);for(const i in n){const s=n[i];s&&(t(i,bA(r,i,s)),e.push(i))}return e}const yA={provider:"",aliases:{},not_found:{},...q4};function Lh(r,t){for(const e in t)if(e in r&&typeof r[e]!=typeof t[e])return!1;return!0}function Q4(r){if(typeof r!="object"||r===null)return null;const t=r;if(typeof t.prefix!="string"||!r.icons||typeof r.icons!="object"||!Lh(r,yA))return null;const e=t.icons;for(const i in e){const s=e[i];if(!i||typeof s.body!="string"||!Lh(s,vp))return null}const n=t.aliases||Object.create(null);for(const i in n){const s=n[i],a=s.parent;if(!i||typeof a!="string"||!e[a]&&!n[a]||!Lh(s,vp))return null}return t}const Xu=Object.create(null);function vA(r,t){return{provider:r,prefix:t,icons:Object.create(null),missing:new Set}}function ji(r,t){const e=Xu[r]||(Xu[r]=Object.create(null));return e[t]||(e[t]=vA(r,t))}function Y4(r,t){return Q4(t)?X4(t,(e,n)=>{n?r.icons[e]=n:r.missing.add(e)}):[]}function xA(r,t,e){try{if(typeof e.body=="string")return r.icons[t]={...e},!0}catch{}return!1}function wA(r,t){let e=[];return(typeof r=="string"?[r]:Object.keys(Xu)).forEach(n=>{(typeof n=="string"&&typeof t=="string"?[t]:Object.keys(Xu[n]||{})).forEach(i=>{const s=ji(n,i);e=e.concat(Object.keys(s.icons).map(a=>(n!==""?"@"+n+":":"")+i+":"+a))})}),e}let Tl=!1;function Z4(r){return typeof r=="boolean"&&(Tl=r),Tl}function jl(r){const t=typeof r=="string"?Ql(r,!0,Tl):r;if(t){const e=ji(t.provider,t.prefix),n=t.name;return e.icons[n]||(e.missing.has(n)?null:void 0)}}function J4(r,t){const e=Ql(r,!0,Tl);if(!e)return!1;const n=ji(e.provider,e.prefix);return t?xA(n,e.name,t):(n.missing.add(e.name),!0)}function Y1(r,t){if(typeof r!="object")return!1;if(typeof t!="string"&&(t=r.provider||""),Tl&&!t&&!r.prefix){let n=!1;return Q4(r)&&(r.prefix="",X4(r,(i,s)=>{J4(i,s)&&(n=!0)})),n}const e=r.prefix;return Jc({prefix:e,name:"a"})?!!Y4(ji(t,e),r):!1}function _A(r){return!!jl(r)}function SA(r){const t=jl(r);return t&&{...Xl,...t}}function e_(r,t){r.forEach(e=>{const n=e.loaderCallbacks;n&&(e.loaderCallbacks=n.filter(i=>i.id!==t))})}function kA(r){r.pendingCallbacksFlag||(r.pendingCallbacksFlag=!0,setTimeout(()=>{r.pendingCallbacksFlag=!1;const t=r.loaderCallbacks?r.loaderCallbacks.slice(0):[];if(!t.length)return;let e=!1;const n=r.provider,i=r.prefix;t.forEach(s=>{const a=s.icons,c=a.pending.length;a.pending=a.pending.filter(l=>{if(l.prefix!==i)return!0;const o=l.name;if(r.icons[o])a.loaded.push({provider:n,prefix:i,name:o});else if(r.missing.has(o))a.missing.push({provider:n,prefix:i,name:o});else return e=!0,!0;return!1}),a.pending.length!==c&&(e||e_([r],s.id),s.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),s.abort))})}))}let NA=0;function EA(r,t,e){const n=NA++,i=e_.bind(null,e,n);if(!t.pending.length)return i;const s={id:n,icons:t,callback:r,abort:i};return e.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(s)}),i}function TA(r){const t={loaded:[],missing:[],pending:[]},e=Object.create(null);r.sort((i,s)=>i.provider!==s.provider?i.provider.localeCompare(s.provider):i.prefix!==s.prefix?i.prefix.localeCompare(s.prefix):i.name.localeCompare(s.name));let n={provider:"",prefix:"",name:""};return r.forEach(i=>{if(n.name===i.name&&n.prefix===i.prefix&&n.provider===i.provider)return;n=i;const s=i.provider,a=i.prefix,c=i.name,l=e[s]||(e[s]=Object.create(null)),o=l[a]||(l[a]=ji(s,a));let u;c in o.icons?u=t.loaded:a===""||o.missing.has(c)?u=t.missing:u=t.pending;const f={provider:s,prefix:a,name:c};u.push(f)}),t}const xp=Object.create(null);function Z1(r,t){xp[r]=t}function wp(r){return xp[r]||xp[""]}function jA(r,t=!0,e=!1){const n=[];return r.forEach(i=>{const s=typeof i=="string"?Ql(i,t,e):i;s&&n.push(s)}),n}function C0(r){let t;if(typeof r.resources=="string")t=[r.resources];else if(t=r.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:r.path||"/",maxURL:r.maxURL||500,rotate:r.rotate||750,timeout:r.timeout||5e3,random:r.random===!0,index:r.index||0,dataAfterTimeout:r.dataAfterTimeout!==!1}}const Vd=Object.create(null),So=["https://api.simplesvg.com","https://api.unisvg.com"],eu=[];for(;So.length>0;)So.length===1||Math.random()>.5?eu.push(So.shift()):eu.push(So.pop());Vd[""]=C0({resources:["https://api.iconify.design"].concat(eu)});function J1(r,t){const e=C0(t);return e===null?!1:(Vd[r]=e,!0)}function zd(r){return Vd[r]}function CA(){return Object.keys(Vd)}const AA={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function IA(r,t,e,n){const i=r.resources.length,s=r.random?Math.floor(Math.random()*i):r.index;let a;if(r.random){let V=r.resources.slice(0);for(a=[];V.length>1;){const B=Math.floor(Math.random()*V.length);a.push(V[B]),V=V.slice(0,B).concat(V.slice(B+1))}a=a.concat(V)}else a=r.resources.slice(s).concat(r.resources.slice(0,s));const c=Date.now();let l="pending",o=0,u,f=null,d=[],h=[];typeof n=="function"&&h.push(n);function g(){f&&(clearTimeout(f),f=null)}function b(){l==="pending"&&(l="aborted"),g(),d.forEach(V=>{V.status==="pending"&&(V.status="aborted")}),d=[]}function m(V,B){B&&(h=[]),typeof V=="function"&&h.push(V)}function v(){return{startTime:c,payload:t,status:l,queriesSent:o,queriesPending:d.length,subscribe:m,abort:b}}function y(){l="failed",h.forEach(V=>{V(void 0,u)})}function w(){d.forEach(V=>{V.status==="pending"&&(V.status="aborted")}),d=[]}function T(V,B,A){const M=B!=="success";switch(d=d.filter(F=>F!==V),l){case"pending":break;case"failed":if(M||!r.dataAfterTimeout)return;break;default:return}if(B==="abort"){u=A,y();return}if(M){u=A,d.length||(a.length?I():y());return}if(g(),w(),!r.random){const F=r.resources.indexOf(V.resource);F!==-1&&F!==r.index&&(r.index=F)}l="completed",h.forEach(F=>{F(A)})}function I(){if(l!=="pending")return;g();const V=a.shift();if(V===void 0){if(d.length){f=setTimeout(()=>{g(),l==="pending"&&(w(),y())},r.timeout);return}y();return}const B={status:"pending",resource:V,callback:(A,M)=>{T(B,A,M)}};d.push(B),o++,f=setTimeout(I,r.rotate),e(V,t,B.callback)}return setTimeout(I),v}function t_(r){const t={...AA,...r};let e=[];function n(){e=e.filter(a=>a().status==="pending")}function i(a,c,l){const o=IA(t,a,c,(u,f)=>{n(),l&&l(u,f)});return e.push(o),o}function s(a){return e.find(c=>a(c))||null}return{query:i,find:s,setIndex:a=>{t.index=a},getIndex:()=>t.index,cleanup:n}}function ey(){}const Fh=Object.create(null);function RA(r){if(!Fh[r]){const t=zd(r);if(!t)return;Fh[r]={config:t,redundancy:t_(t)}}return Fh[r]}function r_(r,t,e){let n,i;if(typeof r=="string"){const s=wp(r);if(!s)return e(void 0,424),ey;i=s.send;const a=RA(r);a&&(n=a.redundancy)}else{const s=C0(r);if(s){n=t_(s);const a=wp(r.resources?r.resources[0]:"");a&&(i=a.send)}}return!n||!i?(e(void 0,424),ey):n.query(t,i,e)().abort}function ty(){}function PA(r){r.iconsLoaderFlag||(r.iconsLoaderFlag=!0,setTimeout(()=>{r.iconsLoaderFlag=!1,kA(r)}))}function MA(r){const t=[],e=[];return r.forEach(n=>{(n.match(K4)?t:e).push(n)}),{valid:t,invalid:e}}function ko(r,t,e){function n(){const i=r.pendingIcons;t.forEach(s=>{i&&i.delete(s),r.icons[s]||r.missing.add(s)})}if(e&&typeof e=="object")try{if(!Y4(r,e).length){n();return}}catch(i){console.error(i)}n(),PA(r)}function ry(r,t){r instanceof Promise?r.then(e=>{t(e)}).catch(()=>{t(null)}):t(r)}function OA(r,t){r.iconsToLoad?r.iconsToLoad=r.iconsToLoad.concat(t).sort():r.iconsToLoad=t,r.iconsQueueFlag||(r.iconsQueueFlag=!0,setTimeout(()=>{r.iconsQueueFlag=!1;const{provider:e,prefix:n}=r,i=r.iconsToLoad;if(delete r.iconsToLoad,!i||!i.length)return;const s=r.loadIcon;if(r.loadIcons&&(i.length>1||!s)){ry(r.loadIcons(i,n,e),o=>{ko(r,i,o)});return}if(s){i.forEach(o=>{ry(s(o,n,e),u=>{ko(r,[o],u?{prefix:n,icons:{[o]:u}}:null)})});return}const{valid:a,invalid:c}=MA(i);if(c.length&&ko(r,c,null),!a.length)return;const l=n.match(K4)?wp(e):null;if(!l){ko(r,a,null);return}l.prepare(e,n,a).forEach(o=>{r_(e,o,u=>{ko(r,o.icons,u)})})}))}const A0=(r,t)=>{const e=TA(jA(r,!0,Z4()));if(!e.pending.length){let c=!0;return t&&setTimeout(()=>{c&&t(e.loaded,e.missing,e.pending,ty)}),()=>{c=!1}}const n=Object.create(null),i=[];let s,a;return e.pending.forEach(c=>{const{provider:l,prefix:o}=c;if(o===a&&l===s)return;s=l,a=o,i.push(ji(l,o));const u=n[l]||(n[l]=Object.create(null));u[o]||(u[o]=[])}),e.pending.forEach(c=>{const{provider:l,prefix:o,name:u}=c,f=ji(l,o),d=f.pendingIcons||(f.pendingIcons=new Set);d.has(u)||(d.add(u),n[l][o].push(u))}),i.forEach(c=>{const l=n[c.provider][c.prefix];l.length&&OA(c,l)}),t?EA(t,e,i):ty},DA=r=>new Promise((t,e)=>{const n=typeof r=="string"?Ql(r,!0):r;if(!n){e(r);return}A0([n||r],i=>{if(i.length&&n){const s=jl(n);if(s){t({...Xl,...s});return}}e(r)})});function ny(r){try{const t=typeof r=="string"?JSON.parse(r):r;if(typeof t.body=="string")return{...t}}catch{}}function LA(r,t){if(typeof r=="object")return{data:ny(r),value:r};if(typeof r!="string")return{value:r};if(r.includes("{")){const s=ny(r);if(s)return{data:s,value:r}}const e=Ql(r,!0,!0);if(!e)return{value:r};const n=jl(e);if(n!==void 0||!e.prefix)return{value:r,name:e,data:n};const i=A0([e],()=>t(r,e,jl(e)));return{value:r,name:e,loading:i}}let n_=!1;try{n_=navigator.vendor.indexOf("Apple")===0}catch{}function FA(r,t){switch(t){case"svg":case"bg":case"mask":return t}return t!=="style"&&(n_||r.indexOf("<a")===-1)?"svg":r.indexOf("currentColor")===-1?"bg":"mask"}const BA=/(-?[0-9.]*[0-9]+[0-9.]*)/g,VA=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function _p(r,t,e){if(t===1)return r;if(e=e||100,typeof r=="number")return Math.ceil(r*t*e)/e;if(typeof r!="string")return r;const n=r.split(BA);if(n===null||!n.length)return r;const i=[];let s=n.shift(),a=VA.test(s);for(;;){if(a){const c=parseFloat(s);isNaN(c)?i.push(s):i.push(Math.ceil(c*t*e)/e)}else i.push(s);if(s=n.shift(),s===void 0)return i.join("");a=!a}}function zA(r,t="defs"){let e="";const n=r.indexOf("<"+t);for(;n>=0;){const i=r.indexOf(">",n),s=r.indexOf("</"+t);if(i===-1||s===-1)break;const a=r.indexOf(">",s);if(a===-1)break;e+=r.slice(i+1,s).trim(),r=r.slice(0,n).trim()+r.slice(a+1)}return{defs:e,content:r}}function UA(r,t){return r?"<defs>"+r+"</defs>"+t:t}function $A(r,t,e){const n=zA(r);return UA(n.defs,t+n.content+e)}const HA=r=>r==="unset"||r==="undefined"||r==="none";function i_(r,t){const e={...Xl,...r},n={...W4,...t},i={left:e.left,top:e.top,width:e.width,height:e.height};let s=e.body;[e,n].forEach(b=>{const m=[],v=b.hFlip,y=b.vFlip;let w=b.rotate;v?y?w+=2:(m.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),m.push("scale(-1 1)"),i.top=i.left=0):y&&(m.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),m.push("scale(1 -1)"),i.top=i.left=0);let T;switch(w<0&&(w-=Math.floor(w/4)*4),w=w%4,w){case 1:T=i.height/2+i.top,m.unshift("rotate(90 "+T.toString()+" "+T.toString()+")");break;case 2:m.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:T=i.width/2+i.left,m.unshift("rotate(-90 "+T.toString()+" "+T.toString()+")");break}w%2===1&&(i.left!==i.top&&(T=i.left,i.left=i.top,i.top=T),i.width!==i.height&&(T=i.width,i.width=i.height,i.height=T)),m.length&&(s=$A(s,'<g transform="'+m.join(" ")+'">',"</g>"))});const a=n.width,c=n.height,l=i.width,o=i.height;let u,f;a===null?(f=c===null?"1em":c==="auto"?o:c,u=_p(f,l/o)):(u=a==="auto"?l:a,f=c===null?_p(u,o/l):c==="auto"?o:c);const d={},h=(b,m)=>{HA(m)||(d[b]=m.toString())};h("width",u),h("height",f);const g=[i.left,i.top,l,o];return d.viewBox=g.join(" "),{attributes:d,viewBox:g,body:s}}function I0(r,t){let e=r.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)e+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+e+">"+r+"</svg>"}function qA(r){return r.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function WA(r){return"data:image/svg+xml,"+qA(r)}function s_(r){return'url("'+WA(r)+'")'}const GA=()=>{let r;try{if(r=fetch,typeof r=="function")return r}catch{}};let Qu=GA();function KA(r){Qu=r}function XA(){return Qu}function QA(r,t){const e=zd(r);if(!e)return 0;let n;if(!e.maxURL)n=0;else{let i=0;e.resources.forEach(a=>{i=Math.max(i,a.length)});const s=t+".json?icons=";n=e.maxURL-i-e.path.length-s.length}return n}function YA(r){return r===404}const ZA=(r,t,e)=>{const n=[],i=QA(r,t),s="icons";let a={type:s,provider:r,prefix:t,icons:[]},c=0;return e.forEach((l,o)=>{c+=l.length+1,c>=i&&o>0&&(n.push(a),a={type:s,provider:r,prefix:t,icons:[]},c=l.length),a.icons.push(l)}),n.push(a),n};function JA(r){if(typeof r=="string"){const t=zd(r);if(t)return t.path}return"/"}const eI=(r,t,e)=>{if(!Qu){e("abort",424);return}let n=JA(t.provider);switch(t.type){case"icons":{const s=t.prefix,a=t.icons.join(","),c=new URLSearchParams({icons:a});n+=s+".json?"+c.toString();break}case"custom":{const s=t.uri;n+=s.slice(0,1)==="/"?s.slice(1):s;break}default:e("abort",400);return}let i=503;Qu(r+n).then(s=>{const a=s.status;if(a!==200){setTimeout(()=>{e(YA(a)?"abort":"next",a)});return}return i=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?e("abort",s):e("next",i)});return}setTimeout(()=>{e("success",s)})}).catch(()=>{e("next",i)})},tI={prepare:ZA,send:eI};function rI(r,t,e){ji(e||"",t).loadIcons=r}function nI(r,t,e){ji(e||"",t).loadIcon=r}const Bh="data-style";let a_="";function iI(r){a_=r}function iy(r,t){let e=Array.from(r.childNodes).find(n=>n.hasAttribute&&n.hasAttribute(Bh));e||(e=document.createElement("style"),e.setAttribute(Bh,Bh),r.appendChild(e)),e.textContent=":host{display:inline-block;vertical-align:"+(t?"-0.125em":"0")+"}span,svg{display:block;margin:auto}"+a_}function o_(){Z1("",tI),Z4(!0);let r;try{r=window}catch{}if(r){if(r.IconifyPreload!==void 0){const e=r.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(i=>{try{(typeof i!="object"||i===null||i instanceof Array||typeof i.icons!="object"||typeof i.prefix!="string"||!Y1(i))&&console.error(n)}catch{console.error(n)}})}if(r.IconifyProviders!==void 0){const e=r.IconifyProviders;if(typeof e=="object"&&e!==null)for(const n in e){const i="IconifyProviders["+n+"] is invalid.";try{const s=e[n];if(typeof s!="object"||!s||s.resources===void 0)continue;J1(n,s)||console.error(i)}catch{console.error(i)}}}}return{iconLoaded:_A,getIcon:SA,listIcons:wA,addIcon:J4,addCollection:Y1,calculateSize:_p,buildIcon:i_,iconToHTML:I0,svgToURL:s_,loadIcons:A0,loadIcon:DA,addAPIProvider:J1,setCustomIconLoader:nI,setCustomIconsLoader:rI,appendCustomStyle:iI,_api:{getAPIConfig:zd,setAPIModule:Z1,sendAPIQuery:r_,setFetch:KA,getFetch:XA,listAPIProviders:CA}}}const Sp={"background-color":"currentColor"},l_={"background-color":"transparent"},sy={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},ay={"-webkit-mask":Sp,mask:Sp,background:l_};for(const r in ay){const t=ay[r];for(const e in sy)t[r+"-"+e]=sy[e]}function oy(r){return r?r+(r.match(/^[-0-9.]+$/)?"px":""):"inherit"}function sI(r,t,e){const n=document.createElement("span");let i=r.body;i.indexOf("<a")!==-1&&(i+="<!-- "+Date.now()+" -->");const s=r.attributes,a=I0(i,{...s,width:t.width+"",height:t.height+""}),c=s_(a),l=n.style,o={"--svg":c,width:oy(s.width),height:oy(s.height),...e?Sp:l_};for(const u in o)l.setProperty(u,o[u]);return n}let Yo;function aI(){try{Yo=window.trustedTypes.createPolicy("iconify",{createHTML:r=>r})}catch{Yo=null}}function oI(r){return Yo===void 0&&aI(),Yo?Yo.createHTML(r):r}function lI(r){const t=document.createElement("span"),e=r.attributes;let n="";e.width||(n="width: inherit;"),e.height||(n+="height: inherit;"),n&&(e.style=n);const i=I0(r.body,e);return t.innerHTML=oI(i),t.firstChild}function kp(r){return Array.from(r.childNodes).find(t=>{const e=t.tagName&&t.tagName.toUpperCase();return e==="SPAN"||e==="SVG"})}function ly(r,t){const e=t.icon.data,n=t.customisations,i=i_(e,n);n.preserveAspectRatio&&(i.attributes.preserveAspectRatio=n.preserveAspectRatio);const s=t.renderedMode;let a;switch(s){case"svg":a=lI(i);break;default:a=sI(i,{...Xl,...e},s==="mask")}const c=kp(r);c?a.tagName==="SPAN"&&c.tagName===a.tagName?c.setAttribute("style",a.getAttribute("style")):r.replaceChild(a,c):r.appendChild(a)}function cy(r,t,e){const n=e&&(e.rendered?e:e.lastRender);return{rendered:!1,inline:t,icon:r,lastRender:n}}function cI(r="iconify-icon"){let t,e;try{t=window.customElements,e=window.HTMLElement}catch{return}if(!t||!e)return;const n=t.get(r);if(n)return n;const i=["icon","mode","inline","noobserver","width","height","rotate","flip"],s=class extends e{constructor(){super();Li(this,"_shadowRoot");Li(this,"_initialised",!1);Li(this,"_state");Li(this,"_checkQueued",!1);Li(this,"_connected",!1);Li(this,"_observer",null);Li(this,"_visible",!0);const l=this._shadowRoot=this.attachShadow({mode:"open"}),o=this.hasAttribute("inline");iy(l,o),this._state=cy({value:""},o),this._queueCheck()}connectedCallback(){this._connected=!0,this.startObserver()}disconnectedCallback(){this._connected=!1,this.stopObserver()}static get observedAttributes(){return i.slice(0)}attributeChangedCallback(l){switch(l){case"inline":{const o=this.hasAttribute("inline"),u=this._state;o!==u.inline&&(u.inline=o,iy(this._shadowRoot,o));break}case"noobserver":{this.hasAttribute("noobserver")?this.startObserver():this.stopObserver();break}default:this._queueCheck()}}get icon(){const l=this.getAttribute("icon");if(l&&l.slice(0,1)==="{")try{return JSON.parse(l)}catch{}return l}set icon(l){typeof l=="object"&&(l=JSON.stringify(l)),this.setAttribute("icon",l)}get inline(){return this.hasAttribute("inline")}set inline(l){l?this.setAttribute("inline","true"):this.removeAttribute("inline")}get observer(){return this.hasAttribute("observer")}set observer(l){l?this.setAttribute("observer","true"):this.removeAttribute("observer")}restartAnimation(){const l=this._state;if(l.rendered){const o=this._shadowRoot;if(l.renderedMode==="svg")try{o.lastChild.setCurrentTime(0);return}catch{}ly(o,l)}}get status(){const l=this._state;return l.rendered?"rendered":l.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const l=this._state,o=this.getAttribute("icon");if(o!==l.icon.value){this._iconChanged(o);return}if(!l.rendered||!this._visible)return;const u=this.getAttribute("mode"),f=X1(this);(l.attrMode!==u||pA(l.customisations,f)||!kp(this._shadowRoot))&&this._renderIcon(l.icon,f,u)}_iconChanged(l){const o=LA(l,(u,f,d)=>{const h=this._state;if(h.rendered||this.getAttribute("icon")!==u)return;const g={value:u,name:f,data:d};g.data?this._gotIconData(g):h.icon=g});o.data?this._gotIconData(o):this._state=cy(o,this._state.inline,this._state)}_forceRender(){if(!this._visible){const l=kp(this._shadowRoot);l&&this._shadowRoot.removeChild(l);return}this._queueCheck()}_gotIconData(l){this._checkQueued=!1,this._renderIcon(l,X1(this),this.getAttribute("mode"))}_renderIcon(l,o,u){const f=FA(l.data.body,u),d=this._state.inline;ly(this._shadowRoot,this._state={rendered:!0,icon:l,inline:d,customisations:o,attrMode:u,renderedMode:f})}startObserver(){if(!this._observer&&!this.hasAttribute("noobserver"))try{this._observer=new IntersectionObserver(l=>{const o=l.some(u=>u.isIntersecting);o!==this._visible&&(this._visible=o,this._forceRender())}),this._observer.observe(this)}catch{if(this._observer){try{this._observer.disconnect()}catch{}this._observer=null}}}stopObserver(){this._observer&&(this._observer.disconnect(),this._observer=null,this._visible=!0,this._connected&&this._forceRender())}};i.forEach(c=>{c in s.prototype||Object.defineProperty(s.prototype,c,{get:function(){return this.getAttribute(c)},set:function(l){l!==null?this.setAttribute(c,l):this.removeAttribute(c)}})});const a=o_();for(const c in a)s[c]=s.prototype[c]=a[c];return t.define(r,s),s}const uI=cI()||o_(),{iconLoaded:eR,getIcon:tR,listIcons:rR,addIcon:nR,addCollection:iR,calculateSize:sR,buildIcon:aR,iconToHTML:oR,svgToURL:lR,loadIcons:cR,loadIcon:uR,setCustomIconLoader:dR,setCustomIconsLoader:hR,addAPIProvider:fR,_api:pR}=uI,dI=["Mixed Feed","Feed Ingredient Manufacturer","Toll Manufacturer","Importer","Indentor","Supplier","Distributor","Retailer"],hI=["Sole Proprietorship","Partnership","Corporate","Cooperative"],fI=["New","Renewal","Amendment"],uy=700*1024;function pI({lastName:r="",firstName:t="",middleName:e="",nameExt:n=""}){const i=String(r).trim(),s=String(t).trim(),a=String(e).trim(),c=String(n).trim(),o=[s,a,c].filter(Boolean).join(" ");return i&&o?`${i}, ${o}`:i||o}const dy={date:"",province:"",controlNo:"",registrationNo:"",dateOfInspection:"",dateOfMonitoring:"",companyName:"",lastName:"",middleName:"",firstName:"",nameExt:"",completeName:"",birthDate:"",barangay:"",municipality:"",completeAddress:"",officeAddress:"",plantAddress:"",cellphone:"",email:"",natureOfBusiness:"",businessOrg:"",productLines:"",type:"",orNo:"",orDate:"",fee:"",dateIssued:"",dateOfFeedSampling1stSem:"",dateOfFeedSampling2ndSem:"",noOfFeedSamples1stSem:"",noOfFeedSamples2ndSem:"",attachmentFileName:"",attachmentData:"",remarks:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function mI(){const[r,t]=de.useState(dy),{submit:e,loading:n,message:i,setMessage:s}=Yr("animalFeed"),a=(b,m)=>t(v=>({...v,[b]:m})),c=(b,m)=>t(v=>{const y={...v,[b]:m};return y.completeName=pI(y),y}),l=b=>{var y;const m=(y=b.target.files)==null?void 0:y[0];if(!m){a("attachmentFileName",""),a("attachmentData","");return}if(m.size>uy){s({type:"error",text:`File too large. Max ${Math.round(uy/1024)} KB.`}),b.target.value="";return}const v=new FileReader;v.onload=()=>{const w=v.result,T=typeof w=="string"?w.split(",")[1]||w:"";t(I=>({...I,attachmentFileName:m.name,attachmentData:T})),s(null)},v.readAsDataURL(m)},o=async b=>{b.preventDefault(),await e(r)&&(t(dy),window.scrollTo({top:0,behavior:"smooth"}))},u="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",f="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",d="w-full px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c]",h="w-full px-3 py-2 bg-white border-2 border-[#e8e0d4] rounded-lg text-sm text-[#1e4d2b] focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c]";return p.jsx(Qr,{title:"Animal Feeds Registration",children:p.jsxs("div",{className:"max-w-5xl mx-auto pb-10",children:[p.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:p.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[p.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:p.jsx("iconify-icon",{icon:"mdi:food-variant",width:"24",class:"text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Feeds Regulation Form"}),p.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Complete the details below for establishment accreditation and monitoring."})]})]})]})}),p.jsxs("form",{onSubmit:o,className:"space-y-8",children:[p.jsxs("div",{className:"animal-feed-section animal-feed-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:u,children:[p.jsx("iconify-icon",{icon:"mdi:clipboard-clock-outline",width:"18",class:"opacity-90"}),"Registration Logistics"]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Date of Application"}),p.jsx("input",{type:"date",value:r.date,onChange:b=>a("date",b.target.value),className:d,required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Province Scope"}),p.jsx(Bt,{value:r.province,onChange:b=>a("province",b),placeholder:"Select Province",options:[{value:"",label:"Select Province"},...Gl.map(b=>({value:b,label:b}))],"aria-label":"Province"})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Control No."}),p.jsx("input",{type:"text",value:r.controlNo,onChange:b=>a("controlNo",b.target.value),className:d,placeholder:"--/--"})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Registration No."}),p.jsx("input",{type:"text",value:r.registrationNo,onChange:b=>a("registrationNo",b.target.value),className:d})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Date of Inspection"}),p.jsx("input",{type:"date",value:r.dateOfInspection,onChange:b=>a("dateOfInspection",b.target.value),className:d})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Date of Monitoring"}),p.jsx("input",{type:"date",value:r.dateOfMonitoring,onChange:b=>a("dateOfMonitoring",b.target.value),className:d})]})]})]}),p.jsxs("div",{className:"animal-feed-section animal-feed-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:u,children:[p.jsx("iconify-icon",{icon:"mdi:domain",width:"18",class:"opacity-90"}),"Establishment Profile"]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Name of Establishment"}),p.jsx("input",{type:"text",value:r.companyName,onChange:b=>a("companyName",b.target.value),className:`${d} font-semibold text-lg`,required:!0,placeholder:"Enter Business Name"})]}),p.jsxs("div",{className:"bg-[#faf8f5]/80 p-4 rounded-xl border-2 border-[#e8e0d4] hover:border-[#b8a066]/30 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("div",{className:"mb-4 flex items-center gap-2 text-[#5c574f]",children:[p.jsx("iconify-icon",{icon:"mdi:account-tie",width:"16"}),p.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Owner / Propreitor Details"})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Last Name"}),p.jsx("input",{type:"text",value:r.lastName,onChange:b=>c("lastName",b.target.value),className:h})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"First Name"}),p.jsx("input",{type:"text",value:r.firstName,onChange:b=>c("firstName",b.target.value),className:h})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Middle Name"}),p.jsx("input",{type:"text",value:r.middleName,onChange:b=>c("middleName",b.target.value),className:h})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Suffix"}),p.jsx("input",{type:"text",value:r.nameExt,onChange:b=>c("nameExt",b.target.value),className:h,placeholder:"e.g. Jr."})]}),p.jsxs("div",{className:"sm:col-span-2",children:[p.jsx("label",{className:f,children:"Full Name (Auto/Manual)"}),p.jsx("input",{type:"text",value:r.completeName,onChange:b=>a("completeName",b.target.value),className:h,placeholder:"Auto-filled from above or type here"})]}),p.jsxs("div",{className:"sm:col-span-2",children:[p.jsx("label",{className:f,children:"Birth Date"}),p.jsx("input",{type:"date",value:r.birthDate,onChange:b=>a("birthDate",b.target.value),className:h})]})]})]})]})]}),p.jsxs("div",{className:"animal-feed-section animal-feed-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:u,children:[p.jsx("iconify-icon",{icon:"mdi:map-marker-radius",width:"18",class:"opacity-90"}),"Location & Contact"]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-5 mb-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Province"}),p.jsx("input",{type:"text",value:r.province,readOnly:!0,className:`${d} bg-[#f5f0e8] text-[#5c574f] cursor-not-allowed border-[#e8e0d4]`})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Municipality"}),p.jsx("input",{type:"text",value:r.municipality,onChange:b=>a("municipality",b.target.value),className:d})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Barangay"}),p.jsx("input",{type:"text",value:r.barangay,onChange:b=>a("barangay",b.target.value),className:d})]}),p.jsxs("div",{className:"sm:col-span-3",children:[p.jsx("label",{className:f,children:"Complete Main Address"}),p.jsx("input",{type:"text",value:r.completeAddress,onChange:b=>a("completeAddress",b.target.value),className:d,placeholder:"Street / Bldg / Block / Lot"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Office Address"}),p.jsx("input",{type:"text",value:r.officeAddress,onChange:b=>a("officeAddress",b.target.value),className:d})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Plant/Warehouse Address"}),p.jsx("input",{type:"text",value:r.plantAddress,onChange:b=>a("plantAddress",b.target.value),className:d})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Mobile / Tel No."}),p.jsx("input",{type:"text",value:r.cellphone,onChange:b=>a("cellphone",b.target.value),className:d})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Email Address"}),p.jsx("input",{type:"email",value:r.email,onChange:b=>a("email",b.target.value),className:d})]})]})]}),p.jsxs("div",{className:"animal-feed-section animal-feed-section-4 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:u,children:[p.jsx("iconify-icon",{icon:"mdi:briefcase-variant-outline",width:"18",class:"opacity-90"}),"Business Classification"]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Nature of Business"}),p.jsx(Bt,{value:r.natureOfBusiness,onChange:b=>a("natureOfBusiness",b),placeholder:"Select Nature",options:[{value:"",label:"Select Nature"},...dI.map(b=>({value:b,label:b}))],"aria-label":"Nature of Business"})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Business Organization"}),p.jsx(Bt,{value:r.businessOrg,onChange:b=>a("businessOrg",b),placeholder:"Select Organization",options:[{value:"",label:"Select Organization"},...hI.map(b=>({value:b,label:b}))],"aria-label":"Business Organization"})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Product Line(s)"}),p.jsx("input",{type:"text",value:r.productLines,onChange:b=>a("productLines",b.target.value),className:d,placeholder:"e.g. Swine, Poultry Feeds"})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Establishment Type"}),p.jsx("input",{type:"text",value:r.type,onChange:b=>a("type",b.target.value),className:d})]})]})]}),p.jsxs("div",{className:"animal-feed-section animal-feed-section-5 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:u,children:[p.jsx("iconify-icon",{icon:"mdi:cash-multiple",width:"18",class:"opacity-90"}),"Licensing & Fees"]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:f,children:"O.R. No."}),p.jsx("input",{type:"text",value:r.orNo,onChange:b=>a("orNo",b.target.value),className:d})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"O.R. Date"}),p.jsx("input",{type:"date",value:r.orDate,onChange:b=>a("orDate",b.target.value),className:d})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Fees Collected"}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-3 top-2.5 text-[#5c574f] font-serif text-sm",children:""}),p.jsx("input",{type:"number",value:r.fee,onChange:b=>a("fee",b.target.value),className:`${d} pl-7`,placeholder:"0.00"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Date Issued (LTO)"}),p.jsx("input",{type:"date",value:r.dateIssued,onChange:b=>a("dateIssued",b.target.value),className:d})]})]})]}),p.jsxs("div",{className:"animal-feed-section animal-feed-section-6 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:u,children:[p.jsx("iconify-icon",{icon:"mdi:test-tube",width:"18",class:"opacity-90"}),"Sampling Monitoring"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-[#f0f5ee]/80 border-2 border-[#1e4d2b]/20 rounded-xl p-5 hover:border-[#1e4d2b]/40 hover:-translate-y-0.5 hover:shadow-md hover:shadow-[#1e4d2b]/10 transition-all duration-400 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx("span",{className:"bg-[#1e4d2b]/15 text-[#1e4d2b] text-xs font-bold px-2.5 py-1 rounded-lg border border-[#1e4d2b]/20",children:"1st Semester"}),p.jsx("div",{className:"h-px bg-[#e8e0d4] flex-1"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Date of Feed Sampling"}),p.jsx("input",{type:"date",value:r.dateOfFeedSampling1stSem,onChange:b=>a("dateOfFeedSampling1stSem",b.target.value),className:h})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Samples Collected"}),p.jsx("input",{type:"number",min:"0",value:r.noOfFeedSamples1stSem,onChange:b=>a("noOfFeedSamples1stSem",b.target.value),className:h,placeholder:"0"})]})]})]}),p.jsxs("div",{className:"bg-[#faf6f0]/80 border-2 border-[#b8a066]/25 rounded-xl p-5 hover:border-[#b8a066]/50 hover:-translate-y-0.5 hover:shadow-md hover:shadow-[#b8a066]/10 transition-all duration-400 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx("span",{className:"bg-[#b8a066]/15 text-[#8f7a45] text-xs font-bold px-2.5 py-1 rounded-lg border border-[#b8a066]/25",children:"2nd Semester"}),p.jsx("div",{className:"h-px bg-[#e8e0d4] flex-1"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Date of Feed Sampling"}),p.jsx("input",{type:"date",value:r.dateOfFeedSampling2ndSem,onChange:b=>a("dateOfFeedSampling2ndSem",b.target.value),className:h})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Samples Collected"}),p.jsx("input",{type:"number",min:"0",value:r.noOfFeedSamples2ndSem,onChange:b=>a("noOfFeedSamples2ndSem",b.target.value),className:h,placeholder:"0"})]})]})]})]})]}),p.jsxs("div",{className:"animal-feed-section animal-feed-section-7 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:u,children:[p.jsx("iconify-icon",{icon:"mdi:star-circle-outline",width:"18",class:"opacity-90"}),"Customer Feedback"]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx(cn,{ratings:r,onChange:(b,m)=>a(b,m)}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Recommendation / Comments"}),p.jsx("textarea",{value:r.recommendation,onChange:b=>a("recommendation",(b.target.value||"").toUpperCase()),className:"w-full px-4 py-3 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] uppercase placeholder:normal-case placeholder:text-[#8a857c] min-h-[100px]",rows:"3",placeholder:"Enter any additional recommendations or remarks..."})]})]})]}),p.jsxs("div",{className:"animal-feed-section animal-feed-section-8 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:u,children:[p.jsx("iconify-icon",{icon:"mdi:file-check-outline",width:"18",class:"opacity-90"}),"Finalization"]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 items-start",children:[p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Attachments"}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("label",{className:"flex-1 cursor-pointer group",children:[p.jsx("span",{className:"sr-only",children:"Choose file"}),p.jsx("input",{type:"file",onChange:l,className:"block w-full text-sm text-[#5c574f] file:mr-4 file:py-2.5 file:px-4 file:rounded-xl file:border-0 file:text-xs file:font-bold file:bg-[#1e4d2b]/10 file:text-[#1e4d2b] hover:file:bg-[#1e4d2b]/20 transition-all duration-300 border-2 border-dashed border-[#e8e0d4] rounded-xl group-hover:border-[#1e4d2b]/50 py-3 px-4"})]}),r.attachmentFileName&&p.jsx("button",{type:"button",onClick:()=>{a("attachmentFileName",""),a("attachmentData","")},className:"p-2.5 text-red-600 bg-red-50 hover:bg-red-100 rounded-xl hover:scale-110 active:scale-95 transition-all duration-300",title:"Remove File",children:p.jsx("iconify-icon",{icon:"mdi:trash-can-outline",width:"20"})})]}),p.jsx("p",{className:"mt-2 text-[10px] text-[#5c574f]",children:r.attachmentFileName?p.jsxs("span",{className:"text-[#1e4d2b] font-bold",children:["Selected: ",r.attachmentFileName]}):"Max file size: 700KB (Images/PDF)"})]}),p.jsxs("div",{children:[p.jsx("label",{className:f,children:"Status / Remarks"}),p.jsx(Bt,{value:r.remarks,onChange:b=>a("remarks",b),placeholder:"Select Status",options:[{value:"",label:"Select Status"},...fI.map(b=>({value:b,label:b}))],"aria-label":"Status"})]})]})]}),p.jsxs("div",{className:"animal-feed-section animal-feed-section-9 pt-2",children:[i&&p.jsxs("div",{className:`animal-feed-message-enter mb-4 mx-auto max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[p.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),p.jsx("p",{className:"font-medium",children:i.text})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT RECORD"]})})})]})]})]})})}const gI=["Single Proprietorship/Individual","Corporation/Coop/Assn"],bI=["Partnership","Corp","Gov","Coop","Assn","Club"],yI=["Livestock Dealer","Poultry Dealer","By-Products Dealer","Birds/Pigeon Racers","Traders/Rep","Hauler","Others"],vI=["Livestock Handler","Poultry Handler","By-Products Handler","Others"],Vh=["Cattle","Carabao","Hogs","Goats","Horses"],zh=["Chicken","DOC","Game Fowls"],Uh=["Eggs","Balut","Hides","Skin","Milk","Manure"],la=r=>Object.fromEntries(r.map(t=>[t,{volume:"",frequency:""}]));function $h({title:r,cols:t,data:e,updateMatrix:n,setter:i,icon:s}){return p.jsxs("div",{className:"rounded-xl overflow-hidden border-2 border-[#e8e0d4] bg-white shadow-sm mb-6 hover:shadow-md hover:border-[#1e4d2b]/20 transition-all duration-400 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b]/10 to-[#b8a066]/10 px-4 py-3 border-b-2 border-[#1e4d2b]/15 flex items-center gap-2",children:[p.jsx("iconify-icon",{icon:s,class:"text-[#1e4d2b] text-lg opacity-90"}),p.jsx("h4",{className:"font-bold text-[#1e4d2b] text-sm uppercase tracking-wide",children:r})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-[#faf8f5] text-[#5c574f] font-semibold border-b border-[#e8e0d4]",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-3 w-1/3",children:"Commodity"}),p.jsx("th",{className:"px-4 py-3",children:"Volume / Head Count"}),p.jsx("th",{className:"px-4 py-3",children:"Frequency"})]})}),p.jsx("tbody",{className:"divide-y divide-[#e8e0d4]",children:t.map(a=>p.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[p.jsx("td",{className:"px-4 py-2 font-medium text-[#1e4d2b]",children:a}),p.jsx("td",{className:"px-4 py-2",children:p.jsx("input",{type:"text",placeholder:"0",value:e[a].volume,onChange:c=>n(i,a,"volume",c.target.value),className:"w-full bg-white border-2 border-[#e8e0d4] rounded-lg px-3 py-1.5 text-sm focus:border-[#1e4d2b] focus:ring-2 focus:ring-[#1e4d2b]/20 outline-none transition-all duration-300"})}),p.jsx("td",{className:"px-4 py-2",children:p.jsx("input",{type:"text",placeholder:"Daily/Weekly",value:e[a].frequency,onChange:c=>n(i,a,"frequency",c.target.value),className:"w-full bg-white border-2 border-[#e8e0d4] rounded-lg px-3 py-1.5 text-sm focus:border-[#1e4d2b] focus:ring-2 focus:ring-[#1e4d2b]/20 outline-none transition-all duration-300"})})]},a))})]})})]})}function xI(){const[r,t]=de.useState(""),[e,n]=de.useState({last:"",first:"",mi:""}),[i,s]=de.useState(""),[a,c]=de.useState({last:"",first:"",mi:""}),[l,o]=de.useState({barangay:"",cityMuni:"",province:"",region:""}),[u,f]=de.useState(""),[d,h]=de.useState({tin:"",contactNo:"",email:""}),[g,b]=de.useState(""),[m,v]=de.useState(""),[y,w]=de.useState(()=>la(Vh)),[T,I]=de.useState(()=>la(zh)),[V,B]=de.useState(()=>la(Uh)),[A,M]=de.useState(""),[F,$]=de.useState({ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:""}),[U,E]=de.useState(""),{submit:P,loading:N,message:x}=Yr("livestockHandlers"),_=Gl,S=()=>({ownershipType:r,singleName:e,companyName:i,repName:a,address:l,businessType:u,contact:d,applicantType:g,category:m,livestock:y,poultry:T,byProducts:V,region:A,province:l.province,...F,recommendation:U}),k=async Q=>{Q.preventDefault(),await P(S()),t(""),n({last:"",first:"",mi:""}),s(""),c({last:"",first:"",mi:""}),o({barangay:"",cityMuni:"",province:"",region:""}),f(""),h({tin:"",contactNo:"",email:""}),b(""),v(""),w(la(Vh)),I(la(zh)),B(la(Uh)),M(""),$({ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:""}),E(""),window.scrollTo({top:0,behavior:"smooth"})},j=(Q,z,K,O)=>{Q(R=>({...R,[z]:{...R[z],[K]:O}}))},L="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",D="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",q="w-full px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c]",W="w-full px-3 py-2 bg-white border-2 border-[#e8e0d4] rounded-lg text-sm text-[#1e4d2b] focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 placeholder:text-[#8a857c]";return p.jsx(Qr,{title:"Livestock & Poultry Handlers",children:p.jsxs("div",{className:"max-w-5xl mx-auto pb-10",children:[p.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:p.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[p.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:p.jsx("iconify-icon",{icon:"mdi:cow",width:"24",class:"text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Handlers Registration"}),p.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Application for Livestock, Poultry, and By-Products Handlers License."})]})]})]})}),p.jsxs("form",{onSubmit:k,className:"space-y-8",children:[p.jsxs("div",{className:"livestock-handlers-section livestock-handlers-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:L,children:[p.jsx("iconify-icon",{icon:"mdi:domain",width:"18",class:"opacity-90"}),"Business Ownership"]}),p.jsx("div",{className:"flex flex-wrap gap-4",children:gI.map(Q=>p.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] flex-1 min-w-[250px] ${r===Q?"border-[#1e4d2b] bg-[#f0f5ee] text-[#1e4d2b] shadow-md ring-2 ring-[#1e4d2b]/30":"border-[#e8e0d4] hover:border-[#1e4d2b]/40 hover:bg-[#faf8f5] text-[#5c574f]"}`,children:[p.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center shrink-0 transition-colors duration-300 ${r===Q?"border-[#1e4d2b]":"border-[#e8e0d4]"}`,children:r===Q&&p.jsx("div",{className:"w-2.5 h-2.5 bg-[#1e4d2b] rounded-full"})}),p.jsx("input",{type:"radio",name:"ownership",value:Q,checked:r===Q,onChange:()=>t(Q),className:"hidden"}),p.jsx("span",{className:"font-semibold text-sm",children:Q})]},Q))})]}),(r==="Single Proprietorship/Individual"||r==="Corporation/Coop/Assn")&&p.jsxs("div",{className:"livestock-handlers-section livestock-handlers-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:L,children:[p.jsx("iconify-icon",{icon:"mdi:card-account-details-outline",width:"18",class:"opacity-90"}),"Identity Information"]}),r==="Single Proprietorship/Individual"&&p.jsxs("div",{className:"grid sm:grid-cols-3 gap-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:D,children:"Last Name"}),p.jsx("input",{type:"text",value:e.last,onChange:Q=>n(z=>({...z,last:Q.target.value})),className:q,required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:D,children:"First Name"}),p.jsx("input",{type:"text",value:e.first,onChange:Q=>n(z=>({...z,first:Q.target.value})),className:q,required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:D,children:"Middle Initial"}),p.jsx("input",{type:"text",value:e.mi,onChange:Q=>n(z=>({...z,mi:Q.target.value})),className:q,maxLength:2})]})]}),r==="Corporation/Coop/Assn"&&p.jsxs("div",{className:"space-y-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:D,children:"Registered Company Name"}),p.jsx("input",{type:"text",value:i,onChange:Q=>s(Q.target.value),className:`${q} font-semibold`,required:!0,placeholder:"Enter full company name"})]}),p.jsxs("div",{className:"bg-[#faf8f5]/80 p-4 rounded-xl border-2 border-[#e8e0d4] hover:border-[#b8a066]/30 transition-all duration-400 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("p",{className:"text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-3 flex items-center gap-1.5",children:[p.jsx("iconify-icon",{icon:"mdi:account-tie",width:"14"})," Authorized Representative"]}),p.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:D,children:"Last Name"}),p.jsx("input",{type:"text",value:a.last,onChange:Q=>c(z=>({...z,last:Q.target.value})),className:W})]}),p.jsxs("div",{children:[p.jsx("label",{className:D,children:"First Name"}),p.jsx("input",{type:"text",value:a.first,onChange:Q=>c(z=>({...z,first:Q.target.value})),className:W})]}),p.jsxs("div",{children:[p.jsx("label",{className:D,children:"MI"}),p.jsx("input",{type:"text",value:a.mi,onChange:Q=>c(z=>({...z,mi:Q.target.value})),className:W,maxLength:2})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:D,children:"Type of Business"}),p.jsx(Bt,{value:u,onChange:f,placeholder:"Select Business Type",options:[{value:"",label:"Select Business Type"},...bI.map(Q=>({value:Q,label:Q}))],"aria-label":"Business Type"})]})]})]}),p.jsxs("div",{className:"livestock-handlers-section livestock-handlers-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:L,children:[p.jsx("iconify-icon",{icon:"mdi:map-marker-radius-outline",width:"18",class:"opacity-90"}),"Location & Contact"]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-5 mb-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:D,children:"Region"}),p.jsx(Bt,{value:l.region,onChange:Q=>o(z=>({...z,region:Q})),placeholder:"Select Region",options:[{value:"",label:"Select Region"},...hp.map(Q=>({value:Q,label:Q}))],"aria-label":"Region"})]}),p.jsxs("div",{children:[p.jsx("label",{className:D,children:"Province"}),p.jsx(Bt,{value:l.province,onChange:Q=>o(z=>({...z,province:Q})),placeholder:"Select Province",options:[{value:"",label:"Select Province"},..._.map(Q=>({value:Q,label:Q}))],"aria-label":"Province"})]}),p.jsxs("div",{children:[p.jsx("label",{className:D,children:"City / Municipality"}),p.jsx("input",{type:"text",value:l.cityMuni,onChange:Q=>o(z=>({...z,cityMuni:Q.target.value})),className:q})]}),p.jsxs("div",{children:[p.jsx("label",{className:D,children:"Barangay"}),p.jsx("input",{type:"text",value:l.barangay,onChange:Q=>o(z=>({...z,barangay:Q.target.value})),className:q})]})]}),p.jsxs("div",{className:"grid sm:grid-cols-3 gap-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:D,children:"Tax Identification No. (TIN)"}),p.jsx("input",{type:"text",value:d.tin,onChange:Q=>h(z=>({...z,tin:Q.target.value})),className:q})]}),p.jsxs("div",{children:[p.jsx("label",{className:D,children:"Contact Number"}),p.jsx("input",{type:"text",value:d.contactNo,onChange:Q=>h(z=>({...z,contactNo:Q.target.value})),className:q})]}),p.jsxs("div",{children:[p.jsx("label",{className:D,children:"Email Address"}),p.jsx("input",{type:"email",value:d.email,onChange:Q=>h(z=>({...z,email:Q.target.value})),className:q})]})]})]}),p.jsxs("div",{className:"livestock-handlers-section livestock-handlers-section-4 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:L,children:[p.jsx("iconify-icon",{icon:"mdi:shape-outline",width:"18",class:"opacity-90"}),"Handler Classification"]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:D,children:"Type of Applicant"}),p.jsx(Bt,{value:g,onChange:b,placeholder:"Select Applicant Type",options:[{value:"",label:"Select Applicant Type"},...yI.map(Q=>({value:Q,label:Q}))],"aria-label":"Applicant Type"})]}),p.jsxs("div",{children:[p.jsx("label",{className:D,children:"Handler Category"}),p.jsx(Bt,{value:m,onChange:v,placeholder:"Select Category",options:[{value:"",label:"Select Category"},...vI.map(Q=>({value:Q,label:Q}))],"aria-label":"Category"})]})]})]}),p.jsxs("div",{className:"livestock-handlers-section livestock-handlers-section-5 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:L,children:[p.jsx("iconify-icon",{icon:"mdi:warehouse",width:"18",class:"opacity-90"}),"Inventory Matrix"]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx($h,{title:"Livestock Inventory",cols:Vh,data:y,setter:w,updateMatrix:j,icon:"mdi:cow"}),p.jsx($h,{title:"Poultry Inventory",cols:zh,data:T,setter:I,updateMatrix:j,icon:"mdi:duck"}),p.jsx($h,{title:"By-Products Inventory",cols:Uh,data:V,setter:B,updateMatrix:j,icon:"mdi:egg-easter"})]}),p.jsxs("div",{className:"mt-6",children:[p.jsx("label",{className:D,children:"Origin / Area Coverage (Region)"}),p.jsx(Bt,{value:A,onChange:M,placeholder:"Select Region Coverage",options:[{value:"",label:"Select Region Coverage"},...hp.map(Q=>({value:Q,label:Q}))],"aria-label":"Region Coverage"})]})]}),p.jsxs("div",{className:"livestock-handlers-section livestock-handlers-section-6 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:L,children:[p.jsx("iconify-icon",{icon:"mdi:star-face",width:"18",class:"opacity-90"}),"Evaluation & Remarks"]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx(cn,{ratings:F,onChange:(Q,z)=>$(K=>({...K,[Q]:z}))}),p.jsxs("div",{children:[p.jsx("label",{className:D,children:"Recommendation"}),p.jsx("textarea",{value:U,onChange:Q=>E((Q.target.value||"").toUpperCase()),className:`${q} min-h-[100px] uppercase placeholder:normal-case`,rows:"3",placeholder:"Enter official recommendations..."})]})]})]}),p.jsxs("div",{className:"livestock-handlers-section livestock-handlers-section-7 pt-2",children:[x&&p.jsxs("div",{className:`animal-feed-message-enter mb-4 mx-auto max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${x.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[p.jsx("iconify-icon",{icon:x.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),p.jsx("p",{className:"font-medium",children:x.text})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx("button",{type:"submit",disabled:N,className:"w-full sm:w-auto px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:N?p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT RECORD"]})})})]})]})]})})}const wI=["Single Prop","Corporation","Cooperative","Association","Club","Gov't"],_I=["Owner","Company Rep","Driver","Others"],SI=["Private Owned","Hauling Services","Company/Coop Owned","Others"],kI=["Broiler","Ducks","Pigeons","Gamefowl","Others"],NI=["Truck","PUJ","Multi-Cab","Rebuilt/AUV","Pick-Up","Fiera/XLT","Others"],EI=["Wire mesh/crates","Build-in cages","Non-permanent/movable","Others"];function TI(){const[r,t]=de.useState({last:"",first:"",mi:""}),[e,n]=de.useState({barangay:"",cityMuni:"",province:"",region:""}),[i,s]=de.useState([]),[a,c]=de.useState([]),[l,o]=de.useState(""),[u,f]=de.useState(""),[d,h]=de.useState(""),[g,b]=de.useState(""),[m,v]=de.useState([]),[y,w]=de.useState(""),[T,I]=de.useState([]),[V,B]=de.useState(""),[A,M]=de.useState(""),[F,$]=de.useState([]),[U,E]=de.useState([]),[P,N]=de.useState([{accreditationNo:"",makeSeries:"",plateNo:"",bodyType:"",noOfWheels:""}]),[x,_]=de.useState({ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:""}),[S,k]=de.useState(""),{submit:j,loading:L,message:D}=Yr("transportCarrier"),q=(J,Z)=>J(te=>te.includes(Z)?te.filter(oe=>oe!==Z):[...te,Z]),W=()=>N(J=>[...J,{accreditationNo:"",makeSeries:"",plateNo:"",bodyType:"",noOfWheels:""}]),Q=(J,Z,te)=>N(oe=>oe.map((le,ee)=>ee===J?{...le,[Z]:te}:le)),z=J=>{P.length>1&&N(Z=>Z.filter((te,oe)=>oe!==J))},K=async J=>{J.preventDefault(),await j({ownerName:r,businessAddress:e,businessOrg:i,typeOfApplicant:a,contactNo:l,email:u,applicantTin:d,companyTin:g,typeOfServices:m,applicationType:y,speciesCargoBirds:T,speciesAnimals:V,byProducts:A,typeOfVehicle:F,bodyType:U,fleet:P,...x,recommendation:S}),t({last:"",first:"",mi:""}),n({barangay:"",cityMuni:"",province:"",region:""}),s([]),c([]),o(""),f(""),h(""),b(""),v([]),w(""),I([]),B(""),M(""),$([]),E([]),N([{accreditationNo:"",makeSeries:"",plateNo:"",bodyType:"",noOfWheels:""}]),_({ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:""}),k(""),window.scrollTo({top:0,behavior:"smooth"})},O="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",R="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",H="w-full px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c]",Y=({label:J,isSelected:Z,onToggle:te})=>p.jsxs("div",{onClick:te,className:`cursor-pointer select-none px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wide border-2 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] flex items-center gap-2
        ${Z?"bg-[#1e4d2b] text-white border-[#1e4d2b] shadow-md shadow-[#1e4d2b]/25":"bg-white text-[#5c574f] border-[#e8e0d4] hover:border-[#1e4d2b]/40 hover:bg-[#faf8f5]"}`,children:[p.jsx("iconify-icon",{icon:Z?"mdi:check-circle":"mdi:circle-outline",width:"14"}),J]});return p.jsx(Qr,{title:"Transport Carrier Accreditation",children:p.jsxs("div",{className:"max-w-5xl mx-auto pb-10",children:[p.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:p.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[p.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20",children:p.jsx("iconify-icon",{icon:"mdi:truck-outline",width:"24",class:"text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Land Transport Carrier"}),p.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Registration form for livestock, poultry, and by-products transport vehicles."})]})]})]})}),p.jsxs("form",{onSubmit:K,className:"space-y-8",children:[p.jsxs("div",{className:"transport-carrier-section transport-carrier-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:O,children:[p.jsx("iconify-icon",{icon:"mdi:account-box-outline",width:"18",class:"opacity-90"}),"Applicant Information"]}),p.jsxs("div",{className:"grid sm:grid-cols-3 gap-5 mb-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:R,children:"Owner Last Name"}),p.jsx("input",{type:"text",value:r.last,onChange:J=>t(Z=>({...Z,last:J.target.value})),className:H,required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:R,children:"First Name"}),p.jsx("input",{type:"text",value:r.first,onChange:J=>t(Z=>({...Z,first:J.target.value})),className:H,required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:R,children:"M.I."}),p.jsx("input",{type:"text",value:r.mi,onChange:J=>t(Z=>({...Z,mi:J.target.value})),className:H,maxLength:2})]})]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-5 mb-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:R,children:"Contact Number"}),p.jsx("input",{type:"text",value:l,onChange:J=>o(J.target.value),className:H})]}),p.jsxs("div",{children:[p.jsx("label",{className:R,children:"Email Address"}),p.jsx("input",{type:"email",value:u,onChange:J=>f(J.target.value),className:H})]}),p.jsxs("div",{children:[p.jsx("label",{className:R,children:"Applicant TIN"}),p.jsx("input",{type:"text",value:d,onChange:J=>h(J.target.value),className:H})]}),p.jsxs("div",{children:[p.jsx("label",{className:R,children:"Company TIN"}),p.jsx("input",{type:"text",value:g,onChange:J=>b(J.target.value),className:H})]})]}),p.jsxs("div",{className:"mb-5",children:[p.jsx("label",{className:R,children:"Business Organization"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:wI.map(J=>p.jsx(Y,{label:J,isSelected:i.includes(J),onToggle:()=>q(s,J)},J))})]}),p.jsxs("div",{children:[p.jsx("label",{className:R,children:"Type of Applicant"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:_I.map(J=>p.jsx(Y,{label:J,isSelected:a.includes(J),onToggle:()=>q(c,J)},J))})]})]}),p.jsxs("div",{className:"transport-carrier-section transport-carrier-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:O,children:[p.jsx("iconify-icon",{icon:"mdi:map-marker-radius-outline",width:"18",class:"opacity-90"}),"Business Address"]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:R,children:"Region"}),p.jsx(Bt,{value:e.region,onChange:J=>n(Z=>({...Z,region:J})),placeholder:"Select Region",options:[{value:"",label:"Select Region"},...hp.map(J=>({value:J,label:J}))],"aria-label":"Region"})]}),p.jsxs("div",{children:[p.jsx("label",{className:R,children:"Province"}),p.jsx(Bt,{value:e.province,onChange:J=>n(Z=>({...Z,province:J})),placeholder:"Select Province",options:[{value:"",label:"Select Province"},...Gl.map(J=>({value:J,label:J}))],"aria-label":"Province"})]}),p.jsxs("div",{children:[p.jsx("label",{className:R,children:"City / Municipality"}),p.jsx("input",{type:"text",value:e.cityMuni,onChange:J=>n(Z=>({...Z,cityMuni:J.target.value})),className:H})]}),p.jsxs("div",{children:[p.jsx("label",{className:R,children:"Barangay"}),p.jsx("input",{type:"text",value:e.barangay,onChange:J=>n(Z=>({...Z,barangay:J.target.value})),className:H})]})]})]}),p.jsxs("div",{className:"transport-carrier-section transport-carrier-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:O,children:[p.jsx("iconify-icon",{icon:"mdi:truck-outline",width:"18",class:"opacity-90"}),"Carrier & Services"]}),p.jsxs("div",{className:"bg-[#f0f5ee]/80 p-4 rounded-xl border-2 border-[#1e4d2b]/20 hover:border-[#1e4d2b]/35 mb-5 transition-all duration-400 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsx("label",{className:R,children:"Application Type"}),p.jsxs("div",{className:"flex gap-6 mt-2",children:[p.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[p.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center shrink-0 transition-colors duration-300 ${y==="New Applicant"?"border-[#1e4d2b]":"border-[#e8e0d4]"}`,children:y==="New Applicant"&&p.jsx("div",{className:"w-2.5 h-2.5 bg-[#1e4d2b] rounded-full"})}),p.jsx("input",{type:"radio",className:"hidden",checked:y==="New Applicant",onChange:()=>w("New Applicant")}),p.jsx("span",{className:`text-sm font-semibold group-hover:text-[#1e4d2b] transition-colors duration-200 ${y==="New Applicant"?"text-[#1e4d2b]":"text-[#5c574f]"}`,children:"New Applicant"})]}),p.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[p.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center shrink-0 transition-colors duration-300 ${y==="Renewal"?"border-[#1e4d2b]":"border-[#e8e0d4]"}`,children:y==="Renewal"&&p.jsx("div",{className:"w-2.5 h-2.5 bg-[#1e4d2b] rounded-full"})}),p.jsx("input",{type:"radio",className:"hidden",checked:y==="Renewal",onChange:()=>w("Renewal")}),p.jsx("span",{className:`text-sm font-semibold group-hover:text-[#1e4d2b] transition-colors duration-200 ${y==="Renewal"?"text-[#1e4d2b]":"text-[#5c574f]"}`,children:"Renewal"})]})]})]}),p.jsxs("div",{className:"space-y-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:R,children:"Type of Services"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:SI.map(J=>p.jsx(Y,{label:J,isSelected:m.includes(J),onToggle:()=>q(v,J)},J))})]}),p.jsxs("div",{children:[p.jsx("label",{className:R,children:"Species / Cargo Handled (Birds)"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:kI.map(J=>p.jsx(Y,{label:J,isSelected:T.includes(J),onToggle:()=>q(I,J)},J))})]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:R,children:"Species Handled (Animals)"}),p.jsx("input",{type:"text",value:V,onChange:J=>B(J.target.value),className:H,placeholder:"e.g. Swine, Cattle"})]}),p.jsxs("div",{children:[p.jsx("label",{className:R,children:"By-Products Handled"}),p.jsx("input",{type:"text",value:A,onChange:J=>M(J.target.value),className:H,placeholder:"e.g. Eggs, Manure"})]})]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:R,children:"Type of Vehicle"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:NI.map(J=>p.jsx(Y,{label:J,isSelected:F.includes(J),onToggle:()=>q($,J)},J))})]}),p.jsxs("div",{children:[p.jsx("label",{className:R,children:"Body Type"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:EI.map(J=>p.jsx(Y,{label:J,isSelected:U.includes(J),onToggle:()=>q(E,J)},J))})]})]})]})]}),p.jsxs("div",{className:"transport-carrier-section transport-carrier-section-4 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4 border-b-2 border-[#1e4d2b]/15 pb-3",children:[p.jsxs("h3",{className:"text-sm font-black text-[#1e4d2b] uppercase tracking-wide flex items-center gap-2.5",children:[p.jsx("iconify-icon",{icon:"mdi:fleet",width:"18",class:"opacity-90"}),"Vehicle Fleet"]}),p.jsxs("button",{type:"button",onClick:W,className:"px-4 py-2 bg-[#1e4d2b]/10 text-[#1e4d2b] text-xs font-bold rounded-xl border-2 border-[#1e4d2b]/30 hover:bg-[#1e4d2b]/20 hover:border-[#1e4d2b]/50 transition-all duration-300 flex items-center gap-1.5",children:[p.jsx("iconify-icon",{icon:"mdi:plus-circle",width:"16"})," Add Vehicle"]})]}),p.jsx("div",{className:"overflow-x-auto rounded-xl border-2 border-[#e8e0d4] hover:border-[#1e4d2b]/20 transition-colors duration-300",children:p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-[#faf8f5] text-[#5c574f] font-semibold border-b-2 border-[#e8e0d4]",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-3 min-w-[150px]",children:"Accreditation No."}),p.jsx("th",{className:"px-4 py-3 min-w-[150px]",children:"Make/Series"}),p.jsx("th",{className:"px-4 py-3 min-w-[150px]",children:"Plate / Conduction"}),p.jsx("th",{className:"px-4 py-3 min-w-[150px]",children:"Body Type"}),p.jsx("th",{className:"px-4 py-3 w-32",children:"No. of Wheels"}),p.jsx("th",{className:"px-4 py-3 w-16",children:"Action"})]})}),p.jsx("tbody",{className:"divide-y divide-[#e8e0d4]",children:P.map((J,Z)=>p.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[p.jsx("td",{className:"px-4 py-2",children:p.jsx("input",{type:"text",value:J.accreditationNo,onChange:te=>Q(Z,"accreditationNo",te.target.value),className:"w-full bg-transparent border-b-2 border-transparent focus:border-[#1e4d2b] outline-none text-[#1e4d2b] py-1.5 transition-colors duration-200 placeholder:text-[#8a857c]",placeholder:"Type here..."})}),p.jsx("td",{className:"px-4 py-2",children:p.jsx("input",{type:"text",value:J.makeSeries,onChange:te=>Q(Z,"makeSeries",te.target.value),className:"w-full bg-transparent border-b-2 border-transparent focus:border-[#1e4d2b] outline-none text-[#1e4d2b] py-1.5 transition-colors duration-200 placeholder:text-[#8a857c]",placeholder:"Type here..."})}),p.jsx("td",{className:"px-4 py-2",children:p.jsx("input",{type:"text",value:J.plateNo,onChange:te=>Q(Z,"plateNo",te.target.value),className:"w-full bg-transparent border-b-2 border-transparent focus:border-[#1e4d2b] outline-none text-[#1e4d2b] font-mono py-1.5 transition-colors duration-200 placeholder:text-[#8a857c]",placeholder:"ABC-123"})}),p.jsx("td",{className:"px-4 py-2",children:p.jsx("input",{type:"text",value:J.bodyType,onChange:te=>Q(Z,"bodyType",te.target.value),className:"w-full bg-transparent border-b-2 border-transparent focus:border-[#1e4d2b] outline-none text-[#1e4d2b] py-1.5 transition-colors duration-200 placeholder:text-[#8a857c]",placeholder:"Type here..."})}),p.jsx("td",{className:"px-4 py-2",children:p.jsx("input",{type:"text",value:J.noOfWheels,onChange:te=>Q(Z,"noOfWheels",te.target.value),className:"w-full bg-transparent border-b-2 border-transparent focus:border-[#1e4d2b] outline-none text-[#1e4d2b] py-1.5 transition-colors duration-200 placeholder:text-[#8a857c]",placeholder:"4"})}),p.jsx("td",{className:"px-4 py-2 text-center",children:P.length>1&&p.jsx("button",{type:"button",onClick:()=>z(Z),className:"text-red-500 hover:text-red-600 hover:scale-110 active:scale-95 transition-all duration-200 p-1 rounded-lg hover:bg-red-50",children:p.jsx("iconify-icon",{icon:"mdi:trash-can-outline",width:"18"})})})]},Z))})]})})]}),p.jsxs("div",{className:"transport-carrier-section transport-carrier-section-5 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:O,children:[p.jsx("iconify-icon",{icon:"mdi:star-face",width:"18",class:"opacity-90"}),"Feedback & Remarks"]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx(cn,{ratings:x,onChange:(J,Z)=>_(te=>({...te,[J]:Z}))}),p.jsxs("div",{children:[p.jsx("label",{className:R,children:"Recommendation"}),p.jsx("textarea",{value:S,onChange:J=>k((J.target.value||"").toUpperCase()),className:`${H} min-h-[100px] uppercase placeholder:normal-case`,rows:"3",placeholder:"Enter official recommendations..."})]})]})]}),p.jsxs("div",{className:"transport-carrier-section transport-carrier-section-6 pt-2",children:[D&&p.jsxs("div",{className:`animal-feed-message-enter mb-4 mx-auto max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${D.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[p.jsx("iconify-icon",{icon:D.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),p.jsx("p",{className:"font-medium",children:D.text})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx("button",{type:"submit",disabled:L,className:"w-full sm:w-auto px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:L?p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT RECORD"]})})})]})]})]})})}const jI=["Pet Shop","Veterinary Clinic","Grooming Center","Breeding Kennel","Animal Shelter","Zoo / Wildlife","Research Facility","Pound"],CI=["Pending Inspection","Inspected - Passed","Inspected - Failed","Registered","Expired"],hy={dateApplied:"",facilityName:"",ownerName:"",address:"",facilityType:"",speciesHandled:"",headVet:"",prcLicenseNo:"",certificateNo:"",validityDate:"",status:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function AI(){const[r,t]=de.useState(hy),{submit:e,loading:n,message:i}=Yr("animalWelfare"),s=(u,f)=>t(d=>({...d,[u]:f})),a=async u=>{u.preventDefault(),await e(r)&&(t(hy),window.scrollTo({top:0,behavior:"smooth"}))},c="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",l="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",o="w-full px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c]";return p.jsx(Qr,{title:"Animal Welfare Registration",children:p.jsxs("div",{className:"max-w-4xl mx-auto pb-10",children:[p.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:p.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[p.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20",children:p.jsx("iconify-icon",{icon:"mdi:paw",width:"24",class:"text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Welfare Concern Form"}),p.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Register and monitor animal facilities for compliance with RA 8485 (Animal Welfare Act)."})]})]})]})}),p.jsxs("form",{onSubmit:a,className:"space-y-8",children:[p.jsxs("div",{className:"animal-welfare-section animal-welfare-section-1 bg-white p-6 sm:p-8 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:c,children:[p.jsx("iconify-icon",{icon:"mdi:domain",width:"18",class:"opacity-90"}),"Facility Information"]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"sm:col-span-2",children:[p.jsx("label",{className:l,children:"Facility Name (Business Name)"}),p.jsx("input",{type:"text",value:r.facilityName,onChange:u=>s("facilityName",u.target.value),className:`${o} text-lg font-semibold`,required:!0,placeholder:"e.g. Happy Paws Clinic"})]}),p.jsxs("div",{children:[p.jsx("label",{className:l,children:"Owner / Operator Name"}),p.jsxs("div",{className:"relative group",children:[p.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300",children:p.jsx("iconify-icon",{icon:"mdi:account",width:"18"})}),p.jsx("input",{type:"text",value:r.ownerName,onChange:u=>s("ownerName",u.target.value),className:`${o} pl-10`})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:l,children:"Date of Application"}),p.jsx("input",{type:"date",value:r.dateApplied,onChange:u=>s("dateApplied",u.target.value),className:o,required:!0})]}),p.jsxs("div",{className:"sm:col-span-2",children:[p.jsx("label",{className:l,children:"Complete Address"}),p.jsxs("div",{className:"relative group",children:[p.jsx("span",{className:"absolute top-2.5 left-3 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300",children:p.jsx("iconify-icon",{icon:"mdi:map-marker",width:"18"})}),p.jsx("input",{type:"text",value:r.address,onChange:u=>s("address",u.target.value),className:`${o} pl-10`,placeholder:"Street, Barangay, Municipality"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:l,children:"Facility Type"}),p.jsx(Bt,{value:r.facilityType,onChange:u=>s("facilityType",u),placeholder:"Select Type...",options:[{value:"",label:"Select Type..."},...jI.map(u=>({value:u,label:u}))],"aria-label":"Facility Type"})]}),p.jsxs("div",{children:[p.jsx("label",{className:l,children:"Species Handled"}),p.jsx("input",{type:"text",value:r.speciesHandled,onChange:u=>s("speciesHandled",u.target.value),placeholder:"Dogs, Cats, Birds, etc.",className:o})]})]})]}),p.jsxs("div",{className:"animal-welfare-section animal-welfare-section-2 bg-white p-6 sm:p-8 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:c,children:[p.jsx("iconify-icon",{icon:"mdi:doctor",width:"18",class:"opacity-90"}),"Veterinary Compliance"]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6",children:[p.jsxs("div",{className:"bg-[#f0f5ee]/80 p-4 rounded-xl border-2 border-[#1e4d2b]/20 hover:border-[#1e4d2b]/40 transition-all duration-400 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsx("label",{className:l,children:"Head Veterinarian"}),p.jsx("input",{type:"text",value:r.headVet,onChange:u=>s("headVet",u.target.value),className:o,placeholder:"Dr. Full Name"})]}),p.jsxs("div",{className:"bg-[#faf6f0]/80 p-4 rounded-xl border-2 border-[#b8a066]/25 hover:border-[#b8a066]/50 transition-all duration-400 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsx("label",{className:l,children:"PRC License No."}),p.jsx("input",{type:"text",value:r.prcLicenseNo,onChange:u=>s("prcLicenseNo",u.target.value),className:o,placeholder:"0000000"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:l,children:"Certificate No. (AWC)"}),p.jsx("input",{type:"text",value:r.certificateNo,onChange:u=>s("certificateNo",u.target.value),className:o})]}),p.jsxs("div",{children:[p.jsx("label",{className:l,children:"Validity Date"}),p.jsx("input",{type:"date",value:r.validityDate,onChange:u=>s("validityDate",u.target.value),className:o})]}),p.jsxs("div",{children:[p.jsx("label",{className:l,children:"Current Status"}),p.jsx(Bt,{value:r.status,onChange:u=>s("status",u),placeholder:"Select Status...",options:[{value:"",label:"Select Status..."},...CI.map(u=>({value:u,label:u}))],"aria-label":"Status"})]})]})]}),p.jsxs("div",{className:"animal-welfare-section animal-welfare-section-3 bg-white p-6 sm:p-8 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:c,children:[p.jsx("iconify-icon",{icon:"mdi:star-circle-outline",width:"18",class:"opacity-90"}),"Evaluation & Feedback"]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx(cn,{ratings:r,onChange:(u,f)=>s(u,f)}),p.jsxs("div",{children:[p.jsx("label",{className:l,children:"Recommendation"}),p.jsx("textarea",{value:r.recommendation,onChange:u=>s("recommendation",(u.target.value||"").toUpperCase()),className:`${o} min-h-[100px] uppercase placeholder:normal-case`,rows:"3",placeholder:"Enter findings and recommendations..."})]})]})]}),p.jsxs("div",{className:"animal-welfare-section animal-welfare-section-4 pt-2",children:[i&&p.jsxs("div",{className:`animal-feed-message-enter mb-4 mx-auto max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[p.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),p.jsx("p",{className:"font-medium",children:i.text})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT RECORD"]})})})]})]})]})})}const II=["Pending","On-Process","Approved","Denied","Expired"],fy={applicant:"",operator:"",location:"",cropsVariety:"",submissionOfApplicationForm:"",evaluationOfDocumentary:"",paymentOfApplicationFee:"",amountOfFee:"",dateOfInspectionAndEvaluation:"",approvedValidatedResult:"",endorsementToBPI:"",dateOfInspection1stSem:"",dateOfInspection2ndSem:"",status:"",validity:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function RI(){const[r,t]=de.useState(fy),{submit:e,loading:n,message:i}=Yr("plantMaterial"),s=(d,h)=>t(g=>({...g,[d]:h})),a=d=>h=>s(d,(h.target.value||"").toUpperCase()),c=async d=>{d.preventDefault(),await e(r)&&(t(fy),window.scrollTo({top:0,behavior:"smooth"}))},l="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",o="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",u="w-full px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c] uppercase",f="w-full px-3 py-2 bg-white border-2 border-[#e8e0d4] rounded-lg text-sm text-[#1e4d2b] focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 placeholder:text-[#8a857c]";return p.jsx(Qr,{title:"Nursery Accreditation",children:p.jsxs("div",{className:"max-w-4xl mx-auto pb-10",children:[p.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:p.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[p.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20",children:p.jsx("iconify-icon",{icon:"mdi:flower-tulip-outline",width:"24",class:"text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Plant Material & Nursery"}),p.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Accreditation form for plant nurseries and material distribution."})]})]})]})}),p.jsxs("form",{onSubmit:c,className:"space-y-8",children:[p.jsxs("div",{className:"plant-material-section plant-material-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx("iconify-icon",{icon:"mdi:account-details-outline",width:"18",class:"opacity-90"}),"Applicant Information"]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-5 mb-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Name of Applicant"}),p.jsx("input",{type:"text",value:r.applicant,onChange:a("applicant"),className:`${u} font-semibold`,placeholder:"FULL NAME",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Name of Operator"}),p.jsx("input",{type:"text",value:r.operator,onChange:a("operator"),className:u,placeholder:"OPERATOR NAME"})]})]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Location / Address"}),p.jsxs("div",{className:"relative group",children:[p.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300",children:p.jsx("iconify-icon",{icon:"mdi:map-marker-outline",width:"18"})}),p.jsx("input",{type:"text",value:r.location,onChange:a("location"),className:`${u} pl-10`,placeholder:"NURSERY LOCATION"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Crops / Variety"}),p.jsxs("div",{className:"relative group",children:[p.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300",children:p.jsx("iconify-icon",{icon:"mdi:sprout-outline",width:"18"})}),p.jsx("input",{type:"text",value:r.cropsVariety,onChange:a("cropsVariety"),className:`${u} pl-10`,placeholder:"E.G. MANGO, CACAO"})]})]})]})]}),p.jsxs("div",{className:"plant-material-section plant-material-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx("iconify-icon",{icon:"mdi:clipboard-text-clock-outline",width:"18",class:"opacity-90"}),"Application Process"]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-5 mb-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Submission of Application"}),p.jsx("input",{type:"date",value:r.submissionOfApplicationForm,onChange:d=>s("submissionOfApplicationForm",d.target.value),className:u})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Documentary Evaluation"}),p.jsx("input",{type:"date",value:r.evaluationOfDocumentary,onChange:d=>s("evaluationOfDocumentary",d.target.value),className:u})]})]}),p.jsxs("div",{className:"bg-[#f0f5ee]/80 p-4 rounded-xl border-2 border-[#1e4d2b]/20 hover:border-[#1e4d2b]/35 grid sm:grid-cols-2 gap-5 mb-5 transition-all duration-400 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Payment Date"}),p.jsx("input",{type:"date",value:r.paymentOfApplicationFee,onChange:d=>s("paymentOfApplicationFee",d.target.value),className:f})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Amount Paid"}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-3 top-2.5 text-[#1e4d2b] font-bold text-sm",children:""}),p.jsx("input",{type:"text",value:r.amountOfFee,onChange:a("amountOfFee"),className:`${f} pl-8 font-bold`,placeholder:"0.00"})]})]})]}),p.jsx("div",{className:"grid sm:grid-cols-2 gap-5",children:p.jsxs("div",{children:[p.jsx("label",{className:o,children:"BPI Endorsement Date"}),p.jsx("input",{type:"date",value:r.endorsementToBPI,onChange:d=>s("endorsementToBPI",d.target.value),className:u})]})})]}),p.jsxs("div",{className:"plant-material-section plant-material-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx("iconify-icon",{icon:"mdi:eye-check-outline",width:"18",class:"opacity-90"}),"Inspection & Monitoring"]}),p.jsxs("div",{className:"space-y-5",children:[p.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Initial Inspection Date"}),p.jsx("input",{type:"date",value:r.dateOfInspectionAndEvaluation,onChange:d=>s("dateOfInspectionAndEvaluation",d.target.value),className:u})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Validated Result / Remarks"}),p.jsx("input",{type:"text",value:r.approvedValidatedResult,onChange:a("approvedValidatedResult"),className:u,placeholder:"PASSED / FOR COMPLIANCE"})]})]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-5 pt-2",children:[p.jsxs("div",{className:"bg-[#f0f5ee]/80 p-3 rounded-xl border-2 border-[#1e4d2b]/20 hover:border-[#1e4d2b]/40 transition-all duration-400",children:[p.jsx("label",{className:o,children:"1st Semester Monitoring"}),p.jsx("input",{type:"date",value:r.dateOfInspection1stSem,onChange:d=>s("dateOfInspection1stSem",d.target.value),className:f})]}),p.jsxs("div",{className:"bg-[#faf6f0]/80 p-3 rounded-xl border-2 border-[#b8a066]/25 hover:border-[#b8a066]/50 transition-all duration-400",children:[p.jsx("label",{className:o,children:"2nd Semester Monitoring"}),p.jsx("input",{type:"date",value:r.dateOfInspection2ndSem,onChange:d=>s("dateOfInspection2ndSem",d.target.value),className:f})]})]})]})]}),p.jsx("div",{className:"plant-material-section plant-material-section-4 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:p.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Accreditation Status"}),p.jsx(Bt,{value:r.status,onChange:d=>s("status",(d||"").toUpperCase()),placeholder:"Select Status",options:[{value:"",label:"Select Status"},...II.map(d=>({value:d.toUpperCase(),label:d}))],"aria-label":"Status"})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Validity Date"}),p.jsx("input",{type:"date",value:r.validity,onChange:d=>s("validity",d.target.value),className:u})]})]})}),p.jsxs("div",{className:"plant-material-section plant-material-section-5 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx("iconify-icon",{icon:"mdi:star-face",width:"18",class:"opacity-90"}),"Customer Satisfaction Feedback"]}),p.jsx(cn,{ratings:r,onChange:(d,h)=>s(d,h)}),p.jsxs("div",{className:"mt-6",children:[p.jsx("label",{className:o,children:"Recommendation"}),p.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:`${u} min-h-[100px] normal-case placeholder:normal-case`,rows:"3",placeholder:"Enter any feedback or recommendations..."})]})]}),p.jsxs("div",{className:"plant-material-section plant-material-section-6 pt-2",children:[i&&p.jsxs("div",{className:`animal-feed-message-enter mb-4 mx-auto max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[p.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),p.jsx("p",{className:"font-medium",children:i.text})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT RECORD"]})})})]})]})]})})}const PI=["Pending","On-Process","Approved","Denied","Certified"],No=[{value:"",label:"Select..."},{value:"1",label:"Poor (1)"},{value:"2",label:"Fair (2)"},{value:"3",label:"Satisfied (3)"},{value:"4",label:"Very Satisfied (4)"},{value:"5",label:"Excellent (5)"}],py={application:"",nameOfGroup:"",nameOfApplicant:"",location:"",area:"",dateOfEvaluation:"",remarks:"",dateOfEndorsement:"",finalInspection:"",status:"",issuanceOfCertificate:"",finalRemarks:"",linkFile:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function MI(){const[r,t]=de.useState(py),{submit:e,loading:n,message:i}=Yr("organicAgri"),s=(f,d)=>t(h=>({...h,[f]:d})),a=f=>d=>s(f,(d.target.value||"").toUpperCase()),c=async f=>{f.preventDefault(),await e(r)&&(t(py),window.scrollTo({top:0,behavior:"smooth"}))},l="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",o="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",u="w-full px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c] uppercase";return p.jsx(Qr,{title:"Organic Agriculture",children:p.jsxs("div",{className:"max-w-4xl mx-auto pb-10",children:[p.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:p.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[p.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20",children:p.jsx("iconify-icon",{icon:"mdi:sprout-outline",width:"24",class:"text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Organic Agriculture Certification"}),p.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Official certification form for organic farming groups and individuals."})]})]})]})}),p.jsxs("form",{onSubmit:c,className:"space-y-8",children:[p.jsxs("div",{className:"organic-agri-section organic-agri-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx("iconify-icon",{icon:"mdi:account-details-outline",width:"18",class:"opacity-90"}),"Applicant Profile"]}),p.jsxs("div",{className:"mb-5",children:[p.jsx("label",{className:o,children:"Application / Project Name"}),p.jsx("input",{type:"text",value:r.application,onChange:a("application"),className:`${u} font-semibold`,placeholder:"PROJECT TITLE OR REFERENCE",required:!0})]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-5 mb-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Name of Group"}),p.jsxs("div",{className:"relative group",children:[p.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300",children:p.jsx("iconify-icon",{icon:"mdi:account-group-outline",width:"18"})}),p.jsx("input",{type:"text",value:r.nameOfGroup,onChange:a("nameOfGroup"),className:`${u} pl-10`,placeholder:"GROUP / ASSOCIATION"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Name of Applicant"}),p.jsxs("div",{className:"relative group",children:[p.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300",children:p.jsx("iconify-icon",{icon:"mdi:account-outline",width:"18"})}),p.jsx("input",{type:"text",value:r.nameOfApplicant,onChange:a("nameOfApplicant"),className:`${u} pl-10`,placeholder:"REPRESENTATIVE NAME"})]})]})]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Location"}),p.jsxs("div",{className:"relative group",children:[p.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300",children:p.jsx("iconify-icon",{icon:"mdi:map-marker-outline",width:"18"})}),p.jsx("input",{type:"text",value:r.location,onChange:a("location"),className:`${u} pl-10`,placeholder:"FARM ADDRESS"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Total Area"}),p.jsxs("div",{className:"relative group",children:[p.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300",children:p.jsx("iconify-icon",{icon:"mdi:texture-box",width:"18"})}),p.jsx("input",{type:"text",value:r.area,onChange:a("area"),className:`${u} pl-10`,placeholder:"E.G. 5 HECTARES"})]})]})]})]}),p.jsxs("div",{className:"organic-agri-section organic-agri-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx("iconify-icon",{icon:"mdi:clipboard-check-outline",width:"18",class:"opacity-90"}),"Evaluation Process"]}),p.jsxs("div",{className:"grid sm:grid-cols-3 gap-5 mb-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Date of Evaluation"}),p.jsx("input",{type:"date",value:r.dateOfEvaluation,onChange:f=>s("dateOfEvaluation",f.target.value),className:u})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Date of Endorsement"}),p.jsx("input",{type:"date",value:r.dateOfEndorsement,onChange:f=>s("dateOfEndorsement",f.target.value),className:u})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Final Inspection"}),p.jsx("input",{type:"date",value:r.finalInspection,onChange:f=>s("finalInspection",f.target.value),className:u})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Initial Remarks"}),p.jsx("textarea",{value:r.remarks,onChange:a("remarks"),className:`${u} min-h-[80px] normal-case placeholder:normal-case`,rows:"2",placeholder:"Initial findings..."})]})]}),p.jsxs("div",{className:"organic-agri-section organic-agri-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx("iconify-icon",{icon:"mdi:certificate-outline",width:"18",class:"opacity-90"}),"Certification Details"]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-5 mb-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Current Status"}),p.jsx(Bt,{value:r.status,onChange:f=>s("status",(f||"").toUpperCase()),placeholder:"Select Status",options:[{value:"",label:"Select Status"},...PI.map(f=>({value:f.toUpperCase(),label:f}))],"aria-label":"Status"})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Date Certificate Issued"}),p.jsx("input",{type:"date",value:r.issuanceOfCertificate,onChange:f=>s("issuanceOfCertificate",f.target.value),className:u})]})]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-5",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Final Remarks"}),p.jsx("textarea",{value:r.finalRemarks,onChange:a("finalRemarks"),className:`${u} min-h-[60px] normal-case placeholder:normal-case`,rows:"2",placeholder:"Final conclusion..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Digital File Link"}),p.jsxs("div",{className:"relative group",children:[p.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-[#1e4d2b] group-focus-within:text-[#153019] transition-colors duration-300",children:p.jsx("iconify-icon",{icon:"mdi:link-variant",width:"18"})}),p.jsx("input",{type:"url",value:r.linkFile,onChange:f=>s("linkFile",f.target.value),className:`${u} pl-10 normal-case placeholder:normal-case`,placeholder:"https://..."})]}),p.jsx("p",{className:"text-[10px] text-[#5c574f] mt-1 ml-1",children:"Link to scanned documents."})]})]})]}),p.jsxs("div",{className:"organic-agri-section organic-agri-section-4 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx("iconify-icon",{icon:"mdi:star-face",width:"18",class:"opacity-90"}),"Customer Satisfaction Feedback"]}),p.jsx("div",{className:"overflow-hidden border-2 border-[#e8e0d4] rounded-xl mb-5 hover:border-[#1e4d2b]/20 transition-colors duration-300",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-[#f0f5ee] border-b-2 border-[#1e4d2b]/15",children:[p.jsx("th",{className:"text-left py-4 px-4 font-bold text-[#1e4d2b] uppercase text-xs",children:"Rating Criteria"}),p.jsx("th",{className:"text-center py-4 px-2 w-48 font-bold text-[#1e4d2b] uppercase text-xs",children:"Score"})]})}),p.jsxs("tbody",{className:"divide-y divide-[#e8e0d4]",children:[p.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[p.jsx("td",{className:"py-3 px-4 font-medium text-[#1e4d2b]",children:"1. Quantity of Services Provided"}),p.jsx("td",{className:"py-2 px-2",children:p.jsx(Bt,{options:No,value:r.ratingQuantity,onChange:f=>s("ratingQuantity",f),placeholder:"Select...",className:"min-w-[140px]","aria-label":"Score"})})]}),p.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[p.jsx("td",{className:"py-3 px-4 font-medium text-[#1e4d2b]",children:"2. Personnel Service Quality"}),p.jsx("td",{className:"py-2 px-2",children:p.jsx(Bt,{options:No,value:r.ratingServicesPersonnel,onChange:f=>s("ratingServicesPersonnel",f),placeholder:"Select...",className:"min-w-[140px]","aria-label":"Score"})})]}),p.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[p.jsx("td",{className:"py-3 px-4 pl-8 text-[#5c574f] italic",children:"2.1 Relevance of training"}),p.jsx("td",{className:"py-2 px-2",children:p.jsx(Bt,{options:No,value:r.ratingTraining,onChange:f=>s("ratingTraining",f),placeholder:"Select...",className:"min-w-[140px]","aria-label":"Score"})})]}),p.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[p.jsx("td",{className:"py-3 px-4 pl-8 text-[#5c574f] italic",children:"2.2 Attitude (Courteousness)"}),p.jsx("td",{className:"py-2 px-2",children:p.jsx(Bt,{options:No,value:r.ratingAttitude,onChange:f=>s("ratingAttitude",f),placeholder:"Select...",className:"min-w-[140px]","aria-label":"Score"})})]}),p.jsxs("tr",{className:"hover:bg-[#faf8f5]/80 transition-colors duration-200",children:[p.jsx("td",{className:"py-3 px-4 pl-8 text-[#5c574f] italic",children:"2.3 Promptness"}),p.jsx("td",{className:"py-2 px-2",children:p.jsx(Bt,{options:No,value:r.ratingPromptness,onChange:f=>s("ratingPromptness",f),placeholder:"Select...",className:"min-w-[140px]","aria-label":"Score"})})]})]})]})})}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Recommendation"}),p.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:`${u} min-h-[100px] normal-case placeholder:normal-case`,rows:"3",placeholder:"Enter recommendation..."})]})]}),p.jsxs("div",{className:"organic-agri-section organic-agri-section-5 pt-2",children:[i&&p.jsxs("div",{className:`animal-feed-message-enter mb-4 mx-auto max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[p.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),p.jsx("p",{className:"font-medium",children:i.text})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT RECORD"]})})})]})]})]})})}const OI=["Pending","On-Process","Approved","Denied","Certified"],my={dateOfRequest:"",nameOfApplicant:"",location:"",area:"",crop:"",dateOfPreAssessment:"",remarks:"",dateOfEndorsementToBPI:"",dateOfFinalInspection:"",status:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function DI(){const[r,t]=de.useState(my),{submit:e,loading:n,message:i}=Yr("goodAgriPractices"),s=(d,h)=>t(g=>({...g,[d]:h})),a=d=>h=>s(d,(h.target.value||"").toUpperCase()),c=async d=>{d.preventDefault(),await e(r)&&(t(my),window.scrollTo({top:0,behavior:"smooth"}))},l="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",o="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",u="w-full px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c] uppercase",f=`${u} min-h-[100px] resize-y normal-case placeholder:normal-case`;return p.jsx(Qr,{title:"Good Agricultural Practices (GAP) Unit",children:p.jsxs("div",{className:"max-w-4xl mx-auto pb-10",children:[p.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:p.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[p.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:p.jsx("iconify-icon",{icon:"mdi:leaf",width:"24",class:"text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"GAP Certification"}),p.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Good Agricultural Practices certification and assessment."})]})]})]})}),p.jsxs("form",{onSubmit:c,className:"space-y-8",children:[p.jsxs("div",{className:"good-agri-section good-agri-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(Qs,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Applicant Details"]}),p.jsxs("div",{className:"grid sm:grid-cols-12 gap-6",children:[p.jsxs("div",{className:"sm:col-span-4",children:[p.jsx("label",{className:o,children:"Date of Request"}),p.jsx("div",{className:"relative",children:p.jsx("input",{type:"date",value:r.dateOfRequest,onChange:d=>s("dateOfRequest",d.target.value),className:u,required:!0})})]}),p.jsxs("div",{className:"sm:col-span-8",children:[p.jsx("label",{className:o,children:"Name of Applicant"}),p.jsx("input",{type:"text",value:r.nameOfApplicant,onChange:a("nameOfApplicant"),className:u,placeholder:"Full Name of Applicant"})]}),p.jsxs("div",{className:"sm:col-span-12",children:[p.jsx("label",{className:o,children:"Farm Location"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ri,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.location,onChange:a("location"),className:`${u} pl-10`,placeholder:"Complete Address of the Farm"})]})]}),p.jsxs("div",{className:"sm:col-span-6",children:[p.jsx("label",{className:o,children:"Area (Hectares)"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(j0,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.area,onChange:a("area"),className:`${u} pl-10`,placeholder:"e.g. 5.00"})]})]}),p.jsxs("div",{className:"sm:col-span-6",children:[p.jsx("label",{className:o,children:"Crop / Commodity"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(bp,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.crop,onChange:a("crop"),className:`${u} pl-10`,placeholder:"Type of Crop"})]})]})]})]}),p.jsxs("div",{className:"good-agri-section good-agri-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(U4,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Inspection Timeline"]}),p.jsxs("div",{className:"grid sm:grid-cols-3 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Pre-assessment Date"}),p.jsx("input",{type:"date",value:r.dateOfPreAssessment,onChange:d=>s("dateOfPreAssessment",d.target.value),className:u})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Endorsement to BPI"}),p.jsx("input",{type:"date",value:r.dateOfEndorsementToBPI,onChange:d=>s("dateOfEndorsementToBPI",d.target.value),className:u})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Final Inspection"}),p.jsx("input",{type:"date",value:r.dateOfFinalInspection,onChange:d=>s("dateOfFinalInspection",d.target.value),className:u})]})]})]}),p.jsxs("div",{className:"good-agri-section good-agri-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx($4,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Assessment Outcome"]}),p.jsxs("div",{className:"grid gap-6",children:[p.jsxs("div",{className:"w-full sm:max-w-md",children:[p.jsx("label",{className:o,children:"Current Status"}),p.jsx(Bt,{value:r.status,onChange:d=>s("status",(d||"").toUpperCase()),placeholder:"Select Application Status",options:[{value:"",label:"Select Application Status"},...OI.map(d=>({value:d.toUpperCase(),label:d}))],leftIcon:p.jsx(Gu,{className:"h-4 w-4 text-[#5c574f]"}),"aria-label":"Status"})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Remarks"}),p.jsx("textarea",{value:r.remarks,onChange:a("remarks"),className:f,placeholder:"Enter specific remarks or observations..."})]})]})]}),p.jsxs("div",{className:"good-agri-section good-agri-section-4 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(T0,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Customer Satisfaction"]}),p.jsx("div",{className:"mt-2",children:p.jsx(cn,{ratings:r,onChange:(d,h)=>s(d,h)})}),p.jsxs("div",{className:"mt-6",children:[p.jsx("label",{className:o,children:"Recommendation"}),p.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:f,placeholder:"Enter final recommendation..."})]})]}),p.jsxs("div",{className:"good-agri-section good-agri-section-5 pt-2 flex flex-col items-end gap-4",children:[i&&p.jsxs("div",{className:`animal-feed-message-enter w-full max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[p.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),p.jsx("p",{className:"font-medium",children:i.text})]}),p.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT GAP RECORD"]})})]})]})]})})}const gy={ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function LI(){const[r,t]=de.useState(gy),{submit:e,loading:n,message:i}=Yr("goodAnimalHusbandry"),s=(u,f)=>t(d=>({...d,[u]:f})),a=u=>f=>s(u,(f.target.value||"").toUpperCase()),c=async u=>{u.preventDefault(),await e(r)&&t(gy)};return p.jsx(Qr,{title:"Good Animal Husbandry Practices (GAHP) Unit",children:p.jsxs("form",{onSubmit:c,className:"space-y-4 max-w-2xl",children:[p.jsx(cn,{ratings:r,onChange:(u,f)=>s(u,f)}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-1",children:"Recommendation"}),p.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:"w-full px-3 py-2.5 bg-background border border-border rounded-lg text-content text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all placeholder:text-text-muted uppercase min-h-[80px]",rows:"3",placeholder:"Recommendations..."})]}),i&&p.jsx("p",{className:`p-3 rounded ${i.type==="success"?"bg-primary/10 text-primary border border-primary/30":"bg-red-50 text-red-700 border border-red-200"}`,children:i.text}),p.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2.5 bg-primary text-white rounded-lg hover:bg-primary-dark disabled:opacity-50 font-semibold",children:n?"Saving...":"Submit"})]})})}const by={requestLetterDate:"",identifiedMarketOutlet:"",dateOfCommunicationLetter:"",nameOfProduct:"",commodity:"",certification:"",nameOfOwnerManager:"",location:"",dateOfSurveillance:"",remarks:"",linkFile:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function FI(){const[r,t]=de.useState(by),{submit:e,loading:n,message:i}=Yr("organicPostMarket"),s=(h,g)=>t(b=>({...b,[h]:g})),a=h=>g=>s(h,(g.target.value||"").toUpperCase()),c=async h=>{h.preventDefault(),await e(r)&&(t(by),window.scrollTo({top:0,behavior:"smooth"}))},l="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",o="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",u="w-full px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c] uppercase",f="w-full px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 placeholder:text-[#8a857c] normal-case",d=`${u} min-h-[100px] resize-y normal-case placeholder:normal-case`;return p.jsx(Qr,{title:"Organic Product Post-Market Surveillance",children:p.jsxs("div",{className:"max-w-5xl mx-auto pb-10",children:[p.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:p.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[p.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:p.jsx("iconify-icon",{icon:"mdi:store-marker-outline",width:"24",class:"text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Post-Market Surveillance"}),p.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Organic product surveillance and market outlet monitoring."})]})]})]})}),p.jsxs("form",{onSubmit:c,className:"space-y-8",children:[p.jsxs("div",{className:"organic-post-market-section organic-post-market-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(Qj,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Communication Timeline"]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Date of Request Letter"}),p.jsx("input",{type:"date",value:r.requestLetterDate,onChange:h=>s("requestLetterDate",h.target.value),className:u,required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Date of Communication Letter"}),p.jsx("input",{type:"date",value:r.dateOfCommunicationLetter,onChange:h=>s("dateOfCommunicationLetter",h.target.value),className:u})]})]})]}),p.jsxs("div",{className:"organic-post-market-section organic-post-market-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(K1,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Market & Product Information"]}),p.jsxs("div",{className:"grid sm:grid-cols-12 gap-6",children:[p.jsxs("div",{className:"sm:col-span-8",children:[p.jsx("label",{className:o,children:"Identified Market Outlet / Establishment"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(K1,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.identifiedMarketOutlet,onChange:a("identifiedMarketOutlet"),className:`${u} pl-10`,placeholder:"Name of Establishment",required:!0})]})]}),p.jsxs("div",{className:"sm:col-span-4",children:[p.jsx("label",{className:o,children:"Owner / Manager"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Qs,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.nameOfOwnerManager,onChange:a("nameOfOwnerManager"),className:`${u} pl-10`,placeholder:"Full Name"})]})]}),p.jsxs("div",{className:"sm:col-span-12",children:[p.jsx("label",{className:o,children:"Location Address"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ri,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.location,onChange:a("location"),className:`${u} pl-10`,placeholder:"Complete Address of Market/Outlet"})]})]}),p.jsxs("div",{className:"sm:col-span-6",children:[p.jsx("label",{className:o,children:"Name of Product"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(KC,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.nameOfProduct,onChange:a("nameOfProduct"),className:`${u} pl-10`,placeholder:"Product Brand/Name"})]})]}),p.jsxs("div",{className:"sm:col-span-3",children:[p.jsx("label",{className:o,children:"Commodity"}),p.jsx("input",{type:"text",value:r.commodity,onChange:a("commodity"),className:u,placeholder:"e.g. Rice"})]}),p.jsxs("div",{className:"sm:col-span-3",children:[p.jsx("label",{className:o,children:"Certification"}),p.jsx("input",{type:"text",value:r.certification,onChange:a("certification"),className:u,placeholder:"Cert. Body/No."})]})]})]}),p.jsxs("div",{className:"organic-post-market-section organic-post-market-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(H4,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Surveillance Findings"]}),p.jsxs("div",{className:"grid gap-6",children:[p.jsxs("div",{className:"w-full sm:max-w-xs",children:[p.jsx("label",{className:o,children:"Date of Surveillance"}),p.jsx("input",{type:"date",value:r.dateOfSurveillance,onChange:h=>s("dateOfSurveillance",h.target.value),className:u})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Remarks / Observations"}),p.jsx("textarea",{value:r.remarks,onChange:a("remarks"),className:d,placeholder:"Enter detailed observations during surveillance..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Related File Link"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(gC,{className:"h-4 w-4 text-[#1e4d2b] group-focus-within:text-[#153019] transition-colors duration-300"})}),p.jsx("input",{type:"url",value:r.linkFile,onChange:h=>s("linkFile",h.target.value),className:`${f} pl-10`,placeholder:"https://drive.google.com/..."})]})]})]})]}),p.jsxs("div",{className:"organic-post-market-section organic-post-market-section-4 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(Kl,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Feedback & Recommendations"]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx(cn,{ratings:r,onChange:(h,g)=>s(h,g)}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Recommendation"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute top-3 left-3 pointer-events-none",children:p.jsx(T0,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:`${d} pl-10`,rows:"3",placeholder:"Enter final recommendation regarding the product/market..."})]})]})]})]}),p.jsxs("div",{className:"organic-post-market-section organic-post-market-section-5 pt-2 flex flex-col items-end gap-4",children:[i&&p.jsxs("div",{className:`animal-feed-message-enter w-full max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[p.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),p.jsx("p",{className:"font-medium",children:i.text})]}),p.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT SURVEILLANCE REPORT"]})})]})]})]})})}const yy={controlNo:"",nameOfApplicant:"",purposeOfApplication:"",sizeOfArea:"",location:"",dateOfRequest:"",dateReceivedAndEvaluated:"",dateOfReplyToRequest:"",dateReceivedByApplicant:"",fieldInvestigation:"",dateOfEndorsement:"",issuanceOfCertificate:"",remarks:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function BI(){const[r,t]=de.useState(yy),{submit:e,loading:n,message:i}=Yr("landUseMatter"),s=(d,h)=>t(g=>({...g,[d]:h})),a=d=>h=>s(d,(h.target.value||"").toUpperCase()),c=async d=>{d.preventDefault(),await e(r)&&(t(yy),window.scrollTo({top:0,behavior:"smooth"}))},l="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",o="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",u="w-full min-w-0 px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c] uppercase",f=`${u} min-h-[100px] resize-y normal-case placeholder:normal-case`;return p.jsx(Qr,{title:"Land Use Matter (Reclassification)",children:p.jsxs("div",{className:"max-w-5xl mx-auto pb-10 min-w-0 w-full",children:[p.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:p.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[p.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:p.jsx("iconify-icon",{icon:"mdi:terrain",width:"24",class:"text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Land Use Reclassification"}),p.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Application and processing for land use matter reclassification."})]})]})]})}),p.jsxs("form",{onSubmit:c,className:"space-y-8",children:[p.jsxs("div",{className:"land-use-matter-section land-use-matter-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(Bd,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Application Profile"]}),p.jsxs("div",{className:"grid sm:grid-cols-12 gap-6",children:[p.jsxs("div",{className:"sm:col-span-4",children:[p.jsx("label",{className:o,children:"Control No."}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(hC,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.controlNo,onChange:a("controlNo"),placeholder:"Ex. 2023-001",required:!0,className:`${u} pl-10`})]})]}),p.jsxs("div",{className:"sm:col-span-8",children:[p.jsx("label",{className:o,children:"Name of Applicant"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Qs,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.nameOfApplicant,onChange:a("nameOfApplicant"),placeholder:"Full Name of Applicant",className:`${u} pl-10`})]})]}),p.jsxs("div",{className:"sm:col-span-12",children:[p.jsx("label",{className:o,children:"Purpose of Application"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx($4,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.purposeOfApplication,onChange:a("purposeOfApplication"),placeholder:"State the purpose (e.g., Residential, Commercial)",className:`${u} pl-10`})]})]})]})]}),p.jsxs("div",{className:"land-use-matter-section land-use-matter-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(vC,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Land Specifications"]}),p.jsxs("div",{className:"grid sm:grid-cols-12 gap-6",children:[p.jsxs("div",{className:"sm:col-span-4",children:[p.jsx("label",{className:o,children:"Size of Area (Has.)"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(j0,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.sizeOfArea,onChange:a("sizeOfArea"),placeholder:"0.00",className:`${u} pl-10`})]})]}),p.jsxs("div",{className:"sm:col-span-8",children:[p.jsx("label",{className:o,children:"Location"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ri,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.location,onChange:a("location"),placeholder:"Barangay, Municipality",className:`${u} pl-10`})]})]})]})]}),p.jsxs("div",{className:"land-use-matter-section land-use-matter-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(Kj,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Processing Timeline"]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-x-8 gap-y-6",children:[p.jsxs("div",{className:"space-y-6",children:[p.jsx("h4",{className:"text-sm font-bold text-[#1e4d2b] uppercase tracking-wider border-l-4 border-[#1e4d2b]/30 pl-2",children:"Incoming"}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Date of Request"}),p.jsx("input",{type:"date",value:r.dateOfRequest,onChange:d=>s("dateOfRequest",d.target.value),className:u})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Date Received & Evaluated"}),p.jsx("input",{type:"date",value:r.dateReceivedAndEvaluated,onChange:d=>s("dateReceivedAndEvaluated",d.target.value),className:u})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx("h4",{className:"text-sm font-bold text-[#1e4d2b] uppercase tracking-wider border-l-4 border-[#b8a066]/40 pl-2",children:"Outgoing / Action"}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Date of Reply to Request"}),p.jsx("input",{type:"date",value:r.dateOfReplyToRequest,onChange:d=>s("dateOfReplyToRequest",d.target.value),className:u})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Date Received by Applicant"}),p.jsx("input",{type:"date",value:r.dateReceivedByApplicant,onChange:d=>s("dateReceivedByApplicant",d.target.value),className:u})]})]})]})]}),p.jsxs("div",{className:"land-use-matter-section land-use-matter-section-4 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(E0,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Investigation & Outcome"]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Field Investigation Details"}),p.jsx("input",{type:"text",value:r.fieldInvestigation,onChange:a("fieldInvestigation"),className:u,placeholder:"Findings summary"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Date of Endorsement"}),p.jsx("input",{type:"date",value:r.dateOfEndorsement,onChange:d=>s("dateOfEndorsement",d.target.value),className:u})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Cert. Issuance Date"}),p.jsx("input",{type:"date",value:r.issuanceOfCertificate,onChange:d=>s("issuanceOfCertificate",d.target.value),className:u})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Remarks"}),p.jsx("textarea",{value:r.remarks,onChange:a("remarks"),className:f,placeholder:"Additional notes or remarks..."})]})]})]}),p.jsxs("div",{className:"land-use-matter-section land-use-matter-section-5 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(T0,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Evaluation & Recommendation"]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx(cn,{ratings:r,onChange:(d,h)=>s(d,h)}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Recommendation"}),p.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:f,placeholder:"Final recommendations..."})]})]})]}),p.jsxs("div",{className:"land-use-matter-section land-use-matter-section-6 pt-2 flex flex-col items-end gap-4",children:[i&&p.jsxs("div",{className:`animal-feed-message-enter w-full max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[p.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),p.jsx("p",{className:"font-medium",children:i.text})]}),p.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT LAND USE RECORD"]})})]})]})]})})}const vy={ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function VI(){const[r,t]=de.useState(vy),{submit:e,loading:n,message:i}=Yr("foodSafety"),s=(u,f)=>t(d=>({...d,[u]:f})),a=u=>f=>s(u,(f.target.value||"").toUpperCase()),c=async u=>{u.preventDefault(),await e(r)&&t(vy)};return p.jsx(Qr,{title:"Food Safety Unit",children:p.jsxs("form",{onSubmit:c,className:"space-y-4 max-w-2xl",children:[p.jsx(cn,{ratings:r,onChange:(u,f)=>s(u,f)}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-primary mb-1",children:"Recommendation"}),p.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:"w-full px-3 py-2.5 bg-background border border-border rounded-lg text-content text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all placeholder:text-text-muted uppercase min-h-[80px]",rows:"3",placeholder:"Recommendations..."})]}),i&&p.jsx("p",{className:`p-3 rounded ${i.type==="success"?"bg-primary/10 text-primary border border-primary/30":"bg-red-50 text-red-700 border border-red-200"}`,children:i.text}),p.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2.5 bg-primary text-white rounded-lg hover:bg-primary-dark disabled:opacity-50 font-semibold",children:n?"Saving...":"Submit"})]})})}const xy={dateOfRequestAndCollection:"",farmerName:"",address:"",contactNumber:"",gpsLocation:"",crop:"",variety:"",datePlanted:"",areaPlanted:"",areaAffected:"",percentInfestation:"",pestsDiseases:"",remarks:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function zI(){const[r,t]=de.useState(xy),{submit:e,loading:n,message:i}=Yr("plantPestSurveillance"),s=(d,h)=>t(g=>({...g,[d]:h})),a=d=>h=>s(d,(h.target.value||"").toUpperCase()),c=async d=>{d.preventDefault(),await e(r)&&(t(xy),window.scrollTo({top:0,behavior:"smooth"}))},l="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",o="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",u="w-full min-w-0 px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c] uppercase",f=`${u} min-h-[100px] resize-y normal-case placeholder:normal-case`;return p.jsx(Qr,{title:"Plant Pest and Disease Surveillance",children:p.jsxs("div",{className:"max-w-5xl mx-auto pb-10 min-w-0 w-full",children:[p.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:p.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[p.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:p.jsx("iconify-icon",{icon:"mdi:bug-outline",width:"24",class:"text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Plant Pest & Disease Surveillance"}),p.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Farmer and crop surveillance for pests and diseases."})]})]})]})}),p.jsxs("form",{onSubmit:c,className:"space-y-8",children:[p.jsxs("div",{className:"plant-pest-surveillance-section plant-pest-surveillance-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(Qs,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Farmer & Location Profile"]}),p.jsxs("div",{className:"grid sm:grid-cols-12 gap-6",children:[p.jsxs("div",{className:"sm:col-span-4",children:[p.jsx("label",{className:o,children:"Date of Request / Collection"}),p.jsx("div",{className:"relative",children:p.jsx("input",{type:"date",value:r.dateOfRequestAndCollection,onChange:d=>s("dateOfRequestAndCollection",d.target.value),className:u,required:!0})})]}),p.jsxs("div",{className:"sm:col-span-8",children:[p.jsx("label",{className:o,children:"Name of Farmer"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Qs,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.farmerName,onChange:a("farmerName"),placeholder:"Full Name",className:`${u} pl-10`})]})]}),p.jsxs("div",{className:"sm:col-span-12",children:[p.jsx("label",{className:o,children:"Address"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ri,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.address,onChange:a("address"),placeholder:"Complete Farm Address",className:`${u} pl-10`})]})]}),p.jsxs("div",{className:"sm:col-span-6",children:[p.jsx("label",{className:o,children:"Contact Number"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(EC,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.contactNumber,onChange:a("contactNumber"),placeholder:"09XX-XXX-XXXX",className:`${u} pl-10`})]})]}),p.jsxs("div",{className:"sm:col-span-6",children:[p.jsx("label",{className:o,children:"GPS Location"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(IC,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.gpsLocation,onChange:a("gpsLocation"),placeholder:"Lat, Long (e.g., 13.41, 121.18)",className:`${u} pl-10`})]})]})]})]}),p.jsxs("div",{className:"plant-pest-surveillance-section plant-pest-surveillance-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(bp,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Crop Information"]}),p.jsxs("div",{className:"grid sm:grid-cols-4 gap-6",children:[p.jsxs("div",{className:"sm:col-span-2",children:[p.jsx("label",{className:o,children:"Crop"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(bp,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.crop,onChange:a("crop"),placeholder:"e.g. Rice",className:`${u} pl-10`})]})]}),p.jsxs("div",{className:"sm:col-span-2",children:[p.jsx("label",{className:o,children:"Variety"}),p.jsx("input",{type:"text",value:r.variety,onChange:a("variety"),className:u,placeholder:"e.g. NSIC Rc 222"})]}),p.jsxs("div",{className:"sm:col-span-2",children:[p.jsx("label",{className:o,children:"Date Planted"}),p.jsx("input",{type:"date",value:r.datePlanted,onChange:d=>s("datePlanted",d.target.value),className:u})]}),p.jsxs("div",{className:"sm:col-span-2",children:[p.jsx("label",{className:o,children:"Area Planted (Ha)"}),p.jsx("input",{type:"text",value:r.areaPlanted,onChange:a("areaPlanted"),className:u,placeholder:"Total Hectares"})]})]})]}),p.jsxs("div",{className:"plant-pest-surveillance-section plant-pest-surveillance-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(qj,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Surveillance Findings"]}),p.jsxs("div",{className:"grid sm:grid-cols-12 gap-6",children:[p.jsxs("div",{className:"sm:col-span-12",children:[p.jsx("label",{className:o,children:"Observed Pests / Diseases"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(eA,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.pestsDiseases,onChange:a("pestsDiseases"),className:`${u} pl-10`,placeholder:"e.g. Fall Armyworm, Rice Blast, Stem Borer"})]})]}),p.jsxs("div",{className:"sm:col-span-6",children:[p.jsx("label",{className:o,children:"Area Affected (Ha)"}),p.jsx("input",{type:"text",value:r.areaAffected,onChange:a("areaAffected"),className:u,placeholder:"Size of damage"})]}),p.jsxs("div",{className:"sm:col-span-6",children:[p.jsx("label",{className:o,children:"Percent Infestation (%)"}),p.jsx("input",{type:"text",value:r.percentInfestation,onChange:a("percentInfestation"),className:u,placeholder:"e.g. 15%"})]}),p.jsxs("div",{className:"sm:col-span-12",children:[p.jsx("label",{className:o,children:"Remarks / Observations"}),p.jsx("textarea",{value:r.remarks,onChange:a("remarks"),className:f,placeholder:"Additional notes on severity or control measures needed..."})]})]})]}),p.jsxs("div",{className:"plant-pest-surveillance-section plant-pest-surveillance-section-4 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(Kl,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Feedback & Satisfaction"]}),p.jsx(cn,{ratings:r,onChange:(d,h)=>s(d,h)}),p.jsxs("div",{className:"mt-6",children:[p.jsx("label",{className:o,children:"Recommendation"}),p.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:f,placeholder:"Enter final recommendation here..."})]})]}),p.jsxs("div",{className:"plant-pest-surveillance-section plant-pest-surveillance-section-5 pt-2 flex flex-col items-end gap-4",children:[i&&p.jsxs("div",{className:`animal-feed-message-enter w-full max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[p.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),p.jsx("p",{className:"font-medium",children:i.text})]}),p.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT SURVEILLANCE REPORT"]})})]})]})]})})}const wy={clientName:"",typeOfDiseaseSurveillance:"",purpose:"",address:"",dateOfRequest:"",dateOfSurveillance:"",numberOfSamples:"",dateSubmittedToLab:"",dateOfEndorsementToDA:"",remarks:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function UI(){const[r,t]=de.useState(wy),{submit:e,loading:n,message:i}=Yr("cfsAdmcc"),s=(d,h)=>t(g=>({...g,[d]:h})),a=d=>h=>s(d,(h.target.value||"").toUpperCase()),c=async d=>{d.preventDefault(),await e(r)&&(t(wy),window.scrollTo({top:0,behavior:"smooth"}))},l="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",o="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",u="w-full min-w-0 px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c] uppercase",f=`${u} min-h-[100px] resize-y normal-case placeholder:normal-case`;return p.jsx(Qr,{title:"CFS/ADMCC (Animal Disease Surveillance)",children:p.jsxs("div",{className:"max-w-5xl mx-auto pb-10 min-w-0 w-full",children:[p.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:p.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[p.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:p.jsx("iconify-icon",{icon:"mdi:microscope",width:"24",class:"text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"CFS / ADMCC"}),p.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Animal disease surveillance  specimen collection and lab endorsement."})]})]})]})}),p.jsxs("form",{onSubmit:c,className:"space-y-8",children:[p.jsxs("div",{className:"cfs-admcc-section cfs-admcc-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(gp,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Client & Request Details"]}),p.jsxs("div",{className:"grid sm:grid-cols-12 gap-6",children:[p.jsxs("div",{className:"sm:col-span-8",children:[p.jsx("label",{className:o,children:"Name of LGU / Client / Farm"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Qs,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.clientName,onChange:a("clientName"),placeholder:"Name of Client or Farm",required:!0,className:`${u} pl-10`})]})]}),p.jsxs("div",{className:"sm:col-span-4",children:[p.jsx("label",{className:o,children:"Date of Request"}),p.jsx("div",{className:"relative",children:p.jsx("input",{type:"date",value:r.dateOfRequest,onChange:d=>s("dateOfRequest",d.target.value),className:u,required:!0})})]}),p.jsxs("div",{className:"sm:col-span-12",children:[p.jsx("label",{className:o,children:"Address"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ri,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.address,onChange:a("address"),placeholder:"Complete Address",className:`${u} pl-10`})]})]}),p.jsxs("div",{className:"sm:col-span-6",children:[p.jsx("label",{className:o,children:"Type of Disease Surveillance"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Fd,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.typeOfDiseaseSurveillance,onChange:a("typeOfDiseaseSurveillance"),placeholder:"e.g. Avian Influenza (AI), ASF",className:`${u} pl-10`})]})]}),p.jsxs("div",{className:"sm:col-span-6",children:[p.jsx("label",{className:o,children:"Purpose"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Bd,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.purpose,onChange:a("purpose"),placeholder:"Reason for surveillance",className:`${u} pl-10`})]})]})]})]}),p.jsxs("div",{className:"cfs-admcc-section cfs-admcc-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(_C,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Specimen Collection & Lab Data"]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-[#1e4d2b]/5 p-5 rounded-xl border-2 border-[#1e4d2b]/20",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3 text-[#1e4d2b] font-bold text-sm uppercase tracking-wide",children:[p.jsx(yp,{className:"w-4 h-4"}),p.jsx("span",{children:"Collection Details"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Date of Blood Collection"}),p.jsx("input",{type:"date",value:r.dateOfSurveillance,onChange:d=>s("dateOfSurveillance",d.target.value),className:u})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"No. of Samples Collected"}),p.jsx("input",{type:"text",value:r.numberOfSamples,onChange:a("numberOfSamples"),className:u,placeholder:"e.g. 50 Vials"})]})]})]}),p.jsxs("div",{className:"bg-[#1e4d2b]/5 p-5 rounded-xl border-2 border-[#b8a066]/30",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3 text-[#1e4d2b] font-bold text-sm uppercase tracking-wide",children:[p.jsx(E0,{className:"w-4 h-4"}),p.jsx("span",{children:"Submission & Endorsement"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Date Submitted to Lab"}),p.jsx("input",{type:"date",value:r.dateSubmittedToLab,onChange:d=>s("dateSubmittedToLab",d.target.value),className:u})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Date Endorsed to DA-BAI"}),p.jsx("input",{type:"date",value:r.dateOfEndorsementToDA,onChange:d=>s("dateOfEndorsementToDA",d.target.value),className:u})]})]})]}),p.jsxs("div",{className:"sm:col-span-2 mt-2",children:[p.jsx("label",{className:o,children:"Remarks / Technical Findings"}),p.jsx("textarea",{value:r.remarks,onChange:a("remarks"),className:f,placeholder:"Additional notes on samples or findings..."})]})]})]}),p.jsxs("div",{className:"cfs-admcc-section cfs-admcc-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(Kl,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Customer Satisfaction"]}),p.jsx(cn,{ratings:r,onChange:(d,h)=>s(d,h)}),p.jsxs("div",{className:"mt-6",children:[p.jsx("label",{className:o,children:"Recommendation"}),p.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:f,placeholder:"Client recommendations for service improvement..."})]})]}),p.jsxs("div",{className:"cfs-admcc-section cfs-admcc-section-4 pt-2 flex flex-col items-end gap-4",children:[i&&p.jsxs("div",{className:`animal-feed-message-enter w-full max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[p.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),p.jsx("p",{className:"font-medium",children:i.text})]}),p.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT ADMCC RECORD"]})})]})]})]})})}const _y={clientName:"",typeOfDiseaseSurveillance:"",purpose:"",address:"",dateOfRequest:"",dateOfSurveillance:"",numberOfSamples:"",dateSubmittedToLab:"",dateOfEndorsementToDA:"",remarks:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function $I(){const[r,t]=de.useState(_y),{submit:e,loading:n,message:i}=Yr("animalDiseaseSurveillance"),s=(d,h)=>t(g=>({...g,[d]:h})),a=d=>h=>s(d,(h.target.value||"").toUpperCase()),c=async d=>{d.preventDefault(),await e(r)&&(t(_y),window.scrollTo({top:0,behavior:"smooth"}))},l="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",o="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",u="w-full min-w-0 px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c] uppercase",f=`${u} min-h-[100px] resize-y normal-case placeholder:normal-case`;return p.jsx(Qr,{title:"Animal Disease Surveillance",children:p.jsxs("div",{className:"max-w-5xl mx-auto pb-10 min-w-0 w-full",children:[p.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:p.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[p.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:p.jsx("iconify-icon",{icon:"mdi:stethoscope",width:"24",class:"text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"Animal Disease Surveillance"}),p.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Client details, specimen collection, and lab endorsement tracking."})]})]})]})}),p.jsxs("form",{onSubmit:c,className:"space-y-8",children:[p.jsxs("div",{className:"animal-disease-surveillance-section animal-disease-surveillance-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(gp,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Client & Surveillance Details"]}),p.jsxs("div",{className:"grid sm:grid-cols-12 gap-6",children:[p.jsxs("div",{className:"sm:col-span-8",children:[p.jsx("label",{className:o,children:"Name of LGU / Client / Farm"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(gp,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.clientName,onChange:a("clientName"),placeholder:"Name of LGU, Client or Farm",required:!0,className:`${u} pl-10`})]})]}),p.jsxs("div",{className:"sm:col-span-4",children:[p.jsx("label",{className:o,children:"Date of Request"}),p.jsx("div",{className:"relative",children:p.jsx("input",{type:"date",value:r.dateOfRequest,onChange:d=>s("dateOfRequest",d.target.value),className:u,required:!0})})]}),p.jsxs("div",{className:"sm:col-span-12",children:[p.jsx("label",{className:o,children:"Address"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ri,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.address,onChange:a("address"),placeholder:"Complete Address",className:`${u} pl-10`})]})]}),p.jsxs("div",{className:"sm:col-span-6",children:[p.jsx("label",{className:o,children:"Type of Disease Surveillance"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Fd,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.typeOfDiseaseSurveillance,onChange:a("typeOfDiseaseSurveillance"),placeholder:"e.g. Avian Influenza, ASF, Rabies",className:`${u} pl-10`})]})]}),p.jsxs("div",{className:"sm:col-span-6",children:[p.jsx("label",{className:o,children:"Purpose"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(HC,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.purpose,onChange:a("purpose"),placeholder:"Reason for surveillance",className:`${u} pl-10`})]})]})]})]}),p.jsxs("div",{className:"animal-disease-surveillance-section animal-disease-surveillance-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(yp,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Operation & Sample Data"]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-[#1e4d2b] font-bold text-sm uppercase tracking-wider mb-2",children:[p.jsx(yp,{className:"w-4 h-4"})," Field Activities"]}),p.jsxs("div",{className:"bg-[#1e4d2b]/5 p-5 rounded-xl border-2 border-[#1e4d2b]/20 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Date of Surveillance (Blood Coll.)"}),p.jsx("input",{type:"date",value:r.dateOfSurveillance,onChange:d=>s("dateOfSurveillance",d.target.value),className:u})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"No. of Samples Collected"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(QC,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.numberOfSamples,onChange:a("numberOfSamples"),placeholder:"e.g. 50 Vials",className:`${u} pl-10`})]})]})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-[#1e4d2b] font-bold text-sm uppercase tracking-wider mb-2",children:[p.jsx(cC,{className:"w-4 h-4"})," Lab & Admin"]}),p.jsxs("div",{className:"bg-[#1e4d2b]/5 p-5 rounded-xl border-2 border-[#b8a066]/30 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Date Submitted to Lab"}),p.jsx("input",{type:"date",value:r.dateSubmittedToLab,onChange:d=>s("dateSubmittedToLab",d.target.value),className:u})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Date Endorsed to DA-BAI"}),p.jsx("input",{type:"date",value:r.dateOfEndorsementToDA,onChange:d=>s("dateOfEndorsementToDA",d.target.value),className:u})]})]})]}),p.jsxs("div",{className:"sm:col-span-2",children:[p.jsx("label",{className:o,children:"Remarks / Observations"}),p.jsx("textarea",{value:r.remarks,onChange:a("remarks"),className:f,placeholder:"Additional notes, clinical signs observed, etc..."})]})]})]}),p.jsxs("div",{className:"animal-disease-surveillance-section animal-disease-surveillance-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(Kl,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Customer Feedback"]}),p.jsx(cn,{ratings:r,onChange:(d,h)=>s(d,h)}),p.jsxs("div",{className:"mt-6",children:[p.jsx("label",{className:o,children:"Recommendation"}),p.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:f,placeholder:"Final recommendations..."})]})]}),p.jsxs("div",{className:"animal-disease-surveillance-section animal-disease-surveillance-section-4 pt-2 flex flex-col items-end gap-4",children:[i&&p.jsxs("div",{className:`animal-feed-message-enter w-full max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[p.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),p.jsx("p",{className:"font-medium",children:i.text})]}),p.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT SURVEILLANCE DATA"]})})]})]})]})})}const HI=["Pending","On-Process","Approved","Denied"],Sy={explorationPermitApplicationNo:"",nameOfApplicant:"",dateReceived:"",location:"",area:"",dateOfReplyToRequest:"",endorsementToBSWM:"",endorsementToMGB:"",fieldValidation:"",remarks:"",rescheduledDate:"",fieldValidationReport:"",issuanceOfCertificateAndEndorsementToMGB:"",status:"",findings:"",ratingQuantity:"",ratingServicesPersonnel:"",ratingTraining:"",ratingAttitude:"",ratingPromptness:"",recommendation:""};function qI(){const[r,t]=de.useState(Sy),{submit:e,loading:n,message:i}=Yr("safdzValidation"),s=(d,h)=>t(g=>({...g,[d]:h})),a=d=>h=>s(d,(h.target.value||"").toUpperCase()),c=async d=>{d.preventDefault(),await e(r)&&(t(Sy),window.scrollTo({top:0,behavior:"smooth"}))},l="text-sm font-black text-[#1e4d2b] uppercase tracking-wide border-b-2 border-[#1e4d2b]/15 pb-3 mb-5 flex items-center gap-2.5 transition-colors duration-300",o="block text-[10px] font-bold text-[#5c574f] uppercase tracking-wider mb-1.5 transition-colors duration-200",u="w-full min-w-0 px-4 py-2.5 bg-white border-2 border-[#e8e0d4] rounded-xl text-sm text-[#1e4d2b] font-medium focus:outline-none focus:ring-2 focus:ring-[#1e4d2b]/30 focus:border-[#1e4d2b] hover:border-[#1e4d2b]/50 transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] placeholder:text-[#8a857c] uppercase",f=`${u} min-h-[100px] resize-y normal-case placeholder:normal-case`;return p.jsx(Qr,{title:"SAFDZ Validation",children:p.jsxs("div",{className:"max-w-5xl mx-auto pb-10 min-w-0 w-full",children:[p.jsx("div",{className:"mb-8 rounded-2xl border-2 border-[#e8e0d4] bg-white shadow-lg shadow-[#1e4d2b]/8 overflow-hidden hover:shadow-xl hover:shadow-[#1e4d2b]/12 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:p.jsxs("div",{className:"bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] px-5 sm:px-6 py-4 relative overflow-hidden border-b-2 border-[#1e4d2b]/20",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_70%_0%,rgba(255,255,255,0.1),transparent_50%)]"}),p.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[p.jsx("span",{className:"p-2.5 bg-white/15 rounded-xl border border-white/20 shrink-0",children:p.jsx("iconify-icon",{icon:"mdi:map-marker-check",width:"24",class:"text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white uppercase tracking-tight drop-shadow-sm",children:"SAFDZ Validation"}),p.jsx("p",{className:"text-[11px] font-semibold text-white/85 tracking-wider mt-0.5",children:"Strategic Agricultural and Fisheries Development Zone validation and endorsement."})]})]})]})}),p.jsxs("form",{onSubmit:c,className:"space-y-8",children:[p.jsxs("div",{className:"safdz-validation-section safdz-validation-section-1 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(Bd,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Application Overview"]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Exploration Permit App. No."}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(E0,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.explorationPermitApplicationNo,onChange:a("explorationPermitApplicationNo"),placeholder:"Permit Number",required:!0,className:`${u} pl-10`})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Name of Applicant"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Qs,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.nameOfApplicant,onChange:a("nameOfApplicant"),placeholder:"Applicant Full Name",className:`${u} pl-10`})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Location"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ri,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.location,onChange:a("location"),placeholder:"Site Location",className:`${u} pl-10`})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Area (Hectares)"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(j0,{className:"h-4 w-4 text-[#5c574f] group-focus-within:text-[#1e4d2b] transition-colors duration-300"})}),p.jsx("input",{type:"text",value:r.area,onChange:a("area"),placeholder:"e.g. 5.00",className:`${u} pl-10`})]})]})]})]}),p.jsxs("div",{className:"safdz-validation-section safdz-validation-section-2 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(MC,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Timeline & Endorsements"]}),p.jsxs("div",{className:"grid sm:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"sm:col-span-2",children:[p.jsx("label",{className:o,children:"Date Received"}),p.jsx("input",{type:"date",value:r.dateReceived,onChange:d=>s("dateReceived",d.target.value),className:u})]}),p.jsxs("div",{className:"sm:col-span-2",children:[p.jsx("label",{className:o,children:"Date Replied"}),p.jsx("input",{type:"date",value:r.dateOfReplyToRequest,onChange:d=>s("dateOfReplyToRequest",d.target.value),className:u})]}),p.jsx("div",{className:"sm:col-span-4 h-px bg-[#e8e0d4] my-2"}),p.jsxs("div",{className:"sm:col-span-2",children:[p.jsx("label",{className:o,children:"Endorsement to BSWM"}),p.jsx("input",{type:"date",value:r.endorsementToBSWM,onChange:d=>s("endorsementToBSWM",d.target.value),className:u}),p.jsx("p",{className:"text-[10px] text-[#5c574f]/80 mt-1",children:"Bureau of Soils and Water Management"})]}),p.jsxs("div",{className:"sm:col-span-2",children:[p.jsx("label",{className:o,children:"Endorsement to MGB"}),p.jsx("input",{type:"date",value:r.endorsementToMGB,onChange:d=>s("endorsementToMGB",d.target.value),className:u}),p.jsx("p",{className:"text-[10px] text-[#5c574f]/80 mt-1",children:"Mines and Geosciences Bureau"})]})]})]}),p.jsxs("div",{className:"safdz-validation-section safdz-validation-section-3 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(H4,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Field Validation & Findings"]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"sm:col-span-2",children:[p.jsx("label",{className:o,children:"Field Validation Activities"}),p.jsx("input",{type:"text",value:r.fieldValidation,onChange:a("fieldValidation"),className:u,placeholder:"Describe validation activities..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Rescheduled Date (If any)"}),p.jsx("div",{className:"relative",children:p.jsx("input",{type:"date",value:r.rescheduledDate,onChange:d=>s("rescheduledDate",d.target.value),className:u})})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Validation Report Ref."}),p.jsx("input",{type:"text",value:r.fieldValidationReport,onChange:a("fieldValidationReport"),className:u,placeholder:"Report No. / Reference"})]}),p.jsxs("div",{className:"sm:col-span-2",children:[p.jsx("label",{className:o,children:"Findings"}),p.jsx("textarea",{value:r.findings,onChange:a("findings"),className:f,placeholder:"Enter validation findings here..."})]})]})]}),p.jsxs("div",{className:"safdz-validation-section safdz-validation-section-4 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(zC,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Issuance & Status"]}),p.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Issuance of Certificate & Endorsement (MGB)"}),p.jsx("input",{type:"date",value:r.issuanceOfCertificateAndEndorsementToMGB,onChange:d=>s("issuanceOfCertificateAndEndorsementToMGB",d.target.value),className:u})]}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Current Status"}),p.jsx(Bt,{value:r.status,onChange:d=>s("status",d),placeholder:"Select Application Status",options:[{value:"",label:"Select Application Status"},...HI.map(d=>({value:d,label:d}))],"aria-label":"Status"})]}),p.jsxs("div",{className:"sm:col-span-2",children:[p.jsx("label",{className:o,children:"General Remarks"}),p.jsx("textarea",{value:r.remarks,onChange:a("remarks"),className:`${u} min-h-[80px]`,rows:"2",placeholder:"Additional remarks..."})]})]})]}),p.jsxs("div",{className:"safdz-validation-section safdz-validation-section-5 bg-white p-6 sm:p-7 rounded-2xl border-2 border-[#e8e0d4] shadow-lg shadow-[#1e4d2b]/8 hover:shadow-xl hover:shadow-[#1e4d2b]/12 hover:-translate-y-0.5 transition-all duration-500 ease-[cubic-bezier(0.33,1,0.68,1)]",children:[p.jsxs("h3",{className:l,children:[p.jsx(Kl,{className:"w-5 h-5 text-[#1e4d2b] opacity-90"})," Feedback & Recommendation"]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx(cn,{ratings:r,onChange:(d,h)=>s(d,h)}),p.jsxs("div",{children:[p.jsx("label",{className:o,children:"Recommendation"}),p.jsx("textarea",{value:r.recommendation,onChange:a("recommendation"),className:f,placeholder:"Final recommendation based on validation..."})]})]})]}),p.jsxs("div",{className:"safdz-validation-section safdz-validation-section-6 pt-2 flex flex-col items-end gap-4",children:[i&&p.jsxs("div",{className:`animal-feed-message-enter w-full max-w-2xl p-4 rounded-xl shadow-lg flex items-center gap-3 border-l-4 ${i.type==="success"?"bg-[#1e4d2b] text-white border-[#153019]":"bg-red-500 text-white border-red-700"}`,children:[p.jsx("iconify-icon",{icon:i.type==="success"?"mdi:check-circle":"mdi:alert-circle",width:"24"}),p.jsx("p",{className:"font-medium",children:i.text})]}),p.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto px-8 py-3.5 bg-gradient-to-r from-[#1e4d2b] via-[#1a4526] to-[#153019] text-white rounded-xl font-bold tracking-wide flex items-center justify-center gap-2 shadow-lg shadow-[#1e4d2b]/25 hover:shadow-xl hover:shadow-[#1e4d2b]/35 hover:-translate-y-1 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg disabled:hover:scale-100",children:n?p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:loading",width:"20",class:"animate-spin"}),"Processing..."]}):p.jsxs(p.Fragment,{children:[p.jsx("iconify-icon",{icon:"mdi:content-save-check",width:"22"}),"SUBMIT VALIDATION"]})})]})]})]})})}function WI({children:r,requireAdmin:t}){const{user:e,role:n,loading:i}=so();return i?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:p.jsx("div",{className:"animate-pulse text-muted",children:"Loading..."})}):e?t&&n!=="admin"?p.jsx(Bf,{to:"/dashboard",replace:!0}):r:p.jsx(Bf,{to:"/",replace:!0})}function GI(){return p.jsxs(B6,{children:[p.jsxs($t,{path:"/",element:p.jsx(bj,{}),children:[p.jsx($t,{index:!0,element:p.jsx(xj,{})}),p.jsx($t,{path:"about",element:p.jsx(wj,{})}),p.jsx($t,{path:"features",element:p.jsx(_j,{})}),p.jsx($t,{path:"contact",element:p.jsx(Sj,{})}),p.jsx($t,{path:"admin-login",element:p.jsx(Nj,{})}),p.jsx($t,{path:"staff-login",element:p.jsx(Ej,{})})]}),p.jsxs($t,{path:"/dashboard",element:p.jsx(WI,{children:p.jsx(mj,{children:p.jsx(yj,{})})}),children:[p.jsx($t,{index:!0,element:p.jsx(jj,{})}),p.jsx($t,{path:"analytics",element:p.jsx(cA,{})}),p.jsx($t,{path:"records",element:p.jsx(Pj,{})}),p.jsx($t,{path:"forms/animal-feed",element:p.jsx(mI,{})}),p.jsx($t,{path:"forms/livestock-handlers",element:p.jsx(xI,{})}),p.jsx($t,{path:"forms/transport-carrier",element:p.jsx(TI,{})}),p.jsx($t,{path:"forms/animal-welfare",element:p.jsx(AI,{})}),p.jsx($t,{path:"forms/plant-material",element:p.jsx(RI,{})}),p.jsx($t,{path:"forms/organic-agri",element:p.jsx(MI,{})}),p.jsx($t,{path:"forms/good-agri-practices",element:p.jsx(DI,{})}),p.jsx($t,{path:"forms/good-animal-husbandry",element:p.jsx(LI,{})}),p.jsx($t,{path:"forms/organic-post-market",element:p.jsx(FI,{})}),p.jsx($t,{path:"forms/land-use-matter",element:p.jsx(BI,{})}),p.jsx($t,{path:"forms/food-safety",element:p.jsx(VI,{})}),p.jsx($t,{path:"forms/safdz-validation",element:p.jsx(qI,{})}),p.jsx($t,{path:"forms/plant-pest-surveillance",element:p.jsx(zI,{})}),p.jsx($t,{path:"forms/cfs-admcc",element:p.jsx(UI,{})}),p.jsx($t,{path:"forms/animal-disease-surveillance",element:p.jsx($I,{})})]}),p.jsx($t,{path:"*",element:p.jsx(Bf,{to:"/",replace:!0})})]})}function KI(){return p.jsx(hj,{children:p.jsx(GI,{})})}Hh.createRoot(document.getElementById("root")).render(p.jsx(Oy.StrictMode,{children:p.jsx(W6,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:p.jsx(KI,{})})}));
