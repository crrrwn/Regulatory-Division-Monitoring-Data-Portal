{
  "version": 3,
  "sources": ["../../iconify-icon/dist/iconify-icon.mjs"],
  "sourcesContent": ["/**\r\n* (c) Iconify\r\n*\r\n* For the full copyright and license information, please view the license.txt\r\n* files at https://github.com/iconify/iconify\r\n*\r\n* Licensed under MIT.\r\n*\r\n* @license MIT\r\n* @version 3.0.2\r\n*/\r\n/** Default values for dimensions */\r\nconst defaultIconDimensions = Object.freeze({\r\n\tleft: 0,\r\n\ttop: 0,\r\n\twidth: 16,\r\n\theight: 16\r\n});\r\n/** Default values for transformations */\r\nconst defaultIconTransformations = Object.freeze({\r\n\trotate: 0,\r\n\tvFlip: false,\r\n\thFlip: false\r\n});\r\n/** Default values for all optional IconifyIcon properties */\r\nconst defaultIconProps = Object.freeze({\r\n\t...defaultIconDimensions,\r\n\t...defaultIconTransformations\r\n});\r\n/** Default values for all properties used in ExtendedIconifyIcon */\r\nconst defaultExtendedIconProps = Object.freeze({\r\n\t...defaultIconProps,\r\n\tbody: \"\",\r\n\thidden: false\r\n});\r\n\r\n/**\r\n* Default icon customisations values\r\n*/\r\nconst defaultIconSizeCustomisations = Object.freeze({\r\n\twidth: null,\r\n\theight: null\r\n});\r\nconst defaultIconCustomisations = Object.freeze({\r\n\t...defaultIconSizeCustomisations,\r\n\t...defaultIconTransformations\r\n});\r\n\r\n/**\r\n* Get rotation value\r\n*/\r\nfunction rotateFromString(value, defaultValue = 0) {\r\n\tconst units = value.replace(/^-?[0-9.]*/, \"\");\r\n\tfunction cleanup(value$1) {\r\n\t\twhile (value$1 < 0) value$1 += 4;\r\n\t\treturn value$1 % 4;\r\n\t}\r\n\tif (units === \"\") {\r\n\t\tconst num = parseInt(value);\r\n\t\treturn isNaN(num) ? 0 : cleanup(num);\r\n\t} else if (units !== value) {\r\n\t\tlet split = 0;\r\n\t\tswitch (units) {\r\n\t\t\tcase \"%\":\r\n\t\t\t\tsplit = 25;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"deg\": split = 90;\r\n\t\t}\r\n\t\tif (split) {\r\n\t\t\tlet num = parseFloat(value.slice(0, value.length - units.length));\r\n\t\t\tif (isNaN(num)) return 0;\r\n\t\t\tnum = num / split;\r\n\t\t\treturn num % 1 === 0 ? cleanup(num) : 0;\r\n\t\t}\r\n\t}\r\n\treturn defaultValue;\r\n}\r\n\r\nconst separator = /[\\s,]+/;\r\n/**\r\n* Apply \"flip\" string to icon customisations\r\n*/\r\nfunction flipFromString(custom, flip) {\r\n\tflip.split(separator).forEach((str) => {\r\n\t\tswitch (str.trim()) {\r\n\t\t\tcase \"horizontal\":\r\n\t\t\t\tcustom.hFlip = true;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"vertical\":\r\n\t\t\t\tcustom.vFlip = true;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t});\r\n}\r\n\r\nconst defaultCustomisations = {\r\n    ...defaultIconCustomisations,\r\n    preserveAspectRatio: '',\r\n};\r\n/**\r\n * Get customisations\r\n */\r\nfunction getCustomisations(node) {\r\n    const customisations = {\r\n        ...defaultCustomisations,\r\n    };\r\n    const attr = (key, def) => node.getAttribute(key) || def;\r\n    // Dimensions\r\n    customisations.width = attr('width', null);\r\n    customisations.height = attr('height', null);\r\n    // Rotation\r\n    customisations.rotate = rotateFromString(attr('rotate', ''));\r\n    // Flip\r\n    flipFromString(customisations, attr('flip', ''));\r\n    // SVG attributes\r\n    customisations.preserveAspectRatio = attr('preserveAspectRatio', attr('preserveaspectratio', ''));\r\n    return customisations;\r\n}\r\n/**\r\n * Check if customisations have been updated\r\n */\r\nfunction haveCustomisationsChanged(value1, value2) {\r\n    for (const key in defaultCustomisations) {\r\n        if (value1[key] !== value2[key]) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n* Expression to test part of icon name.\r\n*\r\n* Used when loading icons from Iconify API due to project naming convension.\r\n* Ignored when using custom icon sets - convension does not apply.\r\n*/\r\nconst matchIconName = /^[a-z0-9]+(-[a-z0-9]+)*$/;\r\n/**\r\n* Convert string icon name to IconifyIconName object.\r\n*/\r\nconst stringToIcon = (value, validate, allowSimpleName, provider = \"\") => {\r\n\tconst colonSeparated = value.split(\":\");\r\n\tif (value.slice(0, 1) === \"@\") {\r\n\t\tif (colonSeparated.length < 2 || colonSeparated.length > 3) return null;\r\n\t\tprovider = colonSeparated.shift().slice(1);\r\n\t}\r\n\tif (colonSeparated.length > 3 || !colonSeparated.length) return null;\r\n\tif (colonSeparated.length > 1) {\r\n\t\tconst name$1 = colonSeparated.pop();\r\n\t\tconst prefix = colonSeparated.pop();\r\n\t\tconst result = {\r\n\t\t\tprovider: colonSeparated.length > 0 ? colonSeparated[0] : provider,\r\n\t\t\tprefix,\r\n\t\t\tname: name$1\r\n\t\t};\r\n\t\treturn validate && !validateIconName(result) ? null : result;\r\n\t}\r\n\tconst name = colonSeparated[0];\r\n\tconst dashSeparated = name.split(\"-\");\r\n\tif (dashSeparated.length > 1) {\r\n\t\tconst result = {\r\n\t\t\tprovider,\r\n\t\t\tprefix: dashSeparated.shift(),\r\n\t\t\tname: dashSeparated.join(\"-\")\r\n\t\t};\r\n\t\treturn validate && !validateIconName(result) ? null : result;\r\n\t}\r\n\tif (allowSimpleName && provider === \"\") {\r\n\t\tconst result = {\r\n\t\t\tprovider,\r\n\t\t\tprefix: \"\",\r\n\t\t\tname\r\n\t\t};\r\n\t\treturn validate && !validateIconName(result, allowSimpleName) ? null : result;\r\n\t}\r\n\treturn null;\r\n};\r\n/**\r\n* Check if icon is valid.\r\n*\r\n* This function is not part of stringToIcon because validation is not needed for most code.\r\n*/\r\nconst validateIconName = (icon, allowSimpleName) => {\r\n\tif (!icon) return false;\r\n\treturn !!((allowSimpleName && icon.prefix === \"\" || !!icon.prefix) && !!icon.name);\r\n};\r\n\r\n/**\r\n* Resolve icon set icons\r\n*\r\n* Returns parent icon for each icon\r\n*/\r\nfunction getIconsTree(data, names) {\r\n\tconst icons = data.icons;\r\n\tconst aliases = data.aliases || Object.create(null);\r\n\tconst resolved = Object.create(null);\r\n\tfunction resolve(name) {\r\n\t\tif (icons[name]) return resolved[name] = [];\r\n\t\tif (!(name in resolved)) {\r\n\t\t\tresolved[name] = null;\r\n\t\t\tconst parent = aliases[name] && aliases[name].parent;\r\n\t\t\tconst value = parent && resolve(parent);\r\n\t\t\tif (value) resolved[name] = [parent].concat(value);\r\n\t\t}\r\n\t\treturn resolved[name];\r\n\t}\r\n\t(Object.keys(icons).concat(Object.keys(aliases))).forEach(resolve);\r\n\treturn resolved;\r\n}\r\n\r\n/**\r\n* Merge transformations\r\n*/\r\nfunction mergeIconTransformations(obj1, obj2) {\r\n\tconst result = {};\r\n\tif (!obj1.hFlip !== !obj2.hFlip) result.hFlip = true;\r\n\tif (!obj1.vFlip !== !obj2.vFlip) result.vFlip = true;\r\n\tconst rotate = ((obj1.rotate || 0) + (obj2.rotate || 0)) % 4;\r\n\tif (rotate) result.rotate = rotate;\r\n\treturn result;\r\n}\r\n\r\n/**\r\n* Merge icon and alias\r\n*\r\n* Can also be used to merge default values and icon\r\n*/\r\nfunction mergeIconData(parent, child) {\r\n\tconst result = mergeIconTransformations(parent, child);\r\n\tfor (const key in defaultExtendedIconProps) if (key in defaultIconTransformations) {\r\n\t\tif (key in parent && !(key in result)) result[key] = defaultIconTransformations[key];\r\n\t} else if (key in child) result[key] = child[key];\r\n\telse if (key in parent) result[key] = parent[key];\r\n\treturn result;\r\n}\r\n\r\n/**\r\n* Get icon data, using prepared aliases tree\r\n*/\r\nfunction internalGetIconData(data, name, tree) {\r\n\tconst icons = data.icons;\r\n\tconst aliases = data.aliases || Object.create(null);\r\n\tlet currentProps = {};\r\n\tfunction parse(name$1) {\r\n\t\tcurrentProps = mergeIconData(icons[name$1] || aliases[name$1], currentProps);\r\n\t}\r\n\tparse(name);\r\n\ttree.forEach(parse);\r\n\treturn mergeIconData(data, currentProps);\r\n}\r\n\r\n/**\r\n* Extract icons from an icon set\r\n*\r\n* Returns list of icons that were found in icon set\r\n*/\r\nfunction parseIconSet(data, callback) {\r\n\tconst names = [];\r\n\tif (typeof data !== \"object\" || typeof data.icons !== \"object\") return names;\r\n\tif (data.not_found instanceof Array) data.not_found.forEach((name) => {\r\n\t\tcallback(name, null);\r\n\t\tnames.push(name);\r\n\t});\r\n\tconst tree = getIconsTree(data);\r\n\tfor (const name in tree) {\r\n\t\tconst item = tree[name];\r\n\t\tif (item) {\r\n\t\t\tcallback(name, internalGetIconData(data, name, item));\r\n\t\t\tnames.push(name);\r\n\t\t}\r\n\t}\r\n\treturn names;\r\n}\r\n\r\n/**\r\n* Optional properties\r\n*/\r\nconst optionalPropertyDefaults = {\r\n\tprovider: \"\",\r\n\taliases: {},\r\n\tnot_found: {},\r\n\t...defaultIconDimensions\r\n};\r\n/**\r\n* Check props\r\n*/\r\nfunction checkOptionalProps(item, defaults) {\r\n\tfor (const prop in defaults) if (prop in item && typeof item[prop] !== typeof defaults[prop]) return false;\r\n\treturn true;\r\n}\r\n/**\r\n* Validate icon set, return it as IconifyJSON on success, null on failure\r\n*\r\n* Unlike validateIconSet(), this function is very basic.\r\n* It does not throw exceptions, it does not check metadata, it does not fix stuff.\r\n*/\r\nfunction quicklyValidateIconSet(obj) {\r\n\tif (typeof obj !== \"object\" || obj === null) return null;\r\n\tconst data = obj;\r\n\tif (typeof data.prefix !== \"string\" || !obj.icons || typeof obj.icons !== \"object\") return null;\r\n\tif (!checkOptionalProps(obj, optionalPropertyDefaults)) return null;\r\n\tconst icons = data.icons;\r\n\tfor (const name in icons) {\r\n\t\tconst icon = icons[name];\r\n\t\tif (!name || typeof icon.body !== \"string\" || !checkOptionalProps(icon, defaultExtendedIconProps)) return null;\r\n\t}\r\n\tconst aliases = data.aliases || Object.create(null);\r\n\tfor (const name in aliases) {\r\n\t\tconst icon = aliases[name];\r\n\t\tconst parent = icon.parent;\r\n\t\tif (!name || typeof parent !== \"string\" || !icons[parent] && !aliases[parent] || !checkOptionalProps(icon, defaultExtendedIconProps)) return null;\r\n\t}\r\n\treturn data;\r\n}\r\n\r\n/**\r\n* Storage by provider and prefix\r\n*/\r\nconst dataStorage = Object.create(null);\r\n/**\r\n* Create new storage\r\n*/\r\nfunction newStorage(provider, prefix) {\r\n\treturn {\r\n\t\tprovider,\r\n\t\tprefix,\r\n\t\ticons: Object.create(null),\r\n\t\tmissing: /* @__PURE__ */ new Set()\r\n\t};\r\n}\r\n/**\r\n* Get storage for provider and prefix\r\n*/\r\nfunction getStorage(provider, prefix) {\r\n\tconst providerStorage = dataStorage[provider] || (dataStorage[provider] = Object.create(null));\r\n\treturn providerStorage[prefix] || (providerStorage[prefix] = newStorage(provider, prefix));\r\n}\r\n/**\r\n* Add icon set to storage\r\n*\r\n* Returns array of added icons\r\n*/\r\nfunction addIconSet(storage, data) {\r\n\tif (!quicklyValidateIconSet(data)) return [];\r\n\treturn parseIconSet(data, (name, icon) => {\r\n\t\tif (icon) storage.icons[name] = icon;\r\n\t\telse storage.missing.add(name);\r\n\t});\r\n}\r\n/**\r\n* Add icon to storage\r\n*/\r\nfunction addIconToStorage(storage, name, icon) {\r\n\ttry {\r\n\t\tif (typeof icon.body === \"string\") {\r\n\t\t\tstorage.icons[name] = { ...icon };\r\n\t\t\treturn true;\r\n\t\t}\r\n\t} catch (err) {}\r\n\treturn false;\r\n}\r\n/**\r\n* List available icons\r\n*/\r\nfunction listIcons$1(provider, prefix) {\r\n\tlet allIcons = [];\r\n\t(typeof provider === \"string\" ? [provider] : Object.keys(dataStorage)).forEach((provider$1) => {\r\n\t\t(typeof provider$1 === \"string\" && typeof prefix === \"string\" ? [prefix] : Object.keys(dataStorage[provider$1] || {})).forEach((prefix$1) => {\r\n\t\t\tconst storage = getStorage(provider$1, prefix$1);\r\n\t\t\tallIcons = allIcons.concat(Object.keys(storage.icons).map((name) => (provider$1 !== \"\" ? \"@\" + provider$1 + \":\" : \"\") + prefix$1 + \":\" + name));\r\n\t\t});\r\n\t});\r\n\treturn allIcons;\r\n}\r\n\r\n/**\r\n* Allow storing icons without provider or prefix, making it possible to store icons like \"home\"\r\n*/\r\nlet simpleNames = false;\r\nfunction allowSimpleNames(allow) {\r\n\tif (typeof allow === \"boolean\") simpleNames = allow;\r\n\treturn simpleNames;\r\n}\r\n/**\r\n* Get icon data\r\n*\r\n* Returns:\r\n* - IconifyIcon on success, object directly from storage so don't modify it\r\n* - null if icon is marked as missing (returned in `not_found` property from API, so don't bother sending API requests)\r\n* - undefined if icon is missing in storage\r\n*/\r\nfunction getIconData(name) {\r\n\tconst icon = typeof name === \"string\" ? stringToIcon(name, true, simpleNames) : name;\r\n\tif (icon) {\r\n\t\tconst storage = getStorage(icon.provider, icon.prefix);\r\n\t\tconst iconName = icon.name;\r\n\t\treturn storage.icons[iconName] || (storage.missing.has(iconName) ? null : void 0);\r\n\t}\r\n}\r\n/**\r\n* Add one icon\r\n*/\r\nfunction addIcon$1(name, data) {\r\n\tconst icon = stringToIcon(name, true, simpleNames);\r\n\tif (!icon) return false;\r\n\tconst storage = getStorage(icon.provider, icon.prefix);\r\n\tif (data) return addIconToStorage(storage, icon.name, data);\r\n\telse {\r\n\t\tstorage.missing.add(icon.name);\r\n\t\treturn true;\r\n\t}\r\n}\r\n/**\r\n* Add icon set\r\n*/\r\nfunction addCollection$1(data, provider) {\r\n\tif (typeof data !== \"object\") return false;\r\n\tif (typeof provider !== \"string\") provider = data.provider || \"\";\r\n\tif (simpleNames && !provider && !data.prefix) {\r\n\t\tlet added = false;\r\n\t\tif (quicklyValidateIconSet(data)) {\r\n\t\t\tdata.prefix = \"\";\r\n\t\t\tparseIconSet(data, (name, icon) => {\r\n\t\t\t\tif (addIcon$1(name, icon)) added = true;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn added;\r\n\t}\r\n\tconst prefix = data.prefix;\r\n\tif (!validateIconName({\r\n\t\tprefix,\r\n\t\tname: \"a\"\r\n\t})) return false;\r\n\treturn !!addIconSet(getStorage(provider, prefix), data);\r\n}\r\n/**\r\n* Check if icon data is available\r\n*/\r\nfunction iconLoaded$1(name) {\r\n\treturn !!getIconData(name);\r\n}\r\n/**\r\n* Get full icon\r\n*/\r\nfunction getIcon$1(name) {\r\n\tconst result = getIconData(name);\r\n\treturn result ? {\r\n\t\t...defaultIconProps,\r\n\t\t...result\r\n\t} : result;\r\n}\r\n\r\n/**\r\n* Remove callback\r\n*/\r\nfunction removeCallback(storages, id) {\r\n\tstorages.forEach((storage) => {\r\n\t\tconst items = storage.loaderCallbacks;\r\n\t\tif (items) storage.loaderCallbacks = items.filter((row) => row.id !== id);\r\n\t});\r\n}\r\n/**\r\n* Update all callbacks for provider and prefix\r\n*/\r\nfunction updateCallbacks(storage) {\r\n\tif (!storage.pendingCallbacksFlag) {\r\n\t\tstorage.pendingCallbacksFlag = true;\r\n\t\tsetTimeout(() => {\r\n\t\t\tstorage.pendingCallbacksFlag = false;\r\n\t\t\tconst items = storage.loaderCallbacks ? storage.loaderCallbacks.slice(0) : [];\r\n\t\t\tif (!items.length) return;\r\n\t\t\tlet hasPending = false;\r\n\t\t\tconst provider = storage.provider;\r\n\t\t\tconst prefix = storage.prefix;\r\n\t\t\titems.forEach((item) => {\r\n\t\t\t\tconst icons = item.icons;\r\n\t\t\t\tconst oldLength = icons.pending.length;\r\n\t\t\t\ticons.pending = icons.pending.filter((icon) => {\r\n\t\t\t\t\tif (icon.prefix !== prefix) return true;\r\n\t\t\t\t\tconst name = icon.name;\r\n\t\t\t\t\tif (storage.icons[name]) icons.loaded.push({\r\n\t\t\t\t\t\tprovider,\r\n\t\t\t\t\t\tprefix,\r\n\t\t\t\t\t\tname\r\n\t\t\t\t\t});\r\n\t\t\t\t\telse if (storage.missing.has(name)) icons.missing.push({\r\n\t\t\t\t\t\tprovider,\r\n\t\t\t\t\t\tprefix,\r\n\t\t\t\t\t\tname\r\n\t\t\t\t\t});\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\thasPending = true;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t\tif (icons.pending.length !== oldLength) {\r\n\t\t\t\t\tif (!hasPending) removeCallback([storage], item.id);\r\n\t\t\t\t\titem.callback(icons.loaded.slice(0), icons.missing.slice(0), icons.pending.slice(0), item.abort);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n/**\r\n* Unique id counter for callbacks\r\n*/\r\nlet idCounter = 0;\r\n/**\r\n* Add callback\r\n*/\r\nfunction storeCallback(callback, icons, pendingSources) {\r\n\tconst id = idCounter++;\r\n\tconst abort = removeCallback.bind(null, pendingSources, id);\r\n\tif (!icons.pending.length) return abort;\r\n\tconst item = {\r\n\t\tid,\r\n\t\ticons,\r\n\t\tcallback,\r\n\t\tabort\r\n\t};\r\n\tpendingSources.forEach((storage) => {\r\n\t\t(storage.loaderCallbacks || (storage.loaderCallbacks = [])).push(item);\r\n\t});\r\n\treturn abort;\r\n}\r\n\r\n/**\r\n* Check if icons have been loaded\r\n*/\r\nfunction sortIcons(icons) {\r\n\tconst result = {\r\n\t\tloaded: [],\r\n\t\tmissing: [],\r\n\t\tpending: []\r\n\t};\r\n\tconst storage = Object.create(null);\r\n\ticons.sort((a, b) => {\r\n\t\tif (a.provider !== b.provider) return a.provider.localeCompare(b.provider);\r\n\t\tif (a.prefix !== b.prefix) return a.prefix.localeCompare(b.prefix);\r\n\t\treturn a.name.localeCompare(b.name);\r\n\t});\r\n\tlet lastIcon = {\r\n\t\tprovider: \"\",\r\n\t\tprefix: \"\",\r\n\t\tname: \"\"\r\n\t};\r\n\ticons.forEach((icon) => {\r\n\t\tif (lastIcon.name === icon.name && lastIcon.prefix === icon.prefix && lastIcon.provider === icon.provider) return;\r\n\t\tlastIcon = icon;\r\n\t\tconst provider = icon.provider;\r\n\t\tconst prefix = icon.prefix;\r\n\t\tconst name = icon.name;\r\n\t\tconst providerStorage = storage[provider] || (storage[provider] = Object.create(null));\r\n\t\tconst localStorage = providerStorage[prefix] || (providerStorage[prefix] = getStorage(provider, prefix));\r\n\t\tlet list;\r\n\t\tif (name in localStorage.icons) list = result.loaded;\r\n\t\telse if (prefix === \"\" || localStorage.missing.has(name)) list = result.missing;\r\n\t\telse list = result.pending;\r\n\t\tconst item = {\r\n\t\t\tprovider,\r\n\t\t\tprefix,\r\n\t\t\tname\r\n\t\t};\r\n\t\tlist.push(item);\r\n\t});\r\n\treturn result;\r\n}\r\n\r\n/**\r\n* Local storate types and entries\r\n*/\r\nconst storage = Object.create(null);\r\n/**\r\n* Set API module\r\n*/\r\nfunction setAPIModule(provider, item) {\r\n\tstorage[provider] = item;\r\n}\r\n/**\r\n* Get API module\r\n*/\r\nfunction getAPIModule(provider) {\r\n\treturn storage[provider] || storage[\"\"];\r\n}\r\n\r\n/**\r\n* Convert icons list from string/icon mix to icons and validate them\r\n*/\r\nfunction listToIcons(list, validate = true, simpleNames = false) {\r\n\tconst result = [];\r\n\tlist.forEach((item) => {\r\n\t\tconst icon = typeof item === \"string\" ? stringToIcon(item, validate, simpleNames) : item;\r\n\t\tif (icon) result.push(icon);\r\n\t});\r\n\treturn result;\r\n}\r\n\r\n/**\r\n* Create full API configuration from partial data\r\n*/\r\nfunction createAPIConfig(source) {\r\n\tlet resources;\r\n\tif (typeof source.resources === \"string\") resources = [source.resources];\r\n\telse {\r\n\t\tresources = source.resources;\r\n\t\tif (!(resources instanceof Array) || !resources.length) return null;\r\n\t}\r\n\treturn {\r\n\t\tresources,\r\n\t\tpath: source.path || \"/\",\r\n\t\tmaxURL: source.maxURL || 500,\r\n\t\trotate: source.rotate || 750,\r\n\t\ttimeout: source.timeout || 5e3,\r\n\t\trandom: source.random === true,\r\n\t\tindex: source.index || 0,\r\n\t\tdataAfterTimeout: source.dataAfterTimeout !== false\r\n\t};\r\n}\r\n/**\r\n* Local storage\r\n*/\r\nconst configStorage = Object.create(null);\r\n/**\r\n* Redundancy for API servers.\r\n*\r\n* API should have very high uptime because of implemented redundancy at server level, but\r\n* sometimes bad things happen. On internet 100% uptime is not possible.\r\n*\r\n* There could be routing problems. Server might go down for whatever reason, but it takes\r\n* few minutes to detect that downtime, so during those few minutes API might not be accessible.\r\n*\r\n* This script has some redundancy to mitigate possible network issues.\r\n*\r\n* If one host cannot be reached in 'rotate' (750 by default) ms, script will try to retrieve\r\n* data from different host. Hosts have different configurations, pointing to different\r\n* API servers hosted at different providers.\r\n*/\r\nconst fallBackAPISources = [\"https://api.simplesvg.com\", \"https://api.unisvg.com\"];\r\nconst fallBackAPI = [];\r\nwhile (fallBackAPISources.length > 0) if (fallBackAPISources.length === 1) fallBackAPI.push(fallBackAPISources.shift());\r\nelse if (Math.random() > .5) fallBackAPI.push(fallBackAPISources.shift());\r\nelse fallBackAPI.push(fallBackAPISources.pop());\r\nconfigStorage[\"\"] = createAPIConfig({ resources: [\"https://api.iconify.design\"].concat(fallBackAPI) });\r\n/**\r\n* Add custom config for provider\r\n*/\r\nfunction addAPIProvider$1(provider, customConfig) {\r\n\tconst config = createAPIConfig(customConfig);\r\n\tif (config === null) return false;\r\n\tconfigStorage[provider] = config;\r\n\treturn true;\r\n}\r\n/**\r\n* Get API configuration\r\n*/\r\nfunction getAPIConfig(provider) {\r\n\treturn configStorage[provider];\r\n}\r\n/**\r\n* List API providers\r\n*/\r\nfunction listAPIProviders() {\r\n\treturn Object.keys(configStorage);\r\n}\r\n\r\n/**\r\n* Default RedundancyConfig for API calls\r\n*/\r\nconst defaultConfig = {\r\n\tresources: [],\r\n\tindex: 0,\r\n\ttimeout: 2e3,\r\n\trotate: 750,\r\n\trandom: false,\r\n\tdataAfterTimeout: false\r\n};\r\n\r\n/**\r\n* Send query\r\n*/\r\nfunction sendQuery(config, payload, query, done) {\r\n\tconst resourcesCount = config.resources.length;\r\n\tconst startIndex = config.random ? Math.floor(Math.random() * resourcesCount) : config.index;\r\n\tlet resources;\r\n\tif (config.random) {\r\n\t\tlet list = config.resources.slice(0);\r\n\t\tresources = [];\r\n\t\twhile (list.length > 1) {\r\n\t\t\tconst nextIndex = Math.floor(Math.random() * list.length);\r\n\t\t\tresources.push(list[nextIndex]);\r\n\t\t\tlist = list.slice(0, nextIndex).concat(list.slice(nextIndex + 1));\r\n\t\t}\r\n\t\tresources = resources.concat(list);\r\n\t} else resources = config.resources.slice(startIndex).concat(config.resources.slice(0, startIndex));\r\n\tconst startTime = Date.now();\r\n\tlet status = \"pending\";\r\n\tlet queriesSent = 0;\r\n\tlet lastError;\r\n\tlet timer = null;\r\n\tlet queue = [];\r\n\tlet doneCallbacks = [];\r\n\tif (typeof done === \"function\") doneCallbacks.push(done);\r\n\t/**\r\n\t* Reset timer\r\n\t*/\r\n\tfunction resetTimer() {\r\n\t\tif (timer) {\r\n\t\t\tclearTimeout(timer);\r\n\t\t\ttimer = null;\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t* Abort everything\r\n\t*/\r\n\tfunction abort() {\r\n\t\tif (status === \"pending\") status = \"aborted\";\r\n\t\tresetTimer();\r\n\t\tqueue.forEach((item) => {\r\n\t\t\tif (item.status === \"pending\") item.status = \"aborted\";\r\n\t\t});\r\n\t\tqueue = [];\r\n\t}\r\n\t/**\r\n\t* Add / replace callback to call when execution is complete.\r\n\t* This can be used to abort pending query implementations when query is complete or aborted.\r\n\t*/\r\n\tfunction subscribe(callback, overwrite) {\r\n\t\tif (overwrite) doneCallbacks = [];\r\n\t\tif (typeof callback === \"function\") doneCallbacks.push(callback);\r\n\t}\r\n\t/**\r\n\t* Get query status\r\n\t*/\r\n\tfunction getQueryStatus() {\r\n\t\treturn {\r\n\t\t\tstartTime,\r\n\t\t\tpayload,\r\n\t\t\tstatus,\r\n\t\t\tqueriesSent,\r\n\t\t\tqueriesPending: queue.length,\r\n\t\t\tsubscribe,\r\n\t\t\tabort\r\n\t\t};\r\n\t}\r\n\t/**\r\n\t* Fail query\r\n\t*/\r\n\tfunction failQuery() {\r\n\t\tstatus = \"failed\";\r\n\t\tdoneCallbacks.forEach((callback) => {\r\n\t\t\tcallback(void 0, lastError);\r\n\t\t});\r\n\t}\r\n\t/**\r\n\t* Clear queue\r\n\t*/\r\n\tfunction clearQueue() {\r\n\t\tqueue.forEach((item) => {\r\n\t\t\tif (item.status === \"pending\") item.status = \"aborted\";\r\n\t\t});\r\n\t\tqueue = [];\r\n\t}\r\n\t/**\r\n\t* Got response from module\r\n\t*/\r\n\tfunction moduleResponse(item, response, data) {\r\n\t\tconst isError = response !== \"success\";\r\n\t\tqueue = queue.filter((queued) => queued !== item);\r\n\t\tswitch (status) {\r\n\t\t\tcase \"pending\": break;\r\n\t\t\tcase \"failed\":\r\n\t\t\t\tif (isError || !config.dataAfterTimeout) return;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault: return;\r\n\t\t}\r\n\t\tif (response === \"abort\") {\r\n\t\t\tlastError = data;\r\n\t\t\tfailQuery();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (isError) {\r\n\t\t\tlastError = data;\r\n\t\t\tif (!queue.length) if (!resources.length) failQuery();\r\n\t\t\telse execNext();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tresetTimer();\r\n\t\tclearQueue();\r\n\t\tif (!config.random) {\r\n\t\t\tconst index = config.resources.indexOf(item.resource);\r\n\t\t\tif (index !== -1 && index !== config.index) config.index = index;\r\n\t\t}\r\n\t\tstatus = \"completed\";\r\n\t\tdoneCallbacks.forEach((callback) => {\r\n\t\t\tcallback(data);\r\n\t\t});\r\n\t}\r\n\t/**\r\n\t* Execute next query\r\n\t*/\r\n\tfunction execNext() {\r\n\t\tif (status !== \"pending\") return;\r\n\t\tresetTimer();\r\n\t\tconst resource = resources.shift();\r\n\t\tif (resource === void 0) {\r\n\t\t\tif (queue.length) {\r\n\t\t\t\ttimer = setTimeout(() => {\r\n\t\t\t\t\tresetTimer();\r\n\t\t\t\t\tif (status === \"pending\") {\r\n\t\t\t\t\t\tclearQueue();\r\n\t\t\t\t\t\tfailQuery();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, config.timeout);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tfailQuery();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst item = {\r\n\t\t\tstatus: \"pending\",\r\n\t\t\tresource,\r\n\t\t\tcallback: (status$1, data) => {\r\n\t\t\t\tmoduleResponse(item, status$1, data);\r\n\t\t\t}\r\n\t\t};\r\n\t\tqueue.push(item);\r\n\t\tqueriesSent++;\r\n\t\ttimer = setTimeout(execNext, config.rotate);\r\n\t\tquery(resource, payload, item.callback);\r\n\t}\r\n\tsetTimeout(execNext);\r\n\treturn getQueryStatus;\r\n}\r\n\r\n/**\r\n* Redundancy instance\r\n*/\r\nfunction initRedundancy(cfg) {\r\n\tconst config = {\r\n\t\t...defaultConfig,\r\n\t\t...cfg\r\n\t};\r\n\tlet queries = [];\r\n\t/**\r\n\t* Remove aborted and completed queries\r\n\t*/\r\n\tfunction cleanup() {\r\n\t\tqueries = queries.filter((item) => item().status === \"pending\");\r\n\t}\r\n\t/**\r\n\t* Send query\r\n\t*/\r\n\tfunction query(payload, queryCallback, doneCallback) {\r\n\t\tconst query$1 = sendQuery(config, payload, queryCallback, (data, error) => {\r\n\t\t\tcleanup();\r\n\t\t\tif (doneCallback) doneCallback(data, error);\r\n\t\t});\r\n\t\tqueries.push(query$1);\r\n\t\treturn query$1;\r\n\t}\r\n\t/**\r\n\t* Find instance\r\n\t*/\r\n\tfunction find(callback) {\r\n\t\treturn queries.find((value) => {\r\n\t\t\treturn callback(value);\r\n\t\t}) || null;\r\n\t}\r\n\treturn {\r\n\t\tquery,\r\n\t\tfind,\r\n\t\tsetIndex: (index) => {\r\n\t\t\tconfig.index = index;\r\n\t\t},\r\n\t\tgetIndex: () => config.index,\r\n\t\tcleanup\r\n\t};\r\n}\r\n\r\nfunction emptyCallback$1() {}\r\nconst redundancyCache = Object.create(null);\r\n/**\r\n* Get Redundancy instance for provider\r\n*/\r\nfunction getRedundancyCache(provider) {\r\n\tif (!redundancyCache[provider]) {\r\n\t\tconst config = getAPIConfig(provider);\r\n\t\tif (!config) return;\r\n\t\tredundancyCache[provider] = {\r\n\t\t\tconfig,\r\n\t\t\tredundancy: initRedundancy(config)\r\n\t\t};\r\n\t}\r\n\treturn redundancyCache[provider];\r\n}\r\n/**\r\n* Send API query\r\n*/\r\nfunction sendAPIQuery(target, query, callback) {\r\n\tlet redundancy;\r\n\tlet send;\r\n\tif (typeof target === \"string\") {\r\n\t\tconst api = getAPIModule(target);\r\n\t\tif (!api) {\r\n\t\t\tcallback(void 0, 424);\r\n\t\t\treturn emptyCallback$1;\r\n\t\t}\r\n\t\tsend = api.send;\r\n\t\tconst cached = getRedundancyCache(target);\r\n\t\tif (cached) redundancy = cached.redundancy;\r\n\t} else {\r\n\t\tconst config = createAPIConfig(target);\r\n\t\tif (config) {\r\n\t\t\tredundancy = initRedundancy(config);\r\n\t\t\tconst api = getAPIModule(target.resources ? target.resources[0] : \"\");\r\n\t\t\tif (api) send = api.send;\r\n\t\t}\r\n\t}\r\n\tif (!redundancy || !send) {\r\n\t\tcallback(void 0, 424);\r\n\t\treturn emptyCallback$1;\r\n\t}\r\n\treturn redundancy.query(query, send, callback)().abort;\r\n}\r\n\r\nfunction emptyCallback() {}\r\n/**\r\n* Function called when new icons have been loaded\r\n*/\r\nfunction loadedNewIcons(storage) {\r\n\tif (!storage.iconsLoaderFlag) {\r\n\t\tstorage.iconsLoaderFlag = true;\r\n\t\tsetTimeout(() => {\r\n\t\t\tstorage.iconsLoaderFlag = false;\r\n\t\t\tupdateCallbacks(storage);\r\n\t\t});\r\n\t}\r\n}\r\n/**\r\n* Check icon names for API\r\n*/\r\nfunction checkIconNamesForAPI(icons) {\r\n\tconst valid = [];\r\n\tconst invalid = [];\r\n\ticons.forEach((name) => {\r\n\t\t(name.match(matchIconName) ? valid : invalid).push(name);\r\n\t});\r\n\treturn {\r\n\t\tvalid,\r\n\t\tinvalid\r\n\t};\r\n}\r\n/**\r\n* Parse loader response\r\n*/\r\nfunction parseLoaderResponse(storage, icons, data) {\r\n\tfunction checkMissing() {\r\n\t\tconst pending = storage.pendingIcons;\r\n\t\ticons.forEach((name) => {\r\n\t\t\tif (pending) pending.delete(name);\r\n\t\t\tif (!storage.icons[name]) storage.missing.add(name);\r\n\t\t});\r\n\t}\r\n\tif (data && typeof data === \"object\") try {\r\n\t\tif (!addIconSet(storage, data).length) {\r\n\t\t\tcheckMissing();\r\n\t\t\treturn;\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tconsole.error(err);\r\n\t}\r\n\tcheckMissing();\r\n\tloadedNewIcons(storage);\r\n}\r\n/**\r\n* Handle response that can be async\r\n*/\r\nfunction parsePossiblyAsyncResponse(response, callback) {\r\n\tif (response instanceof Promise) response.then((data) => {\r\n\t\tcallback(data);\r\n\t}).catch(() => {\r\n\t\tcallback(null);\r\n\t});\r\n\telse callback(response);\r\n}\r\n/**\r\n* Load icons\r\n*/\r\nfunction loadNewIcons(storage, icons) {\r\n\tif (!storage.iconsToLoad) storage.iconsToLoad = icons;\r\n\telse storage.iconsToLoad = storage.iconsToLoad.concat(icons).sort();\r\n\tif (!storage.iconsQueueFlag) {\r\n\t\tstorage.iconsQueueFlag = true;\r\n\t\tsetTimeout(() => {\r\n\t\t\tstorage.iconsQueueFlag = false;\r\n\t\t\tconst { provider, prefix } = storage;\r\n\t\t\tconst icons$1 = storage.iconsToLoad;\r\n\t\t\tdelete storage.iconsToLoad;\r\n\t\t\tif (!icons$1 || !icons$1.length) return;\r\n\t\t\tconst customIconLoader = storage.loadIcon;\r\n\t\t\tif (storage.loadIcons && (icons$1.length > 1 || !customIconLoader)) {\r\n\t\t\t\tparsePossiblyAsyncResponse(storage.loadIcons(icons$1, prefix, provider), (data) => {\r\n\t\t\t\t\tparseLoaderResponse(storage, icons$1, data);\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (customIconLoader) {\r\n\t\t\t\ticons$1.forEach((name) => {\r\n\t\t\t\t\tparsePossiblyAsyncResponse(customIconLoader(name, prefix, provider), (data) => {\r\n\t\t\t\t\t\tparseLoaderResponse(storage, [name], data ? {\r\n\t\t\t\t\t\t\tprefix,\r\n\t\t\t\t\t\t\ticons: { [name]: data }\r\n\t\t\t\t\t\t} : null);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst { valid, invalid } = checkIconNamesForAPI(icons$1);\r\n\t\t\tif (invalid.length) parseLoaderResponse(storage, invalid, null);\r\n\t\t\tif (!valid.length) return;\r\n\t\t\tconst api = prefix.match(matchIconName) ? getAPIModule(provider) : null;\r\n\t\t\tif (!api) {\r\n\t\t\t\tparseLoaderResponse(storage, valid, null);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tapi.prepare(provider, prefix, valid).forEach((item) => {\r\n\t\t\t\tsendAPIQuery(provider, item, (data) => {\r\n\t\t\t\t\tparseLoaderResponse(storage, item.icons, data);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n/**\r\n* Load icons\r\n*/\r\nconst loadIcons$1 = (icons, callback) => {\r\n\tconst sortedIcons = sortIcons(listToIcons(icons, true, allowSimpleNames()));\r\n\tif (!sortedIcons.pending.length) {\r\n\t\tlet callCallback = true;\r\n\t\tif (callback) setTimeout(() => {\r\n\t\t\tif (callCallback) callback(sortedIcons.loaded, sortedIcons.missing, sortedIcons.pending, emptyCallback);\r\n\t\t});\r\n\t\treturn () => {\r\n\t\t\tcallCallback = false;\r\n\t\t};\r\n\t}\r\n\tconst newIcons = Object.create(null);\r\n\tconst sources = [];\r\n\tlet lastProvider, lastPrefix;\r\n\tsortedIcons.pending.forEach((icon) => {\r\n\t\tconst { provider, prefix } = icon;\r\n\t\tif (prefix === lastPrefix && provider === lastProvider) return;\r\n\t\tlastProvider = provider;\r\n\t\tlastPrefix = prefix;\r\n\t\tsources.push(getStorage(provider, prefix));\r\n\t\tconst providerNewIcons = newIcons[provider] || (newIcons[provider] = Object.create(null));\r\n\t\tif (!providerNewIcons[prefix]) providerNewIcons[prefix] = [];\r\n\t});\r\n\tsortedIcons.pending.forEach((icon) => {\r\n\t\tconst { provider, prefix, name } = icon;\r\n\t\tconst storage = getStorage(provider, prefix);\r\n\t\tconst pendingQueue = storage.pendingIcons || (storage.pendingIcons = /* @__PURE__ */ new Set());\r\n\t\tif (!pendingQueue.has(name)) {\r\n\t\t\tpendingQueue.add(name);\r\n\t\t\tnewIcons[provider][prefix].push(name);\r\n\t\t}\r\n\t});\r\n\tsources.forEach((storage) => {\r\n\t\tconst list = newIcons[storage.provider][storage.prefix];\r\n\t\tif (list.length) loadNewIcons(storage, list);\r\n\t});\r\n\treturn callback ? storeCallback(callback, sortedIcons, sources) : emptyCallback;\r\n};\r\n/**\r\n* Load one icon using Promise\r\n*/\r\nconst loadIcon$1 = (icon) => {\r\n\treturn new Promise((fulfill, reject) => {\r\n\t\tconst iconObj = typeof icon === \"string\" ? stringToIcon(icon, true) : icon;\r\n\t\tif (!iconObj) {\r\n\t\t\treject(icon);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tloadIcons$1([iconObj || icon], (loaded) => {\r\n\t\t\tif (loaded.length && iconObj) {\r\n\t\t\t\tconst data = getIconData(iconObj);\r\n\t\t\t\tif (data) {\r\n\t\t\t\t\tfulfill({\r\n\t\t\t\t\t\t...defaultIconProps,\r\n\t\t\t\t\t\t...data\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treject(icon);\r\n\t\t});\r\n\t});\r\n};\r\n\r\n/**\r\n * Test icon string\r\n */\r\nfunction testIconObject(value) {\r\n    try {\r\n        const obj = typeof value === 'string' ? JSON.parse(value) : value;\r\n        if (typeof obj.body === 'string') {\r\n            return {\r\n                ...obj,\r\n            };\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    }\r\n    catch (err) {\r\n        //\r\n    }\r\n}\r\n\r\n/**\r\n * Parse icon value, load if needed\r\n */\r\nfunction parseIconValue(value, onload) {\r\n    if (typeof value === 'object') {\r\n        const data = testIconObject(value);\r\n        return {\r\n            data,\r\n            value,\r\n        };\r\n    }\r\n    if (typeof value !== 'string') {\r\n        // Invalid value\r\n        return {\r\n            value,\r\n        };\r\n    }\r\n    // Check for JSON\r\n    if (value.includes('{')) {\r\n        const data = testIconObject(value);\r\n        if (data) {\r\n            return {\r\n                data,\r\n                value,\r\n            };\r\n        }\r\n    }\r\n    // Parse icon name\r\n    const name = stringToIcon(value, true, true);\r\n    if (!name) {\r\n        return {\r\n            value,\r\n        };\r\n    }\r\n    // Valid icon name: check if data is available\r\n    const data = getIconData(name);\r\n    // Icon data exists or icon has no prefix. Do not load icon from API if icon has no prefix\r\n    if (data !== undefined || !name.prefix) {\r\n        return {\r\n            value,\r\n            name,\r\n            data, // could be 'null' -> icon is missing\r\n        };\r\n    }\r\n    // Load icon\r\n    const loading = loadIcons$1([name], () => onload(value, name, getIconData(name)));\r\n    return {\r\n        value,\r\n        name,\r\n        loading,\r\n    };\r\n}\r\n\r\n// Check for Safari\r\nlet isBuggedSafari = false;\r\ntry {\r\n    isBuggedSafari = navigator.vendor.indexOf('Apple') === 0;\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n}\r\ncatch (err) {\r\n    //\r\n}\r\n/**\r\n * Get render mode\r\n */\r\nfunction getRenderMode(body, mode) {\r\n    switch (mode) {\r\n        // Force mode\r\n        case 'svg':\r\n        case 'bg':\r\n        case 'mask':\r\n            return mode;\r\n    }\r\n    // Check for animation, use 'style' for animated icons, unless browser is Safari\r\n    // (only <a>, which should be ignored or animations start with '<a')\r\n    if (mode !== 'style' &&\r\n        (isBuggedSafari || body.indexOf('<a') === -1)) {\r\n        // Render <svg>\r\n        return 'svg';\r\n    }\r\n    // Use background or mask\r\n    return body.indexOf('currentColor') === -1 ? 'bg' : 'mask';\r\n}\r\n\r\n/**\r\n* Regular expressions for calculating dimensions\r\n*/\r\nconst unitsSplit = /(-?[0-9.]*[0-9]+[0-9.]*)/g;\r\nconst unitsTest = /^-?[0-9.]*[0-9]+[0-9.]*$/g;\r\nfunction calculateSize$1(size, ratio, precision) {\r\n\tif (ratio === 1) return size;\r\n\tprecision = precision || 100;\r\n\tif (typeof size === \"number\") return Math.ceil(size * ratio * precision) / precision;\r\n\tif (typeof size !== \"string\") return size;\r\n\tconst oldParts = size.split(unitsSplit);\r\n\tif (oldParts === null || !oldParts.length) return size;\r\n\tconst newParts = [];\r\n\tlet code = oldParts.shift();\r\n\tlet isNumber = unitsTest.test(code);\r\n\twhile (true) {\r\n\t\tif (isNumber) {\r\n\t\t\tconst num = parseFloat(code);\r\n\t\t\tif (isNaN(num)) newParts.push(code);\r\n\t\t\telse newParts.push(Math.ceil(num * ratio * precision) / precision);\r\n\t\t} else newParts.push(code);\r\n\t\tcode = oldParts.shift();\r\n\t\tif (code === void 0) return newParts.join(\"\");\r\n\t\tisNumber = !isNumber;\r\n\t}\r\n}\r\n\r\nfunction splitSVGDefs(content, tag = \"defs\") {\r\n\tlet defs = \"\";\r\n\tconst index = content.indexOf(\"<\" + tag);\r\n\twhile (index >= 0) {\r\n\t\tconst start = content.indexOf(\">\", index);\r\n\t\tconst end = content.indexOf(\"</\" + tag);\r\n\t\tif (start === -1 || end === -1) break;\r\n\t\tconst endEnd = content.indexOf(\">\", end);\r\n\t\tif (endEnd === -1) break;\r\n\t\tdefs += content.slice(start + 1, end).trim();\r\n\t\tcontent = content.slice(0, index).trim() + content.slice(endEnd + 1);\r\n\t}\r\n\treturn {\r\n\t\tdefs,\r\n\t\tcontent\r\n\t};\r\n}\r\n/**\r\n* Merge defs and content\r\n*/\r\nfunction mergeDefsAndContent(defs, content) {\r\n\treturn defs ? \"<defs>\" + defs + \"</defs>\" + content : content;\r\n}\r\n/**\r\n* Wrap SVG content, without wrapping definitions\r\n*/\r\nfunction wrapSVGContent(body, start, end) {\r\n\tconst split = splitSVGDefs(body);\r\n\treturn mergeDefsAndContent(split.defs, start + split.content + end);\r\n}\r\n\r\n/**\r\n* Check if value should be unset. Allows multiple keywords\r\n*/\r\nconst isUnsetKeyword = (value) => value === \"unset\" || value === \"undefined\" || value === \"none\";\r\n/**\r\n* Get SVG attributes and content from icon + customisations\r\n*\r\n* Does not generate style to make it compatible with frameworks that use objects for style, such as React.\r\n* Instead, it generates 'inline' value. If true, rendering engine should add verticalAlign: -0.125em to icon.\r\n*\r\n* Customisations should be normalised by platform specific parser.\r\n* Result should be converted to <svg> by platform specific parser.\r\n* Use replaceIDs to generate unique IDs for body.\r\n*/\r\nfunction iconToSVG(icon, customisations) {\r\n\tconst fullIcon = {\r\n\t\t...defaultIconProps,\r\n\t\t...icon\r\n\t};\r\n\tconst fullCustomisations = {\r\n\t\t...defaultIconCustomisations,\r\n\t\t...customisations\r\n\t};\r\n\tconst box = {\r\n\t\tleft: fullIcon.left,\r\n\t\ttop: fullIcon.top,\r\n\t\twidth: fullIcon.width,\r\n\t\theight: fullIcon.height\r\n\t};\r\n\tlet body = fullIcon.body;\r\n\t[fullIcon, fullCustomisations].forEach((props) => {\r\n\t\tconst transformations = [];\r\n\t\tconst hFlip = props.hFlip;\r\n\t\tconst vFlip = props.vFlip;\r\n\t\tlet rotation = props.rotate;\r\n\t\tif (hFlip) if (vFlip) rotation += 2;\r\n\t\telse {\r\n\t\t\ttransformations.push(\"translate(\" + (box.width + box.left).toString() + \" \" + (0 - box.top).toString() + \")\");\r\n\t\t\ttransformations.push(\"scale(-1 1)\");\r\n\t\t\tbox.top = box.left = 0;\r\n\t\t}\r\n\t\telse if (vFlip) {\r\n\t\t\ttransformations.push(\"translate(\" + (0 - box.left).toString() + \" \" + (box.height + box.top).toString() + \")\");\r\n\t\t\ttransformations.push(\"scale(1 -1)\");\r\n\t\t\tbox.top = box.left = 0;\r\n\t\t}\r\n\t\tlet tempValue;\r\n\t\tif (rotation < 0) rotation -= Math.floor(rotation / 4) * 4;\r\n\t\trotation = rotation % 4;\r\n\t\tswitch (rotation) {\r\n\t\t\tcase 1:\r\n\t\t\t\ttempValue = box.height / 2 + box.top;\r\n\t\t\t\ttransformations.unshift(\"rotate(90 \" + tempValue.toString() + \" \" + tempValue.toString() + \")\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\ttransformations.unshift(\"rotate(180 \" + (box.width / 2 + box.left).toString() + \" \" + (box.height / 2 + box.top).toString() + \")\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\ttempValue = box.width / 2 + box.left;\r\n\t\t\t\ttransformations.unshift(\"rotate(-90 \" + tempValue.toString() + \" \" + tempValue.toString() + \")\");\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tif (rotation % 2 === 1) {\r\n\t\t\tif (box.left !== box.top) {\r\n\t\t\t\ttempValue = box.left;\r\n\t\t\t\tbox.left = box.top;\r\n\t\t\t\tbox.top = tempValue;\r\n\t\t\t}\r\n\t\t\tif (box.width !== box.height) {\r\n\t\t\t\ttempValue = box.width;\r\n\t\t\t\tbox.width = box.height;\r\n\t\t\t\tbox.height = tempValue;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (transformations.length) body = wrapSVGContent(body, \"<g transform=\\\"\" + transformations.join(\" \") + \"\\\">\", \"</g>\");\r\n\t});\r\n\tconst customisationsWidth = fullCustomisations.width;\r\n\tconst customisationsHeight = fullCustomisations.height;\r\n\tconst boxWidth = box.width;\r\n\tconst boxHeight = box.height;\r\n\tlet width;\r\n\tlet height;\r\n\tif (customisationsWidth === null) {\r\n\t\theight = customisationsHeight === null ? \"1em\" : customisationsHeight === \"auto\" ? boxHeight : customisationsHeight;\r\n\t\twidth = calculateSize$1(height, boxWidth / boxHeight);\r\n\t} else {\r\n\t\twidth = customisationsWidth === \"auto\" ? boxWidth : customisationsWidth;\r\n\t\theight = customisationsHeight === null ? calculateSize$1(width, boxHeight / boxWidth) : customisationsHeight === \"auto\" ? boxHeight : customisationsHeight;\r\n\t}\r\n\tconst attributes = {};\r\n\tconst setAttr = (prop, value) => {\r\n\t\tif (!isUnsetKeyword(value)) attributes[prop] = value.toString();\r\n\t};\r\n\tsetAttr(\"width\", width);\r\n\tsetAttr(\"height\", height);\r\n\tconst viewBox = [\r\n\t\tbox.left,\r\n\t\tbox.top,\r\n\t\tboxWidth,\r\n\t\tboxHeight\r\n\t];\r\n\tattributes.viewBox = viewBox.join(\" \");\r\n\treturn {\r\n\t\tattributes,\r\n\t\tviewBox,\r\n\t\tbody\r\n\t};\r\n}\r\n\r\n/**\r\n* Generate <svg>\r\n*/\r\nfunction iconToHTML$1(body, attributes) {\r\n\tlet renderAttribsHTML = body.indexOf(\"xlink:\") === -1 ? \"\" : \" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\";\r\n\tfor (const attr in attributes) renderAttribsHTML += \" \" + attr + \"=\\\"\" + attributes[attr] + \"\\\"\";\r\n\treturn \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\"\" + renderAttribsHTML + \">\" + body + \"</svg>\";\r\n}\r\n\r\n/**\r\n* Encode SVG for use in url()\r\n*\r\n* Short alternative to encodeURIComponent() that encodes only stuff used in SVG, generating\r\n* smaller code.\r\n*/\r\nfunction encodeSVGforURL(svg) {\r\n\treturn svg.replace(/\"/g, \"'\").replace(/%/g, \"%25\").replace(/#/g, \"%23\").replace(/</g, \"%3C\").replace(/>/g, \"%3E\").replace(/\\s+/g, \" \");\r\n}\r\n/**\r\n* Generate data: URL from SVG\r\n*/\r\nfunction svgToData(svg) {\r\n\treturn \"data:image/svg+xml,\" + encodeSVGforURL(svg);\r\n}\r\n/**\r\n* Generate url() from SVG\r\n*/\r\nfunction svgToURL$1(svg) {\r\n\treturn \"url(\\\"\" + svgToData(svg) + \"\\\")\";\r\n}\r\n\r\nconst detectFetch = () => {\r\n\tlet callback;\r\n\ttry {\r\n\t\tcallback = fetch;\r\n\t\tif (typeof callback === \"function\") return callback;\r\n\t} catch (err) {}\r\n};\r\n/**\r\n* Fetch function\r\n*/\r\nlet fetchModule = detectFetch();\r\n/**\r\n* Set custom fetch() function\r\n*/\r\nfunction setFetch(fetch$1) {\r\n\tfetchModule = fetch$1;\r\n}\r\n/**\r\n* Get fetch() function. Used by Icon Finder Core\r\n*/\r\nfunction getFetch() {\r\n\treturn fetchModule;\r\n}\r\n/**\r\n* Calculate maximum icons list length for prefix\r\n*/\r\nfunction calculateMaxLength(provider, prefix) {\r\n\tconst config = getAPIConfig(provider);\r\n\tif (!config) return 0;\r\n\tlet result;\r\n\tif (!config.maxURL) result = 0;\r\n\telse {\r\n\t\tlet maxHostLength = 0;\r\n\t\tconfig.resources.forEach((item) => {\r\n\t\t\tconst host = item;\r\n\t\t\tmaxHostLength = Math.max(maxHostLength, host.length);\r\n\t\t});\r\n\t\tconst url = prefix + \".json?icons=\";\r\n\t\tresult = config.maxURL - maxHostLength - config.path.length - url.length;\r\n\t}\r\n\treturn result;\r\n}\r\n/**\r\n* Should query be aborted, based on last HTTP status\r\n*/\r\nfunction shouldAbort(status) {\r\n\treturn status === 404;\r\n}\r\n/**\r\n* Prepare params\r\n*/\r\nconst prepare = (provider, prefix, icons) => {\r\n\tconst results = [];\r\n\tconst maxLength = calculateMaxLength(provider, prefix);\r\n\tconst type = \"icons\";\r\n\tlet item = {\r\n\t\ttype,\r\n\t\tprovider,\r\n\t\tprefix,\r\n\t\ticons: []\r\n\t};\r\n\tlet length = 0;\r\n\ticons.forEach((name, index) => {\r\n\t\tlength += name.length + 1;\r\n\t\tif (length >= maxLength && index > 0) {\r\n\t\t\tresults.push(item);\r\n\t\t\titem = {\r\n\t\t\t\ttype,\r\n\t\t\t\tprovider,\r\n\t\t\t\tprefix,\r\n\t\t\t\ticons: []\r\n\t\t\t};\r\n\t\t\tlength = name.length;\r\n\t\t}\r\n\t\titem.icons.push(name);\r\n\t});\r\n\tresults.push(item);\r\n\treturn results;\r\n};\r\n/**\r\n* Get path\r\n*/\r\nfunction getPath(provider) {\r\n\tif (typeof provider === \"string\") {\r\n\t\tconst config = getAPIConfig(provider);\r\n\t\tif (config) return config.path;\r\n\t}\r\n\treturn \"/\";\r\n}\r\n/**\r\n* Load icons\r\n*/\r\nconst send = (host, params, callback) => {\r\n\tif (!fetchModule) {\r\n\t\tcallback(\"abort\", 424);\r\n\t\treturn;\r\n\t}\r\n\tlet path = getPath(params.provider);\r\n\tswitch (params.type) {\r\n\t\tcase \"icons\": {\r\n\t\t\tconst prefix = params.prefix;\r\n\t\t\tconst iconsList = params.icons.join(\",\");\r\n\t\t\tconst urlParams = new URLSearchParams({ icons: iconsList });\r\n\t\t\tpath += prefix + \".json?\" + urlParams.toString();\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcase \"custom\": {\r\n\t\t\tconst uri = params.uri;\r\n\t\t\tpath += uri.slice(0, 1) === \"/\" ? uri.slice(1) : uri;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\tcallback(\"abort\", 400);\r\n\t\t\treturn;\r\n\t}\r\n\tlet defaultError = 503;\r\n\tfetchModule(host + path).then((response) => {\r\n\t\tconst status = response.status;\r\n\t\tif (status !== 200) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tcallback(shouldAbort(status) ? \"abort\" : \"next\", status);\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdefaultError = 501;\r\n\t\treturn response.json();\r\n\t}).then((data) => {\r\n\t\tif (typeof data !== \"object\" || data === null) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tif (data === 404) callback(\"abort\", data);\r\n\t\t\t\telse callback(\"next\", defaultError);\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetTimeout(() => {\r\n\t\t\tcallback(\"success\", data);\r\n\t\t});\r\n\t}).catch(() => {\r\n\t\tcallback(\"next\", defaultError);\r\n\t});\r\n};\r\n/**\r\n* Export module\r\n*/\r\nconst fetchAPIModule = {\r\n\tprepare,\r\n\tsend\r\n};\r\n\r\n/**\r\n* Set custom loader for multiple icons\r\n*/\r\nfunction setCustomIconsLoader$1(loader, prefix, provider) {\r\n\tgetStorage(provider || \"\", prefix).loadIcons = loader;\r\n}\r\n/**\r\n* Set custom loader for one icon\r\n*/\r\nfunction setCustomIconLoader$1(loader, prefix, provider) {\r\n\tgetStorage(provider || \"\", prefix).loadIcon = loader;\r\n}\r\n\r\n/**\r\n * Attribute to add\r\n */\r\nconst nodeAttr = 'data-style';\r\n/**\r\n * Custom style to add to each node\r\n */\r\nlet customStyle = '';\r\n/**\r\n * Set custom style to add to all components\r\n *\r\n * Affects only components rendered after function call\r\n */\r\nfunction appendCustomStyle(style) {\r\n    customStyle = style;\r\n}\r\n/**\r\n * Add/update style node\r\n */\r\nfunction updateStyle(parent, inline) {\r\n    // Get node, create if needed\r\n    let styleNode = Array.from(parent.childNodes).find((node) => node.hasAttribute &&\r\n        node.hasAttribute(nodeAttr));\r\n    if (!styleNode) {\r\n        styleNode = document.createElement('style');\r\n        styleNode.setAttribute(nodeAttr, nodeAttr);\r\n        parent.appendChild(styleNode);\r\n    }\r\n    // Update content\r\n    styleNode.textContent =\r\n        ':host{display:inline-block;vertical-align:' +\r\n            (inline ? '-0.125em' : '0') +\r\n            '}span,svg{display:block;margin:auto}' +\r\n            customStyle;\r\n}\r\n\r\n// Core\r\n/**\r\n * Get functions and initialise stuff\r\n */\r\nfunction exportFunctions() {\r\n    /**\r\n     * Initialise stuff\r\n     */\r\n    // Set API module\r\n    setAPIModule('', fetchAPIModule);\r\n    // Allow simple icon names\r\n    allowSimpleNames(true);\r\n    let _window;\r\n    try {\r\n        _window = window;\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    }\r\n    catch (err) {\r\n        //\r\n    }\r\n    if (_window) {\r\n        // Load icons from global \"IconifyPreload\"\r\n        if (_window.IconifyPreload !== void 0) {\r\n            const preload = _window.IconifyPreload;\r\n            const err = 'Invalid IconifyPreload syntax.';\r\n            if (typeof preload === 'object' && preload !== null) {\r\n                (preload instanceof Array ? preload : [preload]).forEach((item) => {\r\n                    try {\r\n                        if (\r\n                        // Check if item is an object and not null/array\r\n                        typeof item !== 'object' ||\r\n                            item === null ||\r\n                            item instanceof Array ||\r\n                            // Check for 'icons' and 'prefix'\r\n                            typeof item.icons !== 'object' ||\r\n                            typeof item.prefix !== 'string' ||\r\n                            // Add icon set\r\n                            !addCollection$1(item)) {\r\n                            console.error(err);\r\n                        }\r\n                        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n                    }\r\n                    catch (e) {\r\n                        console.error(err);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        // Set API from global \"IconifyProviders\"\r\n        if (_window.IconifyProviders !== void 0) {\r\n            const providers = _window.IconifyProviders;\r\n            if (typeof providers === 'object' && providers !== null) {\r\n                for (const key in providers) {\r\n                    const err = 'IconifyProviders[' + key + '] is invalid.';\r\n                    try {\r\n                        const value = providers[key];\r\n                        if (typeof value !== 'object' ||\r\n                            !value ||\r\n                            value.resources === void 0) {\r\n                            continue;\r\n                        }\r\n                        if (!addAPIProvider$1(key, value)) {\r\n                            console.error(err);\r\n                        }\r\n                        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n                    }\r\n                    catch (e) {\r\n                        console.error(err);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    const _api = {\r\n        getAPIConfig,\r\n        setAPIModule,\r\n        sendAPIQuery,\r\n        setFetch,\r\n        getFetch,\r\n        listAPIProviders,\r\n    };\r\n    return {\r\n        iconLoaded: iconLoaded$1,\r\n        getIcon: getIcon$1,\r\n        listIcons: listIcons$1,\r\n        addIcon: addIcon$1,\r\n        addCollection: addCollection$1,\r\n        calculateSize: calculateSize$1,\r\n        buildIcon: iconToSVG,\r\n        iconToHTML: iconToHTML$1,\r\n        svgToURL: svgToURL$1,\r\n        loadIcons: loadIcons$1,\r\n        loadIcon: loadIcon$1,\r\n        addAPIProvider: addAPIProvider$1,\r\n        setCustomIconLoader: setCustomIconLoader$1,\r\n        setCustomIconsLoader: setCustomIconsLoader$1,\r\n        appendCustomStyle,\r\n        _api,\r\n    };\r\n}\r\n\r\n// List of properties to apply\r\nconst monotoneProps = {\r\n    'background-color': 'currentColor',\r\n};\r\nconst coloredProps = {\r\n    'background-color': 'transparent',\r\n};\r\n// Dynamically add common props to variables above\r\nconst propsToAdd = {\r\n    image: 'var(--svg)',\r\n    repeat: 'no-repeat',\r\n    size: '100% 100%',\r\n};\r\nconst propsToAddTo = {\r\n    '-webkit-mask': monotoneProps,\r\n    'mask': monotoneProps,\r\n    'background': coloredProps,\r\n};\r\nfor (const prefix in propsToAddTo) {\r\n    const list = propsToAddTo[prefix];\r\n    for (const prop in propsToAdd) {\r\n        list[prefix + '-' + prop] = propsToAdd[prop];\r\n    }\r\n}\r\n/**\r\n * Fix size: add 'px' to numbers\r\n */\r\nfunction fixSize(value) {\r\n    return value ? value + (value.match(/^[-0-9.]+$/) ? 'px' : '') : 'inherit';\r\n}\r\n/**\r\n * Render node as <span>\r\n */\r\nfunction renderSPAN(data, icon, useMask) {\r\n    const node = document.createElement('span');\r\n    // Body\r\n    let body = data.body;\r\n    if (body.indexOf('<a') !== -1) {\r\n        // Animated SVG: add something to fix timing bug\r\n        body += '<!-- ' + Date.now() + ' -->';\r\n    }\r\n    // Generate SVG as URL\r\n    const renderAttribs = data.attributes;\r\n    const html = iconToHTML$1(body, {\r\n        ...renderAttribs,\r\n        width: icon.width + '',\r\n        height: icon.height + '',\r\n    });\r\n    const url = svgToURL$1(html);\r\n    // Generate style\r\n    const svgStyle = node.style;\r\n    const styles = {\r\n        '--svg': url,\r\n        'width': fixSize(renderAttribs.width),\r\n        'height': fixSize(renderAttribs.height),\r\n        ...(useMask ? monotoneProps : coloredProps),\r\n    };\r\n    // Apply style\r\n    for (const prop in styles) {\r\n        svgStyle.setProperty(prop, styles[prop]);\r\n    }\r\n    return node;\r\n}\r\n\r\nlet policy;\r\n/**\r\n* Attempt to create policy\r\n*/\r\nfunction createPolicy() {\r\n\ttry {\r\n\t\tpolicy = window.trustedTypes.createPolicy(\"iconify\", { createHTML: (s) => s });\r\n\t} catch (err) {\r\n\t\tpolicy = null;\r\n\t}\r\n}\r\n/**\r\n* Clean up value for innerHTML assignment\r\n*\r\n* This code doesn't actually clean up anything.\r\n* It is intended be used with Iconify icon data, which has already been validated\r\n*/\r\nfunction cleanUpInnerHTML(html) {\r\n\tif (policy === void 0) createPolicy();\r\n\treturn policy ? policy.createHTML(html) : html;\r\n}\r\n\r\n/**\r\n * Render node as <svg>\r\n */\r\nfunction renderSVG(data) {\r\n    const node = document.createElement('span');\r\n    // Add style if needed\r\n    const attr = data.attributes;\r\n    let style = '';\r\n    if (!attr.width) {\r\n        style = 'width: inherit;';\r\n    }\r\n    if (!attr.height) {\r\n        style += 'height: inherit;';\r\n    }\r\n    if (style) {\r\n        attr.style = style;\r\n    }\r\n    // Generate SVG\r\n    const html = iconToHTML$1(data.body, attr);\r\n    node.innerHTML = cleanUpInnerHTML(html);\r\n    return node.firstChild;\r\n}\r\n\r\n/**\r\n * Find icon node\r\n */\r\nfunction findIconElement(parent) {\r\n    return Array.from(parent.childNodes).find((node) => {\r\n        const tag = node.tagName &&\r\n            node.tagName.toUpperCase();\r\n        return tag === 'SPAN' || tag === 'SVG';\r\n    });\r\n}\r\n/**\r\n * Render icon\r\n */\r\nfunction renderIcon(parent, state) {\r\n    const iconData = state.icon.data;\r\n    const customisations = state.customisations;\r\n    // Render icon\r\n    const renderData = iconToSVG(iconData, customisations);\r\n    if (customisations.preserveAspectRatio) {\r\n        renderData.attributes['preserveAspectRatio'] =\r\n            customisations.preserveAspectRatio;\r\n    }\r\n    const mode = state.renderedMode;\r\n    let node;\r\n    switch (mode) {\r\n        case 'svg':\r\n            node = renderSVG(renderData);\r\n            break;\r\n        default:\r\n            node = renderSPAN(renderData, {\r\n                ...defaultIconProps,\r\n                ...iconData,\r\n            }, mode === 'mask');\r\n    }\r\n    // Set element\r\n    const oldNode = findIconElement(parent);\r\n    if (oldNode) {\r\n        // Replace old element\r\n        if (node.tagName === 'SPAN' && oldNode.tagName === node.tagName) {\r\n            // Swap style instead of whole node\r\n            oldNode.setAttribute('style', node.getAttribute('style'));\r\n        }\r\n        else {\r\n            parent.replaceChild(node, oldNode);\r\n        }\r\n    }\r\n    else {\r\n        // Add new element\r\n        parent.appendChild(node);\r\n    }\r\n}\r\n\r\n/**\r\n * Set state to PendingState\r\n */\r\nfunction setPendingState(icon, inline, lastState) {\r\n    const lastRender = lastState &&\r\n        (lastState.rendered\r\n            ? lastState\r\n            : lastState.lastRender);\r\n    return {\r\n        rendered: false,\r\n        inline,\r\n        icon,\r\n        lastRender,\r\n    };\r\n}\r\n\r\n/**\r\n * Register 'iconify-icon' component, if it does not exist\r\n */\r\nfunction defineIconifyIcon(name = 'iconify-icon') {\r\n    // Check for custom elements registry and HTMLElement\r\n    let customElements;\r\n    let ParentClass;\r\n    try {\r\n        customElements = window.customElements;\r\n        ParentClass = window.HTMLElement;\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    }\r\n    catch (err) {\r\n        return;\r\n    }\r\n    // Make sure registry and HTMLElement exist\r\n    if (!customElements || !ParentClass) {\r\n        return;\r\n    }\r\n    // Check for duplicate\r\n    const ConflictingClass = customElements.get(name);\r\n    if (ConflictingClass) {\r\n        return ConflictingClass;\r\n    }\r\n    // All attributes\r\n    const attributes = [\r\n        // Icon\r\n        'icon',\r\n        // Mode\r\n        'mode',\r\n        'inline',\r\n        'noobserver',\r\n        // Customisations\r\n        'width',\r\n        'height',\r\n        'rotate',\r\n        'flip',\r\n    ];\r\n    /**\r\n     * Component class\r\n     */\r\n    const IconifyIcon = class extends ParentClass {\r\n        // Root\r\n        _shadowRoot;\r\n        // Initialised\r\n        _initialised = false;\r\n        // Icon state\r\n        _state;\r\n        // Attributes check queued\r\n        _checkQueued = false;\r\n        // Connected\r\n        _connected = false;\r\n        // Observer\r\n        _observer = null;\r\n        _visible = true;\r\n        /**\r\n         * Constructor\r\n         */\r\n        constructor() {\r\n            super();\r\n            // Attach shadow DOM\r\n            const root = (this._shadowRoot = this.attachShadow({\r\n                mode: 'open',\r\n            }));\r\n            // Add style\r\n            const inline = this.hasAttribute('inline');\r\n            updateStyle(root, inline);\r\n            // Create empty state\r\n            this._state = setPendingState({\r\n                value: '',\r\n            }, inline);\r\n            // Queue icon render\r\n            this._queueCheck();\r\n        }\r\n        /**\r\n         * Connected to DOM\r\n         */\r\n        connectedCallback() {\r\n            this._connected = true;\r\n            this.startObserver();\r\n        }\r\n        /**\r\n         * Disconnected from DOM\r\n         */\r\n        disconnectedCallback() {\r\n            this._connected = false;\r\n            this.stopObserver();\r\n        }\r\n        /**\r\n         * Observed attributes\r\n         */\r\n        static get observedAttributes() {\r\n            return attributes.slice(0);\r\n        }\r\n        /**\r\n         * Observed properties that are different from attributes\r\n         *\r\n         * Experimental! Need to test with various frameworks that support it\r\n         */\r\n        /*\r\n        static get properties() {\r\n            return {\r\n                inline: {\r\n                    type: Boolean,\r\n                    reflect: true,\r\n                },\r\n                // Not listing other attributes because they are strings or combination\r\n                // of string and another type. Cannot have multiple types\r\n            };\r\n        }\r\n        */\r\n        /**\r\n         * Attribute has changed\r\n         */\r\n        attributeChangedCallback(name) {\r\n            switch (name) {\r\n                case 'inline': {\r\n                    // Update immediately: not affected by other attributes\r\n                    const newInline = this.hasAttribute('inline');\r\n                    const state = this._state;\r\n                    if (newInline !== state.inline) {\r\n                        // Update style if inline mode changed\r\n                        state.inline = newInline;\r\n                        updateStyle(this._shadowRoot, newInline);\r\n                    }\r\n                    break;\r\n                }\r\n                case 'noobserver': {\r\n                    const value = this.hasAttribute('noobserver');\r\n                    if (value) {\r\n                        this.startObserver();\r\n                    }\r\n                    else {\r\n                        this.stopObserver();\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    // Queue check for other attributes\r\n                    this._queueCheck();\r\n            }\r\n        }\r\n        /**\r\n         * Get/set icon\r\n         */\r\n        get icon() {\r\n            const value = this.getAttribute('icon');\r\n            if (value && value.slice(0, 1) === '{') {\r\n                try {\r\n                    return JSON.parse(value);\r\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n                }\r\n                catch (err) {\r\n                    //\r\n                }\r\n            }\r\n            return value;\r\n        }\r\n        set icon(value) {\r\n            if (typeof value === 'object') {\r\n                value = JSON.stringify(value);\r\n            }\r\n            this.setAttribute('icon', value);\r\n        }\r\n        /**\r\n         * Get/set inline\r\n         */\r\n        get inline() {\r\n            return this.hasAttribute('inline');\r\n        }\r\n        set inline(value) {\r\n            if (value) {\r\n                this.setAttribute('inline', 'true');\r\n            }\r\n            else {\r\n                this.removeAttribute('inline');\r\n            }\r\n        }\r\n        /**\r\n         * Get/set observer\r\n         */\r\n        get observer() {\r\n            return this.hasAttribute('observer');\r\n        }\r\n        set observer(value) {\r\n            if (value) {\r\n                this.setAttribute('observer', 'true');\r\n            }\r\n            else {\r\n                this.removeAttribute('observer');\r\n            }\r\n        }\r\n        /**\r\n         * Restart animation\r\n         */\r\n        restartAnimation() {\r\n            const state = this._state;\r\n            if (state.rendered) {\r\n                const root = this._shadowRoot;\r\n                if (state.renderedMode === 'svg') {\r\n                    // Update root node\r\n                    try {\r\n                        root.lastChild.setCurrentTime(0);\r\n                        return;\r\n                        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n                    }\r\n                    catch (err) {\r\n                        // Failed: setCurrentTime() is not supported\r\n                    }\r\n                }\r\n                renderIcon(root, state);\r\n            }\r\n        }\r\n        /**\r\n         * Get status\r\n         */\r\n        get status() {\r\n            const state = this._state;\r\n            return state.rendered\r\n                ? 'rendered'\r\n                : state.icon.data === null\r\n                    ? 'failed'\r\n                    : 'loading';\r\n        }\r\n        /**\r\n         * Queue attributes re-check\r\n         */\r\n        _queueCheck() {\r\n            if (!this._checkQueued) {\r\n                this._checkQueued = true;\r\n                setTimeout(() => {\r\n                    this._check();\r\n                });\r\n            }\r\n        }\r\n        /**\r\n         * Check for changes\r\n         */\r\n        _check() {\r\n            if (!this._checkQueued) {\r\n                return;\r\n            }\r\n            this._checkQueued = false;\r\n            const state = this._state;\r\n            // Get icon\r\n            const newIcon = this.getAttribute('icon');\r\n            if (newIcon !== state.icon.value) {\r\n                this._iconChanged(newIcon);\r\n                return;\r\n            }\r\n            // Ignore other attributes if icon is not rendered\r\n            if (!state.rendered || !this._visible) {\r\n                return;\r\n            }\r\n            // Check for mode and attribute changes\r\n            const mode = this.getAttribute('mode');\r\n            const customisations = getCustomisations(this);\r\n            if (state.attrMode !== mode ||\r\n                haveCustomisationsChanged(state.customisations, customisations) ||\r\n                !findIconElement(this._shadowRoot)) {\r\n                this._renderIcon(state.icon, customisations, mode);\r\n            }\r\n        }\r\n        /**\r\n         * Icon value has changed\r\n         */\r\n        _iconChanged(newValue) {\r\n            const icon = parseIconValue(newValue, (value, name, data) => {\r\n                // Asynchronous callback: re-check values to make sure stuff wasn't changed\r\n                const state = this._state;\r\n                if (state.rendered || this.getAttribute('icon') !== value) {\r\n                    // Icon data is already available or icon attribute was changed\r\n                    return;\r\n                }\r\n                // Change icon\r\n                const icon = {\r\n                    value,\r\n                    name,\r\n                    data,\r\n                };\r\n                if (icon.data) {\r\n                    // Render icon\r\n                    this._gotIconData(icon);\r\n                }\r\n                else {\r\n                    // Nothing to render: update icon in state\r\n                    state.icon = icon;\r\n                }\r\n            });\r\n            if (icon.data) {\r\n                // Icon is ready to render\r\n                this._gotIconData(icon);\r\n            }\r\n            else {\r\n                // Pending icon\r\n                this._state = setPendingState(icon, this._state.inline, this._state);\r\n            }\r\n        }\r\n        /**\r\n         * Force render icon on state change\r\n         */\r\n        _forceRender() {\r\n            if (!this._visible) {\r\n                // Remove icon\r\n                const node = findIconElement(this._shadowRoot);\r\n                if (node) {\r\n                    this._shadowRoot.removeChild(node);\r\n                }\r\n                return;\r\n            }\r\n            // Re-render icon\r\n            this._queueCheck();\r\n        }\r\n        /**\r\n         * Got new icon data, icon is ready to (re)render\r\n         */\r\n        _gotIconData(icon) {\r\n            this._checkQueued = false;\r\n            this._renderIcon(icon, getCustomisations(this), this.getAttribute('mode'));\r\n        }\r\n        /**\r\n         * Re-render based on icon data\r\n         */\r\n        _renderIcon(icon, customisations, attrMode) {\r\n            // Get mode\r\n            const renderedMode = getRenderMode(icon.data.body, attrMode);\r\n            // Inline was not changed\r\n            const inline = this._state.inline;\r\n            // Set state and render\r\n            renderIcon(this._shadowRoot, (this._state = {\r\n                rendered: true,\r\n                icon,\r\n                inline,\r\n                customisations,\r\n                attrMode,\r\n                renderedMode,\r\n            }));\r\n        }\r\n        /**\r\n         * Start observer\r\n         */\r\n        startObserver() {\r\n            if (!this._observer && !this.hasAttribute('noobserver')) {\r\n                try {\r\n                    this._observer = new IntersectionObserver((entries) => {\r\n                        const intersecting = entries.some((entry) => entry.isIntersecting);\r\n                        if (intersecting !== this._visible) {\r\n                            this._visible = intersecting;\r\n                            this._forceRender();\r\n                        }\r\n                    });\r\n                    this._observer.observe(this);\r\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n                }\r\n                catch (err) {\r\n                    // Something went wrong, possibly observer is not supported\r\n                    if (this._observer) {\r\n                        try {\r\n                            this._observer.disconnect();\r\n                            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n                        }\r\n                        catch (err) {\r\n                            //\r\n                        }\r\n                        this._observer = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        /**\r\n         * Stop observer\r\n         */\r\n        stopObserver() {\r\n            if (this._observer) {\r\n                this._observer.disconnect();\r\n                this._observer = null;\r\n                this._visible = true;\r\n                if (this._connected) {\r\n                    // Render icon\r\n                    this._forceRender();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    // Add getters and setters\r\n    attributes.forEach((attr) => {\r\n        if (!(attr in IconifyIcon.prototype)) {\r\n            Object.defineProperty(IconifyIcon.prototype, attr, {\r\n                get: function () {\r\n                    return this.getAttribute(attr);\r\n                },\r\n                set: function (value) {\r\n                    if (value !== null) {\r\n                        this.setAttribute(attr, value);\r\n                    }\r\n                    else {\r\n                        this.removeAttribute(attr);\r\n                    }\r\n                },\r\n            });\r\n        }\r\n    });\r\n    // Add exported functions: both as static and instance methods\r\n    const functions = exportFunctions();\r\n    for (const key in functions) {\r\n        IconifyIcon[key] = IconifyIcon.prototype[key] = functions[key];\r\n    }\r\n    // Define new component\r\n    customElements.define(name, IconifyIcon);\r\n    return IconifyIcon;\r\n}\r\n\r\n/**\r\n * Create exported data: either component instance or functions\r\n */\r\nconst IconifyIconComponent = defineIconifyIcon() || exportFunctions();\r\n/**\r\n * Export functions\r\n */\r\nconst { iconLoaded, getIcon, listIcons, addIcon, addCollection, calculateSize, buildIcon, iconToHTML, svgToURL, loadIcons, loadIcon, setCustomIconLoader, setCustomIconsLoader, addAPIProvider, _api, } = IconifyIconComponent;\r\n\r\nexport { IconifyIconComponent, _api, addAPIProvider, addCollection, addIcon, appendCustomStyle, buildIcon, calculateSize, getIcon, iconLoaded, iconToHTML, listIcons, loadIcon, loadIcons, setCustomIconLoader, setCustomIconsLoader, svgToURL };\r\n"],
  "mappings": "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",
  "names": ["storage", "simpleNames", "send", "data", "_api", "name", "icon", "err"]
}
